var Kie=Object.defineProperty;var Xie=(o,b,y)=>b in o?Kie(o,b,{enumerable:!0,configurable:!0,writable:!0,value:y}):o[b]=y;var pl=(o,b,y)=>(Xie(o,typeof b!="symbol"?b+"":b,y),y),Jie=(o,b,y)=>{if(!b.has(o))throw TypeError("Cannot "+y)};var DJ=(o,b,y)=>{if(b.has(o))throw TypeError("Cannot add the same private member more than once");b instanceof WeakSet?b.add(o):b.set(o,y)};var zF=(o,b,y)=>(Jie(o,b,"access private method"),y);(function(){const b=document.createElement("link").relList;if(b&&b.supports&&b.supports("modulepreload"))return;for(const G of document.querySelectorAll('link[rel="modulepreload"]'))T(G);new MutationObserver(G=>{for(const V of G)if(V.type==="childList")for(const L of V.addedNodes)L.tagName==="LINK"&&L.rel==="modulepreload"&&T(L)}).observe(document,{childList:!0,subtree:!0});function y(G){const V={};return G.integrity&&(V.integrity=G.integrity),G.referrerPolicy&&(V.referrerPolicy=G.referrerPolicy),G.crossOrigin==="use-credentials"?V.credentials="include":G.crossOrigin==="anonymous"?V.credentials="omit":V.credentials="same-origin",V}function T(G){if(G.ep)return;G.ep=!0;const V=y(G);fetch(G.href,V)}})();function Ure(o,b){return function(){return o.apply(b,arguments)}}const{toString:Qie}=Object.prototype,{getPrototypeOf:NQ}=Object,IB=(o=>b=>{const y=Qie.call(b);return o[y]||(o[y]=y.slice(8,-1).toLowerCase())})(Object.create(null)),E0=o=>(o=o.toLowerCase(),b=>IB(b)===o),NB=o=>b=>typeof b===o,{isArray:LE}=Array,E6=NB("undefined");function qie(o){return o!==null&&!E6(o)&&o.constructor!==null&&!E6(o.constructor)&&pg(o.constructor.isBuffer)&&o.constructor.isBuffer(o)}const Wre=E0("ArrayBuffer");function ele(o){let b;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?b=ArrayBuffer.isView(o):b=o&&o.buffer&&Wre(o.buffer),b}const tle=NB("string"),pg=NB("function"),Gre=NB("number"),FB=o=>o!==null&&typeof o=="object",nle=o=>o===!0||o===!1,tB=o=>{if(IB(o)!=="object")return!1;const b=NQ(o);return(b===null||b===Object.prototype||Object.getPrototypeOf(b)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)},rle=E0("Date"),ole=E0("File"),ale=E0("Blob"),sle=E0("FileList"),ile=o=>FB(o)&&pg(o.pipe),lle=o=>{let b;return o&&(typeof FormData=="function"&&o instanceof FormData||pg(o.append)&&((b=IB(o))==="formdata"||b==="object"&&pg(o.toString)&&o.toString()==="[object FormData]"))},cle=E0("URLSearchParams"),ule=o=>o.trim?o.trim():o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function W6(o,b,{allOwnKeys:y=!1}={}){if(o===null||typeof o>"u")return;let T,G;if(typeof o!="object"&&(o=[o]),LE(o))for(T=0,G=o.length;T<G;T++)b.call(null,o[T],T,o);else{const V=y?Object.getOwnPropertyNames(o):Object.keys(o),L=V.length;let A;for(T=0;T<L;T++)A=V[T],b.call(null,o[A],A,o)}}function Zre(o,b){b=b.toLowerCase();const y=Object.keys(o);let T=y.length,G;for(;T-- >0;)if(G=y[T],b===G.toLowerCase())return G;return null}const jre=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Yre=o=>!E6(o)&&o!==jre;function tQ(){const{caseless:o}=Yre(this)&&this||{},b={},y=(T,G)=>{const V=o&&Zre(b,G)||G;tB(b[V])&&tB(T)?b[V]=tQ(b[V],T):tB(T)?b[V]=tQ({},T):LE(T)?b[V]=T.slice():b[V]=T};for(let T=0,G=arguments.length;T<G;T++)arguments[T]&&W6(arguments[T],y);return b}const fle=(o,b,y,{allOwnKeys:T}={})=>(W6(b,(G,V)=>{y&&pg(G)?o[V]=Ure(G,y):o[V]=G},{allOwnKeys:T}),o),dle=o=>(o.charCodeAt(0)===65279&&(o=o.slice(1)),o),hle=(o,b,y,T)=>{o.prototype=Object.create(b.prototype,T),o.prototype.constructor=o,Object.defineProperty(o,"super",{value:b.prototype}),y&&Object.assign(o.prototype,y)},mle=(o,b,y,T)=>{let G,V,L;const A={};if(b=b||{},o==null)return b;do{for(G=Object.getOwnPropertyNames(o),V=G.length;V-- >0;)L=G[V],(!T||T(L,o,b))&&!A[L]&&(b[L]=o[L],A[L]=!0);o=y!==!1&&NQ(o)}while(o&&(!y||y(o,b))&&o!==Object.prototype);return b},gle=(o,b,y)=>{o=String(o),(y===void 0||y>o.length)&&(y=o.length),y-=b.length;const T=o.indexOf(b,y);return T!==-1&&T===y},ple=o=>{if(!o)return null;if(LE(o))return o;let b=o.length;if(!Gre(b))return null;const y=new Array(b);for(;b-- >0;)y[b]=o[b];return y},vle=(o=>b=>o&&b instanceof o)(typeof Uint8Array<"u"&&NQ(Uint8Array)),yle=(o,b)=>{const T=(o&&o[Symbol.iterator]).call(o);let G;for(;(G=T.next())&&!G.done;){const V=G.value;b.call(o,V[0],V[1])}},ble=(o,b)=>{let y;const T=[];for(;(y=o.exec(b))!==null;)T.push(y);return T},xle=E0("HTMLFormElement"),wle=o=>o.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(y,T,G){return T.toUpperCase()+G}),Ite=(({hasOwnProperty:o})=>(b,y)=>o.call(b,y))(Object.prototype),Cle=E0("RegExp"),Kre=(o,b)=>{const y=Object.getOwnPropertyDescriptors(o),T={};W6(y,(G,V)=>{let L;(L=b(G,V,o))!==!1&&(T[V]=L||G)}),Object.defineProperties(o,T)},Sle=o=>{Kre(o,(b,y)=>{if(pg(o)&&["arguments","caller","callee"].indexOf(y)!==-1)return!1;const T=o[y];if(pg(T)){if(b.enumerable=!1,"writable"in b){b.writable=!1;return}b.set||(b.set=()=>{throw Error("Can not rewrite read-only method '"+y+"'")})}})},Tle=(o,b)=>{const y={},T=G=>{G.forEach(V=>{y[V]=!0})};return LE(o)?T(o):T(String(o).split(b)),y},kle=()=>{},Ale=(o,b)=>(o=+o,Number.isFinite(o)?o:b),$J="abcdefghijklmnopqrstuvwxyz",Nte="0123456789",Xre={DIGIT:Nte,ALPHA:$J,ALPHA_DIGIT:$J+$J.toUpperCase()+Nte},Mle=(o=16,b=Xre.ALPHA_DIGIT)=>{let y="";const{length:T}=b;for(;o--;)y+=b[Math.random()*T|0];return y};function Ele(o){return!!(o&&pg(o.append)&&o[Symbol.toStringTag]==="FormData"&&o[Symbol.iterator])}const _le=o=>{const b=new Array(10),y=(T,G)=>{if(FB(T)){if(b.indexOf(T)>=0)return;if(!("toJSON"in T)){b[G]=T;const V=LE(T)?[]:{};return W6(T,(L,A)=>{const s=y(L,G+1);!E6(s)&&(V[A]=s)}),b[G]=void 0,V}}return T};return y(o,0)},Rle=E0("AsyncFunction"),Lle=o=>o&&(FB(o)||pg(o))&&pg(o.then)&&pg(o.catch),Pr={isArray:LE,isArrayBuffer:Wre,isBuffer:qie,isFormData:lle,isArrayBufferView:ele,isString:tle,isNumber:Gre,isBoolean:nle,isObject:FB,isPlainObject:tB,isUndefined:E6,isDate:rle,isFile:ole,isBlob:ale,isRegExp:Cle,isFunction:pg,isStream:ile,isURLSearchParams:cle,isTypedArray:vle,isFileList:sle,forEach:W6,merge:tQ,extend:fle,trim:ule,stripBOM:dle,inherits:hle,toFlatObject:mle,kindOf:IB,kindOfTest:E0,endsWith:gle,toArray:ple,forEachEntry:yle,matchAll:ble,isHTMLForm:xle,hasOwnProperty:Ite,hasOwnProp:Ite,reduceDescriptors:Kre,freezeMethods:Sle,toObjectSet:Tle,toCamelCase:wle,noop:kle,toFiniteNumber:Ale,findKey:Zre,global:jre,isContextDefined:Yre,ALPHABET:Xre,generateString:Mle,isSpecCompliantForm:Ele,toJSONObject:_le,isAsyncFn:Rle,isThenable:Lle};function Zs(o,b,y,T,G){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=o,this.name="AxiosError",b&&(this.code=b),y&&(this.config=y),T&&(this.request=T),G&&(this.response=G)}Pr.inherits(Zs,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pr.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Jre=Zs.prototype,Qre={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(o=>{Qre[o]={value:o}});Object.defineProperties(Zs,Qre);Object.defineProperty(Jre,"isAxiosError",{value:!0});Zs.from=(o,b,y,T,G,V)=>{const L=Object.create(Jre);return Pr.toFlatObject(o,L,function(s){return s!==Error.prototype},A=>A!=="isAxiosError"),Zs.call(L,o.message,b,y,T,G),L.cause=o,L.name=o.name,V&&Object.assign(L,V),L};const Dle=null;function nQ(o){return Pr.isPlainObject(o)||Pr.isArray(o)}function qre(o){return Pr.endsWith(o,"[]")?o.slice(0,-2):o}function Fte(o,b,y){return o?o.concat(b).map(function(G,V){return G=qre(G),!y&&V?"["+G+"]":G}).join(y?".":""):b}function $le(o){return Pr.isArray(o)&&!o.some(nQ)}const Ole=Pr.toFlatObject(Pr,{},null,function(b){return/^is[A-Z]/.test(b)});function BB(o,b,y){if(!Pr.isObject(o))throw new TypeError("target must be an object");b=b||new FormData,y=Pr.toFlatObject(y,{metaTokens:!0,dots:!1,indexes:!1},!1,function(d,g){return!Pr.isUndefined(g[d])});const T=y.metaTokens,G=y.visitor||h,V=y.dots,L=y.indexes,s=(y.Blob||typeof Blob<"u"&&Blob)&&Pr.isSpecCompliantForm(b);if(!Pr.isFunction(G))throw new TypeError("visitor must be a function");function m(u){if(u===null)return"";if(Pr.isDate(u))return u.toISOString();if(!s&&Pr.isBlob(u))throw new Zs("Blob is not supported. Use a Buffer instead.");return Pr.isArrayBuffer(u)||Pr.isTypedArray(u)?s&&typeof Blob=="function"?new Blob([u]):Buffer.from(u):u}function h(u,d,g){let v=u;if(u&&!g&&typeof u=="object"){if(Pr.endsWith(d,"{}"))d=T?d:d.slice(0,-2),u=JSON.stringify(u);else if(Pr.isArray(u)&&$le(u)||(Pr.isFileList(u)||Pr.endsWith(d,"[]"))&&(v=Pr.toArray(u)))return d=qre(d),v.forEach(function(C,_){!(Pr.isUndefined(C)||C===null)&&b.append(L===!0?Fte([d],_,V):L===null?d:d+"[]",m(C))}),!1}return nQ(u)?!0:(b.append(Fte(g,d,V),m(u)),!1)}const l=[],c=Object.assign(Ole,{defaultVisitor:h,convertValue:m,isVisitable:nQ});function i(u,d){if(!Pr.isUndefined(u)){if(l.indexOf(u)!==-1)throw Error("Circular reference detected in "+d.join("."));l.push(u),Pr.forEach(u,function(v,x){(!(Pr.isUndefined(v)||v===null)&&G.call(b,v,Pr.isString(x)?x.trim():x,d,c))===!0&&i(v,d?d.concat(x):[x])}),l.pop()}}if(!Pr.isObject(o))throw new TypeError("data must be an object");return i(o),b}function Bte(o){const b={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(o).replace(/[!'()~]|%20|%00/g,function(T){return b[T]})}function FQ(o,b){this._pairs=[],o&&BB(o,this,b)}const eoe=FQ.prototype;eoe.append=function(b,y){this._pairs.push([b,y])};eoe.toString=function(b){const y=b?function(T){return b.call(this,T,Bte)}:Bte;return this._pairs.map(function(G){return y(G[0])+"="+y(G[1])},"").join("&")};function Ple(o){return encodeURIComponent(o).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function toe(o,b,y){if(!b)return o;const T=y&&y.encode||Ple,G=y&&y.serialize;let V;if(G?V=G(b,y):V=Pr.isURLSearchParams(b)?b.toString():new FQ(b,y).toString(T),V){const L=o.indexOf("#");L!==-1&&(o=o.slice(0,L)),o+=(o.indexOf("?")===-1?"?":"&")+V}return o}class Ile{constructor(){this.handlers=[]}use(b,y,T){return this.handlers.push({fulfilled:b,rejected:y,synchronous:T?T.synchronous:!1,runWhen:T?T.runWhen:null}),this.handlers.length-1}eject(b){this.handlers[b]&&(this.handlers[b]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(b){Pr.forEach(this.handlers,function(T){T!==null&&b(T)})}}const Hte=Ile,noe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Nle=typeof URLSearchParams<"u"?URLSearchParams:FQ,Fle=typeof FormData<"u"?FormData:null,Ble=typeof Blob<"u"?Blob:null,Hle={isBrowser:!0,classes:{URLSearchParams:Nle,FormData:Fle,Blob:Ble},protocols:["http","https","file","blob","url","data"]},roe=typeof window<"u"&&typeof document<"u",zle=(o=>roe&&["ReactNative","NativeScript","NS"].indexOf(o)<0)(typeof navigator<"u"&&navigator.product),Vle=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ule=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:roe,hasStandardBrowserEnv:zle,hasStandardBrowserWebWorkerEnv:Vle},Symbol.toStringTag,{value:"Module"})),w0={...Ule,...Hle};function Wle(o,b){return BB(o,new w0.classes.URLSearchParams,Object.assign({visitor:function(y,T,G,V){return w0.isNode&&Pr.isBuffer(y)?(this.append(T,y.toString("base64")),!1):V.defaultVisitor.apply(this,arguments)}},b))}function Gle(o){return Pr.matchAll(/\w+|\[(\w*)]/g,o).map(b=>b[0]==="[]"?"":b[1]||b[0])}function Zle(o){const b={},y=Object.keys(o);let T;const G=y.length;let V;for(T=0;T<G;T++)V=y[T],b[V]=o[V];return b}function ooe(o){function b(y,T,G,V){let L=y[V++];const A=Number.isFinite(+L),s=V>=y.length;return L=!L&&Pr.isArray(G)?G.length:L,s?(Pr.hasOwnProp(G,L)?G[L]=[G[L],T]:G[L]=T,!A):((!G[L]||!Pr.isObject(G[L]))&&(G[L]=[]),b(y,T,G[L],V)&&Pr.isArray(G[L])&&(G[L]=Zle(G[L])),!A)}if(Pr.isFormData(o)&&Pr.isFunction(o.entries)){const y={};return Pr.forEachEntry(o,(T,G)=>{b(Gle(T),G,y,0)}),y}return null}function jle(o,b,y){if(Pr.isString(o))try{return(b||JSON.parse)(o),Pr.trim(o)}catch(T){if(T.name!=="SyntaxError")throw T}return(y||JSON.stringify)(o)}const BQ={transitional:noe,adapter:["xhr","http"],transformRequest:[function(b,y){const T=y.getContentType()||"",G=T.indexOf("application/json")>-1,V=Pr.isObject(b);if(V&&Pr.isHTMLForm(b)&&(b=new FormData(b)),Pr.isFormData(b))return G&&G?JSON.stringify(ooe(b)):b;if(Pr.isArrayBuffer(b)||Pr.isBuffer(b)||Pr.isStream(b)||Pr.isFile(b)||Pr.isBlob(b))return b;if(Pr.isArrayBufferView(b))return b.buffer;if(Pr.isURLSearchParams(b))return y.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),b.toString();let A;if(V){if(T.indexOf("application/x-www-form-urlencoded")>-1)return Wle(b,this.formSerializer).toString();if((A=Pr.isFileList(b))||T.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return BB(A?{"files[]":b}:b,s&&new s,this.formSerializer)}}return V||G?(y.setContentType("application/json",!1),jle(b)):b}],transformResponse:[function(b){const y=this.transitional||BQ.transitional,T=y&&y.forcedJSONParsing,G=this.responseType==="json";if(b&&Pr.isString(b)&&(T&&!this.responseType||G)){const L=!(y&&y.silentJSONParsing)&&G;try{return JSON.parse(b)}catch(A){if(L)throw A.name==="SyntaxError"?Zs.from(A,Zs.ERR_BAD_RESPONSE,this,null,this.response):A}}return b}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:w0.classes.FormData,Blob:w0.classes.Blob},validateStatus:function(b){return b>=200&&b<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pr.forEach(["delete","get","head","post","put","patch"],o=>{BQ.headers[o]={}});const HQ=BQ,Yle=Pr.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Kle=o=>{const b={};let y,T,G;return o&&o.split(`
`).forEach(function(L){G=L.indexOf(":"),y=L.substring(0,G).trim().toLowerCase(),T=L.substring(G+1).trim(),!(!y||b[y]&&Yle[y])&&(y==="set-cookie"?b[y]?b[y].push(T):b[y]=[T]:b[y]=b[y]?b[y]+", "+T:T)}),b},zte=Symbol("internals");function p6(o){return o&&String(o).trim().toLowerCase()}function nB(o){return o===!1||o==null?o:Pr.isArray(o)?o.map(nB):String(o)}function Xle(o){const b=Object.create(null),y=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let T;for(;T=y.exec(o);)b[T[1]]=T[2];return b}const Jle=o=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(o.trim());function OJ(o,b,y,T,G){if(Pr.isFunction(T))return T.call(this,b,y);if(G&&(b=y),!!Pr.isString(b)){if(Pr.isString(T))return b.indexOf(T)!==-1;if(Pr.isRegExp(T))return T.test(b)}}function Qle(o){return o.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(b,y,T)=>y.toUpperCase()+T)}function qle(o,b){const y=Pr.toCamelCase(" "+b);["get","set","has"].forEach(T=>{Object.defineProperty(o,T+y,{value:function(G,V,L){return this[T].call(this,b,G,V,L)},configurable:!0})})}class HB{constructor(b){b&&this.set(b)}set(b,y,T){const G=this;function V(A,s,m){const h=p6(s);if(!h)throw new Error("header name must be a non-empty string");const l=Pr.findKey(G,h);(!l||G[l]===void 0||m===!0||m===void 0&&G[l]!==!1)&&(G[l||s]=nB(A))}const L=(A,s)=>Pr.forEach(A,(m,h)=>V(m,h,s));return Pr.isPlainObject(b)||b instanceof this.constructor?L(b,y):Pr.isString(b)&&(b=b.trim())&&!Jle(b)?L(Kle(b),y):b!=null&&V(y,b,T),this}get(b,y){if(b=p6(b),b){const T=Pr.findKey(this,b);if(T){const G=this[T];if(!y)return G;if(y===!0)return Xle(G);if(Pr.isFunction(y))return y.call(this,G,T);if(Pr.isRegExp(y))return y.exec(G);throw new TypeError("parser must be boolean|regexp|function")}}}has(b,y){if(b=p6(b),b){const T=Pr.findKey(this,b);return!!(T&&this[T]!==void 0&&(!y||OJ(this,this[T],T,y)))}return!1}delete(b,y){const T=this;let G=!1;function V(L){if(L=p6(L),L){const A=Pr.findKey(T,L);A&&(!y||OJ(T,T[A],A,y))&&(delete T[A],G=!0)}}return Pr.isArray(b)?b.forEach(V):V(b),G}clear(b){const y=Object.keys(this);let T=y.length,G=!1;for(;T--;){const V=y[T];(!b||OJ(this,this[V],V,b,!0))&&(delete this[V],G=!0)}return G}normalize(b){const y=this,T={};return Pr.forEach(this,(G,V)=>{const L=Pr.findKey(T,V);if(L){y[L]=nB(G),delete y[V];return}const A=b?Qle(V):String(V).trim();A!==V&&delete y[V],y[A]=nB(G),T[A]=!0}),this}concat(...b){return this.constructor.concat(this,...b)}toJSON(b){const y=Object.create(null);return Pr.forEach(this,(T,G)=>{T!=null&&T!==!1&&(y[G]=b&&Pr.isArray(T)?T.join(", "):T)}),y}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([b,y])=>b+": "+y).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(b){return b instanceof this?b:new this(b)}static concat(b,...y){const T=new this(b);return y.forEach(G=>T.set(G)),T}static accessor(b){const T=(this[zte]=this[zte]={accessors:{}}).accessors,G=this.prototype;function V(L){const A=p6(L);T[A]||(qle(G,L),T[A]=!0)}return Pr.isArray(b)?b.forEach(V):V(b),this}}HB.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pr.reduceDescriptors(HB.prototype,({value:o},b)=>{let y=b[0].toUpperCase()+b.slice(1);return{get:()=>o,set(T){this[y]=T}}});Pr.freezeMethods(HB);const Ny=HB;function PJ(o,b){const y=this||HQ,T=b||y,G=Ny.from(T.headers);let V=T.data;return Pr.forEach(o,function(A){V=A.call(y,V,G.normalize(),b?b.status:void 0)}),G.normalize(),V}function aoe(o){return!!(o&&o.__CANCEL__)}function G6(o,b,y){Zs.call(this,o??"canceled",Zs.ERR_CANCELED,b,y),this.name="CanceledError"}Pr.inherits(G6,Zs,{__CANCEL__:!0});function ece(o,b,y){const T=y.config.validateStatus;!y.status||!T||T(y.status)?o(y):b(new Zs("Request failed with status code "+y.status,[Zs.ERR_BAD_REQUEST,Zs.ERR_BAD_RESPONSE][Math.floor(y.status/100)-4],y.config,y.request,y))}const tce=w0.hasStandardBrowserEnv?{write(o,b,y,T,G,V){const L=[o+"="+encodeURIComponent(b)];Pr.isNumber(y)&&L.push("expires="+new Date(y).toGMTString()),Pr.isString(T)&&L.push("path="+T),Pr.isString(G)&&L.push("domain="+G),V===!0&&L.push("secure"),document.cookie=L.join("; ")},read(o){const b=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return b?decodeURIComponent(b[3]):null},remove(o){this.write(o,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function nce(o){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(o)}function rce(o,b){return b?o.replace(/\/+$/,"")+"/"+b.replace(/^\/+/,""):o}function soe(o,b){return o&&!nce(b)?rce(o,b):b}const oce=w0.hasStandardBrowserEnv?function(){const b=/(msie|trident)/i.test(navigator.userAgent),y=document.createElement("a");let T;function G(V){let L=V;return b&&(y.setAttribute("href",L),L=y.href),y.setAttribute("href",L),{href:y.href,protocol:y.protocol?y.protocol.replace(/:$/,""):"",host:y.host,search:y.search?y.search.replace(/^\?/,""):"",hash:y.hash?y.hash.replace(/^#/,""):"",hostname:y.hostname,port:y.port,pathname:y.pathname.charAt(0)==="/"?y.pathname:"/"+y.pathname}}return T=G(window.location.href),function(L){const A=Pr.isString(L)?G(L):L;return A.protocol===T.protocol&&A.host===T.host}}():function(){return function(){return!0}}();function sce(o){const b=/^([-+\w]{1,25})(:?\/\/|:)/.exec(o);return b&&b[1]||""}function ice(o,b){o=o||10;const y=new Array(o),T=new Array(o);let G=0,V=0,L;return b=b!==void 0?b:1e3,function(s){const m=Date.now(),h=T[V];L||(L=m),y[G]=s,T[G]=m;let l=V,c=0;for(;l!==G;)c+=y[l++],l=l%o;if(G=(G+1)%o,G===V&&(V=(V+1)%o),m-L<b)return;const i=h&&m-h;return i?Math.round(c*1e3/i):void 0}}function Vte(o,b){let y=0;const T=ice(50,250);return G=>{const V=G.loaded,L=G.lengthComputable?G.total:void 0,A=V-y,s=T(A),m=V<=L;y=V;const h={loaded:V,total:L,progress:L?V/L:void 0,bytes:A,rate:s||void 0,estimated:s&&L&&m?(L-V)/s:void 0,event:G};h[b?"download":"upload"]=!0,o(h)}}const lce=typeof XMLHttpRequest<"u",cce=lce&&function(o){return new Promise(function(y,T){let G=o.data;const V=Ny.from(o.headers).normalize();let{responseType:L,withXSRFToken:A}=o,s;function m(){o.cancelToken&&o.cancelToken.unsubscribe(s),o.signal&&o.signal.removeEventListener("abort",s)}let h;if(Pr.isFormData(G)){if(w0.hasStandardBrowserEnv||w0.hasStandardBrowserWebWorkerEnv)V.setContentType(!1);else if((h=V.getContentType())!==!1){const[d,...g]=h?h.split(";").map(v=>v.trim()).filter(Boolean):[];V.setContentType([d||"multipart/form-data",...g].join("; "))}}let l=new XMLHttpRequest;if(o.auth){const d=o.auth.username||"",g=o.auth.password?unescape(encodeURIComponent(o.auth.password)):"";V.set("Authorization","Basic "+btoa(d+":"+g))}const c=soe(o.baseURL,o.url);l.open(o.method.toUpperCase(),toe(c,o.params,o.paramsSerializer),!0),l.timeout=o.timeout;function i(){if(!l)return;const d=Ny.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),v={data:!L||L==="text"||L==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:d,config:o,request:l};ece(function(C){y(C),m()},function(C){T(C),m()},v),l=null}if("onloadend"in l?l.onloadend=i:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(i)},l.onabort=function(){l&&(T(new Zs("Request aborted",Zs.ECONNABORTED,o,l)),l=null)},l.onerror=function(){T(new Zs("Network Error",Zs.ERR_NETWORK,o,l)),l=null},l.ontimeout=function(){let g=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const v=o.transitional||noe;o.timeoutErrorMessage&&(g=o.timeoutErrorMessage),T(new Zs(g,v.clarifyTimeoutError?Zs.ETIMEDOUT:Zs.ECONNABORTED,o,l)),l=null},w0.hasStandardBrowserEnv&&(A&&Pr.isFunction(A)&&(A=A(o)),A||A!==!1&&oce(c))){const d=o.xsrfHeaderName&&o.xsrfCookieName&&tce.read(o.xsrfCookieName);d&&V.set(o.xsrfHeaderName,d)}G===void 0&&V.setContentType(null),"setRequestHeader"in l&&Pr.forEach(V.toJSON(),function(g,v){l.setRequestHeader(v,g)}),Pr.isUndefined(o.withCredentials)||(l.withCredentials=!!o.withCredentials),L&&L!=="json"&&(l.responseType=o.responseType),typeof o.onDownloadProgress=="function"&&l.addEventListener("progress",Vte(o.onDownloadProgress,!0)),typeof o.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",Vte(o.onUploadProgress)),(o.cancelToken||o.signal)&&(s=d=>{l&&(T(!d||d.type?new G6(null,o,l):d),l.abort(),l=null)},o.cancelToken&&o.cancelToken.subscribe(s),o.signal&&(o.signal.aborted?s():o.signal.addEventListener("abort",s)));const u=sce(c);if(u&&w0.protocols.indexOf(u)===-1){T(new Zs("Unsupported protocol "+u+":",Zs.ERR_BAD_REQUEST,o));return}l.send(G||null)})},rQ={http:Dle,xhr:cce};Pr.forEach(rQ,(o,b)=>{if(o){try{Object.defineProperty(o,"name",{value:b})}catch{}Object.defineProperty(o,"adapterName",{value:b})}});const Ute=o=>`- ${o}`,uce=o=>Pr.isFunction(o)||o===null||o===!1,ioe={getAdapter:o=>{o=Pr.isArray(o)?o:[o];const{length:b}=o;let y,T;const G={};for(let V=0;V<b;V++){y=o[V];let L;if(T=y,!uce(y)&&(T=rQ[(L=String(y)).toLowerCase()],T===void 0))throw new Zs(`Unknown adapter '${L}'`);if(T)break;G[L||"#"+V]=T}if(!T){const V=Object.entries(G).map(([A,s])=>`adapter ${A} `+(s===!1?"is not supported by the environment":"is not available in the build"));let L=b?V.length>1?`since :
`+V.map(Ute).join(`
`):" "+Ute(V[0]):"as no adapter specified";throw new Zs("There is no suitable adapter to dispatch the request "+L,"ERR_NOT_SUPPORT")}return T},adapters:rQ};function IJ(o){if(o.cancelToken&&o.cancelToken.throwIfRequested(),o.signal&&o.signal.aborted)throw new G6(null,o)}function Wte(o){return IJ(o),o.headers=Ny.from(o.headers),o.data=PJ.call(o,o.transformRequest),["post","put","patch"].indexOf(o.method)!==-1&&o.headers.setContentType("application/x-www-form-urlencoded",!1),ioe.getAdapter(o.adapter||HQ.adapter)(o).then(function(T){return IJ(o),T.data=PJ.call(o,o.transformResponse,T),T.headers=Ny.from(T.headers),T},function(T){return aoe(T)||(IJ(o),T&&T.response&&(T.response.data=PJ.call(o,o.transformResponse,T.response),T.response.headers=Ny.from(T.response.headers))),Promise.reject(T)})}const Gte=o=>o instanceof Ny?o.toJSON():o;function CE(o,b){b=b||{};const y={};function T(m,h,l){return Pr.isPlainObject(m)&&Pr.isPlainObject(h)?Pr.merge.call({caseless:l},m,h):Pr.isPlainObject(h)?Pr.merge({},h):Pr.isArray(h)?h.slice():h}function G(m,h,l){if(Pr.isUndefined(h)){if(!Pr.isUndefined(m))return T(void 0,m,l)}else return T(m,h,l)}function V(m,h){if(!Pr.isUndefined(h))return T(void 0,h)}function L(m,h){if(Pr.isUndefined(h)){if(!Pr.isUndefined(m))return T(void 0,m)}else return T(void 0,h)}function A(m,h,l){if(l in b)return T(m,h);if(l in o)return T(void 0,m)}const s={url:V,method:V,data:V,baseURL:L,transformRequest:L,transformResponse:L,paramsSerializer:L,timeout:L,timeoutMessage:L,withCredentials:L,withXSRFToken:L,adapter:L,responseType:L,xsrfCookieName:L,xsrfHeaderName:L,onUploadProgress:L,onDownloadProgress:L,decompress:L,maxContentLength:L,maxBodyLength:L,beforeRedirect:L,transport:L,httpAgent:L,httpsAgent:L,cancelToken:L,socketPath:L,responseEncoding:L,validateStatus:A,headers:(m,h)=>G(Gte(m),Gte(h),!0)};return Pr.forEach(Object.keys(Object.assign({},o,b)),function(h){const l=s[h]||G,c=l(o[h],b[h],h);Pr.isUndefined(c)&&l!==A||(y[h]=c)}),y}const loe="1.6.2",zQ={};["object","boolean","number","function","string","symbol"].forEach((o,b)=>{zQ[o]=function(T){return typeof T===o||"a"+(b<1?"n ":" ")+o}});const Zte={};zQ.transitional=function(b,y,T){function G(V,L){return"[Axios v"+loe+"] Transitional option '"+V+"'"+L+(T?". "+T:"")}return(V,L,A)=>{if(b===!1)throw new Zs(G(L," has been removed"+(y?" in "+y:"")),Zs.ERR_DEPRECATED);return y&&!Zte[L]&&(Zte[L]=!0,console.warn(G(L," has been deprecated since v"+y+" and will be removed in the near future"))),b?b(V,L,A):!0}};function fce(o,b,y){if(typeof o!="object")throw new Zs("options must be an object",Zs.ERR_BAD_OPTION_VALUE);const T=Object.keys(o);let G=T.length;for(;G-- >0;){const V=T[G],L=b[V];if(L){const A=o[V],s=A===void 0||L(A,V,o);if(s!==!0)throw new Zs("option "+V+" must be "+s,Zs.ERR_BAD_OPTION_VALUE);continue}if(y!==!0)throw new Zs("Unknown option "+V,Zs.ERR_BAD_OPTION)}}const oQ={assertOptions:fce,validators:zQ},b2=oQ.validators;class fB{constructor(b){this.defaults=b,this.interceptors={request:new Hte,response:new Hte}}request(b,y){typeof b=="string"?(y=y||{},y.url=b):y=b||{},y=CE(this.defaults,y);const{transitional:T,paramsSerializer:G,headers:V}=y;T!==void 0&&oQ.assertOptions(T,{silentJSONParsing:b2.transitional(b2.boolean),forcedJSONParsing:b2.transitional(b2.boolean),clarifyTimeoutError:b2.transitional(b2.boolean)},!1),G!=null&&(Pr.isFunction(G)?y.paramsSerializer={serialize:G}:oQ.assertOptions(G,{encode:b2.function,serialize:b2.function},!0)),y.method=(y.method||this.defaults.method||"get").toLowerCase();let L=V&&Pr.merge(V.common,V[y.method]);V&&Pr.forEach(["delete","get","head","post","put","patch","common"],u=>{delete V[u]}),y.headers=Ny.concat(L,V);const A=[];let s=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(y)===!1||(s=s&&d.synchronous,A.unshift(d.fulfilled,d.rejected))});const m=[];this.interceptors.response.forEach(function(d){m.push(d.fulfilled,d.rejected)});let h,l=0,c;if(!s){const u=[Wte.bind(this),void 0];for(u.unshift.apply(u,A),u.push.apply(u,m),c=u.length,h=Promise.resolve(y);l<c;)h=h.then(u[l++],u[l++]);return h}c=A.length;let i=y;for(l=0;l<c;){const u=A[l++],d=A[l++];try{i=u(i)}catch(g){d.call(this,g);break}}try{h=Wte.call(this,i)}catch(u){return Promise.reject(u)}for(l=0,c=m.length;l<c;)h=h.then(m[l++],m[l++]);return h}getUri(b){b=CE(this.defaults,b);const y=soe(b.baseURL,b.url);return toe(y,b.params,b.paramsSerializer)}}Pr.forEach(["delete","get","head","options"],function(b){fB.prototype[b]=function(y,T){return this.request(CE(T||{},{method:b,url:y,data:(T||{}).data}))}});Pr.forEach(["post","put","patch"],function(b){function y(T){return function(V,L,A){return this.request(CE(A||{},{method:b,headers:T?{"Content-Type":"multipart/form-data"}:{},url:V,data:L}))}}fB.prototype[b]=y(),fB.prototype[b+"Form"]=y(!0)});const rB=fB;class VQ{constructor(b){if(typeof b!="function")throw new TypeError("executor must be a function.");let y;this.promise=new Promise(function(V){y=V});const T=this;this.promise.then(G=>{if(!T._listeners)return;let V=T._listeners.length;for(;V-- >0;)T._listeners[V](G);T._listeners=null}),this.promise.then=G=>{let V;const L=new Promise(A=>{T.subscribe(A),V=A}).then(G);return L.cancel=function(){T.unsubscribe(V)},L},b(function(V,L,A){T.reason||(T.reason=new G6(V,L,A),y(T.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(b){if(this.reason){b(this.reason);return}this._listeners?this._listeners.push(b):this._listeners=[b]}unsubscribe(b){if(!this._listeners)return;const y=this._listeners.indexOf(b);y!==-1&&this._listeners.splice(y,1)}static source(){let b;return{token:new VQ(function(G){b=G}),cancel:b}}}const dce=VQ;function hce(o){return function(y){return o.apply(null,y)}}function mce(o){return Pr.isObject(o)&&o.isAxiosError===!0}const aQ={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(aQ).forEach(([o,b])=>{aQ[b]=o});const gce=aQ;function coe(o){const b=new rB(o),y=Ure(rB.prototype.request,b);return Pr.extend(y,rB.prototype,b,{allOwnKeys:!0}),Pr.extend(y,b,null,{allOwnKeys:!0}),y.create=function(G){return coe(CE(o,G))},y}const Wc=coe(HQ);Wc.Axios=rB;Wc.CanceledError=G6;Wc.CancelToken=dce;Wc.isCancel=aoe;Wc.VERSION=loe;Wc.toFormData=BB;Wc.AxiosError=Zs;Wc.Cancel=Wc.CanceledError;Wc.all=function(b){return Promise.all(b)};Wc.spread=hce;Wc.isAxiosError=mce;Wc.mergeConfig=CE;Wc.AxiosHeaders=Ny;Wc.formToJSON=o=>ooe(Pr.isHTMLForm(o)?new FormData(o):o);Wc.getAdapter=ioe.getAdapter;Wc.HttpStatusCode=gce;Wc.default=Wc;const Oy=Wc;function UQ(o,b){const y=Object.create(null),T=o.split(",");for(let G=0;G<T.length;G++)y[T[G]]=!0;return b?G=>!!y[G.toLowerCase()]:G=>!!y[G]}const vl={},pE=[],Ap=()=>{},pce=()=>!1,vce=/^on[^a-z]/,zB=o=>vce.test(o),WQ=o=>o.startsWith("onUpdate:"),Mc=Object.assign,GQ=(o,b)=>{const y=o.indexOf(b);y>-1&&o.splice(y,1)},yce=Object.prototype.hasOwnProperty,ti=(o,b)=>yce.call(o,b),Pa=Array.isArray,vE=o=>VB(o)==="[object Map]",uoe=o=>VB(o)==="[object Set]",fs=o=>typeof o=="function",hc=o=>typeof o=="string",ZQ=o=>typeof o=="symbol",ol=o=>o!==null&&typeof o=="object",foe=o=>ol(o)&&fs(o.then)&&fs(o.catch),doe=Object.prototype.toString,VB=o=>doe.call(o),bce=o=>VB(o).slice(8,-1),hoe=o=>VB(o)==="[object Object]",jQ=o=>hc(o)&&o!=="NaN"&&o[0]!=="-"&&""+parseInt(o,10)===o,oB=UQ(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),UB=o=>{const b=Object.create(null);return y=>b[y]||(b[y]=o(y))},xce=/-(\w)/g,bg=UB(o=>o.replace(xce,(b,y)=>y?y.toUpperCase():"")),wce=/\B([A-Z])/g,DE=UB(o=>o.replace(wce,"-$1").toLowerCase()),_0=UB(o=>o.charAt(0).toUpperCase()+o.slice(1)),C0=UB(o=>o?`on${_0(o)}`:""),_6=(o,b)=>!Object.is(o,b),aB=(o,b)=>{for(let y=0;y<o.length;y++)o[y](b)},dB=(o,b,y)=>{Object.defineProperty(o,b,{configurable:!0,enumerable:!1,value:y})},sQ=o=>{const b=parseFloat(o);return isNaN(b)?o:b},Cce=o=>{const b=hc(o)?Number(o):NaN;return isNaN(b)?o:b};let jte;const iQ=()=>jte||(jte=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function YQ(o){if(Pa(o)){const b={};for(let y=0;y<o.length;y++){const T=o[y],G=hc(T)?Ace(T):YQ(T);if(G)for(const V in G)b[V]=G[V]}return b}else{if(hc(o))return o;if(ol(o))return o}}const Sce=/;(?![^(]*\))/g,Tce=/:([^]+)/,kce=/\/\*[^]*?\*\//g;function Ace(o){const b={};return o.replace(kce,"").split(Sce).forEach(y=>{if(y){const T=y.split(Tce);T.length>1&&(b[T[0].trim()]=T[1].trim())}}),b}function KQ(o){let b="";if(hc(o))b=o;else if(Pa(o))for(let y=0;y<o.length;y++){const T=KQ(o[y]);T&&(b+=T+" ")}else if(ol(o))for(const y in o)o[y]&&(b+=y+" ");return b.trim()}const Mce="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ece=UQ(Mce);function moe(o){return!!o||o===""}const Sp=o=>hc(o)?o:o==null?"":Pa(o)||ol(o)&&(o.toString===doe||!fs(o.toString))?JSON.stringify(o,goe,2):String(o),goe=(o,b)=>b&&b.__v_isRef?goe(o,b.value):vE(b)?{[`Map(${b.size})`]:[...b.entries()].reduce((y,[T,G])=>(y[`${T} =>`]=G,y),{})}:uoe(b)?{[`Set(${b.size})`]:[...b.values()]}:ol(b)&&!Pa(b)&&!hoe(b)?String(b):b;let rm;class poe{constructor(b=!1){this.detached=b,this._active=!0,this.effects=[],this.cleanups=[],this.parent=rm,!b&&rm&&(this.index=(rm.scopes||(rm.scopes=[])).push(this)-1)}get active(){return this._active}run(b){if(this._active){const y=rm;try{return rm=this,b()}finally{rm=y}}}on(){rm=this}off(){rm=this.parent}stop(b){if(this._active){let y,T;for(y=0,T=this.effects.length;y<T;y++)this.effects[y].stop();for(y=0,T=this.cleanups.length;y<T;y++)this.cleanups[y]();if(this.scopes)for(y=0,T=this.scopes.length;y<T;y++)this.scopes[y].stop(!0);if(!this.detached&&this.parent&&!b){const G=this.parent.scopes.pop();G&&G!==this&&(this.parent.scopes[this.index]=G,G.index=this.index)}this.parent=void 0,this._active=!1}}}function XQ(o){return new poe(o)}function _ce(o,b=rm){b&&b.active&&b.effects.push(o)}function Rce(){return rm}function ch(o){rm&&rm.cleanups.push(o)}const JQ=o=>{const b=new Set(o);return b.w=0,b.n=0,b},voe=o=>(o.w&M2)>0,yoe=o=>(o.n&M2)>0,Lce=({deps:o})=>{if(o.length)for(let b=0;b<o.length;b++)o[b].w|=M2},Dce=o=>{const{deps:b}=o;if(b.length){let y=0;for(let T=0;T<b.length;T++){const G=b[T];voe(G)&&!yoe(G)?G.delete(o):b[y++]=G,G.w&=~M2,G.n&=~M2}b.length=y}},hB=new WeakMap;let w6=0,M2=1;const lQ=30;let Cp;const m3=Symbol(""),cQ=Symbol("");class QQ{constructor(b,y=null,T){this.fn=b,this.scheduler=y,this.active=!0,this.deps=[],this.parent=void 0,_ce(this,T)}run(){if(!this.active)return this.fn();let b=Cp,y=k2;for(;b;){if(b===this)return;b=b.parent}try{return this.parent=Cp,Cp=this,k2=!0,M2=1<<++w6,w6<=lQ?Lce(this):Yte(this),this.fn()}finally{w6<=lQ&&Dce(this),M2=1<<--w6,Cp=this.parent,k2=y,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Cp===this?this.deferStop=!0:this.active&&(Yte(this),this.onStop&&this.onStop(),this.active=!1)}}function Yte(o){const{deps:b}=o;if(b.length){for(let y=0;y<b.length;y++)b[y].delete(o);b.length=0}}let k2=!0;const boe=[];function $E(){boe.push(k2),k2=!1}function OE(){const o=boe.pop();k2=o===void 0?!0:o}function uh(o,b,y){if(k2&&Cp){let T=hB.get(o);T||hB.set(o,T=new Map);let G=T.get(y);G||T.set(y,G=JQ()),xoe(G)}}function xoe(o,b){let y=!1;w6<=lQ?yoe(o)||(o.n|=M2,y=!voe(o)):y=!o.has(Cp),y&&(o.add(Cp),Cp.deps.push(o))}function Fy(o,b,y,T,G,V){const L=hB.get(o);if(!L)return;let A=[];if(b==="clear")A=[...L.values()];else if(y==="length"&&Pa(o)){const s=Number(T);L.forEach((m,h)=>{(h==="length"||h>=s)&&A.push(m)})}else switch(y!==void 0&&A.push(L.get(y)),b){case"add":Pa(o)?jQ(y)&&A.push(L.get("length")):(A.push(L.get(m3)),vE(o)&&A.push(L.get(cQ)));break;case"delete":Pa(o)||(A.push(L.get(m3)),vE(o)&&A.push(L.get(cQ)));break;case"set":vE(o)&&A.push(L.get(m3));break}if(A.length===1)A[0]&&uQ(A[0]);else{const s=[];for(const m of A)m&&s.push(...m);uQ(JQ(s))}}function uQ(o,b){const y=Pa(o)?o:[...o];for(const T of y)T.computed&&Kte(T);for(const T of y)T.computed||Kte(T)}function Kte(o,b){(o!==Cp||o.allowRecurse)&&(o.scheduler?o.scheduler():o.run())}function $ce(o,b){var y;return(y=hB.get(o))==null?void 0:y.get(b)}const Oce=UQ("__proto__,__v_isRef,__isVue"),woe=new Set(Object.getOwnPropertyNames(Symbol).filter(o=>o!=="arguments"&&o!=="caller").map(o=>Symbol[o]).filter(ZQ)),Pce=qQ(),Ice=qQ(!1,!0),Nce=qQ(!0),Xte=Fce();function Fce(){const o={};return["includes","indexOf","lastIndexOf"].forEach(b=>{o[b]=function(...y){const T=ds(this);for(let V=0,L=this.length;V<L;V++)uh(T,"get",V+"");const G=T[b](...y);return G===-1||G===!1?T[b](...y.map(ds)):G}}),["push","pop","shift","unshift","splice"].forEach(b=>{o[b]=function(...y){$E();const T=ds(this)[b].apply(this,y);return OE(),T}}),o}function Bce(o){const b=ds(this);return uh(b,"has",o),b.hasOwnProperty(o)}function qQ(o=!1,b=!1){return function(T,G,V){if(G==="__v_isReactive")return!o;if(G==="__v_isReadonly")return o;if(G==="__v_isShallow")return b;if(G==="__v_raw"&&V===(o?b?tue:Aoe:b?koe:Toe).get(T))return T;const L=Pa(T);if(!o){if(L&&ti(Xte,G))return Reflect.get(Xte,G,V);if(G==="hasOwnProperty")return Bce}const A=Reflect.get(T,G,V);return(ZQ(G)?woe.has(G):Oce(G))||(o||uh(T,"get",G),b)?A:Wl(A)?L&&jQ(G)?A:A.value:ol(A)?o?Z6(A):ih(A):A}}const Hce=Coe(),zce=Coe(!0);function Coe(o=!1){return function(y,T,G,V){let L=y[T];if(SE(L)&&Wl(L)&&!Wl(G))return!1;if(!o&&(!mB(G)&&!SE(G)&&(L=ds(L),G=ds(G)),!Pa(y)&&Wl(L)&&!Wl(G)))return L.value=G,!0;const A=Pa(y)&&jQ(T)?Number(T)<y.length:ti(y,T),s=Reflect.set(y,T,G,V);return y===ds(V)&&(A?_6(G,L)&&Fy(y,"set",T,G):Fy(y,"add",T,G)),s}}function Vce(o,b){const y=ti(o,b);o[b];const T=Reflect.deleteProperty(o,b);return T&&y&&Fy(o,"delete",b,void 0),T}function Uce(o,b){const y=Reflect.has(o,b);return(!ZQ(b)||!woe.has(b))&&uh(o,"has",b),y}function Wce(o){return uh(o,"iterate",Pa(o)?"length":m3),Reflect.ownKeys(o)}const Soe={get:Pce,set:Hce,deleteProperty:Vce,has:Uce,ownKeys:Wce},Gce={get:Nce,set(o,b){return!0},deleteProperty(o,b){return!0}},Zce=Mc({},Soe,{get:Ice,set:zce}),eq=o=>o,WB=o=>Reflect.getPrototypeOf(o);function VF(o,b,y=!1,T=!1){o=o.__v_raw;const G=ds(o),V=ds(b);y||(b!==V&&uh(G,"get",b),uh(G,"get",V));const{has:L}=WB(G),A=T?eq:y?oq:R6;if(L.call(G,b))return A(o.get(b));if(L.call(G,V))return A(o.get(V));o!==G&&o.get(b)}function UF(o,b=!1){const y=this.__v_raw,T=ds(y),G=ds(o);return b||(o!==G&&uh(T,"has",o),uh(T,"has",G)),o===G?y.has(o):y.has(o)||y.has(G)}function WF(o,b=!1){return o=o.__v_raw,!b&&uh(ds(o),"iterate",m3),Reflect.get(o,"size",o)}function Jte(o){o=ds(o);const b=ds(this);return WB(b).has.call(b,o)||(b.add(o),Fy(b,"add",o,o)),this}function Qte(o,b){b=ds(b);const y=ds(this),{has:T,get:G}=WB(y);let V=T.call(y,o);V||(o=ds(o),V=T.call(y,o));const L=G.call(y,o);return y.set(o,b),V?_6(b,L)&&Fy(y,"set",o,b):Fy(y,"add",o,b),this}function qte(o){const b=ds(this),{has:y,get:T}=WB(b);let G=y.call(b,o);G||(o=ds(o),G=y.call(b,o)),T&&T.call(b,o);const V=b.delete(o);return G&&Fy(b,"delete",o,void 0),V}function ene(){const o=ds(this),b=o.size!==0,y=o.clear();return b&&Fy(o,"clear",void 0,void 0),y}function GF(o,b){return function(T,G){const V=this,L=V.__v_raw,A=ds(L),s=b?eq:o?oq:R6;return!o&&uh(A,"iterate",m3),L.forEach((m,h)=>T.call(G,s(m),s(h),V))}}function ZF(o,b,y){return function(...T){const G=this.__v_raw,V=ds(G),L=vE(V),A=o==="entries"||o===Symbol.iterator&&L,s=o==="keys"&&L,m=G[o](...T),h=y?eq:b?oq:R6;return!b&&uh(V,"iterate",s?cQ:m3),{next(){const{value:l,done:c}=m.next();return c?{value:l,done:c}:{value:A?[h(l[0]),h(l[1])]:h(l),done:c}},[Symbol.iterator](){return this}}}}function x2(o){return function(...b){return o==="delete"?!1:this}}function jce(){const o={get(V){return VF(this,V)},get size(){return WF(this)},has:UF,add:Jte,set:Qte,delete:qte,clear:ene,forEach:GF(!1,!1)},b={get(V){return VF(this,V,!1,!0)},get size(){return WF(this)},has:UF,add:Jte,set:Qte,delete:qte,clear:ene,forEach:GF(!1,!0)},y={get(V){return VF(this,V,!0)},get size(){return WF(this,!0)},has(V){return UF.call(this,V,!0)},add:x2("add"),set:x2("set"),delete:x2("delete"),clear:x2("clear"),forEach:GF(!0,!1)},T={get(V){return VF(this,V,!0,!0)},get size(){return WF(this,!0)},has(V){return UF.call(this,V,!0)},add:x2("add"),set:x2("set"),delete:x2("delete"),clear:x2("clear"),forEach:GF(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(V=>{o[V]=ZF(V,!1,!1),y[V]=ZF(V,!0,!1),b[V]=ZF(V,!1,!0),T[V]=ZF(V,!0,!0)}),[o,y,b,T]}const[Yce,Kce,Xce,Jce]=jce();function tq(o,b){const y=b?o?Jce:Xce:o?Kce:Yce;return(T,G,V)=>G==="__v_isReactive"?!o:G==="__v_isReadonly"?o:G==="__v_raw"?T:Reflect.get(ti(y,G)&&G in T?y:T,G,V)}const Qce={get:tq(!1,!1)},qce={get:tq(!1,!0)},eue={get:tq(!0,!1)},Toe=new WeakMap,koe=new WeakMap,Aoe=new WeakMap,tue=new WeakMap;function nue(o){switch(o){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function rue(o){return o.__v_skip||!Object.isExtensible(o)?0:nue(bce(o))}function ih(o){return SE(o)?o:nq(o,!1,Soe,Qce,Toe)}function oue(o){return nq(o,!1,Zce,qce,koe)}function Z6(o){return nq(o,!0,Gce,eue,Aoe)}function nq(o,b,y,T,G){if(!ol(o)||o.__v_raw&&!(b&&o.__v_isReactive))return o;const V=G.get(o);if(V)return V;const L=rue(o);if(L===0)return o;const A=new Proxy(o,L===2?T:y);return G.set(o,A),A}function yE(o){return SE(o)?yE(o.__v_raw):!!(o&&o.__v_isReactive)}function SE(o){return!!(o&&o.__v_isReadonly)}function mB(o){return!!(o&&o.__v_isShallow)}function Moe(o){return yE(o)||SE(o)}function ds(o){const b=o&&o.__v_raw;return b?ds(b):o}function rq(o){return dB(o,"__v_skip",!0),o}const R6=o=>ol(o)?ih(o):o,oq=o=>ol(o)?Z6(o):o;function Eoe(o){k2&&Cp&&(o=ds(o),xoe(o.dep||(o.dep=JQ())))}function _oe(o,b){o=ds(o);const y=o.dep;y&&uQ(y)}function Wl(o){return!!(o&&o.__v_isRef===!0)}function No(o){return Roe(o,!1)}function xa(o){return Roe(o,!0)}function Roe(o,b){return Wl(o)?o:new aue(o,b)}class aue{constructor(b,y){this.__v_isShallow=y,this.dep=void 0,this.__v_isRef=!0,this._rawValue=y?b:ds(b),this._value=y?b:R6(b)}get value(){return Eoe(this),this._value}set value(b){const y=this.__v_isShallow||mB(b)||SE(b);b=y?b:ds(b),_6(b,this._rawValue)&&(this._rawValue=b,this._value=y?b:R6(b),_oe(this))}}function im(o){return Wl(o)?o.value:o}const sue={get:(o,b,y)=>im(Reflect.get(o,b,y)),set:(o,b,y,T)=>{const G=o[b];return Wl(G)&&!Wl(y)?(G.value=y,!0):Reflect.set(o,b,y,T)}};function Loe(o){return yE(o)?o:new Proxy(o,sue)}function GB(o){const b=Pa(o)?new Array(o.length):{};for(const y in o)b[y]=Doe(o,y);return b}class iue{constructor(b,y,T){this._object=b,this._key=y,this._defaultValue=T,this.__v_isRef=!0}get value(){const b=this._object[this._key];return b===void 0?this._defaultValue:b}set value(b){this._object[this._key]=b}get dep(){return $ce(ds(this._object),this._key)}}class lue{constructor(b){this._getter=b,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Xo(o,b,y){return Wl(o)?o:fs(o)?new lue(o):ol(o)&&arguments.length>1?Doe(o,b,y):No(o)}function Doe(o,b,y){const T=o[b];return Wl(T)?T:new iue(o,b,y)}class cue{constructor(b,y,T,G){this._setter=y,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new QQ(b,()=>{this._dirty||(this._dirty=!0,_oe(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!G,this.__v_isReadonly=T}get value(){const b=ds(this);return Eoe(b),(b._dirty||!b._cacheable)&&(b._dirty=!1,b._value=b.effect.run()),b._value}set value(b){this._setter(b)}}function uue(o,b,y=!1){let T,G;const V=fs(o);return V?(T=o,G=Ap):(T=o.get,G=o.set),new cue(T,G,V||!G,y)}function A2(o,b,y,T){let G;try{G=T?o(...T):o()}catch(V){ZB(V,b,y)}return G}function vg(o,b,y,T){if(fs(o)){const V=A2(o,b,y,T);return V&&foe(V)&&V.catch(L=>{ZB(L,b,y)}),V}const G=[];for(let V=0;V<o.length;V++)G.push(vg(o[V],b,y,T));return G}function ZB(o,b,y,T=!0){const G=b?b.vnode:null;if(b){let V=b.parent;const L=b.proxy,A=y;for(;V;){const m=V.ec;if(m){for(let h=0;h<m.length;h++)if(m[h](o,L,A)===!1)return}V=V.parent}const s=b.appContext.config.errorHandler;if(s){A2(s,null,10,[o,L,A]);return}}fue(o,y,G,T)}function fue(o,b,y,T=!0){console.error(o)}let L6=!1,fQ=!1;const Bf=[];let x0=0;const bE=[];let Iy=null,c3=0;const $oe=Promise.resolve();let aq=null;function Ll(o){const b=aq||$oe;return o?b.then(this?o.bind(this):o):b}function due(o){let b=x0+1,y=Bf.length;for(;b<y;){const T=b+y>>>1;D6(Bf[T])<o?b=T+1:y=T}return b}function sq(o){(!Bf.length||!Bf.includes(o,L6&&o.allowRecurse?x0+1:x0))&&(o.id==null?Bf.push(o):Bf.splice(due(o.id),0,o),Ooe())}function Ooe(){!L6&&!fQ&&(fQ=!0,aq=$oe.then(Ioe))}function hue(o){const b=Bf.indexOf(o);b>x0&&Bf.splice(b,1)}function mue(o){Pa(o)?bE.push(...o):(!Iy||!Iy.includes(o,o.allowRecurse?c3+1:c3))&&bE.push(o),Ooe()}function tne(o,b=L6?x0+1:0){for(;b<Bf.length;b++){const y=Bf[b];y&&y.pre&&(Bf.splice(b,1),b--,y())}}function Poe(o){if(bE.length){const b=[...new Set(bE)];if(bE.length=0,Iy){Iy.push(...b);return}for(Iy=b,Iy.sort((y,T)=>D6(y)-D6(T)),c3=0;c3<Iy.length;c3++)Iy[c3]();Iy=null,c3=0}}const D6=o=>o.id==null?1/0:o.id,gue=(o,b)=>{const y=D6(o)-D6(b);if(y===0){if(o.pre&&!b.pre)return-1;if(b.pre&&!o.pre)return 1}return y};function Ioe(o){fQ=!1,L6=!0,Bf.sort(gue);const b=Ap;try{for(x0=0;x0<Bf.length;x0++){const y=Bf[x0];y&&y.active!==!1&&A2(y,null,14)}}finally{x0=0,Bf.length=0,Poe(),L6=!1,aq=null,(Bf.length||bE.length)&&Ioe()}}function pue(o,b,...y){if(o.isUnmounted)return;const T=o.vnode.props||vl;let G=y;const V=b.startsWith("update:"),L=V&&b.slice(7);if(L&&L in T){const h=`${L==="modelValue"?"model":L}Modifiers`,{number:l,trim:c}=T[h]||vl;c&&(G=y.map(i=>hc(i)?i.trim():i)),l&&(G=y.map(sQ))}let A,s=T[A=C0(b)]||T[A=C0(bg(b))];!s&&V&&(s=T[A=C0(DE(b))]),s&&vg(s,o,6,G);const m=T[A+"Once"];if(m){if(!o.emitted)o.emitted={};else if(o.emitted[A])return;o.emitted[A]=!0,vg(m,o,6,G)}}function Noe(o,b,y=!1){const T=b.emitsCache,G=T.get(o);if(G!==void 0)return G;const V=o.emits;let L={},A=!1;if(!fs(o)){const s=m=>{const h=Noe(m,b,!0);h&&(A=!0,Mc(L,h))};!y&&b.mixins.length&&b.mixins.forEach(s),o.extends&&s(o.extends),o.mixins&&o.mixins.forEach(s)}return!V&&!A?(ol(o)&&T.set(o,null),null):(Pa(V)?V.forEach(s=>L[s]=null):Mc(L,V),ol(o)&&T.set(o,L),L)}function jB(o,b){return!o||!zB(b)?!1:(b=b.slice(2).replace(/Once$/,""),ti(o,b[0].toLowerCase()+b.slice(1))||ti(o,DE(b))||ti(o,b))}let lm=null,Foe=null;function gB(o){const b=lm;return lm=o,Foe=o&&o.type.__scopeId||null,b}function jr(o,b=lm,y){if(!b||o._n)return o;const T=(...G)=>{T._d&&mne(-1);const V=gB(b);let L;try{L=o(...G)}finally{gB(V),T._d&&mne(1)}return L};return T._n=!0,T._c=!0,T._d=!0,T}function NJ(o){const{type:b,vnode:y,proxy:T,withProxy:G,props:V,propsOptions:[L],slots:A,attrs:s,emit:m,render:h,renderCache:l,data:c,setupState:i,ctx:u,inheritAttrs:d}=o;let g,v;const x=gB(o);try{if(y.shapeFlag&4){const _=G||T;g=b0(h.call(_,_,l,V,i,c,u)),v=s}else{const _=b;g=b0(_.length>1?_(V,{attrs:s,slots:A,emit:m}):_(V,null)),v=b.props?s:vue(s)}}catch(_){k6.length=0,ZB(_,o,1),g=ct(Mp)}let C=g;if(v&&d!==!1){const _=Object.keys(v),{shapeFlag:$}=C;_.length&&$&7&&(L&&_.some(WQ)&&(v=yue(v,L)),C=By(C,v))}return y.dirs&&(C=By(C),C.dirs=C.dirs?C.dirs.concat(y.dirs):y.dirs),y.transition&&(C.transition=y.transition),g=C,gB(x),g}const vue=o=>{let b;for(const y in o)(y==="class"||y==="style"||zB(y))&&((b||(b={}))[y]=o[y]);return b},yue=(o,b)=>{const y={};for(const T in o)(!WQ(T)||!(T.slice(9)in b))&&(y[T]=o[T]);return y};function bue(o,b,y){const{props:T,children:G,component:V}=o,{props:L,children:A,patchFlag:s}=b,m=V.emitsOptions;if(b.dirs||b.transition)return!0;if(y&&s>=0){if(s&1024)return!0;if(s&16)return T?nne(T,L,m):!!L;if(s&8){const h=b.dynamicProps;for(let l=0;l<h.length;l++){const c=h[l];if(L[c]!==T[c]&&!jB(m,c))return!0}}}else return(G||A)&&(!A||!A.$stable)?!0:T===L?!1:T?L?nne(T,L,m):!0:!!L;return!1}function nne(o,b,y){const T=Object.keys(b);if(T.length!==Object.keys(o).length)return!0;for(let G=0;G<T.length;G++){const V=T[G];if(b[V]!==o[V]&&!jB(y,V))return!0}return!1}function xue({vnode:o,parent:b},y){for(;b&&b.subTree===o;)(o=b.vnode).el=y,b=b.parent}const wue=o=>o.__isSuspense;function Cue(o,b){b&&b.pendingBranch?Pa(o)?b.effects.push(...o):b.effects.push(o):mue(o)}function fh(o,b){return iq(o,null,b)}const jF={};function ta(o,b,y){return iq(o,b,y)}function iq(o,b,{immediate:y,deep:T,flush:G,onTrack:V,onTrigger:L}=vl){var A;const s=Rce()===((A=zu)==null?void 0:A.scope)?zu:null;let m,h=!1,l=!1;if(Wl(o)?(m=()=>o.value,h=mB(o)):yE(o)?(m=()=>o,T=!0):Pa(o)?(l=!0,h=o.some(_=>yE(_)||mB(_)),m=()=>o.map(_=>{if(Wl(_))return _.value;if(yE(_))return d3(_);if(fs(_))return A2(_,s,2)})):fs(o)?b?m=()=>A2(o,s,2):m=()=>{if(!(s&&s.isUnmounted))return c&&c(),vg(o,s,3,[i])}:m=Ap,b&&T){const _=m;m=()=>d3(_())}let c,i=_=>{c=x.onStop=()=>{A2(_,s,4)}},u;if(I6)if(i=Ap,b?y&&vg(b,s,3,[m(),l?[]:void 0,i]):m(),G==="sync"){const _=dfe();u=_.__watcherHandles||(_.__watcherHandles=[])}else return Ap;let d=l?new Array(o.length).fill(jF):jF;const g=()=>{if(x.active)if(b){const _=x.run();(T||h||(l?_.some(($,S)=>_6($,d[S])):_6(_,d)))&&(c&&c(),vg(b,s,3,[_,d===jF?void 0:l&&d[0]===jF?[]:d,i]),d=_)}else x.run()};g.allowRecurse=!!b;let v;G==="sync"?v=g:G==="post"?v=()=>sh(g,s&&s.suspense):(g.pre=!0,s&&(g.id=s.uid),v=()=>sq(g));const x=new QQ(m,v);b?y?g():d=x.run():G==="post"?sh(x.run.bind(x),s&&s.suspense):x.run();const C=()=>{x.stop(),s&&s.scope&&GQ(s.scope.effects,x)};return u&&u.push(C),C}function Sue(o,b,y){const T=this.proxy,G=hc(o)?o.includes(".")?Boe(T,o):()=>T[o]:o.bind(T,T);let V;fs(b)?V=b:(V=b.handler,y=b);const L=zu;TE(this);const A=iq(G,V.bind(T),y);return L?TE(L):g3(),A}function Boe(o,b){const y=b.split(".");return()=>{let T=o;for(let G=0;G<y.length&&T;G++)T=T[y[G]];return T}}function d3(o,b){if(!ol(o)||o.__v_skip||(b=b||new Set,b.has(o)))return o;if(b.add(o),Wl(o))d3(o.value,b);else if(Pa(o))for(let y=0;y<o.length;y++)d3(o[y],b);else if(uoe(o)||vE(o))o.forEach(y=>{d3(y,b)});else if(hoe(o))for(const y in o)d3(o[y],b);return o}function lu(o,b){const y=lm;if(y===null)return o;const T=QB(y)||y.proxy,G=o.dirs||(o.dirs=[]);for(let V=0;V<b.length;V++){let[L,A,s,m=vl]=b[V];L&&(fs(L)&&(L={mounted:L,updated:L}),L.deep&&d3(A),G.push({dir:L,instance:T,value:A,oldValue:void 0,arg:s,modifiers:m}))}return o}function o3(o,b,y,T){const G=o.dirs,V=b&&b.dirs;for(let L=0;L<G.length;L++){const A=G[L];V&&(A.oldValue=V[L].value);let s=A.dir[T];s&&($E(),vg(s,y,8,[o.el,A,o,b]),OE())}}function Hoe(){const o={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Cg(()=>{o.isMounted=!0}),dm(()=>{o.isUnmounting=!0}),o}const hg=[Function,Array],zoe={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:hg,onEnter:hg,onAfterEnter:hg,onEnterCancelled:hg,onBeforeLeave:hg,onLeave:hg,onAfterLeave:hg,onLeaveCancelled:hg,onBeforeAppear:hg,onAppear:hg,onAfterAppear:hg,onAppearCancelled:hg},Tue={name:"BaseTransition",props:zoe,setup(o,{slots:b}){const y=yq(),T=Hoe();let G;return()=>{const V=b.default&&lq(b.default(),!0);if(!V||!V.length)return;let L=V[0];if(V.length>1){for(const d of V)if(d.type!==Mp){L=d;break}}const A=ds(o),{mode:s}=A;if(T.isLeaving)return FJ(L);const m=rne(L);if(!m)return FJ(L);const h=$6(m,A,T,y);O6(m,h);const l=y.subTree,c=l&&rne(l);let i=!1;const{getTransitionKey:u}=m.type;if(u){const d=u();G===void 0?G=d:d!==G&&(G=d,i=!0)}if(c&&c.type!==Mp&&(!u3(m,c)||i)){const d=$6(c,A,T,y);if(O6(c,d),s==="out-in")return T.isLeaving=!0,d.afterLeave=()=>{T.isLeaving=!1,y.update.active!==!1&&y.update()},FJ(L);s==="in-out"&&m.type!==Mp&&(d.delayLeave=(g,v,x)=>{const C=Voe(T,c);C[String(c.key)]=c,g._leaveCb=()=>{v(),g._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=x})}return L}}},kue=Tue;function Voe(o,b){const{leavingVNodes:y}=o;let T=y.get(b.type);return T||(T=Object.create(null),y.set(b.type,T)),T}function $6(o,b,y,T){const{appear:G,mode:V,persisted:L=!1,onBeforeEnter:A,onEnter:s,onAfterEnter:m,onEnterCancelled:h,onBeforeLeave:l,onLeave:c,onAfterLeave:i,onLeaveCancelled:u,onBeforeAppear:d,onAppear:g,onAfterAppear:v,onAppearCancelled:x}=b,C=String(o.key),_=Voe(y,o),$=(D,N)=>{D&&vg(D,T,9,N)},S=(D,N)=>{const M=N[1];$(D,N),Pa(D)?D.every(k=>k.length<=1)&&M():D.length<=1&&M()},O={mode:V,persisted:L,beforeEnter(D){let N=A;if(!y.isMounted)if(G)N=d||A;else return;D._leaveCb&&D._leaveCb(!0);const M=_[C];M&&u3(o,M)&&M.el._leaveCb&&M.el._leaveCb(),$(N,[D])},enter(D){let N=s,M=m,k=h;if(!y.isMounted)if(G)N=g||s,M=v||m,k=x||h;else return;let R=!1;const F=D._enterCb=H=>{R||(R=!0,H?$(k,[D]):$(M,[D]),O.delayedLeave&&O.delayedLeave(),D._enterCb=void 0)};N?S(N,[D,F]):F()},leave(D,N){const M=String(o.key);if(D._enterCb&&D._enterCb(!0),y.isUnmounting)return N();$(l,[D]);let k=!1;const R=D._leaveCb=F=>{k||(k=!0,N(),F?$(u,[D]):$(i,[D]),D._leaveCb=void 0,_[M]===o&&delete _[M])};_[M]=o,c?S(c,[D,R]):R()},clone(D){return $6(D,b,y,T)}};return O}function FJ(o){if(KB(o))return o=By(o),o.children=null,o}function rne(o){return KB(o)?o.children?o.children[0]:void 0:o}function O6(o,b){o.shapeFlag&6&&o.component?O6(o.component.subTree,b):o.shapeFlag&128?(o.ssContent.transition=b.clone(o.ssContent),o.ssFallback.transition=b.clone(o.ssFallback)):o.transition=b}function lq(o,b=!1,y){let T=[],G=0;for(let V=0;V<o.length;V++){let L=o[V];const A=y==null?L.key:String(y)+String(L.key!=null?L.key:V);L.type===Uo?(L.patchFlag&128&&G++,T=T.concat(lq(L.children,b,A))):(b||L.type!==Mp)&&T.push(A!=null?By(L,{key:A}):L)}if(G>1)for(let V=0;V<T.length;V++)T[V].patchFlag=-2;return T}function YB(o,b){return fs(o)?(()=>Mc({name:o.name},b,{setup:o}))():o}const sB=o=>!!o.type.__asyncLoader,KB=o=>o.type.__isKeepAlive;function cq(o,b){Uoe(o,"a",b)}function uq(o,b){Uoe(o,"da",b)}function Uoe(o,b,y=zu){const T=o.__wdc||(o.__wdc=()=>{let G=y;for(;G;){if(G.isDeactivated)return;G=G.parent}return o()});if(XB(b,T,y),y){let G=y.parent;for(;G&&G.parent;)KB(G.parent.vnode)&&Aue(T,b,y,G),G=G.parent}}function Aue(o,b,y,T){const G=XB(b,o,T,!0);Goe(()=>{GQ(T[b],G)},y)}function XB(o,b,y=zu,T=!1){if(y){const G=y[o]||(y[o]=[]),V=b.__weh||(b.__weh=(...L)=>{if(y.isUnmounted)return;$E(),TE(y);const A=vg(b,y,o,L);return g3(),OE(),A});return T?G.unshift(V):G.push(V),V}}const zy=o=>(b,y=zu)=>(!I6||o==="sp")&&XB(o,(...T)=>b(...T),y),fq=zy("bm"),Cg=zy("m"),Mue=zy("bu"),Woe=zy("u"),dm=zy("bum"),Goe=zy("um"),Eue=zy("sp"),_ue=zy("rtg"),Rue=zy("rtc");function Lue(o,b=zu){XB("ec",o,b)}const dq="components",Due="directives";function A0(o,b){return hq(dq,o,!0,b)||o}const Zoe=Symbol.for("v-ndc");function mg(o){return hc(o)?hq(dq,o,!1)||o:o||Zoe}function _p(o){return hq(Due,o)}function hq(o,b,y=!0,T=!1){const G=lm||zu;if(G){const V=G.type;if(o===dq){const A=cfe(V,!1);if(A&&(A===b||A===bg(b)||A===_0(bg(b))))return V}const L=one(G[o]||V[o],b)||one(G.appContext[o],b);return!L&&T?V:L}}function one(o,b){return o&&(o[b]||o[bg(b)]||o[_0(bg(b))])}function uf(o,b,y,T){let G;const V=y&&y[T];if(Pa(o)||hc(o)){G=new Array(o.length);for(let L=0,A=o.length;L<A;L++)G[L]=b(o[L],L,void 0,V&&V[L])}else if(typeof o=="number"){G=new Array(o);for(let L=0;L<o;L++)G[L]=b(L+1,L,void 0,V&&V[L])}else if(ol(o))if(o[Symbol.iterator])G=Array.from(o,(L,A)=>b(L,A,void 0,V&&V[A]));else{const L=Object.keys(o);G=new Array(L.length);for(let A=0,s=L.length;A<s;A++){const m=L[A];G[A]=b(o[m],m,A,V&&V[A])}}else G=[];return y&&(y[T]=G),G}const dQ=o=>o?rae(o)?QB(o)||o.proxy:dQ(o.parent):null,S6=Mc(Object.create(null),{$:o=>o,$el:o=>o.vnode.el,$data:o=>o.data,$props:o=>o.props,$attrs:o=>o.attrs,$slots:o=>o.slots,$refs:o=>o.refs,$parent:o=>dQ(o.parent),$root:o=>dQ(o.root),$emit:o=>o.emit,$options:o=>mq(o),$forceUpdate:o=>o.f||(o.f=()=>sq(o.update)),$nextTick:o=>o.n||(o.n=Ll.bind(o.proxy)),$watch:o=>Sue.bind(o)}),BJ=(o,b)=>o!==vl&&!o.__isScriptSetup&&ti(o,b),$ue={get({_:o},b){const{ctx:y,setupState:T,data:G,props:V,accessCache:L,type:A,appContext:s}=o;let m;if(b[0]!=="$"){const i=L[b];if(i!==void 0)switch(i){case 1:return T[b];case 2:return G[b];case 4:return y[b];case 3:return V[b]}else{if(BJ(T,b))return L[b]=1,T[b];if(G!==vl&&ti(G,b))return L[b]=2,G[b];if((m=o.propsOptions[0])&&ti(m,b))return L[b]=3,V[b];if(y!==vl&&ti(y,b))return L[b]=4,y[b];hQ&&(L[b]=0)}}const h=S6[b];let l,c;if(h)return b==="$attrs"&&uh(o,"get",b),h(o);if((l=A.__cssModules)&&(l=l[b]))return l;if(y!==vl&&ti(y,b))return L[b]=4,y[b];if(c=s.config.globalProperties,ti(c,b))return c[b]},set({_:o},b,y){const{data:T,setupState:G,ctx:V}=o;return BJ(G,b)?(G[b]=y,!0):T!==vl&&ti(T,b)?(T[b]=y,!0):ti(o.props,b)||b[0]==="$"&&b.slice(1)in o?!1:(V[b]=y,!0)},has({_:{data:o,setupState:b,accessCache:y,ctx:T,appContext:G,propsOptions:V}},L){let A;return!!y[L]||o!==vl&&ti(o,L)||BJ(b,L)||(A=V[0])&&ti(A,L)||ti(T,L)||ti(S6,L)||ti(G.config.globalProperties,L)},defineProperty(o,b,y){return y.get!=null?o._.accessCache[b]=0:ti(y,"value")&&this.set(o,b,y.value,null),Reflect.defineProperty(o,b,y)}};function ane(o){return Pa(o)?o.reduce((b,y)=>(b[y]=null,b),{}):o}let hQ=!0;function Oue(o){const b=mq(o),y=o.proxy,T=o.ctx;hQ=!1,b.beforeCreate&&sne(b.beforeCreate,o,"bc");const{data:G,computed:V,methods:L,watch:A,provide:s,inject:m,created:h,beforeMount:l,mounted:c,beforeUpdate:i,updated:u,activated:d,deactivated:g,beforeDestroy:v,beforeUnmount:x,destroyed:C,unmounted:_,render:$,renderTracked:S,renderTriggered:O,errorCaptured:D,serverPrefetch:N,expose:M,inheritAttrs:k,components:R,directives:F,filters:H}=b;if(m&&Pue(m,T,null),L)for(const ee in L){const J=L[ee];fs(J)&&(T[ee]=J.bind(y))}if(G){const ee=G.call(y,y);ol(ee)&&(o.data=ih(ee))}if(hQ=!0,V)for(const ee in V){const J=V[ee],K=fs(J)?J.bind(y,y):fs(J.get)?J.get.bind(y,y):Ap,ae=!fs(J)&&fs(J.set)?J.set.bind(y):Ap,Q=on({get:K,set:ae});Object.defineProperty(T,ee,{enumerable:!0,configurable:!0,get:()=>Q.value,set:he=>Q.value=he})}if(A)for(const ee in A)joe(A[ee],T,y,ee);if(s){const ee=fs(s)?s.call(y):s;Reflect.ownKeys(ee).forEach(J=>{Gl(J,ee[J])})}h&&sne(h,o,"c");function P(ee,J){Pa(J)?J.forEach(K=>ee(K.bind(y))):J&&ee(J.bind(y))}if(P(fq,l),P(Cg,c),P(Mue,i),P(Woe,u),P(cq,d),P(uq,g),P(Lue,D),P(Rue,S),P(_ue,O),P(dm,x),P(Goe,_),P(Eue,N),Pa(M))if(M.length){const ee=o.exposed||(o.exposed={});M.forEach(J=>{Object.defineProperty(ee,J,{get:()=>y[J],set:K=>y[J]=K})})}else o.exposed||(o.exposed={});$&&o.render===Ap&&(o.render=$),k!=null&&(o.inheritAttrs=k),R&&(o.components=R),F&&(o.directives=F)}function Pue(o,b,y=Ap){Pa(o)&&(o=mQ(o));for(const T in o){const G=o[T];let V;ol(G)?"default"in G?V=ni(G.from||T,G.default,!0):V=ni(G.from||T):V=ni(G),Wl(V)?Object.defineProperty(b,T,{enumerable:!0,configurable:!0,get:()=>V.value,set:L=>V.value=L}):b[T]=V}}function sne(o,b,y){vg(Pa(o)?o.map(T=>T.bind(b.proxy)):o.bind(b.proxy),b,y)}function joe(o,b,y,T){const G=T.includes(".")?Boe(y,T):()=>y[T];if(hc(o)){const V=b[o];fs(V)&&ta(G,V)}else if(fs(o))ta(G,o.bind(y));else if(ol(o))if(Pa(o))o.forEach(V=>joe(V,b,y,T));else{const V=fs(o.handler)?o.handler.bind(y):b[o.handler];fs(V)&&ta(G,V,o)}}function mq(o){const b=o.type,{mixins:y,extends:T}=b,{mixins:G,optionsCache:V,config:{optionMergeStrategies:L}}=o.appContext,A=V.get(b);let s;return A?s=A:!G.length&&!y&&!T?s=b:(s={},G.length&&G.forEach(m=>pB(s,m,L,!0)),pB(s,b,L)),ol(b)&&V.set(b,s),s}function pB(o,b,y,T=!1){const{mixins:G,extends:V}=b;V&&pB(o,V,y,!0),G&&G.forEach(L=>pB(o,L,y,!0));for(const L in b)if(!(T&&L==="expose")){const A=Iue[L]||y&&y[L];o[L]=A?A(o[L],b[L]):b[L]}return o}const Iue={data:ine,props:lne,emits:lne,methods:C6,computed:C6,beforeCreate:bd,created:bd,beforeMount:bd,mounted:bd,beforeUpdate:bd,updated:bd,beforeDestroy:bd,beforeUnmount:bd,destroyed:bd,unmounted:bd,activated:bd,deactivated:bd,errorCaptured:bd,serverPrefetch:bd,components:C6,directives:C6,watch:Fue,provide:ine,inject:Nue};function ine(o,b){return b?o?function(){return Mc(fs(o)?o.call(this,this):o,fs(b)?b.call(this,this):b)}:b:o}function Nue(o,b){return C6(mQ(o),mQ(b))}function mQ(o){if(Pa(o)){const b={};for(let y=0;y<o.length;y++)b[o[y]]=o[y];return b}return o}function bd(o,b){return o?[...new Set([].concat(o,b))]:b}function C6(o,b){return o?Mc(Object.create(null),o,b):b}function lne(o,b){return o?Pa(o)&&Pa(b)?[...new Set([...o,...b])]:Mc(Object.create(null),ane(o),ane(b??{})):b}function Fue(o,b){if(!o)return b;if(!b)return o;const y=Mc(Object.create(null),o);for(const T in b)y[T]=bd(o[T],b[T]);return y}function Yoe(){return{app:null,config:{isNativeTag:pce,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Bue=0;function Hue(o,b){return function(T,G=null){fs(T)||(T=Mc({},T)),G!=null&&!ol(G)&&(G=null);const V=Yoe(),L=new Set;let A=!1;const s=V.app={_uid:Bue++,_component:T,_props:G,_container:null,_context:V,_instance:null,version:hfe,get config(){return V.config},set config(m){},use(m,...h){return L.has(m)||(m&&fs(m.install)?(L.add(m),m.install(s,...h)):fs(m)&&(L.add(m),m(s,...h))),s},mixin(m){return V.mixins.includes(m)||V.mixins.push(m),s},component(m,h){return h?(V.components[m]=h,s):V.components[m]},directive(m,h){return h?(V.directives[m]=h,s):V.directives[m]},mount(m,h,l){if(!A){const c=ct(T,G);return c.appContext=V,h&&b?b(c,m):o(c,m,l),A=!0,s._container=m,m.__vue_app__=s,QB(c.component)||c.component.proxy}},unmount(){A&&(o(null,s._container),delete s._container.__vue_app__)},provide(m,h){return V.provides[m]=h,s},runWithContext(m){vB=s;try{return m()}finally{vB=null}}};return s}}let vB=null;function Gl(o,b){if(zu){let y=zu.provides;const T=zu.parent&&zu.parent.provides;T===y&&(y=zu.provides=Object.create(T)),y[o]=b}}function ni(o,b,y=!1){const T=zu||lm;if(T||vB){const G=T?T.parent==null?T.vnode.appContext&&T.vnode.appContext.provides:T.parent.provides:vB._context.provides;if(G&&o in G)return G[o];if(arguments.length>1)return y&&fs(b)?b.call(T&&T.proxy):b}}function zue(o,b,y,T=!1){const G={},V={};dB(V,JB,1),o.propsDefaults=Object.create(null),Koe(o,b,G,V);for(const L in o.propsOptions[0])L in G||(G[L]=void 0);y?o.props=T?G:oue(G):o.type.props?o.props=G:o.props=V,o.attrs=V}function Vue(o,b,y,T){const{props:G,attrs:V,vnode:{patchFlag:L}}=o,A=ds(G),[s]=o.propsOptions;let m=!1;if((T||L>0)&&!(L&16)){if(L&8){const h=o.vnode.dynamicProps;for(let l=0;l<h.length;l++){let c=h[l];if(jB(o.emitsOptions,c))continue;const i=b[c];if(s)if(ti(V,c))i!==V[c]&&(V[c]=i,m=!0);else{const u=bg(c);G[u]=gQ(s,A,u,i,o,!1)}else i!==V[c]&&(V[c]=i,m=!0)}}}else{Koe(o,b,G,V)&&(m=!0);let h;for(const l in A)(!b||!ti(b,l)&&((h=DE(l))===l||!ti(b,h)))&&(s?y&&(y[l]!==void 0||y[h]!==void 0)&&(G[l]=gQ(s,A,l,void 0,o,!0)):delete G[l]);if(V!==A)for(const l in V)(!b||!ti(b,l))&&(delete V[l],m=!0)}m&&Fy(o,"set","$attrs")}function Koe(o,b,y,T){const[G,V]=o.propsOptions;let L=!1,A;if(b)for(let s in b){if(oB(s))continue;const m=b[s];let h;G&&ti(G,h=bg(s))?!V||!V.includes(h)?y[h]=m:(A||(A={}))[h]=m:jB(o.emitsOptions,s)||(!(s in T)||m!==T[s])&&(T[s]=m,L=!0)}if(V){const s=ds(y),m=A||vl;for(let h=0;h<V.length;h++){const l=V[h];y[l]=gQ(G,s,l,m[l],o,!ti(m,l))}}return L}function gQ(o,b,y,T,G,V){const L=o[y];if(L!=null){const A=ti(L,"default");if(A&&T===void 0){const s=L.default;if(L.type!==Function&&!L.skipFactory&&fs(s)){const{propsDefaults:m}=G;y in m?T=m[y]:(TE(G),T=m[y]=s.call(null,b),g3())}else T=s}L[0]&&(V&&!A?T=!1:L[1]&&(T===""||T===DE(y))&&(T=!0))}return T}function Xoe(o,b,y=!1){const T=b.propsCache,G=T.get(o);if(G)return G;const V=o.props,L={},A=[];let s=!1;if(!fs(o)){const h=l=>{s=!0;const[c,i]=Xoe(l,b,!0);Mc(L,c),i&&A.push(...i)};!y&&b.mixins.length&&b.mixins.forEach(h),o.extends&&h(o.extends),o.mixins&&o.mixins.forEach(h)}if(!V&&!s)return ol(o)&&T.set(o,pE),pE;if(Pa(V))for(let h=0;h<V.length;h++){const l=bg(V[h]);cne(l)&&(L[l]=vl)}else if(V)for(const h in V){const l=bg(h);if(cne(l)){const c=V[h],i=L[l]=Pa(c)||fs(c)?{type:c}:Mc({},c);if(i){const u=dne(Boolean,i.type),d=dne(String,i.type);i[0]=u>-1,i[1]=d<0||u<d,(u>-1||ti(i,"default"))&&A.push(l)}}}const m=[L,A];return ol(o)&&T.set(o,m),m}function cne(o){return o[0]!=="$"}function une(o){const b=o&&o.toString().match(/^\s*(function|class) (\w+)/);return b?b[2]:o===null?"null":""}function fne(o,b){return une(o)===une(b)}function dne(o,b){return Pa(b)?b.findIndex(y=>fne(y,o)):fs(b)&&fne(b,o)?0:-1}const Joe=o=>o[0]==="_"||o==="$stable",gq=o=>Pa(o)?o.map(b0):[b0(o)],Uue=(o,b,y)=>{if(b._n)return b;const T=jr((...G)=>gq(b(...G)),y);return T._c=!1,T},Qoe=(o,b,y)=>{const T=o._ctx;for(const G in o){if(Joe(G))continue;const V=o[G];if(fs(V))b[G]=Uue(G,V,T);else if(V!=null){const L=gq(V);b[G]=()=>L}}},qoe=(o,b)=>{const y=gq(b);o.slots.default=()=>y},Wue=(o,b)=>{if(o.vnode.shapeFlag&32){const y=b._;y?(o.slots=ds(b),dB(b,"_",y)):Qoe(b,o.slots={})}else o.slots={},b&&qoe(o,b);dB(o.slots,JB,1)},Gue=(o,b,y)=>{const{vnode:T,slots:G}=o;let V=!0,L=vl;if(T.shapeFlag&32){const A=b._;A?y&&A===1?V=!1:(Mc(G,b),!y&&A===1&&delete G._):(V=!b.$stable,Qoe(b,G)),L=b}else b&&(qoe(o,b),L={default:1});if(V)for(const A in G)!Joe(A)&&!(A in L)&&delete G[A]};function pQ(o,b,y,T,G=!1){if(Pa(o)){o.forEach((c,i)=>pQ(c,b&&(Pa(b)?b[i]:b),y,T,G));return}if(sB(T)&&!G)return;const V=T.shapeFlag&4?QB(T.component)||T.component.proxy:T.el,L=G?null:V,{i:A,r:s}=o,m=b&&b.r,h=A.refs===vl?A.refs={}:A.refs,l=A.setupState;if(m!=null&&m!==s&&(hc(m)?(h[m]=null,ti(l,m)&&(l[m]=null)):Wl(m)&&(m.value=null)),fs(s))A2(s,A,12,[L,h]);else{const c=hc(s),i=Wl(s);if(c||i){const u=()=>{if(o.f){const d=c?ti(l,s)?l[s]:h[s]:s.value;G?Pa(d)&&GQ(d,V):Pa(d)?d.includes(V)||d.push(V):c?(h[s]=[V],ti(l,s)&&(l[s]=h[s])):(s.value=[V],o.k&&(h[o.k]=s.value))}else c?(h[s]=L,ti(l,s)&&(l[s]=L)):i&&(s.value=L,o.k&&(h[o.k]=L))};L?(u.id=-1,sh(u,y)):u()}}}const sh=Cue;function Zue(o){return jue(o)}function jue(o,b){const y=iQ();y.__VUE__=!0;const{insert:T,remove:G,patchProp:V,createElement:L,createText:A,createComment:s,setText:m,setElementText:h,parentNode:l,nextSibling:c,setScopeId:i=Ap,insertStaticContent:u}=o,d=(ke,Ne,Ve,Oe=null,Fe=null,ie=null,we=!1,se=null,ue=!!Ne.dynamicChildren)=>{if(ke===Ne)return;ke&&!u3(ke,Ne)&&(Oe=fe(ke),he(ke,Fe,ie,!0),ke=null),Ne.patchFlag===-2&&(ue=!1,Ne.dynamicChildren=null);const{type:pe,ref:le,shapeFlag:Te}=Ne;switch(pe){case j6:g(ke,Ne,Ve,Oe);break;case Mp:v(ke,Ne,Ve,Oe);break;case HJ:ke==null&&x(Ne,Ve,Oe,we);break;case Uo:R(ke,Ne,Ve,Oe,Fe,ie,we,se,ue);break;default:Te&1?$(ke,Ne,Ve,Oe,Fe,ie,we,se,ue):Te&6?F(ke,Ne,Ve,Oe,Fe,ie,we,se,ue):(Te&64||Te&128)&&pe.process(ke,Ne,Ve,Oe,Fe,ie,we,se,ue,ye)}le!=null&&Fe&&pQ(le,ke&&ke.ref,ie,Ne||ke,!Ne)},g=(ke,Ne,Ve,Oe)=>{if(ke==null)T(Ne.el=A(Ne.children),Ve,Oe);else{const Fe=Ne.el=ke.el;Ne.children!==ke.children&&m(Fe,Ne.children)}},v=(ke,Ne,Ve,Oe)=>{ke==null?T(Ne.el=s(Ne.children||""),Ve,Oe):Ne.el=ke.el},x=(ke,Ne,Ve,Oe)=>{[ke.el,ke.anchor]=u(ke.children,Ne,Ve,Oe,ke.el,ke.anchor)},C=({el:ke,anchor:Ne},Ve,Oe)=>{let Fe;for(;ke&&ke!==Ne;)Fe=c(ke),T(ke,Ve,Oe),ke=Fe;T(Ne,Ve,Oe)},_=({el:ke,anchor:Ne})=>{let Ve;for(;ke&&ke!==Ne;)Ve=c(ke),G(ke),ke=Ve;G(Ne)},$=(ke,Ne,Ve,Oe,Fe,ie,we,se,ue)=>{we=we||Ne.type==="svg",ke==null?S(Ne,Ve,Oe,Fe,ie,we,se,ue):N(ke,Ne,Fe,ie,we,se,ue)},S=(ke,Ne,Ve,Oe,Fe,ie,we,se)=>{let ue,pe;const{type:le,props:Te,shapeFlag:de,transition:Me,dirs:Re}=ke;if(ue=ke.el=L(ke.type,ie,Te&&Te.is,Te),de&8?h(ue,ke.children):de&16&&D(ke.children,ue,null,Oe,Fe,ie&&le!=="foreignObject",we,se),Re&&o3(ke,null,Oe,"created"),O(ue,ke,ke.scopeId,we,Oe),Te){for(const We in Te)We!=="value"&&!oB(We)&&V(ue,We,null,Te[We],ie,ke.children,Oe,Fe,ne);"value"in Te&&V(ue,"value",null,Te.value),(pe=Te.onVnodeBeforeMount)&&v0(pe,Oe,ke)}Re&&o3(ke,null,Oe,"beforeMount");const ze=(!Fe||Fe&&!Fe.pendingBranch)&&Me&&!Me.persisted;ze&&Me.beforeEnter(ue),T(ue,Ne,Ve),((pe=Te&&Te.onVnodeMounted)||ze||Re)&&sh(()=>{pe&&v0(pe,Oe,ke),ze&&Me.enter(ue),Re&&o3(ke,null,Oe,"mounted")},Fe)},O=(ke,Ne,Ve,Oe,Fe)=>{if(Ve&&i(ke,Ve),Oe)for(let ie=0;ie<Oe.length;ie++)i(ke,Oe[ie]);if(Fe){let ie=Fe.subTree;if(Ne===ie){const we=Fe.vnode;O(ke,we,we.scopeId,we.slotScopeIds,Fe.parent)}}},D=(ke,Ne,Ve,Oe,Fe,ie,we,se,ue=0)=>{for(let pe=ue;pe<ke.length;pe++){const le=ke[pe]=se?S2(ke[pe]):b0(ke[pe]);d(null,le,Ne,Ve,Oe,Fe,ie,we,se)}},N=(ke,Ne,Ve,Oe,Fe,ie,we)=>{const se=Ne.el=ke.el;let{patchFlag:ue,dynamicChildren:pe,dirs:le}=Ne;ue|=ke.patchFlag&16;const Te=ke.props||vl,de=Ne.props||vl;let Me;Ve&&a3(Ve,!1),(Me=de.onVnodeBeforeUpdate)&&v0(Me,Ve,Ne,ke),le&&o3(Ne,ke,Ve,"beforeUpdate"),Ve&&a3(Ve,!0);const Re=Fe&&Ne.type!=="foreignObject";if(pe?M(ke.dynamicChildren,pe,se,Ve,Oe,Re,ie):we||J(ke,Ne,se,null,Ve,Oe,Re,ie,!1),ue>0){if(ue&16)k(se,Ne,Te,de,Ve,Oe,Fe);else if(ue&2&&Te.class!==de.class&&V(se,"class",null,de.class,Fe),ue&4&&V(se,"style",Te.style,de.style,Fe),ue&8){const ze=Ne.dynamicProps;for(let We=0;We<ze.length;We++){const ot=ze[We],dt=Te[ot],Ge=de[ot];(Ge!==dt||ot==="value")&&V(se,ot,dt,Ge,Fe,ke.children,Ve,Oe,ne)}}ue&1&&ke.children!==Ne.children&&h(se,Ne.children)}else!we&&pe==null&&k(se,Ne,Te,de,Ve,Oe,Fe);((Me=de.onVnodeUpdated)||le)&&sh(()=>{Me&&v0(Me,Ve,Ne,ke),le&&o3(Ne,ke,Ve,"updated")},Oe)},M=(ke,Ne,Ve,Oe,Fe,ie,we)=>{for(let se=0;se<Ne.length;se++){const ue=ke[se],pe=Ne[se],le=ue.el&&(ue.type===Uo||!u3(ue,pe)||ue.shapeFlag&70)?l(ue.el):Ve;d(ue,pe,le,null,Oe,Fe,ie,we,!0)}},k=(ke,Ne,Ve,Oe,Fe,ie,we)=>{if(Ve!==Oe){if(Ve!==vl)for(const se in Ve)!oB(se)&&!(se in Oe)&&V(ke,se,Ve[se],null,we,Ne.children,Fe,ie,ne);for(const se in Oe){if(oB(se))continue;const ue=Oe[se],pe=Ve[se];ue!==pe&&se!=="value"&&V(ke,se,pe,ue,we,Ne.children,Fe,ie,ne)}"value"in Oe&&V(ke,"value",Ve.value,Oe.value)}},R=(ke,Ne,Ve,Oe,Fe,ie,we,se,ue)=>{const pe=Ne.el=ke?ke.el:A(""),le=Ne.anchor=ke?ke.anchor:A("");let{patchFlag:Te,dynamicChildren:de,slotScopeIds:Me}=Ne;Me&&(se=se?se.concat(Me):Me),ke==null?(T(pe,Ve,Oe),T(le,Ve,Oe),D(Ne.children,Ve,le,Fe,ie,we,se,ue)):Te>0&&Te&64&&de&&ke.dynamicChildren?(M(ke.dynamicChildren,de,Ve,Fe,ie,we,se),(Ne.key!=null||Fe&&Ne===Fe.subTree)&&pq(ke,Ne,!0)):J(ke,Ne,Ve,le,Fe,ie,we,se,ue)},F=(ke,Ne,Ve,Oe,Fe,ie,we,se,ue)=>{Ne.slotScopeIds=se,ke==null?Ne.shapeFlag&512?Fe.ctx.activate(Ne,Ve,Oe,we,ue):H(Ne,Ve,Oe,Fe,ie,we,ue):j(ke,Ne,ue)},H=(ke,Ne,Ve,Oe,Fe,ie,we)=>{const se=ke.component=ofe(ke,Oe,Fe);if(KB(ke)&&(se.ctx.renderer=ye),afe(se),se.asyncDep){if(Fe&&Fe.registerDep(se,P),!ke.el){const ue=se.subTree=ct(Mp);v(null,ue,Ne,Ve)}return}P(se,ke,Ne,Ve,Fe,ie,we)},j=(ke,Ne,Ve)=>{const Oe=Ne.component=ke.component;if(bue(ke,Ne,Ve))if(Oe.asyncDep&&!Oe.asyncResolved){ee(Oe,Ne,Ve);return}else Oe.next=Ne,hue(Oe.update),Oe.update();else Ne.el=ke.el,Oe.vnode=Ne},P=(ke,Ne,Ve,Oe,Fe,ie,we)=>{const se=()=>{if(ke.isMounted){let{next:le,bu:Te,u:de,parent:Me,vnode:Re}=ke,ze=le,We;a3(ke,!1),le?(le.el=Re.el,ee(ke,le,we)):le=Re,Te&&aB(Te),(We=le.props&&le.props.onVnodeBeforeUpdate)&&v0(We,Me,le,Re),a3(ke,!0);const ot=NJ(ke),dt=ke.subTree;ke.subTree=ot,d(dt,ot,l(dt.el),fe(dt),ke,Fe,ie),le.el=ot.el,ze===null&&xue(ke,ot.el),de&&sh(de,Fe),(We=le.props&&le.props.onVnodeUpdated)&&sh(()=>v0(We,Me,le,Re),Fe)}else{let le;const{el:Te,props:de}=Ne,{bm:Me,m:Re,parent:ze}=ke,We=sB(Ne);if(a3(ke,!1),Me&&aB(Me),!We&&(le=de&&de.onVnodeBeforeMount)&&v0(le,ze,Ne),a3(ke,!0),Te&&$e){const ot=()=>{ke.subTree=NJ(ke),$e(Te,ke.subTree,ke,Fe,null)};We?Ne.type.__asyncLoader().then(()=>!ke.isUnmounted&&ot()):ot()}else{const ot=ke.subTree=NJ(ke);d(null,ot,Ve,Oe,ke,Fe,ie),Ne.el=ot.el}if(Re&&sh(Re,Fe),!We&&(le=de&&de.onVnodeMounted)){const ot=Ne;sh(()=>v0(le,ze,ot),Fe)}(Ne.shapeFlag&256||ze&&sB(ze.vnode)&&ze.vnode.shapeFlag&256)&&ke.a&&sh(ke.a,Fe),ke.isMounted=!0,Ne=Ve=Oe=null}},ue=ke.effect=new QQ(se,()=>sq(pe),ke.scope),pe=ke.update=()=>ue.run();pe.id=ke.uid,a3(ke,!0),pe()},ee=(ke,Ne,Ve)=>{Ne.component=ke;const Oe=ke.vnode.props;ke.vnode=Ne,ke.next=null,Vue(ke,Ne.props,Oe,Ve),Gue(ke,Ne.children,Ve),$E(),tne(),OE()},J=(ke,Ne,Ve,Oe,Fe,ie,we,se,ue=!1)=>{const pe=ke&&ke.children,le=ke?ke.shapeFlag:0,Te=Ne.children,{patchFlag:de,shapeFlag:Me}=Ne;if(de>0){if(de&128){ae(pe,Te,Ve,Oe,Fe,ie,we,se,ue);return}else if(de&256){K(pe,Te,Ve,Oe,Fe,ie,we,se,ue);return}}Me&8?(le&16&&ne(pe,Fe,ie),Te!==pe&&h(Ve,Te)):le&16?Me&16?ae(pe,Te,Ve,Oe,Fe,ie,we,se,ue):ne(pe,Fe,ie,!0):(le&8&&h(Ve,""),Me&16&&D(Te,Ve,Oe,Fe,ie,we,se,ue))},K=(ke,Ne,Ve,Oe,Fe,ie,we,se,ue)=>{ke=ke||pE,Ne=Ne||pE;const pe=ke.length,le=Ne.length,Te=Math.min(pe,le);let de;for(de=0;de<Te;de++){const Me=Ne[de]=ue?S2(Ne[de]):b0(Ne[de]);d(ke[de],Me,Ve,null,Fe,ie,we,se,ue)}pe>le?ne(ke,Fe,ie,!0,!1,Te):D(Ne,Ve,Oe,Fe,ie,we,se,ue,Te)},ae=(ke,Ne,Ve,Oe,Fe,ie,we,se,ue)=>{let pe=0;const le=Ne.length;let Te=ke.length-1,de=le-1;for(;pe<=Te&&pe<=de;){const Me=ke[pe],Re=Ne[pe]=ue?S2(Ne[pe]):b0(Ne[pe]);if(u3(Me,Re))d(Me,Re,Ve,null,Fe,ie,we,se,ue);else break;pe++}for(;pe<=Te&&pe<=de;){const Me=ke[Te],Re=Ne[de]=ue?S2(Ne[de]):b0(Ne[de]);if(u3(Me,Re))d(Me,Re,Ve,null,Fe,ie,we,se,ue);else break;Te--,de--}if(pe>Te){if(pe<=de){const Me=de+1,Re=Me<le?Ne[Me].el:Oe;for(;pe<=de;)d(null,Ne[pe]=ue?S2(Ne[pe]):b0(Ne[pe]),Ve,Re,Fe,ie,we,se,ue),pe++}}else if(pe>de)for(;pe<=Te;)he(ke[pe],Fe,ie,!0),pe++;else{const Me=pe,Re=pe,ze=new Map;for(pe=Re;pe<=de;pe++){const ut=Ne[pe]=ue?S2(Ne[pe]):b0(Ne[pe]);ut.key!=null&&ze.set(ut.key,pe)}let We,ot=0;const dt=de-Re+1;let Ge=!1,Xe=0;const qe=new Array(dt);for(pe=0;pe<dt;pe++)qe[pe]=0;for(pe=Me;pe<=Te;pe++){const ut=ke[pe];if(ot>=dt){he(ut,Fe,ie,!0);continue}let tt;if(ut.key!=null)tt=ze.get(ut.key);else for(We=Re;We<=de;We++)if(qe[We-Re]===0&&u3(ut,Ne[We])){tt=We;break}tt===void 0?he(ut,Fe,ie,!0):(qe[tt-Re]=pe+1,tt>=Xe?Xe=tt:Ge=!0,d(ut,Ne[tt],Ve,null,Fe,ie,we,se,ue),ot++)}const gt=Ge?Yue(qe):pE;for(We=gt.length-1,pe=dt-1;pe>=0;pe--){const ut=Re+pe,tt=Ne[ut],Ct=ut+1<le?Ne[ut+1].el:Oe;qe[pe]===0?d(null,tt,Ve,Ct,Fe,ie,we,se,ue):Ge&&(We<0||pe!==gt[We]?Q(tt,Ve,Ct,2):We--)}}},Q=(ke,Ne,Ve,Oe,Fe=null)=>{const{el:ie,type:we,transition:se,children:ue,shapeFlag:pe}=ke;if(pe&6){Q(ke.component.subTree,Ne,Ve,Oe);return}if(pe&128){ke.suspense.move(Ne,Ve,Oe);return}if(pe&64){we.move(ke,Ne,Ve,ye);return}if(we===Uo){T(ie,Ne,Ve);for(let Te=0;Te<ue.length;Te++)Q(ue[Te],Ne,Ve,Oe);T(ke.anchor,Ne,Ve);return}if(we===HJ){C(ke,Ne,Ve);return}if(Oe!==2&&pe&1&&se)if(Oe===0)se.beforeEnter(ie),T(ie,Ne,Ve),sh(()=>se.enter(ie),Fe);else{const{leave:Te,delayLeave:de,afterLeave:Me}=se,Re=()=>T(ie,Ne,Ve),ze=()=>{Te(ie,()=>{Re(),Me&&Me()})};de?de(ie,Re,ze):ze()}else T(ie,Ne,Ve)},he=(ke,Ne,Ve,Oe=!1,Fe=!1)=>{const{type:ie,props:we,ref:se,children:ue,dynamicChildren:pe,shapeFlag:le,patchFlag:Te,dirs:de}=ke;if(se!=null&&pQ(se,null,Ve,ke,!0),le&256){Ne.ctx.deactivate(ke);return}const Me=le&1&&de,Re=!sB(ke);let ze;if(Re&&(ze=we&&we.onVnodeBeforeUnmount)&&v0(ze,Ne,ke),le&6)ce(ke.component,Ve,Oe);else{if(le&128){ke.suspense.unmount(Ve,Oe);return}Me&&o3(ke,null,Ne,"beforeUnmount"),le&64?ke.type.remove(ke,Ne,Ve,Fe,ye,Oe):pe&&(ie!==Uo||Te>0&&Te&64)?ne(pe,Ne,Ve,!1,!0):(ie===Uo&&Te&384||!Fe&&le&16)&&ne(ue,Ne,Ve),Oe&&ge(ke)}(Re&&(ze=we&&we.onVnodeUnmounted)||Me)&&sh(()=>{ze&&v0(ze,Ne,ke),Me&&o3(ke,null,Ne,"unmounted")},Ve)},ge=ke=>{const{type:Ne,el:Ve,anchor:Oe,transition:Fe}=ke;if(Ne===Uo){Se(Ve,Oe);return}if(Ne===HJ){_(ke);return}const ie=()=>{G(Ve),Fe&&!Fe.persisted&&Fe.afterLeave&&Fe.afterLeave()};if(ke.shapeFlag&1&&Fe&&!Fe.persisted){const{leave:we,delayLeave:se}=Fe,ue=()=>we(Ve,ie);se?se(ke.el,ie,ue):ue()}else ie()},Se=(ke,Ne)=>{let Ve;for(;ke!==Ne;)Ve=c(ke),G(ke),ke=Ve;G(Ne)},ce=(ke,Ne,Ve)=>{const{bum:Oe,scope:Fe,update:ie,subTree:we,um:se}=ke;Oe&&aB(Oe),Fe.stop(),ie&&(ie.active=!1,he(we,ke,Ne,Ve)),se&&sh(se,Ne),sh(()=>{ke.isUnmounted=!0},Ne),Ne&&Ne.pendingBranch&&!Ne.isUnmounted&&ke.asyncDep&&!ke.asyncResolved&&ke.suspenseId===Ne.pendingId&&(Ne.deps--,Ne.deps===0&&Ne.resolve())},ne=(ke,Ne,Ve,Oe=!1,Fe=!1,ie=0)=>{for(let we=ie;we<ke.length;we++)he(ke[we],Ne,Ve,Oe,Fe)},fe=ke=>ke.shapeFlag&6?fe(ke.component.subTree):ke.shapeFlag&128?ke.suspense.next():c(ke.anchor||ke.el),X=(ke,Ne,Ve)=>{ke==null?Ne._vnode&&he(Ne._vnode,null,null,!0):d(Ne._vnode||null,ke,Ne,null,null,null,Ve),tne(),Poe(),Ne._vnode=ke},ye={p:d,um:he,m:Q,r:ge,mt:H,mc:D,pc:J,pbc:M,n:fe,o};let Ce,$e;return b&&([Ce,$e]=b(ye)),{render:X,hydrate:Ce,createApp:Hue(X,Ce)}}function a3({effect:o,update:b},y){o.allowRecurse=b.allowRecurse=y}function pq(o,b,y=!1){const T=o.children,G=b.children;if(Pa(T)&&Pa(G))for(let V=0;V<T.length;V++){const L=T[V];let A=G[V];A.shapeFlag&1&&!A.dynamicChildren&&((A.patchFlag<=0||A.patchFlag===32)&&(A=G[V]=S2(G[V]),A.el=L.el),y||pq(L,A)),A.type===j6&&(A.el=L.el)}}function Yue(o){const b=o.slice(),y=[0];let T,G,V,L,A;const s=o.length;for(T=0;T<s;T++){const m=o[T];if(m!==0){if(G=y[y.length-1],o[G]<m){b[T]=G,y.push(T);continue}for(V=0,L=y.length-1;V<L;)A=V+L>>1,o[y[A]]<m?V=A+1:L=A;m<o[y[V]]&&(V>0&&(b[T]=y[V-1]),y[V]=T)}}for(V=y.length,L=y[V-1];V-- >0;)y[V]=L,L=b[L];return y}const Kue=o=>o.__isTeleport,T6=o=>o&&(o.disabled||o.disabled===""),hne=o=>typeof SVGElement<"u"&&o instanceof SVGElement,vQ=(o,b)=>{const y=o&&o.to;return hc(y)?b?b(y):null:y},Xue={__isTeleport:!0,process(o,b,y,T,G,V,L,A,s,m){const{mc:h,pc:l,pbc:c,o:{insert:i,querySelector:u,createText:d,createComment:g}}=m,v=T6(b.props);let{shapeFlag:x,children:C,dynamicChildren:_}=b;if(o==null){const $=b.el=d(""),S=b.anchor=d("");i($,y,T),i(S,y,T);const O=b.target=vQ(b.props,u),D=b.targetAnchor=d("");O&&(i(D,O),L=L||hne(O));const N=(M,k)=>{x&16&&h(C,M,k,G,V,L,A,s)};v?N(y,S):O&&N(O,D)}else{b.el=o.el;const $=b.anchor=o.anchor,S=b.target=o.target,O=b.targetAnchor=o.targetAnchor,D=T6(o.props),N=D?y:S,M=D?$:O;if(L=L||hne(S),_?(c(o.dynamicChildren,_,N,G,V,L,A),pq(o,b,!0)):s||l(o,b,N,M,G,V,L,A,!1),v)D||YF(b,y,$,m,1);else if((b.props&&b.props.to)!==(o.props&&o.props.to)){const k=b.target=vQ(b.props,u);k&&YF(b,k,null,m,0)}else D&&YF(b,S,O,m,1)}eae(b)},remove(o,b,y,T,{um:G,o:{remove:V}},L){const{shapeFlag:A,children:s,anchor:m,targetAnchor:h,target:l,props:c}=o;if(l&&V(h),(L||!T6(c))&&(V(m),A&16))for(let i=0;i<s.length;i++){const u=s[i];G(u,b,y,!0,!!u.dynamicChildren)}},move:YF,hydrate:Jue};function YF(o,b,y,{o:{insert:T},m:G},V=2){V===0&&T(o.targetAnchor,b,y);const{el:L,anchor:A,shapeFlag:s,children:m,props:h}=o,l=V===2;if(l&&T(L,b,y),(!l||T6(h))&&s&16)for(let c=0;c<m.length;c++)G(m[c],b,y,2);l&&T(A,b,y)}function Jue(o,b,y,T,G,V,{o:{nextSibling:L,parentNode:A,querySelector:s}},m){const h=b.target=vQ(b.props,s);if(h){const l=h._lpa||h.firstChild;if(b.shapeFlag&16)if(T6(b.props))b.anchor=m(L(o),b,A(o),y,T,G,V),b.targetAnchor=l;else{b.anchor=L(o);let c=l;for(;c;)if(c=L(c),c&&c.nodeType===8&&c.data==="teleport anchor"){b.targetAnchor=c,h._lpa=b.targetAnchor&&L(b.targetAnchor);break}m(l,b,h,y,T,G,V)}eae(b)}return b.anchor&&L(b.anchor)}const Que=Xue;function eae(o){const b=o.ctx;if(b&&b.ut){let y=o.children[0].el;for(;y!==o.targetAnchor;)y.nodeType===1&&y.setAttribute("data-v-owner",b.uid),y=y.nextSibling;b.ut()}}const Uo=Symbol.for("v-fgt"),j6=Symbol.for("v-txt"),Mp=Symbol.for("v-cmt"),HJ=Symbol.for("v-stc"),k6=[];let Tp=null;function mo(o=!1){k6.push(Tp=o?null:[])}function que(){k6.pop(),Tp=k6[k6.length-1]||null}let P6=1;function mne(o){P6+=o}function tae(o){return o.dynamicChildren=P6>0?Tp||pE:null,que(),P6>0&&Tp&&Tp.push(o),o}function Ts(o,b,y,T,G,V){return tae(ff(o,b,y,T,G,V,!0))}function za(o,b,y,T,G){return tae(ct(o,b,y,T,G,!0))}function yQ(o){return o?o.__v_isVNode===!0:!1}function u3(o,b){return o.type===b.type&&o.key===b.key}const JB="__vInternal",nae=({key:o})=>o??null,iB=({ref:o,ref_key:b,ref_for:y})=>(typeof o=="number"&&(o=""+o),o!=null?hc(o)||Wl(o)||fs(o)?{i:lm,r:o,k:b,f:!!y}:o:null);function ff(o,b=null,y=null,T=0,G=null,V=o===Uo?0:1,L=!1,A=!1){const s={__v_isVNode:!0,__v_skip:!0,type:o,props:b,key:b&&nae(b),ref:b&&iB(b),scopeId:Foe,slotScopeIds:null,children:y,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:V,patchFlag:T,dynamicProps:G,dynamicChildren:null,appContext:null,ctx:lm};return A?(vq(s,y),V&128&&o.normalize(s)):y&&(s.shapeFlag|=hc(y)?8:16),P6>0&&!L&&Tp&&(s.patchFlag>0||V&6)&&s.patchFlag!==32&&Tp.push(s),s}const ct=efe;function efe(o,b=null,y=null,T=0,G=null,V=!1){if((!o||o===Zoe)&&(o=Mp),yQ(o)){const A=By(o,b,!0);return y&&vq(A,y),P6>0&&!V&&Tp&&(A.shapeFlag&6?Tp[Tp.indexOf(o)]=A:Tp.push(A)),A.patchFlag|=-2,A}if(ufe(o)&&(o=o.__vccOpts),b){b=tfe(b);let{class:A,style:s}=b;A&&!hc(A)&&(b.class=KQ(A)),ol(s)&&(Moe(s)&&!Pa(s)&&(s=Mc({},s)),b.style=YQ(s))}const L=hc(o)?1:wue(o)?128:Kue(o)?64:ol(o)?4:fs(o)?2:0;return ff(o,b,y,T,G,L,V,!0)}function tfe(o){return o?Moe(o)||JB in o?Mc({},o):o:null}function By(o,b,y=!1){const{props:T,ref:G,patchFlag:V,children:L}=o,A=b?Jo(T||{},b):T;return{__v_isVNode:!0,__v_skip:!0,type:o.type,props:A,key:A&&nae(A),ref:b&&b.ref?y&&G?Pa(G)?G.concat(iB(b)):[G,iB(b)]:iB(b):G,scopeId:o.scopeId,slotScopeIds:o.slotScopeIds,children:L,target:o.target,targetAnchor:o.targetAnchor,staticCount:o.staticCount,shapeFlag:o.shapeFlag,patchFlag:b&&o.type!==Uo?V===-1?16:V|16:V,dynamicProps:o.dynamicProps,dynamicChildren:o.dynamicChildren,appContext:o.appContext,dirs:o.dirs,transition:o.transition,component:o.component,suspense:o.suspense,ssContent:o.ssContent&&By(o.ssContent),ssFallback:o.ssFallback&&By(o.ssFallback),el:o.el,anchor:o.anchor,ctx:o.ctx,ce:o.ce}}function ii(o=" ",b=0){return ct(j6,null,o,b)}function cm(o="",b=!1){return b?(mo(),za(Mp,null,o)):ct(Mp,null,o)}function b0(o){return o==null||typeof o=="boolean"?ct(Mp):Pa(o)?ct(Uo,null,o.slice()):typeof o=="object"?S2(o):ct(j6,null,String(o))}function S2(o){return o.el===null&&o.patchFlag!==-1||o.memo?o:By(o)}function vq(o,b){let y=0;const{shapeFlag:T}=o;if(b==null)b=null;else if(Pa(b))y=16;else if(typeof b=="object")if(T&65){const G=b.default;G&&(G._c&&(G._d=!1),vq(o,G()),G._c&&(G._d=!0));return}else{y=32;const G=b._;!G&&!(JB in b)?b._ctx=lm:G===3&&lm&&(lm.slots._===1?b._=1:(b._=2,o.patchFlag|=1024))}else fs(b)?(b={default:b,_ctx:lm},y=32):(b=String(b),T&64?(y=16,b=[ii(b)]):y=8);o.children=b,o.shapeFlag|=y}function Jo(...o){const b={};for(let y=0;y<o.length;y++){const T=o[y];for(const G in T)if(G==="class")b.class!==T.class&&(b.class=KQ([b.class,T.class]));else if(G==="style")b.style=YQ([b.style,T.style]);else if(zB(G)){const V=b[G],L=T[G];L&&V!==L&&!(Pa(V)&&V.includes(L))&&(b[G]=V?[].concat(V,L):L)}else G!==""&&(b[G]=T[G])}return b}function v0(o,b,y,T=null){vg(o,b,7,[y,T])}const nfe=Yoe();let rfe=0;function ofe(o,b,y){const T=o.type,G=(b?b.appContext:o.appContext)||nfe,V={uid:rfe++,vnode:o,type:T,parent:b,appContext:G,root:null,next:null,subTree:null,effect:null,update:null,scope:new poe(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:b?b.provides:Object.create(G.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Xoe(T,G),emitsOptions:Noe(T,G),emit:null,emitted:null,propsDefaults:vl,inheritAttrs:T.inheritAttrs,ctx:vl,data:vl,props:vl,attrs:vl,slots:vl,refs:vl,setupState:vl,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:y,suspenseId:y?y.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return V.ctx={_:V},V.root=b?b.root:V,V.emit=pue.bind(null,V),o.ce&&o.ce(V),V}let zu=null;const yq=()=>zu||lm;let bq,fE,gne="__VUE_INSTANCE_SETTERS__";(fE=iQ()[gne])||(fE=iQ()[gne]=[]),fE.push(o=>zu=o),bq=o=>{fE.length>1?fE.forEach(b=>b(o)):fE[0](o)};const TE=o=>{bq(o),o.scope.on()},g3=()=>{zu&&zu.scope.off(),bq(null)};function rae(o){return o.vnode.shapeFlag&4}let I6=!1;function afe(o,b=!1){I6=b;const{props:y,children:T}=o.vnode,G=rae(o);zue(o,y,G,b),Wue(o,T);const V=G?sfe(o,b):void 0;return I6=!1,V}function sfe(o,b){const y=o.type;o.accessCache=Object.create(null),o.proxy=rq(new Proxy(o.ctx,$ue));const{setup:T}=y;if(T){const G=o.setupContext=T.length>1?lfe(o):null;TE(o),$E();const V=A2(T,o,0,[o.props,G]);if(OE(),g3(),foe(V)){if(V.then(g3,g3),b)return V.then(L=>{pne(o,L,b)}).catch(L=>{ZB(L,o,0)});o.asyncDep=V}else pne(o,V,b)}else oae(o,b)}function pne(o,b,y){fs(b)?o.type.__ssrInlineRender?o.ssrRender=b:o.render=b:ol(b)&&(o.setupState=Loe(b)),oae(o,y)}let vne;function oae(o,b,y){const T=o.type;if(!o.render){if(!b&&vne&&!T.render){const G=T.template||mq(o).template;if(G){const{isCustomElement:V,compilerOptions:L}=o.appContext.config,{delimiters:A,compilerOptions:s}=T,m=Mc(Mc({isCustomElement:V,delimiters:A},L),s);T.render=vne(G,m)}}o.render=T.render||Ap}TE(o),$E(),Oue(o),OE(),g3()}function ife(o){return o.attrsProxy||(o.attrsProxy=new Proxy(o.attrs,{get(b,y){return uh(o,"get","$attrs"),b[y]}}))}function lfe(o){const b=y=>{o.exposed=y||{}};return{get attrs(){return ife(o)},slots:o.slots,emit:o.emit,expose:b}}function QB(o){if(o.exposed)return o.exposeProxy||(o.exposeProxy=new Proxy(Loe(rq(o.exposed)),{get(b,y){if(y in b)return b[y];if(y in S6)return S6[y](o)},has(b,y){return y in b||y in S6}}))}function cfe(o,b=!0){return fs(o)?o.displayName||o.name:o.name||b&&o.__name}function ufe(o){return fs(o)&&"__vccOpts"in o}const on=(o,b)=>uue(o,b,I6);function um(o,b,y){const T=arguments.length;return T===2?ol(b)&&!Pa(b)?yQ(b)?ct(o,null,[b]):ct(o,b):ct(o,null,b):(T>3?y=Array.prototype.slice.call(arguments,2):T===3&&yQ(y)&&(y=[y]),ct(o,b,y))}const ffe=Symbol.for("v-scx"),dfe=()=>ni(ffe),hfe="3.3.4",mfe="http://www.w3.org/2000/svg",f3=typeof document<"u"?document:null,yne=f3&&f3.createElement("template"),gfe={insert:(o,b,y)=>{b.insertBefore(o,y||null)},remove:o=>{const b=o.parentNode;b&&b.removeChild(o)},createElement:(o,b,y,T)=>{const G=b?f3.createElementNS(mfe,o):f3.createElement(o,y?{is:y}:void 0);return o==="select"&&T&&T.multiple!=null&&G.setAttribute("multiple",T.multiple),G},createText:o=>f3.createTextNode(o),createComment:o=>f3.createComment(o),setText:(o,b)=>{o.nodeValue=b},setElementText:(o,b)=>{o.textContent=b},parentNode:o=>o.parentNode,nextSibling:o=>o.nextSibling,querySelector:o=>f3.querySelector(o),setScopeId(o,b){o.setAttribute(b,"")},insertStaticContent(o,b,y,T,G,V){const L=y?y.previousSibling:b.lastChild;if(G&&(G===V||G.nextSibling))for(;b.insertBefore(G.cloneNode(!0),y),!(G===V||!(G=G.nextSibling)););else{yne.innerHTML=T?`<svg>${o}</svg>`:o;const A=yne.content;if(T){const s=A.firstChild;for(;s.firstChild;)A.appendChild(s.firstChild);A.removeChild(s)}b.insertBefore(A,y)}return[L?L.nextSibling:b.firstChild,y?y.previousSibling:b.lastChild]}};function pfe(o,b,y){const T=o._vtc;T&&(b=(b?[b,...T]:[...T]).join(" ")),b==null?o.removeAttribute("class"):y?o.setAttribute("class",b):o.className=b}function vfe(o,b,y){const T=o.style,G=hc(y);if(y&&!G){if(b&&!hc(b))for(const V in b)y[V]==null&&bQ(T,V,"");for(const V in y)bQ(T,V,y[V])}else{const V=T.display;G?b!==y&&(T.cssText=y):b&&o.removeAttribute("style"),"_vod"in o&&(T.display=V)}}const bne=/\s*!important$/;function bQ(o,b,y){if(Pa(y))y.forEach(T=>bQ(o,b,T));else if(y==null&&(y=""),b.startsWith("--"))o.setProperty(b,y);else{const T=yfe(o,b);bne.test(y)?o.setProperty(DE(T),y.replace(bne,""),"important"):o[T]=y}}const xne=["Webkit","Moz","ms"],zJ={};function yfe(o,b){const y=zJ[b];if(y)return y;let T=bg(b);if(T!=="filter"&&T in o)return zJ[b]=T;T=_0(T);for(let G=0;G<xne.length;G++){const V=xne[G]+T;if(V in o)return zJ[b]=V}return b}const wne="http://www.w3.org/1999/xlink";function bfe(o,b,y,T,G){if(T&&b.startsWith("xlink:"))y==null?o.removeAttributeNS(wne,b.slice(6,b.length)):o.setAttributeNS(wne,b,y);else{const V=Ece(b);y==null||V&&!moe(y)?o.removeAttribute(b):o.setAttribute(b,V?"":y)}}function xfe(o,b,y,T,G,V,L){if(b==="innerHTML"||b==="textContent"){T&&L(T,G,V),o[b]=y??"";return}const A=o.tagName;if(b==="value"&&A!=="PROGRESS"&&!A.includes("-")){o._value=y;const m=A==="OPTION"?o.getAttribute("value"):o.value,h=y??"";m!==h&&(o.value=h),y==null&&o.removeAttribute(b);return}let s=!1;if(y===""||y==null){const m=typeof o[b];m==="boolean"?y=moe(y):y==null&&m==="string"?(y="",s=!0):m==="number"&&(y=0,s=!0)}try{o[b]=y}catch{}s&&o.removeAttribute(b)}function mE(o,b,y,T){o.addEventListener(b,y,T)}function wfe(o,b,y,T){o.removeEventListener(b,y,T)}function Cfe(o,b,y,T,G=null){const V=o._vei||(o._vei={}),L=V[b];if(T&&L)L.value=T;else{const[A,s]=Sfe(b);if(T){const m=V[b]=Afe(T,G);mE(o,A,m,s)}else L&&(wfe(o,A,L,s),V[b]=void 0)}}const Cne=/(?:Once|Passive|Capture)$/;function Sfe(o){let b;if(Cne.test(o)){b={};let T;for(;T=o.match(Cne);)o=o.slice(0,o.length-T[0].length),b[T[0].toLowerCase()]=!0}return[o[2]===":"?o.slice(3):DE(o.slice(2)),b]}let VJ=0;const Tfe=Promise.resolve(),kfe=()=>VJ||(Tfe.then(()=>VJ=0),VJ=Date.now());function Afe(o,b){const y=T=>{if(!T._vts)T._vts=Date.now();else if(T._vts<=y.attached)return;vg(Mfe(T,y.value),b,5,[T])};return y.value=o,y.attached=kfe(),y}function Mfe(o,b){if(Pa(b)){const y=o.stopImmediatePropagation;return o.stopImmediatePropagation=()=>{y.call(o),o._stopped=!0},b.map(T=>G=>!G._stopped&&T&&T(G))}else return b}const Sne=/^on[a-z]/,Efe=(o,b,y,T,G=!1,V,L,A,s)=>{b==="class"?pfe(o,T,G):b==="style"?vfe(o,y,T):zB(b)?WQ(b)||Cfe(o,b,y,T,L):(b[0]==="."?(b=b.slice(1),!0):b[0]==="^"?(b=b.slice(1),!1):_fe(o,b,T,G))?xfe(o,b,T,V,L,A,s):(b==="true-value"?o._trueValue=T:b==="false-value"&&(o._falseValue=T),bfe(o,b,T,G))};function _fe(o,b,y,T){return T?!!(b==="innerHTML"||b==="textContent"||b in o&&Sne.test(b)&&fs(y)):b==="spellcheck"||b==="draggable"||b==="translate"||b==="form"||b==="list"&&o.tagName==="INPUT"||b==="type"&&o.tagName==="TEXTAREA"||Sne.test(b)&&hc(y)?!1:b in o}const w2="transition",v6="animation",Hy=(o,{slots:b})=>um(kue,sae(o),b);Hy.displayName="Transition";const aae={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Rfe=Hy.props=Mc({},zoe,aae),s3=(o,b=[])=>{Pa(o)?o.forEach(y=>y(...b)):o&&o(...b)},Tne=o=>o?Pa(o)?o.some(b=>b.length>1):o.length>1:!1;function sae(o){const b={};for(const R in o)R in aae||(b[R]=o[R]);if(o.css===!1)return b;const{name:y="v",type:T,duration:G,enterFromClass:V=`${y}-enter-from`,enterActiveClass:L=`${y}-enter-active`,enterToClass:A=`${y}-enter-to`,appearFromClass:s=V,appearActiveClass:m=L,appearToClass:h=A,leaveFromClass:l=`${y}-leave-from`,leaveActiveClass:c=`${y}-leave-active`,leaveToClass:i=`${y}-leave-to`}=o,u=Lfe(G),d=u&&u[0],g=u&&u[1],{onBeforeEnter:v,onEnter:x,onEnterCancelled:C,onLeave:_,onLeaveCancelled:$,onBeforeAppear:S=v,onAppear:O=x,onAppearCancelled:D=C}=b,N=(R,F,H)=>{C2(R,F?h:A),C2(R,F?m:L),H&&H()},M=(R,F)=>{R._isLeaving=!1,C2(R,l),C2(R,i),C2(R,c),F&&F()},k=R=>(F,H)=>{const j=R?O:x,P=()=>N(F,R,H);s3(j,[F,P]),kne(()=>{C2(F,R?s:V),Py(F,R?h:A),Tne(j)||Ane(F,T,d,P)})};return Mc(b,{onBeforeEnter(R){s3(v,[R]),Py(R,V),Py(R,L)},onBeforeAppear(R){s3(S,[R]),Py(R,s),Py(R,m)},onEnter:k(!1),onAppear:k(!0),onLeave(R,F){R._isLeaving=!0;const H=()=>M(R,F);Py(R,l),lae(),Py(R,c),kne(()=>{R._isLeaving&&(C2(R,l),Py(R,i),Tne(_)||Ane(R,T,g,H))}),s3(_,[R,H])},onEnterCancelled(R){N(R,!1),s3(C,[R])},onAppearCancelled(R){N(R,!0),s3(D,[R])},onLeaveCancelled(R){M(R),s3($,[R])}})}function Lfe(o){if(o==null)return null;if(ol(o))return[UJ(o.enter),UJ(o.leave)];{const b=UJ(o);return[b,b]}}function UJ(o){return Cce(o)}function Py(o,b){b.split(/\s+/).forEach(y=>y&&o.classList.add(y)),(o._vtc||(o._vtc=new Set)).add(b)}function C2(o,b){b.split(/\s+/).forEach(T=>T&&o.classList.remove(T));const{_vtc:y}=o;y&&(y.delete(b),y.size||(o._vtc=void 0))}function kne(o){requestAnimationFrame(()=>{requestAnimationFrame(o)})}let Dfe=0;function Ane(o,b,y,T){const G=o._endId=++Dfe,V=()=>{G===o._endId&&T()};if(y)return setTimeout(V,y);const{type:L,timeout:A,propCount:s}=iae(o,b);if(!L)return T();const m=L+"end";let h=0;const l=()=>{o.removeEventListener(m,c),V()},c=i=>{i.target===o&&++h>=s&&l()};setTimeout(()=>{h<s&&l()},A+1),o.addEventListener(m,c)}function iae(o,b){const y=window.getComputedStyle(o),T=u=>(y[u]||"").split(", "),G=T(`${w2}Delay`),V=T(`${w2}Duration`),L=Mne(G,V),A=T(`${v6}Delay`),s=T(`${v6}Duration`),m=Mne(A,s);let h=null,l=0,c=0;b===w2?L>0&&(h=w2,l=L,c=V.length):b===v6?m>0&&(h=v6,l=m,c=s.length):(l=Math.max(L,m),h=l>0?L>m?w2:v6:null,c=h?h===w2?V.length:s.length:0);const i=h===w2&&/\b(transform|all)(,|$)/.test(T(`${w2}Property`).toString());return{type:h,timeout:l,propCount:c,hasTransform:i}}function Mne(o,b){for(;o.length<b.length;)o=o.concat(o);return Math.max(...b.map((y,T)=>Ene(y)+Ene(o[T])))}function Ene(o){return Number(o.slice(0,-1).replace(",","."))*1e3}function lae(){return document.body.offsetHeight}const cae=new WeakMap,uae=new WeakMap,fae={name:"TransitionGroup",props:Mc({},Rfe,{tag:String,moveClass:String}),setup(o,{slots:b}){const y=yq(),T=Hoe();let G,V;return Woe(()=>{if(!G.length)return;const L=o.moveClass||`${o.name||"v"}-move`;if(!Ffe(G[0].el,y.vnode.el,L))return;G.forEach(Pfe),G.forEach(Ife);const A=G.filter(Nfe);lae(),A.forEach(s=>{const m=s.el,h=m.style;Py(m,L),h.transform=h.webkitTransform=h.transitionDuration="";const l=m._moveCb=c=>{c&&c.target!==m||(!c||/transform$/.test(c.propertyName))&&(m.removeEventListener("transitionend",l),m._moveCb=null,C2(m,L))};m.addEventListener("transitionend",l)})}),()=>{const L=ds(o),A=sae(L);let s=L.tag||Uo;G=V,V=b.default?lq(b.default()):[];for(let m=0;m<V.length;m++){const h=V[m];h.key!=null&&O6(h,$6(h,A,T,y))}if(G)for(let m=0;m<G.length;m++){const h=G[m];O6(h,$6(h,A,T,y)),cae.set(h,h.el.getBoundingClientRect())}return ct(s,null,V)}}},$fe=o=>delete o.mode;fae.props;const Ofe=fae;function Pfe(o){const b=o.el;b._moveCb&&b._moveCb(),b._enterCb&&b._enterCb()}function Ife(o){uae.set(o,o.el.getBoundingClientRect())}function Nfe(o){const b=cae.get(o),y=uae.get(o),T=b.left-y.left,G=b.top-y.top;if(T||G){const V=o.el.style;return V.transform=V.webkitTransform=`translate(${T}px,${G}px)`,V.transitionDuration="0s",o}}function Ffe(o,b,y){const T=o.cloneNode();o._vtc&&o._vtc.forEach(L=>{L.split(/\s+/).forEach(A=>A&&T.classList.remove(A))}),y.split(/\s+/).forEach(L=>L&&T.classList.add(L)),T.style.display="none";const G=b.nodeType===1?b:b.parentNode;G.appendChild(T);const{hasTransform:V}=iae(T);return G.removeChild(T),V}const _ne=o=>{const b=o.props["onUpdate:modelValue"]||!1;return Pa(b)?y=>aB(b,y):b};function Bfe(o){o.target.composing=!0}function Rne(o){const b=o.target;b.composing&&(b.composing=!1,b.dispatchEvent(new Event("input")))}const Hfe={created(o,{modifiers:{lazy:b,trim:y,number:T}},G){o._assign=_ne(G);const V=T||G.props&&G.props.type==="number";mE(o,b?"change":"input",L=>{if(L.target.composing)return;let A=o.value;y&&(A=A.trim()),V&&(A=sQ(A)),o._assign(A)}),y&&mE(o,"change",()=>{o.value=o.value.trim()}),b||(mE(o,"compositionstart",Bfe),mE(o,"compositionend",Rne),mE(o,"change",Rne))},mounted(o,{value:b}){o.value=b??""},beforeUpdate(o,{value:b,modifiers:{lazy:y,trim:T,number:G}},V){if(o._assign=_ne(V),o.composing||document.activeElement===o&&o.type!=="range"&&(y||T&&o.value.trim()===b||(G||o.type==="number")&&sQ(o.value)===b))return;const L=b??"";o.value!==L&&(o.value=L)}},zfe=["ctrl","shift","alt","meta"],Vfe={stop:o=>o.stopPropagation(),prevent:o=>o.preventDefault(),self:o=>o.target!==o.currentTarget,ctrl:o=>!o.ctrlKey,shift:o=>!o.shiftKey,alt:o=>!o.altKey,meta:o=>!o.metaKey,left:o=>"button"in o&&o.button!==0,middle:o=>"button"in o&&o.button!==1,right:o=>"button"in o&&o.button!==2,exact:(o,b)=>zfe.some(y=>o[`${y}Key`]&&!b.includes(y))},Lne=(o,b)=>(y,...T)=>{for(let G=0;G<b.length;G++){const V=Vfe[b[G]];if(V&&V(y,b))return}return o(y,...T)},R2={beforeMount(o,{value:b},{transition:y}){o._vod=o.style.display==="none"?"":o.style.display,y&&b?y.beforeEnter(o):y6(o,b)},mounted(o,{value:b},{transition:y}){y&&b&&y.enter(o)},updated(o,{value:b,oldValue:y},{transition:T}){!b!=!y&&(T?b?(T.beforeEnter(o),y6(o,!0),T.enter(o)):T.leave(o,()=>{y6(o,!1)}):y6(o,b))},beforeUnmount(o,{value:b}){y6(o,b)}};function y6(o,b){o.style.display=b?o._vod:"none"}const Ufe=Mc({patchProp:Efe},gfe);let Dne;function Wfe(){return Dne||(Dne=Zue(Ufe))}const Gfe=(...o)=>{const b=Wfe().createApp(...o),{mount:y}=b;return b.mount=T=>{const G=Zfe(T);if(!G)return;const V=b._component;!fs(V)&&!V.render&&!V.template&&(V.template=G.innerHTML),G.innerHTML="";const L=y(G,!1,G instanceof SVGElement);return G instanceof Element&&(G.removeAttribute("v-cloak"),G.setAttribute("data-v-app","")),L},b};function Zfe(o){return hc(o)?document.querySelector(o):o}function dae(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var hae={exports:{}};(function(o,b){(function(T,G){o.exports=G()})(self,function(){return function(){var y={8847:function(L,A,s){var m=s(1828),h={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var l in h){var c=l.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");m.addStyleRule(c,h[l])}},8222:function(L,A,s){L.exports=s(2887)},7206:function(L,A,s){L.exports=s(822)},9509:function(L,A,s){L.exports=s(2201)},9548:function(L,A,s){L.exports=s(8729)},1039:function(L,A,s){L.exports=s(4382)},4296:function(L,A,s){L.exports=s(3102)},2576:function(L,A,s){var m=s(9548);m.register([s(7206),s(4201),s(8222),s(1039),s(4296),s(6398),s(9509)]),L.exports=m},4201:function(L,A,s){L.exports=s(8810)},6398:function(L,A,s){L.exports=s(2275)},2884:function(L){L.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},215:function(L,A,s){var m=s(2884),h=s(1940),l=s(5555),c=s(4467).templatedArray;s(4695),L.exports=c("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:h({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:m.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:m.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",l.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",l.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",l.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",l.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:h({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(L,A,s){var m=s(1828),h=s(9298),l=s(2605).draw;L.exports=function(d){var g=d._fullLayout,v=m.filterVisible(g.annotations);if(v.length&&d._fullData.length)return m.syncOrAsync([l,c],d)};function c(u){var d=u._fullLayout;m.filterVisible(d.annotations).forEach(function(g){var v=h.getFromId(u,g.xref),x=h.getFromId(u,g.yref),C=h.getRefType(g.xref),_=h.getRefType(g.yref);g._extremes={},C==="range"&&i(g,v),_==="range"&&i(g,x)})}function i(u,d){var g=d._id,v=g.charAt(0),x=u[v],C=u["a"+v],_=u[v+"ref"],$=u["a"+v+"ref"],S=u["_"+v+"padplus"],O=u["_"+v+"padminus"],D={x:1,y:-1}[v]*u[v+"shift"],N=3*u.arrowsize*u.arrowwidth||0,M=N+D,k=N-D,R=3*u.startarrowsize*u.arrowwidth||0,F=R+D,H=R-D,j;if($===_){var P=h.findExtremes(d,[d.r2c(x)],{ppadplus:M,ppadminus:k}),ee=h.findExtremes(d,[d.r2c(C)],{ppadplus:Math.max(S,F),ppadminus:Math.max(O,H)});j={min:[P.min[0],ee.min[0]],max:[P.max[0],ee.max[0]]}}else F=C?F+C:F,H=C?H-C:H,j=h.findExtremes(d,[d.r2c(x)],{ppadplus:Math.max(S,M,F),ppadminus:Math.max(O,k,H)});u._extremes[g]=j}},4317:function(L,A,s){var m=s(1828),h=s(3972),l=s(4467).arrayEditor;L.exports={hasClickToShow:c,onClick:i};function c(g,v){var x=u(g,v);return x.on.length>0||x.explicitOff.length>0}function i(g,v){var x=u(g,v),C=x.on,_=x.off.concat(x.explicitOff),$={},S=g._fullLayout.annotations,O,D;if(C.length||_.length){for(O=0;O<C.length;O++)D=l(g.layout,"annotations",S[C[O]]),D.modifyItem("visible",!0),m.extendFlat($,D.getUpdateObj());for(O=0;O<_.length;O++)D=l(g.layout,"annotations",S[_[O]]),D.modifyItem("visible",!1),m.extendFlat($,D.getUpdateObj());return h.call("update",g,{},$)}}function u(g,v){var x=g._fullLayout.annotations,C=[],_=[],$=[],S=(v||[]).length,O,D,N,M,k,R,F,H;for(O=0;O<x.length;O++)if(N=x[O],M=N.clicktoshow,M){for(D=0;D<S;D++)if(k=v[D],R=k.xaxis,F=k.yaxis,R._id===N.xref&&F._id===N.yref&&R.d2r(k.x)===d(N._xclick,R)&&F.d2r(k.y)===d(N._yclick,F)){N.visible?M==="onout"?H=_:H=$:H=C,H.push(O);break}D===S&&N.visible&&M==="onout"&&_.push(O)}return{on:C,off:_,explicitOff:$}}function d(g,v){return v.type==="log"?v.l2r(g):v.d2r(g)}},5625:function(L,A,s){var m=s(1828),h=s(7901);L.exports=function(c,i,u,d){d("opacity");var g=d("bgcolor"),v=d("bordercolor"),x=h.opacity(v);d("borderpad");var C=d("borderwidth"),_=d("showarrow");d("text",_?" ":u._dfltTitle.annotation),d("textangle"),m.coerceFont(d,"font",u.font),d("width"),d("align");var $=d("height");if($&&d("valign"),_){var S=d("arrowside"),O,D;S.indexOf("end")!==-1&&(O=d("arrowhead"),D=d("arrowsize")),S.indexOf("start")!==-1&&(d("startarrowhead",O),d("startarrowsize",D)),d("arrowcolor",x?i.bordercolor:h.defaultLine),d("arrowwidth",(x&&C||1)*2),d("standoff"),d("startstandoff")}var N=d("hovertext"),M=u.hoverlabel||{};if(N){var k=d("hoverlabel.bgcolor",M.bgcolor||(h.opacity(g)?h.rgb(g):h.defaultLine)),R=d("hoverlabel.bordercolor",M.bordercolor||h.contrast(k));m.coerceFont(d,"hoverlabel.font",{family:M.font.family,size:M.font.size,color:M.font.color||R})}d("captureevents",!!N)}},4128:function(L,A,s){var m=s(2770),h=s(8163);L.exports=function(c,i,u,d){i=i||{};var g=u==="log"&&i.type==="linear",v=u==="linear"&&i.type==="log";if(!(g||v))return;var x=c._fullLayout.annotations,C=i._id.charAt(0),_,$;function S(D){var N=_[D],M=null;g?M=h(N,i.range):M=Math.pow(10,N),m(M)||(M=null),d($+D,M)}for(var O=0;O<x.length;O++)_=x[O],$="annotations["+O+"].",_[C+"ref"]===i._id&&S(C),_["a"+C+"ref"]===i._id&&S("a"+C)}},4046:function(L,A,s){var m=s(1828),h=s(9298),l=s(5501),c=s(5625),i=s(215);L.exports=function(g,v){l(g,v,{name:"annotations",handleItemDefaults:u})};function u(d,g,v){function x(J,K){return m.coerce(d,g,i,J,K)}var C=x("visible"),_=x("clicktoshow");if(C||_){c(d,g,v,x);for(var $=g.showarrow,S=["x","y"],O=[-10,-30],D={_fullLayout:v},N=0;N<2;N++){var M=S[N],k=h.coerceRef(d,g,D,M,"","paper");if(k!=="paper"){var R=h.getFromId(D,k);R._annIndices.push(g._index)}if(h.coercePosition(g,D,x,k,M,.5),$){var F="a"+M,H=h.coerceRef(d,g,D,F,"pixel",["pixel","paper"]);H!=="pixel"&&H!==k&&(H=g[F]="pixel");var j=H==="pixel"?O[N]:.4;h.coercePosition(g,D,x,H,F,j)}x(M+"anchor"),x(M+"shift")}if(m.noneOrAll(d,g,["x","y"]),$&&m.noneOrAll(d,g,["ax","ay"]),_){var P=x("xclick"),ee=x("yclick");g._xclick=P===void 0?g.x:h.cleanPosition(P,D,g.xref),g._yclick=ee===void 0?g.y:h.cleanPosition(ee,D,g.yref)}}}},2605:function(L,A,s){var m=s(9898),h=s(3972),l=s(4875),c=s(1828),i=c.strTranslate,u=s(9298),d=s(7901),g=s(1424),v=s(211),x=s(3893),C=s(6964),_=s(8569),$=s(4467).arrayEditor,S=s(3011);L.exports={draw:O,drawOne:D,drawRaw:M};function O(k){var R=k._fullLayout;R._infolayer.selectAll(".annotation").remove();for(var F=0;F<R.annotations.length;F++)R.annotations[F].visible&&D(k,F);return l.previousPromises(k)}function D(k,R){var F=k._fullLayout,H=F.annotations[R]||{},j=u.getFromId(k,H.xref),P=u.getFromId(k,H.yref);j&&j.setScale(),P&&P.setScale(),M(k,H,R,!1,j,P)}function N(k,R,F,H,j){var P=j[F],ee=j[F+"ref"],J=F.indexOf("y")!==-1,K=u.getRefType(ee)==="domain",ae=J?H.h:H.w;return k?K?P+(J?-R:R)/k._length:k.p2r(k.r2p(P)+R):P+(J?-R:R)/ae}function M(k,R,F,H,j,P){var ee=k._fullLayout,J=k._fullLayout._size,K=k._context.edits,ae,Q;H?(ae="annotation-"+H,Q=H+".annotations"):(ae="annotation",Q="annotations");var he=$(k.layout,Q,R),ge=he.modifyBase,Se=he.modifyItem,ce=he.getUpdateObj;ee._infolayer.selectAll("."+ae+'[data-index="'+F+'"]').remove();var ne="clip"+ee._uid+"_ann"+F;if(!R._input||R.visible===!1){m.selectAll("#"+ne).remove();return}var fe={x:{},y:{}},X=+R.textangle||0,ye=ee._infolayer.append("g").classed(ae,!0).attr("data-index",String(F)).style("opacity",R.opacity),Ce=ye.append("g").classed("annotation-text-g",!0),$e=K[R.showarrow?"annotationTail":"annotationPosition"],ke=R.captureevents||K.annotationText||$e;function Ne(Re){var ze={index:F,annotation:R._input,fullAnnotation:R,event:Re};return H&&(ze.subplotId=H),ze}var Ve=Ce.append("g").style("pointer-events",ke?"all":null).call(C,"pointer").on("click",function(){k._dragging=!1,k.emit("plotly_clickannotation",Ne(m.event))});R.hovertext&&Ve.on("mouseover",function(){var Re=R.hoverlabel,ze=Re.font,We=this.getBoundingClientRect(),ot=k.getBoundingClientRect();v.loneHover({x0:We.left-ot.left,x1:We.right-ot.left,y:(We.top+We.bottom)/2-ot.top,text:R.hovertext,color:Re.bgcolor,borderColor:Re.bordercolor,fontFamily:ze.family,fontSize:ze.size,fontColor:ze.color},{container:ee._hoverlayer.node(),outerContainer:ee._paper.node(),gd:k})}).on("mouseout",function(){v.loneUnhover(ee._hoverlayer.node())});var Oe=R.borderwidth,Fe=R.borderpad,ie=Oe+Fe,we=Ve.append("rect").attr("class","bg").style("stroke-width",Oe+"px").call(d.stroke,R.bordercolor).call(d.fill,R.bgcolor),se=R.width||R.height,ue=ee._topclips.selectAll("#"+ne).data(se?[0]:[]);ue.enter().append("clipPath").classed("annclip",!0).attr("id",ne).append("rect"),ue.exit().remove();var pe=R.font,le=ee._meta?c.templateString(R.text,ee._meta):R.text,Te=Ve.append("text").classed("annotation-text",!0).text(le);function de(Re){return Re.call(g.font,pe).attr({"text-anchor":{left:"start",right:"end"}[R.align]||"middle"}),x.convertToTspans(Re,k,Me),Re}function Me(){var Re=Te.selectAll("a");if(Re.size()===1&&Re.text()===Te.text()){var ze=Ve.insert("a",":first-child").attr({"xlink:xlink:href":Re.attr("xlink:href"),"xlink:xlink:show":Re.attr("xlink:show")}).style({cursor:"pointer"});ze.node().appendChild(we.node())}var We=Ve.select(".annotation-text-math-group"),ot=!We.empty(),dt=g.bBox((ot?We:Te).node()),Ge=dt.width,Xe=dt.height,qe=R.width||Ge,gt=R.height||Xe,ut=Math.round(qe+2*ie),tt=Math.round(gt+2*ie);function Ct(pr,Gn){return Gn==="auto"&&(pr<.3333333333333333?Gn="left":pr>.6666666666666666?Gn="right":Gn="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Gn]}for(var Gt=!1,Yt=["x","y"],Nt=0;Nt<Yt.length;Nt++){var Ft=Yt[Nt],pn=R[Ft+"ref"]||Ft,_n=R["a"+Ft+"ref"],sn={x:j,y:P}[Ft],Zn=(X+(Ft==="x"?0:-90))*Math.PI/180,an=ut*Math.cos(Zn),Cn=tt*Math.sin(Zn),jn=Math.abs(an)+Math.abs(Cn),Wn=R[Ft+"anchor"],wn=R[Ft+"shift"]*(Ft==="x"?1:-1),lt=fe[Ft],ft,wt,vt,$t,Ze,it=u.getRefType(pn);if(sn&&it!=="domain"){var ht=sn.r2fraction(R[Ft]);(ht<0||ht>1)&&(_n===pn?(ht=sn.r2fraction(R["a"+Ft]),(ht<0||ht>1)&&(Gt=!0)):Gt=!0),ft=sn._offset+sn.r2p(R[Ft]),$t=.5}else{var pt=it==="domain";Ft==="x"?(vt=R[Ft],ft=pt?sn._offset+sn._length*vt:ft=J.l+J.w*vt):(vt=1-R[Ft],ft=pt?sn._offset+sn._length*vt:ft=J.t+J.h*vt),$t=R.showarrow?.5:vt}if(R.showarrow){lt.head=ft;var Tt=R["a"+Ft];if(Ze=an*Ct(.5,R.xanchor)-Cn*Ct(.5,R.yanchor),_n===pn){var Et=u.getRefType(_n);Et==="domain"?(Ft==="y"&&(Tt=1-Tt),lt.tail=sn._offset+sn._length*Tt):Et==="paper"?Ft==="y"?(Tt=1-Tt,lt.tail=J.t+J.h*Tt):lt.tail=J.l+J.w*Tt:lt.tail=sn._offset+sn.r2p(Tt),wt=Ze}else lt.tail=ft+Tt,wt=Ze+Tt;lt.text=lt.tail+Ze;var fn=ee[Ft==="x"?"width":"height"];if(pn==="paper"&&(lt.head=c.constrain(lt.head,1,fn-1)),_n==="pixel"){var tn=-Math.max(lt.tail-3,lt.text),Zt=Math.min(lt.tail+3,lt.text)-fn;tn>0?(lt.tail+=tn,lt.text+=tn):Zt>0&&(lt.tail-=Zt,lt.text-=Zt)}lt.tail+=wn,lt.head+=wn}else Ze=jn*Ct($t,Wn),wt=Ze,lt.text=ft+Ze;lt.text+=wn,Ze+=wn,wt+=wn,R["_"+Ft+"padplus"]=jn/2+wt,R["_"+Ft+"padminus"]=jn/2-wt,R["_"+Ft+"size"]=jn,R["_"+Ft+"shift"]=Ze}if(Gt){Ve.remove();return}var Dt=0,un=0;if(R.align!=="left"&&(Dt=(qe-Ge)*(R.align==="center"?.5:1)),R.valign!=="top"&&(un=(gt-Xe)*(R.valign==="middle"?.5:1)),ot)We.select("svg").attr({x:ie+Dt-1,y:ie+un}).call(g.setClipUrl,se?ne:null,k);else{var Un=ie+un-dt.top,tr=ie+Dt-dt.left;Te.call(x.positionText,tr,Un).call(g.setClipUrl,se?ne:null,k)}ue.select("rect").call(g.setRect,ie,ie,qe,gt),we.call(g.setRect,Oe/2,Oe/2,ut-Oe,tt-Oe),Ve.call(g.setTranslate,Math.round(fe.x.text-ut/2),Math.round(fe.y.text-tt/2)),Ce.attr({transform:"rotate("+X+","+fe.x.text+","+fe.y.text+")"});var Er=function(pr,Gn){ye.selectAll(".annotation-arrow-g").remove();var Ir=fe.x.head,Tr=fe.y.head,rr=fe.x.tail+pr,Yr=fe.y.tail+Gn,_r=fe.x.text+pr,Ln=fe.y.text+Gn,xr=c.rotationXYMatrix(X,_r,Ln),or=c.apply2DTransform(xr),wr=c.apply2DTransform2(xr),ro=+we.attr("width"),vo=+we.attr("height"),Cr=_r-.5*ro,He=Cr+ro,De=Ln-.5*vo,St=De+vo,kt=[[Cr,De,Cr,St],[Cr,St,He,St],[He,St,He,De],[He,De,Cr,De]].map(wr);if(!kt.reduce(function(gn,Qn){return gn^!!c.segmentsIntersect(Ir,Tr,Ir+1e6,Tr+1e6,Qn[0],Qn[1],Qn[2],Qn[3])},!1)){kt.forEach(function(gn){var Qn=c.segmentsIntersect(rr,Yr,Ir,Tr,gn[0],gn[1],gn[2],gn[3]);Qn&&(rr=Qn.x,Yr=Qn.y)});var Pt=R.arrowwidth,Bt=R.arrowcolor,Ut=R.arrowside,Ot=ye.append("g").style({opacity:d.opacity(Bt)}).classed("annotation-arrow-g",!0),_t=Ot.append("path").attr("d","M"+rr+","+Yr+"L"+Ir+","+Tr).style("stroke-width",Pt+"px").call(d.stroke,d.rgb(Bt));if(S(_t,Ut,R),K.annotationPosition&&_t.node().parentNode&&!H){var qt=Ir,cn=Tr;if(R.standoff){var Qt=Math.sqrt(Math.pow(Ir-rr,2)+Math.pow(Tr-Yr,2));qt+=R.standoff*(rr-Ir)/Qt,cn+=R.standoff*(Yr-Tr)/Qt}var nn=Ot.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(rr-qt)+","+(Yr-cn),transform:i(qt,cn)}).style("stroke-width",Pt+6+"px").call(d.stroke,"rgba(0,0,0,0)").call(d.fill,"rgba(0,0,0,0)"),Sn,bn;_.init({element:nn.node(),gd:k,prepFn:function(){var gn=g.getTranslate(Ve);Sn=gn.x,bn=gn.y,j&&j.autorange&&ge(j._name+".autorange",!0),P&&P.autorange&&ge(P._name+".autorange",!0)},moveFn:function(gn,Qn){var Bn=or(Sn,bn),Hr=Bn[0]+gn,fr=Bn[1]+Qn;Ve.call(g.setTranslate,Hr,fr),Se("x",N(j,gn,"x",J,R)),Se("y",N(P,Qn,"y",J,R)),R.axref===R.xref&&Se("ax",N(j,gn,"ax",J,R)),R.ayref===R.yref&&Se("ay",N(P,Qn,"ay",J,R)),Ot.attr("transform",i(gn,Qn)),Ce.attr({transform:"rotate("+X+","+Hr+","+fr+")"})},doneFn:function(){h.call("_guiRelayout",k,ce());var gn=document.querySelector(".js-notes-box-panel");gn&&gn.redraw(gn.selectedObj)}})}}};if(R.showarrow&&Er(0,0),$e){var zt;_.init({element:Ve.node(),gd:k,prepFn:function(){zt=Ce.attr("transform")},moveFn:function(pr,Gn){var Ir="pointer";if(R.showarrow)R.axref===R.xref?Se("ax",N(j,pr,"ax",J,R)):Se("ax",R.ax+pr),R.ayref===R.yref?Se("ay",N(P,Gn,"ay",J.w,R)):Se("ay",R.ay+Gn),Er(pr,Gn);else{if(H)return;var Tr,rr;if(j)Tr=N(j,pr,"x",J,R);else{var Yr=R._xsize/J.w,_r=R.x+(R._xshift-R.xshift)/J.w-Yr/2;Tr=_.align(_r+pr/J.w,Yr,0,1,R.xanchor)}if(P)rr=N(P,Gn,"y",J,R);else{var Ln=R._ysize/J.h,xr=R.y-(R._yshift+R.yshift)/J.h-Ln/2;rr=_.align(xr-Gn/J.h,Ln,0,1,R.yanchor)}Se("x",Tr),Se("y",rr),(!j||!P)&&(Ir=_.getCursor(j?.5:Tr,P?.5:rr,R.xanchor,R.yanchor))}Ce.attr({transform:i(pr,Gn)+zt}),C(Ve,Ir)},clickFn:function(pr,Gn){R.captureevents&&k.emit("plotly_clickannotation",Ne(Gn))},doneFn:function(){C(Ve),h.call("_guiRelayout",k,ce());var pr=document.querySelector(".js-notes-box-panel");pr&&pr.redraw(pr.selectedObj)}})}}K.annotationText?Te.call(x.makeEditable,{delegate:Ve,gd:k}).call(de).on("edit",function(Re){R.text=Re,this.call(de),Se("text",Re),j&&j.autorange&&ge(j._name+".autorange",!0),P&&P.autorange&&ge(P._name+".autorange",!0),h.call("_guiRelayout",k,ce())}):Te.call(de)}},3011:function(L,A,s){var m=s(9898),h=s(7901),l=s(2884),c=s(1828),i=c.strScale,u=c.strRotate,d=c.strTranslate;L.exports=function(v,x,C){var _=v.node(),$=l[C.arrowhead||0],S=l[C.startarrowhead||0],O=(C.arrowwidth||1)*(C.arrowsize||1),D=(C.arrowwidth||1)*(C.startarrowsize||1),N=x.indexOf("start")>=0,M=x.indexOf("end")>=0,k=$.backoff*O+C.standoff,R=S.backoff*D+C.startstandoff,F,H,j,P;if(_.nodeName==="line"){F={x:+v.attr("x1"),y:+v.attr("y1")},H={x:+v.attr("x2"),y:+v.attr("y2")};var ee=F.x-H.x,J=F.y-H.y;if(j=Math.atan2(J,ee),P=j+Math.PI,k&&R&&k+R>Math.sqrt(ee*ee+J*J)){Ce();return}if(k){if(k*k>ee*ee+J*J){Ce();return}var K=k*Math.cos(j),ae=k*Math.sin(j);H.x+=K,H.y+=ae,v.attr({x2:H.x,y2:H.y})}if(R){if(R*R>ee*ee+J*J){Ce();return}var Q=R*Math.cos(j),he=R*Math.sin(j);F.x-=Q,F.y-=he,v.attr({x1:F.x,y1:F.y})}}else if(_.nodeName==="path"){var ge=_.getTotalLength(),Se="";if(ge<k+R){Ce();return}var ce=_.getPointAtLength(0),ne=_.getPointAtLength(.1);j=Math.atan2(ce.y-ne.y,ce.x-ne.x),F=_.getPointAtLength(Math.min(R,ge)),Se="0px,"+R+"px,";var fe=_.getPointAtLength(ge),X=_.getPointAtLength(ge-.1);P=Math.atan2(fe.y-X.y,fe.x-X.x),H=_.getPointAtLength(Math.max(0,ge-k));var ye=Se?R+k:k;Se+=ge-ye+"px,"+ge+"px",v.style("stroke-dasharray",Se)}function Ce(){v.style("stroke-dasharray","0px,100px")}function $e(ke,Ne,Ve,Oe){ke.path&&(ke.noRotate&&(Ve=0),m.select(_.parentNode).append("path").attr({class:v.attr("class"),d:ke.path,transform:d(Ne.x,Ne.y)+u(Ve*180/Math.PI)+i(Oe)}).style({fill:h.rgb(C.arrowcolor),"stroke-width":0}))}N&&$e(S,F,j,D),M&&$e($,H,P,O)}},2745:function(L,A,s){var m=s(2605),h=s(4317);L.exports={moduleType:"component",name:"annotations",layoutAttributes:s(215),supplyLayoutDefaults:s(4046),includeBasePlot:s(6325)("annotations"),calcAutorange:s(3749),draw:m.draw,drawOne:m.drawOne,drawRaw:m.drawRaw,hasClickToShow:h.hasClickToShow,onClick:h.onClick,convertCoords:s(4128)}},6997:function(L,A,s){var m=s(215),h=s(962).overrideAll,l=s(4467).templatedArray;L.exports=h(l("annotation",{visible:m.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:m.xanchor,xshift:m.xshift,yanchor:m.yanchor,yshift:m.yshift,text:m.text,textangle:m.textangle,font:m.font,width:m.width,height:m.height,opacity:m.opacity,align:m.align,valign:m.valign,bgcolor:m.bgcolor,bordercolor:m.bordercolor,borderpad:m.borderpad,borderwidth:m.borderwidth,showarrow:m.showarrow,arrowcolor:m.arrowcolor,arrowhead:m.arrowhead,startarrowhead:m.startarrowhead,arrowside:m.arrowside,arrowsize:m.arrowsize,startarrowsize:m.startarrowsize,arrowwidth:m.arrowwidth,standoff:m.standoff,startstandoff:m.startstandoff,hovertext:m.hovertext,hoverlabel:m.hoverlabel,captureevents:m.captureevents}),"calc","from-root")},5485:function(L,A,s){var m=s(1828),h=s(9298);L.exports=function(i){for(var u=i.fullSceneLayout,d=u.annotations,g=0;g<d.length;g++)l(d[g],i);i.fullLayout._infolayer.selectAll(".annotation-"+i.id).remove()};function l(c,i){var u=i.fullSceneLayout,d=u.domain,g=i.fullLayout._size,v={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};c._xa={},m.extendFlat(c._xa,v),h.setConvert(c._xa),c._xa._offset=g.l+d.x[0]*g.w,c._xa.l2p=function(){return .5*(1+c._pdata[0]/c._pdata[3])*g.w*(d.x[1]-d.x[0])},c._ya={},m.extendFlat(c._ya,v),h.setConvert(c._ya),c._ya._offset=g.t+(1-d.y[1])*g.h,c._ya.l2p=function(){return .5*(1-c._pdata[1]/c._pdata[3])*g.h*(d.y[1]-d.y[0])}}},226:function(L,A,s){var m=s(1828),h=s(9298),l=s(5501),c=s(5625),i=s(6997);L.exports=function(g,v,x){l(g,v,{name:"annotations",handleItemDefaults:u,fullLayout:x.fullLayout})};function u(d,g,v,x){function C(S,O){return m.coerce(d,g,i,S,O)}function _(S){var O=S+"axis",D={_fullLayout:{}};return D._fullLayout[O]=v[O],h.coercePosition(g,D,C,S,S,.5)}var $=C("visible");$&&(c(d,g,x.fullLayout,C),_("x"),_("y"),_("z"),m.noneOrAll(d,g,["x","y","z"]),g.xref="x",g.yref="y",g.zref="z",C("xanchor"),C("yanchor"),C("xshift"),C("yshift"),g.showarrow&&(g.axref="pixel",g.ayref="pixel",C("ax",-10),C("ay",-30),m.noneOrAll(d,g,["ax","ay"])))}},2188:function(L,A,s){var m=s(2605).drawRaw,h=s(3538),l=["x","y","z"];L.exports=function(i){for(var u=i.fullSceneLayout,d=i.dataScale,g=u.annotations,v=0;v<g.length;v++){for(var x=g[v],C=!1,_=0;_<3;_++){var $=l[_],S=x[$],O=u[$+"axis"],D=O.r2fraction(S);if(D<0||D>1){C=!0;break}}C?i.fullLayout._infolayer.select(".annotation-"+i.id+'[data-index="'+v+'"]').remove():(x._pdata=h(i.glplot.cameraParams,[u.xaxis.r2l(x.x)*d[0],u.yaxis.r2l(x.y)*d[1],u.zaxis.r2l(x.z)*d[2]]),m(i.graphDiv,x,v,i.id,x._xa,x._ya))}}},2468:function(L,A,s){var m=s(3972),h=s(1828);L.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:s(6997)}}},layoutAttributes:s(6997),handleDefaults:s(226),includeBasePlot:l,convert:s(5485),draw:s(2188)};function l(c,i){var u=m.subplotsRegistry.gl3d;if(u)for(var d=u.attrRegex,g=Object.keys(c),v=0;v<g.length;v++){var x=g[v];d.test(x)&&(c[x].annotations||[]).length&&(h.pushUnique(i._basePlotModules,u),h.pushUnique(i._subplots.gl3d,x))}}},7561:function(L,A,s){L.exports=s(3489),s(4338),s(3961),s(8751),s(6825),s(7715),s(9384),s(3805),s(8874),s(3290),s(9108),s(5422),s(4320),s(1320),s(1367),s(1457)},2201:function(L,A,s){var m=s(7561),h=s(1828),l=s(606),c=l.EPOCHJD,i=l.ONEDAY,u={valType:"enumerated",values:h.sortObjectKeys(m.calendars),editType:"calc",dflt:"gregorian"},d=function(j,P,ee,J){var K={};return K[ee]=u,h.coerce(j,P,K,ee,J)},g=function(j,P,ee,J){for(var K=0;K<ee.length;K++)d(j,P,ee[K]+"calendar",J.calendar)},v={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},x={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},C={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},_="##",$={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:_,w:_,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function S(j,P,ee){for(var J=Math.floor((P+.05)/i)+c,K=D(ee).fromJD(J),ae=0,Q,he,ge,Se,ce;(ae=j.indexOf("%",ae))!==-1;)Q=j.charAt(ae+1),Q==="0"||Q==="-"||Q==="_"?(ge=3,he=j.charAt(ae+2),Q==="_"&&(Q="-")):(he=Q,Q="0",ge=2),Se=$[he],Se?(Se===_?ce=_:ce=K.formatDate(Se[Q]),j=j.substr(0,ae)+ce+j.substr(ae+ge),ae+=ce.length):ae+=ge;return j}var O={};function D(j){var P=O[j];return P||(P=O[j]=m.instance(j),P)}function N(j){return h.extendFlat({},u,{description:j})}function M(j){return"Sets the calendar system to use with `"+j+"` date data."}var k={xcalendar:N(M("x"))},R=h.extendFlat({},k,{ycalendar:N(M("y"))}),F=h.extendFlat({},R,{zcalendar:N(M("z"))}),H=N(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));L.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:R,bar:R,box:R,heatmap:R,contour:R,histogram:R,histogram2d:R,histogram2dcontour:R,scatter3d:F,surface:F,mesh3d:F,scattergl:R,ohlc:k,candlestick:k},layout:{calendar:N(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:H},yaxis:{calendar:H},scene:{xaxis:{calendar:H},yaxis:{calendar:H},zaxis:{calendar:H}},polar:{radialaxis:{calendar:H}}},transforms:{filter:{valuecalendar:N(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:N(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:u,handleDefaults:d,handleTraceDefaults:g,CANONICAL_SUNDAY:x,CANONICAL_TICK:v,DFLTRANGE:C,getCal:D,worldCalFmt:S}},2399:function(L,A){A.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],A.defaultLine="#444",A.lightLine="#eee",A.background="#fff",A.borderLine="#BEC8D9",A.lightFraction=90.9090909090909},7901:function(L,A,s){var m=s(4267),h=s(2770),l=s(3627).isTypedArray,c=L.exports={},i=s(2399);c.defaults=i.defaults;var u=c.defaultLine=i.defaultLine;c.lightLine=i.lightLine;var d=c.background=i.background;c.tinyRGB=function(v){var x=v.toRgb();return"rgb("+Math.round(x.r)+", "+Math.round(x.g)+", "+Math.round(x.b)+")"},c.rgb=function(v){return c.tinyRGB(m(v))},c.opacity=function(v){return v?m(v).getAlpha():0},c.addOpacity=function(v,x){var C=m(v).toRgb();return"rgba("+Math.round(C.r)+", "+Math.round(C.g)+", "+Math.round(C.b)+", "+x+")"},c.combine=function(v,x){var C=m(v).toRgb();if(C.a===1)return m(v).toRgbString();var _=m(x||d).toRgb(),$=_.a===1?_:{r:255*(1-_.a)+_.r*_.a,g:255*(1-_.a)+_.g*_.a,b:255*(1-_.a)+_.b*_.a},S={r:$.r*(1-C.a)+C.r*C.a,g:$.g*(1-C.a)+C.g*C.a,b:$.b*(1-C.a)+C.b*C.a};return m(S).toRgbString()},c.contrast=function(v,x,C){var _=m(v);_.getAlpha()!==1&&(_=m(c.combine(v,d)));var $=_.isDark()?x?_.lighten(x):d:C?_.darken(C):u;return $.toString()},c.stroke=function(v,x){var C=m(x);v.style({stroke:c.tinyRGB(C),"stroke-opacity":C.getAlpha()})},c.fill=function(v,x){var C=m(x);v.style({fill:c.tinyRGB(C),"fill-opacity":C.getAlpha()})},c.clean=function(v){if(!(!v||typeof v!="object")){var x=Object.keys(v),C,_,$,S;for(C=0;C<x.length;C++)if($=x[C],S=v[$],$.substr($.length-5)==="color")if(Array.isArray(S))for(_=0;_<S.length;_++)S[_]=g(S[_]);else v[$]=g(S);else if($.substr($.length-10)==="colorscale"&&Array.isArray(S))for(_=0;_<S.length;_++)Array.isArray(S[_])&&(S[_][1]=g(S[_][1]));else if(Array.isArray(S)){var O=S[0];if(!Array.isArray(O)&&O&&typeof O=="object")for(_=0;_<S.length;_++)c.clean(S[_])}else S&&typeof S=="object"&&!l(S)&&c.clean(S)}};function g(v){if(h(v)||typeof v!="string")return v;var x=v.trim();if(x.substr(0,3)!=="rgb")return v;var C=x.match(/^rgba?\s*\(([^()]*)\)$/);if(!C)return v;var _=C[1].trim().split(/\s*[\s,]\s*/),$=x.charAt(3)==="a"&&_.length===4;if(!$&&_.length!==3)return v;for(var S=0;S<_.length;S++){if(!_[S].length||(_[S]=Number(_[S]),!(_[S]>=0)))return v;if(S===3)_[S]>1&&(_[S]=1);else if(_[S]>=1)return v}var O=Math.round(_[0]*255)+", "+Math.round(_[1]*255)+", "+Math.round(_[2]*255);return $?"rgba("+O+", "+_[3]+")":"rgb("+O+")"}},3583:function(L,A,s){var m=s(3838),h=s(1940),l=s(1426).extendFlat,c=s(962).overrideAll;L.exports=c({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:m.linecolor,outlinewidth:m.linewidth,bordercolor:m.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:m.minor.tickmode,nticks:m.nticks,tick0:m.tick0,dtick:m.dtick,tickvals:m.tickvals,ticktext:m.ticktext,ticks:l({},m.ticks,{dflt:""}),ticklabeloverflow:l({},m.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:m.ticklen,tickwidth:m.tickwidth,tickcolor:m.tickcolor,ticklabelstep:m.ticklabelstep,showticklabels:m.showticklabels,labelalias:m.labelalias,tickfont:h({}),tickangle:m.tickangle,tickformat:m.tickformat,tickformatstops:m.tickformatstops,tickprefix:m.tickprefix,showtickprefix:m.showtickprefix,ticksuffix:m.ticksuffix,showticksuffix:m.showticksuffix,separatethousands:m.separatethousands,exponentformat:m.exponentformat,minexponent:m.minexponent,showexponent:m.showexponent,title:{text:{valType:"string"},font:h({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:h({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},939:function(L){L.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},2499:function(L,A,s){var m=s(1828),h=s(4467),l=s(6218),c=s(8701),i=s(6115),u=s(9426),d=s(3583);L.exports=function(v,x,C){var _=h.newContainer(x,"colorbar"),$=v.colorbar||{};function S(fe,X){return m.coerce($,_,d,fe,X)}var O=C.margin||{t:0,b:0,l:0,r:0},D=C.width-O.l-O.r,N=C.height-O.t-O.b,M=S("orientation"),k=M==="v",R=S("thicknessmode");S("thickness",R==="fraction"?30/(k?D:N):30);var F=S("lenmode");S("len",F==="fraction"?1:k?N:D);var H=S("yref"),j=S("xref"),P=H==="paper",ee=j==="paper",J,K,ae,Q="left";k?(ae="middle",Q=ee?"left":"right",J=ee?1.02:1,K=.5):(ae=P?"bottom":"top",Q="center",J=.5,K=P?1.02:1),m.coerce($,_,{x:{valType:"number",min:ee?-2:0,max:ee?3:1,dflt:J}},"x"),m.coerce($,_,{y:{valType:"number",min:P?-2:0,max:P?3:1,dflt:K}},"y"),S("xanchor",Q),S("xpad"),S("yanchor",ae),S("ypad"),m.noneOrAll($,_,["x","y"]),S("outlinecolor"),S("outlinewidth"),S("bordercolor"),S("borderwidth"),S("bgcolor");var he=m.coerce($,_,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:k?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");S("ticklabeloverflow",he.indexOf("inside")!==-1?"hide past domain":"hide past div"),l($,_,S,"linear");var ge=C.font,Se={outerTicks:!1,font:ge};he.indexOf("inside")!==-1&&(Se.bgColor="black"),u($,_,S,"linear",Se),i($,_,S,"linear",Se),c($,_,S,"linear",Se),S("title.text",C._dfltTitle.colorbar);var ce=_.showticklabels?_.tickfont:ge,ne=m.extendFlat({},ce,{color:ge.color,size:m.bigFont(ce.size)});m.coerceFont(S,"title.font",ne),S("title.side",k?"top":"right")}},8981:function(L,A,s){var m=s(9898),h=s(4267),l=s(4875),c=s(3972),i=s(9298),u=s(8569),d=s(1828),g=d.strTranslate,v=s(1426).extendFlat,x=s(6964),C=s(1424),_=s(7901),$=s(2998),S=s(3893),O=s(2869).flipScale,D=s(1453),N=s(2830),M=s(3838),k=s(8783),R=k.LINE_SPACING,F=k.FROM_TL,H=k.FROM_BR,j=s(939).cn;function P(he){var ge=he._fullLayout,Se=ge._infolayer.selectAll("g."+j.colorbar).data(ee(he),function(ce){return ce._id});Se.enter().append("g").attr("class",function(ce){return ce._id}).classed(j.colorbar,!0),Se.each(function(ce){var ne=m.select(this);d.ensureSingle(ne,"rect",j.cbbg),d.ensureSingle(ne,"g",j.cbfills),d.ensureSingle(ne,"g",j.cblines),d.ensureSingle(ne,"g",j.cbaxis,function(X){X.classed(j.crisp,!0)}),d.ensureSingle(ne,"g",j.cbtitleunshift,function(X){X.append("g").classed(j.cbtitle,!0)}),d.ensureSingle(ne,"rect",j.cboutline);var fe=J(ne,ce,he);fe&&fe.then&&(he._promises||[]).push(fe),he._context.edits.colorbarPosition&&K(ne,ce,he)}),Se.exit().each(function(ce){l.autoMargin(he,ce._id)}).remove(),Se.order()}function ee(he){var ge=he._fullLayout,Se=he.calcdata,ce=[],ne,fe,X,ye;function Ce(pe){return v(pe,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function $e(){typeof ye.calc=="function"?ye.calc(he,X,ne):(ne._fillgradient=fe.reversescale?O(fe.colorscale):fe.colorscale,ne._zrange=[fe[ye.min],fe[ye.max]])}for(var ke=0;ke<Se.length;ke++){var Ne=Se[ke];if(X=Ne[0].trace,!!X._module){var Ve=X._module.colorbar;if(X.visible===!0&&Ve)for(var Oe=Array.isArray(Ve),Fe=Oe?Ve:[Ve],ie=0;ie<Fe.length;ie++){ye=Fe[ie];var we=ye.container;fe=we?X[we]:X,fe&&fe.showscale&&(ne=Ce(fe.colorbar),ne._id="cb"+X.uid+(Oe&&we?"-"+we:""),ne._traceIndex=X.index,ne._propPrefix=(we?we+".":"")+"colorbar.",ne._meta=X._meta,$e(),ce.push(ne))}}}for(var se in ge._colorAxes)if(fe=ge[se],fe.showscale){var ue=ge._colorAxes[se];ne=Ce(fe.colorbar),ne._id="cb"+se,ne._propPrefix=se+".colorbar.",ne._meta=ge._meta,ye={min:"cmin",max:"cmax"},ue[0]!=="heatmap"&&(X=ue[1],ye.calc=X._module.colorbar.calc),$e(),ce.push(ne)}return ce}function J(he,ge,Se){var ce=ge.orientation==="v",ne=ge.len,fe=ge.lenmode,X=ge.thickness,ye=ge.thicknessmode,Ce=ge.outlinewidth,$e=ge.borderwidth,ke=ge.bgcolor,Ne=ge.xanchor,Ve=ge.yanchor,Oe=ge.xpad,Fe=ge.ypad,ie=ge.x,we=ce?ge.y:1-ge.y,se=ge.yref==="paper",ue=ge.xref==="paper",pe=Se._fullLayout,le=pe._size,Te=ge._fillcolor,de=ge._line,Me=ge.title,Re=Me.side,ze=ge._zrange||m.extent((typeof Te=="function"?Te:de.color).domain()),We=typeof de.color=="function"?de.color:function(){return de.color},ot=typeof Te=="function"?Te:function(){return Te},dt=ge._levels,Ge=ae(Se,ge,ze),Xe=Ge.fill,qe=Ge.line,gt=Math.round(X*(ye==="fraction"?ce?le.w:le.h:1)),ut=gt/(ce?le.w:le.h),tt=Math.round(ne*(fe==="fraction"?ce?le.h:le.w:1)),Ct=tt/(ce?le.h:le.w),Gt=ue?le.w:Se._fullLayout.width,Yt=se?le.h:Se._fullLayout.height,Nt=Math.round(ce?ie*Gt+Oe:we*Yt+Fe),Ft={center:.5,right:1}[Ne]||0,pn={top:1,middle:.5}[Ve]||0,_n=ce?ie-Ft*ut:we-pn*ut,sn=ce?we-pn*Ct:ie-Ft*Ct,Zn=Math.round(ce?Yt*(1-sn):Gt*sn);ge._lenFrac=Ct,ge._thickFrac=ut,ge._uFrac=_n,ge._vFrac=sn;var an=ge._axis=Q(Se,ge,ze);an.position=ut+(ce?ie+Oe/le.w:we+Fe/le.h);var Cn=["top","bottom"].indexOf(Re)!==-1;if(ce&&Cn&&(an.title.side=Re,an.titlex=ie+Oe/le.w,an.titley=sn+(Me.side==="top"?Ct-Fe/le.h:Fe/le.h)),!ce&&!Cn&&(an.title.side=Re,an.titley=we+Fe/le.h,an.titlex=sn+Oe/le.w),de.color&&ge.tickmode==="auto"){an.tickmode="linear",an.tick0=dt.start;var jn=dt.size,Wn=d.constrain(tt/50,4,15)+1,wn=(ze[1]-ze[0])/((ge.nticks||Wn)*jn);if(wn>1){var lt=Math.pow(10,Math.floor(Math.log(wn)/Math.LN10));jn*=lt*d.roundUp(wn/lt,[2,5,10]),(Math.abs(dt.start)/dt.size+1e-6)%1<2e-6&&(an.tick0=0)}an.dtick=jn}an.domain=ce?[sn+Fe/le.h,sn+Ct-Fe/le.h]:[sn+Oe/le.w,sn+Ct-Oe/le.w],an.setScale(),he.attr("transform",g(Math.round(le.l),Math.round(le.t)));var ft=he.select("."+j.cbtitleunshift).attr("transform",g(-Math.round(le.l),-Math.round(le.t))),wt=an.ticklabelposition,vt=an.title.font.size,$t=he.select("."+j.cbaxis),Ze,it=0,ht=0;function pt(Zt,Dt){var un={propContainer:an,propName:ge._propPrefix+"title",traceIndex:ge._traceIndex,_meta:ge._meta,placeholder:pe._dfltTitle.colorbar,containerGroup:he.select("."+j.cbtitle)},Un=Zt.charAt(0)==="h"?Zt.substr(1):"h"+Zt;he.selectAll("."+Un+",."+Un+"-math-group").remove(),$.draw(Se,Zt,v(un,Dt||{}))}function Tt(){if(ce&&Cn||!ce&&!Cn){var Zt,Dt;Re==="top"&&(Zt=Oe+le.l+Gt*ie,Dt=Fe+le.t+Yt*(1-sn-Ct)+3+vt*.75),Re==="bottom"&&(Zt=Oe+le.l+Gt*ie,Dt=Fe+le.t+Yt*(1-sn)-3-vt*.25),Re==="right"&&(Dt=Fe+le.t+Yt*we+3+vt*.75,Zt=Oe+le.l+Gt*sn),pt(an._id+"title",{attributes:{x:Zt,y:Dt,"text-anchor":ce?"start":"middle"}})}}function Et(){if(ce&&!Cn||!ce&&Cn){var Zt=an.position||0,Dt=an._offset+an._length/2,un,Un;if(Re==="right")Un=Dt,un=le.l+Gt*Zt+10+vt*(an.showticklabels?1:.5);else if(un=Dt,Re==="bottom"&&(Un=le.t+Yt*Zt+10+(wt.indexOf("inside")===-1?an.tickfont.size:0)+(an.ticks!=="intside"&&ge.ticklen||0)),Re==="top"){var tr=Me.text.split("<br>").length;Un=le.t+Yt*Zt+10-gt-R*vt*tr}pt((ce?"h":"v")+an._id+"title",{avoid:{selection:m.select(Se).selectAll("g."+an._id+"tick"),side:Re,offsetTop:ce?0:le.t,offsetLeft:ce?le.l:0,maxShift:ce?pe.width:pe.height},attributes:{x:un,y:Un,"text-anchor":"middle"},transform:{rotate:ce?-90:0,offset:0}})}}function fn(){if(!ce&&!Cn||ce&&Cn){var Zt=he.select("."+j.cbtitle),Dt=Zt.select("text"),un=[-Ce/2,Ce/2],Un=Zt.select(".h"+an._id+"title-math-group").node(),tr=15.6;Dt.node()&&(tr=parseInt(Dt.node().style.fontSize,10)*R);var Er;if(Un?(Er=C.bBox(Un),ht=Er.width,it=Er.height,it>tr&&(un[1]-=(it-tr)/2)):Dt.node()&&!Dt.classed(j.jsPlaceholder)&&(Er=C.bBox(Dt.node()),ht=Er.width,it=Er.height),ce){if(it){if(it+=5,Re==="top")an.domain[1]-=it/le.h,un[1]*=-1;else{an.domain[0]+=it/le.h;var zt=S.lineCount(Dt);un[1]+=(1-zt)*tr}Zt.attr("transform",g(un[0],un[1])),an.setScale()}}else ht&&(Re==="right"&&(an.domain[0]+=(ht+vt/2)/le.w),Zt.attr("transform",g(un[0],un[1])),an.setScale())}he.selectAll("."+j.cbfills+",."+j.cblines).attr("transform",ce?g(0,Math.round(le.h*(1-an.domain[1]))):g(Math.round(le.w*an.domain[0]),0)),$t.attr("transform",ce?g(0,Math.round(-le.t)):g(Math.round(-le.l),0));var pr=he.select("."+j.cbfills).selectAll("rect."+j.cbfill).attr("style","").data(Xe);pr.enter().append("rect").classed(j.cbfill,!0).attr("style",""),pr.exit().remove();var Gn=ze.map(an.c2p).map(Math.round).sort(function(_r,Ln){return _r-Ln});pr.each(function(_r,Ln){var xr=[Ln===0?ze[0]:(Xe[Ln]+Xe[Ln-1])/2,Ln===Xe.length-1?ze[1]:(Xe[Ln]+Xe[Ln+1])/2].map(an.c2p).map(Math.round);ce&&(xr[1]=d.constrain(xr[1]+(xr[1]>xr[0])?1:-1,Gn[0],Gn[1]));var or=m.select(this).attr(ce?"x":"y",Nt).attr(ce?"y":"x",m.min(xr)).attr(ce?"width":"height",Math.max(gt,2)).attr(ce?"height":"width",Math.max(m.max(xr)-m.min(xr),2));if(ge._fillgradient)C.gradient(or,Se,ge._id,ce?"vertical":"horizontalreversed",ge._fillgradient,"fill");else{var wr=ot(_r).replace("e-","");or.attr("fill",h(wr).toHexString())}});var Ir=he.select("."+j.cblines).selectAll("path."+j.cbline).data(de.color&&de.width?qe:[]);Ir.enter().append("path").classed(j.cbline,!0),Ir.exit().remove(),Ir.each(function(_r){var Ln=Nt,xr=Math.round(an.c2p(_r))+de.width/2%1;m.select(this).attr("d","M"+(ce?Ln+","+xr:xr+","+Ln)+(ce?"h":"v")+gt).call(C.lineGroupStyle,de.width,We(_r),de.dash)}),$t.selectAll("g."+an._id+"tick,path").remove();var Tr=Nt+gt+(Ce||0)/2-(ge.ticks==="outside"?1:0),rr=i.calcTicks(an),Yr=i.getTickSigns(an)[2];return i.drawTicks(Se,an,{vals:an.ticks==="inside"?i.clipEnds(an,rr):rr,layer:$t,path:i.makeTickPath(an,Tr,Yr),transFn:i.makeTransTickFn(an)}),i.drawLabels(Se,an,{vals:rr,layer:$t,transFn:i.makeTransTickLabelFn(an),labelFns:i.makeLabelFns(an,Tr)})}function tn(){var Zt,Dt=gt+Ce/2;wt.indexOf("inside")===-1&&(Zt=C.bBox($t.node()),Dt+=ce?Zt.width:Zt.height),Ze=ft.select("text");var un=0,Un=ce&&Re==="top",tr=!ce&&Re==="right",Er=0;if(Ze.node()&&!Ze.classed(j.jsPlaceholder)){var zt,pr=ft.select(".h"+an._id+"title-math-group").node();pr&&(ce&&Cn||!ce&&!Cn)?(Zt=C.bBox(pr),un=Zt.width,zt=Zt.height):(Zt=C.bBox(ft.node()),un=Zt.right-le.l-(ce?Nt:Zn),zt=Zt.bottom-le.t-(ce?Zn:Nt),!ce&&Re==="top"&&(Dt+=Zt.height,Er=Zt.height)),tr&&(Ze.attr("transform",g(un/2+vt/2,0)),un*=2),Dt=Math.max(Dt,ce?un:zt)}var Gn=(ce?Oe:Fe)*2+Dt+$e+Ce/2,Ir=0;!ce&&Me.text&&Ve==="bottom"&&we<=0&&(Ir=Gn/2,Gn+=Ir,Er+=Ir),pe._hColorbarMoveTitle=Ir,pe._hColorbarMoveCBTitle=Er;var Tr=$e+Ce,rr=(ce?Nt:Zn)-Tr/2-(ce?Oe:0),Yr=(ce?Zn:Nt)-(ce?tt:Fe+Er-Ir);he.select("."+j.cbbg).attr("x",rr).attr("y",Yr).attr(ce?"width":"height",Math.max(Gn-Ir,2)).attr(ce?"height":"width",Math.max(tt+Tr,2)).call(_.fill,ke).call(_.stroke,ge.bordercolor).style("stroke-width",$e);var _r=tr?Math.max(un-10,0):0;he.selectAll("."+j.cboutline).attr("x",(ce?Nt:Zn+Oe)+_r).attr("y",(ce?Zn+Fe-tt:Nt)+(Un?it:0)).attr(ce?"width":"height",Math.max(gt,2)).attr(ce?"height":"width",Math.max(tt-(ce?2*Fe+it:2*Oe+_r),2)).call(_.stroke,ge.outlinecolor).style({fill:"none","stroke-width":Ce});var Ln=ce?Ft*Gn:0,xr=ce?0:(1-pn)*Gn-Er;if(Ln=ue?le.l-Ln:-Ln,xr=se?le.t-xr:-xr,he.attr("transform",g(Ln,xr)),!ce&&($e||h(ke).getAlpha()&&!h.equals(pe.paper_bgcolor,ke))){var or=$t.selectAll("text"),wr=or[0].length,ro=he.select("."+j.cbbg).node(),vo=C.bBox(ro),Cr=C.getTranslate(he),He=2;or.each(function(cn,Qt){var nn=0,Sn=wr-1;if(Qt===nn||Qt===Sn){var bn=C.bBox(this),gn=C.getTranslate(this),Qn;if(Qt===Sn){var Bn=bn.right+gn.x,Hr=vo.right+Cr.x+Zn-$e-He+ie;Qn=Hr-Bn,Qn>0&&(Qn=0)}else if(Qt===nn){var fr=bn.left+gn.x,Vr=vo.left+Cr.x+Zn+$e+He;Qn=Vr-fr,Qn<0&&(Qn=0)}Qn&&(wr<3?this.setAttribute("transform","translate("+Qn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var De={},St=F[Ne],kt=H[Ne],Pt=F[Ve],Bt=H[Ve],Ut=Gn-gt;ce?(fe==="pixels"?(De.y=we,De.t=tt*Pt,De.b=tt*Bt):(De.t=De.b=0,De.yt=we+ne*Pt,De.yb=we-ne*Bt),ye==="pixels"?(De.x=ie,De.l=Gn*St,De.r=Gn*kt):(De.l=Ut*St,De.r=Ut*kt,De.xl=ie-X*St,De.xr=ie+X*kt)):(fe==="pixels"?(De.x=ie,De.l=tt*St,De.r=tt*kt):(De.l=De.r=0,De.xl=ie+ne*St,De.xr=ie-ne*kt),ye==="pixels"?(De.y=1-we,De.t=Gn*Pt,De.b=Gn*Bt):(De.t=Ut*Pt,De.b=Ut*Bt,De.yt=we-X*Pt,De.yb=we+X*Bt));var Ot=ge.y<.5?"b":"t",_t=ge.x<.5?"l":"r";Se._fullLayout._reservedMargin[ge._id]={};var qt={r:pe.width-rr-Ln,l:rr+De.r,b:pe.height-Yr-xr,t:Yr+De.b};ue&&se?l.autoMargin(Se,ge._id,De):ue?Se._fullLayout._reservedMargin[ge._id][Ot]=qt[Ot]:se||ce?Se._fullLayout._reservedMargin[ge._id][_t]=qt[_t]:Se._fullLayout._reservedMargin[ge._id][Ot]=qt[Ot]}return d.syncOrAsync([l.previousPromises,Tt,fn,Et,l.previousPromises,tn],Se)}function K(he,ge,Se){var ce=ge.orientation==="v",ne=Se._fullLayout,fe=ne._size,X,ye,Ce;u.init({element:he.node(),gd:Se,prepFn:function(){X=he.attr("transform"),x(he)},moveFn:function($e,ke){he.attr("transform",X+g($e,ke)),ye=u.align((ce?ge._uFrac:ge._vFrac)+$e/fe.w,ce?ge._thickFrac:ge._lenFrac,0,1,ge.xanchor),Ce=u.align((ce?ge._vFrac:1-ge._uFrac)-ke/fe.h,ce?ge._lenFrac:ge._thickFrac,0,1,ge.yanchor);var Ne=u.getCursor(ye,Ce,ge.xanchor,ge.yanchor);x(he,Ne)},doneFn:function(){if(x(he),ye!==void 0&&Ce!==void 0){var $e={};$e[ge._propPrefix+"x"]=ye,$e[ge._propPrefix+"y"]=Ce,ge._traceIndex!==void 0?c.call("_guiRestyle",Se,$e,ge._traceIndex):c.call("_guiRelayout",Se,$e)}}})}function ae(he,ge,Se){var ce=ge._levels,ne=[],fe=[],X,ye,Ce=ce.end+ce.size/100,$e=ce.size,ke=1.001*Se[0]-.001*Se[1],Ne=1.001*Se[1]-.001*Se[0];for(ye=0;ye<1e5&&(X=ce.start+ye*$e,!($e>0?X>=Ce:X<=Ce));ye++)X>ke&&X<Ne&&ne.push(X);if(ge._fillgradient)fe=[0];else if(typeof ge._fillcolor=="function"){var Ve=ge._filllevels;if(Ve)for(Ce=Ve.end+Ve.size/100,$e=Ve.size,ye=0;ye<1e5&&(X=Ve.start+ye*$e,!($e>0?X>=Ce:X<=Ce));ye++)X>Se[0]&&X<Se[1]&&fe.push(X);else fe=ne.map(function(Oe){return Oe-ce.size/2}),fe.push(fe[fe.length-1]+ce.size)}else ge._fillcolor&&typeof ge._fillcolor=="string"&&(fe=[0]);return ce.size<0&&(ne.reverse(),fe.reverse()),{line:ne,fill:fe}}function Q(he,ge,Se){var ce=he._fullLayout,ne=ge.orientation==="v",fe={type:"linear",range:Se,tickmode:ge.tickmode,nticks:ge.nticks,tick0:ge.tick0,dtick:ge.dtick,tickvals:ge.tickvals,ticktext:ge.ticktext,ticks:ge.ticks,ticklen:ge.ticklen,tickwidth:ge.tickwidth,tickcolor:ge.tickcolor,showticklabels:ge.showticklabels,labelalias:ge.labelalias,ticklabelposition:ge.ticklabelposition,ticklabeloverflow:ge.ticklabeloverflow,ticklabelstep:ge.ticklabelstep,tickfont:ge.tickfont,tickangle:ge.tickangle,tickformat:ge.tickformat,exponentformat:ge.exponentformat,minexponent:ge.minexponent,separatethousands:ge.separatethousands,showexponent:ge.showexponent,showtickprefix:ge.showtickprefix,tickprefix:ge.tickprefix,showticksuffix:ge.showticksuffix,ticksuffix:ge.ticksuffix,title:ge.title,showline:!0,anchor:"free",side:ne?"right":"bottom",position:1},X=ne?"y":"x",ye={type:"linear",_id:X+ge._id},Ce={letter:X,font:ce.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:ce.calendar};function $e(ke,Ne){return d.coerce(fe,ye,M,ke,Ne)}return D(fe,ye,$e,Ce,ce),N(fe,ye,$e,Ce),ye}L.exports={draw:P}},6228:function(L,A,s){var m=s(1828);L.exports=function(l){return m.isPlainObject(l.colorbar)}},2311:function(L,A,s){L.exports={moduleType:"component",name:"colorbar",attributes:s(3583),supplyDefaults:s(2499),draw:s(8981).draw,hasColorbar:s(6228)}},693:function(L,A,s){var m=s(3583),h=s(587).counter,l=s(8607),c=s(3282).scales;l(c),L.exports=function(u,d){u=u||"",d=d||{};var g=d.cLetter||"c";"onlyIfNumerical"in d&&d.onlyIfNumerical;var v="noScale"in d?d.noScale:u==="marker.line",x="showScaleDflt"in d?d.showScaleDflt:g==="z",C=typeof d.colorscaleDflt=="string"?c[d.colorscaleDflt]:null,_=d.editTypeOverride||"",$;"colorAttr"in d?($=d.colorAttr,d.colorAttr):$={z:"z",c:"color"}[g];var S=g+"auto",O=g+"min",D=g+"max",N=g+"mid",M={};M[O]=M[D]=void 0;var k={};k[S]=!1;var R={};return $==="color"&&(R.color={valType:"color",arrayOk:!0,editType:_||"style"},d.anim&&(R.color.anim=!0)),R[S]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:M},R[O]={valType:"number",dflt:null,editType:_||"plot",impliedEdits:k},R[D]={valType:"number",dflt:null,editType:_||"plot",impliedEdits:k},R[N]={valType:"number",dflt:null,editType:"calc",impliedEdits:M},R.colorscale={valType:"colorscale",editType:"calc",dflt:C,impliedEdits:{autocolorscale:!1}},R.autocolorscale={valType:"boolean",dflt:d.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},R.reversescale={valType:"boolean",dflt:!1,editType:"plot"},v||(R.showscale={valType:"boolean",dflt:x,editType:"calc"},R.colorbar=m),d.noColorAxis||(R.coloraxis={valType:"subplotid",regex:h("coloraxis"),dflt:null,editType:"calc"}),R}},8803:function(L,A,s){var m=s(2770),h=s(1828),l=s(2869).extractOpts;L.exports=function(i,u,d){var g=i._fullLayout,v=d.vals,x=d.containerStr,C=x?h.nestedProperty(u,x).get():u,_=l(C),$=_.auto!==!1,S=_.min,O=_.max,D=_.mid,N=function(){return h.aggNums(Math.min,null,v)},M=function(){return h.aggNums(Math.max,null,v)};if(S===void 0?S=N():$&&(C._colorAx&&m(S)?S=Math.min(S,N()):S=N()),O===void 0?O=M():$&&(C._colorAx&&m(O)?O=Math.max(O,M()):O=M()),$&&D!==void 0&&(O-D>D-S?S=D-(O-D):O-D<D-S&&(O=D+(D-S))),S===O&&(S-=.5,O+=.5),_._sync("min",S),_._sync("max",O),_.autocolorscale){var k;S*O<0?k=g.colorscale.diverging:S>=0?k=g.colorscale.sequential:k=g.colorscale.sequentialminus,_._sync("colorscale",k)}}},3046:function(L,A,s){var m=s(1828),h=s(2869).hasColorscale,l=s(2869).extractOpts;L.exports=function(i,u){function d(S,O){var D=S["_"+O];D!==void 0&&(S[O]=D)}function g(S,O){var D=O.container?m.nestedProperty(S,O.container).get():S;if(D)if(D.coloraxis)D._colorAx=u[D.coloraxis];else{var N=l(D),M=N.auto;(M||N.min===void 0)&&d(D,O.min),(M||N.max===void 0)&&d(D,O.max),N.autocolorscale&&d(D,"colorscale")}}for(var v=0;v<i.length;v++){var x=i[v],C=x._module.colorbar;if(C)if(Array.isArray(C))for(var _=0;_<C.length;_++)g(x,C[_]);else g(x,C);h(x,"marker.line")&&g(x,{container:"marker.line",min:"cmin",max:"cmax"})}for(var $ in u._colorAxes)g(u[$],{min:"cmin",max:"cmax"})}},1586:function(L,A,s){var m=s(2770),h=s(1828),l=s(6228),c=s(2499),i=s(3282).isValid,u=s(3972).traceIs;function d(g,v){var x=v.slice(0,v.length-1);return v?h.nestedProperty(g,x).get()||{}:g}L.exports=function g(v,x,C,_,$){var S=$.prefix,O=$.cLetter,D="_module"in x,N=d(v,S),M=d(x,S),k=d(x._template||{},S)||{},R=function(){return delete v.coloraxis,delete x.coloraxis,g(v,x,C,_,$)};if(D){var F=C._colorAxes||{},H=_(S+"coloraxis");if(H){var j=u(x,"contour")&&h.nestedProperty(x,"contours.coloring").get()||"heatmap",P=F[H];P?(P[2].push(R),P[0]!==j&&(P[0]=!1,h.warn(["Ignoring coloraxis:",H,"setting","as it is linked to incompatible colorscales."].join(" ")))):F[H]=[j,x,[R]];return}}var ee=N[O+"min"],J=N[O+"max"],K=m(ee)&&m(J)&&ee<J,ae=_(S+O+"auto",!K);ae?_(S+O+"mid"):(_(S+O+"min"),_(S+O+"max"));var Q=N.colorscale,he=k.colorscale,ge;if(Q!==void 0&&(ge=!i(Q)),he!==void 0&&(ge=!i(he)),_(S+"autocolorscale",ge),_(S+"colorscale"),_(S+"reversescale"),S!=="marker.line."){var Se;S&&D&&(Se=l(N));var ce=_(S+"showscale",Se);ce&&(S&&k&&(M._template=k),c(N,M,C))}}},2869:function(L,A,s){var m=s(9898),h=s(4267),l=s(2770),c=s(1828),i=s(7901),u=s(3282).isValid;function d(D,N,M){var k=N?c.nestedProperty(D,N).get()||{}:D,R=k[M||"color"],F=!1;if(c.isArrayOrTypedArray(R)){for(var H=0;H<R.length;H++)if(l(R[H])){F=!0;break}}return c.isPlainObject(k)&&(F||k.showscale===!0||l(k.cmin)&&l(k.cmax)||u(k.colorscale)||c.isPlainObject(k.colorbar))}var g=["showscale","autocolorscale","colorscale","reversescale","colorbar"],v=["min","max","mid","auto"];function x(D){var N=D._colorAx,M=N||D,k={},R,F,H;for(F=0;F<g.length;F++)H=g[F],k[H]=M[H];if(N)for(R="c",F=0;F<v.length;F++)H=v[F],k[H]=M["c"+H];else{var j;for(F=0;F<v.length;F++){if(H=v[F],j="c"+H,j in M){k[H]=M[j];continue}j="z"+H,j in M&&(k[H]=M[j])}R=j.charAt(0)}return k._sync=function(P,ee){var J=v.indexOf(P)!==-1?R+P:P;M[J]=M["_"+J]=ee},k}function C(D){for(var N=x(D),M=N.min,k=N.max,R=N.reversescale?_(N.colorscale):N.colorscale,F=R.length,H=new Array(F),j=new Array(F),P=0;P<F;P++){var ee=R[P];H[P]=M+ee[0]*(k-M),j[P]=ee[1]}return{domain:H,range:j}}function _(D){for(var N=D.length,M=new Array(N),k=N-1,R=0;k>=0;k--,R++){var F=D[k];M[R]=[1-F[0],F[1]]}return M}function $(D,N){N=N||{};for(var M=D.domain,k=D.range,R=k.length,F=new Array(R),H=0;H<R;H++){var j=h(k[H]).toRgb();F[H]=[j.r,j.g,j.b,j.a]}var P=m.scale.linear().domain(M).range(F).clamp(!0),ee=N.noNumericCheck,J=N.returnArray,K;return ee&&J?K=P:ee?K=function(ae){return O(P(ae))}:J?K=function(ae){return l(ae)?P(ae):h(ae).isValid()?ae:i.defaultLine}:K=function(ae){return l(ae)?O(P(ae)):h(ae).isValid()?ae:i.defaultLine},K.domain=P.domain,K.range=function(){return k},K}function S(D,N){return $(C(D),N)}function O(D){var N={r:D[0],g:D[1],b:D[2],a:D[3]};return h(N).toRgbString()}L.exports={hasColorscale:d,extractOpts:x,extractScale:C,flipScale:_,makeColorScaleFunc:$,makeColorScaleFuncFromTrace:S}},1081:function(L,A,s){var m=s(3282),h=s(2869);L.exports={moduleType:"component",name:"colorscale",attributes:s(693),layoutAttributes:s(2673),supplyLayoutDefaults:s(959),handleDefaults:s(1586),crossTraceDefaults:s(3046),calc:s(8803),scales:m.scales,defaultScale:m.defaultScale,getScale:m.get,isValidScale:m.isValid,hasColorscale:h.hasColorscale,extractOpts:h.extractOpts,extractScale:h.extractScale,flipScale:h.flipScale,makeColorScaleFunc:h.makeColorScaleFunc,makeColorScaleFuncFromTrace:h.makeColorScaleFuncFromTrace}},2673:function(L,A,s){var m=s(1426).extendFlat,h=s(693),l=s(3282).scales;L.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:l.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:l.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:l.RdBu,editType:"calc"}},coloraxis:m({_isSubplotObj:!0,editType:"calc"},h("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},959:function(L,A,s){var m=s(1828),h=s(4467),l=s(2673),c=s(1586);L.exports=function(u,d){function g(D,N){return m.coerce(u,d,l,D,N)}g("colorscale.sequential"),g("colorscale.sequentialminus"),g("colorscale.diverging");var v=d._colorAxes,x,C;function _(D,N){return m.coerce(x,C,l.coloraxis,D,N)}for(var $ in v){var S=v[$];if(S[0])x=u[$]||{},C=h.newContainer(d,$,"coloraxis"),C._name=$,c(x,C,d,_,{prefix:"",cLetter:"c"});else{for(var O=0;O<S[2].length;O++)S[2][O]();delete d._colorAxes[$]}}}},3282:function(L,A,s){var m=s(4267),h={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},l=h.RdBu;function c(d,g){if(g||(g=l),!d)return g;function v(){try{d=h[d]||JSON.parse(d)}catch{d=g}}return typeof d=="string"&&(v(),typeof d=="string"&&v()),i(d)?d:g}function i(d){var g=0;if(!Array.isArray(d)||d.length<2||!d[0]||!d[d.length-1]||+d[0][0]!=0||+d[d.length-1][0]!=1)return!1;for(var v=0;v<d.length;v++){var x=d[v];if(x.length!==2||+x[0]<g||!m(x[1]).isValid())return!1;g=+x[0]}return!0}function u(d){return h[d]!==void 0?!0:i(d)}L.exports={scales:h,defaultScale:l,get:c,isValid:u}},2807:function(L){L.exports=function(s,m,h,l,c){var i=(s-h)/(l-h),u=i+m/(l-h),d=(i+u)/2;return c==="left"||c==="bottom"?i:c==="center"||c==="middle"?d:c==="right"||c==="top"?u:i<.6666666666666666-d?i:u>1.3333333333333333-d?u:d}},461:function(L,A,s){var m=s(1828),h=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];L.exports=function(c,i,u,d){return u==="left"?c=0:u==="center"?c=1:u==="right"?c=2:c=m.constrain(Math.floor(c*3),0,2),d==="bottom"?i=0:d==="middle"?i=1:d==="top"?i=2:i=m.constrain(Math.floor(i*3),0,2),h[i][c]}},4505:function(L,A){A.selectMode=function(s){return s==="lasso"||s==="select"},A.drawMode=function(s){return s==="drawclosedpath"||s==="drawopenpath"||s==="drawline"||s==="drawrect"||s==="drawcircle"},A.openMode=function(s){return s==="drawline"||s==="drawopenpath"},A.rectMode=function(s){return s==="select"||s==="drawline"||s==="drawrect"||s==="drawcircle"},A.freeMode=function(s){return s==="lasso"||s==="drawclosedpath"||s==="drawopenpath"},A.selectingOrDrawing=function(s){return A.freeMode(s)||A.rectMode(s)}},8569:function(L,A,s){var m=s(8956),h=s(7035),l=s(8520),c=s(1828).removeElement,i=s(5555),u=L.exports={};u.align=s(2807),u.getCursor=s(461);var d=s(6041);u.unhover=d.wrapped,u.unhoverRaw=d.raw,u.init=function(C){var _=C.gd,$=1,S=_._context.doubleClickDelay,O=C.element,D,N,M,k,R,F,H,j;_._mouseDownTime||(_._mouseDownTime=0),O.style.pointerEvents="all",O.onmousedown=J,l?(O._ontouchstart&&O.removeEventListener("touchstart",O._ontouchstart),O._ontouchstart=J,O.addEventListener("touchstart",J,{passive:!1})):O.ontouchstart=J;function P(Q,he,ge){return Math.abs(Q)<ge&&(Q=0),Math.abs(he)<ge&&(he=0),[Q,he]}var ee=C.clampFn||P;function J(Q){_._dragged=!1,_._dragging=!0;var he=v(Q);D=he[0],N=he[1],H=Q.target,F=Q,j=Q.buttons===2||Q.ctrlKey,typeof Q.clientX>"u"&&typeof Q.clientY>"u"&&(Q.clientX=D,Q.clientY=N),M=new Date().getTime(),M-_._mouseDownTime<S?$+=1:($=1,_._mouseDownTime=M),C.prepFn&&C.prepFn(Q,D,N),h&&!j?(R=g(),R.style.cursor=window.getComputedStyle(O).cursor):h||(R=document,k=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(O).cursor),document.addEventListener("mouseup",ae),document.addEventListener("touchend",ae),C.dragmode!==!1&&(Q.preventDefault(),document.addEventListener("mousemove",K),document.addEventListener("touchmove",K,{passive:!1}))}function K(Q){Q.preventDefault();var he=v(Q),ge=C.minDrag||i.MINDRAG,Se=ee(he[0]-D,he[1]-N,ge),ce=Se[0],ne=Se[1];(ce||ne)&&(_._dragged=!0,u.unhover(_,Q)),_._dragged&&C.moveFn&&!j&&(_._dragdata={element:O,dx:ce,dy:ne},C.moveFn(ce,ne))}function ae(Q){if(delete _._dragdata,C.dragmode!==!1&&(Q.preventDefault(),document.removeEventListener("mousemove",K),document.removeEventListener("touchmove",K)),document.removeEventListener("mouseup",ae),document.removeEventListener("touchend",ae),h?c(R):k&&(R.documentElement.style.cursor=k,k=null),!_._dragging){_._dragged=!1;return}if(_._dragging=!1,new Date().getTime()-_._mouseDownTime>S&&($=Math.max($-1,1)),_._dragged)C.doneFn&&C.doneFn();else if(C.clickFn&&C.clickFn($,F),!j){var he;try{he=new MouseEvent("click",Q)}catch{var ge=v(Q);he=document.createEvent("MouseEvents"),he.initMouseEvent("click",Q.bubbles,Q.cancelable,Q.view,Q.detail,Q.screenX,Q.screenY,ge[0],ge[1],Q.ctrlKey,Q.altKey,Q.shiftKey,Q.metaKey,Q.button,Q.relatedTarget)}H.dispatchEvent(he)}_._dragging=!1,_._dragged=!1}};function g(){var x=document.createElement("div");x.className="dragcover";var C=x.style;return C.position="fixed",C.left=0,C.right=0,C.top=0,C.bottom=0,C.zIndex=999999999,C.background="none",document.body.appendChild(x),x}u.coverSlip=g;function v(x){return m(x.changedTouches?x.changedTouches[0]:x,document.body)}},6041:function(L,A,s){var m=s(1086),h=s(9990),l=s(4401).getGraphDiv,c=s(6675),i=L.exports={};i.wrapped=function(u,d,g){u=l(u),u._fullLayout&&h.clear(u._fullLayout._uid+c.HOVERID),i.raw(u,d,g)},i.raw=function(d,g){var v=d._fullLayout,x=d._hoverdata;g||(g={}),!(g.target&&!d._dragged&&m.triggerHandler(d,"plotly_beforehover",g)===!1)&&(v._hoverlayer.selectAll("g").remove(),v._hoverlayer.selectAll("line").remove(),v._hoverlayer.selectAll("circle").remove(),d._hoverdata=void 0,g.target&&x&&d.emit("plotly_unhover",{event:g,points:x}))}},9952:function(L,A){A.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},A.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},1424:function(L,A,s){var m=s(9898),h=s(1828),l=h.numberFormat,c=s(2770),i=s(4267),u=s(3972),d=s(7901),g=s(1081),v=h.strTranslate,x=s(3893),C=s(7922),_=s(8783),$=_.LINE_SPACING,S=s(7822).DESELECTDIM,O=s(4098),D=s(9984),N=s(3469).appendArrayPointValue,M=L.exports={};M.font=function(Ge,Xe,qe,gt){h.isPlainObject(Xe)&&(gt=Xe.color,qe=Xe.size,Xe=Xe.family),Xe&&Ge.style("font-family",Xe),qe+1&&Ge.style("font-size",qe+"px"),gt&&Ge.call(d.fill,gt)},M.setPosition=function(Ge,Xe,qe){Ge.attr("x",Xe).attr("y",qe)},M.setSize=function(Ge,Xe,qe){Ge.attr("width",Xe).attr("height",qe)},M.setRect=function(Ge,Xe,qe,gt,ut){Ge.call(M.setPosition,Xe,qe).call(M.setSize,gt,ut)},M.translatePoint=function(Ge,Xe,qe,gt){var ut=qe.c2p(Ge.x),tt=gt.c2p(Ge.y);if(c(ut)&&c(tt)&&Xe.node())Xe.node().nodeName==="text"?Xe.attr("x",ut).attr("y",tt):Xe.attr("transform",v(ut,tt));else return!1;return!0},M.translatePoints=function(Ge,Xe,qe){Ge.each(function(gt){var ut=m.select(this);M.translatePoint(gt,ut,Xe,qe)})},M.hideOutsideRangePoint=function(Ge,Xe,qe,gt,ut,tt){Xe.attr("display",qe.isPtWithinRange(Ge,ut)&&gt.isPtWithinRange(Ge,tt)?null:"none")},M.hideOutsideRangePoints=function(Ge,Xe){if(Xe._hasClipOnAxisFalse){var qe=Xe.xaxis,gt=Xe.yaxis;Ge.each(function(ut){var tt=ut[0].trace,Ct=tt.xcalendar,Gt=tt.ycalendar,Yt=u.traceIs(tt,"bar-like")?".bartext":".point,.textpoint";Ge.selectAll(Yt).each(function(Nt){M.hideOutsideRangePoint(Nt,m.select(this),qe,gt,Ct,Gt)})})}},M.crispRound=function(Ge,Xe,qe){return!Xe||!c(Xe)?qe||0:Ge._context.staticPlot?Xe:Xe<1?1:Math.round(Xe)},M.singleLineStyle=function(Ge,Xe,qe,gt,ut){Xe.style("fill","none");var tt=(((Ge||[])[0]||{}).trace||{}).line||{},Ct=qe||tt.width||0,Gt=ut||tt.dash||"";d.stroke(Xe,gt||tt.color),M.dashLine(Xe,Gt,Ct)},M.lineGroupStyle=function(Ge,Xe,qe,gt){Ge.style("fill","none").each(function(ut){var tt=(((ut||[])[0]||{}).trace||{}).line||{},Ct=Xe||tt.width||0,Gt=gt||tt.dash||"";m.select(this).call(d.stroke,qe||tt.color).call(M.dashLine,Gt,Ct)})},M.dashLine=function(Ge,Xe,qe){qe=+qe||0,Xe=M.dashStyle(Xe,qe),Ge.style({"stroke-dasharray":Xe,"stroke-width":qe+"px"})},M.dashStyle=function(Ge,Xe){Xe=+Xe||1;var qe=Math.max(Xe,3);return Ge==="solid"?Ge="":Ge==="dot"?Ge=qe+"px,"+qe+"px":Ge==="dash"?Ge=3*qe+"px,"+3*qe+"px":Ge==="longdash"?Ge=5*qe+"px,"+5*qe+"px":Ge==="dashdot"?Ge=3*qe+"px,"+qe+"px,"+qe+"px,"+qe+"px":Ge==="longdashdot"&&(Ge=5*qe+"px,"+2*qe+"px,"+qe+"px,"+2*qe+"px"),Ge};function k(Ge,Xe,qe){var gt=Xe.fillpattern,ut=gt&&M.getPatternAttr(gt.shape,0,"");if(ut){var tt=M.getPatternAttr(gt.bgcolor,0,null),Ct=M.getPatternAttr(gt.fgcolor,0,null),Gt=gt.fgopacity,Yt=M.getPatternAttr(gt.size,0,8),Nt=M.getPatternAttr(gt.solidity,0,.3),Ft=Xe.uid;M.pattern(Ge,"point",qe,Ft,ut,Yt,Nt,void 0,gt.fillmode,tt,Ct,Gt)}else Xe.fillcolor&&Ge.call(d.fill,Xe.fillcolor)}M.singleFillStyle=function(Ge,Xe){var qe=m.select(Ge.node()),gt=qe.data(),ut=((gt[0]||[])[0]||{}).trace||{};k(Ge,ut,Xe)},M.fillGroupStyle=function(Ge,Xe){Ge.style("stroke-width",0).each(function(qe){var gt=m.select(this);qe[0].trace&&k(gt,qe[0].trace,Xe)})};var R=s(998);M.symbolNames=[],M.symbolFuncs=[],M.symbolBackOffs=[],M.symbolNeedLines={},M.symbolNoDot={},M.symbolNoFill={},M.symbolList=[],Object.keys(R).forEach(function(Ge){var Xe=R[Ge],qe=Xe.n;M.symbolList.push(qe,String(qe),Ge,qe+100,String(qe+100),Ge+"-open"),M.symbolNames[qe]=Ge,M.symbolFuncs[qe]=Xe.f,M.symbolBackOffs[qe]=Xe.backoff||0,Xe.needLine&&(M.symbolNeedLines[qe]=!0),Xe.noDot?M.symbolNoDot[qe]=!0:M.symbolList.push(qe+200,String(qe+200),Ge+"-dot",qe+300,String(qe+300),Ge+"-open-dot"),Xe.noFill&&(M.symbolNoFill[qe]=!0)});var F=M.symbolNames.length,H="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";M.symbolNumber=function(Ge){if(c(Ge))Ge=+Ge;else if(typeof Ge=="string"){var Xe=0;Ge.indexOf("-open")>0&&(Xe=100,Ge=Ge.replace("-open","")),Ge.indexOf("-dot")>0&&(Xe+=200,Ge=Ge.replace("-dot","")),Ge=M.symbolNames.indexOf(Ge),Ge>=0&&(Ge+=Xe)}return Ge%100>=F||Ge>=400?0:Math.floor(Math.max(Ge,0))};function j(Ge,Xe,qe,gt){var ut=Ge%100;return M.symbolFuncs[ut](Xe,qe,gt)+(Ge>=200?H:"")}var P={x1:1,x2:0,y1:0,y2:0},ee={x1:0,x2:0,y1:1,y2:0},J=l("~f"),K={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:P},horizontalreversed:{node:"linearGradient",attrs:P,reversed:!0},vertical:{node:"linearGradient",attrs:ee},verticalreversed:{node:"linearGradient",attrs:ee,reversed:!0}};M.gradient=function(Ge,Xe,qe,gt,ut,tt){for(var Ct=ut.length,Gt=K[gt],Yt=new Array(Ct),Nt=0;Nt<Ct;Nt++)Gt.reversed?Yt[Ct-1-Nt]=[J((1-ut[Nt][0])*100),ut[Nt][1]]:Yt[Nt]=[J(ut[Nt][0]*100),ut[Nt][1]];var Ft=Xe._fullLayout,pn="g"+Ft._uid+"-"+qe,_n=Ft._defs.select(".gradients").selectAll("#"+pn).data([gt+Yt.join(";")],h.identity);_n.exit().remove(),_n.enter().append(Gt.node).each(function(){var sn=m.select(this);Gt.attrs&&sn.attr(Gt.attrs),sn.attr("id",pn);var Zn=sn.selectAll("stop").data(Yt);Zn.exit().remove(),Zn.enter().append("stop"),Zn.each(function(an){var Cn=i(an[1]);m.select(this).attr({offset:an[0]+"%","stop-color":d.tinyRGB(Cn),"stop-opacity":Cn.getAlpha()})})}),Ge.style(tt,Fe(pn,Xe)).style(tt+"-opacity",null),Ge.classed("gradient_filled",!0)},M.pattern=function(Ge,Xe,qe,gt,ut,tt,Ct,Gt,Yt,Nt,Ft,pn){var _n=Xe==="legend";Gt&&(Yt==="overlay"?(Nt=Gt,Ft=d.contrast(Nt)):(Nt=void 0,Ft=Gt));var sn=qe._fullLayout,Zn="p"+sn._uid+"-"+gt,an,Cn,jn=function(Tt,Et,fn,tn,Zt){return tn+(Zt-tn)*(Tt-Et)/(fn-Et)},Wn,wn,lt,ft,wt={},vt=i(Ft),$t=d.tinyRGB(vt),Ze=vt.getAlpha(),it=pn*Ze;switch(ut){case"/":an=tt*Math.sqrt(2),Cn=tt*Math.sqrt(2),Wn="M-"+an/4+","+Cn/4+"l"+an/2+",-"+Cn/2+"M0,"+Cn+"L"+an+",0M"+an/4*3+","+Cn/4*5+"l"+an/2+",-"+Cn/2,wn=Ct*tt,ft="path",wt={d:Wn,opacity:it,stroke:$t,"stroke-width":wn+"px"};break;case"\\":an=tt*Math.sqrt(2),Cn=tt*Math.sqrt(2),Wn="M"+an/4*3+",-"+Cn/4+"l"+an/2+","+Cn/2+"M0,0L"+an+","+Cn+"M-"+an/4+","+Cn/4*3+"l"+an/2+","+Cn/2,wn=Ct*tt,ft="path",wt={d:Wn,opacity:it,stroke:$t,"stroke-width":wn+"px"};break;case"x":an=tt*Math.sqrt(2),Cn=tt*Math.sqrt(2),Wn="M-"+an/4+","+Cn/4+"l"+an/2+",-"+Cn/2+"M0,"+Cn+"L"+an+",0M"+an/4*3+","+Cn/4*5+"l"+an/2+",-"+Cn/2+"M"+an/4*3+",-"+Cn/4+"l"+an/2+","+Cn/2+"M0,0L"+an+","+Cn+"M-"+an/4+","+Cn/4*3+"l"+an/2+","+Cn/2,wn=tt-tt*Math.sqrt(1-Ct),ft="path",wt={d:Wn,opacity:it,stroke:$t,"stroke-width":wn+"px"};break;case"|":an=tt,Cn=tt,ft="path",Wn="M"+an/2+",0L"+an/2+","+Cn,wn=Ct*tt,ft="path",wt={d:Wn,opacity:it,stroke:$t,"stroke-width":wn+"px"};break;case"-":an=tt,Cn=tt,ft="path",Wn="M0,"+Cn/2+"L"+an+","+Cn/2,wn=Ct*tt,ft="path",wt={d:Wn,opacity:it,stroke:$t,"stroke-width":wn+"px"};break;case"+":an=tt,Cn=tt,ft="path",Wn="M"+an/2+",0L"+an/2+","+Cn+"M0,"+Cn/2+"L"+an+","+Cn/2,wn=tt-tt*Math.sqrt(1-Ct),ft="path",wt={d:Wn,opacity:it,stroke:$t,"stroke-width":wn+"px"};break;case".":an=tt,Cn=tt,Ct<Math.PI/4?lt=Math.sqrt(Ct*tt*tt/Math.PI):lt=jn(Ct,Math.PI/4,1,tt/2,tt/Math.sqrt(2)),ft="circle",wt={cx:an/2,cy:Cn/2,r:lt,opacity:it,fill:$t};break}var ht=[ut||"noSh",Nt||"noBg",Ft||"noFg",tt,Ct].join(";"),pt=sn._defs.select(".patterns").selectAll("#"+Zn).data([ht],h.identity);pt.exit().remove(),pt.enter().append("pattern").each(function(){var Tt=m.select(this);if(Tt.attr({id:Zn,width:an+"px",height:Cn+"px",patternUnits:"userSpaceOnUse",patternTransform:_n?"scale(0.8)":""}),Nt){var Et=i(Nt),fn=d.tinyRGB(Et),tn=Et.getAlpha(),Zt=Tt.selectAll("rect").data([0]);Zt.exit().remove(),Zt.enter().append("rect").attr({width:an+"px",height:Cn+"px",fill:fn,"fill-opacity":tn})}var Dt=Tt.selectAll(ft).data([0]);Dt.exit().remove(),Dt.enter().append(ft).attr(wt)}),Ge.style("fill",Fe(Zn,qe)).style("fill-opacity",null),Ge.classed("pattern_filled",!0)},M.initGradients=function(Ge){var Xe=Ge._fullLayout,qe=h.ensureSingle(Xe._defs,"g","gradients");qe.selectAll("linearGradient,radialGradient").remove(),m.select(Ge).selectAll(".gradient_filled").classed("gradient_filled",!1)},M.initPatterns=function(Ge){var Xe=Ge._fullLayout,qe=h.ensureSingle(Xe._defs,"g","patterns");qe.selectAll("pattern").remove(),m.select(Ge).selectAll(".pattern_filled").classed("pattern_filled",!1)},M.getPatternAttr=function(Ge,Xe,qe){return Ge&&h.isArrayOrTypedArray(Ge)?Xe<Ge.length?Ge[Xe]:qe:Ge},M.pointStyle=function(Ge,Xe,qe,gt){if(Ge.size()){var ut=M.makePointStyleFns(Xe);Ge.each(function(tt){M.singlePointStyle(tt,m.select(this),Xe,ut,qe,gt)})}},M.singlePointStyle=function(Ge,Xe,qe,gt,ut,tt){var Ct=qe.marker,Gt=Ct.line;if(tt&&tt.i>=0&&Ge.i===void 0&&(Ge.i=tt.i),Xe.style("opacity",gt.selectedOpacityFn?gt.selectedOpacityFn(Ge):Ge.mo===void 0?Ct.opacity:Ge.mo),gt.ms2mrc){var Yt;Ge.ms==="various"||Ct.size==="various"?Yt=3:Yt=gt.ms2mrc(Ge.ms),Ge.mrc=Yt,gt.selectedSizeFn&&(Yt=Ge.mrc=gt.selectedSizeFn(Ge));var Nt=M.symbolNumber(Ge.mx||Ct.symbol)||0;Ge.om=Nt%200>=100;var Ft=dt(Ge,qe),pn=se(Ge,qe);Xe.attr("d",j(Nt,Yt,Ft,pn))}var _n=!1,sn,Zn,an;if(Ge.so)an=Gt.outlierwidth,Zn=Gt.outliercolor,sn=Ct.outliercolor;else{var Cn=(Gt||{}).width;an=(Ge.mlw+1||Cn+1||(Ge.trace?(Ge.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Ge?Zn=Ge.mlcc=gt.lineScale(Ge.mlc):h.isArrayOrTypedArray(Gt.color)?Zn=d.defaultLine:Zn=Gt.color,h.isArrayOrTypedArray(Ct.color)&&(sn=d.defaultLine,_n=!0),"mc"in Ge?sn=Ge.mcc=gt.markerScale(Ge.mc):sn=Ct.color||Ct.colors||"rgba(0,0,0,0)",gt.selectedColorFn&&(sn=gt.selectedColorFn(Ge))}if(Ge.om)Xe.call(d.stroke,sn).style({"stroke-width":(an||1)+"px",fill:"none"});else{Xe.style("stroke-width",(Ge.isBlank?0:an)+"px");var jn=Ct.gradient,Wn=Ge.mgt;Wn?_n=!0:Wn=jn&&jn.type,h.isArrayOrTypedArray(Wn)&&(Wn=Wn[0],K[Wn]||(Wn=0));var wn=Ct.pattern,lt=wn&&M.getPatternAttr(wn.shape,Ge.i,"");if(Wn&&Wn!=="none"){var ft=Ge.mgc;ft?_n=!0:ft=jn.color;var wt=qe.uid;_n&&(wt+="-"+Ge.i),M.gradient(Xe,ut,wt,Wn,[[0,ft],[1,sn]],"fill")}else if(lt){var vt=!1,$t=wn.fgcolor;!$t&&tt&&tt.color&&($t=tt.color,vt=!0);var Ze=M.getPatternAttr($t,Ge.i,tt&&tt.color||null),it=M.getPatternAttr(wn.bgcolor,Ge.i,null),ht=wn.fgopacity,pt=M.getPatternAttr(wn.size,Ge.i,8),Tt=M.getPatternAttr(wn.solidity,Ge.i,.3);vt=vt||Ge.mcc||h.isArrayOrTypedArray(wn.shape)||h.isArrayOrTypedArray(wn.bgcolor)||h.isArrayOrTypedArray(wn.fgcolor)||h.isArrayOrTypedArray(wn.size)||h.isArrayOrTypedArray(wn.solidity);var Et=qe.uid;vt&&(Et+="-"+Ge.i),M.pattern(Xe,"point",ut,Et,lt,pt,Tt,Ge.mcc,wn.fillmode,it,Ze,ht)}else h.isArrayOrTypedArray(sn)?d.fill(Xe,sn[Ge.i]):d.fill(Xe,sn);an&&d.stroke(Xe,Zn)}},M.makePointStyleFns=function(Ge){var Xe={},qe=Ge.marker;return Xe.markerScale=M.tryColorscale(qe,""),Xe.lineScale=M.tryColorscale(qe,"line"),u.traceIs(Ge,"symbols")&&(Xe.ms2mrc=O.isBubble(Ge)?D(Ge):function(){return(qe.size||6)/2}),Ge.selectedpoints&&h.extendFlat(Xe,M.makeSelectedPointStyleFns(Ge)),Xe},M.makeSelectedPointStyleFns=function(Ge){var Xe={},qe=Ge.selected||{},gt=Ge.unselected||{},ut=Ge.marker||{},tt=qe.marker||{},Ct=gt.marker||{},Gt=ut.opacity,Yt=tt.opacity,Nt=Ct.opacity,Ft=Yt!==void 0,pn=Nt!==void 0;(h.isArrayOrTypedArray(Gt)||Ft||pn)&&(Xe.selectedOpacityFn=function(lt){var ft=lt.mo===void 0?ut.opacity:lt.mo;return lt.selected?Ft?Yt:ft:pn?Nt:S*ft});var _n=ut.color,sn=tt.color,Zn=Ct.color;(sn||Zn)&&(Xe.selectedColorFn=function(lt){var ft=lt.mcc||_n;return lt.selected?sn||ft:Zn||ft});var an=ut.size,Cn=tt.size,jn=Ct.size,Wn=Cn!==void 0,wn=jn!==void 0;return u.traceIs(Ge,"symbols")&&(Wn||wn)&&(Xe.selectedSizeFn=function(lt){var ft=lt.mrc||an/2;return lt.selected?Wn?Cn/2:ft:wn?jn/2:ft}),Xe},M.makeSelectedTextStyleFns=function(Ge){var Xe={},qe=Ge.selected||{},gt=Ge.unselected||{},ut=Ge.textfont||{},tt=qe.textfont||{},Ct=gt.textfont||{},Gt=ut.color,Yt=tt.color,Nt=Ct.color;return Xe.selectedTextColorFn=function(Ft){var pn=Ft.tc||Gt;return Ft.selected?Yt||pn:Nt||(Yt?pn:d.addOpacity(pn,S))},Xe},M.selectedPointStyle=function(Ge,Xe){if(!(!Ge.size()||!Xe.selectedpoints)){var qe=M.makeSelectedPointStyleFns(Xe),gt=Xe.marker||{},ut=[];qe.selectedOpacityFn&&ut.push(function(tt,Ct){tt.style("opacity",qe.selectedOpacityFn(Ct))}),qe.selectedColorFn&&ut.push(function(tt,Ct){d.fill(tt,qe.selectedColorFn(Ct))}),qe.selectedSizeFn&&ut.push(function(tt,Ct){var Gt=Ct.mx||gt.symbol||0,Yt=qe.selectedSizeFn(Ct);tt.attr("d",j(M.symbolNumber(Gt),Yt,dt(Ct,Xe),se(Ct,Xe))),Ct.mrc2=Yt}),ut.length&&Ge.each(function(tt){for(var Ct=m.select(this),Gt=0;Gt<ut.length;Gt++)ut[Gt](Ct,tt)})}},M.tryColorscale=function(Ge,Xe){var qe=Xe?h.nestedProperty(Ge,Xe).get():Ge;if(qe){var gt=qe.color;if((qe.colorscale||qe._colorAx)&&h.isArrayOrTypedArray(gt))return g.makeColorScaleFuncFromTrace(qe)}return h.identity};var ae={start:1,end:-1,middle:0,bottom:1,top:-1};function Q(Ge,Xe,qe,gt,ut){var tt=m.select(Ge.node().parentNode),Ct=Xe.indexOf("top")!==-1?"top":Xe.indexOf("bottom")!==-1?"bottom":"middle",Gt=Xe.indexOf("left")!==-1?"end":Xe.indexOf("right")!==-1?"start":"middle",Yt=gt?gt/.8+1:0,Nt=(x.lineCount(Ge)-1)*$+1,Ft=ae[Gt]*Yt,pn=qe*.75+ae[Ct]*Yt+(ae[Ct]-1)*Nt*qe/2;Ge.attr("text-anchor",Gt),ut||tt.attr("transform",v(Ft,pn))}function he(Ge,Xe){var qe=Ge.ts||Xe.textfont.size;return c(qe)&&qe>0?qe:0}M.textPointStyle=function(Ge,Xe,qe){if(Ge.size()){var gt;if(Xe.selectedpoints){var ut=M.makeSelectedTextStyleFns(Xe);gt=ut.selectedTextColorFn}var tt=Xe.texttemplate,Ct=qe._fullLayout;Ge.each(function(Gt){var Yt=m.select(this),Nt=tt?h.extractOption(Gt,Xe,"txt","texttemplate"):h.extractOption(Gt,Xe,"tx","text");if(!Nt&&Nt!==0){Yt.remove();return}if(tt){var Ft=Xe._module.formatLabels,pn=Ft?Ft(Gt,Xe,Ct):{},_n={};N(_n,Xe,Gt.i);var sn=Xe._meta||{};Nt=h.texttemplateString(Nt,pn,Ct._d3locale,_n,Gt,sn)}var Zn=Gt.tp||Xe.textposition,an=he(Gt,Xe),Cn=gt?gt(Gt):Gt.tc||Xe.textfont.color;Yt.call(M.font,Gt.tf||Xe.textfont.family,an,Cn).text(Nt).call(x.convertToTspans,qe).call(Q,Zn,an,Gt.mrc)})}},M.selectedTextStyle=function(Ge,Xe){if(!(!Ge.size()||!Xe.selectedpoints)){var qe=M.makeSelectedTextStyleFns(Xe);Ge.each(function(gt){var ut=m.select(this),tt=qe.selectedTextColorFn(gt),Ct=gt.tp||Xe.textposition,Gt=he(gt,Xe);d.fill(ut,tt);var Yt=u.traceIs(Xe,"bar-like");Q(ut,Ct,Gt,gt.mrc2||gt.mrc,Yt)})}};var ge=.5;M.smoothopen=function(Ge,Xe){if(Ge.length<3)return"M"+Ge.join("L");var qe="M"+Ge[0],gt=[],ut;for(ut=1;ut<Ge.length-1;ut++)gt.push(ye(Ge[ut-1],Ge[ut],Ge[ut+1],Xe));for(qe+="Q"+gt[0][0]+" "+Ge[1],ut=2;ut<Ge.length-1;ut++)qe+="C"+gt[ut-2][1]+" "+gt[ut-1][0]+" "+Ge[ut];return qe+="Q"+gt[Ge.length-3][1]+" "+Ge[Ge.length-1],qe},M.smoothclosed=function(Ge,Xe){if(Ge.length<3)return"M"+Ge.join("L")+"Z";var qe="M"+Ge[0],gt=Ge.length-1,ut=[ye(Ge[gt],Ge[0],Ge[1],Xe)],tt;for(tt=1;tt<gt;tt++)ut.push(ye(Ge[tt-1],Ge[tt],Ge[tt+1],Xe));for(ut.push(ye(Ge[gt-1],Ge[gt],Ge[0],Xe)),tt=1;tt<=gt;tt++)qe+="C"+ut[tt-1][1]+" "+ut[tt][0]+" "+Ge[tt];return qe+="C"+ut[gt][1]+" "+ut[0][0]+" "+Ge[0]+"Z",qe};var Se,ce;function ne(Ge,Xe,qe){return qe&&(Ge=ke(Ge)),Xe?X(Ge[1]):fe(Ge[0])}function fe(Ge){var Xe=m.round(Ge,2);return Se=Xe,Xe}function X(Ge){var Xe=m.round(Ge,2);return ce=Xe,Xe}function ye(Ge,Xe,qe,gt){var ut=Ge[0]-Xe[0],tt=Ge[1]-Xe[1],Ct=qe[0]-Xe[0],Gt=qe[1]-Xe[1],Yt=Math.pow(ut*ut+tt*tt,ge/2),Nt=Math.pow(Ct*Ct+Gt*Gt,ge/2),Ft=(Nt*Nt*ut-Yt*Yt*Ct)*gt,pn=(Nt*Nt*tt-Yt*Yt*Gt)*gt,_n=3*Nt*(Yt+Nt),sn=3*Yt*(Yt+Nt);return[[fe(Xe[0]+(_n&&Ft/_n)),X(Xe[1]+(_n&&pn/_n))],[fe(Xe[0]-(sn&&Ft/sn)),X(Xe[1]-(sn&&pn/sn))]]}var Ce={hv:function(Ge,Xe,qe){return"H"+fe(Xe[0])+"V"+ne(Xe,1,qe)},vh:function(Ge,Xe,qe){return"V"+X(Xe[1])+"H"+ne(Xe,0,qe)},hvh:function(Ge,Xe,qe){return"H"+fe((Ge[0]+Xe[0])/2)+"V"+X(Xe[1])+"H"+ne(Xe,0,qe)},vhv:function(Ge,Xe,qe){return"V"+X((Ge[1]+Xe[1])/2)+"H"+fe(Xe[0])+"V"+ne(Xe,1,qe)}},$e=function(Ge,Xe,qe){return"L"+ne(Xe,0,qe)+","+ne(Xe,1,qe)};M.steps=function(Ge){var Xe=Ce[Ge]||$e;return function(qe){for(var gt="M"+fe(qe[0][0])+","+X(qe[0][1]),ut=qe.length,tt=1;tt<ut;tt++)gt+=Xe(qe[tt-1],qe[tt],tt===ut-1);return gt}};function ke(Ge,Xe){var qe=Ge.backoff,gt=Ge.trace,ut=Ge.d,tt=Ge.i;if(qe&&gt&&gt.marker&&gt.marker.angle%360===0&&gt.line&&gt.line.shape!=="spline"){var Ct=h.isArrayOrTypedArray(qe),Gt=Ge,Yt=Xe?Xe[0]:Se||0,Nt=Xe?Xe[1]:ce||0,Ft=Gt[0],pn=Gt[1],_n=Ft-Yt,sn=pn-Nt,Zn=Math.atan2(sn,_n),an=Ct?qe[tt]:qe;if(an==="auto"){var Cn=Gt.i;gt.type==="scatter"&&Cn--;var jn=Gt.marker,Wn=jn.symbol;h.isArrayOrTypedArray(Wn)&&(Wn=Wn[Cn]);var wn=jn.size;h.isArrayOrTypedArray(wn)&&(wn=wn[Cn]),an=jn?M.symbolBackOffs[M.symbolNumber(Wn)]*wn:0,an+=M.getMarkerStandoff(ut[Cn],gt)||0}var lt=Ft-an*Math.cos(Zn),ft=pn-an*Math.sin(Zn);(lt<=Ft&&lt>=Yt||lt>=Ft&&lt<=Yt)&&(ft<=pn&&ft>=Nt||ft>=pn&&ft<=Nt)&&(Ge=[lt,ft])}return Ge}M.applyBackoff=ke,M.makeTester=function(){var Ge=h.ensureSingleById(m.select("body"),"svg","js-plotly-tester",function(qe){qe.attr(C.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Xe=h.ensureSingle(Ge,"path","js-reference-point",function(qe){qe.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});M.tester=Ge,M.testref=Xe},M.savedBBoxes={};var Ne=0,Ve=1e4;M.bBox=function(Ge,Xe,qe){qe||(qe=Oe(Ge));var gt;if(qe){if(gt=M.savedBBoxes[qe],gt)return h.extendFlat({},gt)}else if(Ge.childNodes.length===1){var ut=Ge.childNodes[0];if(qe=Oe(ut),qe){var tt=+ut.getAttribute("x")||0,Ct=+ut.getAttribute("y")||0,Gt=ut.getAttribute("transform");if(!Gt){var Yt=M.bBox(ut,!1,qe);return tt&&(Yt.left+=tt,Yt.right+=tt),Ct&&(Yt.top+=Ct,Yt.bottom+=Ct),Yt}if(qe+="~"+tt+"~"+Ct+"~"+Gt,gt=M.savedBBoxes[qe],gt)return h.extendFlat({},gt)}}var Nt,Ft;Xe?Nt=Ge:(Ft=M.tester.node(),Nt=Ge.cloneNode(!0),Ft.appendChild(Nt)),m.select(Nt).attr("transform",null).call(x.positionText,0,0);var pn=Nt.getBoundingClientRect(),_n=M.testref.node().getBoundingClientRect();Xe||Ft.removeChild(Nt);var sn={height:pn.height,width:pn.width,left:pn.left-_n.left,top:pn.top-_n.top,right:pn.right-_n.left,bottom:pn.bottom-_n.top};return Ne>=Ve&&(M.savedBBoxes={},Ne=0),qe&&(M.savedBBoxes[qe]=sn),Ne++,h.extendFlat({},sn)};function Oe(Ge){var Xe=Ge.getAttribute("data-unformatted");if(Xe!==null)return Xe+Ge.getAttribute("data-math")+Ge.getAttribute("text-anchor")+Ge.getAttribute("style")}M.setClipUrl=function(Ge,Xe,qe){Ge.attr("clip-path",Fe(Xe,qe))};function Fe(Ge,Xe){if(!Ge)return null;var qe=Xe._context,gt=qe._exportedPlot?"":qe._baseUrl||"";return gt?"url('"+gt+"#"+Ge+"')":"url(#"+Ge+")"}M.getTranslate=function(Ge){var Xe=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,qe=Ge.attr?"attr":"getAttribute",gt=Ge[qe]("transform")||"",ut=gt.replace(Xe,function(tt,Ct,Gt){return[Ct,Gt].join(" ")}).split(" ");return{x:+ut[0]||0,y:+ut[1]||0}},M.setTranslate=function(Ge,Xe,qe){var gt=/(\btranslate\(.*?\);?)/,ut=Ge.attr?"attr":"getAttribute",tt=Ge.attr?"attr":"setAttribute",Ct=Ge[ut]("transform")||"";return Xe=Xe||0,qe=qe||0,Ct=Ct.replace(gt,"").trim(),Ct+=v(Xe,qe),Ct=Ct.trim(),Ge[tt]("transform",Ct),Ct},M.getScale=function(Ge){var Xe=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,qe=Ge.attr?"attr":"getAttribute",gt=Ge[qe]("transform")||"",ut=gt.replace(Xe,function(tt,Ct,Gt){return[Ct,Gt].join(" ")}).split(" ");return{x:+ut[0]||1,y:+ut[1]||1}},M.setScale=function(Ge,Xe,qe){var gt=/(\bscale\(.*?\);?)/,ut=Ge.attr?"attr":"getAttribute",tt=Ge.attr?"attr":"setAttribute",Ct=Ge[ut]("transform")||"";return Xe=Xe||1,qe=qe||1,Ct=Ct.replace(gt,"").trim(),Ct+="scale("+Xe+","+qe+")",Ct=Ct.trim(),Ge[tt]("transform",Ct),Ct};var ie=/\s*sc.*/;M.setPointGroupScale=function(Ge,Xe,qe){if(Xe=Xe||1,qe=qe||1,!!Ge){var gt=Xe===1&&qe===1?"":"scale("+Xe+","+qe+")";Ge.each(function(){var ut=(this.getAttribute("transform")||"").replace(ie,"");ut+=gt,ut=ut.trim(),this.setAttribute("transform",ut)})}};var we=/translate\([^)]*\)\s*$/;M.setTextPointsScale=function(Ge,Xe,qe){Ge&&Ge.each(function(){var gt,ut=m.select(this),tt=ut.select("text");if(tt.node()){var Ct=parseFloat(tt.attr("x")||0),Gt=parseFloat(tt.attr("y")||0),Yt=(ut.attr("transform")||"").match(we);Xe===1&&qe===1?gt=[]:gt=[v(Ct,Gt),"scale("+Xe+","+qe+")",v(-Ct,-Gt)],Yt&&gt.push(Yt),ut.attr("transform",gt.join(""))}})};function se(Ge,Xe){var qe;return Ge&&(qe=Ge.mf),qe===void 0&&(qe=Xe.marker&&Xe.marker.standoff||0),!Xe._geo&&!Xe._xA?-qe:qe}M.getMarkerStandoff=se;var ue=Math.atan2,pe=Math.cos,le=Math.sin;function Te(Ge,Xe){var qe=Xe[0],gt=Xe[1];return[qe*pe(Ge)-gt*le(Ge),qe*le(Ge)+gt*pe(Ge)]}var de,Me,Re,ze,We,ot;function dt(Ge,Xe){var qe=Ge.ma;qe===void 0&&(qe=Xe.marker.angle||0);var gt,ut,tt=Xe.marker.angleref;if(tt==="previous"||tt==="north"){if(Xe._geo){var Ct=Xe._geo.project(Ge.lonlat);gt=Ct[0],ut=Ct[1]}else{var Gt=Xe._xA,Yt=Xe._yA;if(Gt&&Yt)gt=Gt.c2p(Ge.x),ut=Yt.c2p(Ge.y);else return 90}if(Xe._geo){var Nt=Ge.lonlat[0],Ft=Ge.lonlat[1],pn=Xe._geo.project([Nt,Ft+1e-5]),_n=Xe._geo.project([Nt+1e-5,Ft]),sn=ue(_n[1]-ut,_n[0]-gt),Zn=ue(pn[1]-ut,pn[0]-gt),an;if(tt==="north")an=qe/180*Math.PI;else if(tt==="previous"){var Cn=Nt/180*Math.PI,jn=Ft/180*Math.PI,Wn=de/180*Math.PI,wn=Me/180*Math.PI,lt=Wn-Cn,ft=pe(wn)*le(lt),wt=le(wn)*pe(jn)-pe(wn)*le(jn)*pe(lt);an=-ue(ft,wt)-Math.PI,de=Nt,Me=Ft}var vt=Te(sn,[pe(an),0]),$t=Te(Zn,[le(an),0]);qe=ue(vt[1]+$t[1],vt[0]+$t[0])/Math.PI*180,tt==="previous"&&!(ot===Xe.uid&&Ge.i===We+1)&&(qe=null)}if(tt==="previous"&&!Xe._geo)if(ot===Xe.uid&&Ge.i===We+1&&c(gt)&&c(ut)){var Ze=gt-Re,it=ut-ze,ht=Xe.line&&Xe.line.shape||"",pt=ht.slice(ht.length-1);pt==="h"&&(it=0),pt==="v"&&(Ze=0),qe+=ue(it,Ze)/Math.PI*180+90}else qe=null}return Re=gt,ze=ut,We=Ge.i,ot=Xe.uid,qe}M.getMarkerAngle=dt},998:function(L,A,s){var m=s(5616),h=s(9898).round,l="M0,0Z",c=Math.sqrt(2),i=Math.sqrt(3),u=Math.PI,d=Math.cos,g=Math.sin;L.exports={circle:{n:0,f:function(O,D,N){if(v(D))return l;var M=h(O,2),k="M"+M+",0A"+M+","+M+" 0 1,1 0,-"+M+"A"+M+","+M+" 0 0,1 "+M+",0Z";return N?S(D,N,k):k}},square:{n:1,f:function(O,D,N){if(v(D))return l;var M=h(O,2);return S(D,N,"M"+M+","+M+"H-"+M+"V-"+M+"H"+M+"Z")}},diamond:{n:2,f:function(O,D,N){if(v(D))return l;var M=h(O*1.3,2);return S(D,N,"M"+M+",0L0,"+M+"L-"+M+",0L0,-"+M+"Z")}},cross:{n:3,f:function(O,D,N){if(v(D))return l;var M=h(O*.4,2),k=h(O*1.2,2);return S(D,N,"M"+k+","+M+"H"+M+"V"+k+"H-"+M+"V"+M+"H-"+k+"V-"+M+"H-"+M+"V-"+k+"H"+M+"V-"+M+"H"+k+"Z")}},x:{n:4,f:function(O,D,N){if(v(D))return l;var M=h(O*.8/c,2),k="l"+M+","+M,R="l"+M+",-"+M,F="l-"+M+",-"+M,H="l-"+M+","+M;return S(D,N,"M0,"+M+k+R+F+R+F+H+F+H+k+H+k+"Z")}},"triangle-up":{n:5,f:function(O,D,N){if(v(D))return l;var M=h(O*2/i,2),k=h(O/2,2),R=h(O,2);return S(D,N,"M-"+M+","+k+"H"+M+"L0,-"+R+"Z")}},"triangle-down":{n:6,f:function(O,D,N){if(v(D))return l;var M=h(O*2/i,2),k=h(O/2,2),R=h(O,2);return S(D,N,"M-"+M+",-"+k+"H"+M+"L0,"+R+"Z")}},"triangle-left":{n:7,f:function(O,D,N){if(v(D))return l;var M=h(O*2/i,2),k=h(O/2,2),R=h(O,2);return S(D,N,"M"+k+",-"+M+"V"+M+"L-"+R+",0Z")}},"triangle-right":{n:8,f:function(O,D,N){if(v(D))return l;var M=h(O*2/i,2),k=h(O/2,2),R=h(O,2);return S(D,N,"M-"+k+",-"+M+"V"+M+"L"+R+",0Z")}},"triangle-ne":{n:9,f:function(O,D,N){if(v(D))return l;var M=h(O*.6,2),k=h(O*1.2,2);return S(D,N,"M-"+k+",-"+M+"H"+M+"V"+k+"Z")}},"triangle-se":{n:10,f:function(O,D,N){if(v(D))return l;var M=h(O*.6,2),k=h(O*1.2,2);return S(D,N,"M"+M+",-"+k+"V"+M+"H-"+k+"Z")}},"triangle-sw":{n:11,f:function(O,D,N){if(v(D))return l;var M=h(O*.6,2),k=h(O*1.2,2);return S(D,N,"M"+k+","+M+"H-"+M+"V-"+k+"Z")}},"triangle-nw":{n:12,f:function(O,D,N){if(v(D))return l;var M=h(O*.6,2),k=h(O*1.2,2);return S(D,N,"M-"+M+","+k+"V-"+M+"H"+k+"Z")}},pentagon:{n:13,f:function(O,D,N){if(v(D))return l;var M=h(O*.951,2),k=h(O*.588,2),R=h(-O,2),F=h(O*-.309,2),H=h(O*.809,2);return S(D,N,"M"+M+","+F+"L"+k+","+H+"H-"+k+"L-"+M+","+F+"L0,"+R+"Z")}},hexagon:{n:14,f:function(O,D,N){if(v(D))return l;var M=h(O,2),k=h(O/2,2),R=h(O*i/2,2);return S(D,N,"M"+R+",-"+k+"V"+k+"L0,"+M+"L-"+R+","+k+"V-"+k+"L0,-"+M+"Z")}},hexagon2:{n:15,f:function(O,D,N){if(v(D))return l;var M=h(O,2),k=h(O/2,2),R=h(O*i/2,2);return S(D,N,"M-"+k+","+R+"H"+k+"L"+M+",0L"+k+",-"+R+"H-"+k+"L-"+M+",0Z")}},octagon:{n:16,f:function(O,D,N){if(v(D))return l;var M=h(O*.924,2),k=h(O*.383,2);return S(D,N,"M-"+k+",-"+M+"H"+k+"L"+M+",-"+k+"V"+k+"L"+k+","+M+"H-"+k+"L-"+M+","+k+"V-"+k+"Z")}},star:{n:17,f:function(O,D,N){if(v(D))return l;var M=O*1.4,k=h(M*.225,2),R=h(M*.951,2),F=h(M*.363,2),H=h(M*.588,2),j=h(-M,2),P=h(M*-.309,2),ee=h(M*.118,2),J=h(M*.809,2),K=h(M*.382,2);return S(D,N,"M"+k+","+P+"H"+R+"L"+F+","+ee+"L"+H+","+J+"L0,"+K+"L-"+H+","+J+"L-"+F+","+ee+"L-"+R+","+P+"H-"+k+"L0,"+j+"Z")}},hexagram:{n:18,f:function(O,D,N){if(v(D))return l;var M=h(O*.66,2),k=h(O*.38,2),R=h(O*.76,2);return S(D,N,"M-"+R+",0l-"+k+",-"+M+"h"+R+"l"+k+",-"+M+"l"+k+","+M+"h"+R+"l-"+k+","+M+"l"+k+","+M+"h-"+R+"l-"+k+","+M+"l-"+k+",-"+M+"h-"+R+"Z")}},"star-triangle-up":{n:19,f:function(O,D,N){if(v(D))return l;var M=h(O*i*.8,2),k=h(O*.8,2),R=h(O*1.6,2),F=h(O*4,2),H="A "+F+","+F+" 0 0 1 ";return S(D,N,"M-"+M+","+k+H+M+","+k+H+"0,-"+R+H+"-"+M+","+k+"Z")}},"star-triangle-down":{n:20,f:function(O,D,N){if(v(D))return l;var M=h(O*i*.8,2),k=h(O*.8,2),R=h(O*1.6,2),F=h(O*4,2),H="A "+F+","+F+" 0 0 1 ";return S(D,N,"M"+M+",-"+k+H+"-"+M+",-"+k+H+"0,"+R+H+M+",-"+k+"Z")}},"star-square":{n:21,f:function(O,D,N){if(v(D))return l;var M=h(O*1.1,2),k=h(O*2,2),R="A "+k+","+k+" 0 0 1 ";return S(D,N,"M-"+M+",-"+M+R+"-"+M+","+M+R+M+","+M+R+M+",-"+M+R+"-"+M+",-"+M+"Z")}},"star-diamond":{n:22,f:function(O,D,N){if(v(D))return l;var M=h(O*1.4,2),k=h(O*1.9,2),R="A "+k+","+k+" 0 0 1 ";return S(D,N,"M-"+M+",0"+R+"0,"+M+R+M+",0"+R+"0,-"+M+R+"-"+M+",0Z")}},"diamond-tall":{n:23,f:function(O,D,N){if(v(D))return l;var M=h(O*.7,2),k=h(O*1.4,2);return S(D,N,"M0,"+k+"L"+M+",0L0,-"+k+"L-"+M+",0Z")}},"diamond-wide":{n:24,f:function(O,D,N){if(v(D))return l;var M=h(O*1.4,2),k=h(O*.7,2);return S(D,N,"M0,"+k+"L"+M+",0L0,-"+k+"L-"+M+",0Z")}},hourglass:{n:25,f:function(O,D,N){if(v(D))return l;var M=h(O,2);return S(D,N,"M"+M+","+M+"H-"+M+"L"+M+",-"+M+"H-"+M+"Z")},noDot:!0},bowtie:{n:26,f:function(O,D,N){if(v(D))return l;var M=h(O,2);return S(D,N,"M"+M+","+M+"V-"+M+"L-"+M+","+M+"V-"+M+"Z")},noDot:!0},"circle-cross":{n:27,f:function(O,D,N){if(v(D))return l;var M=h(O,2);return S(D,N,"M0,"+M+"V-"+M+"M"+M+",0H-"+M+"M"+M+",0A"+M+","+M+" 0 1,1 0,-"+M+"A"+M+","+M+" 0 0,1 "+M+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(O,D,N){if(v(D))return l;var M=h(O,2),k=h(O/c,2);return S(D,N,"M"+k+","+k+"L-"+k+",-"+k+"M"+k+",-"+k+"L-"+k+","+k+"M"+M+",0A"+M+","+M+" 0 1,1 0,-"+M+"A"+M+","+M+" 0 0,1 "+M+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(O,D,N){if(v(D))return l;var M=h(O,2);return S(D,N,"M0,"+M+"V-"+M+"M"+M+",0H-"+M+"M"+M+","+M+"H-"+M+"V-"+M+"H"+M+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(O,D,N){if(v(D))return l;var M=h(O,2);return S(D,N,"M"+M+","+M+"L-"+M+",-"+M+"M"+M+",-"+M+"L-"+M+","+M+"M"+M+","+M+"H-"+M+"V-"+M+"H"+M+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(O,D,N){if(v(D))return l;var M=h(O*1.3,2);return S(D,N,"M"+M+",0L0,"+M+"L-"+M+",0L0,-"+M+"ZM0,-"+M+"V"+M+"M-"+M+",0H"+M)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(O,D,N){if(v(D))return l;var M=h(O*1.3,2),k=h(O*.65,2);return S(D,N,"M"+M+",0L0,"+M+"L-"+M+",0L0,-"+M+"ZM-"+k+",-"+k+"L"+k+","+k+"M-"+k+","+k+"L"+k+",-"+k)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(O,D,N){if(v(D))return l;var M=h(O*1.4,2);return S(D,N,"M0,"+M+"V-"+M+"M"+M+",0H-"+M)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(O,D,N){if(v(D))return l;var M=h(O,2);return S(D,N,"M"+M+","+M+"L-"+M+",-"+M+"M"+M+",-"+M+"L-"+M+","+M)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(O,D,N){if(v(D))return l;var M=h(O*1.2,2),k=h(O*.85,2);return S(D,N,"M0,"+M+"V-"+M+"M"+M+",0H-"+M+"M"+k+","+k+"L-"+k+",-"+k+"M"+k+",-"+k+"L-"+k+","+k)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(O,D,N){if(v(D))return l;var M=h(O/2,2),k=h(O,2);return S(D,N,"M"+M+","+k+"V-"+k+"M"+(M-k)+",-"+k+"V"+k+"M"+k+","+M+"H-"+k+"M-"+k+","+(M-k)+"H"+k)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(O,D,N){if(v(D))return l;var M=h(O*1.2,2),k=h(O*1.6,2),R=h(O*.8,2);return S(D,N,"M-"+M+","+R+"L0,0M"+M+","+R+"L0,0M0,-"+k+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(O,D,N){if(v(D))return l;var M=h(O*1.2,2),k=h(O*1.6,2),R=h(O*.8,2);return S(D,N,"M-"+M+",-"+R+"L0,0M"+M+",-"+R+"L0,0M0,"+k+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(O,D,N){if(v(D))return l;var M=h(O*1.2,2),k=h(O*1.6,2),R=h(O*.8,2);return S(D,N,"M"+R+","+M+"L0,0M"+R+",-"+M+"L0,0M-"+k+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(O,D,N){if(v(D))return l;var M=h(O*1.2,2),k=h(O*1.6,2),R=h(O*.8,2);return S(D,N,"M-"+R+","+M+"L0,0M-"+R+",-"+M+"L0,0M"+k+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(O,D,N){if(v(D))return l;var M=h(O*1.4,2);return S(D,N,"M"+M+",0H-"+M)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(O,D,N){if(v(D))return l;var M=h(O*1.4,2);return S(D,N,"M0,"+M+"V-"+M)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(O,D,N){if(v(D))return l;var M=h(O,2);return S(D,N,"M"+M+",-"+M+"L-"+M+","+M)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(O,D,N){if(v(D))return l;var M=h(O,2);return S(D,N,"M"+M+","+M+"L-"+M+",-"+M)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(O,D,N){if(v(D))return l;var M=h(O,2),k=h(O*2,2);return S(D,N,"M0,0L-"+M+","+k+"H"+M+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(O,D,N){if(v(D))return l;var M=h(O,2),k=h(O*2,2);return S(D,N,"M0,0L-"+M+",-"+k+"H"+M+"Z")},noDot:!0},"arrow-left":{n:47,f:function(O,D,N){if(v(D))return l;var M=h(O*2,2),k=h(O,2);return S(D,N,"M0,0L"+M+",-"+k+"V"+k+"Z")},noDot:!0},"arrow-right":{n:48,f:function(O,D,N){if(v(D))return l;var M=h(O*2,2),k=h(O,2);return S(D,N,"M0,0L-"+M+",-"+k+"V"+k+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(O,D,N){if(v(D))return l;var M=h(O,2),k=h(O*2,2);return S(D,N,"M-"+M+",0H"+M+"M0,0L-"+M+","+k+"H"+M+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(O,D,N){if(v(D))return l;var M=h(O,2),k=h(O*2,2);return S(D,N,"M-"+M+",0H"+M+"M0,0L-"+M+",-"+k+"H"+M+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(O,D,N){if(v(D))return l;var M=h(O*2,2),k=h(O,2);return S(D,N,"M0,-"+k+"V"+k+"M0,0L"+M+",-"+k+"V"+k+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(O,D,N){if(v(D))return l;var M=h(O*2,2),k=h(O,2);return S(D,N,"M0,-"+k+"V"+k+"M0,0L-"+M+",-"+k+"V"+k+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(O,D,N){if(v(D))return l;var M=u/2.5,k=2*O*d(M),R=2*O*g(M);return S(D,N,"M0,0L"+-k+","+R+"L"+k+","+R+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(O,D,N){if(v(D))return l;var M=u/4,k=2*O*d(M),R=2*O*g(M);return S(D,N,"M0,0L"+-k+","+R+"A "+2*O+","+2*O+" 0 0 1 "+k+","+R+"Z")},backoff:.4,noDot:!0}};function v(O){return O===null}var x,C,_,$;function S(O,D,N){if((!O||O%360===0)&&!D)return N;if(_===O&&$===D&&x===N)return C;_=O,$=D,x=N;function M(ge,Se){var ce=d(ge),ne=g(ge),fe=Se[0],X=Se[1]+(D||0);return[fe*ce-X*ne,fe*ne+X*ce]}for(var k=O/180*u,R=0,F=0,H=m(N),j="",P=0;P<H.length;P++){var ee=H[P],J=ee[0],K=R,ae=F;if(J==="M"||J==="L")R=+ee[1],F=+ee[2];else if(J==="m"||J==="l")R+=+ee[1],F+=+ee[2];else if(J==="H")R=+ee[1];else if(J==="h")R+=+ee[1];else if(J==="V")F=+ee[1];else if(J==="v")F+=+ee[1];else if(J==="A"){R=+ee[1],F=+ee[2];var Q=M(k,[+ee[6],+ee[7]]);ee[6]=Q[0],ee[7]=Q[1],ee[3]=+ee[3]+O}(J==="H"||J==="V")&&(J="L"),(J==="h"||J==="v")&&(J="l"),(J==="m"||J==="l")&&(R-=K,F-=ae);var he=M(k,[R,F]);(J==="H"||J==="V")&&(J="L"),(J==="M"||J==="L"||J==="m"||J==="l")&&(ee[1]=he[0],ee[2]=he[1]),ee[0]=J,j+=ee[0]+ee.slice(1).join(",")}return C=j,j}},5673:function(L){L.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},4532:function(L,A,s){var m=s(2770),h=s(3972),l=s(9298),c=s(1828),i=s(5827);L.exports=function(g){for(var v=g.calcdata,x=0;x<v.length;x++){var C=v[x],_=C[0].trace;if(_.visible===!0&&h.traceIs(_,"errorBarsOK")){var $=l.getFromId(g,_.xaxis),S=l.getFromId(g,_.yaxis);u(C,_,$,"x"),u(C,_,S,"y")}}};function u(d,g,v,x){var C=g["error_"+x]||{},_=C.visible&&["linear","log"].indexOf(v.type)!==-1,$=[];if(_){for(var S=i(C),O=0;O<d.length;O++){var D=d[O],N=D.i;if(N===void 0)N=O;else if(N===null)continue;var M=D[x];if(m(v.c2l(M))){var k=S(M,N);if(m(k[0])&&m(k[1])){var R=D[x+"s"]=M-k[0],F=D[x+"h"]=M+k[1];$.push(R,F)}}}var H=v._id,j=g._extremes[H],P=l.findExtremes(v,$,c.extendFlat({tozero:j.opts.tozero},{padded:!0}));j.min=j.min.concat(P.min),j.max=j.max.concat(P.max)}}},5827:function(L){L.exports=function(m){var h=m.type,l=m.symmetric;if(h==="data"){var c=m.array||[];if(l)return function(v,x){var C=+c[x];return[C,C]};var i=m.arrayminus||[];return function(v,x){var C=+c[x],_=+i[x];return!isNaN(C)||!isNaN(_)?[_||0,C||0]:[NaN,NaN]}}else{var u=A(h,m.value),d=A(h,m.valueminus);return l||m.valueminus===void 0?function(v){var x=u(v);return[x,x]}:function(v){return[d(v),u(v)]}}};function A(s,m){if(s==="percent")return function(h){return Math.abs(h*m/100)};if(s==="constant")return function(){return Math.abs(m)};if(s==="sqrt")return function(h){return Math.sqrt(Math.abs(h))}}},7587:function(L,A,s){var m=s(2770),h=s(3972),l=s(1828),c=s(4467),i=s(5673);L.exports=function(u,d,g,v){var x="error_"+v.axis,C=c.newContainer(d,x),_=u[x]||{};function $(R,F){return l.coerce(_,C,i,R,F)}var S=_.array!==void 0||_.value!==void 0||_.type==="sqrt",O=$("visible",S);if(O!==!1){var D=$("type","array"in _?"data":"percent"),N=!0;D!=="sqrt"&&(N=$("symmetric",!((D==="data"?"arrayminus":"valueminus")in _))),D==="data"?($("array"),$("traceref"),N||($("arrayminus"),$("tracerefminus"))):(D==="percent"||D==="constant")&&($("value"),N||$("valueminus"));var M="copy_"+v.inherit+"style";if(v.inherit){var k=d["error_"+v.inherit];(k||{}).visible&&$(M,!(_.color||m(_.thickness)||m(_.width)))}(!v.inherit||!C[M])&&($("color",g),$("thickness"),$("width",h.traceIs(d,"gl3d")?0:4))}}},7369:function(L,A,s){var m=s(1828),h=s(962).overrideAll,l=s(5673),c={error_x:m.extendFlat({},l),error_y:m.extendFlat({},l)};delete c.error_x.copy_zstyle,delete c.error_y.copy_zstyle,delete c.error_y.copy_ystyle;var i={error_x:m.extendFlat({},l),error_y:m.extendFlat({},l),error_z:m.extendFlat({},l)};delete i.error_x.copy_ystyle,delete i.error_y.copy_ystyle,delete i.error_z.copy_ystyle,delete i.error_z.copy_zstyle,L.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:c,bar:c,histogram:c,scatter3d:h(i,"calc","nested"),scattergl:h(c,"calc","nested")}},supplyDefaults:s(7587),calc:s(4532),makeComputeError:s(5827),plot:s(9398),style:s(2662),hoverInfo:u};function u(d,g,v){(g.error_y||{}).visible&&(v.yerr=d.yh-d.y,g.error_y.symmetric||(v.yerrneg=d.y-d.ys)),(g.error_x||{}).visible&&(v.xerr=d.xh-d.x,g.error_x.symmetric||(v.xerrneg=d.x-d.xs))}},9398:function(L,A,s){var m=s(9898),h=s(2770),l=s(1424),c=s(4098);L.exports=function(d,g,v,x){var C,_=v.xaxis,$=v.yaxis,S=x&&x.duration>0,O=d._context.staticPlot;g.each(function(D){var N=D[0].trace,M=N.error_x||{},k=N.error_y||{},R;N.ids&&(R=function(P){return P.id});var F=c.hasMarkers(N)&&N.marker.maxdisplayed>0;!k.visible&&!M.visible&&(D=[]);var H=m.select(this).selectAll("g.errorbar").data(D,R);if(H.exit().remove(),!!D.length){M.visible||H.selectAll("path.xerror").remove(),k.visible||H.selectAll("path.yerror").remove(),H.style("opacity",1);var j=H.enter().append("g").classed("errorbar",!0);S&&j.style("opacity",0).transition().duration(x.duration).style("opacity",1),l.setClipUrl(H,v.layerClipId,d),H.each(function(P){var ee=m.select(this),J=i(P,_,$);if(!(F&&!P.vis)){var K,ae=ee.select("path.yerror");if(k.visible&&h(J.x)&&h(J.yh)&&h(J.ys)){var Q=k.width;K="M"+(J.x-Q)+","+J.yh+"h"+2*Q+"m-"+Q+",0V"+J.ys,J.noYS||(K+="m-"+Q+",0h"+2*Q),C=!ae.size(),C?ae=ee.append("path").style("vector-effect",O?"none":"non-scaling-stroke").classed("yerror",!0):S&&(ae=ae.transition().duration(x.duration).ease(x.easing)),ae.attr("d",K)}else ae.remove();var he=ee.select("path.xerror");if(M.visible&&h(J.y)&&h(J.xh)&&h(J.xs)){var ge=(M.copy_ystyle?k:M).width;K="M"+J.xh+","+(J.y-ge)+"v"+2*ge+"m0,-"+ge+"H"+J.xs,J.noXS||(K+="m0,-"+ge+"v"+2*ge),C=!he.size(),C?he=ee.append("path").style("vector-effect",O?"none":"non-scaling-stroke").classed("xerror",!0):S&&(he=he.transition().duration(x.duration).ease(x.easing)),he.attr("d",K)}else he.remove()}})}})};function i(u,d,g){var v={x:d.c2p(u.x),y:g.c2p(u.y)};return u.yh!==void 0&&(v.yh=g.c2p(u.yh),v.ys=g.c2p(u.ys),h(v.ys)||(v.noYS=!0,v.ys=g.c2p(u.ys,!0))),u.xh!==void 0&&(v.xh=d.c2p(u.xh),v.xs=d.c2p(u.xs),h(v.xs)||(v.noXS=!0,v.xs=d.c2p(u.xs,!0))),v}},2662:function(L,A,s){var m=s(9898),h=s(7901);L.exports=function(c){c.each(function(i){var u=i[0].trace,d=u.error_y||{},g=u.error_x||{},v=m.select(this);v.selectAll("path.yerror").style("stroke-width",d.thickness+"px").call(h.stroke,d.color),g.copy_ystyle&&(g=d),v.selectAll("path.xerror").style("stroke-width",g.thickness+"px").call(h.stroke,g.color)})}},7914:function(L,A,s){var m=s(1940),h=s(528).hoverlabel,l=s(1426).extendFlat;L.exports={hoverlabel:{bgcolor:l({},h.bgcolor,{arrayOk:!0}),bordercolor:l({},h.bordercolor,{arrayOk:!0}),font:m({arrayOk:!0,editType:"none"}),align:l({},h.align,{arrayOk:!0}),namelength:l({},h.namelength,{arrayOk:!0}),editType:"none"}}},732:function(L,A,s){var m=s(1828),h=s(3972);L.exports=function(i){var u=i.calcdata,d=i._fullLayout;function g($){return function(S){return m.coerceHoverinfo({hoverinfo:S},{_module:$._module},d)}}for(var v=0;v<u.length;v++){var x=u[v],C=x[0].trace;if(!h.traceIs(C,"pie-like")){var _=h.traceIs(C,"2dMap")?l:m.fillArray;_(C.hoverinfo,x,"hi",g(C)),C.hovertemplate&&_(C.hovertemplate,x,"ht"),C.hoverlabel&&(_(C.hoverlabel.bgcolor,x,"hbg"),_(C.hoverlabel.bordercolor,x,"hbc"),_(C.hoverlabel.font.size,x,"hts"),_(C.hoverlabel.font.color,x,"htc"),_(C.hoverlabel.font.family,x,"htf"),_(C.hoverlabel.namelength,x,"hnl"),_(C.hoverlabel.align,x,"hta"))}}};function l(c,i,u,d){d=d||m.identity,Array.isArray(c)&&(i[0][u]=d(c))}},5914:function(L,A,s){var m=s(3972),h=s(8335).hover;L.exports=function(c,i,u){var d=m.getComponentMethod("annotations","onClick")(c,c._hoverdata);u!==void 0&&h(c,i,u,!0);function g(){c.emit("plotly_click",{points:c._hoverdata,event:i})}c._hoverdata&&i&&i.target&&(d&&d.then?d.then(g):g(),i.stopImmediatePropagation&&i.stopImmediatePropagation())}},6675:function(L){L.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},4268:function(L,A,s){var m=s(1828),h=s(7914),l=s(8048);L.exports=function(i,u,d,g){function v(C,_){return m.coerce(i,u,h,C,_)}var x=m.extendFlat({},g.hoverlabel);u.hovertemplate&&(x.namelength=-1),l(i,u,v,x)}},3469:function(L,A,s){var m=s(1828);A.getSubplot=function(d){return d.subplot||d.xaxis+d.yaxis||d.geo},A.isTraceInSubplots=function(d,g){if(d.type==="splom"){for(var v=d.xaxes||[],x=d.yaxes||[],C=0;C<v.length;C++)for(var _=0;_<x.length;_++)if(g.indexOf(v[C]+x[_])!==-1)return!0;return!1}return g.indexOf(A.getSubplot(d))!==-1},A.flat=function(d,g){for(var v=new Array(d.length),x=0;x<d.length;x++)v[x]=g;return v},A.p2c=function(d,g){for(var v=new Array(d.length),x=0;x<d.length;x++)v[x]=d[x].p2c(g);return v},A.getDistanceFunction=function(d,g,v,x){return d==="closest"?x||A.quadrature(g,v):d.charAt(0)==="x"?g:v},A.getClosest=function(d,g,v){if(v.index!==!1)v.index>=0&&v.index<d.length?v.distance=0:v.index=!1;else for(var x=0;x<d.length;x++){var C=g(d[x]);C<=v.distance&&(v.index=x,v.distance=C)}return v},A.inbox=function(d,g,v){return d*g<0||d===0?v:1/0},A.quadrature=function(d,g){return function(v){var x=d(v),C=g(v);return Math.sqrt(x*x+C*C)}},A.makeEventData=function(d,g,v){var x="index"in d?d.index:d.pointNumber,C={data:g._input,fullData:g,curveNumber:g.index,pointNumber:x};if(g._indexToPoints){var _=g._indexToPoints[x];_.length===1?C.pointIndex=_[0]:C.pointIndices=_}else C.pointIndex=x;return g._module.eventData?C=g._module.eventData(C,d,g,v,x):("xVal"in d?C.x=d.xVal:"x"in d&&(C.x=d.x),"yVal"in d?C.y=d.yVal:"y"in d&&(C.y=d.y),d.xa&&(C.xaxis=d.xa),d.ya&&(C.yaxis=d.ya),d.zLabelVal!==void 0&&(C.z=d.zLabelVal)),A.appendArrayPointValue(C,g,x),C},A.appendArrayPointValue=function(d,g,v){var x=g._arrayAttrs;if(x)for(var C=0;C<x.length;C++){var _=x[C],$=l(_);if(d[$]===void 0){var S=m.nestedProperty(g,_).get(),O=c(S,v);O!==void 0&&(d[$]=O)}}},A.appendArrayMultiPointValues=function(d,g,v){var x=g._arrayAttrs;if(x)for(var C=0;C<x.length;C++){var _=x[C],$=l(_);if(d[$]===void 0){for(var S=m.nestedProperty(g,_).get(),O=new Array(v.length),D=0;D<v.length;D++)O[D]=c(S,v[D]);d[$]=O}}};var h={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function l(d){return h[d]||d}function c(d,g){if(Array.isArray(g)){if(Array.isArray(d)&&Array.isArray(d[g[0]]))return d[g[0]][g[1]]}else return d[g]}var i={x:!0,y:!0},u={"x unified":!0,"y unified":!0};A.isUnifiedHover=function(d){return typeof d!="string"?!1:!!u[d]},A.isXYhover=function(d){return typeof d!="string"?!1:!!i[d]}},8335:function(L,A,s){var m=s(9898),h=s(2770),l=s(4267),c=s(1828),i=c.strTranslate,u=c.strRotate,d=s(1086),g=s(3893),v=s(9918),x=s(1424),C=s(7901),_=s(8569),$=s(9298),S=s(3972),O=s(3469),D=s(6675),N=s(9017),M=s(3969),k=D.YANGLE,R=Math.PI*k/180,F=1/Math.sin(R),H=Math.cos(R),j=Math.sin(R),P=D.HOVERARROWSIZE,ee=D.HOVERTEXTPAD,J={box:!0,ohlc:!0,violin:!0,candlestick:!0},K={scatter:!0,scattergl:!0,splom:!0};A.hover=function(ue,pe,le,Te){ue=c.getGraphDiv(ue);var de=pe.target;c.throttle(ue._fullLayout._uid+D.HOVERID,D.HOVERMINTIME,function(){ae(ue,pe,le,Te,de)})},A.loneHover=function(ue,pe){var le=!0;Array.isArray(ue)||(le=!1,ue=[ue]);var Te=pe.gd,de=Fe(Te),Me=ie(Te),Re=ue.map(function(ut){var tt=ut._x0||ut.x0||ut.x||0,Ct=ut._x1||ut.x1||ut.x||0,Gt=ut._y0||ut.y0||ut.y||0,Yt=ut._y1||ut.y1||ut.y||0,Nt=ut.eventData;if(Nt){var Ft=Math.min(tt,Ct),pn=Math.max(tt,Ct),_n=Math.min(Gt,Yt),sn=Math.max(Gt,Yt),Zn=ut.trace;if(S.traceIs(Zn,"gl3d")){var an=Te._fullLayout[Zn.scene]._scene.container,Cn=an.offsetLeft,jn=an.offsetTop;Ft+=Cn,pn+=Cn,_n+=jn,sn+=jn}Nt.bbox={x0:Ft+Me,x1:pn+Me,y0:_n+de,y1:sn+de},pe.inOut_bbox&&pe.inOut_bbox.push(Nt.bbox)}else Nt=!1;return{color:ut.color||C.defaultLine,x0:ut.x0||ut.x||0,x1:ut.x1||ut.x||0,y0:ut.y0||ut.y||0,y1:ut.y1||ut.y||0,xLabel:ut.xLabel,yLabel:ut.yLabel,zLabel:ut.zLabel,text:ut.text,name:ut.name,idealAlign:ut.idealAlign,borderColor:ut.borderColor,fontFamily:ut.fontFamily,fontSize:ut.fontSize,fontColor:ut.fontColor,nameLength:ut.nameLength,textAlign:ut.textAlign,trace:ut.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:ut.hovertemplate||!1,hovertemplateLabels:ut.hovertemplateLabels||!1,eventData:Nt}}),ze=!1,We=ge(Re,{gd:Te,hovermode:"closest",rotateLabels:ze,bgColor:pe.bgColor||C.background,container:m.select(pe.container),outerContainer:pe.outerContainer||pe.container}),ot=We.hoverLabels,dt=5,Ge=0,Xe=0;ot.sort(function(ut,tt){return ut.y0-tt.y0}).each(function(ut,tt){var Ct=ut.y0-ut.by/2;Ct-dt<Ge?ut.offset=Ge-Ct+dt:ut.offset=0,Ge=Ct+ut.by+ut.offset,tt===pe.anchorIndex&&(Xe=ut.offset)}).each(function(ut){ut.offset-=Xe});var qe=Te._fullLayout._invScaleX,gt=Te._fullLayout._invScaleY;return X(ot,ze,qe,gt),le?ot:ot.node()};function ae(se,ue,pe,le,Te){pe||(pe="xy");var de=Array.isArray(pe)?pe:[pe],Me=se._fullLayout,Re=Me._plots||[],ze=Re[pe],We=Me._has("cartesian");if(ze){var ot=ze.overlays.map(function(ar){return ar.id});de=de.concat(ot)}for(var dt=de.length,Ge=new Array(dt),Xe=new Array(dt),qe=!1,gt=0;gt<dt;gt++){var ut=de[gt];if(Re[ut])qe=!0,Ge[gt]=Re[ut].xaxis,Xe[gt]=Re[ut].yaxis;else if(Me[ut]&&Me[ut]._subplot){var tt=Me[ut]._subplot;Ge[gt]=tt.xaxis,Xe[gt]=tt.yaxis}else{c.warn("Unrecognized subplot: "+ut);return}}var Ct=ue.hovermode||Me.hovermode;if(Ct&&!qe&&(Ct="closest"),["x","y","closest","x unified","y unified"].indexOf(Ct)===-1||!se.calcdata||se.querySelector(".zoombox")||se._dragging)return _.unhoverRaw(se,ue);var Gt=Me.hoverdistance;Gt===-1&&(Gt=1/0);var Yt=Me.spikedistance;Yt===-1&&(Yt=1/0);var Nt=[],Ft=[],pn,_n,sn,Zn,an,Cn,jn,Wn,wn,lt,ft,wt,vt,$t={hLinePoint:null,vLinePoint:null},Ze=!1;if(Array.isArray(ue))for(Ct="array",sn=0;sn<ue.length;sn++)an=se.calcdata[ue[sn].curveNumber||0],an&&(Cn=an[0].trace,an[0].trace.hoverinfo!=="skip"&&(Ft.push(an),Cn.orientation==="h"&&(Ze=!0)));else{for(Zn=0;Zn<se.calcdata.length;Zn++)an=se.calcdata[Zn],Cn=an[0].trace,Cn.hoverinfo!=="skip"&&O.isTraceInSubplots(Cn,de)&&(Ft.push(an),Cn.orientation==="h"&&(Ze=!0));var it=!Te,ht,pt;if(it)"xpx"in ue?ht=ue.xpx:ht=Ge[0]._length/2,"ypx"in ue?pt=ue.ypx:pt=Xe[0]._length/2;else{if(d.triggerHandler(se,"plotly_beforehover",ue)===!1)return;var Tt=Te.getBoundingClientRect();ht=ue.clientX-Tt.left,pt=ue.clientY-Tt.top,Me._calcInverseTransform(se);var Et=c.apply3DTransform(Me._invTransform)(ht,pt);if(ht=Et[0],pt=Et[1],ht<0||ht>Ge[0]._length||pt<0||pt>Xe[0]._length)return _.unhoverRaw(se,ue)}if(ue.pointerX=ht+Ge[0]._offset,ue.pointerY=pt+Xe[0]._offset,"xval"in ue?pn=O.flat(de,ue.xval):pn=O.p2c(Ge,ht),"yval"in ue?_n=O.flat(de,ue.yval):_n=O.p2c(Xe,pt),!h(pn[0])||!h(_n[0]))return c.warn("Fx.hover failed",ue,se),_.unhoverRaw(se,ue)}var fn=1/0;function tn(ar,cr){for(Zn=0;Zn<Ft.length;Zn++)if(an=Ft[Zn],!(!an||!an[0]||!an[0].trace)&&(Cn=an[0].trace,!(Cn.visible!==!0||Cn._length===0)&&["carpet","contourcarpet"].indexOf(Cn._module.name)===-1)){if(Cn.type==="splom"?(Wn=0,jn=de[Wn]):(jn=O.getSubplot(Cn),Wn=de.indexOf(jn)),wn=Ct,O.isUnifiedHover(wn)&&(wn=wn.charAt(0)),wt={cd:an,trace:Cn,xa:Ge[Wn],ya:Xe[Wn],maxHoverDistance:Gt,maxSpikeDistance:Yt,index:!1,distance:Math.min(fn,Gt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:C.defaultLine,name:Cn.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},Me[jn]&&(wt.subplot=Me[jn]._subplot),Me._splomScenes&&Me._splomScenes[Cn.uid]&&(wt.scene=Me._splomScenes[Cn.uid]),vt=Nt.length,wn==="array"){var Kr=ue[Zn];"pointNumber"in Kr?(wt.index=Kr.pointNumber,wn="closest"):(wn="","xval"in Kr&&(lt=Kr.xval,wn="x"),"yval"in Kr&&(ft=Kr.yval,wn=wn?"closest":"y"))}else ar!==void 0&&cr!==void 0?(lt=ar,ft=cr):(lt=pn[Wn],ft=_n[Wn]);if(Gt!==0)if(Cn._module&&Cn._module.hoverPoints){var qr=Cn._module.hoverPoints(wt,lt,ft,wn,{finiteRange:!0,hoverLayer:Me._hoverlayer});if(qr)for(var So,wa=0;wa<qr.length;wa++)So=qr[wa],h(So.x0)&&h(So.y0)&&Nt.push(ye(So,Ct))}else c.log("Unrecognized trace type in hover:",Cn);if(Ct==="closest"&&Nt.length>vt&&(Nt.splice(0,vt),fn=Nt[0].distance),We&&Yt!==0&&Nt.length===0){wt.distance=Yt,wt.index=!1;var bo=Cn._module.hoverPoints(wt,lt,ft,"closest",{hoverLayer:Me._hoverlayer});if(bo&&(bo=bo.filter(function(Os){return Os.spikeDistance<=Yt})),bo&&bo.length){var Zo,oa=bo.filter(function(Os){return Os.xa.showspikes&&Os.xa.spikesnap!=="hovered data"});if(oa.length){var Va=oa[0];h(Va.x0)&&h(Va.y0)&&(Zo=Dt(Va),(!$t.vLinePoint||$t.vLinePoint.spikeDistance>Zo.spikeDistance)&&($t.vLinePoint=Zo))}var Yo=bo.filter(function(Os){return Os.ya.showspikes&&Os.ya.spikesnap!=="hovered data"});if(Yo.length){var Fa=Yo[0];h(Fa.x0)&&h(Fa.y0)&&(Zo=Dt(Fa),(!$t.hLinePoint||$t.hLinePoint.spikeDistance>Zo.spikeDistance)&&($t.hLinePoint=Zo))}}}}}tn();function Zt(ar,cr,Kr){for(var qr=null,So=1/0,wa,bo=0;bo<ar.length;bo++)wa=ar[bo].spikeDistance,Kr&&bo===0&&(wa=-1/0),wa<=So&&wa<=cr&&(qr=ar[bo],So=wa);return qr}function Dt(ar){return ar?{xa:ar.xa,ya:ar.ya,x:ar.xSpike!==void 0?ar.xSpike:(ar.x0+ar.x1)/2,y:ar.ySpike!==void 0?ar.ySpike:(ar.y0+ar.y1)/2,distance:ar.distance,spikeDistance:ar.spikeDistance,curveNumber:ar.trace.index,color:ar.color,pointNumber:ar.index}:null}var un={fullLayout:Me,container:Me._hoverlayer,event:ue},Un=se._spikepoints,tr={vLinePoint:$t.vLinePoint,hLinePoint:$t.hLinePoint};se._spikepoints=tr;var Er=function(){Nt.sort(function(ar,cr){return ar.distance-cr.distance}),Nt=Ve(Nt,Ct)};Er();var zt=Ct.charAt(0),pr=(zt==="x"||zt==="y")&&Nt[0]&&K[Nt[0].trace.type];if(We&&Yt!==0&&Nt.length!==0){var Gn=Nt.filter(function(ar){return ar.ya.showspikes}),Ir=Zt(Gn,Yt,pr);$t.hLinePoint=Dt(Ir);var Tr=Nt.filter(function(ar){return ar.xa.showspikes}),rr=Zt(Tr,Yt,pr);$t.vLinePoint=Dt(rr)}if(Nt.length===0){var Yr=_.unhoverRaw(se,ue);return We&&($t.hLinePoint!==null||$t.vLinePoint!==null)&&ke(Un)&&Ce(se,$t,un),Yr}if(We&&ke(Un)&&Ce(se,$t,un),O.isXYhover(wn)&&Nt[0].length!==0&&Nt[0].trace.type!=="splom"){var _r=Nt[0];J[_r.trace.type]?Nt=Nt.filter(function(ar){return ar.trace.index===_r.trace.index}):Nt=[_r];var Ln=Nt.length,xr=Oe("x",_r,Me),or=Oe("y",_r,Me);tn(xr,or);var wr=[],ro={},vo=0,Cr=function(ar){var cr=J[ar.trace.type]?Q(ar):ar.trace.index;if(!ro[cr])vo++,ro[cr]=vo,wr.push(ar);else{var Kr=ro[cr]-1,qr=wr[Kr];Kr>0&&Math.abs(ar.distance)<Math.abs(qr.distance)&&(wr[Kr]=ar)}},He;for(He=0;He<Ln;He++)Cr(Nt[He]);for(He=Nt.length-1;He>Ln-1;He--)Cr(Nt[He]);Nt=wr,Er()}var De=se._hoverdata,St=[],kt=Fe(se),Pt=ie(se);for(sn=0;sn<Nt.length;sn++){var Bt=Nt[sn],Ut=O.makeEventData(Bt,Bt.trace,Bt.cd);if(Bt.hovertemplate!==!1){var Ot=!1;Bt.cd[Bt.index]&&Bt.cd[Bt.index].ht&&(Ot=Bt.cd[Bt.index].ht),Bt.hovertemplate=Ot||Bt.trace.hovertemplate||!1}if(Bt.xa&&Bt.ya){var _t=Bt.x0+Bt.xa._offset,qt=Bt.x1+Bt.xa._offset,cn=Bt.y0+Bt.ya._offset,Qt=Bt.y1+Bt.ya._offset,nn=Math.min(_t,qt),Sn=Math.max(_t,qt),bn=Math.min(cn,Qt),gn=Math.max(cn,Qt);Ut.bbox={x0:nn+Pt,x1:Sn+Pt,y0:bn+kt,y1:gn+kt}}Bt.eventData=[Ut],St.push(Ut)}se._hoverdata=St;var Qn=Ct==="y"&&(Ft.length>1||Nt.length>1)||Ct==="closest"&&Ze&&Nt.length>1,Bn=C.combine(Me.plot_bgcolor||C.background,Me.paper_bgcolor),Hr=ge(Nt,{gd:se,hovermode:Ct,rotateLabels:Qn,bgColor:Bn,container:Me._hoverlayer,outerContainer:Me._paper.node(),commonLabelOpts:Me.hoverlabel,hoverdistance:Me.hoverdistance}),fr=Hr.hoverLabels;if(O.isUnifiedHover(Ct)||(ce(fr,Qn,Me,Hr.commonLabelBoundingBox),X(fr,Qn,Me._invScaleX,Me._invScaleY)),Te&&Te.tagName){var Vr=S.getComponentMethod("annotations","hasClickToShow")(se,St);v(m.select(Te),Vr?"pointer":"")}!Te||le||!$e(se,ue,De)||(De&&se.emit("plotly_unhover",{event:ue,points:De}),se.emit("plotly_hover",{event:ue,points:se._hoverdata,xaxes:Ge,yaxes:Xe,xvals:pn,yvals:_n}))}function Q(se){return[se.trace.index,se.index,se.x0,se.y0,se.name,se.attr,se.xa?se.xa._id:"",se.ya?se.ya._id:""].join(",")}var he=/<extra>([\s\S]*)<\/extra>/;function ge(se,ue){var pe=ue.gd,le=pe._fullLayout,Te=ue.hovermode,de=ue.rotateLabels,Me=ue.bgColor,Re=ue.container,ze=ue.outerContainer,We=ue.commonLabelOpts||{};if(se.length===0)return[[]];var ot=ue.fontFamily||D.HOVERFONT,dt=ue.fontSize||D.HOVERFONTSIZE,Ge=se[0],Xe=Ge.xa,qe=Ge.ya,gt=Te.charAt(0),ut=gt+"Label",tt=Ge[ut];if(tt===void 0&&Xe.type==="multicategory")for(var Ct=0;Ct<se.length&&(tt=se[Ct][ut],tt===void 0);Ct++);var Gt=we(pe,ze),Yt=Gt.top,Nt=Gt.width,Ft=Gt.height,pn=tt!==void 0&&Ge.distance<=ue.hoverdistance&&(Te==="x"||Te==="y");if(pn){var _n=!0,sn,Zn;for(sn=0;sn<se.length;sn++)if(_n&&se[sn].zLabel===void 0&&(_n=!1),Zn=se[sn].hoverinfo||se[sn].trace.hoverinfo,Zn){var an=Array.isArray(Zn)?Zn:Zn.split("+");if(an.indexOf("all")===-1&&an.indexOf(Te)===-1){pn=!1;break}}_n&&(pn=!1)}var Cn=Re.selectAll("g.axistext").data(pn?[0]:[]);Cn.enter().append("g").classed("axistext",!0),Cn.exit().remove();var jn={minX:0,maxX:0,minY:0,maxY:0};if(Cn.each(function(){var Ln=m.select(this),xr=c.ensureSingle(Ln,"path","",function(bn){bn.style({"stroke-width":"1px"})}),or=c.ensureSingle(Ln,"text","",function(bn){bn.attr("data-notex",1)}),wr=We.bgcolor||C.defaultLine,ro=We.bordercolor||C.contrast(wr),vo=C.contrast(wr),Cr={family:We.font.family||ot,size:We.font.size||dt,color:We.font.color||vo};xr.style({fill:wr,stroke:ro}),or.text(tt).call(x.font,Cr).call(g.positionText,0,0).call(g.convertToTspans,pe),Ln.attr("transform","");var He=we(pe,or.node()),De,St;if(Te==="x"){var kt=Xe.side==="top"?"-":"";or.attr("text-anchor","middle").call(g.positionText,0,Xe.side==="top"?Yt-He.bottom-P-ee:Yt-He.top+P+ee),De=Xe._offset+(Ge.x0+Ge.x1)/2,St=qe._offset+(Xe.side==="top"?0:qe._length);var Pt=He.width/2+ee;De<Pt?(De=Pt,xr.attr("d","M-"+(Pt-P)+",0L-"+(Pt-P*2)+","+kt+P+"H"+Pt+"v"+kt+(ee*2+He.height)+"H-"+Pt+"V"+kt+P+"Z")):De>le.width-Pt?(De=le.width-Pt,xr.attr("d","M"+(Pt-P)+",0L"+Pt+","+kt+P+"v"+kt+(ee*2+He.height)+"H-"+Pt+"V"+kt+P+"H"+(Pt-P*2)+"Z")):xr.attr("d","M0,0L"+P+","+kt+P+"H"+Pt+"v"+kt+(ee*2+He.height)+"H-"+Pt+"V"+kt+P+"H-"+P+"Z"),jn.minX=De-Pt,jn.maxX=De+Pt,Xe.side==="top"?(jn.minY=St-(ee*2+He.height),jn.maxY=St-ee):(jn.minY=St+ee,jn.maxY=St+(ee*2+He.height))}else{var Bt,Ut,Ot;qe.side==="right"?(Bt="start",Ut=1,Ot="",De=Xe._offset+Xe._length):(Bt="end",Ut=-1,Ot="-",De=Xe._offset),St=qe._offset+(Ge.y0+Ge.y1)/2,or.attr("text-anchor",Bt),xr.attr("d","M0,0L"+Ot+P+","+P+"V"+(ee+He.height/2)+"h"+Ot+(ee*2+He.width)+"V-"+(ee+He.height/2)+"H"+Ot+P+"V-"+P+"Z"),jn.minY=St-(ee+He.height/2),jn.maxY=St+(ee+He.height/2),qe.side==="right"?(jn.minX=De+P,jn.maxX=De+P+(ee*2+He.width)):(jn.minX=De-P-(ee*2+He.width),jn.maxX=De-P);var _t=He.height/2,qt=Yt-He.top-_t,cn="clip"+le._uid+"commonlabel"+qe._id,Qt;if(De<He.width+2*ee+P){Qt="M-"+(P+ee)+"-"+_t+"h-"+(He.width-ee)+"V"+_t+"h"+(He.width-ee)+"Z";var nn=He.width-De+ee;g.positionText(or,nn,qt),Bt==="end"&&or.selectAll("tspan").each(function(){var bn=m.select(this),gn=x.tester.append("text").text(bn.text()).call(x.font,Cr),Qn=we(pe,gn.node());Math.round(Qn.width)<Math.round(He.width)&&bn.attr("x",nn-Qn.width),gn.remove()})}else g.positionText(or,Ut*(ee+P),qt),Qt=null;var Sn=le._topclips.selectAll("#"+cn).data(Qt?[0]:[]);Sn.enter().append("clipPath").attr("id",cn).append("path"),Sn.exit().remove(),Sn.select("path").attr("d",Qt),x.setClipUrl(or,Qt?cn:null,pe)}Ln.attr("transform",i(De,St))}),O.isUnifiedHover(Te)){Re.selectAll("g.hovertext").remove();var Wn=se.filter(function(Ln){return Ln.hoverinfo!=="none"});if(Wn.length===0)return[];var wn=le.hoverlabel,lt=wn.font,ft={showlegend:!0,legend:{title:{text:tt,font:lt},font:lt,bgcolor:wn.bgcolor,bordercolor:wn.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:le.legend?le.legend.traceorder:void 0,orientation:"v"}},wt={font:lt};N(ft,wt,pe._fullData);var vt=wt.legend;vt.entries=[];for(var $t=0;$t<Wn.length;$t++){var Ze=Wn[$t];if(Ze.hoverinfo!=="none"){var it=Se(Ze,!0,Te,le,tt),ht=it[0],pt=it[1];Ze.name=pt,pt!==""?Ze.text=pt+" : "+ht:Ze.text=ht;var Tt=Ze.cd[Ze.index];Tt&&(Tt.mc&&(Ze.mc=Tt.mc),Tt.mcc&&(Ze.mc=Tt.mcc),Tt.mlc&&(Ze.mlc=Tt.mlc),Tt.mlcc&&(Ze.mlc=Tt.mlcc),Tt.mlw&&(Ze.mlw=Tt.mlw),Tt.mrc&&(Ze.mrc=Tt.mrc),Tt.dir&&(Ze.dir=Tt.dir)),Ze._distinct=!0,vt.entries.push([Ze])}}vt.entries.sort(function(Ln,xr){return Ln[0].trace.index-xr[0].trace.index}),vt.layer=Re,vt._inHover=!0,vt._groupTitleFont=wn.grouptitlefont,M(pe,vt);var Et=Re.select("g.legend"),fn=we(pe,Et.node()),tn=fn.width+2*ee,Zt=fn.height+2*ee,Dt=Wn[0],un=(Dt.x0+Dt.x1)/2,Un=(Dt.y0+Dt.y1)/2,tr=!(S.traceIs(Dt.trace,"bar-like")||S.traceIs(Dt.trace,"box-violin")),Er,zt;gt==="y"?tr?(zt=Un-ee,Er=Un+ee):(zt=Math.min.apply(null,Wn.map(function(Ln){return Math.min(Ln.y0,Ln.y1)})),Er=Math.max.apply(null,Wn.map(function(Ln){return Math.max(Ln.y0,Ln.y1)}))):zt=Er=c.mean(Wn.map(function(Ln){return(Ln.y0+Ln.y1)/2}))-Zt/2;var pr,Gn;gt==="x"?tr?(pr=un+ee,Gn=un-ee):(pr=Math.max.apply(null,Wn.map(function(Ln){return Math.max(Ln.x0,Ln.x1)})),Gn=Math.min.apply(null,Wn.map(function(Ln){return Math.min(Ln.x0,Ln.x1)}))):pr=Gn=c.mean(Wn.map(function(Ln){return(Ln.x0+Ln.x1)/2}))-tn/2;var Ir=Xe._offset,Tr=qe._offset;Er+=Tr,pr+=Ir,Gn+=Ir-tn,zt+=Tr-Zt;var rr,Yr;return pr+tn<Nt&&pr>=0?rr=pr:Gn+tn<Nt&&Gn>=0?rr=Gn:Ir+tn<Nt?rr=Ir:pr-un<un-Gn+tn?rr=Nt-tn:rr=0,rr+=ee,Er+Zt<Ft&&Er>=0?Yr=Er:zt+Zt<Ft&&zt>=0?Yr=zt:Tr+Zt<Ft?Yr=Tr:Er-Un<Un-zt+Zt?Yr=Ft-Zt:Yr=0,Yr+=ee,Et.attr("transform",i(rr-1,Yr-1)),Et}var _r=Re.selectAll("g.hovertext").data(se,function(Ln){return Q(Ln)});return _r.enter().append("g").classed("hovertext",!0).each(function(){var Ln=m.select(this);Ln.append("rect").call(C.fill,C.addOpacity(Me,.8)),Ln.append("text").classed("name",!0),Ln.append("path").style("stroke-width","1px"),Ln.append("text").classed("nums",!0).call(x.font,ot,dt)}),_r.exit().remove(),_r.each(function(Ln){var xr=m.select(this).attr("transform",""),or=Ln.color;Array.isArray(or)&&(or=or[Ln.eventData[0].pointNumber]);var wr=Ln.bgcolor||or,ro=C.combine(C.opacity(wr)?wr:C.defaultLine,Me),vo=C.combine(C.opacity(or)?or:C.defaultLine,Me),Cr=Ln.borderColor||C.contrast(ro),He=Se(Ln,pn,Te,le,tt,xr),De=He[0],St=He[1],kt=xr.select("text.nums").call(x.font,Ln.fontFamily||ot,Ln.fontSize||dt,Ln.fontColor||Cr).text(De).attr("data-notex",1).call(g.positionText,0,0).call(g.convertToTspans,pe),Pt=xr.select("text.name"),Bt=0,Ut=0;if(St&&St!==De){Pt.call(x.font,Ln.fontFamily||ot,Ln.fontSize||dt,vo).text(St).attr("data-notex",1).call(g.positionText,0,0).call(g.convertToTspans,pe);var Ot=we(pe,Pt.node());Bt=Ot.width+2*ee,Ut=Ot.height+2*ee}else Pt.remove(),xr.select("rect").remove();xr.select("path").style({fill:ro,stroke:Cr});var _t=Ln.xa._offset+(Ln.x0+Ln.x1)/2,qt=Ln.ya._offset+(Ln.y0+Ln.y1)/2,cn=Math.abs(Ln.x1-Ln.x0),Qt=Math.abs(Ln.y1-Ln.y0),nn=we(pe,kt.node()),Sn=nn.width/le._invScaleX,bn=nn.height/le._invScaleY;Ln.ty0=(Yt-nn.top)/le._invScaleY,Ln.bx=Sn+2*ee,Ln.by=Math.max(bn+2*ee,Ut),Ln.anchor="start",Ln.txwidth=Sn,Ln.tx2width=Bt,Ln.offset=0;var gn=(Sn+P+ee+Bt)*le._invScaleX,Qn,Bn;if(de)Ln.pos=_t,Qn=qt+Qt/2+gn<=Ft,Bn=qt-Qt/2-gn>=0,(Ln.idealAlign==="top"||!Qn)&&Bn?(qt-=Qt/2,Ln.anchor="end"):Qn?(qt+=Qt/2,Ln.anchor="start"):Ln.anchor="middle",Ln.crossPos=qt;else{if(Ln.pos=qt,Qn=_t+cn/2+gn<=Nt,Bn=_t-cn/2-gn>=0,(Ln.idealAlign==="left"||!Qn)&&Bn)_t-=cn/2,Ln.anchor="end";else if(Qn)_t+=cn/2,Ln.anchor="start";else{Ln.anchor="middle";var Hr=gn/2,fr=_t+Hr-Nt,Vr=_t-Hr;fr>0&&(_t-=fr),Vr<0&&(_t+=-Vr)}Ln.crossPos=_t}kt.attr("text-anchor",Ln.anchor),Bt&&Pt.attr("text-anchor",Ln.anchor),xr.attr("transform",i(_t,qt)+(de?u(k):""))}),{hoverLabels:_r,commonLabelBoundingBox:jn}}function Se(se,ue,pe,le,Te,de){var Me="",Re="";se.nameOverride!==void 0&&(se.name=se.nameOverride),se.name&&(se.trace._meta&&(se.name=c.templateString(se.name,se.trace._meta)),Me=Ne(se.name,se.nameLength));var ze=pe.charAt(0),We=ze==="x"?"y":"x";se.zLabel!==void 0?(se.xLabel!==void 0&&(Re+="x: "+se.xLabel+"<br>"),se.yLabel!==void 0&&(Re+="y: "+se.yLabel+"<br>"),se.trace.type!=="choropleth"&&se.trace.type!=="choroplethmapbox"&&(Re+=(Re?"z: ":"")+se.zLabel)):ue&&se[ze+"Label"]===Te?Re=se[We+"Label"]||"":se.xLabel===void 0?se.yLabel!==void 0&&se.trace.type!=="scattercarpet"&&(Re=se.yLabel):se.yLabel===void 0?Re=se.xLabel:Re="("+se.xLabel+", "+se.yLabel+")",(se.text||se.text===0)&&!Array.isArray(se.text)&&(Re+=(Re?"<br>":"")+se.text),se.extraText!==void 0&&(Re+=(Re?"<br>":"")+se.extraText),de&&Re===""&&!se.hovertemplate&&(Me===""&&de.remove(),Re=Me);var ot=se.hovertemplate||!1;if(ot){var dt=se.hovertemplateLabels||se;se[ze+"Label"]!==Te&&(dt[ze+"other"]=dt[ze+"Val"],dt[ze+"otherLabel"]=dt[ze+"Label"]),Re=c.hovertemplateString(ot,dt,le._d3locale,se.eventData[0]||{},se.trace._meta),Re=Re.replace(he,function(Ge,Xe){return Me=Ne(Xe,se.nameLength),""})}return[Re,Me]}function ce(se,ue,pe,le){var Te=ue?"xa":"ya",de=ue?"ya":"xa",Me=0,Re=1,ze=se.size(),We=new Array(ze),ot=0,dt=le.minX,Ge=le.maxX,Xe=le.minY,qe=le.maxY,gt=function(lt){return lt*pe._invScaleX},ut=function(lt){return lt*pe._invScaleY};se.each(function(lt){var ft=lt[Te],wt=lt[de],vt=ft._id.charAt(0)==="x",$t=ft.range;ot===0&&$t&&$t[0]>$t[1]!==vt&&(Re=-1);var Ze=0,it=vt?pe.width:pe.height;if(pe.hovermode==="x"||pe.hovermode==="y"){var ht=ne(lt,ue),pt=lt.anchor,Tt=pt==="end"?-1:1,Et,fn;if(pt==="middle")Et=lt.crossPos+(vt?ut(ht.y-lt.by/2):gt(lt.bx/2+lt.tx2width/2)),fn=Et+(vt?ut(lt.by):gt(lt.bx));else if(vt)Et=lt.crossPos+ut(P+ht.y)-ut(lt.by/2-P),fn=Et+ut(lt.by);else{var tn=gt(Tt*P+ht.x),Zt=tn+gt(Tt*lt.bx);Et=lt.crossPos+Math.min(tn,Zt),fn=lt.crossPos+Math.max(tn,Zt)}vt?Xe!==void 0&&qe!==void 0&&Math.min(fn,qe)-Math.max(Et,Xe)>1&&(wt.side==="left"?(Ze=wt._mainLinePosition,it=pe.width):it=wt._mainLinePosition):dt!==void 0&&Ge!==void 0&&Math.min(fn,Ge)-Math.max(Et,dt)>1&&(wt.side==="top"?(Ze=wt._mainLinePosition,it=pe.height):it=wt._mainLinePosition)}We[ot++]=[{datum:lt,traceIndex:lt.trace.index,dp:0,pos:lt.pos,posref:lt.posref,size:lt.by*(vt?F:1)/2,pmin:Ze,pmax:it}]}),We.sort(function(lt,ft){return lt[0].posref-ft[0].posref||Re*(ft[0].traceIndex-lt[0].traceIndex)});var tt,Ct,Gt,Yt,Nt,Ft,pn;function _n(lt){var ft=lt[0],wt=lt[lt.length-1];if(Ct=ft.pmin-ft.pos-ft.dp+ft.size,Gt=wt.pos+wt.dp+wt.size-ft.pmax,Ct>.01){for(Nt=lt.length-1;Nt>=0;Nt--)lt[Nt].dp+=Ct;tt=!1}if(!(Gt<.01)){if(Ct<-.01){for(Nt=lt.length-1;Nt>=0;Nt--)lt[Nt].dp-=Gt;tt=!1}if(tt){var vt=0;for(Yt=0;Yt<lt.length;Yt++)Ft=lt[Yt],Ft.pos+Ft.dp+Ft.size>ft.pmax&&vt++;for(Yt=lt.length-1;Yt>=0&&!(vt<=0);Yt--)Ft=lt[Yt],Ft.pos>ft.pmax-1&&(Ft.del=!0,vt--);for(Yt=0;Yt<lt.length&&!(vt<=0);Yt++)if(Ft=lt[Yt],Ft.pos<ft.pmin+1)for(Ft.del=!0,vt--,Gt=Ft.size*2,Nt=lt.length-1;Nt>=0;Nt--)lt[Nt].dp-=Gt;for(Yt=lt.length-1;Yt>=0&&!(vt<=0);Yt--)Ft=lt[Yt],Ft.pos+Ft.dp+Ft.size>ft.pmax&&(Ft.del=!0,vt--)}}}for(;!tt&&Me<=ze;){for(Me++,tt=!0,Yt=0;Yt<We.length-1;){var sn=We[Yt],Zn=We[Yt+1],an=sn[sn.length-1],Cn=Zn[0];if(Ct=an.pos+an.dp+an.size-Cn.pos-Cn.dp+Cn.size,Ct>.01&&an.pmin===Cn.pmin&&an.pmax===Cn.pmax){for(Nt=Zn.length-1;Nt>=0;Nt--)Zn[Nt].dp+=Ct;for(sn.push.apply(sn,Zn),We.splice(Yt+1,1),pn=0,Nt=sn.length-1;Nt>=0;Nt--)pn+=sn[Nt].dp;for(Gt=pn/sn.length,Nt=sn.length-1;Nt>=0;Nt--)sn[Nt].dp-=Gt;tt=!1}else Yt++}We.forEach(_n)}for(Yt=We.length-1;Yt>=0;Yt--){var jn=We[Yt];for(Nt=jn.length-1;Nt>=0;Nt--){var Wn=jn[Nt],wn=Wn.datum;wn.offset=Wn.dp,wn.del=Wn.del}}}function ne(se,ue){var pe=0,le=se.offset;return ue&&(le*=-j,pe=se.offset*H),{x:pe,y:le}}function fe(se){var ue={start:1,end:-1,middle:0}[se.anchor],pe=ue*(P+ee),le=pe+ue*(se.txwidth+ee),Te=se.anchor==="middle";return Te&&(pe-=se.tx2width/2,le+=se.txwidth/2+ee),{alignShift:ue,textShiftX:pe,text2ShiftX:le}}function X(se,ue,pe,le){var Te=function(Me){return Me*pe},de=function(Me){return Me*le};se.each(function(Me){var Re=m.select(this);if(Me.del)return Re.remove();var ze=Re.select("text.nums"),We=Me.anchor,ot=We==="end"?-1:1,dt=fe(Me),Ge=ne(Me,ue),Xe=Ge.x,qe=Ge.y,gt=We==="middle";Re.select("path").attr("d",gt?"M-"+Te(Me.bx/2+Me.tx2width/2)+","+de(qe-Me.by/2)+"h"+Te(Me.bx)+"v"+de(Me.by)+"h-"+Te(Me.bx)+"Z":"M0,0L"+Te(ot*P+Xe)+","+de(P+qe)+"v"+de(Me.by/2-P)+"h"+Te(ot*Me.bx)+"v-"+de(Me.by)+"H"+Te(ot*P+Xe)+"V"+de(qe-P)+"Z");var ut=Xe+dt.textShiftX,tt=qe+Me.ty0-Me.by/2+ee,Ct=Me.textAlign||"auto";Ct!=="auto"&&(Ct==="left"&&We!=="start"?(ze.attr("text-anchor","start"),ut=gt?-Me.bx/2-Me.tx2width/2+ee:-Me.bx-ee):Ct==="right"&&We!=="end"&&(ze.attr("text-anchor","end"),ut=gt?Me.bx/2-Me.tx2width/2-ee:Me.bx+ee)),ze.call(g.positionText,Te(ut),de(tt)),Me.tx2width&&(Re.select("text.name").call(g.positionText,Te(dt.text2ShiftX+dt.alignShift*ee+Xe),de(qe+Me.ty0-Me.by/2+ee)),Re.select("rect").call(x.setRect,Te(dt.text2ShiftX+(dt.alignShift-1)*Me.tx2width/2+Xe),de(qe-Me.by/2-1),Te(Me.tx2width),de(Me.by+2)))})}function ye(se,ue){var pe=se.index,le=se.trace||{},Te=se.cd[0],de=se.cd[pe]||{};function Me(Ge){return Ge||h(Ge)&&Ge===0}var Re=Array.isArray(pe)?function(Ge,Xe){var qe=c.castOption(Te,pe,Ge);return Me(qe)?qe:c.extractOption({},le,"",Xe)}:function(Ge,Xe){return c.extractOption(de,le,Ge,Xe)};function ze(Ge,Xe,qe){var gt=Re(Xe,qe);Me(gt)&&(se[Ge]=gt)}if(ze("hoverinfo","hi","hoverinfo"),ze("bgcolor","hbg","hoverlabel.bgcolor"),ze("borderColor","hbc","hoverlabel.bordercolor"),ze("fontFamily","htf","hoverlabel.font.family"),ze("fontSize","hts","hoverlabel.font.size"),ze("fontColor","htc","hoverlabel.font.color"),ze("nameLength","hnl","hoverlabel.namelength"),ze("textAlign","hta","hoverlabel.align"),se.posref=ue==="y"||ue==="closest"&&le.orientation==="h"?se.xa._offset+(se.x0+se.x1)/2:se.ya._offset+(se.y0+se.y1)/2,se.x0=c.constrain(se.x0,0,se.xa._length),se.x1=c.constrain(se.x1,0,se.xa._length),se.y0=c.constrain(se.y0,0,se.ya._length),se.y1=c.constrain(se.y1,0,se.ya._length),se.xLabelVal!==void 0&&(se.xLabel="xLabel"in se?se.xLabel:$.hoverLabelText(se.xa,se.xLabelVal,le.xhoverformat),se.xVal=se.xa.c2d(se.xLabelVal)),se.yLabelVal!==void 0&&(se.yLabel="yLabel"in se?se.yLabel:$.hoverLabelText(se.ya,se.yLabelVal,le.yhoverformat),se.yVal=se.ya.c2d(se.yLabelVal)),se.zLabelVal!==void 0&&se.zLabel===void 0&&(se.zLabel=String(se.zLabelVal)),!isNaN(se.xerr)&&!(se.xa.type==="log"&&se.xerr<=0)){var We=$.tickText(se.xa,se.xa.c2l(se.xerr),"hover").text;se.xerrneg!==void 0?se.xLabel+=" +"+We+" / -"+$.tickText(se.xa,se.xa.c2l(se.xerrneg),"hover").text:se.xLabel+=" ± "+We,ue==="x"&&(se.distance+=1)}if(!isNaN(se.yerr)&&!(se.ya.type==="log"&&se.yerr<=0)){var ot=$.tickText(se.ya,se.ya.c2l(se.yerr),"hover").text;se.yerrneg!==void 0?se.yLabel+=" +"+ot+" / -"+$.tickText(se.ya,se.ya.c2l(se.yerrneg),"hover").text:se.yLabel+=" ± "+ot,ue==="y"&&(se.distance+=1)}var dt=se.hoverinfo||se.trace.hoverinfo;return dt&&dt!=="all"&&(dt=Array.isArray(dt)?dt:dt.split("+"),dt.indexOf("x")===-1&&(se.xLabel=void 0),dt.indexOf("y")===-1&&(se.yLabel=void 0),dt.indexOf("z")===-1&&(se.zLabel=void 0),dt.indexOf("text")===-1&&(se.text=void 0),dt.indexOf("name")===-1&&(se.name=void 0)),se}function Ce(se,ue,pe){var le=pe.container,Te=pe.fullLayout,de=Te._size,Me=pe.event,Re=!!ue.hLinePoint,ze=!!ue.vLinePoint,We,ot;if(le.selectAll(".spikeline").remove(),!!(ze||Re)){var dt=C.combine(Te.plot_bgcolor,Te.paper_bgcolor);if(Re){var Ge=ue.hLinePoint,Xe,qe;We=Ge&&Ge.xa,ot=Ge&&Ge.ya;var gt=ot.spikesnap;gt==="cursor"?(Xe=Me.pointerX,qe=Me.pointerY):(Xe=We._offset+Ge.x,qe=ot._offset+Ge.y);var ut=l.readability(Ge.color,dt)<1.5?C.contrast(dt):Ge.color,tt=ot.spikemode,Ct=ot.spikethickness,Gt=ot.spikecolor||ut,Yt=$.getPxPosition(se,ot),Nt,Ft;if(tt.indexOf("toaxis")!==-1||tt.indexOf("across")!==-1){if(tt.indexOf("toaxis")!==-1&&(Nt=Yt,Ft=Xe),tt.indexOf("across")!==-1){var pn=ot._counterDomainMin,_n=ot._counterDomainMax;ot.anchor==="free"&&(pn=Math.min(pn,ot.position),_n=Math.max(_n,ot.position)),Nt=de.l+pn*de.w,Ft=de.l+_n*de.w}le.insert("line",":first-child").attr({x1:Nt,x2:Ft,y1:qe,y2:qe,"stroke-width":Ct,stroke:Gt,"stroke-dasharray":x.dashStyle(ot.spikedash,Ct)}).classed("spikeline",!0).classed("crisp",!0),le.insert("line",":first-child").attr({x1:Nt,x2:Ft,y1:qe,y2:qe,"stroke-width":Ct+2,stroke:dt}).classed("spikeline",!0).classed("crisp",!0)}tt.indexOf("marker")!==-1&&le.insert("circle",":first-child").attr({cx:Yt+(ot.side!=="right"?Ct:-Ct),cy:qe,r:Ct,fill:Gt}).classed("spikeline",!0)}if(ze){var sn=ue.vLinePoint,Zn,an;We=sn&&sn.xa,ot=sn&&sn.ya;var Cn=We.spikesnap;Cn==="cursor"?(Zn=Me.pointerX,an=Me.pointerY):(Zn=We._offset+sn.x,an=ot._offset+sn.y);var jn=l.readability(sn.color,dt)<1.5?C.contrast(dt):sn.color,Wn=We.spikemode,wn=We.spikethickness,lt=We.spikecolor||jn,ft=$.getPxPosition(se,We),wt,vt;if(Wn.indexOf("toaxis")!==-1||Wn.indexOf("across")!==-1){if(Wn.indexOf("toaxis")!==-1&&(wt=ft,vt=an),Wn.indexOf("across")!==-1){var $t=We._counterDomainMin,Ze=We._counterDomainMax;We.anchor==="free"&&($t=Math.min($t,We.position),Ze=Math.max(Ze,We.position)),wt=de.t+(1-Ze)*de.h,vt=de.t+(1-$t)*de.h}le.insert("line",":first-child").attr({x1:Zn,x2:Zn,y1:wt,y2:vt,"stroke-width":wn,stroke:lt,"stroke-dasharray":x.dashStyle(We.spikedash,wn)}).classed("spikeline",!0).classed("crisp",!0),le.insert("line",":first-child").attr({x1:Zn,x2:Zn,y1:wt,y2:vt,"stroke-width":wn+2,stroke:dt}).classed("spikeline",!0).classed("crisp",!0)}Wn.indexOf("marker")!==-1&&le.insert("circle",":first-child").attr({cx:Zn,cy:ft-(We.side!=="top"?wn:-wn),r:wn,fill:lt}).classed("spikeline",!0)}}}function $e(se,ue,pe){if(!pe||pe.length!==se._hoverdata.length)return!0;for(var le=pe.length-1;le>=0;le--){var Te=pe[le],de=se._hoverdata[le];if(Te.curveNumber!==de.curveNumber||String(Te.pointNumber)!==String(de.pointNumber)||String(Te.pointNumbers)!==String(de.pointNumbers))return!0}return!1}function ke(se,ue){return!ue||ue.vLinePoint!==se._spikepoints.vLinePoint||ue.hLinePoint!==se._spikepoints.hLinePoint}function Ne(se,ue){return g.plainText(se||"",{len:ue,allowedTags:["br","sub","sup","b","i","em"]})}function Ve(se,ue){for(var pe=ue.charAt(0),le=[],Te=[],de=[],Me=0;Me<se.length;Me++){var Re=se[Me];S.traceIs(Re.trace,"bar-like")||S.traceIs(Re.trace,"box-violin")?de.push(Re):Re.trace[pe+"period"]?Te.push(Re):le.push(Re)}return le.concat(Te).concat(de)}function Oe(se,ue,pe){var le=ue[se+"a"],Te=ue[se+"Val"],de=ue.cd[0];if(le.type==="category"||le.type==="multicategory")Te=le._categoriesMap[Te];else if(le.type==="date"){var Me=ue.trace[se+"periodalignment"];if(Me){var Re=ue.cd[ue.index],ze=Re[se+"Start"];ze===void 0&&(ze=Re[se]);var We=Re[se+"End"];We===void 0&&(We=Re[se]);var ot=We-ze;Me==="end"?Te+=ot:Me==="middle"&&(Te+=ot/2)}Te=le.d2c(Te)}return de&&de.t&&de.t.posLetter===le._id&&(pe.boxmode==="group"||pe.violinmode==="group")&&(Te+=de.t.dPos),Te}function Fe(se){return se.offsetTop+se.clientTop}function ie(se){return se.offsetLeft+se.clientLeft}function we(se,ue){var pe=se._fullLayout,le=ue.getBoundingClientRect(),Te=le.left,de=le.top,Me=Te+le.width,Re=de+le.height,ze=c.apply3DTransform(pe._invTransform)(Te,de),We=c.apply3DTransform(pe._invTransform)(Me,Re),ot=ze[0],dt=ze[1],Ge=We[0],Xe=We[1];return{x:ot,y:dt,width:Ge-ot,height:Xe-dt,top:Math.min(dt,Xe),left:Math.min(ot,Ge),right:Math.max(ot,Ge),bottom:Math.max(dt,Xe)}}},8048:function(L,A,s){var m=s(1828),h=s(7901),l=s(3469).isUnifiedHover;L.exports=function(i,u,d,g){g=g||{};var v=u.legend;function x(C){g.font[C]||(g.font[C]=v?u.legend.font[C]:u.font[C])}u&&l(u.hovermode)&&(g.font||(g.font={}),x("size"),x("family"),x("color"),v?(g.bgcolor||(g.bgcolor=h.combine(u.legend.bgcolor,u.paper_bgcolor)),g.bordercolor||(g.bordercolor=u.legend.bordercolor)):g.bgcolor||(g.bgcolor=u.paper_bgcolor)),d("hoverlabel.bgcolor",g.bgcolor),d("hoverlabel.bordercolor",g.bordercolor),d("hoverlabel.namelength",g.namelength),m.coerceFont(d,"hoverlabel.font",g.font),d("hoverlabel.align",g.align)}},8212:function(L,A,s){var m=s(1828),h=s(528);L.exports=function(c,i){function u(d,g){return i[d]!==void 0?i[d]:m.coerce(c,i,h,d,g)}return u("clickmode"),u("hovermode")}},211:function(L,A,s){var m=s(9898),h=s(1828),l=s(8569),c=s(3469),i=s(528),u=s(8335);L.exports={moduleType:"component",name:"fx",constants:s(6675),schema:{layout:i},attributes:s(7914),layoutAttributes:i,supplyLayoutGlobalDefaults:s(2774),supplyDefaults:s(4268),supplyLayoutDefaults:s(4938),calc:s(732),getDistanceFunction:c.getDistanceFunction,getClosest:c.getClosest,inbox:c.inbox,quadrature:c.quadrature,appendArrayPointValue:c.appendArrayPointValue,castHoverOption:g,castHoverinfo:v,hover:u.hover,unhover:l.unhover,loneHover:u.loneHover,loneUnhover:d,click:s(5914)};function d(x){var C=h.isD3Selection(x)?x:m.select(x);C.selectAll("g.hovertext").remove(),C.selectAll(".spikeline").remove()}function g(x,C,_){return h.castOption(x,C,"hoverlabel."+_)}function v(x,C,_){function $(S){return h.coerceHoverinfo({hoverinfo:S},{_module:x._module},C)}return h.castOption(x,_,"hoverinfo",$)}},528:function(L,A,s){var m=s(6675),h=s(1940),l=h({editType:"none"});l.family.dflt=m.HOVERFONT,l.size.dflt=m.HOVERFONTSIZE,L.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:l,grouptitlefont:h({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},4938:function(L,A,s){var m=s(1828),h=s(528),l=s(8212),c=s(8048);L.exports=function(u,d){function g(S,O){return m.coerce(u,d,h,S,O)}var v=l(u,d);v&&(g("hoverdistance"),g("spikedistance"));var x=g("dragmode");x==="select"&&g("selectdirection");var C=d._has("mapbox"),_=d._has("geo"),$=d._basePlotModules.length;d.dragmode==="zoom"&&((C||_)&&$===1||C&&_&&$===2)&&(d.dragmode="pan"),c(u,d,g),m.coerceFont(g,"hoverlabel.grouptitlefont",d.hoverlabel.font)}},2774:function(L,A,s){var m=s(1828),h=s(8048),l=s(528);L.exports=function(i,u){function d(g,v){return m.coerce(i,u,l,g,v)}h(i,u,d)}},3312:function(L,A,s){var m=s(1828),h=s(587).counter,l=s(7670).Y,c=s(5555).idRegex,i=s(4467),u={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[h("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[c.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[c.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:l({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function d(_,$,S){var O=$[S+"axes"],D=Object.keys((_._splomAxes||{})[S]||{});if(Array.isArray(O))return O;if(D.length)return D}function g(_,$){var S=_.grid||{},O=d($,S,"x"),D=d($,S,"y");if(!_.grid&&!O&&!D)return;var N=Array.isArray(S.subplots)&&Array.isArray(S.subplots[0]),M=Array.isArray(O),k=Array.isArray(D),R=M&&O!==S.xaxes&&k&&D!==S.yaxes,F,H;N?(F=S.subplots.length,H=S.subplots[0].length):(k&&(F=D.length),M&&(H=O.length));var j=i.newContainer($,"grid");function P(ne,fe){return m.coerce(S,j,u,ne,fe)}var ee=P("rows",F),J=P("columns",H);if(!(ee*J>1)){delete $.grid;return}if(!N&&!M&&!k){var K=P("pattern")==="independent";K&&(N=!0)}j._hasSubplotGrid=N;var ae=P("roworder"),Q=ae==="top to bottom",he=N?.2:.1,ge=N?.3:.1,Se,ce;R&&$._splomGridDflt&&(Se=$._splomGridDflt.xside,ce=$._splomGridDflt.yside),j._domains={x:v("x",P,he,Se,J),y:v("y",P,ge,ce,ee,Q)}}function v(_,$,S,O,D,N){var M=$(_+"gap",S),k=$("domain."+_);$(_+"side",O);for(var R=new Array(D),F=k[0],H=(k[1]-F)/(D-M),j=H*(1-M),P=0;P<D;P++){var ee=F+H*P;R[N?D-1-P:P]=[ee,ee+j]}return R}function x(_,$){var S=$.grid;if(!(!S||!S._domains)){var O=_.grid||{},D=$._subplots,N=S._hasSubplotGrid,M=S.rows,k=S.columns,R=S.pattern==="independent",F,H,j,P,ee,J,K,ae=S._axisMap={};if(N){var Q=O.subplots||[];J=S.subplots=new Array(M);var he=1;for(F=0;F<M;F++){var ge=J[F]=new Array(k),Se=Q[F]||[];for(H=0;H<k;H++)if(R?(ee=he===1?"xy":"x"+he+"y"+he,he++):ee=Se[H],ge[H]="",D.cartesian.indexOf(ee)!==-1){if(K=ee.indexOf("y"),j=ee.slice(0,K),P=ee.slice(K),ae[j]!==void 0&&ae[j]!==H||ae[P]!==void 0&&ae[P]!==F)continue;ge[H]=ee,ae[j]=H,ae[P]=F}}}else{var ce=d($,O,"x"),ne=d($,O,"y");S.xaxes=C(ce,D.xaxis,k,ae,"x"),S.yaxes=C(ne,D.yaxis,M,ae,"y")}var fe=S._anchors={},X=S.roworder==="top to bottom";for(var ye in ae){var Ce=ye.charAt(0),$e=S[Ce+"side"],ke,Ne,Ve;if($e.length<8)fe[ye]="free";else if(Ce==="x"){if($e.charAt(0)==="t"===X?(ke=0,Ne=1,Ve=M):(ke=M-1,Ne=-1,Ve=-1),N){var Oe=ae[ye];for(F=ke;F!==Ve;F+=Ne)if(ee=J[F][Oe],!!ee&&(K=ee.indexOf("y"),ee.slice(0,K)===ye)){fe[ye]=ee.slice(K);break}}else for(F=ke;F!==Ve;F+=Ne)if(P=S.yaxes[F],D.cartesian.indexOf(ye+P)!==-1){fe[ye]=P;break}}else if($e.charAt(0)==="l"?(ke=0,Ne=1,Ve=k):(ke=k-1,Ne=-1,Ve=-1),N){var Fe=ae[ye];for(F=ke;F!==Ve;F+=Ne)if(ee=J[Fe][F],!!ee&&(K=ee.indexOf("y"),ee.slice(K)===ye)){fe[ye]=ee.slice(0,K);break}}else for(F=ke;F!==Ve;F+=Ne)if(j=S.xaxes[F],D.cartesian.indexOf(j+ye)!==-1){fe[ye]=j;break}}}}function C(_,$,S,O,D){var N=new Array(S),M;function k(R,F){$.indexOf(F)!==-1&&O[F]===void 0?(N[R]=F,O[F]=R):N[R]=""}if(Array.isArray(_))for(M=0;M<S;M++)k(M,_[M]);else for(k(0,D),M=1;M<S;M++)k(M,D+(M+1));return N}L.exports={moduleType:"component",name:"grid",schema:{layout:{grid:u}},layoutAttributes:u,sizeDefaults:g,contentDefaults:x}},9819:function(L,A,s){var m=s(5555),h=s(4467).templatedArray;s(4695),L.exports=h("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",m.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",m.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},5378:function(L,A,s){var m=s(2770),h=s(8163);L.exports=function(c,i,u,d){i=i||{};var g=u==="log"&&i.type==="linear",v=u==="linear"&&i.type==="log";if(g||v){for(var x=c._fullLayout.images,C=i._id.charAt(0),_,$,S=0;S<x.length;S++)if(_=x[S],$="images["+S+"].",_[C+"ref"]===i._id){var O=_[C],D=_["size"+C],N=null,M=null;if(g){N=h(O,i.range);var k=D/Math.pow(10,N)/2;M=2*Math.log(k+Math.sqrt(1+k*k))/Math.LN10}else N=Math.pow(10,O),M=N*(Math.pow(10,D/2)-Math.pow(10,-D/2));m(N)?m(M)||(M=null):(N=null,M=null),d($+C,N),d($+"size"+C,M)}}}},1603:function(L,A,s){var m=s(1828),h=s(9298),l=s(5501),c=s(9819),i="images";L.exports=function(g,v){var x={name:i,handleItemDefaults:u};l(g,v,x)};function u(d,g,v){function x(k,R){return m.coerce(d,g,c,k,R)}var C=x("source"),_=x("visible",!!C);if(!_)return g;x("layer"),x("xanchor"),x("yanchor"),x("sizex"),x("sizey"),x("sizing"),x("opacity");for(var $={_fullLayout:v},S=["x","y"],O=0;O<2;O++){var D=S[O],N=h.coerceRef(d,g,$,D,"paper",void 0);if(N!=="paper"){var M=h.getFromId($,N);M._imgIndices.push(g._index)}h.coercePosition(g,$,x,N,D,0)}return g}},750:function(L,A,s){var m=s(9898),h=s(1424),l=s(9298),c=s(1675),i=s(7922);L.exports=function(d){var g=d._fullLayout,v=[],x={},C=[],_,$;for($=0;$<g.images.length;$++){var S=g.images[$];if(S.visible)if(S.layer==="below"&&S.xref!=="paper"&&S.yref!=="paper"){_=c.ref2id(S.xref)+c.ref2id(S.yref);var O=g._plots[_];if(!O){C.push(S);continue}O.mainplot&&(_=O.mainplot.id),x[_]||(x[_]=[]),x[_].push(S)}else S.layer==="above"?v.push(S):C.push(S)}var D={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function N(P){var ee=m.select(this);if(this._imgSrc!==P.source)if(ee.attr("xmlns",i.svg),P.source&&P.source.slice(0,5)==="data:")ee.attr("xlink:href",P.source),this._imgSrc=P.source;else{var J=new Promise((function(K){var ae=new Image;this.img=ae,ae.setAttribute("crossOrigin","anonymous"),ae.onerror=Q,ae.onload=function(){var he=document.createElement("canvas");he.width=this.width,he.height=this.height;var ge=he.getContext("2d",{willReadFrequently:!0});ge.drawImage(this,0,0);var Se=he.toDataURL("image/png");ee.attr("xlink:href",Se),K()},ee.on("error",Q),ae.src=P.source,this._imgSrc=P.source;function Q(){ee.remove(),K()}}).bind(this));d._promises.push(J)}}function M(P){var ee=m.select(this),J=l.getFromId(d,P.xref),K=l.getFromId(d,P.yref),ae=l.getRefType(P.xref)==="domain",Q=l.getRefType(P.yref)==="domain",he=g._size,ge,Se;J!==void 0?ge=typeof P.xref=="string"&&ae?J._length*P.sizex:Math.abs(J.l2p(P.sizex)-J.l2p(0)):ge=P.sizex*he.w,K!==void 0?Se=typeof P.yref=="string"&&Q?K._length*P.sizey:Math.abs(K.l2p(P.sizey)-K.l2p(0)):Se=P.sizey*he.h;var ce=ge*D.x[P.xanchor].offset,ne=Se*D.y[P.yanchor].offset,fe=D.x[P.xanchor].sizing+D.y[P.yanchor].sizing,X,ye;switch(J!==void 0?X=typeof P.xref=="string"&&ae?J._length*P.x+J._offset:J.r2p(P.x)+J._offset:X=P.x*he.w+he.l,X+=ce,K!==void 0?ye=typeof P.yref=="string"&&Q?K._length*(1-P.y)+K._offset:K.r2p(P.y)+K._offset:ye=he.h-P.y*he.h+he.t,ye+=ne,P.sizing){case"fill":fe+=" slice";break;case"stretch":fe="none";break}ee.attr({x:X,y:ye,width:ge,height:Se,preserveAspectRatio:fe,opacity:P.opacity});var Ce=J&&l.getRefType(P.xref)!=="domain"?J._id:"",$e=K&&l.getRefType(P.yref)!=="domain"?K._id:"",ke=Ce+$e;h.setClipUrl(ee,ke?"clip"+g._uid+ke:null,d)}var k=g._imageLowerLayer.selectAll("image").data(C),R=g._imageUpperLayer.selectAll("image").data(v);k.enter().append("image"),R.enter().append("image"),k.exit().remove(),R.exit().remove(),k.each(function(P){N.bind(this)(P),M.bind(this)(P)}),R.each(function(P){N.bind(this)(P),M.bind(this)(P)});var F=Object.keys(g._plots);for($=0;$<F.length;$++){_=F[$];var H=g._plots[_];if(H.imagelayer){var j=H.imagelayer.selectAll("image").data(x[_]||[]);j.enter().append("image"),j.exit().remove(),j.each(function(P){N.bind(this)(P),M.bind(this)(P)})}}}},8804:function(L,A,s){L.exports={moduleType:"component",name:"images",layoutAttributes:s(9819),supplyLayoutDefaults:s(1603),includeBasePlot:s(6325)("images"),draw:s(750),convertCoords:s(5378)}},3030:function(L,A,s){var m=s(1940),h=s(2399);L.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:h.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:m({editType:"legend"}),grouptitlefont:m({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:m({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},4928:function(L){L.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},9017:function(L,A,s){var m=s(3972),h=s(1828),l=s(4467),c=s(9012),i=s(3030),u=s(820),d=s(130);function g(v,x,C,_){var $=x[v]||{},S=l.newContainer(C,v);function O(Ve,Oe){return h.coerce($,S,i,Ve,Oe)}var D=h.coerceFont(O,"font",C.font);O("bgcolor",C.paper_bgcolor),O("bordercolor");var N=O("visible");if(N){for(var M,k=function(Ve,Oe){var Fe=M._input,ie=M;return h.coerce(Fe,ie,c,Ve,Oe)},R=C.font||{},F=h.coerceFont(O,"grouptitlefont",h.extendFlat({},R,{size:Math.round(R.size*1.1)})),H=0,j=!1,P="normal",ee=(C.shapes||[]).filter(function(Ve){return Ve.showlegend}),J=_.concat(ee).filter(function(Ve){return v===(Ve.legend||"legend")}),K=0;K<J.length;K++)if(M=J[K],!!M.visible){var ae=M._isShape;(M.showlegend||M._dfltShowLegend&&!(M._module&&M._module.attributes&&M._module.attributes.showlegend&&M._module.attributes.showlegend.dflt===!1))&&(H++,M.showlegend&&(j=!0,(!ae&&m.traceIs(M,"pie-like")||M._input.showlegend===!0)&&H++),h.coerceFont(k,"legendgrouptitle.font",F)),(!ae&&m.traceIs(M,"bar")&&C.barmode==="stack"||["tonextx","tonexty"].indexOf(M.fill)!==-1)&&(P=d.isGrouped({traceorder:P})?"grouped+reversed":"reversed"),M.legendgroup!==void 0&&M.legendgroup!==""&&(P=d.isReversed({traceorder:P})?"reversed+grouped":"grouped")}var Q=h.coerce(x,C,u,"showlegend",j&&H>(v==="legend"?1:0));if(Q===!1&&(C[v]=void 0),!(Q===!1&&!$.uirevision)&&(O("uirevision",C.uirevision),Q!==!1)){O("borderwidth");var he=O("orientation"),ge=O("yref"),Se=O("xref"),ce=he==="h",ne=ge==="paper",fe=Se==="paper",X,ye,Ce,$e="left";ce?(X=0,m.getComponentMethod("rangeslider","isVisible")(x.xaxis)?ne?(ye=1.1,Ce="bottom"):(ye=1,Ce="top"):ne?(ye=-.1,Ce="top"):(ye=0,Ce="bottom")):(ye=1,Ce="auto",fe?X=1.02:(X=1,$e="right")),h.coerce($,S,{x:{valType:"number",editType:"legend",min:fe?-2:0,max:fe?3:1,dflt:X}},"x"),h.coerce($,S,{y:{valType:"number",editType:"legend",min:ne?-2:0,max:ne?3:1,dflt:ye}},"y"),O("traceorder",P),d.isGrouped(C[v])&&O("tracegroupgap"),O("entrywidth"),O("entrywidthmode"),O("itemsizing"),O("itemwidth"),O("itemclick"),O("itemdoubleclick"),O("groupclick"),O("xanchor",$e),O("yanchor",Ce),O("valign"),h.noneOrAll($,S,["x","y"]);var ke=O("title.text");if(ke){O("title.side",ce?"left":"top");var Ne=h.extendFlat({},D,{size:h.bigFont(D.size)});h.coerceFont(O,"title.font",Ne)}}}}L.exports=function(x,C,_){var $,S=_.slice(),O=C.shapes;if(O)for($=0;$<O.length;$++){var D=O[$];if(D.showlegend){var N={_input:D._input,visible:D.visible,showlegend:D.showlegend,legend:D.legend};S.push(N)}}var M=["legend"];for($=0;$<S.length;$++)h.pushUnique(M,S[$].legend);for(C._legends=[],$=0;$<M.length;$++){var k=M[$];g(k,x,C,S),C[k]&&C[k].visible&&(C[k]._id=k),C._legends.push(k)}}},3969:function(L,A,s){var m=s(9898),h=s(1828),l=s(4875),c=s(3972),i=s(1086),u=s(8569),d=s(1424),g=s(7901),v=s(3893),x=s(5167),C=s(4928),_=s(8783),$=_.LINE_SPACING,S=_.FROM_TL,O=_.FROM_BR,D=s(2424),N=s(3630),M=s(130),k=1,R=/^legend[0-9]*$/;L.exports=function(ye,Ce){if(Ce)H(ye,Ce);else{var $e=ye._fullLayout,ke=$e._legends,Ne=$e._infolayer.selectAll('[class^="legend"]');Ne.each(function(){var ie=m.select(this),we=ie.attr("class"),se=we.split(" ")[0];se.match(R)&&ke.indexOf(se)===-1&&ie.remove()});for(var Ve=0;Ve<ke.length;Ve++){var Oe=ke[Ve],Fe=ye._fullLayout[Oe];H(ye,Fe)}}};function F(X,ye,Ce){if(!(ye.title.side!=="top center"&&ye.title.side!=="top right")){var $e=ye.title.font,ke=$e.size*$,Ne=0,Ve=X.node(),Oe=d.bBox(Ve).width;ye.title.side==="top center"?Ne=.5*(ye._width-2*Ce-2*C.titlePad-Oe):ye.title.side==="top right"&&(Ne=ye._width-2*Ce-2*C.titlePad-Oe),v.positionText(X,Ce+C.titlePad+Ne,Ce+ke)}}function H(X,ye){var Ce=ye||{},$e=X._fullLayout,ke=fe(Ce),Ne,Ve,Oe=Ce._inHover;if(Oe?(Ve=Ce.layer,Ne="hover"):(Ve=$e._infolayer,Ne=ke),!!Ve){Ne+=$e._uid,X._legendMouseDownTime||(X._legendMouseDownTime=0);var Fe;if(Oe){if(!Ce.entries)return;Fe=D(Ce.entries,Ce)}else{for(var ie=(X.calcdata||[]).slice(),we=$e.shapes,se=0;se<we.length;se++){var ue=we[se];if(ue.showlegend){var pe={_isShape:!0,_fullInput:ue,index:ue._index,name:ue.name||ue.label.text||"shape "+ue._index,legend:ue.legend,legendgroup:ue.legendgroup,legendgrouptitle:ue.legendgrouptitle,legendrank:ue.legendrank,legendwidth:ue.legendwidth,showlegend:ue.showlegend,visible:ue.visible,opacity:ue.opacity,mode:ue.type==="line"?"lines":"markers",line:ue.line,marker:{line:ue.line,color:ue.fillcolor,size:12,symbol:ue.type==="rect"?"square":ue.type==="circle"?"circle":"hexagon2"}};ie.push([{trace:pe}])}}Fe=$e.showlegend&&D(ie,Ce,$e._legends.length>1)}var le=$e.hiddenlabels||[];if(!Oe&&(!$e.showlegend||!Fe.length))return Ve.selectAll("."+ke).remove(),$e._topdefs.select("#"+Ne).remove(),l.autoMargin(X,ke);var Te=h.ensureSingle(Ve,"g",ke,function(Xe){Oe||Xe.attr("pointer-events","all")}),de=h.ensureSingleById($e._topdefs,"clipPath",Ne,function(Xe){Xe.append("rect")}),Me=h.ensureSingle(Te,"rect","bg",function(Xe){Xe.attr("shape-rendering","crispEdges")});Me.call(g.stroke,Ce.bordercolor).call(g.fill,Ce.bgcolor).style("stroke-width",Ce.borderwidth+"px");var Re=h.ensureSingle(Te,"g","scrollbox"),ze=Ce.title;Ce._titleWidth=0,Ce._titleHeight=0;var We;ze.text?(We=h.ensureSingle(Re,"text",ke+"titletext"),We.attr("text-anchor","start").call(d.font,ze.font).text(ze.text),ae(We,Re,X,Ce,k)):Re.selectAll("."+ke+"titletext").remove();var ot=h.ensureSingle(Te,"rect","scrollbar",function(Xe){Xe.attr(C.scrollBarEnterAttrs).call(g.fill,C.scrollBarColor)}),dt=Re.selectAll("g.groups").data(Fe);dt.enter().append("g").attr("class","groups"),dt.exit().remove();var Ge=dt.selectAll("g.traces").data(h.identity);Ge.enter().append("g").attr("class","traces"),Ge.exit().remove(),Ge.style("opacity",function(Xe){var qe=Xe[0].trace;return c.traceIs(qe,"pie-like")?le.indexOf(Xe[0].label)!==-1?.5:1:qe.visible==="legendonly"?.5:1}).each(function(){m.select(this).call(ee,X,Ce)}).call(N,X,Ce).each(function(){Oe||m.select(this).call(K,X,ke)}),h.syncOrAsync([l.previousPromises,function(){return ge(X,dt,Ge,Ce)},function(){var Xe=$e._size,qe=Ce.borderwidth,gt=Ce.xref==="paper",ut=Ce.yref==="paper";if(ze.text&&F(We,Ce,qe),!Oe){var tt,Ct;gt?tt=Xe.l+Xe.w*Ce.x-S[ce(Ce)]*Ce._width:tt=$e.width*Ce.x-S[ce(Ce)]*Ce._width,ut?Ct=Xe.t+Xe.h*(1-Ce.y)-S[ne(Ce)]*Ce._effHeight:Ct=$e.height*(1-Ce.y)-S[ne(Ce)]*Ce._effHeight;var Gt=Se(X,ke,tt,Ct);if(Gt)return;if($e.margin.autoexpand){var Yt=tt,Nt=Ct;tt=gt?h.constrain(tt,0,$e.width-Ce._width):Yt,Ct=ut?h.constrain(Ct,0,$e.height-Ce._effHeight):Nt,tt!==Yt&&h.log("Constrain "+ke+".x to make legend fit inside graph"),Ct!==Nt&&h.log("Constrain "+ke+".y to make legend fit inside graph")}d.setTranslate(Te,tt,Ct)}if(ot.on(".drag",null),Te.on("wheel",null),Oe||Ce._height<=Ce._maxHeight||X._context.staticPlot){var Ft=Ce._effHeight;Oe&&(Ft=Ce._height),Me.attr({width:Ce._width-qe,height:Ft-qe,x:qe/2,y:qe/2}),d.setTranslate(Re,0,0),de.select("rect").attr({width:Ce._width-2*qe,height:Ft-2*qe,x:qe,y:qe}),d.setClipUrl(Re,Ne,X),d.setRect(ot,0,0,0,0),delete Ce._scrollY}else{var pn=Math.max(C.scrollBarMinHeight,Ce._effHeight*Ce._effHeight/Ce._height),_n=Ce._effHeight-pn-2*C.scrollBarMargin,sn=Ce._height-Ce._effHeight,Zn=_n/sn,an=Math.min(Ce._scrollY||0,sn);Me.attr({width:Ce._width-2*qe+C.scrollBarWidth+C.scrollBarMargin,height:Ce._effHeight-qe,x:qe/2,y:qe/2}),de.select("rect").attr({width:Ce._width-2*qe+C.scrollBarWidth+C.scrollBarMargin,height:Ce._effHeight-2*qe,x:qe,y:qe+an}),d.setClipUrl(Re,Ne,X),vt(an,pn,Zn),Te.on("wheel",function(){an=h.constrain(Ce._scrollY+m.event.deltaY/_n*sn,0,sn),vt(an,pn,Zn),an!==0&&an!==sn&&m.event.preventDefault()});var Cn,jn,Wn,wn=function(pt,Tt,Et){var fn=(Et-Tt)/Zn+pt;return h.constrain(fn,0,sn)},lt=function(pt,Tt,Et){var fn=(Tt-Et)/Zn+pt;return h.constrain(fn,0,sn)},ft=m.behavior.drag().on("dragstart",function(){var pt=m.event.sourceEvent;pt.type==="touchstart"?Cn=pt.changedTouches[0].clientY:Cn=pt.clientY,Wn=an}).on("drag",function(){var pt=m.event.sourceEvent;pt.buttons===2||pt.ctrlKey||(pt.type==="touchmove"?jn=pt.changedTouches[0].clientY:jn=pt.clientY,an=wn(Wn,Cn,jn),vt(an,pn,Zn))});ot.call(ft);var wt=m.behavior.drag().on("dragstart",function(){var pt=m.event.sourceEvent;pt.type==="touchstart"&&(Cn=pt.changedTouches[0].clientY,Wn=an)}).on("drag",function(){var pt=m.event.sourceEvent;pt.type==="touchmove"&&(jn=pt.changedTouches[0].clientY,an=lt(Wn,Cn,jn),vt(an,pn,Zn))});Re.call(wt)}function vt(pt,Tt,Et){Ce._scrollY=X._fullLayout[ke]._scrollY=pt,d.setTranslate(Re,0,-pt),d.setRect(ot,Ce._width,C.scrollBarMargin+pt*Et,C.scrollBarWidth,Tt),de.select("rect").attr("y",qe+pt)}if(X._context.edits.legendPosition){var $t,Ze,it,ht;Te.classed("cursor-move",!0),u.init({element:Te.node(),gd:X,prepFn:function(){var pt=d.getTranslate(Te);it=pt.x,ht=pt.y},moveFn:function(pt,Tt){var Et=it+pt,fn=ht+Tt;d.setTranslate(Te,Et,fn),$t=u.align(Et,Ce._width,Xe.l,Xe.l+Xe.w,Ce.xanchor),Ze=u.align(fn+Ce._height,-Ce._height,Xe.t+Xe.h,Xe.t,Ce.yanchor)},doneFn:function(){if($t!==void 0&&Ze!==void 0){var pt={};pt[ke+".x"]=$t,pt[ke+".y"]=Ze,c.call("_guiRelayout",X,pt)}},clickFn:function(pt,Tt){var Et=Ve.selectAll("g.traces").filter(function(){var fn=this.getBoundingClientRect();return Tt.clientX>=fn.left&&Tt.clientX<=fn.right&&Tt.clientY>=fn.top&&Tt.clientY<=fn.bottom});Et.size()>0&&P(X,Te,Et,pt,Tt)}})}}],X)}}function j(X,ye,Ce){var $e=X[0],ke=$e.width,Ne=ye.entrywidthmode,Ve=$e.trace.legendwidth||ye.entrywidth;return Ne==="fraction"?ye._maxWidth*Ve:Ce+(Ve||ke)}function P(X,ye,Ce,$e,ke){var Ne=Ce.data()[0][0].trace,Ve={event:ke,node:Ce.node(),curveNumber:Ne.index,expandedIndex:Ne._expandedIndex,data:X.data,layout:X.layout,frames:X._transitionData._frames,config:X._context,fullData:X._fullData,fullLayout:X._fullLayout};Ne._group&&(Ve.group=Ne._group),c.traceIs(Ne,"pie-like")&&(Ve.label=Ce.datum()[0].label);var Oe=i.triggerHandler(X,"plotly_legendclick",Ve);if($e===1){if(Oe===!1)return;ye._clickTimeout=setTimeout(function(){X._fullLayout&&x(Ce,X,$e)},X._context.doubleClickDelay)}else if($e===2){ye._clickTimeout&&clearTimeout(ye._clickTimeout),X._legendMouseDownTime=0;var Fe=i.triggerHandler(X,"plotly_legenddoubleclick",Ve);Fe!==!1&&Oe!==!1&&x(Ce,X,$e)}}function ee(X,ye,Ce){var $e=fe(Ce),ke=X.data()[0][0],Ne=ke.trace,Ve=c.traceIs(Ne,"pie-like"),Oe=!Ce._inHover&&ye._context.edits.legendText&&!Ve,Fe=Ce._maxNameLength,ie,we;ke.groupTitle?(ie=ke.groupTitle.text,we=ke.groupTitle.font):(we=Ce.font,Ce.entries?ie=ke.text:(ie=Ve?ke.label:Ne.name,Ne._meta&&(ie=h.templateString(ie,Ne._meta))));var se=h.ensureSingle(X,"text",$e+"text");se.attr("text-anchor","start").call(d.font,we).text(Oe?J(ie,Fe):ie);var ue=Ce.itemwidth+C.itemGap*2;v.positionText(se,ue,0),Oe?se.call(v.makeEditable,{gd:ye,text:ie}).call(ae,X,ye,Ce).on("edit",function(pe){this.text(J(pe,Fe)).call(ae,X,ye,Ce);var le=ke.trace._fullInput||{},Te={};if(c.hasTransform(le,"groupby")){var de=c.getTransformIndices(le,"groupby"),Me=de[de.length-1],Re=h.keyedContainer(le,"transforms["+Me+"].styles","target","value.name");Re.set(ke.trace._group,pe),Te=Re.constructUpdate()}else Te.name=pe;return le._isShape?c.call("_guiRelayout",ye,"shapes["+Ne.index+"].name",Te.name):c.call("_guiRestyle",ye,Te,Ne.index)}):ae(se,X,ye,Ce)}function J(X,ye){var Ce=Math.max(4,ye);if(X&&X.trim().length>=Ce/2)return X;X=X||"";for(var $e=Ce-X.length;$e>0;$e--)X+=" ";return X}function K(X,ye,Ce){var $e=ye._context.doubleClickDelay,ke,Ne=1,Ve=h.ensureSingle(X,"rect",Ce+"toggle",function(Oe){ye._context.staticPlot||Oe.style("cursor","pointer").attr("pointer-events","all"),Oe.call(g.fill,"rgba(0,0,0,0)")});ye._context.staticPlot||(Ve.on("mousedown",function(){ke=new Date().getTime(),ke-ye._legendMouseDownTime<$e?Ne+=1:(Ne=1,ye._legendMouseDownTime=ke)}),Ve.on("mouseup",function(){if(!(ye._dragged||ye._editing)){var Oe=ye._fullLayout[Ce];new Date().getTime()-ye._legendMouseDownTime>$e&&(Ne=Math.max(Ne-1,1)),P(ye,Oe,X,Ne,m.event)}}))}function ae(X,ye,Ce,$e,ke){$e._inHover&&X.attr("data-notex",!0),v.convertToTspans(X,Ce,function(){Q(ye,Ce,$e,ke)})}function Q(X,ye,Ce,$e){var ke=X.data()[0][0];if(!Ce._inHover&&ke&&!ke.trace.showlegend){X.remove();return}var Ne=X.select("g[class*=math-group]"),Ve=Ne.node(),Oe=fe(Ce);Ce||(Ce=ye._fullLayout[Oe]);var Fe=Ce.borderwidth,ie;$e===k?ie=Ce.title.font:ke.groupTitle?ie=ke.groupTitle.font:ie=Ce.font;var we=ie.size*$,se,ue;if(Ve){var pe=d.bBox(Ve);se=pe.height,ue=pe.width,$e===k?d.setTranslate(Ne,Fe,Fe+se*.75):d.setTranslate(Ne,0,se*.25)}else{var le="."+Oe+($e===k?"title":"")+"text",Te=X.select(le),de=v.lineCount(Te),Me=Te.node();if(se=we*de,ue=Me?d.bBox(Me).width:0,$e===k)Ce.title.side==="left"&&(ue+=C.itemGap*2),v.positionText(Te,Fe+C.titlePad,Fe+we);else{var Re=C.itemGap*2+Ce.itemwidth;ke.groupTitle&&(Re=C.itemGap,ue-=Ce.itemwidth),v.positionText(Te,Re,-we*((de-1)/2-.3))}}$e===k?(Ce._titleWidth=ue,Ce._titleHeight=se):(ke.lineHeight=we,ke.height=Math.max(se,16)+3,ke.width=ue)}function he(X){var ye=0,Ce=0,$e=X.title.side;return $e&&($e.indexOf("left")!==-1&&(ye=X._titleWidth),$e.indexOf("top")!==-1&&(Ce=X._titleHeight)),[ye,Ce]}function ge(X,ye,Ce,$e){var ke=X._fullLayout,Ne=fe($e);$e||($e=ke[Ne]);var Ve=ke._size,Oe=M.isVertical($e),Fe=M.isGrouped($e),ie=$e.entrywidthmode==="fraction",we=$e.borderwidth,se=2*we,ue=C.itemGap,pe=$e.itemwidth+ue*2,le=2*(we+ue),Te=ne($e),de=$e.y<0||$e.y===0&&Te==="top",Me=$e.y>1||$e.y===1&&Te==="bottom",Re=$e.tracegroupgap,ze={};$e._maxHeight=Math.max(de||Me?ke.height/2:Ve.h,30);var We=0;$e._width=0,$e._height=0;var ot=he($e);if(Oe)Ce.each(function(Wn){var wn=Wn[0].height;d.setTranslate(this,we+ot[0],we+ot[1]+$e._height+wn/2+ue),$e._height+=wn,$e._width=Math.max($e._width,Wn[0].width)}),We=pe+$e._width,$e._width+=ue+pe+se,$e._height+=le,Fe&&(ye.each(function(Wn,wn){d.setTranslate(this,0,wn*$e.tracegroupgap)}),$e._height+=($e._lgroupsLength-1)*$e.tracegroupgap);else{var dt=ce($e),Ge=$e.x<0||$e.x===0&&dt==="right",Xe=$e.x>1||$e.x===1&&dt==="left",qe=Me||de,gt=ke.width/2;$e._maxWidth=Math.max(Ge?qe&&dt==="left"?Ve.l+Ve.w:gt:Xe?qe&&dt==="right"?Ve.r+Ve.w:gt:Ve.w,2*pe);var ut=0,tt=0;Ce.each(function(Wn){var wn=j(Wn,$e,pe);ut=Math.max(ut,wn),tt+=wn}),We=null;var Ct=0;if(Fe){var Gt=0,Yt=0,Nt=0;ye.each(function(){var Wn=0,wn=0;m.select(this).selectAll("g.traces").each(function(ft){var wt=j(ft,$e,pe),vt=ft[0].height;d.setTranslate(this,ot[0],ot[1]+we+ue+vt/2+wn),wn+=vt,Wn=Math.max(Wn,wt),ze[ft[0].trace.legendgroup]=Wn});var lt=Wn+ue;Yt>0&&lt+we+Yt>$e._maxWidth?(Ct=Math.max(Ct,Yt),Yt=0,Nt+=Gt+Re,Gt=wn):Gt=Math.max(Gt,wn),d.setTranslate(this,Yt,Nt),Yt+=lt}),$e._width=Math.max(Ct,Yt)+we,$e._height=Nt+Gt+le}else{var Ft=Ce.size(),pn=tt+se+(Ft-1)*ue<$e._maxWidth,_n=0,sn=0,Zn=0,an=0;Ce.each(function(Wn){var wn=Wn[0].height,lt=j(Wn,$e,pe),ft=pn?lt:ut;ie||(ft+=ue),ft+we+sn-ue>=$e._maxWidth&&(Ct=Math.max(Ct,an),sn=0,Zn+=_n,$e._height+=_n,_n=0),d.setTranslate(this,ot[0]+we+sn,ot[1]+we+Zn+wn/2+ue),an=sn+lt+ue,sn+=ft,_n=Math.max(_n,wn)}),pn?($e._width=sn+se,$e._height=_n+le):($e._width=Math.max(Ct,an)+se,$e._height+=_n+le)}}$e._width=Math.ceil(Math.max($e._width+ot[0],$e._titleWidth+2*(we+C.titlePad))),$e._height=Math.ceil(Math.max($e._height+ot[1],$e._titleHeight+2*(we+C.itemGap))),$e._effHeight=Math.min($e._height,$e._maxHeight);var Cn=X._context.edits,jn=Cn.legendText||Cn.legendPosition;Ce.each(function(Wn){var wn=m.select(this).select("."+Ne+"toggle"),lt=Wn[0].height,ft=Wn[0].trace.legendgroup,wt=j(Wn,$e,pe);Fe&&ft!==""&&(wt=ze[ft]);var vt=jn?pe:We||wt;!Oe&&!ie&&(vt+=ue/2),d.setRect(wn,0,-lt/2,vt,lt)})}function Se(X,ye,Ce,$e){var ke=X._fullLayout,Ne=ke[ye],Ve=ce(Ne),Oe=ne(Ne),Fe=Ne.xref==="paper",ie=Ne.yref==="paper";X._fullLayout._reservedMargin[ye]={};var we=Ne.y<.5?"b":"t",se=Ne.x<.5?"l":"r",ue={r:ke.width-Ce,l:Ce+Ne._width,b:ke.height-$e,t:$e+Ne._effHeight};if(Fe&&ie)return l.autoMargin(X,ye,{x:Ne.x,y:Ne.y,l:Ne._width*S[Ve],r:Ne._width*O[Ve],b:Ne._effHeight*O[Oe],t:Ne._effHeight*S[Oe]});Fe?X._fullLayout._reservedMargin[ye][we]=ue[we]:ie||Ne.orientation==="v"?X._fullLayout._reservedMargin[ye][se]=ue[se]:X._fullLayout._reservedMargin[ye][we]=ue[we]}function ce(X){return h.isRightAnchor(X)?"right":h.isCenterAnchor(X)?"center":"left"}function ne(X){return h.isBottomAnchor(X)?"bottom":h.isMiddleAnchor(X)?"middle":"top"}function fe(X){return X._id||"legend"}},2424:function(L,A,s){var m=s(3972),h=s(130);L.exports=function(c,i,u){var d=i._inHover,g=h.isGrouped(i),v=h.isReversed(i),x={},C=[],_=!1,$={},S=0,O=0,D,N;function M(X,ye,Ce){if(i.visible!==!1&&!(u&&X!==i._id))if(ye===""||!h.isGrouped(i)){var $e="~~i"+S;C.push($e),x[$e]=[Ce],S++}else C.indexOf(ye)===-1?(C.push(ye),_=!0,x[ye]=[Ce]):x[ye].push(Ce)}for(D=0;D<c.length;D++){var k=c[D],R=k[0],F=R.trace,H=F.legend,j=F.legendgroup;if(!(!d&&(!F.visible||!F.showlegend)))if(m.traceIs(F,"pie-like"))for($[j]||($[j]={}),N=0;N<k.length;N++){var P=k[N].label;$[j][P]||(M(H,j,{label:P,color:k[N].color,i:k[N].i,trace:F,pts:k[N].pts}),$[j][P]=!0,O=Math.max(O,(P||"").length))}else M(H,j,R),O=Math.max(O,(F.name||"").length)}if(!C.length)return[];var ee=!_||!g,J=[];for(D=0;D<C.length;D++){var K=x[C[D]];ee?J.push(K[0]):J.push(K)}for(ee&&(J=[J]),D=0;D<J.length;D++){var ae=1/0;for(N=0;N<J[D].length;N++){var Q=J[D][N].trace.legendrank;ae>Q&&(ae=Q)}J[D][0]._groupMinRank=ae,J[D][0]._preGroupSort=D}var he=function(X,ye){return X[0]._groupMinRank-ye[0]._groupMinRank||X[0]._preGroupSort-ye[0]._preGroupSort},ge=function(X,ye){return X.trace.legendrank-ye.trace.legendrank||X._preSort-ye._preSort};for(J.forEach(function(X,ye){X[0]._preGroupSort=ye}),J.sort(he),D=0;D<J.length;D++){J[D].forEach(function(X,ye){X._preSort=ye}),J[D].sort(ge);var Se=J[D][0].trace,ce=null;for(N=0;N<J[D].length;N++){var ne=J[D][N].trace.legendgrouptitle;if(ne&&ne.text){ce=ne,d&&(ne.font=i._groupTitleFont);break}}if(v&&J[D].reverse(),ce){var fe=!1;for(N=0;N<J[D].length;N++)if(m.traceIs(J[D][N].trace,"pie-like")){fe=!0;break}J[D].unshift({i:-1,groupTitle:ce,noClick:fe,trace:{showlegend:Se.showlegend,legendgroup:Se.legendgroup,visible:i.groupclick==="toggleitem"?!0:Se.visible}})}for(N=0;N<J[D].length;N++)J[D][N]=[J[D][N]]}return i._lgroupsLength=J.length,i._maxNameLength=O,J}},5167:function(L,A,s){var m=s(3972),h=s(1828),l=h.pushUnique,c=!0;L.exports=function(u,d,g){var v=d._fullLayout;if(d._dragged||d._editing)return;var x=v.legend.itemclick,C=v.legend.itemdoubleclick,_=v.legend.groupclick;g===1&&x==="toggle"&&C==="toggleothers"&&c&&d.data&&d._context.showTips&&h.notifier(h._(d,"Double-click on legend to isolate one trace"),"long"),c=!1;var $;if(g===1?$=x:g===2&&($=C),!$)return;var S=_==="togglegroup",O=v.hiddenlabels?v.hiddenlabels.slice():[],D=u.data()[0][0];if(D.groupTitle&&D.noClick)return;var N=d._fullData,M=(v.shapes||[]).filter(function(gt){return gt.showlegend}),k=N.concat(M),R=D.trace;R._isShape&&(R=R._fullInput);var F=R.legendgroup,H,j,P,ee,J,K,ae={},Q=[],he=[],ge=[];function Se(gt,ut){var tt=Q.indexOf(gt),Ct=ae.visible;return Ct||(Ct=ae.visible=[]),Q.indexOf(gt)===-1&&(Q.push(gt),tt=Q.length-1),Ct[tt]=ut,tt}var ce=(v.shapes||[]).map(function(gt){return gt._input}),ne=!1;function fe(gt,ut){ce[gt].visible=ut,ne=!0}function X(gt,ut){if(!(D.groupTitle&&!S)){var tt=gt._fullInput||gt,Ct=tt._isShape,Gt=tt.index;if(Gt===void 0&&(Gt=tt._index),m.hasTransform(tt,"groupby")){var Yt=he[Gt];if(!Yt){var Nt=m.getTransformIndices(tt,"groupby"),Ft=Nt[Nt.length-1];Yt=h.keyedContainer(tt,"transforms["+Ft+"].styles","target","value.visible"),he[Gt]=Yt}var pn=Yt.get(gt._group);pn===void 0&&(pn=!0),pn!==!1&&Yt.set(gt._group,ut),ge[Gt]=Se(Gt,tt.visible!==!1)}else{var _n=tt.visible===!1?!1:ut;Ct?fe(Gt,_n):Se(Gt,_n)}}}var ye=R.legend,Ce=R._fullInput,$e=Ce&&Ce._isShape;if(!$e&&m.traceIs(R,"pie-like")){var ke=D.label,Ne=O.indexOf(ke);if($==="toggle")Ne===-1?O.push(ke):O.splice(Ne,1);else if($==="toggleothers"){var Ve=Ne!==-1,Oe=[];for(H=0;H<d.calcdata.length;H++){var Fe=d.calcdata[H];for(j=0;j<Fe.length;j++){var ie=Fe[j],we=ie.label;ye===Fe[0].trace.legend&&ke!==we&&(O.indexOf(we)===-1&&(Ve=!0),l(O,we),Oe.push(we))}}if(!Ve)for(var se=0;se<Oe.length;se++){var ue=O.indexOf(Oe[se]);ue!==-1&&O.splice(ue,1)}}m.call("_guiRelayout",d,"hiddenlabels",O)}else{var pe=F&&F.length,le=[],Te;if(pe)for(H=0;H<k.length;H++)Te=k[H],Te.visible&&Te.legendgroup===F&&le.push(H);if($==="toggle"){var de;switch(R.visible){case!0:de="legendonly";break;case!1:de=!1;break;case"legendonly":de=!0;break}if(pe)if(S)for(H=0;H<k.length;H++){var Me=k[H];Me.visible!==!1&&Me.legendgroup===F&&X(Me,de)}else X(R,de);else X(R,de)}else if($==="toggleothers"){var Re,ze,We,ot,dt,Ge=!0;for(H=0;H<k.length;H++)if(dt=k[H],Re=dt===R,We=dt.showlegend!==!0,!(Re||We)&&(ze=pe&&dt.legendgroup===F,!ze&&dt.legend===ye&&dt.visible===!0&&!m.traceIs(dt,"notLegendIsolatable"))){Ge=!1;break}for(H=0;H<k.length;H++)if(dt=k[H],!(dt.visible===!1||dt.legend!==ye)&&!m.traceIs(dt,"notLegendIsolatable"))switch(R.visible){case"legendonly":X(dt,!0);break;case!0:ot=Ge?!0:"legendonly",Re=dt===R,We=dt.showlegend!==!0&&!dt.legendgroup,ze=Re||pe&&dt.legendgroup===F,X(dt,ze||We?!0:ot);break}}for(H=0;H<he.length;H++)if(P=he[H],!!P){var Xe=P.constructUpdate(),qe=Object.keys(Xe);for(j=0;j<qe.length;j++)ee=qe[j],K=ae[ee]=ae[ee]||[],K[ge[H]]=Xe[ee]}for(J=Object.keys(ae),H=0;H<J.length;H++)for(ee=J[H],j=0;j<Q.length;j++)ae[ee].hasOwnProperty(j)||(ae[ee][j]=void 0);ne?m.call("_guiUpdate",d,ae,{shapes:ce},Q):m.call("_guiRestyle",d,ae,Q)}}},130:function(L,A){A.isGrouped=function(m){return(m.traceorder||"").indexOf("grouped")!==-1},A.isVertical=function(m){return m.orientation!=="h"},A.isReversed=function(m){return(m.traceorder||"").indexOf("reversed")!==-1}},2199:function(L,A,s){L.exports={moduleType:"component",name:"legend",layoutAttributes:s(3030),supplyLayoutDefaults:s(9017),draw:s(3969),style:s(3630)}},3630:function(L,A,s){var m=s(9898),h=s(3972),l=s(1828),c=l.strTranslate,i=s(1424),u=s(7901),d=s(2869).extractOpts,g=s(4098),v=s(3463),x=s(3581).castOption,C=s(4928),_=12,$=5,S=2,O=10,D=5;L.exports=function(F,H,j){var P=H._fullLayout;j||(j=P.legend);var ee=j.itemsizing==="constant",J=j.itemwidth,K=(J+C.itemGap*2)/2,ae=c(K,0),Q=function(Oe,Fe,ie,we){var se;if(Oe+1)se=Oe;else if(Fe&&Fe.width>0)se=Fe.width;else return 0;return ee?we:Math.min(se,ie)};F.each(function(Oe){var Fe=m.select(this),ie=l.ensureSingle(Fe,"g","layers");ie.style("opacity",Oe[0].trace.opacity);var we=j.valign,se=Oe[0].lineHeight,ue=Oe[0].height;if(we==="middle"||!se||!ue)ie.attr("transform",null);else{var pe={top:1,bottom:-1}[we],le=pe*(.5*(se-ue+3));ie.attr("transform",c(0,le))}var Te=ie.selectAll("g.legendfill").data([Oe]);Te.enter().append("g").classed("legendfill",!0);var de=ie.selectAll("g.legendlines").data([Oe]);de.enter().append("g").classed("legendlines",!0);var Me=ie.selectAll("g.legendsymbols").data([Oe]);Me.enter().append("g").classed("legendsymbols",!0),Me.selectAll("g.legendpoints").data([Oe]).enter().append("g").classed("legendpoints",!0)}).each(Ve).each(Se).each(ne).each(ce).each(X).each(ke).each($e).each(he).each(ge).each(ye).each(Ce);function he(Oe){var Fe=M(Oe),ie=Fe.showFill,we=Fe.showLine,se=Fe.showGradientLine,ue=Fe.showGradientFill,pe=Fe.anyFill,le=Fe.anyLine,Te=Oe[0],de=Te.trace,Me,Re,ze=d(de),We=ze.colorscale,ot=ze.reversescale,dt=function(Ct){if(Ct.size())if(ie)i.fillGroupStyle(Ct,H);else{var Gt="legendfill-"+de.uid;i.gradient(Ct,H,Gt,N(ot),We,"fill")}},Ge=function(Ct){if(Ct.size()){var Gt="legendline-"+de.uid;i.lineGroupStyle(Ct),i.gradient(Ct,H,Gt,N(ot),We,"stroke")}},Xe=g.hasMarkers(de)||!pe?"M5,0":le?"M5,-2":"M5,-3",qe=m.select(this),gt=qe.select(".legendfill").selectAll("path").data(ie||ue?[Oe]:[]);if(gt.enter().append("path").classed("js-fill",!0),gt.exit().remove(),gt.attr("d",Xe+"h"+J+"v6h-"+J+"z").call(dt),we||se){var ut=Q(void 0,de.line,O,$);Re=l.minExtend(de,{line:{width:ut}}),Me=[l.minExtend(Te,{trace:Re})]}var tt=qe.select(".legendlines").selectAll("path").data(we||se?[Me]:[]);tt.enter().append("path").classed("js-line",!0),tt.exit().remove(),tt.attr("d",Xe+(se?"l"+J+",0.0001":"h"+J)).call(we?i.lineGroupStyle:Ge)}function ge(Oe){var Fe=M(Oe),ie=Fe.anyFill,we=Fe.anyLine,se=Fe.showLine,ue=Fe.showMarker,pe=Oe[0],le=pe.trace,Te=!ue&&!we&&!ie&&g.hasText(le),de,Me;function Re(gt,ut,tt,Ct){var Gt=l.nestedProperty(le,gt).get(),Yt=l.isArrayOrTypedArray(Gt)&&ut?ut(Gt):Gt;if(ee&&Yt&&Ct!==void 0&&(Yt=Ct),tt){if(Yt<tt[0])return tt[0];if(Yt>tt[1])return tt[1]}return Yt}function ze(gt){return pe._distinct&&pe.index&&gt[pe.index]?gt[pe.index]:gt[0]}if(ue||Te||se){var We={},ot={};if(ue){We.mc=Re("marker.color",ze),We.mx=Re("marker.symbol",ze),We.mo=Re("marker.opacity",l.mean,[.2,1]),We.mlc=Re("marker.line.color",ze),We.mlw=Re("marker.line.width",l.mean,[0,5],S),ot.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var dt=Re("marker.size",l.mean,[2,16],_);We.ms=dt,ot.marker.size=dt}se&&(ot.line={width:Re("line.width",ze,[0,10],$)}),Te&&(We.tx="Aa",We.tp=Re("textposition",ze),We.ts=10,We.tc=Re("textfont.color",ze),We.tf=Re("textfont.family",ze)),de=[l.minExtend(pe,We)],Me=l.minExtend(le,ot),Me.selectedpoints=null,Me.texttemplate=null}var Ge=m.select(this).select("g.legendpoints"),Xe=Ge.selectAll("path.scatterpts").data(ue?de:[]);Xe.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",ae),Xe.exit().remove(),Xe.call(i.pointStyle,Me,H),ue&&(de[0].mrc=3);var qe=Ge.selectAll("g.pointtext").data(Te?de:[]);qe.enter().append("g").classed("pointtext",!0).append("text").attr("transform",ae),qe.exit().remove(),qe.selectAll("text").call(i.textPointStyle,Me,H)}function Se(Oe){var Fe=Oe[0].trace,ie=Fe.type==="waterfall";if(Oe[0]._distinct&&ie){var we=Oe[0].trace[Oe[0].dir].marker;return Oe[0].mc=we.color,Oe[0].mlw=we.line.width,Oe[0].mlc=we.line.color,fe(Oe,this,"waterfall")}var se=[];Fe.visible&&ie&&(se=Oe[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var ue=m.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(se);ue.enter().append("path").classed("legendwaterfall",!0).attr("transform",ae).style("stroke-miterlimit",1),ue.exit().remove(),ue.each(function(pe){var le=m.select(this),Te=Fe[pe[0]].marker,de=Q(void 0,Te.line,D,S);le.attr("d",pe[1]).style("stroke-width",de+"px").call(u.fill,Te.color),de&&le.call(u.stroke,Te.line.color)})}function ce(Oe){fe(Oe,this)}function ne(Oe){fe(Oe,this,"funnel")}function fe(Oe,Fe,ie){var we=Oe[0].trace,se=we.marker||{},ue=se.line||{},pe=ie?we.visible&&we.type===ie:h.traceIs(we,"bar"),le=m.select(Fe).select("g.legendpoints").selectAll("path.legend"+ie).data(pe?[Oe]:[]);le.enter().append("path").classed("legend"+ie,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",ae),le.exit().remove(),le.each(function(Te){var de=m.select(this),Me=Te[0],Re=Q(Me.mlw,se.line,D,S);de.style("stroke-width",Re+"px");var ze=Me.mcc;if(!j._inHover&&"mc"in Me){var We=d(se),ot=We.mid;ot===void 0&&(ot=(We.max+We.min)/2),ze=i.tryColorscale(se,"")(ot)}var dt=ze||Me.mc||se.color,Ge=se.pattern,Xe=Ge&&i.getPatternAttr(Ge.shape,0,"");if(Xe){var qe=i.getPatternAttr(Ge.bgcolor,0,null),gt=i.getPatternAttr(Ge.fgcolor,0,null),ut=Ge.fgopacity,tt=k(Ge.size,8,10),Ct=k(Ge.solidity,.5,1),Gt="legend-"+we.uid;de.call(i.pattern,"legend",H,Gt,Xe,tt,Ct,ze,Ge.fillmode,qe,gt,ut)}else de.call(u.fill,dt);Re&&u.stroke(de,Me.mlc||ue.color)})}function X(Oe){var Fe=Oe[0].trace,ie=m.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Fe.visible&&h.traceIs(Fe,"box-violin")?[Oe]:[]);ie.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",ae),ie.exit().remove(),ie.each(function(){var we=m.select(this);if((Fe.boxpoints==="all"||Fe.points==="all")&&u.opacity(Fe.fillcolor)===0&&u.opacity((Fe.line||{}).color)===0){var se=l.minExtend(Fe,{marker:{size:ee?_:l.constrain(Fe.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});ie.call(i.pointStyle,se,H)}else{var ue=Q(void 0,Fe.line,D,S);we.style("stroke-width",ue+"px").call(u.fill,Fe.fillcolor),ue&&u.stroke(we,Fe.line.color)}})}function ye(Oe){var Fe=Oe[0].trace,ie=m.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Fe.visible&&Fe.type==="candlestick"?[Oe,Oe]:[]);ie.enter().append("path").classed("legendcandle",!0).attr("d",function(we,se){return se?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",ae).style("stroke-miterlimit",1),ie.exit().remove(),ie.each(function(we,se){var ue=m.select(this),pe=Fe[se?"increasing":"decreasing"],le=Q(void 0,pe.line,D,S);ue.style("stroke-width",le+"px").call(u.fill,pe.fillcolor),le&&u.stroke(ue,pe.line.color)})}function Ce(Oe){var Fe=Oe[0].trace,ie=m.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Fe.visible&&Fe.type==="ohlc"?[Oe,Oe]:[]);ie.enter().append("path").classed("legendohlc",!0).attr("d",function(we,se){return se?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",ae).style("stroke-miterlimit",1),ie.exit().remove(),ie.each(function(we,se){var ue=m.select(this),pe=Fe[se?"increasing":"decreasing"],le=Q(void 0,pe.line,D,S);ue.style("fill","none").call(i.dashLine,pe.line.dash,le),le&&u.stroke(ue,pe.line.color)})}function $e(Oe){Ne(Oe,this,"pie")}function ke(Oe){Ne(Oe,this,"funnelarea")}function Ne(Oe,Fe,ie){var we=Oe[0],se=we.trace,ue=ie?se.visible&&se.type===ie:h.traceIs(se,ie),pe=m.select(Fe).select("g.legendpoints").selectAll("path.legend"+ie).data(ue?[Oe]:[]);if(pe.enter().append("path").classed("legend"+ie,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",ae),pe.exit().remove(),pe.size()){var le=se.marker||{},Te=Q(x(le.line.width,we.pts),le.line,D,S),de="pieLike",Me=l.minExtend(se,{marker:{line:{width:Te}}},de),Re=l.minExtend(we,{trace:Me},de);v(pe,Re,Me,H)}}function Ve(Oe){var Fe=Oe[0].trace,ie,we=[];if(Fe.visible)switch(Fe.type){case"histogram2d":case"heatmap":we=[["M-15,-2V4H15V-2Z"]],ie=!0;break;case"choropleth":case"choroplethmapbox":we=[["M-6,-6V6H6V-6Z"]],ie=!0;break;case"densitymapbox":we=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],ie="radial";break;case"cone":we=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],ie=!1;break;case"streamtube":we=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],ie=!1;break;case"surface":we=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],ie=!0;break;case"mesh3d":we=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],ie=!1;break;case"volume":we=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],ie=!0;break;case"isosurface":we=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],ie=!1;break}var se=m.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(we);se.enter().append("path").classed("legend3dandfriends",!0).attr("transform",ae).style("stroke-miterlimit",1),se.exit().remove(),se.each(function(ue,pe){var le=m.select(this),Te=d(Fe),de=Te.colorscale,Me=Te.reversescale,Re=function(dt){if(dt.size()){var Ge="legendfill-"+Fe.uid;i.gradient(dt,H,Ge,N(Me,ie==="radial"),de,"fill")}},ze;if(de){if(!ie){var ot=de.length;ze=pe===0?de[Me?ot-1:0][1]:pe===1?de[Me?0:ot-1][1]:de[Math.floor((ot-1)/2)][1]}}else{var We=Fe.vertexcolor||Fe.facecolor||Fe.color;ze=l.isArrayOrTypedArray(We)?We[pe]||We[0]:We}le.attr("d",ue[0]),ze?le.call(u.fill,ze):le.call(Re)})}};function N(R,F){var H=F?"radial":"horizontal";return H+(R?"":"reversed")}function M(R){var F=R[0].trace,H=F.contours,j=g.hasLines(F),P=g.hasMarkers(F),ee=F.visible&&F.fill&&F.fill!=="none",J=!1,K=!1;if(H){var ae=H.coloring;ae==="lines"?J=!0:j=ae==="none"||ae==="heatmap"||H.showlines,H.type==="constraint"?ee=H._operation!=="=":(ae==="fill"||ae==="heatmap")&&(K=!0)}return{showMarker:P,showLine:j,showFill:ee,showGradientLine:J,showGradientFill:K,anyLine:j||J,anyFill:ee||K}}function k(R,F,H){return R&&l.isArrayOrTypedArray(R)?F:R>H?H:R}},2068:function(L,A,s){s(3348),L.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},6023:function(L,A,s){var m=s(3972),h=s(4875),l=s(1675),c=s(4255),i=s(4031).eraseActiveShape,u=s(1828),d=u._,g=L.exports={};g.toImage={name:"toImage",title:function(R){var F=R._context.toImageButtonOptions||{},H=F.format||"png";return H==="png"?d(R,"Download plot as a png"):d(R,"Download plot")},icon:c.camera,click:function(R){var F=R._context.toImageButtonOptions,H={format:F.format||"png"};u.notifier(d(R,"Taking snapshot - this may take a few seconds"),"long"),H.format!=="svg"&&u.isIE()&&(u.notifier(d(R,"IE only supports svg.  Changing format to svg."),"long"),H.format="svg"),["filename","width","height","scale"].forEach(function(j){j in F&&(H[j]=F[j])}),m.call("downloadImage",R,H).then(function(j){u.notifier(d(R,"Snapshot succeeded")+" - "+j,"long")}).catch(function(){u.notifier(d(R,"Sorry, there was a problem downloading your snapshot!"),"long")})}},g.sendDataToCloud={name:"sendDataToCloud",title:function(R){return d(R,"Edit in Chart Studio")},icon:c.disk,click:function(R){h.sendDataToCloud(R)}},g.editInChartStudio={name:"editInChartStudio",title:function(R){return d(R,"Edit in Chart Studio")},icon:c.pencil,click:function(R){h.sendDataToCloud(R)}},g.zoom2d={name:"zoom2d",_cat:"zoom",title:function(R){return d(R,"Zoom")},attr:"dragmode",val:"zoom",icon:c.zoombox,click:v},g.pan2d={name:"pan2d",_cat:"pan",title:function(R){return d(R,"Pan")},attr:"dragmode",val:"pan",icon:c.pan,click:v},g.select2d={name:"select2d",_cat:"select",title:function(R){return d(R,"Box Select")},attr:"dragmode",val:"select",icon:c.selectbox,click:v},g.lasso2d={name:"lasso2d",_cat:"lasso",title:function(R){return d(R,"Lasso Select")},attr:"dragmode",val:"lasso",icon:c.lasso,click:v},g.drawclosedpath={name:"drawclosedpath",title:function(R){return d(R,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:c.drawclosedpath,click:v},g.drawopenpath={name:"drawopenpath",title:function(R){return d(R,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:c.drawopenpath,click:v},g.drawline={name:"drawline",title:function(R){return d(R,"Draw line")},attr:"dragmode",val:"drawline",icon:c.drawline,click:v},g.drawrect={name:"drawrect",title:function(R){return d(R,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:c.drawrect,click:v},g.drawcircle={name:"drawcircle",title:function(R){return d(R,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:c.drawcircle,click:v},g.eraseshape={name:"eraseshape",title:function(R){return d(R,"Erase active shape")},icon:c.eraseshape,click:i},g.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(R){return d(R,"Zoom in")},attr:"zoom",val:"in",icon:c.zoom_plus,click:v},g.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(R){return d(R,"Zoom out")},attr:"zoom",val:"out",icon:c.zoom_minus,click:v},g.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(R){return d(R,"Autoscale")},attr:"zoom",val:"auto",icon:c.autoscale,click:v},g.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(R){return d(R,"Reset axes")},attr:"zoom",val:"reset",icon:c.home,click:v},g.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(R){return d(R,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:c.tooltip_basic,gravity:"ne",click:v},g.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(R){return d(R,"Compare data on hover")},attr:"hovermode",val:function(R){return R._fullLayout._isHoriz?"y":"x"},icon:c.tooltip_compare,gravity:"ne",click:v};function v(R,F){var H=F.currentTarget,j=H.getAttribute("data-attr"),P=H.getAttribute("data-val")||!0,ee=R._fullLayout,J={},K=l.list(R,null,!0),ae=ee._cartesianSpikesEnabled,Q,he;if(j==="zoom"){var ge=P==="in"?.5:2,Se=(1+ge)/2,ce=(1-ge)/2,ne;for(he=0;he<K.length;he++)if(Q=K[he],!Q.fixedrange)if(ne=Q._name,P==="auto")J[ne+".autorange"]=!0;else if(P==="reset")Q._rangeInitial0===void 0&&Q._rangeInitial1===void 0?J[ne+".autorange"]=!0:Q._rangeInitial0===void 0?(J[ne+".autorange"]=Q._autorangeInitial,J[ne+".range"]=[null,Q._rangeInitial1]):Q._rangeInitial1===void 0?(J[ne+".range"]=[Q._rangeInitial0,null],J[ne+".autorange"]=Q._autorangeInitial):J[ne+".range"]=[Q._rangeInitial0,Q._rangeInitial1],Q._showSpikeInitial!==void 0&&(J[ne+".showspikes"]=Q._showSpikeInitial,ae==="on"&&!Q._showSpikeInitial&&(ae="off"));else{var fe=[Q.r2l(Q.range[0]),Q.r2l(Q.range[1])],X=[Se*fe[0]+ce*fe[1],Se*fe[1]+ce*fe[0]];J[ne+".range[0]"]=Q.l2r(X[0]),J[ne+".range[1]"]=Q.l2r(X[1])}}else j==="hovermode"&&(P==="x"||P==="y")&&(P=ee._isHoriz?"y":"x",H.setAttribute("data-val",P)),J[j]=P;ee._cartesianSpikesEnabled=ae,m.call("_guiRelayout",R,J)}g.zoom3d={name:"zoom3d",_cat:"zoom",title:function(R){return d(R,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:c.zoombox,click:x},g.pan3d={name:"pan3d",_cat:"pan",title:function(R){return d(R,"Pan")},attr:"scene.dragmode",val:"pan",icon:c.pan,click:x},g.orbitRotation={name:"orbitRotation",title:function(R){return d(R,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:c["3d_rotate"],click:x},g.tableRotation={name:"tableRotation",title:function(R){return d(R,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:c["z-axis"],click:x};function x(R,F){for(var H=F.currentTarget,j=H.getAttribute("data-attr"),P=H.getAttribute("data-val")||!0,ee=R._fullLayout._subplots.gl3d||[],J={},K=j.split("."),ae=0;ae<ee.length;ae++)J[ee[ae]+"."+K[1]]=P;var Q=P==="pan"?P:"zoom";J.dragmode=Q,m.call("_guiRelayout",R,J)}g.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(R){return d(R,"Reset camera to default")},attr:"resetDefault",icon:c.home,click:C},g.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(R){return d(R,"Reset camera to last save")},attr:"resetLastSave",icon:c.movie,click:C};function C(R,F){for(var H=F.currentTarget,j=H.getAttribute("data-attr"),P=j==="resetLastSave",ee=j==="resetDefault",J=R._fullLayout,K=J._subplots.gl3d||[],ae={},Q=0;Q<K.length;Q++){var he=K[Q],ge=he+".camera",Se=he+".aspectratio",ce=he+".aspectmode",ne=J[he]._scene,fe;P?(ae[ge+".up"]=ne.viewInitial.up,ae[ge+".eye"]=ne.viewInitial.eye,ae[ge+".center"]=ne.viewInitial.center,fe=!0):ee&&(ae[ge+".up"]=null,ae[ge+".eye"]=null,ae[ge+".center"]=null,fe=!0),fe&&(ae[Se+".x"]=ne.viewInitial.aspectratio.x,ae[Se+".y"]=ne.viewInitial.aspectratio.y,ae[Se+".z"]=ne.viewInitial.aspectratio.z,ae[ce]=ne.viewInitial.aspectmode)}m.call("_guiRelayout",R,ae)}g.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(R){return d(R,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:c.tooltip_basic,gravity:"ne",click:$};function _(R,F){var H=F.currentTarget,j=H._previousVal,P=R._fullLayout,ee=P._subplots.gl3d||[],J=["xaxis","yaxis","zaxis"],K={},ae={};if(j)ae=j,H._previousVal=null;else{for(var Q=0;Q<ee.length;Q++){var he=ee[Q],ge=P[he],Se=he+".hovermode";K[Se]=ge.hovermode,ae[Se]=!1;for(var ce=0;ce<3;ce++){var ne=J[ce],fe=he+"."+ne+".showspikes";ae[fe]=!1,K[fe]=ge[ne].showspikes}}H._previousVal=K}return ae}function $(R,F){var H=_(R,F);m.call("_guiRelayout",R,H)}g.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(R){return d(R,"Zoom in")},attr:"zoom",val:"in",icon:c.zoom_plus,click:S},g.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(R){return d(R,"Zoom out")},attr:"zoom",val:"out",icon:c.zoom_minus,click:S},g.resetGeo={name:"resetGeo",_cat:"reset",title:function(R){return d(R,"Reset")},attr:"reset",val:null,icon:c.autoscale,click:S},g.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(R){return d(R,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:c.tooltip_basic,gravity:"ne",click:D};function S(R,F){for(var H=F.currentTarget,j=H.getAttribute("data-attr"),P=H.getAttribute("data-val")||!0,ee=R._fullLayout,J=ee._subplots.geo||[],K=0;K<J.length;K++){var ae=J[K],Q=ee[ae];if(j==="zoom"){var he=Q.projection.scale,ge=P==="in"?2*he:.5*he;m.call("_guiRelayout",R,ae+".projection.scale",ge)}}j==="reset"&&k(R,"geo")}g.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(R){return d(R,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:c.tooltip_basic,gravity:"ne",click:D},g.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(R){return d(R,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:c.tooltip_basic,gravity:"ne",click:D};function O(R){var F=R._fullLayout;return F.hovermode?!1:F._has("cartesian")?F._isHoriz?"y":"x":"closest"}function D(R){var F=O(R);m.call("_guiRelayout",R,"hovermode",F)}g.resetViewSankey={name:"resetSankeyGroup",title:function(R){return d(R,"Reset view")},icon:c.home,click:function(R){for(var F={"node.groups":[],"node.x":[],"node.y":[]},H=0;H<R._fullData.length;H++){var j=R._fullData[H]._viewInitial;F["node.groups"].push(j.node.groups.slice()),F["node.x"].push(j.node.x.slice()),F["node.y"].push(j.node.y.slice())}m.call("restyle",R,F)}},g.toggleHover={name:"toggleHover",title:function(R){return d(R,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:c.tooltip_basic,gravity:"ne",click:function(R,F){var H=_(R,F);H.hovermode=O(R),m.call("_guiRelayout",R,H)}},g.resetViews={name:"resetViews",title:function(R){return d(R,"Reset views")},icon:c.home,click:function(R,F){var H=F.currentTarget;H.setAttribute("data-attr","zoom"),H.setAttribute("data-val","reset"),v(R,F),H.setAttribute("data-attr","resetLastSave"),C(R,F),k(R,"geo"),k(R,"mapbox")}},g.toggleSpikelines={name:"toggleSpikelines",title:function(R){return d(R,"Toggle Spike Lines")},icon:c.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(R){var F=R._fullLayout,H=F._cartesianSpikesEnabled;F._cartesianSpikesEnabled=H==="on"?"off":"on",m.call("_guiRelayout",R,N(R))}};function N(R){for(var F=R._fullLayout,H=F._cartesianSpikesEnabled==="on",j=l.list(R,null,!0),P={},ee=0;ee<j.length;ee++){var J=j[ee];P[J._name+".showspikes"]=H?!0:J._showSpikeInitial}return P}g.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(R){return d(R,"Reset view")},attr:"reset",icon:c.home,click:function(R){k(R,"mapbox")}},g.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(R){return d(R,"Zoom in")},attr:"zoom",val:"in",icon:c.zoom_plus,click:M},g.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(R){return d(R,"Zoom out")},attr:"zoom",val:"out",icon:c.zoom_minus,click:M};function M(R,F){for(var H=F.currentTarget,j=H.getAttribute("data-val"),P=R._fullLayout,ee=P._subplots.mapbox||[],J=1.05,K={},ae=0;ae<ee.length;ae++){var Q=ee[ae],he=P[Q].zoom,ge=j==="in"?J*he:he/J;K[Q+".zoom"]=ge}m.call("_guiRelayout",R,K)}function k(R,F){for(var H=R._fullLayout,j=H._subplots[F]||[],P={},ee=0;ee<j.length;ee++)for(var J=j[ee],K=H[J]._subplot,ae=K.viewInitial,Q=Object.keys(ae),he=0;he<Q.length;he++){var ge=Q[he];P[J+"."+ge]=ae[ge]}m.call("_guiRelayout",R,P)}},3348:function(L,A,s){var m=s(6023),h=Object.keys(m),l=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],c=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(l),i=[],u=function(d){if(c.indexOf(d._cat||d.name)===-1){var g=d.name,v=(d._cat||d.name).toLowerCase();i.indexOf(g)===-1&&i.push(g),i.indexOf(v)===-1&&i.push(v)}};h.forEach(function(d){u(m[d])}),i.sort(),L.exports={DRAW_MODES:l,backButtons:c,foreButtons:i}},5750:function(L,A,s){var m=s(1828),h=s(7901),l=s(4467),c=s(2068);L.exports=function(u,d){var g=u.modebar||{},v=l.newContainer(d,"modebar");function x(_,$){return m.coerce(g,v,c,_,$)}x("orientation"),x("bgcolor",h.addOpacity(d.paper_bgcolor,.5));var C=h.contrast(h.rgb(d.modebar.bgcolor));x("color",h.addOpacity(C,.3)),x("activecolor",h.addOpacity(C,.7)),x("uirevision",d.uirevision),x("add"),x("remove")}},4168:function(L,A,s){L.exports={moduleType:"component",name:"modebar",layoutAttributes:s(2068),supplyLayoutDefaults:s(5750),manage:s(4192)}},4192:function(L,A,s){var m=s(1675),h=s(4098),l=s(3972),c=s(3469).isUnifiedHover,i=s(7676),u=s(6023),d=s(3348).DRAW_MODES,g=s(1828).extendDeep;L.exports=function(D){var N=D._fullLayout,M=D._context,k=N._modeBar;if(!M.displayModeBar&&!M.watermark){k&&(k.destroy(),delete N._modeBar);return}if(!Array.isArray(M.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(M.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var R=M.modeBarButtons,F;Array.isArray(R)&&R.length?F=S(R):!M.displayModeBar&&M.watermark?F=[]:F=v(D),k?k.update(D,F):N._modeBar=i(D,F)};function v(O){var D=O._fullLayout,N=O._fullData,M=O._context;function k(pe,le){if(typeof le=="string"){if(le.toLowerCase()===pe.toLowerCase())return!0}else{var Te=le.name,de=le._cat||le.name;if(Te===pe||de===pe.toLowerCase())return!0}return!1}var R=D.modebar.add;typeof R=="string"&&(R=[R]);var F=D.modebar.remove;typeof F=="string"&&(F=[F]);var H=M.modeBarButtonsToAdd.concat(R.filter(function(pe){for(var le=0;le<M.modeBarButtonsToRemove.length;le++)if(k(pe,M.modeBarButtonsToRemove[le]))return!1;return!0})),j=M.modeBarButtonsToRemove.concat(F.filter(function(pe){for(var le=0;le<M.modeBarButtonsToAdd.length;le++)if(k(pe,M.modeBarButtonsToAdd[le]))return!1;return!0})),P=D._has("cartesian"),ee=D._has("gl3d"),J=D._has("geo"),K=D._has("pie"),ae=D._has("funnelarea"),Q=D._has("gl2d"),he=D._has("ternary"),ge=D._has("mapbox"),Se=D._has("polar"),ce=D._has("smith"),ne=D._has("sankey"),fe=x(D),X=c(D.hovermode),ye=[];function Ce(pe){if(pe.length){for(var le=[],Te=0;Te<pe.length;Te++){for(var de=pe[Te],Me=u[de],Re=Me.name.toLowerCase(),ze=(Me._cat||Me.name).toLowerCase(),We=!1,ot=0;ot<j.length;ot++){var dt=j[ot].toLowerCase();if(dt===Re||dt===ze){We=!0;break}}We||le.push(u[de])}ye.push(le)}}var $e=["toImage"];M.showEditInChartStudio?$e.push("editInChartStudio"):M.showSendToCloud&&$e.push("sendDataToCloud"),Ce($e);var ke=[],Ne=[],Ve=[],Oe=[];(P||Q||K||ae||he)+J+ee+ge+Se+ce>1?(Ne=["toggleHover"],Ve=["resetViews"]):J?(ke=["zoomInGeo","zoomOutGeo"],Ne=["hoverClosestGeo"],Ve=["resetGeo"]):ee?(Ne=["hoverClosest3d"],Ve=["resetCameraDefault3d","resetCameraLastSave3d"]):ge?(ke=["zoomInMapbox","zoomOutMapbox"],Ne=["toggleHover"],Ve=["resetViewMapbox"]):Q?Ne=["hoverClosestGl2d"]:K?Ne=["hoverClosestPie"]:ne?(Ne=["hoverClosestCartesian","hoverCompareCartesian"],Ve=["resetViewSankey"]):Ne=["toggleHover"],P&&(Ne=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(_(N)||X)&&(Ne=[]),(P||Q)&&!fe&&(ke=["zoomIn2d","zoomOut2d","autoScale2d"],Ve[0]!=="resetViews"&&(Ve=["resetScale2d"])),ee?Oe=["zoom3d","pan3d","orbitRotation","tableRotation"]:(P||Q)&&!fe||he?Oe=["zoom2d","pan2d"]:ge||J?Oe=["pan2d"]:Se&&(Oe=["zoom2d"]),C(N)&&Oe.push("select2d","lasso2d");var Fe=[],ie=function(pe){Fe.indexOf(pe)===-1&&Ne.indexOf(pe)!==-1&&Fe.push(pe)};if(Array.isArray(H)){for(var we=[],se=0;se<H.length;se++){var ue=H[se];typeof ue=="string"?(ue=ue.toLowerCase(),d.indexOf(ue)!==-1?(D._has("mapbox")||D._has("cartesian"))&&Oe.push(ue):ue==="togglespikelines"?ie("toggleSpikelines"):ue==="togglehover"?ie("toggleHover"):ue==="hovercompare"?ie("hoverCompareCartesian"):ue==="hoverclosest"?(ie("hoverClosestCartesian"),ie("hoverClosestGeo"),ie("hoverClosest3d"),ie("hoverClosestGl2d"),ie("hoverClosestPie")):ue==="v1hovermode"&&(ie("toggleHover"),ie("hoverClosestCartesian"),ie("hoverCompareCartesian"),ie("hoverClosestGeo"),ie("hoverClosest3d"),ie("hoverClosestGl2d"),ie("hoverClosestPie"))):we.push(ue)}H=we}return Ce(Oe),Ce(ke.concat(Ve)),Ce(Fe),$(ye,H)}function x(O){for(var D=m.list({_fullLayout:O},null,!0),N=0;N<D.length;N++)if(!D[N].fixedrange)return!1;return!0}function C(O){for(var D=!1,N=0;N<O.length&&!D;N++){var M=O[N];!M._module||!M._module.selectPoints||(l.traceIs(M,"scatter-like")?(h.hasMarkers(M)||h.hasText(M))&&(D=!0):l.traceIs(M,"box-violin")?(M.boxpoints==="all"||M.points==="all")&&(D=!0):D=!0)}return D}function _(O){for(var D=0;D<O.length;D++)if(!l.traceIs(O[D],"noHover"))return!1;return!0}function $(O,D){if(D.length)if(Array.isArray(D[0]))for(var N=0;N<D.length;N++)O.push(D[N]);else O.push(D);return O}function S(O){for(var D=g([],O),N=0;N<D.length;N++)for(var M=D[N],k=0;k<M.length;k++){var R=M[k];if(typeof R=="string")if(u[R]!==void 0)D[N][k]=u[R];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return D}},7676:function(L,A,s){var m=s(9898),h=s(2770),l=s(1828),c=s(4255),i=s(1506).version,u=new DOMParser;function d(C){this.container=C.container,this.element=document.createElement("div"),this.update(C.graphInfo,C.buttons),this.container.appendChild(this.element)}var g=d.prototype;g.update=function(C,_){this.graphInfo=C;var $=this.graphInfo._context,S=this.graphInfo._fullLayout,O="modebar-"+S._uid;this.element.setAttribute("id",O),this._uid=O,this.element.className="modebar",$.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),S.modebar.orientation==="v"&&(this.element.className+=" vertical",_=_.reverse());var D=S.modebar,N=$.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";l.deleteRelatedStyleRule(O),l.addRelatedStyleRule(O,N+"#"+O+" .modebar-group","background-color: "+D.bgcolor),l.addRelatedStyleRule(O,"#"+O+" .modebar-btn .icon path","fill: "+D.color),l.addRelatedStyleRule(O,"#"+O+" .modebar-btn:hover .icon path","fill: "+D.activecolor),l.addRelatedStyleRule(O,"#"+O+" .modebar-btn.active .icon path","fill: "+D.activecolor);var M=!this.hasButtons(_),k=this.hasLogo!==$.displaylogo,R=this.locale!==$.locale;if(this.locale=$.locale,(M||k||R)&&(this.removeAllButtons(),this.updateButtons(_),$.watermark||$.displaylogo)){var F=this.getLogo();$.watermark&&(F.className=F.className+" watermark"),S.modebar.orientation==="v"?this.element.insertBefore(F,this.element.childNodes[0]):this.element.appendChild(F),this.hasLogo=!0}this.updateActiveButton()},g.updateButtons=function(C){var _=this;this.buttons=C,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function($){var S=_.createGroup();$.forEach(function(O){var D=O.name;if(!D)throw new Error("must provide button 'name' in button config");if(_.buttonsNames.indexOf(D)!==-1)throw new Error("button name '"+D+"' is taken");_.buttonsNames.push(D);var N=_.createButton(O);_.buttonElements.push(N),S.appendChild(N)}),_.element.appendChild(S)})},g.createGroup=function(){var C=document.createElement("div");return C.className="modebar-group",C},g.createButton=function(C){var _=this,$=document.createElement("a");$.setAttribute("rel","tooltip"),$.className="modebar-btn";var S=C.title;S===void 0?S=C.name:typeof S=="function"&&(S=S(this.graphInfo)),(S||S===0)&&$.setAttribute("data-title",S),C.attr!==void 0&&$.setAttribute("data-attr",C.attr);var O=C.val;O!==void 0&&(typeof O=="function"&&(O=O(this.graphInfo)),$.setAttribute("data-val",O));var D=C.click;if(typeof D!="function")throw new Error("must provide button 'click' function in button config");$.addEventListener("click",function(M){C.click(_.graphInfo,M),_.updateActiveButton(M.currentTarget)}),$.setAttribute("data-toggle",C.toggle||!1),C.toggle&&m.select($).classed("active",!0);var N=C.icon;return typeof N=="function"?$.appendChild(N()):$.appendChild(this.createIcon(N||c.question)),$.setAttribute("data-gravity",C.gravity||"n"),$},g.createIcon=function(C){var _=h(C.height)?Number(C.height):C.ascent-C.descent,$="http://www.w3.org/2000/svg",S;if(C.path){S=document.createElementNS($,"svg"),S.setAttribute("viewBox",[0,0,C.width,_].join(" ")),S.setAttribute("class","icon");var O=document.createElementNS($,"path");O.setAttribute("d",C.path),C.transform?O.setAttribute("transform",C.transform):C.ascent!==void 0&&O.setAttribute("transform","matrix(1 0 0 -1 0 "+C.ascent+")"),S.appendChild(O)}if(C.svg){var D=u.parseFromString(C.svg,"application/xml");S=D.childNodes[0]}return S.setAttribute("height","1em"),S.setAttribute("width","1em"),S},g.updateActiveButton=function(C){var _=this.graphInfo._fullLayout,$=C!==void 0?C.getAttribute("data-attr"):null;this.buttonElements.forEach(function(S){var O=S.getAttribute("data-val")||!0,D=S.getAttribute("data-attr"),N=S.getAttribute("data-toggle")==="true",M=m.select(S);if(N)D===$&&M.classed("active",!M.classed("active"));else{var k=D===null?D:l.nestedProperty(_,D).get();M.classed("active",k===O)}})},g.hasButtons=function(C){var _=this.buttons;if(!_||C.length!==_.length)return!1;for(var $=0;$<C.length;++$){if(C[$].length!==_[$].length)return!1;for(var S=0;S<C[$].length;S++)if(C[$][S].name!==_[$][S].name)return!1}return!0};function v(C){return C+" (v"+i+")"}g.getLogo=function(){var C=this.createGroup(),_=document.createElement("a");return _.href="https://plotly.com/",_.target="_blank",_.setAttribute("data-title",v(l._(this.graphInfo,"Produced with Plotly.js"))),_.className="modebar-btn plotlyjsicon modebar-btn--logo",_.appendChild(this.createIcon(c.newplotlylogo)),C.appendChild(_),C},g.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},g.destroy=function(){l.removeElement(this.container.querySelector(".modebar")),l.deleteRelatedStyleRule(this._uid)};function x(C,_){var $=C._fullLayout,S=new d({graphInfo:C,container:$._modebardiv.node(),buttons:_});return $._privateplot&&m.select(S.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),S}L.exports=x},7113:function(L,A,s){var m=s(1940),h=s(2399),l=s(4467).templatedArray,c=l("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});L.exports={visible:{valType:"boolean",editType:"plot"},buttons:c,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:m({editType:"plot"}),bgcolor:{valType:"color",dflt:h.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:h.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},9573:function(L){L.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},8674:function(L,A,s){var m=s(1828),h=s(7901),l=s(4467),c=s(5501),i=s(7113),u=s(9573);L.exports=function(x,C,_,$,S){var O=x.rangeselector||{},D=l.newContainer(C,"rangeselector");function N(H,j){return m.coerce(O,D,i,H,j)}var M=c(O,D,{name:"buttons",handleItemDefaults:d,calendar:S}),k=N("visible",M.length>0);if(k){var R=g(C,_,$);N("x",R[0]),N("y",R[1]),m.noneOrAll(x,C,["x","y"]),N("xanchor"),N("yanchor"),m.coerceFont(N,"font",_.font);var F=N("bgcolor");N("activecolor",h.contrast(F,u.lightAmount,u.darkAmount)),N("bordercolor"),N("borderwidth")}};function d(v,x,C,_){var $=_.calendar;function S(N,M){return m.coerce(v,x,i.buttons,N,M)}var O=S("visible");if(O){var D=S("step");D!=="all"&&($&&$!=="gregorian"&&(D==="month"||D==="year")?x.stepmode="backward":S("stepmode"),S("count")),S("label")}}function g(v,x,C){for(var _=C.filter(function(D){return x[D].anchor===v._id}),$=0,S=0;S<_.length;S++){var O=x[_[S]].domain;O&&($=Math.max(O[1],$))}return[v.domain[0],$+u.yPad]}},1598:function(L,A,s){var m=s(9898),h=s(3972),l=s(4875),c=s(7901),i=s(1424),u=s(1828),d=u.strTranslate,g=s(3893),v=s(1675),x=s(8783),C=x.LINE_SPACING,_=x.FROM_TL,$=x.FROM_BR,S=s(9573),O=s(7917);L.exports=function(ee){var J=ee._fullLayout,K=J._infolayer.selectAll(".rangeselector").data(D(ee),N);K.enter().append("g").classed("rangeselector",!0),K.exit().remove(),K.style({cursor:"pointer","pointer-events":"all"}),K.each(function(ae){var Q=m.select(this),he=ae,ge=he.rangeselector,Se=Q.selectAll("g.button").data(u.filterVisible(ge.buttons));Se.enter().append("g").classed("button",!0),Se.exit().remove(),Se.each(function(ce){var ne=m.select(this),fe=O(he,ce);ce._isActive=M(he,ce,fe),ne.call(k,ge,ce),ne.call(F,ge,ce,ee),ne.on("click",function(){ee._dragged||h.call("_guiRelayout",ee,fe)}),ne.on("mouseover",function(){ce._isHovered=!0,ne.call(k,ge,ce)}),ne.on("mouseout",function(){ce._isHovered=!1,ne.call(k,ge,ce)})}),j(ee,Se,ge,he._name,Q)})};function D(P){for(var ee=v.list(P,"x",!0),J=[],K=0;K<ee.length;K++){var ae=ee[K];ae.rangeselector&&ae.rangeselector.visible&&J.push(ae)}return J}function N(P){return P._id}function M(P,ee,J){if(ee.step==="all")return P.autorange===!0;var K=Object.keys(J);return P.range[0]===J[K[0]]&&P.range[1]===J[K[1]]}function k(P,ee,J){var K=u.ensureSingle(P,"rect","selector-rect",function(ae){ae.attr("shape-rendering","crispEdges")});K.attr({rx:S.rx,ry:S.ry}),K.call(c.stroke,ee.bordercolor).call(c.fill,R(ee,J)).style("stroke-width",ee.borderwidth+"px")}function R(P,ee){return ee._isActive||ee._isHovered?P.activecolor:P.bgcolor}function F(P,ee,J,K){function ae(he){g.convertToTspans(he,K)}var Q=u.ensureSingle(P,"text","selector-text",function(he){he.attr("text-anchor","middle")});Q.call(i.font,ee.font).text(H(J,K._fullLayout._meta)).call(ae)}function H(P,ee){return P.label?ee?u.templateString(P.label,ee):P.label:P.step==="all"?"all":P.count+P.step.charAt(0)}function j(P,ee,J,K,ae){var Q=0,he=0,ge=J.borderwidth;ee.each(function(){var ye=m.select(this),Ce=ye.select(".selector-text"),$e=J.font.size*C,ke=Math.max($e*g.lineCount(Ce),16)+3;he=Math.max(he,ke)}),ee.each(function(){var ye=m.select(this),Ce=ye.select(".selector-rect"),$e=ye.select(".selector-text"),ke=$e.node()&&i.bBox($e.node()).width,Ne=J.font.size*C,Ve=g.lineCount($e),Oe=Math.max(ke+10,S.minButtonWidth);ye.attr("transform",d(ge+Q,ge)),Ce.attr({x:0,y:0,width:Oe,height:he}),g.positionText($e,Oe/2,he/2-(Ve-1)*Ne/2+3),Q+=Oe+5});var Se=P._fullLayout._size,ce=Se.l+Se.w*J.x,ne=Se.t+Se.h*(1-J.y),fe="left";u.isRightAnchor(J)&&(ce-=Q,fe="right"),u.isCenterAnchor(J)&&(ce-=Q/2,fe="center");var X="top";u.isBottomAnchor(J)&&(ne-=he,X="bottom"),u.isMiddleAnchor(J)&&(ne-=he/2,X="middle"),Q=Math.ceil(Q),he=Math.ceil(he),ce=Math.round(ce),ne=Math.round(ne),l.autoMargin(P,K+"-range-selector",{x:J.x,y:J.y,l:Q*_[fe],r:Q*$[fe],b:he*$[X],t:he*_[X]}),ae.attr("transform",d(ce,ne))}},7917:function(L,A,s){var m=s(1041),h=s(1828).titleCase;L.exports=function(i,u){var d=i._name,g={};if(u.step==="all")g[d+".autorange"]=!0;else{var v=l(i,u);g[d+".range[0]"]=v[0],g[d+".range[1]"]=v[1]}return g};function l(c,i){var u=c.range,d=new Date(c.r2l(u[1])),g=i.step,v=m["utc"+h(g)],x=i.count,C;switch(i.stepmode){case"backward":C=c.l2r(+v.offset(d,-x));break;case"todate":var _=v.offset(d,-x);C=c.l2r(+v.ceil(_));break}var $=u[1];return[C,$]}},7218:function(L,A,s){L.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:s(7113)}}},layoutAttributes:s(7113),handleDefaults:s(8674),draw:s(1598)}},5148:function(L,A,s){var m=s(2399);L.exports={bgcolor:{valType:"color",dflt:m.background,editType:"plot"},bordercolor:{valType:"color",dflt:m.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},8443:function(L,A,s){var m=s(1675).list,h=s(1739).getAutoRange,l=s(3251);L.exports=function(i){for(var u=m(i,"x",!0),d=0;d<u.length;d++){var g=u[d],v=g[l.name];v&&v.visible&&v.autorange&&(v._input.autorange=!0,v._input.range=v.range=h(i,g))}}},3251:function(L){L.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},6377:function(L,A,s){var m=s(1828),h=s(4467),l=s(1675),c=s(5148),i=s(7850);L.exports=function(d,g,v){var x=d[v],C=g[v];if(!(x.rangeslider||g._requestRangeslider[C._id]))return;m.isPlainObject(x.rangeslider)||(x.rangeslider={});var _=x.rangeslider,$=h.newContainer(C,"rangeslider");function S(K,ae){return m.coerce(_,$,c,K,ae)}var O,D;function N(K,ae){return m.coerce(O,D,i,K,ae)}var M=S("visible");if(M){S("bgcolor",g.plot_bgcolor),S("bordercolor"),S("borderwidth"),S("thickness"),S("autorange",!C.isValidRange(_.range)),S("range");var k=g._subplots;if(k)for(var R=k.cartesian.filter(function(K){return K.substr(0,K.indexOf("y"))===l.name2id(v)}).map(function(K){return K.substr(K.indexOf("y"),K.length)}),F=m.simpleMap(R,l.id2name),H=0;H<F.length;H++){var j=F[H];O=_[j]||{},D=h.newContainer($,j,"yaxis");var P=g[j],ee;O.range&&P.isValidRange(O.range)&&(ee="fixed");var J=N("rangemode",ee);J!=="match"&&N("range",P.range.slice())}$._input=_}}},2413:function(L,A,s){var m=s(9898),h=s(3972),l=s(4875),c=s(1828),i=c.strTranslate,u=s(1424),d=s(7901),g=s(2998),v=s(3612),x=s(1675),C=s(8569),_=s(6964),$=s(3251);L.exports=function(P){for(var ee=P._fullLayout,J=ee._rangeSliderData,K=0;K<J.length;K++){var ae=J[K][$.name];ae._clipId=ae._id+"-"+ee._uid}function Q(ge){return ge._name}var he=ee._infolayer.selectAll("g."+$.containerClassName).data(J,Q);he.exit().each(function(ge){var Se=ge[$.name];ee._topdefs.select("#"+Se._clipId).remove()}).remove(),J.length!==0&&(he.enter().append("g").classed($.containerClassName,!0).attr("pointer-events","all"),he.each(function(ge){var Se=m.select(this),ce=ge[$.name],ne=ee[x.id2name(ge.anchor)],fe=ce[x.id2name(ge.anchor)];if(ce.range){var X=c.simpleMap(ce.range,ge.r2l),ye=c.simpleMap(ge.range,ge.r2l),Ce;ye[0]<ye[1]?Ce=[Math.min(X[0],ye[0]),Math.max(X[1],ye[1])]:Ce=[Math.max(X[0],ye[0]),Math.min(X[1],ye[1])],ce.range=ce._input.range=c.simpleMap(Ce,ge.l2r)}ge.cleanRange("rangeslider.range");var $e=ee._size,ke=ge.domain;ce._width=$e.w*(ke[1]-ke[0]);var Ne=Math.round($e.l+$e.w*ke[0]),Ve=Math.round($e.t+$e.h*(1-ge._counterDomainMin)+(ge.side==="bottom"?ge._depth:0)+ce._offsetShift+$.extraPad);Se.attr("transform",i(Ne,Ve)),ce._rl=c.simpleMap(ce.range,ge.r2l);var Oe=ce._rl[0],Fe=ce._rl[1],ie=Fe-Oe;if(ce.p2d=function(ze){return ze/ce._width*ie+Oe},ce.d2p=function(ze){return(ze-Oe)/ie*ce._width},ge.rangebreaks){var we=ge.locateBreaks(Oe,Fe);if(we.length){var se,ue,pe=0;for(se=0;se<we.length;se++)ue=we[se],pe+=ue.max-ue.min;var le=ce._width/(Fe-Oe-pe),Te=[-le*Oe];for(se=0;se<we.length;se++)ue=we[se],Te.push(Te[Te.length-1]-le*(ue.max-ue.min));for(ce.d2p=function(ze){for(var We=Te[0],ot=0;ot<we.length;ot++){var dt=we[ot];if(ze>=dt.max)We=Te[ot+1];else if(ze<dt.min)break}return We+le*ze},se=0;se<we.length;se++)ue=we[se],ue.pmin=ce.d2p(ue.min),ue.pmax=ce.d2p(ue.max);ce.p2d=function(ze){for(var We=Te[0],ot=0;ot<we.length;ot++){var dt=we[ot];if(ze>=dt.pmax)We=Te[ot+1];else if(ze<dt.pmin)break}return(ze-We)/le}}}if(fe.rangemode!=="match"){var de=ne.r2l(fe.range[0]),Me=ne.r2l(fe.range[1]),Re=Me-de;ce.d2pOppAxis=function(ze){return(ze-de)/Re*ce._height}}Se.call(N,P,ge,ce).call(M,P,ge,ce).call(k,P,ge,ce).call(F,P,ge,ce,fe).call(H,P,ge,ce).call(j,P,ge,ce),S(Se,P,ge,ce),D(Se,P,ge,ce,ne,fe),ge.side==="bottom"&&g.draw(P,ge._id+"title",{propContainer:ge,propName:ge._name+".title",placeholder:ee._dfltTitle.x,attributes:{x:ge._offset+ge._length/2,y:Ve+ce._height+ce._offsetShift+10+1.5*ge.title.font.size,"text-anchor":"middle"}})}))};function S(P,ee,J,K){if(ee._context.staticPlot)return;var ae=P.select("rect."+$.slideBoxClassName).node(),Q=P.select("rect."+$.grabAreaMinClassName).node(),he=P.select("rect."+$.grabAreaMaxClassName).node();function ge(){var Se=m.event,ce=Se.target,ne=Se.clientX||Se.touches[0].clientX,fe=ne-P.node().getBoundingClientRect().left,X=K.d2p(J._rl[0]),ye=K.d2p(J._rl[1]),Ce=C.coverSlip();this.addEventListener("touchmove",$e),this.addEventListener("touchend",ke),Ce.addEventListener("mousemove",$e),Ce.addEventListener("mouseup",ke);function $e(Ne){var Ve=Ne.clientX||Ne.touches[0].clientX,Oe=+Ve-ne,Fe,ie,we;switch(ce){case ae:if(we="ew-resize",X+Oe>J._length||ye+Oe<0)return;Fe=X+Oe,ie=ye+Oe;break;case Q:if(we="col-resize",X+Oe>J._length)return;Fe=X+Oe,ie=ye;break;case he:if(we="col-resize",ye+Oe<0)return;Fe=X,ie=ye+Oe;break;default:we="ew-resize",Fe=fe,ie=fe+Oe;break}if(ie<Fe){var se=ie;ie=Fe,Fe=se}K._pixelMin=Fe,K._pixelMax=ie,_(m.select(Ce),we),O(P,ee,J,K)}function ke(){Ce.removeEventListener("mousemove",$e),Ce.removeEventListener("mouseup",ke),this.removeEventListener("touchmove",$e),this.removeEventListener("touchend",ke),c.removeElement(Ce)}}P.on("mousedown",ge),P.on("touchstart",ge)}function O(P,ee,J,K){function ae(ge){return J.l2r(c.constrain(ge,K._rl[0],K._rl[1]))}var Q=ae(K.p2d(K._pixelMin)),he=ae(K.p2d(K._pixelMax));window.requestAnimationFrame(function(){h.call("_guiRelayout",ee,J._name+".range",[Q,he])})}function D(P,ee,J,K,ae,Q){var he=$.handleWidth/2;function ge(Ne){return c.constrain(Ne,0,K._width)}function Se(Ne){return c.constrain(Ne,0,K._height)}function ce(Ne){return c.constrain(Ne,-he,K._width+he)}var ne=ge(K.d2p(J._rl[0])),fe=ge(K.d2p(J._rl[1]));if(P.select("rect."+$.slideBoxClassName).attr("x",ne).attr("width",fe-ne),P.select("rect."+$.maskMinClassName).attr("width",ne),P.select("rect."+$.maskMaxClassName).attr("x",fe).attr("width",K._width-fe),Q.rangemode!=="match"){var X=K._height-Se(K.d2pOppAxis(ae._rl[1])),ye=K._height-Se(K.d2pOppAxis(ae._rl[0]));P.select("rect."+$.maskMinOppAxisClassName).attr("x",ne).attr("height",X).attr("width",fe-ne),P.select("rect."+$.maskMaxOppAxisClassName).attr("x",ne).attr("y",ye).attr("height",K._height-ye).attr("width",fe-ne),P.select("rect."+$.slideBoxClassName).attr("y",X).attr("height",ye-X)}var Ce=.5,$e=Math.round(ce(ne-he))-Ce,ke=Math.round(ce(fe-he))+Ce;P.select("g."+$.grabberMinClassName).attr("transform",i($e,Ce)),P.select("g."+$.grabberMaxClassName).attr("transform",i(ke,Ce))}function N(P,ee,J,K){var ae=c.ensureSingle(P,"rect",$.bgClassName,function(Se){Se.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),Q=K.borderwidth%2===0?K.borderwidth:K.borderwidth-1,he=-K._offsetShift,ge=u.crispRound(ee,K.borderwidth);ae.attr({width:K._width+Q,height:K._height+Q,transform:i(he,he),"stroke-width":ge}).call(d.stroke,K.bordercolor).call(d.fill,K.bgcolor)}function M(P,ee,J,K){var ae=ee._fullLayout,Q=c.ensureSingleById(ae._topdefs,"clipPath",K._clipId,function(he){he.append("rect").attr({x:0,y:0})});Q.select("rect").attr({width:K._width,height:K._height})}function k(P,ee,J,K){var ae=ee.calcdata,Q=P.selectAll("g."+$.rangePlotClassName).data(J._subplotsWith,c.identity);Q.enter().append("g").attr("class",function(ge){return $.rangePlotClassName+" "+ge}).call(u.setClipUrl,K._clipId,ee),Q.order(),Q.exit().remove();var he;Q.each(function(ge,Se){var ce=m.select(this),ne=Se===0,fe=x.getFromId(ee,ge,"y"),X=fe._name,ye=K[X],Ce={data:[],layout:{xaxis:{type:J.type,domain:[0,1],range:K.range.slice(),calendar:J.calendar},width:K._width,height:K._height,margin:{t:0,b:0,l:0,r:0}},_context:ee._context};J.rangebreaks&&(Ce.layout.xaxis.rangebreaks=J.rangebreaks),Ce.layout[X]={type:fe.type,domain:[0,1],range:ye.rangemode!=="match"?ye.range.slice():fe.range.slice(),calendar:fe.calendar},fe.rangebreaks&&(Ce.layout[X].rangebreaks=fe.rangebreaks),l.supplyDefaults(Ce);var $e=Ce._fullLayout.xaxis,ke=Ce._fullLayout[X];$e.clearCalc(),$e.setScale(),ke.clearCalc(),ke.setScale();var Ne={id:ge,plotgroup:ce,xaxis:$e,yaxis:ke,isRangePlot:!0};ne?he=Ne:(Ne.mainplot="xy",Ne.mainplotinfo=he),v.rangePlot(ee,Ne,R(ae,ge))})}function R(P,ee){for(var J=[],K=0;K<P.length;K++){var ae=P[K],Q=ae[0].trace;Q.xaxis+Q.yaxis===ee&&J.push(ae)}return J}function F(P,ee,J,K,ae){var Q=c.ensureSingle(P,"rect",$.maskMinClassName,function(ce){ce.attr({x:0,y:0,"shape-rendering":"crispEdges"})});Q.attr("height",K._height).call(d.fill,$.maskColor);var he=c.ensureSingle(P,"rect",$.maskMaxClassName,function(ce){ce.attr({y:0,"shape-rendering":"crispEdges"})});if(he.attr("height",K._height).call(d.fill,$.maskColor),ae.rangemode!=="match"){var ge=c.ensureSingle(P,"rect",$.maskMinOppAxisClassName,function(ce){ce.attr({y:0,"shape-rendering":"crispEdges"})});ge.attr("width",K._width).call(d.fill,$.maskOppAxisColor);var Se=c.ensureSingle(P,"rect",$.maskMaxOppAxisClassName,function(ce){ce.attr({y:0,"shape-rendering":"crispEdges"})});Se.attr("width",K._width).style("border-top",$.maskOppBorder).call(d.fill,$.maskOppAxisColor)}}function H(P,ee,J,K){if(!ee._context.staticPlot){var ae=c.ensureSingle(P,"rect",$.slideBoxClassName,function(Q){Q.attr({y:0,cursor:$.slideBoxCursor,"shape-rendering":"crispEdges"})});ae.attr({height:K._height,fill:$.slideBoxFill})}}function j(P,ee,J,K){var ae=c.ensureSingle(P,"g",$.grabberMinClassName),Q=c.ensureSingle(P,"g",$.grabberMaxClassName),he={x:0,width:$.handleWidth,rx:$.handleRadius,fill:d.background,stroke:d.defaultLine,"stroke-width":$.handleStrokeWidth,"shape-rendering":"crispEdges"},ge={y:Math.round(K._height/4),height:Math.round(K._height/2)},Se=c.ensureSingle(ae,"rect",$.handleMinClassName,function(ye){ye.attr(he)});Se.attr(ge);var ce=c.ensureSingle(Q,"rect",$.handleMaxClassName,function(ye){ye.attr(he)});ce.attr(ge);var ne={width:$.grabAreaWidth,x:0,y:0,fill:$.grabAreaFill,cursor:ee._context.staticPlot?void 0:$.grabAreaCursor},fe=c.ensureSingle(ae,"rect",$.grabAreaMinClassName,function(ye){ye.attr(ne)});fe.attr("height",K._height);var X=c.ensureSingle(Q,"rect",$.grabAreaMaxClassName,function(ye){ye.attr(ne)});X.attr("height",K._height)}},549:function(L,A,s){var m=s(1675),h=s(3893),l=s(3251),c=s(8783).LINE_SPACING,i=l.name;function u(d){var g=d&&d[i];return g&&g.visible}A.isVisible=u,A.makeData=function(d){var g=m.list({_fullLayout:d},"x",!0),v=d.margin,x=[];if(!d._has("gl2d"))for(var C=0;C<g.length;C++){var _=g[C];if(u(_)){x.push(_);var $=_[i];$._id=i+_._id,$._height=(d.height-v.b-v.t)*$.thickness,$._offsetShift=Math.floor($.borderwidth/2)}}d._rangeSliderData=x},A.autoMarginOpts=function(d,g){var v=d._fullLayout,x=g[i],C=g._id.charAt(0),_=0,$=0;if(g.side==="bottom"&&(_=g._depth,g.title.text!==v._dfltTitle[C])){$=1.5*g.title.font.size+10+x._offsetShift;var S=(g.title.text.match(h.BR_TAG_ALL)||[]).length;$+=S*g.title.font.size*c}return{x:0,y:g._counterDomainMin,l:0,r:0,t:0,b:x._height+_+Math.max(v.margin.b,$),pad:l.extraPad+x._offsetShift*2}}},3137:function(L,A,s){var m=s(1828),h=s(5148),l=s(7850),c=s(549);L.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:m.extendFlat({},h,{yaxis:l})}}},layoutAttributes:s(5148),handleDefaults:s(6377),calcAutorange:s(8443),draw:s(2413),isVisible:c.isVisible,makeData:c.makeData,autoMarginOpts:c.autoMarginOpts}},7850:function(L){L.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(L,A,s){var m=s(215),h=s(2196).line,l=s(9952).P,c=s(1426).extendFlat,i=s(962).overrideAll,u=s(4467).templatedArray;s(4695),L.exports=i(u("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:c({},m.xref,{}),yref:c({},m.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:h.color,width:c({},h.width,{min:1,dflt:1}),dash:c({},l,{dflt:"dot"})}}),"arraydraw","from-root")},4122:function(L){L.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},9402:function(L,A,s){var m=s(1828),h=s(9298),l=s(5501),c=s(8389),i=s(477);L.exports=function(g,v){l(g,v,{name:"selections",handleItemDefaults:u});for(var x=v.selections,C=0;C<x.length;C++){var _=x[C];_&&_.path===void 0&&(_.x0===void 0||_.x1===void 0||_.y0===void 0||_.y1===void 0)&&(v.selections[C]=null)}};function u(d,g,v){function x(Q,he){return m.coerce(d,g,c,Q,he)}var C=x("path"),_=C?"path":"rect",$=x("type",_),S=$!=="path";S&&delete g.path,x("opacity"),x("line.color"),x("line.width"),x("line.dash");for(var O=["x","y"],D=0;D<2;D++){var N=O[D],M={_fullLayout:v},k,R,F,H=h.coerceRef(d,g,M,N);if(k=h.getFromId(M,H),k._selectionIndices.push(g._index),F=i.rangeToShapePosition(k),R=i.shapePositionToRange(k),S){var j=N+"0",P=N+"1",ee=d[j],J=d[P];d[j]=R(d[j],!0),d[P]=R(d[P],!0),h.coercePosition(g,M,x,H,j),h.coercePosition(g,M,x,H,P);var K=g[j],ae=g[P];K!==void 0&&ae!==void 0&&(g[j]=F(K),g[P]=F(ae),d[j]=ee,d[P]=J)}}S&&m.noneOrAll(d,g,["x0","x1","y0","y1"])}},2485:function(L,A,s){var m=s(165).readPaths,h=s(2359),l=s(1873).clearOutlineControllers,c=s(7901),i=s(1424),u=s(4467).arrayEditor,d=s(477),g=d.getPathString;L.exports={draw:v,drawOne:C,activateLastSelection:S};function v(D){var N=D._fullLayout;l(D),N._selectionLayer.selectAll("path").remove();for(var M in N._plots){var k=N._plots[M].selectionLayer;k&&k.selectAll("path").remove()}for(var R=0;R<N.selections.length;R++)C(D,R)}function x(D){return D._context.editSelection}function C(D,N){D._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+N+'"]').remove();var M=d.makeSelectionsOptionsAndPlotinfo(D,N),k=M.options,R=M.plotinfo;if(!k._input)return;F(D._fullLayout._selectionLayer);function F(H){var j=g(D,k),P={"data-index":N,"fill-rule":"evenodd",d:j},ee=k.opacity,J="rgba(0,0,0,0)",K=k.line.color||c.contrast(D._fullLayout.plot_bgcolor),ae=k.line.width,Q=k.line.dash;ae||(ae=5,Q="solid");var he=x(D)&&D._fullLayout._activeSelectionIndex===N;he&&(J=D._fullLayout.activeselection.fillcolor,ee=D._fullLayout.activeselection.opacity);for(var ge=[],Se=1;Se>=0;Se--){var ce=H.append("path").attr(P).style("opacity",Se?.1:ee).call(c.stroke,K).call(c.fill,J).call(i.dashLine,Se?"solid":Q,Se?4+ae:ae);if(_(ce,D,k),he){var ne=u(D.layout,"selections",k);ce.style({cursor:"move"});var fe={element:ce.node(),plotinfo:R,gd:D,editHelpers:ne,isActiveSelection:!0},X=m(j,D);h(X,ce,fe)}else ce.style("pointer-events",Se?"all":"none");ge[Se]=ce}var ye=ge[0],Ce=ge[1];Ce.node().addEventListener("click",function(){return $(D,ye)})}}function _(D,N,M){var k=M.xref+M.yref;i.setClipUrl(D,"clip"+N._fullLayout._uid+k,N)}function $(D,N){if(x(D)){var M=N.node(),k=+M.getAttribute("data-index");if(k>=0){if(k===D._fullLayout._activeSelectionIndex){O(D);return}D._fullLayout._activeSelectionIndex=k,D._fullLayout._deactivateSelection=O,v(D)}}}function S(D){if(x(D)){var N=D._fullLayout.selections.length-1;D._fullLayout._activeSelectionIndex=N,D._fullLayout._deactivateSelection=O,v(D)}}function O(D){if(x(D)){var N=D._fullLayout._activeSelectionIndex;N>=0&&(l(D),delete D._fullLayout._activeSelectionIndex,v(D))}}},3777:function(L,A,s){var m=s(9952).P,h=s(1426).extendFlat;L.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:h({},m,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},849:function(L){L.exports=function(s,m,h){h("newselection.mode");var l=h("newselection.line.width");l&&(h("newselection.line.color"),h("newselection.line.dash")),h("activeselection.fillcolor"),h("activeselection.opacity")}},5855:function(L,A,s){var m=s(4505),h=m.selectMode,l=s(1873),c=l.clearOutline,i=s(165),u=i.readPaths,d=i.writePaths,g=i.fixDatesForPaths;L.exports=function(x,C){if(x.length){var _=x[0][0];if(_){var $=_.getAttribute("d"),S=C.gd,O=S._fullLayout.newselection,D=C.plotinfo,N=D.xaxis,M=D.yaxis,k=C.isActiveSelection,R=C.dragmode,F=(S.layout||{}).selections||[];if(!h(R)&&k!==void 0){var H=S._fullLayout._activeSelectionIndex;if(H<F.length)switch(S._fullLayout.selections[H].type){case"rect":R="select";break;case"path":R="lasso";break}}var j=u($,S,D,k),P={xref:N._id,yref:M._id,opacity:O.opacity,line:{color:O.line.color,width:O.line.width,dash:O.line.dash}},ee;j.length===1&&(ee=j[0]),ee&&ee.length===5&&R==="select"?(P.type="rect",P.x0=ee[0][1],P.y0=ee[0][2],P.x1=ee[2][1],P.y1=ee[2][2]):(P.type="path",N&&M&&g(j,N,M),P.path=d(j),ee=null),c(S);for(var J=C.editHelpers,K=(J||{}).modifyItem,ae=[],Q=0;Q<F.length;Q++){var he=S._fullLayout.selections[Q];if(!he){ae[Q]=he;continue}if(ae[Q]=he._input,k!==void 0&&Q===S._fullLayout._activeSelectionIndex){var ge=P;switch(he.type){case"rect":K("x0",ge.x0),K("x1",ge.x1),K("y0",ge.y0),K("y1",ge.y1);break;case"path":K("path",ge.path);break}}}return k===void 0?(ae.push(P),ae):J?J.getUpdateObj():{}}}}},5549:function(L,A,s){var m=s(1828).strTranslate;function h(u,d){switch(u.type){case"log":return u.p2d(d);case"date":return u.p2r(d,0,u.calendar);default:return u.p2r(d)}}function l(u,d){switch(u.type){case"log":return u.d2p(d);case"date":return u.r2p(d,0,u.calendar);default:return u.r2p(d)}}function c(u){var d=u._id.charAt(0)==="y"?1:0;return function(g){return h(u,g[d])}}function i(u){return m(u.xaxis._offset,u.yaxis._offset)}L.exports={p2r:h,r2p:l,axValue:c,getTransform:i}},7322:function(L,A,s){var m=s(2485),h=s(3937);L.exports={moduleType:"component",name:"selections",layoutAttributes:s(8389),supplyLayoutDefaults:s(9402),supplyDrawNewSelectionDefaults:s(849),includeBasePlot:s(6325)("selections"),draw:m.draw,drawOne:m.drawOne,reselect:h.reselect,prepSelect:h.prepSelect,clearOutline:h.clearOutline,clearSelectionsCache:h.clearSelectionsCache,selectOnClick:h.selectOnClick}},3937:function(L,A,s){var m=s(2142),h=s(8258),l=s(3972),c=s(1424).dashStyle,i=s(7901),u=s(211),d=s(3469).makeEventData,g=s(4505),v=g.freeMode,x=g.rectMode,C=g.drawMode,_=g.openMode,$=g.selectMode,S=s(477),O=s(1459),D=s(2359),N=s(1873).clearOutline,M=s(165),k=M.handleEllipse,R=M.readPaths,F=s(551).newShapes,H=s(5855),j=s(2485).activateLastSelection,P=s(1828),ee=P.sorterAsc,J=s(1082),K=s(9990),ae=s(1675).getFromId,Q=s(3306),he=s(1549).redrawReglTraces,ge=s(4122),Se=ge.MINSELECT,ce=J.filter,ne=J.tester,fe=s(5549),X=fe.p2r,ye=fe.axValue,Ce=fe.getTransform;function $e(lt){return lt.subplot!==void 0}function ke(lt,ft,wt,vt,$t){var Ze=!$e(vt),it=v($t),ht=x($t),pt=_($t),Tt=C($t),Et=$($t),fn=$t==="drawline",tn=$t==="drawcircle",Zt=fn||tn,Dt=vt.gd,un=Dt._fullLayout,Un=Et&&un.newselection.mode==="immediate"&&Ze,tr=un._zoomlayer,Er=vt.element.getBoundingClientRect(),zt=vt.plotinfo,pr=Ce(zt),Gn=ft-Er.left,Ir=wt-Er.top;un._calcInverseTransform(Dt);var Tr=P.apply3DTransform(un._invTransform)(Gn,Ir);Gn=Tr[0],Ir=Tr[1];var rr=un._invScaleX,Yr=un._invScaleY,_r=Gn,Ln=Ir,xr="M"+Gn+","+Ir,or=vt.xaxes[0],wr=vt.yaxes[0],ro=or._length,vo=wr._length,Cr=lt.altKey&&!(C($t)&&pt),He,De,St,kt,Pt,Bt,Ut;we(lt,Dt,vt),it&&(He=ce([[Gn,Ir]],ge.BENDPX));var Ot=tr.selectAll("path.select-outline-"+zt.id).data([1]),_t=Tt?un.newshape:un.newselection;Tt&&(vt.hasText=_t.label.text||_t.label.texttemplate);var qt=Tt&&!pt?_t.fillcolor:"rgba(0,0,0,0)",cn=_t.line.color||(Ze?i.contrast(Dt._fullLayout.plot_bgcolor):"#7f7f7f");Ot.enter().append("path").attr("class","select-outline select-outline-"+zt.id).style({opacity:Tt?_t.opacity/2:1,"stroke-dasharray":c(_t.line.dash,_t.line.width),"stroke-width":_t.line.width+"px","shape-rendering":"crispEdges"}).call(i.stroke,cn).call(i.fill,qt).attr("fill-rule","evenodd").classed("cursor-move",!!Tt).attr("transform",pr).attr("d",xr+"Z");var Qt=tr.append("path").attr("class","zoombox-corners").style({fill:i.background,stroke:i.defaultLine,"stroke-width":1}).attr("transform",pr).attr("d","M0,0Z");if(Tt&&vt.hasText){var nn=tr.select(".label-temp");nn.empty()&&(nn=tr.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Sn=un._uid+ge.SELECTID,bn=[],gn=Te(Dt,vt.xaxes,vt.yaxes,vt.subplot);Un&&!lt.shiftKey&&(vt._clearSubplotSelections=function(){if(Ze){var Bn=or._id,Hr=wr._id;Yt(Dt,Bn,Hr,gn);for(var fr=(Dt.layout||{}).selections||[],Vr=[],ar=!1,cr=0;cr<fr.length;cr++){var Kr=un.selections[cr];Kr.xref!==Bn||Kr.yref!==Hr?Vr.push(fr[cr]):ar=!0}ar&&(Dt._fullLayout._noEmitSelectedAtStart=!0,l.call("_guiRelayout",Dt,{selections:Vr}))}});var Qn=Cn(vt);vt.moveFn=function(Bn,Hr){vt._clearSubplotSelections&&(vt._clearSubplotSelections(),vt._clearSubplotSelections=void 0),_r=Math.max(0,Math.min(ro,rr*Bn+Gn)),Ln=Math.max(0,Math.min(vo,Yr*Hr+Ir));var fr=Math.abs(_r-Gn),Vr=Math.abs(Ln-Ir);if(ht){var ar,cr,Kr;if(Et){var qr=un.selectdirection;switch(qr==="any"?Vr<Math.min(fr*.6,Se)?ar="h":fr<Math.min(Vr*.6,Se)?ar="v":ar="d":ar=qr,ar){case"h":cr=tn?vo/2:0,Kr=vo;break;case"v":cr=tn?ro/2:0,Kr=ro;break}}if(Tt)switch(un.newshape.drawdirection){case"vertical":ar="h",cr=tn?vo/2:0,Kr=vo;break;case"horizontal":ar="v",cr=tn?ro/2:0,Kr=ro;break;case"ortho":fr<Vr?(ar="h",cr=Ir,Kr=Ln):(ar="v",cr=Gn,Kr=_r);break;default:ar="d"}ar==="h"?(kt=Zt?k(tn,[_r,cr],[_r,Kr]):[[Gn,cr],[Gn,Kr],[_r,Kr],[_r,cr]],kt.xmin=Zt?_r:Math.min(Gn,_r),kt.xmax=Zt?_r:Math.max(Gn,_r),kt.ymin=Math.min(cr,Kr),kt.ymax=Math.max(cr,Kr),Qt.attr("d","M"+kt.xmin+","+(Ir-Se)+"h-4v"+2*Se+"h4ZM"+(kt.xmax-1)+","+(Ir-Se)+"h4v"+2*Se+"h-4Z")):ar==="v"?(kt=Zt?k(tn,[cr,Ln],[Kr,Ln]):[[cr,Ir],[cr,Ln],[Kr,Ln],[Kr,Ir]],kt.xmin=Math.min(cr,Kr),kt.xmax=Math.max(cr,Kr),kt.ymin=Zt?Ln:Math.min(Ir,Ln),kt.ymax=Zt?Ln:Math.max(Ir,Ln),Qt.attr("d","M"+(Gn-Se)+","+kt.ymin+"v-4h"+2*Se+"v4ZM"+(Gn-Se)+","+(kt.ymax-1)+"v4h"+2*Se+"v-4Z")):ar==="d"&&(kt=Zt?k(tn,[Gn,Ir],[_r,Ln]):[[Gn,Ir],[Gn,Ln],[_r,Ln],[_r,Ir]],kt.xmin=Math.min(Gn,_r),kt.xmax=Math.max(Gn,_r),kt.ymin=Math.min(Ir,Ln),kt.ymax=Math.max(Ir,Ln),Qt.attr("d","M0,0Z"))}else it&&(He.addPt([_r,Ln]),kt=He.filtered);if(vt.selectionDefs&&vt.selectionDefs.length?(St=Xe(vt.mergedPolygons,kt,Cr),kt.subtract=Cr,De=ie(vt.selectionDefs.concat([kt]))):(St=[kt],De=ne(kt)),D(gt(St,pt),Ot,vt),Et){var So=tt(Dt,!1),wa=So.eventData?So.eventData.points.slice():[];So=tt(Dt,!1,De,gn,vt),De=So.selectionTesters,Ut=So.eventData;var bo;He?bo=He.filtered:bo=sn(St),K.throttle(Sn,ge.SELECTDELAY,function(){bn=ut(De,gn);for(var Zo=bn.slice(),oa=0;oa<wa.length;oa++){for(var Va=wa[oa],Yo=!1,Fa=0;Fa<Zo.length;Fa++)if(Zo[Fa].curveNumber===Va.curveNumber&&Zo[Fa].pointNumber===Va.pointNumber){Yo=!0;break}Yo||Zo.push(Va)}Zo.length&&(Ut||(Ut={}),Ut.points=Zo),Qn(Ut,bo),jn(Dt,Ut)})}},vt.clickFn=function(Bn,Hr){if(Qt.remove(),Dt._fullLayout._activeShapeIndex>=0){Dt._fullLayout._deactivateShape(Dt);return}if(!Tt){var fr=un.clickmode;K.done(Sn).then(function(){if(K.clear(Sn),Bn===2){for(Ot.remove(),Pt=0;Pt<gn.length;Pt++)Bt=gn[Pt],Bt._module.selectPoints(Bt,!1);if(dt(Dt,gn),pe(vt),wn(Dt),gn.length){var Vr=gn[0].xaxis,ar=gn[0].yaxis;if(Vr&&ar){for(var cr=[],Kr=Dt._fullLayout.selections,qr=0;qr<Kr.length;qr++){var So=Kr[qr];So&&(So.xref!==Vr._id||So.yref!==ar._id)&&cr.push(So)}cr.length<Kr.length&&(Dt._fullLayout._noEmitSelectedAtStart=!0,l.call("_guiRelayout",Dt,{selections:cr}))}}}else fr.indexOf("select")>-1&&Ne(Hr,Dt,vt.xaxes,vt.yaxes,vt.subplot,vt,Ot),fr==="event"&&Wn(Dt,void 0);u.click(Dt,Hr,zt.id)}).catch(P.error)}},vt.doneFn=function(){Qt.remove(),K.done(Sn).then(function(){K.clear(Sn),!Un&&kt&&vt.selectionDefs&&(kt.subtract=Cr,vt.selectionDefs.push(kt),vt.mergedPolygons.length=0,[].push.apply(vt.mergedPolygons,St)),(Un||Tt)&&pe(vt,Un),vt.doneFnCompleted&&vt.doneFnCompleted(bn),Et&&Wn(Dt,Ut)}).catch(P.error)}}function Ne(lt,ft,wt,vt,$t,Ze,it){var ht=ft._hoverdata,pt=ft._fullLayout,Tt=pt.clickmode,Et=Tt.indexOf("event")>-1,fn=[],tn,Zt,Dt,un,Un,tr,Er,zt,pr,Gn;if(Me(ht)){we(lt,ft,Ze),tn=Te(ft,wt,vt,$t);var Ir=Re(ht,tn),Tr=Ir.pointNumbers.length>0;if(Tr?We(tn,Ir):ot(tn)&&(Er=ze(Ir))){for(it&&it.remove(),Gn=0;Gn<tn.length;Gn++)Zt=tn[Gn],Zt._module.selectPoints(Zt,!1);dt(ft,tn),pe(Ze),Et&&wn(ft)}else{zt=lt.shiftKey&&(Er!==void 0?Er:ze(Ir)),Dt=Ve(Ir.pointNumber,Ir.searchInfo,zt);var rr=Ze.selectionDefs.concat([Dt]);for(un=ie(rr),Gn=0;Gn<tn.length;Gn++)if(Un=tn[Gn]._module.selectPoints(tn[Gn],un),tr=qe(Un,tn[Gn]),fn.length)for(var Yr=0;Yr<tr.length;Yr++)fn.push(tr[Yr]);else fn=tr;if(pr={points:fn},dt(ft,tn,pr),Dt&&Ze&&Ze.selectionDefs.push(Dt),it){var _r=Ze.mergedPolygons,Ln=_(Ze.dragmode);D(gt(_r,Ln),it,Ze)}Et&&Wn(ft,pr)}}}function Ve(lt,ft,wt){return{pointNumber:lt,searchInfo:ft,subtract:!!wt}}function Oe(lt){return"pointNumber"in lt&&"searchInfo"in lt}function Fe(lt){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(ft,wt,vt,$t){var Ze=lt.searchInfo.cd[0].trace._expandedIndex,it=$t.cd[0].trace._expandedIndex;return it===Ze&&vt===lt.pointNumber},isRect:!1,degenerate:!1,subtract:!!lt.subtract}}function ie(lt){if(!lt.length)return;for(var ft=[],wt=Oe(lt[0])?0:lt[0][0][0],vt=wt,$t=Oe(lt[0])?0:lt[0][0][1],Ze=$t,it=0;it<lt.length;it++)if(Oe(lt[it]))ft.push(Fe(lt[it]));else{var ht=ne(lt[it]);ht.subtract=!!lt[it].subtract,ft.push(ht),wt=Math.min(wt,ht.xmin),vt=Math.max(vt,ht.xmax),$t=Math.min($t,ht.ymin),Ze=Math.max(Ze,ht.ymax)}function pt(Tt,Et,fn,tn){for(var Zt=!1,Dt=0;Dt<ft.length;Dt++)ft[Dt].contains(Tt,Et,fn,tn)&&(Zt=!ft[Dt].subtract);return Zt}return{xmin:wt,xmax:vt,ymin:$t,ymax:Ze,pts:[],contains:pt,isRect:!1,degenerate:!1}}function we(lt,ft,wt){var vt=ft._fullLayout,$t=wt.plotinfo,Ze=wt.dragmode,it=vt._lastSelectedSubplot&&vt._lastSelectedSubplot===$t.id,ht=(lt.shiftKey||lt.altKey)&&!(C(Ze)&&_(Ze));it&&ht&&$t.selection&&$t.selection.selectionDefs&&!wt.selectionDefs?(wt.selectionDefs=$t.selection.selectionDefs,wt.mergedPolygons=$t.selection.mergedPolygons):(!ht||!$t.selection)&&pe(wt),it||(N(ft),vt._lastSelectedSubplot=$t.id)}function se(lt){return lt._fullLayout._activeShapeIndex>=0}function ue(lt){return lt._fullLayout._activeSelectionIndex>=0}function pe(lt,ft){var wt=lt.dragmode,vt=lt.plotinfo,$t=lt.gd;se($t)&&$t._fullLayout._deactivateShape($t),ue($t)&&$t._fullLayout._deactivateSelection($t);var Ze=$t._fullLayout,it=Ze._zoomlayer,ht=C(wt),pt=$(wt);if(ht||pt){var Tt=it.selectAll(".select-outline-"+vt.id);if(Tt&&$t._fullLayout._outlining){var Et;ht&&(Et=F(Tt,lt)),Et&&l.call("_guiRelayout",$t,{shapes:Et});var fn;pt&&!$e(lt)&&(fn=H(Tt,lt)),fn&&($t._fullLayout._noEmitSelectedAtStart=!0,l.call("_guiRelayout",$t,{selections:fn}).then(function(){ft&&j($t)})),$t._fullLayout._outlining=!1}}vt.selection={},vt.selection.selectionDefs=lt.selectionDefs=[],vt.selection.mergedPolygons=lt.mergedPolygons=[]}function le(lt){return lt._id}function Te(lt,ft,wt,vt){if(!lt.calcdata)return[];var $t=[],Ze=ft.map(le),it=wt.map(le),ht,pt,Tt;for(Tt=0;Tt<lt.calcdata.length;Tt++)if(ht=lt.calcdata[Tt],pt=ht[0].trace,!(pt.visible!==!0||!pt._module||!pt._module.selectPoints))if($e({subplot:vt})&&(pt.subplot===vt||pt.geo===vt))$t.push(de(pt._module,ht,ft[0],wt[0]));else if(pt.type==="splom"){if(pt._xaxes[Ze[0]]&&pt._yaxes[it[0]]){var Et=de(pt._module,ht,ft[0],wt[0]);Et.scene=lt._fullLayout._splomScenes[pt.uid],$t.push(Et)}}else if(pt.type==="sankey"){var fn=de(pt._module,ht,ft[0],wt[0]);$t.push(fn)}else{if(Ze.indexOf(pt.xaxis)===-1||it.indexOf(pt.yaxis)===-1)continue;$t.push(de(pt._module,ht,ae(lt,pt.xaxis),ae(lt,pt.yaxis)))}return $t}function de(lt,ft,wt,vt){return{_module:lt,cd:ft,xaxis:wt,yaxis:vt}}function Me(lt){return lt&&Array.isArray(lt)&&lt[0].hoverOnBox!==!0}function Re(lt,ft){var wt=lt[0],vt=-1,$t=[],Ze,it;for(it=0;it<ft.length;it++)if(Ze=ft[it],wt.fullData._expandedIndex===Ze.cd[0].trace._expandedIndex){if(wt.hoverOnBox===!0)break;wt.pointNumber!==void 0?vt=wt.pointNumber:wt.binNumber!==void 0&&(vt=wt.binNumber,$t=wt.pointNumbers);break}return{pointNumber:vt,pointNumbers:$t,searchInfo:Ze}}function ze(lt){var ft=lt.searchInfo.cd[0].trace,wt=lt.pointNumber,vt=lt.pointNumbers,$t=vt.length>0,Ze=$t?vt[0]:wt;return ft.selectedpoints?ft.selectedpoints.indexOf(Ze)>-1:!1}function We(lt,ft){var wt=[],vt,$t,Ze,it;for(it=0;it<lt.length;it++)vt=lt[it],vt.cd[0].trace.selectedpoints&&vt.cd[0].trace.selectedpoints.length>0&&wt.push(vt);if(wt.length===1&&(Ze=wt[0]===ft.searchInfo,Ze&&($t=ft.searchInfo.cd[0].trace,$t.selectedpoints.length===ft.pointNumbers.length))){for(it=0;it<ft.pointNumbers.length;it++)if($t.selectedpoints.indexOf(ft.pointNumbers[it])<0)return!1;return!0}return!1}function ot(lt){var ft=0,wt,vt,$t;for($t=0;$t<lt.length;$t++)if(wt=lt[$t],vt=wt.cd[0].trace,vt.selectedpoints&&(vt.selectedpoints.length>1||(ft+=vt.selectedpoints.length,ft>1)))return!1;return ft===1}function dt(lt,ft,wt){var vt;for(vt=0;vt<ft.length;vt++){var $t=ft[vt].cd[0].trace._fullInput,Ze=lt._fullLayout._tracePreGUI[$t.uid]||{};Ze.selectedpoints===void 0&&(Ze.selectedpoints=$t._input.selectedpoints||null)}var it;if(wt){var ht=wt.points||[];for(vt=0;vt<ft.length;vt++)it=ft[vt].cd[0].trace,it._input.selectedpoints=it._fullInput.selectedpoints=[],it._fullInput!==it&&(it.selectedpoints=[]);for(var pt=0;pt<ht.length;pt++){var Tt=ht[pt],Et=Tt.data,fn=Tt.fullData,tn=Tt.pointIndex,Zt=Tt.pointIndices;Zt?([].push.apply(Et.selectedpoints,Zt),it._fullInput!==it&&[].push.apply(fn.selectedpoints,Zt)):(Et.selectedpoints.push(tn),it._fullInput!==it&&fn.selectedpoints.push(tn))}}else for(vt=0;vt<ft.length;vt++)it=ft[vt].cd[0].trace,delete it.selectedpoints,delete it._input.selectedpoints,it._fullInput!==it&&delete it._fullInput.selectedpoints;Ge(lt,ft)}function Ge(lt,ft){for(var wt=!1,vt=0;vt<ft.length;vt++){var $t=ft[vt],Ze=$t.cd;l.traceIs(Ze[0].trace,"regl")&&(wt=!0);var it=$t._module,ht=it.styleOnSelect||it.style;ht&&(ht(lt,Ze,Ze[0].node3),Ze[0].nodeRangePlot3&&ht(lt,Ze,Ze[0].nodeRangePlot3))}wt&&(Q(lt),he(lt))}function Xe(lt,ft,wt){for(var vt=wt?m.difference:m.union,$t=vt({regions:lt},{regions:[ft]}),Ze=$t.regions.reverse(),it=0;it<Ze.length;it++){var ht=Ze[it];ht.subtract=pn(ht,Ze.slice(0,it))}return Ze}function qe(lt,ft){if(Array.isArray(lt))for(var wt=ft.cd,vt=ft.cd[0].trace,$t=0;$t<lt.length;$t++)lt[$t]=d(lt[$t],vt,wt);return lt}function gt(lt,ft){for(var wt=[],vt=0;vt<lt.length;vt++){wt[vt]=[];for(var $t=0;$t<lt[vt].length;$t++){wt[vt][$t]=[],wt[vt][$t][0]=$t?"L":"M";for(var Ze=0;Ze<lt[vt][$t].length;Ze++)wt[vt][$t].push(lt[vt][$t][Ze])}ft||wt[vt].push(["Z",wt[vt][0][1],wt[vt][0][2]])}return wt}function ut(lt,ft){for(var wt=[],vt,$t,Ze=0;Ze<ft.length;Ze++){var it=ft[Ze];$t=it._module.selectPoints(it,lt),vt=qe($t,it),wt=wt.concat(vt)}return wt}function tt(lt,ft,wt,vt,$t){var Ze=!!vt,it,ht,pt;$t&&(it=$t.plotinfo,ht=$t.xaxes[0]._id,pt=$t.yaxes[0]._id);var Tt=[],Et=[],fn=Ft(lt),tn=lt._fullLayout;if(it){var Zt=tn._zoomlayer,Dt=tn.dragmode,un=C(Dt),Un=$(Dt);if(un||Un){var tr=ae(lt,ht,"x"),Er=ae(lt,pt,"y");if(tr&&Er){var zt=Zt.selectAll(".select-outline-"+it.id);if(zt&&lt._fullLayout._outlining&&zt.length){for(var pr=zt[0][0],Gn=pr.getAttribute("d"),Ir=R(Gn,lt,it),Tr=[],rr=0;rr<Ir.length;rr++){for(var Yr=Ir[rr],_r=[],Ln=0;Ln<Yr.length;Ln++)_r.push([_n(tr,Yr[Ln][1]),_n(Er,Yr[Ln][2])]);_r.xref=ht,_r.yref=pt,_r.subtract=pn(_r,Tr),Tr.push(_r)}fn=fn.concat(Tr)}}}}var xr=ht&&pt?[ht+pt]:tn._subplots.cartesian;Ct(lt);for(var or={},wr=0;wr<xr.length;wr++){var ro=xr[wr],vo=ro.indexOf("y"),Cr=ro.slice(0,vo),He=ro.slice(vo),De=ht&&pt?wt:void 0;if(De=Nt(fn,Cr,He,De),De){var St=vt;if(!Ze){var kt=ae(lt,Cr,"x"),Pt=ae(lt,He,"y");St=Te(lt,[kt],[Pt],ro);for(var Bt=0;Bt<St.length;Bt++){var Ut=St[Bt],Ot=Ut.cd[0],_t=Ot.trace;if(Ut._module.name==="scattergl"&&!Ot.t.xpx){var qt=_t.x,cn=_t.y,Qt=_t._length;Ot.t.xpx=[],Ot.t.ypx=[];for(var nn=0;nn<Qt;nn++)Ot.t.xpx[nn]=kt.c2p(qt[nn]),Ot.t.ypx[nn]=Pt.c2p(cn[nn])}Ut._module.name==="splom"&&(or[_t.uid]||(or[_t.uid]=!0))}}var Sn=ut(De,St);Tt=Tt.concat(Sn),Et=Et.concat(St)}}var bn={points:Tt};dt(lt,Et,bn);var gn=tn.clickmode,Qn=gn.indexOf("event")>-1&&ft;if(!it&&ft){var Bn=Ft(lt,!0);if(Bn.length){var Hr=Bn[0].xref,fr=Bn[0].yref;if(Hr&&fr){var Vr=sn(Bn),ar=an([ae(lt,Hr,"x"),ae(lt,fr,"y")]);ar(bn,Vr)}}lt._fullLayout._noEmitSelectedAtStart?lt._fullLayout._noEmitSelectedAtStart=!1:Qn&&Wn(lt,bn),tn._reselect=!1}if(!it&&tn._deselect){var cr=tn._deselect;ht=cr.xref,pt=cr.yref,Gt(ht,pt,Et)||Yt(lt,ht,pt,vt),Qn&&(bn.points.length?Wn(lt,bn):wn(lt)),tn._deselect=!1}return{eventData:bn,selectionTesters:wt}}function Ct(lt){var ft=lt.calcdata;if(ft)for(var wt=0;wt<ft.length;wt++){var vt=ft[wt][0],$t=vt.trace,Ze=lt._fullLayout._splomScenes;if(Ze){var it=Ze[$t.uid];it&&(it.selectBatch=[])}}}function Gt(lt,ft,wt){for(var vt=0;vt<wt.length;vt++){var $t=wt[vt];if($t.xaxis&&$t.xaxis._id===lt&&$t.yaxis&&$t.yaxis._id===ft)return!0}return!1}function Yt(lt,ft,wt,vt){vt=Te(lt,[ae(lt,ft,"x")],[ae(lt,wt,"y")],ft+wt);for(var $t=0;$t<vt.length;$t++){var Ze=vt[$t];Ze._module.selectPoints(Ze,!1)}dt(lt,vt)}function Nt(lt,ft,wt,vt){for(var $t,Ze=0;Ze<lt.length;Ze++){var it=lt[Ze];if(!(ft!==it.xref||wt!==it.yref))if($t){var ht=!!it.subtract;$t=Xe($t,it,ht),vt=ie($t)}else $t=[it],vt=ne(it)}return vt}function Ft(lt,ft){for(var wt=[],vt=lt._fullLayout,$t=vt.selections,Ze=$t.length,it=0;it<Ze;it++)if(!(ft&&it!==vt._activeSelectionIndex)){var ht=$t[it];if(ht){var pt=ht.xref,Tt=ht.yref,Et=ae(lt,pt,"x"),fn=ae(lt,Tt,"y"),tn,Zt,Dt,un,Un;if(ht.type==="rect"){Un=[];var tr=_n(Et,ht.x0),Er=_n(Et,ht.x1),zt=_n(fn,ht.y0),pr=_n(fn,ht.y1);Un=[[tr,zt],[tr,pr],[Er,pr],[Er,zt]],tn=Math.min(tr,Er),Zt=Math.max(tr,Er),Dt=Math.min(zt,pr),un=Math.max(zt,pr),Un.xmin=tn,Un.xmax=Zt,Un.ymin=Dt,Un.ymax=un,Un.xref=pt,Un.yref=Tt,Un.subtract=!1,Un.isRect=!0,wt.push(Un)}else if(ht.type==="path")for(var Gn=ht.path.split("Z"),Ir=[],Tr=0;Tr<Gn.length;Tr++){var rr=Gn[Tr];if(rr){rr+="Z";var Yr=S.extractPathCoords(rr,O.paramIsX,"raw"),_r=S.extractPathCoords(rr,O.paramIsY,"raw");tn=1/0,Zt=-1/0,Dt=1/0,un=-1/0,Un=[];for(var Ln=0;Ln<Yr.length;Ln++){var xr=_n(Et,Yr[Ln]),or=_n(fn,_r[Ln]);Un.push([xr,or]),tn=Math.min(xr,tn),Zt=Math.max(xr,Zt),Dt=Math.min(or,Dt),un=Math.max(or,un)}Un.xmin=tn,Un.xmax=Zt,Un.ymin=Dt,Un.ymax=un,Un.xref=pt,Un.yref=Tt,Un.subtract=pn(Un,Ir),Ir.push(Un),wt.push(Un)}}}}return wt}function pn(lt,ft){for(var wt=!1,vt=0;vt<ft.length;vt++)for(var $t=ft[vt],Ze=0;Ze<lt.length;Ze++)if(h(lt[Ze],$t)){wt=!wt;break}return wt}function _n(lt,ft){return lt.type==="date"&&(ft=ft.replace("_"," ")),lt.type==="log"?lt.c2p(ft):lt.r2p(ft,null,lt.calendar)}function sn(lt){for(var ft=lt.length,wt=[],vt=0;vt<ft;vt++){var $t=lt[vt];wt=wt.concat($t),wt=wt.concat([$t[0]])}return Zn(wt)}function Zn(lt){return lt.isRect=lt.length===5&&lt[0][0]===lt[4][0]&&lt[0][1]===lt[4][1]&&lt[0][0]===lt[1][0]&&lt[2][0]===lt[3][0]&&lt[0][1]===lt[3][1]&&lt[1][1]===lt[2][1]||lt[0][1]===lt[1][1]&&lt[2][1]===lt[3][1]&&lt[0][0]===lt[3][0]&&lt[1][0]===lt[2][0],lt.isRect&&(lt.xmin=Math.min(lt[0][0],lt[2][0]),lt.xmax=Math.max(lt[0][0],lt[2][0]),lt.ymin=Math.min(lt[0][1],lt[2][1]),lt.ymax=Math.max(lt[0][1],lt[2][1])),lt}function an(lt){return function(ft,wt){for(var vt,$t,Ze=0;Ze<lt.length;Ze++){var it=lt[Ze],ht=it._id,pt=ht.charAt(0);if(wt.isRect){vt||(vt={});var Tt=wt[pt+"min"],Et=wt[pt+"max"];Tt!==void 0&&Et!==void 0&&(vt[ht]=[X(it,Tt),X(it,Et)].sort(ee))}else $t||($t={}),$t[ht]=wt.map(ye(it))}vt&&(ft.range=vt),$t&&(ft.lassoPoints=$t)}}function Cn(lt){var ft=lt.plotinfo;return ft.fillRangeItems||an(lt.xaxes.concat(lt.yaxes))}function jn(lt,ft){lt.emit("plotly_selecting",ft)}function Wn(lt,ft){ft&&(ft.selections=(lt.layout||{}).selections||[]),lt.emit("plotly_selected",ft)}function wn(lt){lt.emit("plotly_deselect",null)}L.exports={reselect:tt,prepSelect:ke,clearOutline:N,clearSelectionsCache:pe,selectOnClick:Ne}},9827:function(L,A,s){var m=s(215),h=s(1940),l=s(2196).line,c=s(9952).P,i=s(1426).extendFlat,u=s(4467).templatedArray;s(4695);var d=s(9012),g=s(5386).R,v=s(7281);L.exports=u("shape",{visible:i({},d.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:i({},d.legend,{editType:"calc+arraydraw"}),legendgroup:i({},d.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:i({},d.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:h({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:i({},d.legendrank,{editType:"calc+arraydraw"}),legendwidth:i({},d.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:i({},m.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:i({},m.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:i({},l.color,{editType:"arraydraw"}),width:i({},l.width,{editType:"calc+arraydraw"}),dash:i({},c,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:g({},{keys:Object.keys(v)}),font:h({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(L,A,s){var m=s(1828),h=s(9298),l=s(1459),c=s(477);L.exports=function(x){var C=x._fullLayout,_=m.filterVisible(C.shapes);if(!(!_.length||!x._fullData.length))for(var $=0;$<_.length;$++){var S=_[$];S._extremes={};var O,D,N=h.getRefType(S.xref),M=h.getRefType(S.yref);if(S.xref!=="paper"&&N!=="domain"){var k=S.xsizemode==="pixel"?S.xanchor:S.x0,R=S.xsizemode==="pixel"?S.xanchor:S.x1;O=h.getFromId(x,S.xref),D=g(O,k,R,S.path,l.paramIsX),D&&(S._extremes[O._id]=h.findExtremes(O,D,i(S)))}if(S.yref!=="paper"&&M!=="domain"){var F=S.ysizemode==="pixel"?S.yanchor:S.y0,H=S.ysizemode==="pixel"?S.yanchor:S.y1;O=h.getFromId(x,S.yref),D=g(O,F,H,S.path,l.paramIsY),D&&(S._extremes[O._id]=h.findExtremes(O,D,u(S)))}}};function i(v){return d(v.line.width,v.xsizemode,v.x0,v.x1,v.path,!1)}function u(v){return d(v.line.width,v.ysizemode,v.y0,v.y1,v.path,!0)}function d(v,x,C,_,$,S){var O=v/2,D=S;if(x==="pixel"){var N=$?c.extractPathCoords($,S?l.paramIsY:l.paramIsX):[C,_],M=m.aggNums(Math.max,null,N),k=m.aggNums(Math.min,null,N),R=k<0?Math.abs(k)+O:O,F=M>0?M+O:O;return{ppad:O,ppadplus:D?R:F,ppadminus:D?F:R}}else return{ppad:O}}function g(v,x,C,_,$){var S=v.type==="category"||v.type==="multicategory"?v.r2c:v.d2c;if(x!==void 0)return[S(x),S(C)];if(_){var O=1/0,D=-1/0,N=_.match(l.segmentRE),M,k,R,F,H;for(v.type==="date"&&(S=c.decodeDate(S)),M=0;M<N.length;M++)k=N[M],R=$[k.charAt(0)].drawn,R!==void 0&&(F=N[M].substr(1).match(l.paramRE),!(!F||F.length<R)&&(H=S(F[R]),H<O&&(O=H),H>D&&(D=H)));if(D>=O)return[O,D]}}},1459:function(L){L.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},4726:function(L,A,s){var m=s(1828),h=s(9298),l=s(5501),c=s(9827),i=s(477);L.exports=function(v,x){l(v,x,{name:"shapes",handleItemDefaults:d})};function u(g,v){return g?"bottom":v.indexOf("top")!==-1?"top":v.indexOf("bottom")!==-1?"bottom":"middle"}function d(g,v,x){function C(Oe,Fe){return m.coerce(g,v,c,Oe,Fe)}v._isShape=!0;var _=C("visible");if(_){var $=C("showlegend");$&&(C("legend"),C("legendwidth"),C("legendgroup"),C("legendgrouptitle.text"),m.coerceFont(C,"legendgrouptitle.font"),C("legendrank"));var S=C("path"),O=S?"path":"rect",D=C("type",O),N=D!=="path";N&&delete v.path,C("editable"),C("layer"),C("opacity"),C("fillcolor"),C("fillrule");var M=C("line.width");M&&(C("line.color"),C("line.dash"));for(var k=C("xsizemode"),R=C("ysizemode"),F=["x","y"],H=0;H<2;H++){var j=F[H],P=j+"anchor",ee=j==="x"?k:R,J={_fullLayout:x},K,ae,Q,he=h.coerceRef(g,v,J,j,void 0,"paper"),ge=h.getRefType(he);if(ge==="range"?(K=h.getFromId(J,he),K._shapeIndices.push(v._index),Q=i.rangeToShapePosition(K),ae=i.shapePositionToRange(K)):ae=Q=m.identity,N){var Se=.25,ce=.75,ne=j+"0",fe=j+"1",X=g[ne],ye=g[fe];g[ne]=ae(g[ne],!0),g[fe]=ae(g[fe],!0),ee==="pixel"?(C(ne,0),C(fe,10)):(h.coercePosition(v,J,C,he,ne,Se),h.coercePosition(v,J,C,he,fe,ce)),v[ne]=Q(v[ne]),v[fe]=Q(v[fe]),g[ne]=X,g[fe]=ye}if(ee==="pixel"){var Ce=g[P];g[P]=ae(g[P],!0),h.coercePosition(v,J,C,he,P,.25),v[P]=Q(v[P]),g[P]=Ce}}N&&m.noneOrAll(g,v,["x0","x1","y0","y1"]);var $e=D==="line",ke,Ne;if(N&&(ke=C("label.texttemplate")),ke||(Ne=C("label.text")),Ne||ke){C("label.textangle");var Ve=C("label.textposition",$e?"middle":"middle center");C("label.xanchor"),C("label.yanchor",u($e,Ve)),C("label.padding"),m.coerceFont(C,"label.font",x.font)}}}},8100:function(L,A,s){var m=s(1828),h=s(9298),l=s(3893),c=s(1424),i=s(165).readPaths,u=s(477),d=u.getPathString,g=s(7281),v=s(8783).FROM_TL;L.exports=function($,S,O,D){if(D.selectAll(".shape-label").remove(),!!(O.label.text||O.label.texttemplate)){var N;if(O.label.texttemplate){var M={};if(O.type!=="path"){var k=h.getFromId($,O.xref),R=h.getFromId($,O.yref);for(var F in g){var H=g[F](O,k,R);H!==void 0&&(M[F]=H)}}N=m.texttemplateStringForShapes(O.label.texttemplate,{},$._fullLayout._d3locale,M)}else N=O.label.text;var j={"data-index":S},P=O.label.font,ee={"data-notex":1},J=D.append("g").attr(j).classed("shape-label",!0),K=J.append("text").attr(ee).classed("shape-label-text",!0).text(N),ae,Q,he,ge;if(O.path){var Se=d($,O),ce=i(Se,$);ae=1/0,he=1/0,Q=-1/0,ge=-1/0;for(var ne=0;ne<ce.length;ne++)for(var fe=0;fe<ce[ne].length;fe++)for(var X=ce[ne][fe],ye=1;ye<X.length;ye+=2){var Ce=X[ye],$e=X[ye+1];ae=Math.min(ae,Ce),Q=Math.max(Q,Ce),he=Math.min(he,$e),ge=Math.max(ge,$e)}}else{var ke=h.getFromId($,O.xref),Ne=h.getRefType(O.xref),Ve=h.getFromId($,O.yref),Oe=h.getRefType(O.yref),Fe=u.getDataToPixel($,ke,!1,Ne),ie=u.getDataToPixel($,Ve,!0,Oe);ae=Fe(O.x0),Q=Fe(O.x1),he=ie(O.y0),ge=ie(O.y1)}var we=O.label.textangle;we==="auto"&&(O.type==="line"?we=x(ae,he,Q,ge):we=0),K.call(function(de){return de.call(c.font,P).attr({}),l.convertToTspans(de,$),de});var se=c.bBox(K.node()),ue=C(ae,he,Q,ge,O,we,se),pe=ue.textx,le=ue.texty,Te=ue.xanchor;K.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[Te],y:le,x:pe,transform:"rotate("+we+","+pe+","+le+")"}).call(l.positionText,pe,le)}};function x(_,$,S,O){var D,N;return N=Math.abs(S-_),S>=_?D=$-O:D=O-$,-180/Math.PI*Math.atan2(D,N)}function C(_,$,S,O,D,N,M){var k=D.label.textposition,R=D.label.textangle,F=D.label.padding,H=D.type,j=Math.PI/180*N,P=Math.sin(j),ee=Math.cos(j),J=D.label.xanchor,K=D.label.yanchor,ae,Q,he,ge;if(H==="line"){k==="start"?(ae=_,Q=$):k==="end"?(ae=S,Q=O):(ae=(_+S)/2,Q=($+O)/2),J==="auto"&&(k==="start"?R==="auto"?S>_?J="left":S<_?J="right":J="center":S>_?J="right":S<_?J="left":J="center":k==="end"?R==="auto"?S>_?J="right":S<_?J="left":J="center":S>_?J="left":S<_?J="right":J="center":J="center");var Se={left:1,center:0,right:-1},ce={bottom:-1,middle:0,top:1};if(R==="auto"){var ne=ce[K];he=-F*P*ne,ge=F*ee*ne}else{var fe=Se[J],X=ce[K];he=F*fe,ge=F*X}ae=ae+he,Q=Q+ge}else he=F+3,k.indexOf("right")!==-1?(ae=Math.max(_,S)-he,J==="auto"&&(J="right")):k.indexOf("left")!==-1?(ae=Math.min(_,S)+he,J==="auto"&&(J="left")):(ae=(_+S)/2,J==="auto"&&(J="center")),k.indexOf("top")!==-1?Q=Math.min($,O):k.indexOf("bottom")!==-1?Q=Math.max($,O):Q=($+O)/2,ge=F,K==="bottom"?Q=Q-ge:K==="top"&&(Q=Q+ge);var ye=v[K],Ce=D.label.font.size,$e=M.height,ke=($e*ye-Ce)*P,Ne=-($e*ye-Ce)*ee;return{textx:ae+ke,texty:Q+Ne,xanchor:J}}},2359:function(L,A,s){var m=s(1828),h=m.strTranslate,l=s(8569),c=s(4505),i=c.drawMode,u=c.selectMode,d=s(3972),g=s(7901),v=s(9995),x=v.i000,C=v.i090,_=v.i180,$=v.i270,S=s(1873),O=S.clearOutlineControllers,D=s(165),N=D.pointsOnRectangle,M=D.pointsOnEllipse,k=D.writePaths,R=s(551).newShapes,F=s(551).createShapeObj,H=s(5855),j=s(8100);L.exports=function K(ae,Q,he,ge){ge||(ge=0);var Se=he.gd;function ce(){K(ae,Q,he,ge++),(M(ae[0])||he.hasText)&&ne({redrawing:!0})}function ne(Xe){var qe={};he.isActiveShape!==void 0&&(he.isActiveShape=!1,qe=R(Q,he)),he.isActiveSelection!==void 0&&(he.isActiveSelection=!1,qe=H(Q,he),Se._fullLayout._reselect=!0),Object.keys(qe).length&&d.call((Xe||{}).redrawing?"relayout":"_guiRelayout",Se,qe)}var fe=Se._fullLayout,X=fe._zoomlayer,ye=he.dragmode,Ce=i(ye),$e=u(ye);(Ce||$e)&&(Se._fullLayout._outlining=!0),O(Se),Q.attr("d",k(ae));var ke,Ne,Ve,Oe,Fe;if(!ge&&(he.isActiveShape||he.isActiveSelection)){Fe=P([],ae);var ie=X.append("g").attr("class","outline-controllers");Me(ie),Ge()}if(Ce&&he.hasText){var we=X.select(".label-temp"),se=F(Q,he,he.dragmode);j(Se,"label-temp",se,we)}function ue(Xe){Ve=+Xe.srcElement.getAttribute("data-i"),Oe=+Xe.srcElement.getAttribute("data-j"),ke[Ve][Oe].moveFn=pe}function pe(Xe,qe){if(ae.length){var gt=Fe[Ve][Oe][1],ut=Fe[Ve][Oe][2],tt=ae[Ve],Ct=tt.length;if(N(tt)){var Gt=Xe,Yt=qe;if(he.isActiveSelection){var Nt=ee(tt,Oe);Nt[1]===tt[Oe][1]?Yt=0:Gt=0}for(var Ft=0;Ft<Ct;Ft++)if(Ft!==Oe){var pn=tt[Ft];pn[1]===tt[Oe][1]&&(pn[1]=gt+Gt),pn[2]===tt[Oe][2]&&(pn[2]=ut+Yt)}if(tt[Oe][1]=gt+Gt,tt[Oe][2]=ut+Yt,!N(tt))for(var _n=0;_n<Ct;_n++)for(var sn=0;sn<tt[_n].length;sn++)tt[_n][sn]=Fe[Ve][_n][sn]}else tt[Oe][1]=gt+Xe,tt[Oe][2]=ut+qe;ce()}}function le(){ne()}function Te(){if(ae.length&&ae[Ve]&&ae[Ve].length){for(var Xe=[],qe=0;qe<ae[Ve].length;qe++)qe!==Oe&&Xe.push(ae[Ve][qe]);Xe.length>1&&!(Xe.length===2&&Xe[1][0]==="Z")&&(Oe===0&&(Xe[0][0]="M"),ae[Ve]=Xe,ce(),ne())}}function de(Xe,qe){if(Xe===2){Ve=+qe.srcElement.getAttribute("data-i"),Oe=+qe.srcElement.getAttribute("data-j");var gt=ae[Ve];!N(gt)&&!M(gt)&&Te()}}function Me(Xe){ke=[];for(var qe=0;qe<ae.length;qe++){var gt=ae[qe],ut=N(gt),tt=!ut&&M(gt);ke[qe]=[];for(var Ct=gt.length,Gt=0;Gt<Ct;Gt++)if(gt[Gt][0]!=="Z"&&!(tt&&Gt!==x&&Gt!==C&&Gt!==_&&Gt!==$)){var Yt=ut&&he.isActiveSelection,Nt;Yt&&(Nt=ee(gt,Gt));var Ft=gt[Gt][1],pn=gt[Gt][2],_n=Xe.append(Yt?"rect":"circle").attr("data-i",qe).attr("data-j",Gt).style({fill:g.background,stroke:g.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(Yt){var sn=Nt[1]-Ft,Zn=Nt[2]-pn,an=Zn?5:Math.max(Math.min(25,Math.abs(sn)-5),5),Cn=sn?5:Math.max(Math.min(25,Math.abs(Zn)-5),5);_n.classed(Zn?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",an).attr("height",Cn).attr("x",Ft-an/2).attr("y",pn-Cn/2).attr("transform",h(sn/2,Zn/2))}else _n.classed("cursor-grab",!0).attr("r",5).attr("cx",Ft).attr("cy",pn);ke[qe][Gt]={element:_n.node(),gd:Se,prepFn:ue,doneFn:le,clickFn:de},l.init(ke[qe][Gt])}}}function Re(Xe,qe){if(ae.length)for(var gt=0;gt<ae.length;gt++)for(var ut=0;ut<ae[gt].length;ut++)for(var tt=0;tt+2<ae[gt][ut].length;tt+=2)ae[gt][ut][tt+1]=Fe[gt][ut][tt+1]+Xe,ae[gt][ut][tt+2]=Fe[gt][ut][tt+2]+qe}function ze(Xe,qe){Re(Xe,qe),ce()}function We(Xe){Ve=+Xe.srcElement.getAttribute("data-i"),Ve||(Ve=0),Ne[Ve].moveFn=ze}function ot(){ne()}function dt(Xe){Xe===2&&J(Se)}function Ge(){if(Ne=[],!!ae.length){var Xe=0;Ne[Xe]={element:Q[0][0],gd:Se,prepFn:We,doneFn:ot,clickFn:dt},l.init(Ne[Xe])}}};function P(K,ae){for(var Q=0;Q<ae.length;Q++){var he=ae[Q];K[Q]=[];for(var ge=0;ge<he.length;ge++){K[Q][ge]=[];for(var Se=0;Se<he[ge].length;Se++)K[Q][ge][Se]=he[ge][Se]}}return K}function ee(K,ae){var Q=K[ae][1],he=K[ae][2],ge=K.length,Se,ce,ne;return Se=(ae+1)%ge,ce=K[Se][1],ne=K[Se][2],ce===Q&&ne===he&&(Se=(ae+2)%ge,ce=K[Se][1],ne=K[Se][2]),[Se,ce,ne]}function J(K){if(u(K._fullLayout.dragmode)){O(K);var ae=K._fullLayout._activeSelectionIndex,Q=(K.layout||{}).selections||[];if(ae<Q.length){for(var he=[],ge=0;ge<Q.length;ge++)ge!==ae&&he.push(Q[ge]);delete K._fullLayout._activeSelectionIndex;var Se=K._fullLayout.selections[ae];K._fullLayout._deselect={xref:Se.xref,yref:Se.yref},d.call("_guiRelayout",K,{selections:he})}}}},4031:function(L,A,s){var m=s(9898),h=s(3972),l=s(1828),c=s(9298),i=s(165).readPaths,u=s(2359),d=s(8100),g=s(1873).clearOutlineControllers,v=s(7901),x=s(1424),C=s(4467).arrayEditor,_=s(8569),$=s(6964),S=s(1459),O=s(477),D=O.getPathString;L.exports={draw:N,drawOne:R,eraseActiveShape:J,drawLabel:d};function N(K){var ae=K._fullLayout;ae._shapeUpperLayer.selectAll("path").remove(),ae._shapeLowerLayer.selectAll("path").remove(),ae._shapeUpperLayer.selectAll("text").remove(),ae._shapeLowerLayer.selectAll("text").remove();for(var Q in ae._plots){var he=ae._plots[Q].shapelayer;he&&(he.selectAll("path").remove(),he.selectAll("text").remove())}for(var ge=0;ge<ae.shapes.length;ge++)ae.shapes[ge].visible===!0&&R(K,ge)}function M(K){return!!K._fullLayout._outlining}function k(K){return!K._context.edits.shapePosition}function R(K,ae){K._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+ae+'"]').remove();var Q=O.makeShapesOptionsAndPlotinfo(K,ae),he=Q.options,ge=Q.plotinfo;if(!he._input||he.visible!==!0)return;if(he.layer!=="below")ce(K._fullLayout._shapeUpperLayer);else if(he.xref==="paper"||he.yref==="paper")ce(K._fullLayout._shapeLowerLayer);else if(ge._hadPlotinfo){var Se=ge.mainplotinfo||ge;ce(Se.shapelayer)}else ce(K._fullLayout._shapeLowerLayer);function ce(ne){var fe=D(K,he),X={"data-index":ae,"fill-rule":he.fillrule,d:fe},ye=he.opacity,Ce=he.fillcolor,$e=he.line.width?he.line.color:"rgba(0,0,0,0)",ke=he.line.width,Ne=he.line.dash;!ke&&he.editable===!0&&(ke=5,Ne="solid");var Ve=fe[fe.length-1]!=="Z",Oe=k(K)&&he.editable&&K._fullLayout._activeShapeIndex===ae;Oe&&(Ce=Ve?"rgba(0,0,0,0)":K._fullLayout.activeshape.fillcolor,ye=K._fullLayout.activeshape.opacity);var Fe=ne.append("g").classed("shape-group",!0).attr({"data-index":ae}),ie=Fe.append("path").attr(X).style("opacity",ye).call(v.stroke,$e).call(v.fill,Ce).call(x.dashLine,Ne,ke);F(Fe,K,he),d(K,ae,he,Fe);var we;if((Oe||K._context.edits.shapePosition)&&(we=C(K.layout,"shapes",he)),Oe){ie.style({cursor:"move"});var se={element:ie.node(),plotinfo:ge,gd:K,editHelpers:we,hasText:he.label.text||he.label.texttemplate,isActiveShape:!0},ue=i(fe,K);u(ue,ie,se)}else K._context.edits.shapePosition?H(K,ie,he,ae,ne,we):he.editable===!0&&ie.style("pointer-events",Ve||v.opacity(Ce)*ye<=.5?"stroke":"all");ie.node().addEventListener("click",function(){return P(K,ie)})}}function F(K,ae,Q){var he=(Q.xref+Q.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");x.setClipUrl(K,he?"clip"+ae._fullLayout._uid+he:null,ae)}function H(K,ae,Q,he,ge,Se){var ce=10,ne=10,fe=Q.xsizemode==="pixel",X=Q.ysizemode==="pixel",ye=Q.type==="line",Ce=Q.type==="path",$e=Se.modifyItem,ke,Ne,Ve,Oe,Fe,ie,we,se,ue,pe,le,Te,de,Me,Re,ze=m.select(ae.node().parentNode),We=c.getFromId(K,Q.xref),ot=c.getRefType(Q.xref),dt=c.getFromId(K,Q.yref),Ge=c.getRefType(Q.yref),Xe=O.getDataToPixel(K,We,!1,ot),qe=O.getDataToPixel(K,dt,!0,Ge),gt=O.getPixelToData(K,We,!1,ot),ut=O.getPixelToData(K,dt,!0,Ge),tt=Yt(),Ct={element:tt.node(),gd:K,prepFn:pn,doneFn:_n,clickFn:sn},Gt;_.init(Ct),tt.node().onmousemove=Ft;function Yt(){return ye?Nt():ae}function Nt(){var wn=10,lt=Math.max(Q.line.width,wn),ft=ge.append("g").attr("data-index",he).attr("drag-helper",!0);ft.append("path").attr("d",ae.attr("d")).style({cursor:"move","stroke-width":lt,"stroke-opacity":"0"});var wt={"fill-opacity":"0"},vt=Math.max(lt/2,wn);return ft.append("circle").attr({"data-line-point":"start-point",cx:fe?Xe(Q.xanchor)+Q.x0:Xe(Q.x0),cy:X?qe(Q.yanchor)-Q.y0:qe(Q.y0),r:vt}).style(wt).classed("cursor-grab",!0),ft.append("circle").attr({"data-line-point":"end-point",cx:fe?Xe(Q.xanchor)+Q.x1:Xe(Q.x1),cy:X?qe(Q.yanchor)-Q.y1:qe(Q.y1),r:vt}).style(wt).classed("cursor-grab",!0),ft}function Ft(wn){if(M(K)){Gt=null;return}if(ye)wn.target.tagName==="path"?Gt="move":Gt=wn.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var lt=Ct.element.getBoundingClientRect(),ft=lt.right-lt.left,wt=lt.bottom-lt.top,vt=wn.clientX-lt.left,$t=wn.clientY-lt.top,Ze=!Ce&&ft>ce&&wt>ne&&!wn.shiftKey?_.getCursor(vt/ft,1-$t/wt):"move";$(ae,Ze),Gt=Ze.split("-")[0]}}function pn(wn){M(K)||(fe&&(Fe=Xe(Q.xanchor)),X&&(ie=qe(Q.yanchor)),Q.type==="path"?Re=Q.path:(ke=fe?Q.x0:Xe(Q.x0),Ne=X?Q.y0:qe(Q.y0),Ve=fe?Q.x1:Xe(Q.x1),Oe=X?Q.y1:qe(Q.y1)),ke<Ve?(ue=ke,de="x0",pe=Ve,Me="x1"):(ue=Ve,de="x1",pe=ke,Me="x0"),!X&&Ne<Oe||X&&Ne>Oe?(we=Ne,le="y0",se=Oe,Te="y1"):(we=Oe,le="y1",se=Ne,Te="y0"),Ft(wn),Cn(ge,Q),Wn(ae,Q,K),Ct.moveFn=Gt==="move"?Zn:an,Ct.altKey=wn.altKey)}function _n(){M(K)||($(ae),jn(ge),F(ae,K,Q),h.call("_guiRelayout",K,Se.getUpdateObj()))}function sn(){M(K)||jn(ge)}function Zn(wn,lt){if(Q.type==="path"){var ft=function($t){return $t},wt=ft,vt=ft;fe?$e("xanchor",Q.xanchor=gt(Fe+wn)):(wt=function(Ze){return gt(Xe(Ze)+wn)},We&&We.type==="date"&&(wt=O.encodeDate(wt))),X?$e("yanchor",Q.yanchor=ut(ie+lt)):(vt=function(Ze){return ut(qe(Ze)+lt)},dt&&dt.type==="date"&&(vt=O.encodeDate(vt))),$e("path",Q.path=j(Re,wt,vt))}else fe?$e("xanchor",Q.xanchor=gt(Fe+wn)):($e("x0",Q.x0=gt(ke+wn)),$e("x1",Q.x1=gt(Ve+wn))),X?$e("yanchor",Q.yanchor=ut(ie+lt)):($e("y0",Q.y0=ut(Ne+lt)),$e("y1",Q.y1=ut(Oe+lt)));ae.attr("d",D(K,Q)),Cn(ge,Q),d(K,he,Q,ze)}function an(wn,lt){if(Ce){var ft=function(tr){return tr},wt=ft,vt=ft;fe?$e("xanchor",Q.xanchor=gt(Fe+wn)):(wt=function(Er){return gt(Xe(Er)+wn)},We&&We.type==="date"&&(wt=O.encodeDate(wt))),X?$e("yanchor",Q.yanchor=ut(ie+lt)):(vt=function(Er){return ut(qe(Er)+lt)},dt&&dt.type==="date"&&(vt=O.encodeDate(vt))),$e("path",Q.path=j(Re,wt,vt))}else if(ye){if(Gt==="resize-over-start-point"){var $t=ke+wn,Ze=X?Ne-lt:Ne+lt;$e("x0",Q.x0=fe?$t:gt($t)),$e("y0",Q.y0=X?Ze:ut(Ze))}else if(Gt==="resize-over-end-point"){var it=Ve+wn,ht=X?Oe-lt:Oe+lt;$e("x1",Q.x1=fe?it:gt(it)),$e("y1",Q.y1=X?ht:ut(ht))}}else{var pt=function(tr){return Gt.indexOf(tr)!==-1},Tt=pt("n"),Et=pt("s"),fn=pt("w"),tn=pt("e"),Zt=Tt?we+lt:we,Dt=Et?se+lt:se,un=fn?ue+wn:ue,Un=tn?pe+wn:pe;X&&(Tt&&(Zt=we-lt),Et&&(Dt=se-lt)),(!X&&Dt-Zt>ne||X&&Zt-Dt>ne)&&($e(le,Q[le]=X?Zt:ut(Zt)),$e(Te,Q[Te]=X?Dt:ut(Dt))),Un-un>ce&&($e(de,Q[de]=fe?un:gt(un)),$e(Me,Q[Me]=fe?Un:gt(Un)))}ae.attr("d",D(K,Q)),Cn(ge,Q),d(K,he,Q,ze)}function Cn(wn,lt){(fe||X)&&ft();function ft(){var wt=lt.type!=="path",vt=wn.selectAll(".visual-cue").data([0]),$t=1;vt.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":$t}).classed("visual-cue",!0);var Ze=Xe(fe?lt.xanchor:l.midRange(wt?[lt.x0,lt.x1]:O.extractPathCoords(lt.path,S.paramIsX))),it=qe(X?lt.yanchor:l.midRange(wt?[lt.y0,lt.y1]:O.extractPathCoords(lt.path,S.paramIsY)));if(Ze=O.roundPositionForSharpStrokeRendering(Ze,$t),it=O.roundPositionForSharpStrokeRendering(it,$t),fe&&X){var ht="M"+(Ze-1-$t)+","+(it-1-$t)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";vt.attr("d",ht)}else if(fe){var pt="M"+(Ze-1-$t)+","+(it-9-$t)+"v18 h2 v-18 Z";vt.attr("d",pt)}else{var Tt="M"+(Ze-9-$t)+","+(it-1-$t)+"h18 v2 h-18 Z";vt.attr("d",Tt)}}}function jn(wn){wn.selectAll(".visual-cue").remove()}function Wn(wn,lt,ft){var wt=lt.xref,vt=lt.yref,$t=c.getFromId(ft,wt),Ze=c.getFromId(ft,vt),it="";wt!=="paper"&&!$t.autorange&&(it+=wt),vt!=="paper"&&!Ze.autorange&&(it+=vt),x.setClipUrl(wn,it?"clip"+ft._fullLayout._uid+it:null,ft)}}function j(K,ae,Q){return K.replace(S.segmentRE,function(he){var ge=0,Se=he.charAt(0),ce=S.paramIsX[Se],ne=S.paramIsY[Se],fe=S.numParams[Se],X=he.substr(1).replace(S.paramRE,function(ye){return ge>=fe||(ce[ge]?ye=ae(ye):ne[ge]&&(ye=Q(ye)),ge++),ye});return Se+X})}function P(K,ae){if(k(K)){var Q=ae.node(),he=+Q.getAttribute("data-index");if(he>=0){if(he===K._fullLayout._activeShapeIndex){ee(K);return}K._fullLayout._activeShapeIndex=he,K._fullLayout._deactivateShape=ee,N(K)}}}function ee(K){if(k(K)){var ae=K._fullLayout._activeShapeIndex;ae>=0&&(g(K),delete K._fullLayout._activeShapeIndex,N(K))}}function J(K){if(k(K)){g(K);var ae=K._fullLayout._activeShapeIndex,Q=(K.layout||{}).shapes||[];if(ae<Q.length){for(var he=[],ge=0;ge<Q.length;ge++)ge!==ae&&he.push(Q[ge]);return delete K._fullLayout._activeShapeIndex,h.call("_guiRelayout",K,{shapes:he})}}}},9241:function(L,A,s){var m=s(962).overrideAll,h=s(9012),l=s(1940),c=s(9952).P,i=s(1426).extendFlat,u=s(5386).R,d=s(7281);L.exports=m({newshape:{visible:i({},h.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:i({},h.legend,{}),legendgroup:i({},h.legendgroup,{}),legendgrouptitle:{text:i({},h.legendgrouptitle.text,{}),font:l({})},legendrank:i({},h.legendrank,{}),legendwidth:i({},h.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:i({},c,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:i({},h.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:u({newshape:!0},{keys:Object.keys(d)}),font:l({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},9995:function(L){var A=32;L.exports={CIRCLE_SIDES:A,i000:0,i090:A/4,i180:A/2,i270:A/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},5547:function(L,A,s){var m=s(7901),h=s(1828);function l(c,i){return c?"bottom":i.indexOf("top")!==-1?"top":i.indexOf("bottom")!==-1?"bottom":"middle"}L.exports=function(i,u,d){d("newshape.visible"),d("newshape.name"),d("newshape.showlegend"),d("newshape.legend"),d("newshape.legendwidth"),d("newshape.legendgroup"),d("newshape.legendgrouptitle.text"),h.coerceFont(d,"newshape.legendgrouptitle.font"),d("newshape.legendrank"),d("newshape.drawdirection"),d("newshape.layer"),d("newshape.fillcolor"),d("newshape.fillrule"),d("newshape.opacity");var g=d("newshape.line.width");if(g){var v=(i||{}).plot_bgcolor||"#FFF";d("newshape.line.color",m.contrast(v)),d("newshape.line.dash")}var x=i.dragmode==="drawline",C=d("newshape.label.text"),_=d("newshape.label.texttemplate");if(C||_){d("newshape.label.textangle");var $=d("newshape.label.textposition",x?"middle":"middle center");d("newshape.label.xanchor"),d("newshape.label.yanchor",l(x,$)),d("newshape.label.padding"),h.coerceFont(d,"newshape.label.font",u.font)}d("activeshape.fillcolor"),d("activeshape.opacity")}},165:function(L,A,s){var m=s(5616),h=s(9995),l=h.CIRCLE_SIDES,c=h.SQRT2,i=s(5549),u=i.p2r,d=i.r2p,g=[0,3,4,5,6,1,2],v=[0,3,4,1,2];A.writePaths=function(_){var $=_.length;if(!$)return"M0,0Z";for(var S="",O=0;O<$;O++)for(var D=_[O].length,N=0;N<D;N++){var M=_[O][N][0];if(M==="Z")S+="Z";else for(var k=_[O][N].length,R=0;R<k;R++){var F=R;M==="Q"||M==="S"?F=v[R]:M==="C"&&(F=g[R]),S+=_[O][N][F],R>0&&R<k-1&&(S+=",")}}return S},A.readPaths=function(_,$,S,O){var D=m(_),N=[],M=-1,k=function(){M++,N[M]=[]},R,F=0,H=0,j,P,ee=function(){j=F,P=H};ee();for(var J=0;J<D.length;J++){var K=[],ae,Q,he,ge,Se=D[J][0],ce=Se;switch(Se){case"M":k(),F=+D[J][1],H=+D[J][2],K.push([ce,F,H]),ee();break;case"Q":case"S":ae=+D[J][1],he=+D[J][2],F=+D[J][3],H=+D[J][4],K.push([ce,F,H,ae,he]);break;case"C":ae=+D[J][1],he=+D[J][2],Q=+D[J][3],ge=+D[J][4],F=+D[J][5],H=+D[J][6],K.push([ce,F,H,ae,he,Q,ge]);break;case"T":case"L":F=+D[J][1],H=+D[J][2],K.push([ce,F,H]);break;case"H":ce="L",F=+D[J][1],K.push([ce,F,H]);break;case"V":ce="L",H=+D[J][1],K.push([ce,F,H]);break;case"A":ce="L";var ne=+D[J][1],fe=+D[J][2];+D[J][4]||(ne=-ne,fe=-fe);var X=F-ne,ye=H;for(R=1;R<=l/2;R++){var Ce=2*Math.PI*R/l;K.push([ce,X+ne*Math.cos(Ce),ye+fe*Math.sin(Ce)])}break;case"Z":(F!==j||H!==P)&&(F=j,H=P,K.push([ce,F,H]));break}for(var $e=(S||{}).domain,ke=$._fullLayout._size,Ne=S&&S.xsizemode==="pixel",Ve=S&&S.ysizemode==="pixel",Oe=O===!1,Fe=0;Fe<K.length;Fe++){for(R=0;R+2<7;R+=2){var ie=K[Fe][R+1],we=K[Fe][R+2];ie===void 0||we===void 0||(F=ie,H=we,S&&(S.xaxis&&S.xaxis.p2r?(Oe&&(ie-=S.xaxis._offset),Ne?ie=d(S.xaxis,S.xanchor)+ie:ie=u(S.xaxis,ie)):(Oe&&(ie-=ke.l),$e?ie=$e.x[0]+ie/ke.w:ie=ie/ke.w),S.yaxis&&S.yaxis.p2r?(Oe&&(we-=S.yaxis._offset),Ve?we=d(S.yaxis,S.yanchor)-we:we=u(S.yaxis,we)):(Oe&&(we-=ke.t),$e?we=$e.y[1]-we/ke.h:we=1-we/ke.h)),K[Fe][R+1]=ie,K[Fe][R+2]=we)}N[M].push(K[Fe].slice())}}return N};function x(_,$){return Math.abs(_-$)<=1e-6}function C(_,$){var S=$[1]-_[1],O=$[2]-_[2];return Math.sqrt(S*S+O*O)}A.pointsOnRectangle=function(_){var $=_.length;if($!==5)return!1;for(var S=1;S<3;S++){var O=_[0][S]-_[1][S],D=_[3][S]-_[2][S];if(!x(O,D))return!1;var N=_[0][S]-_[3][S],M=_[1][S]-_[2][S];if(!x(N,M))return!1}return!x(_[0][1],_[1][1])&&!x(_[0][1],_[3][1])?!1:!!(C(_[0],_[1])*C(_[0],_[3]))},A.pointsOnEllipse=function(_){var $=_.length;if($!==l+1)return!1;$=l;for(var S=0;S<$;S++){var O=($*2-S)%$,D=($/2+O)%$,N=($/2+S)%$;if(!x(C(_[S],_[N]),C(_[O],_[D])))return!1}return!0},A.handleEllipse=function(_,$,S){if(!_)return[$,S];var O=A.ellipseOver({x0:$[0],y0:$[1],x1:S[0],y1:S[1]}),D=(O.x1+O.x0)/2,N=(O.y1+O.y0)/2,M=(O.x1-O.x0)/2,k=(O.y1-O.y0)/2;M||(M=k=k/c),k||(k=M=M/c);for(var R=[],F=0;F<l;F++){var H=F*2*Math.PI/l;R.push([D+M*Math.cos(H),N+k*Math.sin(H)])}return R},A.ellipseOver=function(_){var $=_.x0,S=_.y0,O=_.x1,D=_.y1,N=O-$,M=D-S;$-=N,S-=M;var k=($+O)/2,R=(S+D)/2,F=c;return N*=F,M*=F,{x0:k-N,y0:R-M,x1:k+N,y1:R+M}},A.fixDatesForPaths=function(_,$,S){var O=$.type==="date",D=S.type==="date";if(!O&&!D)return _;for(var N=0;N<_.length;N++)for(var M=0;M<_[N].length;M++)for(var k=0;k+2<_[N][M].length;k+=2)O&&(_[N][M][k+1]=_[N][M][k+1].replace(" ","_")),D&&(_[N][M][k+2]=_[N][M][k+2].replace(" ","_"));return _}},551:function(L,A,s){var m=s(4505),h=m.drawMode,l=m.openMode,c=s(9995),i=c.i000,u=c.i090,d=c.i180,g=c.i270,v=c.cos45,x=c.sin45,C=s(5549),_=C.p2r,$=C.r2p,S=s(1873),O=S.clearOutline,D=s(165),N=D.readPaths,M=D.writePaths,k=D.ellipseOver,R=D.fixDatesForPaths;function F(j,P){if(j.length){var ee=j[0][0];if(ee){var J=P.gd,K=P.isActiveShape,ae=P.dragmode,Q=(J.layout||{}).shapes||[];if(!h(ae)&&K!==void 0){var he=J._fullLayout._activeShapeIndex;if(he<Q.length)switch(J._fullLayout.shapes[he].type){case"rect":ae="drawrect";break;case"circle":ae="drawcircle";break;case"line":ae="drawline";break;case"path":var ge=Q[he].path||"";ge[ge.length-1]==="Z"?ae="drawclosedpath":ae="drawopenpath";break}}var Se=H(j,P,ae);O(J);for(var ce=P.editHelpers,ne=(ce||{}).modifyItem,fe=[],X=0;X<Q.length;X++){var ye=J._fullLayout.shapes[X];if(fe[X]=ye._input,K!==void 0&&X===J._fullLayout._activeShapeIndex){var Ce=Se;switch(ye.type){case"line":case"rect":case"circle":ne("x0",Ce.x0),ne("x1",Ce.x1),ne("y0",Ce.y0),ne("y1",Ce.y1);break;case"path":ne("path",Ce.path);break}}}return K===void 0?(fe.push(Se),fe):ce?ce.getUpdateObj():{}}}}function H(j,P,ee){var J=j[0][0],K=P.gd,ae=J.getAttribute("d"),Q=K._fullLayout.newshape,he=P.plotinfo,ge=P.isActiveShape,Se=he.xaxis,ce=he.yaxis,ne=!!he.domain||!he.xaxis,fe=!!he.domain||!he.yaxis,X=l(ee),ye=N(ae,K,he,ge),Ce={editable:!0,visible:Q.visible,name:Q.name,showlegend:Q.showlegend,legend:Q.legend,legendwidth:Q.legendwidth,legendgroup:Q.legendgroup,legendgrouptitle:{text:Q.legendgrouptitle.text,font:Q.legendgrouptitle.font},legendrank:Q.legendrank,label:Q.label,xref:ne?"paper":Se._id,yref:fe?"paper":ce._id,layer:Q.layer,opacity:Q.opacity,line:{color:Q.line.color,width:Q.line.width,dash:Q.line.dash}};X||(Ce.fillcolor=Q.fillcolor,Ce.fillrule=Q.fillrule);var $e;if(ye.length===1&&($e=ye[0]),$e&&$e.length===5&&ee==="drawrect")Ce.type="rect",Ce.x0=$e[0][1],Ce.y0=$e[0][2],Ce.x1=$e[2][1],Ce.y1=$e[2][2];else if($e&&ee==="drawline")Ce.type="line",Ce.x0=$e[0][1],Ce.y0=$e[0][2],Ce.x1=$e[1][1],Ce.y1=$e[1][2];else if($e&&ee==="drawcircle"){Ce.type="circle";var ke=$e[i][1],Ne=$e[u][1],Ve=$e[d][1],Oe=$e[g][1],Fe=$e[i][2],ie=$e[u][2],we=$e[d][2],se=$e[g][2],ue=he.xaxis&&(he.xaxis.type==="date"||he.xaxis.type==="log"),pe=he.yaxis&&(he.yaxis.type==="date"||he.yaxis.type==="log");ue&&(ke=$(he.xaxis,ke),Ne=$(he.xaxis,Ne),Ve=$(he.xaxis,Ve),Oe=$(he.xaxis,Oe)),pe&&(Fe=$(he.yaxis,Fe),ie=$(he.yaxis,ie),we=$(he.yaxis,we),se=$(he.yaxis,se));var le=(Ne+Oe)/2,Te=(Fe+we)/2,de=(Oe-Ne+Ve-ke)/2,Me=(se-ie+we-Fe)/2,Re=k({x0:le,y0:Te,x1:le+de*v,y1:Te+Me*x});ue&&(Re.x0=_(he.xaxis,Re.x0),Re.x1=_(he.xaxis,Re.x1)),pe&&(Re.y0=_(he.yaxis,Re.y0),Re.y1=_(he.yaxis,Re.y1)),Ce.x0=Re.x0,Ce.y0=Re.y0,Ce.x1=Re.x1,Ce.y1=Re.y1}else Ce.type="path",Se&&ce&&R(ye,Se,ce),Ce.path=M(ye),$e=null;return Ce}L.exports={newShapes:F,createShapeObj:H}},1873:function(L){function A(m){var h=m._fullLayout._zoomlayer;h&&h.selectAll(".outline-controllers").remove()}function s(m){var h=m._fullLayout._zoomlayer;h&&h.selectAll(".select-outline").remove(),m._fullLayout._outlining=!1}L.exports={clearOutlineControllers:A,clearOutline:s}},477:function(L,A,s){var m=s(1459),h=s(1828),l=s(9298);A.rangeToShapePosition=function(i){return i.type==="log"?i.r2d:function(u){return u}},A.shapePositionToRange=function(i){return i.type==="log"?i.d2r:function(u){return u}},A.decodeDate=function(i){return function(u){return u.replace&&(u=u.replace("_"," ")),i(u)}},A.encodeDate=function(i){return function(u){return i(u).replace(" ","_")}},A.extractPathCoords=function(i,u,d){var g=[],v=i.match(m.segmentRE);return v.forEach(function(x){var C=u[x.charAt(0)].drawn;if(C!==void 0){var _=x.substr(1).match(m.paramRE);if(!(!_||_.length<C)){var $=_[C],S=d?$:h.cleanNumber($);g.push(S)}}}),g},A.getDataToPixel=function(i,u,d,g){var v=i._fullLayout._size,x;if(u)if(g==="domain")x=function(_){return u._length*(d?1-_:_)+u._offset};else{var C=A.shapePositionToRange(u);x=function(_){return u._offset+u.r2p(C(_,!0))},u.type==="date"&&(x=A.decodeDate(x))}else d?x=function(_){return v.t+v.h*(1-_)}:x=function(_){return v.l+v.w*_};return x},A.getPixelToData=function(i,u,d,g){var v=i._fullLayout._size,x;if(u)if(g==="domain")x=function(_){var $=(_-u._offset)/u._length;return d?1-$:$};else{var C=A.rangeToShapePosition(u);x=function(_){return C(u.p2r(_-u._offset))}}else d?x=function(_){return 1-(_-v.t)/v.h}:x=function(_){return(_-v.l)/v.w};return x},A.roundPositionForSharpStrokeRendering=function(i,u){var d=Math.round(u%2)===1,g=Math.round(i);return d?g+.5:g},A.makeShapesOptionsAndPlotinfo=function(i,u){var d=i._fullLayout.shapes[u]||{},g=i._fullLayout._plots[d.xref+d.yref],v=!!g;return v?g._hadPlotinfo=!0:(g={},d.xref&&d.xref!=="paper"&&(g.xaxis=i._fullLayout[d.xref+"axis"]),d.yref&&d.yref!=="paper"&&(g.yaxis=i._fullLayout[d.yref+"axis"])),g.xsizemode=d.xsizemode,g.ysizemode=d.ysizemode,g.xanchor=d.xanchor,g.yanchor=d.yanchor,{options:d,plotinfo:g}},A.makeSelectionsOptionsAndPlotinfo=function(i,u){var d=i._fullLayout.selections[u]||{},g=i._fullLayout._plots[d.xref+d.yref],v=!!g;return v?g._hadPlotinfo=!0:(g={},d.xref&&(g.xaxis=i._fullLayout[d.xref+"axis"]),d.yref&&(g.yaxis=i._fullLayout[d.yref+"axis"])),{options:d,plotinfo:g}},A.getPathString=function(i,u){var d=u.type,g=l.getRefType(u.xref),v=l.getRefType(u.yref),x=l.getFromId(i,u.xref),C=l.getFromId(i,u.yref),_=i._fullLayout._size,$,S,O,D,N,M,k,R;if(x?g==="domain"?S=function(he){return x._offset+x._length*he}:($=A.shapePositionToRange(x),S=function(he){return x._offset+x.r2p($(he,!0))}):S=function(he){return _.l+_.w*he},C?v==="domain"?D=function(he){return C._offset+C._length*(1-he)}:(O=A.shapePositionToRange(C),D=function(he){return C._offset+C.r2p(O(he,!0))}):D=function(he){return _.t+_.h*(1-he)},d==="path")return x&&x.type==="date"&&(S=A.decodeDate(S)),C&&C.type==="date"&&(D=A.decodeDate(D)),c(u,S,D);if(u.xsizemode==="pixel"){var F=S(u.xanchor);N=F+u.x0,M=F+u.x1}else N=S(u.x0),M=S(u.x1);if(u.ysizemode==="pixel"){var H=D(u.yanchor);k=H-u.y0,R=H-u.y1}else k=D(u.y0),R=D(u.y1);if(d==="line")return"M"+N+","+k+"L"+M+","+R;if(d==="rect")return"M"+N+","+k+"H"+M+"V"+R+"H"+N+"Z";var j=(N+M)/2,P=(k+R)/2,ee=Math.abs(j-N),J=Math.abs(P-k),K="A"+ee+","+J,ae=j+ee+","+P,Q=j+","+(P-J);return"M"+ae+K+" 0 1,1 "+Q+K+" 0 0,1 "+ae+"Z"};function c(i,u,d){var g=i.path,v=i.xsizemode,x=i.ysizemode,C=i.xanchor,_=i.yanchor;return g.replace(m.segmentRE,function($){var S=0,O=$.charAt(0),D=m.paramIsX[O],N=m.paramIsY[O],M=m.numParams[O],k=$.substr(1).replace(m.paramRE,function(R){return D[S]?v==="pixel"?R=u(C)+Number(R):R=u(R):N[S]&&(x==="pixel"?R=d(_)-Number(R):R=d(R)),S++,S>M&&(R="X"),R});return S>M&&(k=k.replace(/[\s,]*X.*/,""),h.log("Ignoring extra params in segment "+$)),O+k})}},9853:function(L,A,s){var m=s(4031);L.exports={moduleType:"component",name:"shapes",layoutAttributes:s(9827),supplyLayoutDefaults:s(4726),supplyDrawNewShapeDefaults:s(5547),includeBasePlot:s(6325)("shapes"),calcAutorange:s(5627),draw:m.draw,drawOne:m.drawOne}},7281:function(L){function A($,S){return S?S.d2l($):$}function s($,S){return S?S.l2d($):$}function m($){return $.x0}function h($){return $.x1}function l($){return $.y0}function c($){return $.y1}function i($,S){return A($.x1,S)-A($.x0,S)}function u($,S,O){return A($.y1,O)-A($.y0,O)}function d($,S){return Math.abs(i($,S))}function g($,S,O){return Math.abs(u($,S,O))}function v($,S,O){return $.type!=="line"?void 0:Math.sqrt(Math.pow(i($,S),2)+Math.pow(u($,S,O),2))}function x($,S){return s((A($.x1,S)+A($.x0,S))/2,S)}function C($,S,O){return s((A($.y1,O)+A($.y0,O))/2,O)}function _($,S,O){return $.type!=="line"?void 0:u($,S,O)/i($,S)}L.exports={x0:m,x1:h,y0:l,y1:c,slope:_,dx:i,dy:u,width:d,height:g,length:v,xcenter:x,ycenter:C}},5067:function(L,A,s){var m=s(1940),h=s(5025),l=s(1426).extendDeepAll,c=s(962).overrideAll,i=s(5594),u=s(4467).templatedArray,d=s(8292),g=u("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});L.exports=c(u("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:g,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:l(h({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:i.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:m({})},font:m({}),activebgcolor:{valType:"color",dflt:d.gripBgActiveColor},bgcolor:{valType:"color",dflt:d.railBgColor},bordercolor:{valType:"color",dflt:d.railBorderColor},borderwidth:{valType:"number",min:0,dflt:d.railBorderWidth},ticklen:{valType:"number",min:0,dflt:d.tickLength},tickcolor:{valType:"color",dflt:d.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:d.minorTickLength}}),"arraydraw","from-root")},8292:function(L){L.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},2343:function(L,A,s){var m=s(1828),h=s(5501),l=s(5067),c=s(8292),i=c.name,u=l.steps;L.exports=function(x,C){h(x,C,{name:i,handleItemDefaults:d})};function d(v,x,C){function _(R,F){return m.coerce(v,x,l,R,F)}for(var $=h(v,x,{name:"steps",handleItemDefaults:g}),S=0,O=0;O<$.length;O++)$[O].visible&&S++;var D;if(S<2?D=x.visible=!1:D=_("visible"),!!D){x._stepCount=S;var N=x._visibleSteps=m.filterVisible($),M=_("active");($[M]||{}).visible||(x.active=N[0]._index),_("x"),_("y"),m.noneOrAll(v,x,["x","y"]),_("xanchor"),_("yanchor"),_("len"),_("lenmode"),_("pad.t"),_("pad.r"),_("pad.b"),_("pad.l"),m.coerceFont(_,"font",C.font);var k=_("currentvalue.visible");k&&(_("currentvalue.xanchor"),_("currentvalue.prefix"),_("currentvalue.suffix"),_("currentvalue.offset"),m.coerceFont(_,"currentvalue.font",x.font)),_("transition.duration"),_("transition.easing"),_("bgcolor"),_("activebgcolor"),_("bordercolor"),_("borderwidth"),_("ticklen"),_("tickwidth"),_("tickcolor"),_("minorticklen")}}function g(v,x){function C(S,O){return m.coerce(v,x,u,S,O)}var _;if(v.method!=="skip"&&!Array.isArray(v.args)?_=x.visible=!1:_=C("visible"),_){C("method"),C("args");var $=C("label","step-"+x._index);C("value",$),C("execute")}}},4504:function(L,A,s){var m=s(9898),h=s(4875),l=s(7901),c=s(1424),i=s(1828),u=i.strTranslate,d=s(3893),g=s(4467).arrayEditor,v=s(8292),x=s(8783),C=x.LINE_SPACING,_=x.FROM_TL,$=x.FROM_BR;L.exports=function(ne){var fe=ne._context.staticPlot,X=ne._fullLayout,ye=O(X,ne),Ce=X._infolayer.selectAll("g."+v.containerClassName).data(ye.length>0?[0]:[]);Ce.enter().append("g").classed(v.containerClassName,!0).style("cursor",fe?null:"ew-resize");function $e(Oe){Oe._commandObserver&&(Oe._commandObserver.remove(),delete Oe._commandObserver),h.autoMargin(ne,S(Oe))}if(Ce.exit().each(function(){m.select(this).selectAll("g."+v.groupClassName).each($e)}).remove(),ye.length!==0){var ke=Ce.selectAll("g."+v.groupClassName).data(ye,D);ke.enter().append("g").classed(v.groupClassName,!0),ke.exit().each($e).remove();for(var Ne=0;Ne<ye.length;Ne++){var Ve=ye[Ne];N(ne,Ve)}ke.each(function(Oe){var Fe=m.select(this);K(Oe),h.manageCommandObserver(ne,Oe,Oe._visibleSteps,function(ie){var we=Fe.data()[0];we.active!==ie.index&&(we._dragging||P(ne,Fe,we,ie.index,!1,!0))}),M(ne,m.select(this),Oe)})}};function S(ce){return v.autoMarginIdRoot+ce._index}function O(ce,ne){for(var fe=ce[v.name],X=[],ye=0;ye<fe.length;ye++){var Ce=fe[ye];Ce.visible&&(Ce._gd=ne,X.push(Ce))}return X}function D(ce){return ce._index}function N(ce,ne){var fe=c.tester.selectAll("g."+v.labelGroupClass).data(ne._visibleSteps);fe.enter().append("g").classed(v.labelGroupClass,!0);var X=0,ye=0;fe.each(function(se){var ue=m.select(this),pe=F(ue,{step:se},ne),le=pe.node();if(le){var Te=c.bBox(le);ye=Math.max(ye,Te.height),X=Math.max(X,Te.width)}}),fe.remove();var Ce=ne._dims={};Ce.inputAreaWidth=Math.max(v.railWidth,v.gripHeight);var $e=ce._fullLayout._size;Ce.lx=$e.l+$e.w*ne.x,Ce.ly=$e.t+$e.h*(1-ne.y),ne.lenmode==="fraction"?Ce.outerLength=Math.round($e.w*ne.len):Ce.outerLength=ne.len,Ce.inputAreaStart=0,Ce.inputAreaLength=Math.round(Ce.outerLength-ne.pad.l-ne.pad.r);var ke=Ce.inputAreaLength-2*v.stepInset,Ne=ke/(ne._stepCount-1),Ve=X+v.labelPadding;if(Ce.labelStride=Math.max(1,Math.ceil(Ve/Ne)),Ce.labelHeight=ye,Ce.currentValueMaxWidth=0,Ce.currentValueHeight=0,Ce.currentValueTotalHeight=0,Ce.currentValueMaxLines=1,ne.currentvalue.visible){var Oe=c.tester.append("g");fe.each(function(se){var ue=k(Oe,ne,se.label),pe=ue.node()&&c.bBox(ue.node())||{width:0,height:0},le=d.lineCount(ue);Ce.currentValueMaxWidth=Math.max(Ce.currentValueMaxWidth,Math.ceil(pe.width)),Ce.currentValueHeight=Math.max(Ce.currentValueHeight,Math.ceil(pe.height)),Ce.currentValueMaxLines=Math.max(Ce.currentValueMaxLines,le)}),Ce.currentValueTotalHeight=Ce.currentValueHeight+ne.currentvalue.offset,Oe.remove()}Ce.height=Ce.currentValueTotalHeight+v.tickOffset+ne.ticklen+v.labelOffset+Ce.labelHeight+ne.pad.t+ne.pad.b;var Fe="left";i.isRightAnchor(ne)&&(Ce.lx-=Ce.outerLength,Fe="right"),i.isCenterAnchor(ne)&&(Ce.lx-=Ce.outerLength/2,Fe="center");var ie="top";i.isBottomAnchor(ne)&&(Ce.ly-=Ce.height,ie="bottom"),i.isMiddleAnchor(ne)&&(Ce.ly-=Ce.height/2,ie="middle"),Ce.outerLength=Math.ceil(Ce.outerLength),Ce.height=Math.ceil(Ce.height),Ce.lx=Math.round(Ce.lx),Ce.ly=Math.round(Ce.ly);var we={y:ne.y,b:Ce.height*$[ie],t:Ce.height*_[ie]};ne.lenmode==="fraction"?(we.l=0,we.xl=ne.x-ne.len*_[Fe],we.r=0,we.xr=ne.x+ne.len*$[Fe]):(we.x=ne.x,we.l=Ce.outerLength*_[Fe],we.r=Ce.outerLength*$[Fe]),h.autoMargin(ce,S(ne),we)}function M(ce,ne,fe){(fe.steps[fe.active]||{}).visible||(fe.active=fe._visibleSteps[0]._index),ne.call(k,fe).call(Se,fe).call(H,fe).call(J,fe).call(ge,ce,fe).call(R,ce,fe);var X=fe._dims;c.setTranslate(ne,X.lx+fe.pad.l,X.ly+fe.pad.t),ne.call(ae,fe,!1),ne.call(k,fe)}function k(ce,ne,fe){if(ne.currentvalue.visible){var X=ne._dims,ye,Ce;switch(ne.currentvalue.xanchor){case"right":ye=X.inputAreaLength-v.currentValueInset-X.currentValueMaxWidth,Ce="left";break;case"center":ye=X.inputAreaLength*.5,Ce="middle";break;default:ye=v.currentValueInset,Ce="left"}var $e=i.ensureSingle(ce,"text",v.labelClass,function(ie){ie.attr({"text-anchor":Ce,"data-notex":1})}),ke=ne.currentvalue.prefix?ne.currentvalue.prefix:"";if(typeof fe=="string")ke+=fe;else{var Ne=ne.steps[ne.active].label,Ve=ne._gd._fullLayout._meta;Ve&&(Ne=i.templateString(Ne,Ve)),ke+=Ne}ne.currentvalue.suffix&&(ke+=ne.currentvalue.suffix),$e.call(c.font,ne.currentvalue.font).text(ke).call(d.convertToTspans,ne._gd);var Oe=d.lineCount($e),Fe=(X.currentValueMaxLines+1-Oe)*ne.currentvalue.font.size*C;return d.positionText($e,ye,Fe),$e}}function R(ce,ne,fe){var X=i.ensureSingle(ce,"rect",v.gripRectClass,function(ye){ye.call(ee,ne,ce,fe).style("pointer-events","all")});X.attr({width:v.gripWidth,height:v.gripHeight,rx:v.gripRadius,ry:v.gripRadius}).call(l.stroke,fe.bordercolor).call(l.fill,fe.bgcolor).style("stroke-width",fe.borderwidth+"px")}function F(ce,ne,fe){var X=i.ensureSingle(ce,"text",v.labelClass,function($e){$e.attr({"text-anchor":"middle","data-notex":1})}),ye=ne.step.label,Ce=fe._gd._fullLayout._meta;return Ce&&(ye=i.templateString(ye,Ce)),X.call(c.font,fe.font).text(ye).call(d.convertToTspans,fe._gd),X}function H(ce,ne){var fe=i.ensureSingle(ce,"g",v.labelsClass),X=ne._dims,ye=fe.selectAll("g."+v.labelGroupClass).data(X.labelSteps);ye.enter().append("g").classed(v.labelGroupClass,!0),ye.exit().remove(),ye.each(function(Ce){var $e=m.select(this);$e.call(F,Ce,ne),c.setTranslate($e,Q(ne,Ce.fraction),v.tickOffset+ne.ticklen+ne.font.size*C+v.labelOffset+X.currentValueTotalHeight)})}function j(ce,ne,fe,X,ye){var Ce=Math.round(X*(fe._stepCount-1)),$e=fe._visibleSteps[Ce]._index;$e!==fe.active&&P(ce,ne,fe,$e,!0,ye)}function P(ce,ne,fe,X,ye,Ce){var $e=fe.active;fe.active=X,g(ce.layout,v.name,fe).applyUpdate("active",X);var ke=fe.steps[fe.active];ne.call(ae,fe,Ce),ne.call(k,fe),ce.emit("plotly_sliderchange",{slider:fe,step:fe.steps[fe.active],interaction:ye,previousActive:$e}),ke&&ke.method&&ye&&(ne._nextMethod?(ne._nextMethod.step=ke,ne._nextMethod.doCallback=ye,ne._nextMethod.doTransition=Ce):(ne._nextMethod={step:ke,doCallback:ye,doTransition:Ce},ne._nextMethodRaf=window.requestAnimationFrame(function(){var Ne=ne._nextMethod.step;Ne.method&&(Ne.execute&&h.executeAPICommand(ce,Ne.method,Ne.args),ne._nextMethod=null,ne._nextMethodRaf=null)})))}function ee(ce,ne,fe){if(ne._context.staticPlot)return;var X=fe.node(),ye=m.select(ne);function Ce(){return fe.data()[0]}function $e(){var ke=Ce();ne.emit("plotly_sliderstart",{slider:ke});var Ne=fe.select("."+v.gripRectClass);m.event.stopPropagation(),m.event.preventDefault(),Ne.call(l.fill,ke.activebgcolor);var Ve=he(ke,m.mouse(X)[0]);j(ne,fe,ke,Ve,!0),ke._dragging=!0;function Oe(){var ie=Ce(),we=he(ie,m.mouse(X)[0]);j(ne,fe,ie,we,!1)}ye.on("mousemove",Oe),ye.on("touchmove",Oe);function Fe(){var ie=Ce();ie._dragging=!1,Ne.call(l.fill,ie.bgcolor),ye.on("mouseup",null),ye.on("mousemove",null),ye.on("touchend",null),ye.on("touchmove",null),ne.emit("plotly_sliderend",{slider:ie,step:ie.steps[ie.active]})}ye.on("mouseup",Fe),ye.on("touchend",Fe)}ce.on("mousedown",$e),ce.on("touchstart",$e)}function J(ce,ne){var fe=ce.selectAll("rect."+v.tickRectClass).data(ne._visibleSteps),X=ne._dims;fe.enter().append("rect").classed(v.tickRectClass,!0),fe.exit().remove(),fe.attr({width:ne.tickwidth+"px","shape-rendering":"crispEdges"}),fe.each(function(ye,Ce){var $e=Ce%X.labelStride===0,ke=m.select(this);ke.attr({height:$e?ne.ticklen:ne.minorticklen}).call(l.fill,ne.tickcolor),c.setTranslate(ke,Q(ne,Ce/(ne._stepCount-1))-.5*ne.tickwidth,($e?v.tickOffset:v.minorTickOffset)+X.currentValueTotalHeight)})}function K(ce){var ne=ce._dims;ne.labelSteps=[];for(var fe=ce._stepCount,X=0;X<fe;X+=ne.labelStride)ne.labelSteps.push({fraction:X/(fe-1),step:ce._visibleSteps[X]})}function ae(ce,ne,fe){for(var X=ce.select("rect."+v.gripRectClass),ye=0,Ce=0;Ce<ne._stepCount;Ce++)if(ne._visibleSteps[Ce]._index===ne.active){ye=Ce;break}var $e=Q(ne,ye/(ne._stepCount-1));if(!ne._invokingCommand){var ke=X;fe&&ne.transition.duration>0&&(ke=ke.transition().duration(ne.transition.duration).ease(ne.transition.easing)),ke.attr("transform",u($e-v.gripWidth*.5,ne._dims.currentValueTotalHeight))}}function Q(ce,ne){var fe=ce._dims;return fe.inputAreaStart+v.stepInset+(fe.inputAreaLength-2*v.stepInset)*Math.min(1,Math.max(0,ne))}function he(ce,ne){var fe=ce._dims;return Math.min(1,Math.max(0,(ne-v.stepInset-fe.inputAreaStart)/(fe.inputAreaLength-2*v.stepInset-2*fe.inputAreaStart)))}function ge(ce,ne,fe){var X=fe._dims,ye=i.ensureSingle(ce,"rect",v.railTouchRectClass,function(Ce){Ce.call(ee,ne,ce,fe).style("pointer-events","all")});ye.attr({width:X.inputAreaLength,height:Math.max(X.inputAreaWidth,v.tickOffset+fe.ticklen+X.labelHeight)}).call(l.fill,fe.bgcolor).attr("opacity",0),c.setTranslate(ye,0,X.currentValueTotalHeight)}function Se(ce,ne){var fe=ne._dims,X=fe.inputAreaLength-v.railInset*2,ye=i.ensureSingle(ce,"rect",v.railRectClass);ye.attr({width:X,height:v.railWidth,rx:v.railRadius,ry:v.railRadius,"shape-rendering":"crispEdges"}).call(l.stroke,ne.bordercolor).call(l.fill,ne.bgcolor).style("stroke-width",ne.borderwidth+"px"),c.setTranslate(ye,v.railInset,(fe.inputAreaWidth-v.railWidth)*.5+fe.currentValueTotalHeight)}},3243:function(L,A,s){var m=s(8292);L.exports={moduleType:"component",name:m.name,layoutAttributes:s(5067),supplyLayoutDefaults:s(2343),draw:s(4504)}},2998:function(L,A,s){var m=s(9898),h=s(2770),l=s(4875),c=s(3972),i=s(1828),u=i.strTranslate,d=s(1424),g=s(7901),v=s(3893),x=s(7822),C=s(8783).OPPOSITE_SIDE,_=/ [XY][0-9]* /;function $(S,O,D){var N=D.propContainer,M=D.propName,k=D.placeholder,R=D.traceIndex,F=D.avoid||{},H=D.attributes,j=D.transform,P=D.containerGroup,ee=S._fullLayout,J=1,K=!1,ae=N.title,Q=(ae&&ae.text?ae.text:"").trim(),he=ae&&ae.font?ae.font:{},ge=he.family,Se=he.size,ce=he.color,ne;M==="title.text"?ne="titleText":M.indexOf("axis")!==-1?ne="axisTitleText":M.indexOf("colorbar"!==-1)&&(ne="colorbarTitleText");var fe=S._context.edits[ne];Q===""?J=0:Q.replace(_," % ")===k.replace(_," % ")&&(J=.2,K=!0,fe||(Q="")),D._meta?Q=i.templateString(Q,D._meta):ee._meta&&(Q=i.templateString(Q,ee._meta));var X=Q||fe,ye;P||(P=i.ensureSingle(ee._infolayer,"g","g-"+O),ye=ee._hColorbarMoveTitle);var Ce=P.selectAll("text").data(X?[0]:[]);if(Ce.enter().append("text"),Ce.text(Q).attr("class",O),Ce.exit().remove(),!X)return P;function $e(Oe){i.syncOrAsync([ke,Ne],Oe)}function ke(Oe){var Fe;return!j&&ye&&(j={}),j?(Fe="",j.rotate&&(Fe+="rotate("+[j.rotate,H.x,H.y]+")"),(j.offset||ye)&&(Fe+=u(0,(j.offset||0)-(ye||0)))):Fe=null,Oe.attr("transform",Fe),Oe.style({"font-family":ge,"font-size":m.round(Se,2)+"px",fill:g.rgb(ce),opacity:J*g.opacity(ce),"font-weight":l.fontWeight}).attr(H).call(v.convertToTspans,S),l.previousPromises(S)}function Ne(Oe){var Fe=m.select(Oe.node().parentNode);if(F&&F.selection&&F.side&&Q){Fe.attr("transform",null);var ie=C[F.side],we=F.side==="left"||F.side==="top"?-1:1,se=h(F.pad)?F.pad:2,ue=d.bBox(Fe.node()),pe={t:0,b:0,l:0,r:0},le=S._fullLayout._reservedMargin;for(var Te in le)for(var de in le[Te]){var Me=le[Te][de];pe[de]=Math.max(pe[de],Me)}var Re={left:pe.l,top:pe.t,right:ee.width-pe.r,bottom:ee.height-pe.b},ze=F.maxShift||we*(Re[F.side]-ue[F.side]),We=0;if(ze<0)We=ze;else{var ot=F.offsetLeft||0,dt=F.offsetTop||0;ue.left-=ot,ue.right-=ot,ue.top-=dt,ue.bottom-=dt,F.selection.each(function(){var Xe=d.bBox(this);i.bBoxIntersect(ue,Xe,se)&&(We=Math.max(We,we*(Xe[F.side]-ue[ie])+se))}),We=Math.min(ze,We),N._titleScoot=Math.abs(We)}if(We>0||ze<0){var Ge={left:[-We,0],right:[We,0],top:[0,-We],bottom:[0,We]}[F.side];Fe.attr("transform",u(Ge[0],Ge[1]))}}}Ce.call($e);function Ve(){J=0,K=!0,Ce.text(k).on("mouseover.opacity",function(){m.select(this).transition().duration(x.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){m.select(this).transition().duration(x.HIDE_PLACEHOLDER).style("opacity",0)})}return fe&&(Q?Ce.on(".opacity",null):Ve(),Ce.call(v.makeEditable,{gd:S}).on("edit",function(Oe){R!==void 0?c.call("_guiRestyle",S,M,Oe,R):c.call("_guiRelayout",S,M,Oe)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call($e)}).on("input",function(Oe){this.text(Oe||" ").call(v.positionText,H.x,H.y)})),Ce.classed("js-placeholder",K),P}L.exports={draw:$}},7163:function(L,A,s){var m=s(1940),h=s(2399),l=s(1426).extendFlat,c=s(962).overrideAll,i=s(5025),u=s(4467).templatedArray,d=u("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});L.exports=c(u("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:d,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:l(i({editType:"arraydraw"}),{}),font:m({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:h.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},5909:function(L){L.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},4897:function(L,A,s){var m=s(1828),h=s(5501),l=s(7163),c=s(5909),i=c.name,u=l.buttons;L.exports=function(x,C){var _={name:i,handleItemDefaults:d};h(x,C,_)};function d(v,x,C){function _(O,D){return m.coerce(v,x,l,O,D)}var $=h(v,x,{name:"buttons",handleItemDefaults:g}),S=_("visible",$.length>0);S&&(_("active"),_("direction"),_("type"),_("showactive"),_("x"),_("y"),m.noneOrAll(v,x,["x","y"]),_("xanchor"),_("yanchor"),_("pad.t"),_("pad.r"),_("pad.b"),_("pad.l"),m.coerceFont(_,"font",C.font),_("bgcolor",C.paper_bgcolor),_("bordercolor"),_("borderwidth"))}function g(v,x){function C($,S){return m.coerce(v,x,u,$,S)}var _=C("visible",v.method==="skip"||Array.isArray(v.args));_&&(C("method"),C("args"),C("args2"),C("label"),C("execute"))}},3689:function(L,A,s){var m=s(9898),h=s(4875),l=s(7901),c=s(1424),i=s(1828),u=s(3893),d=s(4467).arrayEditor,g=s(8783).LINE_SPACING,v=s(5909),x=s(5849);L.exports=function(he){var ge=he._fullLayout,Se=i.filterVisible(ge[v.name]);function ce(Ne){h.autoMargin(he,J(Ne))}var ne=ge._menulayer.selectAll("g."+v.containerClassName).data(Se.length>0?[0]:[]);if(ne.enter().append("g").classed(v.containerClassName,!0).style("cursor","pointer"),ne.exit().each(function(){m.select(this).selectAll("g."+v.headerGroupClassName).each(ce)}).remove(),Se.length!==0){var fe=ne.selectAll("g."+v.headerGroupClassName).data(Se,C);fe.enter().append("g").classed(v.headerGroupClassName,!0);for(var X=i.ensureSingle(ne,"g",v.dropdownButtonGroupClassName,function(Ne){Ne.style("pointer-events","all")}),ye=0;ye<Se.length;ye++){var Ce=Se[ye];ee(he,Ce)}var $e="updatemenus"+ge._uid,ke=new x(he,X,$e);fe.enter().size()&&(X.node().parentNode.appendChild(X.node()),X.call(ae)),fe.exit().each(function(Ne){X.call(ae),ce(Ne)}).remove(),fe.each(function(Ne){var Ve=m.select(this),Oe=Ne.type==="dropdown"?X:null;h.manageCommandObserver(he,Ne,Ne.buttons,function(Fe){S(he,Ne,Ne.buttons[Fe.index],Ve,Oe,ke,Fe.index,!0)}),Ne.type==="dropdown"?(O(he,Ve,X,ke,Ne),$(X,Ne)&&D(he,Ve,X,ke,Ne)):D(he,Ve,null,null,Ne)})}};function C(Q){return Q._index}function _(Q){return+Q.attr(v.menuIndexAttrName)==-1}function $(Q,he){return+Q.attr(v.menuIndexAttrName)===he._index}function S(Q,he,ge,Se,ce,ne,fe,X){he.active=fe,d(Q.layout,v.name,he).applyUpdate("active",fe),he.type==="buttons"?D(Q,Se,null,null,he):he.type==="dropdown"&&(ce.attr(v.menuIndexAttrName,"-1"),O(Q,Se,ce,ne,he),X||D(Q,Se,ce,ne,he))}function O(Q,he,ge,Se,ce){var ne=i.ensureSingle(he,"g",v.headerClassName,function(Ne){Ne.style("pointer-events","all")}),fe=ce._dims,X=ce.active,ye=ce.buttons[X]||v.blankHeaderOpts,Ce={y:ce.pad.t,yPad:0,x:ce.pad.l,xPad:0,index:0},$e={width:fe.headerWidth,height:fe.headerHeight};ne.call(k,ce,ye,Q).call(K,ce,Ce,$e);var ke=i.ensureSingle(he,"text",v.headerArrowClassName,function(Ne){Ne.attr("text-anchor","end").call(c.font,ce.font).text(v.arrowSymbol[ce.direction])});ke.attr({x:fe.headerWidth-v.arrowOffsetX+ce.pad.l,y:fe.headerHeight/2+v.textOffsetY+ce.pad.t}),ne.on("click",function(){ge.call(ae,String($(ge,ce)?-1:ce._index)),D(Q,he,ge,Se,ce)}),ne.on("mouseover",function(){ne.call(j)}),ne.on("mouseout",function(){ne.call(P,ce)}),c.setTranslate(he,fe.lx,fe.ly)}function D(Q,he,ge,Se,ce){ge||(ge=he,ge.attr("pointer-events","all"));var ne=!_(ge)||ce.type==="buttons"?ce.buttons:[],fe=ce.type==="dropdown"?v.dropdownButtonClassName:v.buttonClassName,X=ge.selectAll("g."+fe).data(i.filterVisible(ne)),ye=X.enter().append("g").classed(fe,!0),Ce=X.exit();ce.type==="dropdown"?(ye.attr("opacity","0").transition().attr("opacity","1"),Ce.transition().attr("opacity","0").remove()):Ce.remove();var $e=0,ke=0,Ne=ce._dims,Ve=["up","down"].indexOf(ce.direction)!==-1;ce.type==="dropdown"&&(Ve?ke=Ne.headerHeight+v.gapButtonHeader:$e=Ne.headerWidth+v.gapButtonHeader),ce.type==="dropdown"&&ce.direction==="up"&&(ke=-v.gapButtonHeader+v.gapButton-Ne.openHeight),ce.type==="dropdown"&&ce.direction==="left"&&($e=-v.gapButtonHeader+v.gapButton-Ne.openWidth);var Oe={x:Ne.lx+$e+ce.pad.l,y:Ne.ly+ke+ce.pad.t,yPad:v.gapButton,xPad:v.gapButton,index:0},Fe={l:Oe.x+ce.borderwidth,t:Oe.y+ce.borderwidth};X.each(function(ie,we){var se=m.select(this);se.call(k,ce,ie,Q).call(K,ce,Oe),se.on("click",function(){m.event.defaultPrevented||(ie.execute&&(ie.args2&&ce.active===we?(S(Q,ce,ie,he,ge,Se,-1),h.executeAPICommand(Q,ie.method,ie.args2)):(S(Q,ce,ie,he,ge,Se,we),h.executeAPICommand(Q,ie.method,ie.args))),Q.emit("plotly_buttonclicked",{menu:ce,button:ie,active:ce.active}))}),se.on("mouseover",function(){se.call(j)}),se.on("mouseout",function(){se.call(P,ce),X.call(H,ce)})}),X.call(H,ce),Ve?(Fe.w=Math.max(Ne.openWidth,Ne.headerWidth),Fe.h=Oe.y-Fe.t):(Fe.w=Oe.x-Fe.l,Fe.h=Math.max(Ne.openHeight,Ne.headerHeight)),Fe.direction=ce.direction,Se&&(X.size()?N(Q,he,ge,Se,ce,Fe):M(Se))}function N(Q,he,ge,Se,ce,ne){var fe=ce.direction,X=fe==="up"||fe==="down",ye=ce._dims,Ce=ce.active,$e,ke,Ne;if(X)for(ke=0,Ne=0;Ne<Ce;Ne++)ke+=ye.heights[Ne]+v.gapButton;else for($e=0,Ne=0;Ne<Ce;Ne++)$e+=ye.widths[Ne]+v.gapButton;Se.enable(ne,$e,ke),Se.hbar&&Se.hbar.attr("opacity","0").transition().attr("opacity","1"),Se.vbar&&Se.vbar.attr("opacity","0").transition().attr("opacity","1")}function M(Q){var he=!!Q.hbar,ge=!!Q.vbar;he&&Q.hbar.transition().attr("opacity","0").each("end",function(){he=!1,ge||Q.disable()}),ge&&Q.vbar.transition().attr("opacity","0").each("end",function(){ge=!1,he||Q.disable()})}function k(Q,he,ge,Se){Q.call(R,he).call(F,he,ge,Se)}function R(Q,he){var ge=i.ensureSingle(Q,"rect",v.itemRectClassName,function(Se){Se.attr({rx:v.rx,ry:v.ry,"shape-rendering":"crispEdges"})});ge.call(l.stroke,he.bordercolor).call(l.fill,he.bgcolor).style("stroke-width",he.borderwidth+"px")}function F(Q,he,ge,Se){var ce=i.ensureSingle(Q,"text",v.itemTextClassName,function(X){X.attr({"text-anchor":"start","data-notex":1})}),ne=ge.label,fe=Se._fullLayout._meta;fe&&(ne=i.templateString(ne,fe)),ce.call(c.font,he.font).text(ne).call(u.convertToTspans,Se)}function H(Q,he){var ge=he.active;Q.each(function(Se,ce){var ne=m.select(this);ce===ge&&he.showactive&&ne.select("rect."+v.itemRectClassName).call(l.fill,v.activeColor)})}function j(Q){Q.select("rect."+v.itemRectClassName).call(l.fill,v.hoverColor)}function P(Q,he){Q.select("rect."+v.itemRectClassName).call(l.fill,he.bgcolor)}function ee(Q,he){var ge=he._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},Se=c.tester.selectAll("g."+v.dropdownButtonClassName).data(i.filterVisible(he.buttons));Se.enter().append("g").classed(v.dropdownButtonClassName,!0);var ce=["up","down"].indexOf(he.direction)!==-1;Se.each(function($e,ke){var Ne=m.select(this);Ne.call(k,he,$e,Q);var Ve=Ne.select("."+v.itemTextClassName),Oe=Ve.node()&&c.bBox(Ve.node()).width,Fe=Math.max(Oe+v.textPadX,v.minWidth),ie=he.font.size*g,we=u.lineCount(Ve),se=Math.max(ie*we,v.minHeight)+v.textOffsetY;se=Math.ceil(se),Fe=Math.ceil(Fe),ge.widths[ke]=Fe,ge.heights[ke]=se,ge.height1=Math.max(ge.height1,se),ge.width1=Math.max(ge.width1,Fe),ce?(ge.totalWidth=Math.max(ge.totalWidth,Fe),ge.openWidth=ge.totalWidth,ge.totalHeight+=se+v.gapButton,ge.openHeight+=se+v.gapButton):(ge.totalWidth+=Fe+v.gapButton,ge.openWidth+=Fe+v.gapButton,ge.totalHeight=Math.max(ge.totalHeight,se),ge.openHeight=ge.totalHeight)}),ce?ge.totalHeight-=v.gapButton:ge.totalWidth-=v.gapButton,ge.headerWidth=ge.width1+v.arrowPadX,ge.headerHeight=ge.height1,he.type==="dropdown"&&(ce?(ge.width1+=v.arrowPadX,ge.totalHeight=ge.height1):ge.totalWidth=ge.width1,ge.totalWidth+=v.arrowPadX),Se.remove();var ne=ge.totalWidth+he.pad.l+he.pad.r,fe=ge.totalHeight+he.pad.t+he.pad.b,X=Q._fullLayout._size;ge.lx=X.l+X.w*he.x,ge.ly=X.t+X.h*(1-he.y);var ye="left";i.isRightAnchor(he)&&(ge.lx-=ne,ye="right"),i.isCenterAnchor(he)&&(ge.lx-=ne/2,ye="center");var Ce="top";i.isBottomAnchor(he)&&(ge.ly-=fe,Ce="bottom"),i.isMiddleAnchor(he)&&(ge.ly-=fe/2,Ce="middle"),ge.totalWidth=Math.ceil(ge.totalWidth),ge.totalHeight=Math.ceil(ge.totalHeight),ge.lx=Math.round(ge.lx),ge.ly=Math.round(ge.ly),h.autoMargin(Q,J(he),{x:he.x,y:he.y,l:ne*({right:1,center:.5}[ye]||0),r:ne*({left:1,center:.5}[ye]||0),b:fe*({top:1,middle:.5}[Ce]||0),t:fe*({bottom:1,middle:.5}[Ce]||0)})}function J(Q){return v.autoMarginIdRoot+Q._index}function K(Q,he,ge,Se){Se=Se||{};var ce=Q.select("."+v.itemRectClassName),ne=Q.select("."+v.itemTextClassName),fe=he.borderwidth,X=ge.index,ye=he._dims;c.setTranslate(Q,fe+ge.x,fe+ge.y);var Ce=["up","down"].indexOf(he.direction)!==-1,$e=Se.height||(Ce?ye.heights[X]:ye.height1);ce.attr({x:0,y:0,width:Se.width||(Ce?ye.width1:ye.widths[X]),height:$e});var ke=he.font.size*g,Ne=u.lineCount(ne),Ve=(Ne-1)*ke/2;u.positionText(ne,v.textOffsetX,$e/2-Ve+v.textOffsetY),Ce?ge.y+=ye.heights[X]+ge.yPad:ge.x+=ye.widths[X]+ge.xPad,ge.index++}function ae(Q,he){Q.attr(v.menuIndexAttrName,he||"-1").selectAll("g."+v.dropdownButtonClassName).remove()}},763:function(L,A,s){var m=s(5909);L.exports={moduleType:"component",name:m.name,layoutAttributes:s(7163),supplyLayoutDefaults:s(4897),draw:s(3689)}},5849:function(L,A,s){L.exports=i;var m=s(9898),h=s(7901),l=s(1424),c=s(1828);function i(u,d,g){this.gd=u,this.container=d,this.id=g,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}i.barWidth=2,i.barLength=20,i.barRadius=2,i.barPad=1,i.barColor="#808BA4",i.prototype.enable=function(d,g,v){var x=this.gd._fullLayout,C=x.width,_=x.height;this.position=d;var $=this.position.l,S=this.position.w,O=this.position.t,D=this.position.h,N=this.position.direction,M=N==="down",k=N==="left",R=N==="right",F=N==="up",H=S,j=D,P,ee,J,K;!M&&!k&&!R&&!F&&(this.position.direction="down",M=!0);var ae=M||F;ae?(P=$,ee=P+H,M?(J=O,K=Math.min(J+j,_),j=K-J):(K=O+j,J=Math.max(K-j,0),j=K-J)):(J=O,K=J+j,k?(ee=$+H,P=Math.max(ee-H,0),H=ee-P):(P=$,ee=Math.min(P+H,C),H=ee-P)),this._box={l:P,t:J,w:H,h:j};var Q=S>H,he=i.barLength+2*i.barPad,ge=i.barWidth+2*i.barPad,Se=$,ce=O+D;ce+ge>_&&(ce=_-ge);var ne=this.container.selectAll("rect.scrollbar-horizontal").data(Q?[0]:[]);ne.exit().on(".drag",null).remove(),ne.enter().append("rect").classed("scrollbar-horizontal",!0).call(h.fill,i.barColor),Q?(this.hbar=ne.attr({rx:i.barRadius,ry:i.barRadius,x:Se,y:ce,width:he,height:ge}),this._hbarXMin=Se+he/2,this._hbarTranslateMax=H-he):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var fe=D>j,X=i.barWidth+2*i.barPad,ye=i.barLength+2*i.barPad,Ce=$+S,$e=O;Ce+X>C&&(Ce=C-X);var ke=this.container.selectAll("rect.scrollbar-vertical").data(fe?[0]:[]);ke.exit().on(".drag",null).remove(),ke.enter().append("rect").classed("scrollbar-vertical",!0).call(h.fill,i.barColor),fe?(this.vbar=ke.attr({rx:i.barRadius,ry:i.barRadius,x:Ce,y:$e,width:X,height:ye}),this._vbarYMin=$e+ye/2,this._vbarTranslateMax=j-ye):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var Ne=this.id,Ve=P-.5,Oe=fe?ee+X+.5:ee+.5,Fe=J-.5,ie=Q?K+ge+.5:K+.5,we=x._topdefs.selectAll("#"+Ne).data(Q||fe?[0]:[]);if(we.exit().remove(),we.enter().append("clipPath").attr("id",Ne).append("rect"),Q||fe?(this._clipRect=we.select("rect").attr({x:Math.floor(Ve),y:Math.floor(Fe),width:Math.ceil(Oe)-Math.floor(Ve),height:Math.ceil(ie)-Math.floor(Fe)}),this.container.call(l.setClipUrl,Ne,this.gd),this.bg.attr({x:$,y:O,width:S,height:D})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(l.setClipUrl,null),delete this._clipRect),Q||fe){var se=m.behavior.drag().on("dragstart",function(){m.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(se);var ue=m.behavior.drag().on("dragstart",function(){m.event.sourceEvent.preventDefault(),m.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));Q&&this.hbar.on(".drag",null).call(ue),fe&&this.vbar.on(".drag",null).call(ue)}this.setTranslate(g,v)},i.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(l.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},i.prototype._onBoxDrag=function(){var d=this.translateX,g=this.translateY;this.hbar&&(d-=m.event.dx),this.vbar&&(g-=m.event.dy),this.setTranslate(d,g)},i.prototype._onBoxWheel=function(){var d=this.translateX,g=this.translateY;this.hbar&&(d+=m.event.deltaY),this.vbar&&(g+=m.event.deltaY),this.setTranslate(d,g)},i.prototype._onBarDrag=function(){var d=this.translateX,g=this.translateY;if(this.hbar){var v=d+this._hbarXMin,x=v+this._hbarTranslateMax,C=c.constrain(m.event.x,v,x),_=(C-v)/(x-v),$=this.position.w-this._box.w;d=_*$}if(this.vbar){var S=g+this._vbarYMin,O=S+this._vbarTranslateMax,D=c.constrain(m.event.y,S,O),N=(D-S)/(O-S),M=this.position.h-this._box.h;g=N*M}this.setTranslate(d,g)},i.prototype.setTranslate=function(d,g){var v=this.position.w-this._box.w,x=this.position.h-this._box.h;if(d=c.constrain(d||0,0,v),g=c.constrain(g||0,0,x),this.translateX=d,this.translateY=g,this.container.call(l.setTranslate,this._box.l-this.position.l-d,this._box.t-this.position.t-g),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+d-.5),y:Math.floor(this.position.t+g-.5)}),this.hbar){var C=d/v;this.hbar.call(l.setTranslate,d+C*this._hbarTranslateMax,g)}if(this.vbar){var _=g/x;this.vbar.call(l.setTranslate,d,g+_*this._vbarTranslateMax)}}},8783:function(L){L.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},4695:function(L){L.exports={axisRefDescription:function(A,s,m){return["If set to a",A,"axis id (e.g. *"+A+"* or","*"+A+"2*), the `"+A+"` position refers to a",A,"coordinate. If set to *paper*, the `"+A+"`","position refers to the distance from the",s,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",s,"("+m+"). If set to a",A,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",s,"of the domain of that axis: e.g.,","*"+A+"2 domain* refers to the domain of the second",A," axis and a",A,"position of 0.5 refers to the","point between the",s,"and the",m,"of the domain of the","second",A,"axis."].join(" ")}}},1562:function(L){L.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},4808:function(L){L.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},7822:function(L){L.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},606:function(L){L.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},7922:function(L,A){A.xmlns="http://www.w3.org/2000/xmlns/",A.svg="http://www.w3.org/2000/svg",A.xlink="http://www.w3.org/1999/xlink",A.svgAttrs={xmlns:A.svg,"xmlns:xlink":A.xlink}},8729:function(L,A,s){A.version=s(1506).version,s(7417),s(8847);for(var m=s(3972),h=A.register=m.register,l=s(641),c=Object.keys(l),i=0;i<c.length;i++){var u=c[i];u.charAt(0)!=="_"&&(A[u]=l[u]),h({moduleType:"apiMethod",name:u,fn:l[u]})}h(s(7368)),h([s(2745),s(2468),s(7322),s(9853),s(8804),s(763),s(3243),s(3137),s(7218),s(3312),s(7369),s(1081),s(2311),s(2199),s(211),s(4168)]),h([s(2177),s(7815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(h(window.PlotlyLocales),delete window.PlotlyLocales),A.Icons=s(4255);var d=s(211),g=s(4875);A.Plots={resize:g.resize,graphJson:g.graphJson,sendDataToCloud:g.sendDataToCloud},A.Fx={hover:d.hover,unhover:d.unhover,loneHover:d.loneHover,loneUnhover:d.loneUnhover},A.Snapshot=s(4511),A.PlotSchema=s(6281)},4255:function(L){L.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},9863:function(L,A){A.isLeftAnchor=function(m){return m.xanchor==="left"||m.xanchor==="auto"&&m.x<=.3333333333333333},A.isCenterAnchor=function(m){return m.xanchor==="center"||m.xanchor==="auto"&&m.x>.3333333333333333&&m.x<.6666666666666666},A.isRightAnchor=function(m){return m.xanchor==="right"||m.xanchor==="auto"&&m.x>=.6666666666666666},A.isTopAnchor=function(m){return m.yanchor==="top"||m.yanchor==="auto"&&m.y>=.6666666666666666},A.isMiddleAnchor=function(m){return m.yanchor==="middle"||m.yanchor==="auto"&&m.y>.3333333333333333&&m.y<.6666666666666666},A.isBottomAnchor=function(m){return m.yanchor==="bottom"||m.yanchor==="auto"&&m.y<=.3333333333333333}},6348:function(L,A,s){var m=s(4872),h=m.mod,l=m.modHalf,c=Math.PI,i=2*c;function u(N){return N/180*c}function d(N){return N/c*180}function g(N){return Math.abs(N[1]-N[0])>i-1e-14}function v(N,M){return l(M-N,i)}function x(N,M){return Math.abs(v(N,M))}function C(N,M){if(g(M))return!0;var k,R;M[0]<M[1]?(k=M[0],R=M[1]):(k=M[1],R=M[0]),k=h(k,i),R=h(R,i),k>R&&(R+=i);var F=h(N,i),H=F+i;return F>=k&&F<=R||H>=k&&H<=R}function _(N,M,k,R){if(!C(M,R))return!1;var F,H;return k[0]<k[1]?(F=k[0],H=k[1]):(F=k[1],H=k[0]),N>=F&&N<=H}function $(N,M,k,R,F,H,j){F=F||0,H=H||0;var P=g([k,R]),ee,J,K,ae,Q;P?(ee=0,J=c,K=i):k<R?(ee=k,K=R):(ee=R,K=k),N<M?(ae=N,Q=M):(ae=M,Q=N);function he(ne,fe){return[ne*Math.cos(fe)+F,H-ne*Math.sin(fe)]}var ge=Math.abs(K-ee)<=c?0:1;function Se(ne,fe,X){return"A"+[ne,ne]+" "+[0,ge,X]+" "+he(ne,fe)}var ce;return P?ae===null?ce="M"+he(Q,ee)+Se(Q,J,0)+Se(Q,K,0)+"Z":ce="M"+he(ae,ee)+Se(ae,J,0)+Se(ae,K,0)+"ZM"+he(Q,ee)+Se(Q,J,1)+Se(Q,K,1)+"Z":ae===null?(ce="M"+he(Q,ee)+Se(Q,K,0),j&&(ce+="L0,0Z")):ce="M"+he(ae,ee)+"L"+he(Q,ee)+Se(Q,K,0)+"L"+he(ae,K)+Se(ae,ee,1)+"Z",ce}function S(N,M,k,R,F){return $(null,N,M,k,R,F,0)}function O(N,M,k,R,F){return $(null,N,M,k,R,F,1)}function D(N,M,k,R,F,H){return $(N,M,k,R,F,H,1)}L.exports={deg2rad:u,rad2deg:d,angleDelta:v,angleDist:x,isFullCircle:g,isAngleInsideSector:C,isPtInsideSector:_,pathArc:S,pathSector:O,pathAnnulus:D}},3627:function(L,A){var s=Array.isArray,m=ArrayBuffer,h=DataView;function l(d){return m.isView(d)&&!(d instanceof h)}A.isTypedArray=l;function c(d){return s(d)||l(d)}A.isArrayOrTypedArray=c;function i(d){return!c(d[0])}A.isArray1D=i,A.ensureArray=function(d,g){return s(d)||(d=[]),d.length=g,d},A.concat=function(){var d=[],g=!0,v=0,x,C,_,$,S,O,D,N;for(_=0;_<arguments.length;_++)$=arguments[_],O=$.length,O&&(C?d.push($):(C=$,S=O),s($)?x=!1:(g=!1,v?x!==$.constructor&&(x=!1):x=$.constructor),v+=O);if(!v)return[];if(!d.length)return C;if(g)return C.concat.apply(C,d);if(x){for(D=new x(v),D.set(C),_=0;_<d.length;_++)$=d[_],D.set($,S),S+=$.length;return D}for(D=new Array(v),N=0;N<C.length;N++)D[N]=C[N];for(_=0;_<d.length;_++){for($=d[_],N=0;N<$.length;N++)D[S+N]=$[N];S+=N}return D},A.maxRowLength=function(d){return u(d,Math.max,0)},A.minRowLength=function(d){return u(d,Math.min,1/0)};function u(d,g,v){if(c(d))if(c(d[0])){for(var x=v,C=0;C<d.length;C++)x=g(x,d[C].length);return x}else return d.length;return 0}},5218:function(L,A,s){var m=s(2770),h=s(606).BADNUM,l=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;L.exports=function(i){return typeof i=="string"&&(i=i.replace(l,"")),m(i)?Number(i):h}},3306:function(L){L.exports=function(s){var m=s._fullLayout;m._glcanvas&&m._glcanvas.size()&&m._glcanvas.each(function(h){h.regl&&h.regl.clear({color:!0,depth:!0})})}},6367:function(L){L.exports=function(s){s._responsiveChartHandler&&(window.removeEventListener("resize",s._responsiveChartHandler),delete s._responsiveChartHandler)}},6554:function(L,A,s){var m=s(2770),h=s(4267),l=s(9012),c=s(3282),i=s(7901),u=s(7822).DESELECTDIM,d=s(5487),g=s(587).counter,v=s(4872).modHalf,x=s(3627).isArrayOrTypedArray;A.valObjectMeta={data_array:{coerceFunction:function(_,$,S){x(_)?$.set(_):S!==void 0&&$.set(S)}},enumerated:{coerceFunction:function(_,$,S,O){O.coerceNumber&&(_=+_),O.values.indexOf(_)===-1?$.set(S):$.set(_)},validateFunction:function(_,$){$.coerceNumber&&(_=+_);for(var S=$.values,O=0;O<S.length;O++){var D=String(S[O]);if(D.charAt(0)==="/"&&D.charAt(D.length-1)==="/"){var N=new RegExp(D.substr(1,D.length-2));if(N.test(_))return!0}else if(_===S[O])return!0}return!1}},boolean:{coerceFunction:function(_,$,S){_===!0||_===!1?$.set(_):$.set(S)}},number:{coerceFunction:function(_,$,S,O){!m(_)||O.min!==void 0&&_<O.min||O.max!==void 0&&_>O.max?$.set(S):$.set(+_)}},integer:{coerceFunction:function(_,$,S,O){_%1||!m(_)||O.min!==void 0&&_<O.min||O.max!==void 0&&_>O.max?$.set(S):$.set(+_)}},string:{coerceFunction:function(_,$,S,O){if(typeof _!="string"){var D=typeof _=="number";O.strict===!0||!D?$.set(S):$.set(String(_))}else O.noBlank&&!_?$.set(S):$.set(_)}},color:{coerceFunction:function(_,$,S){h(_).isValid()?$.set(_):$.set(S)}},colorlist:{coerceFunction:function(_,$,S){function O(D){return h(D).isValid()}!Array.isArray(_)||!_.length?$.set(S):_.every(O)?$.set(_):$.set(S)}},colorscale:{coerceFunction:function(_,$,S){$.set(c.get(_,S))}},angle:{coerceFunction:function(_,$,S){_==="auto"?$.set("auto"):m(_)?$.set(v(+_,360)):$.set(S)}},subplotid:{coerceFunction:function(_,$,S,O){var D=O.regex||g(S);if(typeof _=="string"&&D.test(_)){$.set(_);return}$.set(S)},validateFunction:function(_,$){var S=$.dflt;return _===S?!0:typeof _!="string"?!1:!!g(S).test(_)}},flaglist:{coerceFunction:function(_,$,S,O){if((O.extras||[]).indexOf(_)!==-1){$.set(_);return}if(typeof _!="string"){$.set(S);return}for(var D=_.split("+"),N=0;N<D.length;){var M=D[N];O.flags.indexOf(M)===-1||D.indexOf(M)<N?D.splice(N,1):N++}D.length?$.set(D.join("+")):$.set(S)}},any:{coerceFunction:function(_,$,S){_===void 0?$.set(S):$.set(_)}},info_array:{coerceFunction:function(_,$,S,O){function D(he,ge,Se){var ce,ne={set:function(fe){ce=fe}};return Se===void 0&&(Se=ge.dflt),A.valObjectMeta[ge.valType].coerceFunction(he,ne,Se,ge),ce}var N=O.dimensions===2||O.dimensions==="1-2"&&Array.isArray(_)&&Array.isArray(_[0]);if(!Array.isArray(_)){$.set(S);return}var M=O.items,k=[],R=Array.isArray(M),F=R&&N&&Array.isArray(M[0]),H=N&&R&&!F,j=R&&!H?M.length:_.length,P,ee,J,K,ae,Q;if(S=Array.isArray(S)?S:[],N)for(P=0;P<j;P++)for(k[P]=[],J=Array.isArray(_[P])?_[P]:[],H?ae=M.length:R?ae=M[P].length:ae=J.length,ee=0;ee<ae;ee++)H?K=M[ee]:R?K=M[P][ee]:K=M,Q=D(J[ee],K,(S[P]||[])[ee]),Q!==void 0&&(k[P][ee]=Q);else for(P=0;P<j;P++)Q=D(_[P],R?M[P]:M,S[P]),Q!==void 0&&(k[P]=Q);$.set(k)},validateFunction:function(_,$){if(!Array.isArray(_))return!1;var S=$.items,O=Array.isArray(S),D=$.dimensions===2;if(!$.freeLength&&_.length!==S.length)return!1;for(var N=0;N<_.length;N++)if(D){if(!Array.isArray(_[N])||!$.freeLength&&_[N].length!==S[N].length)return!1;for(var M=0;M<_[N].length;M++)if(!C(_[N][M],O?S[N][M]:S))return!1}else if(!C(_[N],O?S[N]:S))return!1;return!0}}},A.coerce=function(_,$,S,O,D){var N=d(S,O).get(),M=d(_,O),k=d($,O),R=M.get(),F=$._template;if(R===void 0&&F&&(R=d(F,O).get(),F=0),D===void 0&&(D=N.dflt),N.arrayOk&&x(R))return k.set(R),R;var H=A.valObjectMeta[N.valType].coerceFunction;H(R,k,D,N);var j=k.get();return F&&j===D&&!C(R,N)&&(R=d(F,O).get(),H(R,k,D,N),j=k.get()),j},A.coerce2=function(_,$,S,O,D){var N=d(_,O),M=A.coerce(_,$,S,O,D),k=N.get();return k!=null?M:!1},A.coerceFont=function(_,$,S){var O={};return S=S||{},O.family=_($+".family",S.family),O.size=_($+".size",S.size),O.color=_($+".color",S.color),O},A.coercePattern=function(_,$,S,O){var D=_($+".shape");if(D){_($+".solidity"),_($+".size");var N=_($+".fillmode"),M=N==="overlay";if(!O){var k=_($+".bgcolor",M?S:void 0);_($+".fgcolor",M?i.contrast(k):S)}_($+".fgopacity",M?.5:1)}},A.coerceHoverinfo=function(_,$,S){var O=$._module.attributes,D=O.hoverinfo?O:l,N=D.hoverinfo,M;if(S._dataLength===1){var k=N.dflt==="all"?N.flags.slice():N.dflt.split("+");k.splice(k.indexOf("name"),1),M=k.join("+")}return A.coerce(_,$,D,"hoverinfo",M)},A.coerceSelectionMarkerOpacity=function(_,$){if(_.marker){var S=_.marker.opacity;if(S!==void 0){var O,D;!x(S)&&!_.selected&&!_.unselected&&(O=S,D=u*S),$("selected.marker.opacity",O),$("unselected.marker.opacity",D)}}};function C(_,$){var S=A.valObjectMeta[$.valType];if($.arrayOk&&x(_))return!0;if(S.validateFunction)return S.validateFunction(_,$);var O={},D=O,N={set:function(M){D=M}};return S.coerceFunction(_,N,O,$),D!==O}A.validate=C},1631:function(L,A,s){var m=s(4096).i$,h=s(2770),l=s(7769),c=s(4872).mod,i=s(606),u=i.BADNUM,d=i.ONEDAY,g=i.ONEHOUR,v=i.ONEMIN,x=i.ONESEC,C=i.EPOCHJD,_=s(3972),$=s(4096).g0,S=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,O=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,D=new Date().getFullYear()-70;function N(ce){return ce&&_.componentsRegistry.calendars&&typeof ce=="string"&&ce!=="gregorian"}A.dateTick0=function(ce,ne){var fe=M(ce,!!ne);if(ne<2)return fe;var X=A.dateTime2ms(fe,ce);return X+=d*(ne-1),A.ms2DateTime(X,0,ce)};function M(ce,ne){return N(ce)?ne?_.getComponentMethod("calendars","CANONICAL_SUNDAY")[ce]:_.getComponentMethod("calendars","CANONICAL_TICK")[ce]:ne?"2000-01-02":"2000-01-01"}A.dfltRange=function(ce){return N(ce)?_.getComponentMethod("calendars","DFLTRANGE")[ce]:["2000-01-01","2001-01-01"]},A.isJSDate=function(ce){return typeof ce=="object"&&ce!==null&&typeof ce.getTime=="function"};var k,R;A.dateTime2ms=function(ce,ne){if(A.isJSDate(ce)){var fe=ce.getTimezoneOffset()*v,X=(ce.getUTCMinutes()-ce.getMinutes())*v+(ce.getUTCSeconds()-ce.getSeconds())*x+(ce.getUTCMilliseconds()-ce.getMilliseconds());if(X){var ye=3*v;fe=fe-ye/2+c(X-fe+ye/2,ye)}return ce=Number(ce)-fe,ce>=k&&ce<=R?ce:u}if(typeof ce!="string"&&typeof ce!="number")return u;ce=String(ce);var Ce=N(ne),$e=ce.charAt(0);Ce&&($e==="G"||$e==="g")&&(ce=ce.substr(1),ne="");var ke=Ce&&ne.substr(0,7)==="chinese",Ne=ce.match(ke?O:S);if(!Ne)return u;var Ve=Ne[1],Oe=Ne[3]||"1",Fe=Number(Ne[5]||1),ie=Number(Ne[7]||0),we=Number(Ne[9]||0),se=Number(Ne[11]||0);if(Ce){if(Ve.length===2)return u;Ve=Number(Ve);var ue;try{var pe=_.getComponentMethod("calendars","getCal")(ne);if(ke){var le=Oe.charAt(Oe.length-1)==="i";Oe=parseInt(Oe,10),ue=pe.newDate(Ve,pe.toMonthIndex(Ve,Oe,le),Fe)}else ue=pe.newDate(Ve,Number(Oe),Fe)}catch{return u}return ue?(ue.toJD()-C)*d+ie*g+we*v+se*x:u}Ve.length===2?Ve=(Number(Ve)+2e3-D)%100+D:Ve=Number(Ve),Oe-=1;var Te=new Date(Date.UTC(2e3,Oe,Fe,ie,we));return Te.setUTCFullYear(Ve),Te.getUTCMonth()!==Oe||Te.getUTCDate()!==Fe?u:Te.getTime()+se*x},k=A.MIN_MS=A.dateTime2ms("-9999"),R=A.MAX_MS=A.dateTime2ms("9999-12-31 23:59:59.9999"),A.isDateTime=function(ce,ne){return A.dateTime2ms(ce,ne)!==u};function F(ce,ne){return String(ce+Math.pow(10,ne)).substr(1)}var H=90*d,j=3*g,P=5*v;A.ms2DateTime=function(ce,ne,fe){if(typeof ce!="number"||!(ce>=k&&ce<=R))return u;ne||(ne=0);var X=Math.floor(c(ce+.05,1)*10),ye=Math.round(ce-X/10),Ce,$e,ke,Ne,Ve,Oe;if(N(fe)){var Fe=Math.floor(ye/d)+C,ie=Math.floor(c(ce,d));try{Ce=_.getComponentMethod("calendars","getCal")(fe).fromJD(Fe).formatDate("yyyy-mm-dd")}catch{Ce=$("G%Y-%m-%d")(new Date(ye))}if(Ce.charAt(0)==="-")for(;Ce.length<11;)Ce="-0"+Ce.substr(1);else for(;Ce.length<10;)Ce="0"+Ce;$e=ne<H?Math.floor(ie/g):0,ke=ne<H?Math.floor(ie%g/v):0,Ne=ne<j?Math.floor(ie%v/x):0,Ve=ne<P?ie%x*10+X:0}else Oe=new Date(ye),Ce=$("%Y-%m-%d")(Oe),$e=ne<H?Oe.getUTCHours():0,ke=ne<H?Oe.getUTCMinutes():0,Ne=ne<j?Oe.getUTCSeconds():0,Ve=ne<P?Oe.getUTCMilliseconds()*10+X:0;return ee(Ce,$e,ke,Ne,Ve)},A.ms2DateTimeLocal=function(ce){if(!(ce>=k+d&&ce<=R-d))return u;var ne=Math.floor(c(ce+.05,1)*10),fe=new Date(Math.round(ce-ne/10)),X=m("%Y-%m-%d")(fe),ye=fe.getHours(),Ce=fe.getMinutes(),$e=fe.getSeconds(),ke=fe.getUTCMilliseconds()*10+ne;return ee(X,ye,Ce,$e,ke)};function ee(ce,ne,fe,X,ye){if((ne||fe||X||ye)&&(ce+=" "+F(ne,2)+":"+F(fe,2),(X||ye)&&(ce+=":"+F(X,2),ye))){for(var Ce=4;ye%10===0;)Ce-=1,ye/=10;ce+="."+F(ye,Ce)}return ce}A.cleanDate=function(ce,ne,fe){if(ce===u)return ne;if(A.isJSDate(ce)||typeof ce=="number"&&isFinite(ce)){if(N(fe))return l.error("JS Dates and milliseconds are incompatible with world calendars",ce),ne;if(ce=A.ms2DateTimeLocal(+ce),!ce&&ne!==void 0)return ne}else if(!A.isDateTime(ce,fe))return l.error("unrecognized date",ce),ne;return ce};var J=/%\d?f/g,K=/%h/g,ae={1:"1",2:"1",3:"2",4:"2"};function Q(ce,ne,fe,X){ce=ce.replace(J,function(Ce){var $e=Math.min(+Ce.charAt(1)||6,6),ke=(ne/1e3%1+2).toFixed($e).substr(2).replace(/0+$/,"")||"0";return ke});var ye=new Date(Math.floor(ne+.05));if(ce=ce.replace(K,function(){return ae[fe("%q")(ye)]}),N(X))try{ce=_.getComponentMethod("calendars","worldCalFmt")(ce,ne,X)}catch{return"Invalid"}return fe(ce)(ye)}var he=[59,59.9,59.99,59.999,59.9999];function ge(ce,ne){var fe=c(ce+.05,d),X=F(Math.floor(fe/g),2)+":"+F(c(Math.floor(fe/v),60),2);if(ne!=="M"){h(ne)||(ne=0);var ye=Math.min(c(ce/x,60),he[ne]),Ce=(100+ye).toFixed(ne).substr(1);ne>0&&(Ce=Ce.replace(/0+$/,"").replace(/[\.]$/,"")),X+=":"+Ce}return X}A.formatDate=function(ce,ne,fe,X,ye,Ce){if(ye=N(ye)&&ye,!ne)if(fe==="y")ne=Ce.year;else if(fe==="m")ne=Ce.month;else if(fe==="d")ne=Ce.dayMonth+`
`+Ce.year;else return ge(ce,fe)+`
`+Q(Ce.dayMonthYear,ce,X,ye);return Q(ne,ce,X,ye)};var Se=3*d;A.incrementMonth=function(ce,ne,fe){fe=N(fe)&&fe;var X=c(ce,d);if(ce=Math.round(ce-X),fe)try{var ye=Math.round(ce/d)+C,Ce=_.getComponentMethod("calendars","getCal")(fe),$e=Ce.fromJD(ye);return ne%12?Ce.add($e,ne,"m"):Ce.add($e,ne/12,"y"),($e.toJD()-C)*d+X}catch{l.error("invalid ms "+ce+" in calendar "+fe)}var ke=new Date(ce+Se);return ke.setUTCMonth(ke.getUTCMonth()+ne)+X-Se},A.findExactDates=function(ce,ne){for(var fe=0,X=0,ye=0,Ce=0,$e,ke,Ne=N(ne)&&_.getComponentMethod("calendars","getCal")(ne),Ve=0;Ve<ce.length;Ve++){if(ke=ce[Ve],!h(ke)){Ce++;continue}if(!(ke%d))if(Ne)try{$e=Ne.fromJD(ke/d+C),$e.day()===1?$e.month()===1?fe++:X++:ye++}catch{}else $e=new Date(ke),$e.getUTCDate()===1?$e.getUTCMonth()===0?fe++:X++:ye++}X+=fe,ye+=X;var Oe=ce.length-Ce;return{exactYears:fe/Oe,exactMonths:X/Oe,exactDays:ye/Oe}}},4401:function(L,A,s){var m=s(9898),h=s(7769),l=s(5657),c=s(9576);function i(D){var N;if(typeof D=="string"){if(N=document.getElementById(D),N===null)throw new Error("No DOM element with id '"+D+"' exists on the page.");return N}else if(D==null)throw new Error("DOM element provided is null or undefined");return D}function u(D){var N=m.select(D);return N.node()instanceof HTMLElement&&N.size()&&N.classed("js-plotly-plot")}function d(D){var N=D&&D.parentNode;N&&N.removeChild(D)}function g(D,N){v("global",D,N)}function v(D,N,M){var k="plotly.js-style-"+D,R=document.getElementById(k);R||(R=document.createElement("style"),R.setAttribute("id",k),R.appendChild(document.createTextNode("")),document.head.appendChild(R));var F=R.sheet;F.insertRule?F.insertRule(N+"{"+M+"}",0):F.addRule?F.addRule(N,M,0):h.warn("addStyleRule failed")}function x(D){var N="plotly.js-style-"+D,M=document.getElementById(N);M&&d(M)}function C(D){var N=$(D),M=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return N.forEach(function(k){var R=_(k);if(R){var F=l.convertCssMatrix(R);M=c.multiply(M,M,F)}}),M}function _(D){var N=window.getComputedStyle(D,null),M=N.getPropertyValue("-webkit-transform")||N.getPropertyValue("-moz-transform")||N.getPropertyValue("-ms-transform")||N.getPropertyValue("-o-transform")||N.getPropertyValue("transform");return M==="none"?null:M.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(k){return+k})}function $(D){for(var N=[];S(D);)N.push(D),D=D.parentNode;return N}function S(D){return D&&(D instanceof Element||D instanceof HTMLElement)}function O(D,N){return D&&N&&D.top===N.top&&D.left===N.left&&D.right===N.right&&D.bottom===N.bottom}L.exports={getGraphDiv:i,isPlotDiv:u,removeElement:d,addStyleRule:g,addRelatedStyleRule:v,deleteRelatedStyleRule:x,getFullTransformMatrix:C,getElementTransformMatrix:_,getElementAndAncestors:$,equalDomRects:O}},1086:function(L,A,s){var m=s(5398).EventEmitter,h={init:function(l){if(l._ev instanceof m)return l;var c=new m,i=new m;return l._ev=c,l._internalEv=i,l.on=c.on.bind(c),l.once=c.once.bind(c),l.removeListener=c.removeListener.bind(c),l.removeAllListeners=c.removeAllListeners.bind(c),l._internalOn=i.on.bind(i),l._internalOnce=i.once.bind(i),l._removeInternalListener=i.removeListener.bind(i),l._removeAllInternalListeners=i.removeAllListeners.bind(i),l.emit=function(u,d){typeof jQuery<"u"&&jQuery(l).trigger(u,d),c.emit(u,d),i.emit(u,d)},l},triggerHandler:function(l,c,i){var u,d;typeof jQuery<"u"&&(u=jQuery(l).triggerHandler(c,i));var g=l._ev;if(!g)return u;var v=g._events[c];if(!v)return u;function x(_){if(_.listener){if(g.removeListener(c,_.listener),!_.fired)return _.fired=!0,_.listener.apply(g,[i])}else return _.apply(g,[i])}v=Array.isArray(v)?v:[v];var C;for(C=0;C<v.length-1;C++)x(v[C]);return d=x(v[C]),u!==void 0?u:d},purge:function(l){return delete l._ev,delete l.on,delete l.once,delete l.removeListener,delete l.removeAllListeners,delete l.emit,delete l._ev,delete l._internalEv,delete l._internalOn,delete l._internalOnce,delete l._removeInternalListener,delete l._removeAllInternalListeners,l}};L.exports=h},1426:function(L,A,s){var m=s(1965),h=Array.isArray;function l(i,u){var d,g;for(d=0;d<i.length;d++){if(g=i[d],g!==null&&typeof g=="object")return!1;g!==void 0&&(u[d]=g)}return!0}A.extendFlat=function(){return c(arguments,!1,!1,!1)},A.extendDeep=function(){return c(arguments,!0,!1,!1)},A.extendDeepAll=function(){return c(arguments,!0,!0,!1)},A.extendDeepNoArrays=function(){return c(arguments,!0,!1,!0)};function c(i,u,d,g){var v=i[0],x=i.length,C,_,$,S,O,D,N;if(x===2&&h(v)&&h(i[1])&&v.length===0){if(N=l(i[1],v),N)return v;v.splice(0,v.length)}for(var M=1;M<x;M++){C=i[M];for(_ in C)$=v[_],S=C[_],g&&h(S)?v[_]=S:u&&S&&(m(S)||(O=h(S)))?(O?(O=!1,D=$&&h($)?$:[]):D=$&&m($)?$:{},v[_]=c([D,S],u,d,g)):(typeof S<"u"||d)&&(v[_]=S)}return v}},5744:function(L){L.exports=function(s){for(var m={},h=[],l=0,c=0;c<s.length;c++){var i=s[c];m[i]!==1&&(m[i]=1,h[l++]=i)}return h}},6756:function(L){L.exports=function(l){for(var c=m(l)?s:A,i=[],u=0;u<l.length;u++){var d=l[u];c(d)&&i.push(d)}return i};function A(h){return h.visible===!0}function s(h){var l=h[0].trace;return l.visible===!0&&l._length!==0}function m(h){return Array.isArray(h)&&Array.isArray(h[0])&&h[0][0]&&h[0][0].trace}},7642:function(L,A,s){var m=s(4872).mod;A.segmentsIntersect=h;function h(d,g,v,x,C,_,$,S){var O=v-d,D=C-d,N=$-C,M=x-g,k=_-g,R=S-_,F=O*R-N*M;if(F===0)return null;var H=(D*R-N*k)/F,j=(D*M-O*k)/F;return j<0||j>1||H<0||H>1?null:{x:d+O*H,y:g+M*H}}A.segmentDistance=function(g,v,x,C,_,$,S,O){if(h(g,v,x,C,_,$,S,O))return 0;var D=x-g,N=C-v,M=S-_,k=O-$,R=D*D+N*N,F=M*M+k*k,H=Math.min(l(D,N,R,_-g,$-v),l(D,N,R,S-g,O-v),l(M,k,F,g-_,v-$),l(M,k,F,x-_,C-$));return Math.sqrt(H)};function l(d,g,v,x,C){var _=x*d+C*g;if(_<0)return x*x+C*C;if(_>v){var $=x-d,S=C-g;return $*$+S*S}else{var O=x*g-C*d;return O*O/v}}var c,i,u;A.getTextLocation=function(g,v,x,C){if((g!==i||C!==u)&&(c={},i=g,u=C),c[x])return c[x];var _=g.getPointAtLength(m(x-C/2,v)),$=g.getPointAtLength(m(x+C/2,v)),S=Math.atan(($.y-_.y)/($.x-_.x)),O=g.getPointAtLength(m(x,v)),D=(O.x*4+_.x+$.x)/6,N=(O.y*4+_.y+$.y)/6,M={x:D,y:N,theta:S};return c[x]=M,M},A.clearLocationCache=function(){i=null},A.getVisibleSegment=function(g,v,x){var C=v.left,_=v.right,$=v.top,S=v.bottom,O=0,D=g.getTotalLength(),N=D,M,k;function R(H){var j=g.getPointAtLength(H);H===0?M=j:H===D&&(k=j);var P=j.x<C?C-j.x:j.x>_?j.x-_:0,ee=j.y<$?$-j.y:j.y>S?j.y-S:0;return Math.sqrt(P*P+ee*ee)}for(var F=R(O);F;){if(O+=F+x,O>N)return;F=R(O)}for(F=R(N);F;){if(N-=F+x,O>N)return;F=R(N)}return{min:O,max:N,len:N-O,total:D,isClosed:O===0&&N===D&&Math.abs(M.x-k.x)<.1&&Math.abs(M.y-k.y)<.1}},A.findPointOnPath=function(g,v,x,C){C=C||{};for(var _=C.pathLength||g.getTotalLength(),$=C.tolerance||.001,S=C.iterationLimit||30,O=g.getPointAtLength(0)[x]>g.getPointAtLength(_)[x]?-1:1,D=0,N=0,M=_,k,R,F;D<S;){if(k=(N+M)/2,R=g.getPointAtLength(k),F=R[x]-v,Math.abs(F)<$)return R;O*F>0?M=k:N=k,D++}return R}},3389:function(L){L.exports=function(s){return s}},9240:function(L){L.exports=function(s,m){if(!m)return s;var h=1/Math.abs(m),l=h>1?(h*s+h*m)/h:s+m,c=String(l).length;if(c>16){var i=String(m).length,u=String(s).length;if(c>=u+i){var d=parseFloat(l).toPrecision(12);d.indexOf("e+")===-1&&(l=+d)}}return l}},1828:function(L,A,s){var m=s(9898),h=s(4096).g0,l=s(721).WU,c=s(2770),i=s(606),u=i.FP_SAFE,d=-u,g=i.BADNUM,v=L.exports={};v.adjustFormat=function(ue){return!ue||/^\d[.]\df/.test(ue)||/[.]\d%/.test(ue)?ue:ue==="0.f"?"~f":/^\d%/.test(ue)?"~%":/^\ds/.test(ue)?"~s":!/^[~,.0$]/.test(ue)&&/[&fps]/.test(ue)?"~"+ue:ue};var x={};v.warnBadFormat=function(se){var ue=String(se);x[ue]||(x[ue]=1,v.warn('encountered bad format: "'+ue+'"'))},v.noFormat=function(se){return String(se)},v.numberFormat=function(se){var ue;try{ue=l(v.adjustFormat(se))}catch{return v.warnBadFormat(se),v.noFormat}return ue},v.nestedProperty=s(5487),v.keyedContainer=s(6636),v.relativeAttr=s(6962),v.isPlainObject=s(1965),v.toLogRange=s(8163),v.relinkPrivateKeys=s(1332);var C=s(3627);v.isTypedArray=C.isTypedArray,v.isArrayOrTypedArray=C.isArrayOrTypedArray,v.isArray1D=C.isArray1D,v.ensureArray=C.ensureArray,v.concat=C.concat,v.maxRowLength=C.maxRowLength,v.minRowLength=C.minRowLength;var _=s(4872);v.mod=_.mod,v.modHalf=_.modHalf;var $=s(6554);v.valObjectMeta=$.valObjectMeta,v.coerce=$.coerce,v.coerce2=$.coerce2,v.coerceFont=$.coerceFont,v.coercePattern=$.coercePattern,v.coerceHoverinfo=$.coerceHoverinfo,v.coerceSelectionMarkerOpacity=$.coerceSelectionMarkerOpacity,v.validate=$.validate;var S=s(1631);v.dateTime2ms=S.dateTime2ms,v.isDateTime=S.isDateTime,v.ms2DateTime=S.ms2DateTime,v.ms2DateTimeLocal=S.ms2DateTimeLocal,v.cleanDate=S.cleanDate,v.isJSDate=S.isJSDate,v.formatDate=S.formatDate,v.incrementMonth=S.incrementMonth,v.dateTick0=S.dateTick0,v.dfltRange=S.dfltRange,v.findExactDates=S.findExactDates,v.MIN_MS=S.MIN_MS,v.MAX_MS=S.MAX_MS;var O=s(5888);v.findBin=O.findBin,v.sorterAsc=O.sorterAsc,v.sorterDes=O.sorterDes,v.distinctVals=O.distinctVals,v.roundUp=O.roundUp,v.sort=O.sort,v.findIndexOfMin=O.findIndexOfMin,v.sortObjectKeys=s(8607);var D=s(38);v.aggNums=D.aggNums,v.len=D.len,v.mean=D.mean,v.median=D.median,v.midRange=D.midRange,v.variance=D.variance,v.stdev=D.stdev,v.interp=D.interp;var N=s(5657);v.init2dArray=N.init2dArray,v.transposeRagged=N.transposeRagged,v.dot=N.dot,v.translationMatrix=N.translationMatrix,v.rotationMatrix=N.rotationMatrix,v.rotationXYMatrix=N.rotationXYMatrix,v.apply3DTransform=N.apply3DTransform,v.apply2DTransform=N.apply2DTransform,v.apply2DTransform2=N.apply2DTransform2,v.convertCssMatrix=N.convertCssMatrix,v.inverseTransformMatrix=N.inverseTransformMatrix;var M=s(6348);v.deg2rad=M.deg2rad,v.rad2deg=M.rad2deg,v.angleDelta=M.angleDelta,v.angleDist=M.angleDist,v.isFullCircle=M.isFullCircle,v.isAngleInsideSector=M.isAngleInsideSector,v.isPtInsideSector=M.isPtInsideSector,v.pathArc=M.pathArc,v.pathSector=M.pathSector,v.pathAnnulus=M.pathAnnulus;var k=s(9863);v.isLeftAnchor=k.isLeftAnchor,v.isCenterAnchor=k.isCenterAnchor,v.isRightAnchor=k.isRightAnchor,v.isTopAnchor=k.isTopAnchor,v.isMiddleAnchor=k.isMiddleAnchor,v.isBottomAnchor=k.isBottomAnchor;var R=s(7642);v.segmentsIntersect=R.segmentsIntersect,v.segmentDistance=R.segmentDistance,v.getTextLocation=R.getTextLocation,v.clearLocationCache=R.clearLocationCache,v.getVisibleSegment=R.getVisibleSegment,v.findPointOnPath=R.findPointOnPath;var F=s(1426);v.extendFlat=F.extendFlat,v.extendDeep=F.extendDeep,v.extendDeepAll=F.extendDeepAll,v.extendDeepNoArrays=F.extendDeepNoArrays;var H=s(7769);v.log=H.log,v.warn=H.warn,v.error=H.error;var j=s(587);v.counterRegex=j.counter;var P=s(9990);v.throttle=P.throttle,v.throttleDone=P.done,v.clearThrottle=P.clear;var ee=s(4401);v.getGraphDiv=ee.getGraphDiv,v.isPlotDiv=ee.isPlotDiv,v.removeElement=ee.removeElement,v.addStyleRule=ee.addStyleRule,v.addRelatedStyleRule=ee.addRelatedStyleRule,v.deleteRelatedStyleRule=ee.deleteRelatedStyleRule,v.getFullTransformMatrix=ee.getFullTransformMatrix,v.getElementTransformMatrix=ee.getElementTransformMatrix,v.getElementAndAncestors=ee.getElementAndAncestors,v.equalDomRects=ee.equalDomRects,v.clearResponsive=s(6367),v.preserveDrawingBuffer=s(5142),v.makeTraceGroups=s(7310),v._=s(5867),v.notifier=s(5046),v.filterUnique=s(5744),v.filterVisible=s(6756),v.pushUnique=s(5138),v.increment=s(9240),v.cleanNumber=s(5218),v.ensureNumber=function(ue){return c(ue)?(ue=Number(ue),ue>u||ue<d?g:ue):g},v.isIndex=function(se,ue){return ue!==void 0&&se>=ue?!1:c(se)&&se>=0&&se%1===0},v.noop=s(4213),v.identity=s(3389),v.repeat=function(se,ue){for(var pe=new Array(ue),le=0;le<ue;le++)pe[le]=se;return pe},v.swapAttrs=function(se,ue,pe,le){pe||(pe="x"),le||(le="y");for(var Te=0;Te<ue.length;Te++){var de=ue[Te],Me=v.nestedProperty(se,de.replace("?",pe)),Re=v.nestedProperty(se,de.replace("?",le)),ze=Me.get();Me.set(Re.get()),Re.set(ze)}},v.raiseToTop=function(ue){ue.parentNode.appendChild(ue)},v.cancelTransition=function(se){return se.transition().duration(0)},v.constrain=function(se,ue,pe){return ue>pe?Math.max(pe,Math.min(ue,se)):Math.max(ue,Math.min(pe,se))},v.bBoxIntersect=function(se,ue,pe){return pe=pe||0,se.left<=ue.right+pe&&ue.left<=se.right+pe&&se.top<=ue.bottom+pe&&ue.top<=se.bottom+pe},v.simpleMap=function(se,ue,pe,le,Te){for(var de=se.length,Me=new Array(de),Re=0;Re<de;Re++)Me[Re]=ue(se[Re],pe,le,Te);return Me},v.randstr=function se(ue,pe,le,Te){if(le||(le=16),pe===void 0&&(pe=24),pe<=0)return"0";var de=Math.log(Math.pow(2,pe))/Math.log(le),Me="",Re,ze,We;for(Re=2;de===1/0;Re*=2)de=Math.log(Math.pow(2,pe/Re))/Math.log(le)*Re;var ot=de-Math.floor(de);for(Re=0;Re<Math.floor(de);Re++)We=Math.floor(Math.random()*le).toString(le),Me=We+Me;ot&&(ze=Math.pow(le,ot),We=Math.floor(Math.random()*ze).toString(le),Me=We+Me);var dt=parseInt(Me,le);return ue&&ue[Me]||dt!==1/0&&dt>=Math.pow(2,pe)?Te>10?(v.warn("randstr failed uniqueness"),Me):se(ue,pe,le,(Te||0)+1):Me},v.OptionControl=function(se,ue){se||(se={}),ue||(ue="opt");var pe={};return pe.optionList=[],pe._newoption=function(le){le[ue]=se,pe[le.name]=le,pe.optionList.push(le)},pe["_"+ue]=se,pe},v.smooth=function(se,ue){if(ue=Math.round(ue)||0,ue<2)return se;var pe=se.length,le=2*pe,Te=2*ue-1,de=new Array(Te),Me=new Array(pe),Re,ze,We,ot;for(Re=0;Re<Te;Re++)de[Re]=(1-Math.cos(Math.PI*(Re+1)/ue))/(2*ue);for(Re=0;Re<pe;Re++){for(ot=0,ze=0;ze<Te;ze++)We=Re+ze+1-ue,We<-pe?We-=le*Math.round(We/le):We>=le&&(We-=le*Math.floor(We/le)),We<0?We=-1-We:We>=pe&&(We=le-1-We),ot+=se[We]*de[ze];Me[Re]=ot}return Me},v.syncOrAsync=function(se,ue,pe){var le,Te;function de(){return v.syncOrAsync(se,ue,pe)}for(;se.length;)if(Te=se.splice(0,1)[0],le=Te(ue),le&&le.then)return le.then(de);return pe&&pe(ue)},v.stripTrailingSlash=function(se){return se.substr(-1)==="/"?se.substr(0,se.length-1):se},v.noneOrAll=function(se,ue,pe){if(se){var le=!1,Te=!0,de,Me;for(de=0;de<pe.length;de++)Me=se[pe[de]],Me!=null?le=!0:Te=!1;if(le&&!Te)for(de=0;de<pe.length;de++)se[pe[de]]=ue[pe[de]]}},v.mergeArray=function(se,ue,pe,le){var Te=typeof le=="function";if(v.isArrayOrTypedArray(se))for(var de=Math.min(se.length,ue.length),Me=0;Me<de;Me++){var Re=se[Me];ue[Me][pe]=Te?le(Re):Re}},v.mergeArrayCastPositive=function(se,ue,pe){return v.mergeArray(se,ue,pe,function(le){var Te=+le;return isFinite(Te)&&Te>0?Te:0})},v.fillArray=function(se,ue,pe,le){if(le=le||v.identity,v.isArrayOrTypedArray(se))for(var Te=0;Te<ue.length;Te++)ue[Te][pe]=le(se[Te])},v.castOption=function(se,ue,pe,le){le=le||v.identity;var Te=v.nestedProperty(se,pe).get();return v.isArrayOrTypedArray(Te)?Array.isArray(ue)&&v.isArrayOrTypedArray(Te[ue[0]])?le(Te[ue[0]][ue[1]]):le(Te[ue]):Te},v.extractOption=function(se,ue,pe,le){if(pe in se)return se[pe];var Te=v.nestedProperty(ue,le).get();if(!Array.isArray(Te))return Te};function J(se){var ue={};for(var pe in se)for(var le=se[pe],Te=0;Te<le.length;Te++)ue[le[Te]]=+pe;return ue}v.tagSelected=function(se,ue,pe){var le=ue.selectedpoints,Te=ue._indexToPoints,de;Te&&(de=J(Te));function Me(dt){return dt!==void 0&&dt<se.length}for(var Re=0;Re<le.length;Re++){var ze=le[Re];if(v.isIndex(ze)||v.isArrayOrTypedArray(ze)&&v.isIndex(ze[0])&&v.isIndex(ze[1])){var We=de?de[ze]:ze,ot=pe?pe[We]:We;Me(ot)&&(se[ot].selected=1)}}},v.selIndices2selPoints=function(se){var ue=se.selectedpoints,pe=se._indexToPoints;if(pe){for(var le=J(pe),Te=[],de=0;de<ue.length;de++){var Me=ue[de];if(v.isIndex(Me)){var Re=le[Me];v.isIndex(Re)&&Te.push(Re)}}return Te}else return ue},v.getTargetArray=function(se,ue){var pe=ue.target;if(typeof pe=="string"&&pe){var le=v.nestedProperty(se,pe).get();return Array.isArray(le)?le:!1}else if(Array.isArray(pe))return pe;return!1};function K(se,ue,pe){var le={};typeof ue!="object"&&(ue={});var Te=pe==="pieLike"?-1:3,de=Object.keys(se),Me,Re,ze;for(Me=0;Me<de.length;Me++)Re=de[Me],ze=se[Re],!(Re.charAt(0)==="_"||typeof ze=="function")&&(Re==="module"?le[Re]=ze:Array.isArray(ze)?Re==="colorscale"||Te===-1?le[Re]=ze.slice():le[Re]=ze.slice(0,Te):v.isTypedArray(ze)?Te===-1?le[Re]=ze.subarray():le[Re]=ze.subarray(0,Te):ze&&typeof ze=="object"?le[Re]=K(se[Re],ue[Re],pe):le[Re]=ze);for(de=Object.keys(ue),Me=0;Me<de.length;Me++)Re=de[Me],ze=ue[Re],(typeof ze!="object"||!(Re in le)||typeof le[Re]!="object")&&(le[Re]=ze);return le}v.minExtend=K,v.titleCase=function(se){return se.charAt(0).toUpperCase()+se.substr(1)},v.containsAny=function(se,ue){for(var pe=0;pe<ue.length;pe++)if(se.indexOf(ue[pe])!==-1)return!0;return!1},v.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var ae=/Version\/[\d\.]+.*Safari/;v.isSafari=function(){return ae.test(window.navigator.userAgent)};var Q=/iPad|iPhone|iPod/;v.isIOS=function(){return Q.test(window.navigator.userAgent)};var he=/Firefox\/(\d+)\.\d+/;v.getFirefoxVersion=function(){var se=he.exec(window.navigator.userAgent);if(se&&se.length===2){var ue=parseInt(se[1]);if(!isNaN(ue))return ue}return null},v.isD3Selection=function(se){return se instanceof m.selection},v.ensureSingle=function(se,ue,pe,le){var Te=se.select(ue+(pe?"."+pe:""));if(Te.size())return Te;var de=se.append(ue);return pe&&de.classed(pe,!0),le&&de.call(le),de},v.ensureSingleById=function(se,ue,pe,le){var Te=se.select(ue+"#"+pe);if(Te.size())return Te;var de=se.append(ue).attr("id",pe);return le&&de.call(le),de},v.objectFromPath=function(se,ue){for(var pe=se.split("."),le,Te=le={},de=0;de<pe.length;de++){var Me=pe[de],Re=null,ze=pe[de].match(/(.*)\[([0-9]+)\]/);ze?(Me=ze[1],Re=ze[2],le=le[Me]=[],de===pe.length-1?le[Re]=ue:le[Re]={},le=le[Re]):(de===pe.length-1?le[Me]=ue:le[Me]={},le=le[Me])}return Te};var ge=/^([^\[\.]+)\.(.+)?/,Se=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function ce(se){return se.slice(0,2)==="__"}v.expandObjectPaths=function(se){var ue,pe,le,Te,de,Me,Re;if(typeof se=="object"&&!Array.isArray(se)){for(pe in se)if(se.hasOwnProperty(pe))if(ue=pe.match(ge)){if(Te=se[pe],le=ue[1],ce(le))continue;delete se[pe],se[le]=v.extendDeepNoArrays(se[le]||{},v.objectFromPath(pe,v.expandObjectPaths(Te))[le])}else if(ue=pe.match(Se)){if(Te=se[pe],le=ue[1],ce(le))continue;if(de=parseInt(ue[2]),delete se[pe],se[le]=se[le]||[],ue[3]===".")Re=ue[4],Me=se[le][de]=se[le][de]||{},v.extendDeepNoArrays(Me,v.objectFromPath(Re,v.expandObjectPaths(Te)));else{if(ce(le))continue;se[le][de]=v.expandObjectPaths(Te)}}else{if(ce(pe))continue;se[pe]=v.expandObjectPaths(se[pe])}}return se},v.numSeparate=function(se,ue,pe){if(pe||(pe=!1),typeof ue!="string"||ue.length===0)throw new Error("Separator string required for formatting!");typeof se=="number"&&(se=String(se));var le=/(\d+)(\d{3})/,Te=ue.charAt(0),de=ue.charAt(1),Me=se.split("."),Re=Me[0],ze=Me.length>1?Te+Me[1]:"";if(de&&(Me.length>1||Re.length>4||pe))for(;le.test(Re);)Re=Re.replace(le,"$1"+de+"$2");return Re+ze},v.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var ne=/^\w*$/;v.templateString=function(se,ue){var pe={};return se.replace(v.TEMPLATE_STRING_REGEX,function(le,Te){var de;return ne.test(Te)?de=ue[Te]:(pe[Te]=pe[Te]||v.nestedProperty(ue,Te).get,de=pe[Te]()),v.isValidTextValue(de)?de:""})};var fe={max:10,count:0,name:"hovertemplate"};v.hovertemplateString=function(){return Ne.apply(fe,arguments)};var X={max:10,count:0,name:"texttemplate"};v.texttemplateString=function(){return Ne.apply(X,arguments)};var ye=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function Ce(se){var ue=se.match(ye);return ue?{key:ue[1],op:ue[2],number:Number(ue[3])}:{key:se,op:null,number:null}}var $e={max:10,count:0,name:"texttemplate",parseMultDiv:!0};v.texttemplateStringForShapes=function(){return Ne.apply($e,arguments)};var ke=/^[:|\|]/;function Ne(se,ue,pe){var le=this,Te=arguments;ue||(ue={});var de={};return se.replace(v.TEMPLATE_STRING_REGEX,function(Me,Re,ze){var We=Re==="xother"||Re==="yother",ot=Re==="_xother"||Re==="_yother",dt=Re==="_xother_"||Re==="_yother_",Ge=Re==="xother_"||Re==="yother_",Xe=We||ot||Ge||dt,qe=Re;(ot||dt)&&(qe=qe.substring(1)),(Ge||dt)&&(qe=qe.substring(0,qe.length-1));var gt=null,ut=null;if(le.parseMultDiv){var tt=Ce(qe);qe=tt.key,gt=tt.op,ut=tt.number}var Ct;if(Xe){if(Ct=ue[qe],Ct===void 0)return""}else{var Gt,Yt;for(Yt=3;Yt<Te.length;Yt++)if(Gt=Te[Yt],!!Gt){if(Gt.hasOwnProperty(qe)){Ct=Gt[qe];break}if(ne.test(qe)||(Ct=v.nestedProperty(Gt,qe).get(),Ct=de[qe]||v.nestedProperty(Gt,qe).get(),Ct&&(de[qe]=Ct)),Ct!==void 0)break}}if(Ct!==void 0&&(gt==="*"&&(Ct*=ut),gt==="/"&&(Ct/=ut)),Ct===void 0&&le)return le.count<le.max&&(v.warn("Variable '"+qe+"' in "+le.name+" could not be found!"),Ct=Me),le.count===le.max&&v.warn("Too many "+le.name+" warnings - additional warnings will be suppressed"),le.count++,Me;if(ze){var Nt;if(ze[0]===":"&&(Nt=pe?pe.numberFormat:v.numberFormat,Ct=Nt(ze.replace(ke,""))(Ct)),ze[0]==="|"){Nt=pe?pe.timeFormat:h;var Ft=v.dateTime2ms(Ct);Ct=v.formatDate(Ft,ze.replace(ke,""),!1,Nt)}}else{var pn=qe+"Label";ue.hasOwnProperty(pn)&&(Ct=ue[pn])}return Xe&&(Ct="("+Ct+")",(ot||dt)&&(Ct=" "+Ct),(Ge||dt)&&(Ct=Ct+" ")),Ct})}var Ve=48,Oe=57;v.subplotSort=function(se,ue){for(var pe=Math.min(se.length,ue.length)+1,le=0,Te=0,de=0;de<pe;de++){var Me=se.charCodeAt(de)||0,Re=ue.charCodeAt(de)||0,ze=Me>=Ve&&Me<=Oe,We=Re>=Ve&&Re<=Oe;if(ze&&(le=10*le+Me-Ve),We&&(Te=10*Te+Re-Ve),!ze||!We){if(le!==Te)return le-Te;if(Me!==Re)return Me-Re}}return Te-le};var Fe=2e9;v.seedPseudoRandom=function(){Fe=2e9},v.pseudoRandom=function(){var se=Fe;return Fe=(69069*Fe+1)%4294967296,Math.abs(Fe-se)<429496729?v.pseudoRandom():Fe/4294967296},v.fillText=function(se,ue,pe){var le=Array.isArray(pe)?function(Me){pe.push(Me)}:function(Me){pe.text=Me},Te=v.extractOption(se,ue,"htx","hovertext");if(v.isValidTextValue(Te))return le(Te);var de=v.extractOption(se,ue,"tx","text");if(v.isValidTextValue(de))return le(de)},v.isValidTextValue=function(se){return se||se===0},v.formatPercent=function(se,ue){ue=ue||0;for(var pe=(Math.round(100*se*Math.pow(10,ue))*Math.pow(.1,ue)).toFixed(ue)+"%",le=0;le<ue;le++)pe.indexOf(".")!==-1&&(pe=pe.replace("0%","%"),pe=pe.replace(".%","%"));return pe},v.isHidden=function(se){var ue=window.getComputedStyle(se).display;return!ue||ue==="none"},v.strTranslate=function(se,ue){return se||ue?"translate("+se+","+ue+")":""},v.strRotate=function(se){return se?"rotate("+se+")":""},v.strScale=function(se){return se!==1?"scale("+se+")":""},v.getTextTransform=function(se){var ue=se.noCenter,pe=se.textX,le=se.textY,Te=se.targetX,de=se.targetY,Me=se.anchorX||0,Re=se.anchorY||0,ze=se.rotate,We=se.scale;return We?We>1&&(We=1):We=0,v.strTranslate(Te-We*(pe+Me),de-We*(le+Re))+v.strScale(We)+(ze?"rotate("+ze+(ue?"":" "+pe+" "+le)+")":"")},v.setTransormAndDisplay=function(se,ue){se.attr("transform",v.getTextTransform(ue)),se.style("display",ue.scale?null:"none")},v.ensureUniformFontSize=function(se,ue){var pe=v.extendFlat({},ue);return pe.size=Math.max(ue.size,se._fullLayout.uniformtext.minsize||0),pe},v.join2=function(se,ue,pe){var le=se.length;return le>1?se.slice(0,-1).join(ue)+pe+se[le-1]:se.join(ue)},v.bigFont=function(se){return Math.round(1.2*se)};var ie=v.getFirefoxVersion(),we=ie!==null&&ie<86;v.getPositionFromD3Event=function(){return we?[m.event.layerX,m.event.layerY]:[m.event.offsetX,m.event.offsetY]}},1965:function(L){L.exports=function(s){return window&&window.process&&window.process.versions?Object.prototype.toString.call(s)==="[object Object]":Object.prototype.toString.call(s)==="[object Object]"&&Object.getPrototypeOf(s).hasOwnProperty("hasOwnProperty")}},6636:function(L,A,s){var m=s(5487),h=/^\w*$/,l=0,c=1,i=2,u=3,d=4;L.exports=function(v,x,C,_){C=C||"name",_=_||"value";var $,S,O,D={};x&&x.length?(O=m(v,x),S=O.get()):S=v,x=x||"";var N={};if(S)for($=0;$<S.length;$++)N[S[$][C]]=$;var M=h.test(_),k={set:function(R,F){var H=F===null?d:l;if(!S){if(!O||H===d)return;S=[],O.set(S)}var j=N[R];if(j===void 0){if(H===d)return;H=H|u,j=S.length,N[R]=j}else F!==(M?S[j][_]:m(S[j],_).get())&&(H=H|i);var P=S[j]=S[j]||{};return P[C]=R,M?P[_]=F:m(P,_).set(F),F!==null&&(H=H&~d),D[j]=D[j]|H,k},get:function(R){if(S){var F=N[R];if(F!==void 0)return M?S[F][_]:m(S[F],_).get()}},rename:function(R,F){var H=N[R];return H===void 0||(D[H]=D[H]|c,N[F]=H,delete N[R],S[H][C]=F),k},remove:function(R){var F=N[R];if(F===void 0)return k;var H=S[F];if(Object.keys(H).length>2)return D[F]=D[F]|i,k.set(R,null);if(M){for($=F;$<S.length;$++)D[$]=D[$]|u;for($=F;$<S.length;$++)N[S[$][C]]--;S.splice(F,1),delete N[R]}else m(H,_).set(null),D[F]=D[F]|i|d;return k},constructUpdate:function(){for(var R,F,H={},j=Object.keys(D),P=0;P<j.length;P++)F=j[P],R=x+"["+F+"]",S[F]?(D[F]&c&&(H[R+"."+C]=S[F][C]),D[F]&i&&(M?H[R+"."+_]=D[F]&d?null:S[F][_]:H[R+"."+_]=D[F]&d?null:m(S[F],_).get())):H[R]=null;return H}};return k}},5867:function(L,A,s){var m=s(3972);L.exports=function(l,c){for(var i=l._context.locale,u=0;u<2;u++){for(var d=l._context.locales,g=0;g<2;g++){var v=(d[i]||{}).dictionary;if(v){var x=v[c];if(x)return x}d=m.localeRegistry}var C=i.split("-")[0];if(C===i)break;i=C}return c}},7769:function(L,A,s){var m=s(2075).dfltConfig,h=s(5046),l=L.exports={};l.log=function(){var c;if(m.logging>1){var i=["LOG:"];for(c=0;c<arguments.length;c++)i.push(arguments[c]);console.trace.apply(console,i)}if(m.notifyOnLogging>1){var u=[];for(c=0;c<arguments.length;c++)u.push(arguments[c]);h(u.join("<br>"),"long")}},l.warn=function(){var c;if(m.logging>0){var i=["WARN:"];for(c=0;c<arguments.length;c++)i.push(arguments[c]);console.trace.apply(console,i)}if(m.notifyOnLogging>0){var u=[];for(c=0;c<arguments.length;c++)u.push(arguments[c]);h(u.join("<br>"),"stick")}},l.error=function(){var c;if(m.logging>0){var i=["ERROR:"];for(c=0;c<arguments.length;c++)i.push(arguments[c]);console.error.apply(console,i)}if(m.notifyOnLogging>0){var u=[];for(c=0;c<arguments.length;c++)u.push(arguments[c]);h(u.join("<br>"),"stick")}}},7310:function(L,A,s){var m=s(9898);L.exports=function(l,c,i){var u=l.selectAll("g."+i.replace(/\s/g,".")).data(c,function(g){return g[0].trace.uid});u.exit().remove(),u.enter().append("g").attr("class",i),u.order();var d=l.classed("rangeplot")?"nodeRangePlot3":"node3";return u.each(function(g){g[0][d]=m.select(this)}),u}},5657:function(L,A,s){var m=s(9576);A.init2dArray=function(h,l){for(var c=new Array(h),i=0;i<h;i++)c[i]=new Array(l);return c},A.transposeRagged=function(h){var l=0,c=h.length,i,u;for(i=0;i<c;i++)l=Math.max(l,h[i].length);var d=new Array(l);for(i=0;i<l;i++)for(d[i]=new Array(c),u=0;u<c;u++)d[i][u]=h[u][i];return d},A.dot=function(h,l){if(!(h.length&&l.length)||h.length!==l.length)return null;var c=h.length,i,u;if(h[0].length)for(i=new Array(c),u=0;u<c;u++)i[u]=A.dot(h[u],l);else if(l[0].length){var d=A.transposeRagged(l);for(i=new Array(d.length),u=0;u<d.length;u++)i[u]=A.dot(h,d[u])}else for(i=0,u=0;u<c;u++)i+=h[u]*l[u];return i},A.translationMatrix=function(h,l){return[[1,0,h],[0,1,l],[0,0,1]]},A.rotationMatrix=function(h){var l=h*Math.PI/180;return[[Math.cos(l),-Math.sin(l),0],[Math.sin(l),Math.cos(l),0],[0,0,1]]},A.rotationXYMatrix=function(h,l,c){return A.dot(A.dot(A.translationMatrix(l,c),A.rotationMatrix(h)),A.translationMatrix(-l,-c))},A.apply3DTransform=function(h){return function(){var l=arguments,c=arguments.length===1?l[0]:[l[0],l[1],l[2]||0];return A.dot(h,[c[0],c[1],c[2],1]).slice(0,3)}},A.apply2DTransform=function(h){return function(){var l=arguments;l.length===3&&(l=l[0]);var c=arguments.length===1?l[0]:[l[0],l[1]];return A.dot(h,[c[0],c[1],1]).slice(0,2)}},A.apply2DTransform2=function(h){var l=A.apply2DTransform(h);return function(c){return l(c.slice(0,2)).concat(l(c.slice(2,4)))}},A.convertCssMatrix=function(h){if(h){var l=h.length;if(l===16)return h;if(l===6)return[h[0],h[1],0,0,h[2],h[3],0,0,0,0,1,0,h[4],h[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},A.inverseTransformMatrix=function(h){var l=[];return m.invert(l,h),[[l[0],l[1],l[2],l[3]],[l[4],l[5],l[6],l[7]],[l[8],l[9],l[10],l[11]],[l[12],l[13],l[14],l[15]]]}},4872:function(L){function A(m,h){var l=m%h;return l<0?l+h:l}function s(m,h){return Math.abs(m)>h/2?m-Math.round(m/h)*h:m}L.exports={mod:A,modHalf:s}},5487:function(L,A,s){var m=s(2770),h=s(3627).isArrayOrTypedArray;L.exports=function(_,$){if(m($))$=String($);else if(typeof $!="string"||$.substr($.length-4)==="[-1]")throw"bad property string";var S=$.split("."),O,D,N,M;for(M=0;M<S.length;M++)if(String(S[M]).slice(0,2)==="__")throw"bad property string";for(M=0;M<S.length;){if(O=String(S[M]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),O){if(O[1])S[M]=O[1];else if(M===0)S.splice(0,1);else throw"bad property string";for(D=O[2].substr(1,O[2].length-2).split("]["),N=0;N<D.length;N++)M++,S.splice(M,0,Number(D[N]))}M++}return typeof _!="object"?x(_,$,S):{set:u(_,S,$),get:l(_,S),astr:$,parts:S,obj:_}};function l(C,_){return function(){var $=C,S,O,D,N,M;for(N=0;N<_.length-1;N++){if(S=_[N],S===-1){for(O=!0,D=[],M=0;M<$.length;M++)D[M]=l($[M],_.slice(N+1))(),D[M]!==D[0]&&(O=!1);return O?D[0]:D}if(typeof S=="number"&&!h($)||($=$[S],typeof $!="object"||$===null))return}if(!(typeof $!="object"||$===null)&&(D=$[_[N]],D!==null))return D}}var c=/(^|\.)args\[/;function i(C,_){return C===void 0||C===null&&!_.match(c)}function u(C,_,$){return function(S){var O=C,D="",N=i(S,$),M,k;for(k=0;k<_.length-1;k++){if(M=_[k],typeof M=="number"&&!h(O))throw"array index but container is not an array";if(M===-1){if(N=!g(O,_.slice(k+1),S,$),N)break;return}if(!v(O,M,_[k+1],N))break;if(O=O[M],typeof O!="object"||O===null)throw"container is not an object";D=d(D,M)}if(N){if(k===_.length-1&&(delete O[_[k]],Array.isArray(O)&&+_[k]===O.length-1))for(;O.length&&O[O.length-1]===void 0;)O.pop()}else O[_[k]]=S}}function d(C,_){var $=_;return m(_)?$="["+_+"]":C&&($="."+_),C+$}function g(C,_,$,S){var O=h($),D=!0,N=$,M=S.replace("-1",0),k=O?!1:i($,M),R=_[0],F;for(F=0;F<C.length;F++)M=S.replace("-1",F),O&&(N=$[F%$.length],k=i(N,M)),k&&(D=!1),v(C,F,R,k)&&u(C[F],_,S.replace("-1",F))(N);return D}function v(C,_,$,S){if(C[_]===void 0){if(S)return!1;typeof $=="number"?C[_]=[]:C[_]={}}return!0}function x(C,_,$){return{set:function(){throw"bad container"},get:function(){},astr:_,parts:$,obj:C}}},4213:function(L){L.exports=function(){}},5046:function(L,A,s){var m=s(9898),h=s(2770),l=[];L.exports=function(c,i){if(l.indexOf(c)!==-1)return;l.push(c);var u=1e3;h(i)?u=i:i==="long"&&(u=3e3);var d=m.select("body").selectAll(".plotly-notifier").data([0]);d.enter().append("div").classed("plotly-notifier",!0);var g=d.selectAll(".notifier-note").data(l);function v(x){x.duration(700).style("opacity",0).each("end",function(C){var _=l.indexOf(C);_!==-1&&l.splice(_,1),m.select(this).remove()})}g.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(x){var C=m.select(this);C.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){C.transition().call(v)});for(var _=C.append("p"),$=x.split(/<br\s*\/?>/g),S=0;S<$.length;S++)S&&_.append("br"),_.append("span").text($[S]);i==="stick"?C.transition().duration(350).style("opacity",1):C.transition().duration(700).style("opacity",1).transition().delay(u).call(v)})}},9918:function(L,A,s){var m=s(6964),h="data-savedcursor",l="!!";L.exports=function(i,u){var d=i.attr(h);if(u){if(!d){for(var g=(i.attr("class")||"").split(" "),v=0;v<g.length;v++){var x=g[v];x.indexOf("cursor-")===0&&i.attr(h,x.substr(7)).classed(x,!1)}i.attr(h)||i.attr(h,l)}m(i,u)}else d&&(i.attr(h,null),d===l?m(i):m(i,d))}},1082:function(L,A,s){var m=s(5657).dot,h=s(606).BADNUM,l=L.exports={};l.tester=function(i){var u=i.slice(),d=u[0][0],g=d,v=u[0][1],x=v,C;for((u[u.length-1][0]!==u[0][0]||u[u.length-1][1]!==u[0][1])&&u.push(u[0]),C=1;C<u.length;C++)d=Math.min(d,u[C][0]),g=Math.max(g,u[C][0]),v=Math.min(v,u[C][1]),x=Math.max(x,u[C][1]);var _=!1,$;u.length===5&&(u[0][0]===u[1][0]?u[2][0]===u[3][0]&&u[0][1]===u[3][1]&&u[1][1]===u[2][1]&&(_=!0,$=function(M){return M[0]===u[0][0]}):u[0][1]===u[1][1]&&u[2][1]===u[3][1]&&u[0][0]===u[3][0]&&u[1][0]===u[2][0]&&(_=!0,$=function(M){return M[1]===u[0][1]}));function S(M,k){var R=M[0],F=M[1];return!(R===h||R<d||R>g||F===h||F<v||F>x||k&&$(M))}function O(M,k){var R=M[0],F=M[1];if(R===h||R<d||R>g||F===h||F<v||F>x)return!1;var H=u.length,j=u[0][0],P=u[0][1],ee=0,J,K,ae,Q,he;for(J=1;J<H;J++)if(K=j,ae=P,j=u[J][0],P=u[J][1],Q=Math.min(K,j),!(R<Q||R>Math.max(K,j)||F>Math.max(ae,P)))if(F<Math.min(ae,P))R!==Q&&ee++;else{if(j===K?he=F:he=ae+(R-K)*(P-ae)/(j-K),F===he)return!(J===1&&k);F<=he&&R!==Q&&ee++}return ee%2===1}var D=!0,N=u[0];for(C=1;C<u.length;C++)if(N[0]!==u[C][0]||N[1]!==u[C][1]){D=!1;break}return{xmin:d,xmax:g,ymin:v,ymax:x,pts:u,contains:_?S:O,isRect:_,degenerate:D}},l.isSegmentBent=function(i,u,d,g){var v=i[u],x=[i[d][0]-v[0],i[d][1]-v[1]],C=m(x,x),_=Math.sqrt(C),$=[-x[1]/_,x[0]/_],S,O,D;for(S=u+1;S<d;S++)if(O=[i[S][0]-v[0],i[S][1]-v[1]],D=m(O,x),D<0||D>C||Math.abs(m(O,$))>g)return!0;return!1},l.filter=function(i,u){var d=[i[0]],g=0,v=0;function x(_){i.push(_);var $=d.length,S=g;d.splice(v+1);for(var O=S+1;O<i.length;O++)(O===i.length-1||l.isSegmentBent(i,S,O+1,u))&&(d.push(i[O]),d.length<$-2&&(g=O,v=d.length-1),S=O)}if(i.length>1){var C=i.pop();x(C)}return{addPt:x,raw:i,filtered:d}}},5142:function(L,A,s){var m=s(2770),h=s(5791);L.exports=function(i){var u;if(i&&i.hasOwnProperty("userAgent")?u=i.userAgent:u=l(),typeof u!="string")return!0;var d=h({ua:{headers:{"user-agent":u}},tablet:!0,featureDetect:!1});if(!d)for(var g=u.split(" "),v=1;v<g.length;v++){var x=g[v];if(x.indexOf("Safari")!==-1)for(var C=v-1;C>-1;C--){var _=g[C];if(_.substr(0,8)==="Version/"){var $=_.substr(8).split(".")[0];if(m($)&&($=+$),$>=13)return!0}}}return d};function l(){var c;return typeof navigator<"u"&&(c=navigator.userAgent),c&&c.headers&&typeof c.headers["user-agent"]=="string"&&(c=c.headers["user-agent"]),c}},5138:function(L){L.exports=function(s,m){if(m instanceof RegExp){for(var h=m.toString(),l=0;l<s.length;l++)if(s[l]instanceof RegExp&&s[l].toString()===h)return s;s.push(m)}else(m||m===0)&&s.indexOf(m)===-1&&s.push(m);return s}},847:function(L,A,s){var m=s(1828),h=s(2075).dfltConfig;function l(i,u){for(var d=[],g,v=0;v<u.length;v++)g=u[v],g===i?d[v]=g:typeof g=="object"?d[v]=Array.isArray(g)?m.extendDeep([],g):m.extendDeepAll({},g):d[v]=g;return d}var c={};c.add=function(i,u,d,g,v){var x,C;if(i.undoQueue=i.undoQueue||{index:0,queue:[],sequence:!1},C=i.undoQueue.index,i.autoplay){i.undoQueue.inSequence||(i.autoplay=!1);return}!i.undoQueue.sequence||i.undoQueue.beginSequence?(x={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},i.undoQueue.queue.splice(C,i.undoQueue.queue.length-C,x),i.undoQueue.index+=1):x=i.undoQueue.queue[C-1],i.undoQueue.beginSequence=!1,x&&(x.undo.calls.unshift(u),x.undo.args.unshift(d),x.redo.calls.push(g),x.redo.args.push(v)),i.undoQueue.queue.length>h.queueLength&&(i.undoQueue.queue.shift(),i.undoQueue.index--)},c.startSequence=function(i){i.undoQueue=i.undoQueue||{index:0,queue:[],sequence:!1},i.undoQueue.sequence=!0,i.undoQueue.beginSequence=!0},c.stopSequence=function(i){i.undoQueue=i.undoQueue||{index:0,queue:[],sequence:!1},i.undoQueue.sequence=!1,i.undoQueue.beginSequence=!1},c.undo=function(u){var d,g;if(!(u.undoQueue===void 0||isNaN(u.undoQueue.index)||u.undoQueue.index<=0)){for(u.undoQueue.index--,d=u.undoQueue.queue[u.undoQueue.index],u.undoQueue.inSequence=!0,g=0;g<d.undo.calls.length;g++)c.plotDo(u,d.undo.calls[g],d.undo.args[g]);u.undoQueue.inSequence=!1,u.autoplay=!1}},c.redo=function(u){var d,g;if(!(u.undoQueue===void 0||isNaN(u.undoQueue.index)||u.undoQueue.index>=u.undoQueue.queue.length)){for(d=u.undoQueue.queue[u.undoQueue.index],u.undoQueue.inSequence=!0,g=0;g<d.redo.calls.length;g++)c.plotDo(u,d.redo.calls[g],d.redo.args[g]);u.undoQueue.inSequence=!1,u.autoplay=!1,u.undoQueue.index++}},c.plotDo=function(i,u,d){i.autoplay=!0,d=l(i,d),u.apply(null,d)},L.exports=c},587:function(L,A){A.counter=function(s,m,h,l){var c=(m||"")+(h?"":"$"),i=l===!1?"":"^";return s==="xy"?new RegExp(i+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+c):new RegExp(i+s+"([2-9]|[1-9][0-9]+)?"+c)}},6962:function(L){var A=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,s=/^[^\.\[\]]+$/;L.exports=function(m,h){for(;h;){var l=m.match(A);if(l)m=l[1];else if(m.match(s))m="";else throw new Error("bad relativeAttr call:"+[m,h]);if(h.charAt(0)==="^")h=h.slice(1);else break}return m&&h.charAt(0)!=="["?m+"."+h:m+h}},1332:function(L,A,s){var m=s(3627).isArrayOrTypedArray,h=s(1965);L.exports=function l(c,i){for(var u in i){var d=i[u],g=c[u];if(g!==d)if(u.charAt(0)==="_"||typeof d=="function"){if(u in c)continue;c[u]=d}else if(m(d)&&m(g)&&h(d[0])){if(u==="customdata"||u==="ids")continue;for(var v=Math.min(d.length,g.length),x=0;x<v;x++)g[x]!==d[x]&&h(d[x])&&h(g[x])&&l(g[x],d[x])}else h(d)&&h(g)&&(l(g,d),Object.keys(g).length||delete c[u])}}},5888:function(L,A,s){var m=s(2770),h=s(7769),l=s(3389),c=s(606).BADNUM,i=1e-9;A.findBin=function(x,C,_){if(m(C.start))return _?Math.ceil((x-C.start)/C.size-i)-1:Math.floor((x-C.start)/C.size+i);var $=0,S=C.length,O=0,D=S>1?(C[S-1]-C[0])/(S-1):1,N,M;for(D>=0?M=_?u:d:M=_?v:g,x+=D*i*(_?-1:1)*(D>=0?1:-1);$<S&&O++<100;)N=Math.floor(($+S)/2),M(C[N],x)?$=N+1:S=N;return O>90&&h.log("Long binary search..."),$-1};function u(x,C){return x<C}function d(x,C){return x<=C}function g(x,C){return x>C}function v(x,C){return x>=C}A.sorterAsc=function(x,C){return x-C},A.sorterDes=function(x,C){return C-x},A.distinctVals=function(x){var C=x.slice();C.sort(A.sorterAsc);var _;for(_=C.length-1;_>-1&&C[_]===c;_--);for(var $=C[_]-C[0]||1,S=$/(_||1)/1e4,O=[],D,N=0;N<=_;N++){var M=C[N],k=M-D;D===void 0?(O.push(M),D=M):k>S&&($=Math.min($,k),O.push(M),D=M)}return{vals:O,minDiff:$}},A.roundUp=function(x,C,_){for(var $=0,S=C.length-1,O,D=0,N=_?0:1,M=_?1:0,k=_?Math.ceil:Math.floor;$<S&&D++<100;)O=k(($+S)/2),C[O]<=x?$=O+N:S=O-M;return C[$]},A.sort=function(x,C){for(var _=0,$=0,S=1;S<x.length;S++){var O=C(x[S],x[S-1]);if(O<0?_=1:O>0&&($=1),_&&$)return x.sort(C)}return $?x:x.reverse()},A.findIndexOfMin=function(x,C){C=C||l;for(var _=1/0,$,S=0;S<x.length;S++){var O=C(x[S]);O<_&&(_=O,$=S)}return $}},6964:function(L){L.exports=function(s,m){(s.attr("class")||"").split(" ").forEach(function(h){h.indexOf("cursor-")===0&&s.classed(h,!1)}),m&&s.classed("cursor-"+m,!0)}},8607:function(L){L.exports=function(s){return Object.keys(s).sort()}},38:function(L,A,s){var m=s(2770),h=s(3627).isArrayOrTypedArray;A.aggNums=function(l,c,i,u){var d,g;if((!u||u>i.length)&&(u=i.length),m(c)||(c=!1),h(i[0])){for(g=new Array(u),d=0;d<u;d++)g[d]=A.aggNums(l,c,i[d]);i=g}for(d=0;d<u;d++)m(c)?m(i[d])&&(c=l(+c,+i[d])):c=i[d];return c},A.len=function(l){return A.aggNums(function(c){return c+1},0,l)},A.mean=function(l,c){return c||(c=A.len(l)),A.aggNums(function(i,u){return i+u},0,l)/c},A.midRange=function(l){if(!(l===void 0||l.length===0))return(A.aggNums(Math.max,null,l)+A.aggNums(Math.min,null,l))/2},A.variance=function(l,c,i){return c||(c=A.len(l)),m(i)||(i=A.mean(l,c)),A.aggNums(function(u,d){return u+Math.pow(d-i,2)},0,l)/c},A.stdev=function(l,c,i){return Math.sqrt(A.variance(l,c,i))},A.median=function(l){var c=l.slice().sort();return A.interp(c,.5)},A.interp=function(l,c){if(!m(c))throw"n should be a finite number";if(c=c*l.length-.5,c<0)return l[0];if(c>l.length-1)return l[l.length-1];var i=c%1;return i*l[Math.ceil(c)]+(1-i)*l[Math.floor(c)]}},3893:function(L,A,s){var m=s(9898),h=s(1828),l=h.strTranslate,c=s(7922),i=s(8783).LINE_SPACING,u=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;A.convertToTspans=function(fe,X,ye){var Ce=fe.text(),$e=!fe.attr("data-notex")&&X&&X._context.typesetMath&&typeof MathJax<"u"&&Ce.match(u),ke=m.select(fe.node().parentNode);if(ke.empty())return;var Ne=fe.attr("class")?fe.attr("class").split(" ")[0]:"text";Ne+="-math",ke.selectAll("svg."+Ne).remove(),ke.selectAll("g."+Ne+"-group").remove(),fe.style("display",null).attr({"data-unformatted":Ce,"data-math":"N"});function Ve(){ke.empty()||(Ne=fe.attr("class")+"-math",ke.select("svg."+Ne).remove()),fe.text("").style("white-space","pre");var Oe=ge(fe.node(),Ce);Oe&&fe.style("pointer-events","all"),A.positionText(fe),ye&&ye.call(fe)}return $e?(X&&X._promises||[]).push(new Promise(function(Oe){fe.style("display","none");var Fe=parseInt(fe.node().style.fontSize,10),ie={fontSize:Fe};C($e[2],ie,function(we,se,ue){ke.selectAll("svg."+Ne).remove(),ke.selectAll("g."+Ne+"-group").remove();var pe=we&&we.select("svg");if(!pe||!pe.node()){Ve(),Oe();return}var le=ke.append("g").classed(Ne+"-group",!0).attr({"pointer-events":"none","data-unformatted":Ce,"data-math":"Y"});le.node().appendChild(pe.node()),se&&se.node()&&pe.node().insertBefore(se.node().cloneNode(!0),pe.node().firstChild);var Te=ue.width,de=ue.height;pe.attr({class:Ne,height:de,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var Me=fe.node().style.fill||"black",Re=pe.select("g");Re.attr({fill:Me,stroke:Me});var ze=Re.node().getBoundingClientRect(),We=ze.width,ot=ze.height;(We>Te||ot>de)&&(pe.style("overflow","hidden"),ze=pe.node().getBoundingClientRect(),We=ze.width,ot=ze.height);var dt=+fe.attr("x"),Ge=+fe.attr("y"),Xe=Fe||fe.node().getBoundingClientRect().height,qe=-Xe/4;if(Ne[0]==="y")le.attr({transform:"rotate("+[-90,dt,Ge]+")"+l(-We/2,qe-ot/2)});else if(Ne[0]==="l")Ge=qe-ot/2;else if(Ne[0]==="a"&&Ne.indexOf("atitle")!==0)dt=0,Ge=qe;else{var gt=fe.attr("text-anchor");dt=dt-We*(gt==="middle"?.5:gt==="end"?1:0),Ge=Ge+qe-ot/2}pe.attr({x:dt,y:Ge}),ye&&ye.call(fe,le),Oe(le)})})):Ve(),fe};var d=/(<|&lt;|&#60;)/g,g=/(>|&gt;|&#62;)/g;function v(fe){return fe.replace(d,"\\lt ").replace(g,"\\gt ")}var x=[["$","$"],["\\(","\\)"]];function C(fe,X,ye){var Ce=parseInt((MathJax.version||"").split(".")[0]);if(Ce!==2&&Ce!==3){h.warn("No MathJax version:",MathJax.version);return}var $e,ke,Ne,Ve,Oe=function(){return ke=h.extendDeepAll({},MathJax.Hub.config),Ne=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:x},displayAlign:"left"})},Fe=function(){ke=h.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=x},ie=function(){if($e=MathJax.Hub.config.menuSettings.renderer,$e!=="SVG")return MathJax.Hub.setRenderer("SVG")},we=function(){$e=MathJax.config.startup.output,$e!=="svg"&&(MathJax.config.startup.output="svg")},se=function(){var Me="math-output-"+h.randstr({},64);Ve=m.select("body").append("div").attr({id:Me}).style({visibility:"hidden",position:"absolute","font-size":X.fontSize+"px"}).text(v(fe));var Re=Ve.node();return Ce===2?MathJax.Hub.Typeset(Re):MathJax.typeset([Re])},ue=function(){var Me=Ve.select(Ce===2?".MathJax_SVG":".MathJax"),Re=!Me.empty()&&Ve.select("svg").node();if(!Re)h.log("There was an error in the tex syntax.",fe),ye();else{var ze=Re.getBoundingClientRect(),We;Ce===2?We=m.select("body").select("#MathJax_SVG_glyphs"):We=Me.select("defs"),ye(Me,We,ze)}Ve.remove()},pe=function(){if($e!=="SVG")return MathJax.Hub.setRenderer($e)},le=function(){$e!=="svg"&&(MathJax.config.startup.output=$e)},Te=function(){return Ne!==void 0&&(MathJax.Hub.processSectionDelay=Ne),MathJax.Hub.Config(ke)},de=function(){MathJax.config=ke};Ce===2?MathJax.Hub.Queue(Oe,ie,se,ue,pe,Te):Ce===3&&(Fe(),we(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){se(),ue(),le(),de()}))}var _={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},$={sub:"0.3em",sup:"-0.6em"},S={sub:"-0.21em",sup:"0.42em"},O="​",D=["http:","https:","mailto:","",void 0,":"],N=A.NEWLINES=/(\r\n?|\n)/g,M=/(<[^<>]*>)/,k=/<(\/?)([^ >]*)(\s+(.*))?>/i,R=/<br(\s+.*)?>/i;A.BR_TAG_ALL=/<br(\s+.*)?>/gi;var F=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,H=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,j=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,P=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function ee(fe,X){if(!fe)return null;var ye=fe.match(X),Ce=ye&&(ye[3]||ye[4]);return Ce&&Q(Ce)}var J=/(^|;)\s*color:/;A.plainText=function(fe,X){X=X||{};for(var ye=X.len!==void 0&&X.len!==-1?X.len:1/0,Ce=X.allowedTags!==void 0?X.allowedTags:["br"],$e="...",ke=$e.length,Ne=fe.split(M),Ve=[],Oe="",Fe=0,ie=0;ie<Ne.length;ie++){var we=Ne[ie],se=we.match(k),ue=se&&se[2].toLowerCase();if(ue)Ce.indexOf(ue)!==-1&&(Ve.push(we),Oe=ue);else{var pe=we.length;if(Fe+pe<ye)Ve.push(we),Fe+=pe;else if(Fe<ye){var le=ye-Fe;Oe&&(Oe!=="br"||le<=ke||pe<=ke)&&Ve.pop(),ye>ke?Ve.push(we.substr(0,le-ke)+$e):Ve.push(we.substr(0,le));break}Oe=""}}return Ve.join("")};var K={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},ae=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function Q(fe){return fe.replace(ae,function(X,ye){var Ce;return ye.charAt(0)==="#"?Ce=he(ye.charAt(1)==="x"?parseInt(ye.substr(2),16):parseInt(ye.substr(1),10)):Ce=K[ye],Ce||X})}A.convertEntities=Q;function he(fe){if(!(fe>1114111)){var X=String.fromCodePoint;if(X)return X(fe);var ye=String.fromCharCode;return fe<=65535?ye(fe):ye((fe>>10)+55232,fe%1024+56320)}}function ge(fe,X){X=X.replace(N," ");var ye=!1,Ce=[],$e,ke=-1;function Ne(){ke++;var ot=document.createElementNS(c.svg,"tspan");m.select(ot).attr({class:"line",dy:ke*i+"em"}),fe.appendChild(ot),$e=ot;var dt=Ce;if(Ce=[{node:ot}],dt.length>1)for(var Ge=1;Ge<dt.length;Ge++)Ve(dt[Ge])}function Ve(ot){var dt=ot.type,Ge={},Xe;if(dt==="a"){Xe="a";var qe=ot.target,gt=ot.href,ut=ot.popup;gt&&(Ge={"xlink:xlink:show":qe==="_blank"||qe.charAt(0)!=="_"?"new":"replace",target:qe,"xlink:xlink:href":gt},ut&&(Ge.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+ut+'");return false;'))}else Xe="tspan";ot.style&&(Ge.style=ot.style);var tt=document.createElementNS(c.svg,Xe);if(dt==="sup"||dt==="sub"){Oe($e,O),$e.appendChild(tt);var Ct=document.createElementNS(c.svg,"tspan");Oe(Ct,O),m.select(Ct).attr("dy",S[dt]),Ge.dy=$[dt],$e.appendChild(tt),$e.appendChild(Ct)}else $e.appendChild(tt);m.select(tt).attr(Ge),$e=ot.node=tt,Ce.push(ot)}function Oe(ot,dt){ot.appendChild(document.createTextNode(dt))}function Fe(ot){if(Ce.length===1){h.log("Ignoring unexpected end tag </"+ot+">.",X);return}var dt=Ce.pop();ot!==dt.type&&h.log("Start tag <"+dt.type+"> doesnt match end tag <"+ot+">. Pretending it did match.",X),$e=Ce[Ce.length-1].node}var ie=R.test(X);ie?Ne():($e=fe,Ce=[{node:fe}]);for(var we=X.split(M),se=0;se<we.length;se++){var ue=we[se],pe=ue.match(k),le=pe&&pe[2].toLowerCase(),Te=_[le];if(le==="br")Ne();else if(Te===void 0)Oe($e,Q(ue));else if(pe[1])Fe(le);else{var de=pe[4],Me={type:le},Re=ee(de,F);if(Re?(Re=Re.replace(J,"$1 fill:"),Te&&(Re+=";"+Te)):Te&&(Re=Te),Re&&(Me.style=Re),le==="a"){ye=!0;var ze=ee(de,H);if(ze){var We=Se(ze);We&&(Me.href=We,Me.target=ee(de,j)||"_blank",Me.popup=ee(de,P))}}Ve(Me)}}return ye}function Se(fe){var X=encodeURI(decodeURI(fe)),ye=document.createElement("a"),Ce=document.createElement("a");ye.href=fe,Ce.href=X;var $e=ye.protocol,ke=Ce.protocol;return D.indexOf($e)!==-1&&D.indexOf(ke)!==-1?X:""}A.sanitizeHTML=function(X){X=X.replace(N," ");for(var ye=document.createElement("p"),Ce=ye,$e=[],ke=X.split(M),Ne=0;Ne<ke.length;Ne++){var Ve=ke[Ne],Oe=Ve.match(k),Fe=Oe&&Oe[2].toLowerCase();if(Fe in _)if(Oe[1])$e.length&&(Ce=$e.pop());else{var ie=Oe[4],we=ee(ie,F),se=we?{style:we}:{};if(Fe==="a"){var ue=ee(ie,H);if(ue){var pe=Se(ue);if(pe){se.href=pe;var le=ee(ie,j);le&&(se.target=le)}}}var Te=document.createElement(Fe);Ce.appendChild(Te),m.select(Te).attr(se),Ce=Te,$e.push(Te)}else Ce.appendChild(document.createTextNode(Q(Ve)))}var de="innerHTML";return ye[de]},A.lineCount=function(X){return X.selectAll("tspan.line").size()||1},A.positionText=function(X,ye,Ce){return X.each(function(){var $e=m.select(this);function ke(Oe,Fe){return Fe===void 0?(Fe=$e.attr(Oe),Fe===null&&($e.attr(Oe,0),Fe=0)):$e.attr(Oe,Fe),Fe}var Ne=ke("x",ye),Ve=ke("y",Ce);this.nodeName==="text"&&$e.selectAll("tspan.line").attr({x:Ne,y:Ve})})};function ce(fe,X,ye){var Ce=ye.horizontalAlign,$e=ye.verticalAlign||"top",ke=fe.node().getBoundingClientRect(),Ne=X.node().getBoundingClientRect(),Ve,Oe,Fe;return $e==="bottom"?Oe=function(){return ke.bottom-Ve.height}:$e==="middle"?Oe=function(){return ke.top+(ke.height-Ve.height)/2}:Oe=function(){return ke.top},Ce==="right"?Fe=function(){return ke.right-Ve.width}:Ce==="center"?Fe=function(){return ke.left+(ke.width-Ve.width)/2}:Fe=function(){return ke.left},function(){Ve=this.node().getBoundingClientRect();var ie=Fe()-Ne.left,we=Oe()-Ne.top,se=ye.gd||{};if(ye.gd){se._fullLayout._calcInverseTransform(se);var ue=h.apply3DTransform(se._fullLayout._invTransform)(ie,we);ie=ue[0],we=ue[1]}return this.style({top:we+"px",left:ie+"px","z-index":1e3}),this}}var ne="1px ";A.makeTextShadow=function(fe){var X=ne,ye=ne,Ce=ne;return X+ye+Ce+fe+", -"+X+"-"+ye+Ce+fe+", "+X+"-"+ye+Ce+fe+", -"+X+ye+Ce+fe},A.makeEditable=function(fe,X){var ye=X.gd,Ce=X.delegate,$e=m.dispatch("edit","input","cancel"),ke=Ce||fe;if(fe.style({"pointer-events":Ce?"none":"all"}),fe.size()!==1)throw new Error("boo");function Ne(){Oe(),fe.style({opacity:0});var Fe=ke.attr("class"),ie;Fe?ie="."+Fe.split(" ")[0]+"-math-group":ie="[class*=-math-group]",ie&&m.select(fe.node().parentNode).select(ie).style({opacity:0})}function Ve(Fe){var ie=Fe.node(),we=document.createRange();we.selectNodeContents(ie);var se=window.getSelection();se.removeAllRanges(),se.addRange(we),ie.focus()}function Oe(){var Fe=m.select(ye),ie=Fe.select(".svg-container"),we=ie.append("div"),se=fe.node().style,ue=parseFloat(se.fontSize||12),pe=X.text;pe===void 0&&(pe=fe.attr("data-unformatted")),we.classed("plugin-editable editable",!0).style({position:"absolute","font-family":se.fontFamily||"Arial","font-size":ue,color:X.fill||se.fill||"black",opacity:1,"background-color":X.background||"transparent",outline:"#ffffff33 1px solid",margin:[-ue/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(pe).call(ce(fe,ie,X)).on("blur",function(){ye._editing=!1,fe.text(this.textContent).style({opacity:1});var le=m.select(this).attr("class"),Te;le?Te="."+le.split(" ")[0]+"-math-group":Te="[class*=-math-group]",Te&&m.select(fe.node().parentNode).select(Te).style({opacity:0});var de=this.textContent;m.select(this).transition().duration(0).remove(),m.select(document).on("mouseup",null),$e.edit.call(fe,de)}).on("focus",function(){var le=this;ye._editing=!0,m.select(document).on("mouseup",function(){if(m.event.target===le)return!1;document.activeElement===we.node()&&we.node().blur()})}).on("keyup",function(){m.event.which===27?(ye._editing=!1,fe.style({opacity:1}),m.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),$e.cancel.call(fe,this.textContent)):($e.input.call(fe,this.textContent),m.select(this).call(ce(fe,ie,X)))}).on("keydown",function(){m.event.which===13&&this.blur()}).call(Ve)}return X.immediate?Ne():ke.on("click",Ne),m.rebind(fe,$e,"on")}},9990:function(L,A){var s={};A.throttle=function(l,c,i){var u=s[l],d=Date.now();if(!u){for(var g in s)s[g].ts<d-6e4&&delete s[g];u=s[l]={ts:0,timer:null}}m(u);function v(){i(),u.ts=Date.now(),u.onDone&&(u.onDone(),u.onDone=null)}if(d>u.ts+c){v();return}u.timer=setTimeout(function(){v(),u.timer=null},c)},A.done=function(h){var l=s[h];return!l||!l.timer?Promise.resolve():new Promise(function(c){var i=l.onDone;l.onDone=function(){i&&i(),c(),l.onDone=null}})},A.clear=function(h){if(h)m(s[h]),delete s[h];else for(var l in s)A.clear(l)};function m(h){h&&h.timer!==null&&(clearTimeout(h.timer),h.timer=null)}},8163:function(L,A,s){var m=s(2770);L.exports=function(l,c){if(l>0)return Math.log(l)/Math.LN10;var i=Math.log(Math.min(c[0],c[1]))/Math.LN10;return m(i)||(i=Math.log(Math.max(c[0],c[1]))/Math.LN10-6),i}},7815:function(L){L.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},2177:function(L){L.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},4458:function(L,A,s){var m=s(3972);L.exports=function(l){for(var c=m.layoutArrayContainers,i=m.layoutArrayRegexes,u=l.split("[")[0],d,g,v=0;v<i.length;v++)if(g=l.match(i[v]),g&&g.index===0){d=g[0];break}if(d||(d=c[c.indexOf(u)]),!d)return!1;var x=l.substr(d.length);return x?(g=x.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),g?{array:d,index:Number(g[1]),property:g[3]||""}:!1):{array:d,index:"",property:""}}},962:function(L,A,s){var m=s(1426).extendFlat,h=s(1965),l={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},c={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},i=l.flags.slice().concat(["fullReplot"]),u=c.flags.slice().concat("layoutReplot");L.exports={traces:l,layout:c,traceFlags:function(){return d(i)},layoutFlags:function(){return d(u)},update:function(x,C){var _=C.editType;if(_&&_!=="none")for(var $=_.split("+"),S=0;S<$.length;S++)x[$[S]]=!0},overrideAll:g};function d(x){for(var C={},_=0;_<x.length;_++)C[x[_]]=!1;return C}function g(x,C,_){var $=m({},x);for(var S in $){var O=$[S];h(O)&&($[S]=v(O,C,_,S))}return _==="from-root"&&($.editType=C),$}function v(x,C,_,$){if(x.valType){var S=m({},x);if(S.editType=C,Array.isArray(x.items)){S.items=new Array(x.items.length);for(var O=0;O<x.items.length;O++)S.items[O]=v(x.items[O],C)}return S}else return g(x,C,$.charAt(0)==="_"?"nested":"from-root")}},8377:function(L,A,s){var m=s(2770),h=s(7812),l=s(3972),c=s(1828),i=s(4875),u=s(1675),d=s(7901),g=u.cleanId,v=u.getFromTrace,x=l.traceIs;A.clearPromiseQueue=function(R){Array.isArray(R._promises)&&R._promises.length>0&&c.log("Clearing previous rejected promises from queue."),R._promises=[]},A.cleanLayout=function(R){var F,H;R||(R={}),R.xaxis1&&(R.xaxis||(R.xaxis=R.xaxis1),delete R.xaxis1),R.yaxis1&&(R.yaxis||(R.yaxis=R.yaxis1),delete R.yaxis1),R.scene1&&(R.scene||(R.scene=R.scene1),delete R.scene1);var j=(i.subplotsRegistry.cartesian||{}).attrRegex,P=(i.subplotsRegistry.polar||{}).attrRegex,ee=(i.subplotsRegistry.ternary||{}).attrRegex,J=(i.subplotsRegistry.gl3d||{}).attrRegex,K=Object.keys(R);for(F=0;F<K.length;F++){var ae=K[F];if(j&&j.test(ae)){var Q=R[ae];Q.anchor&&Q.anchor!=="free"&&(Q.anchor=g(Q.anchor)),Q.overlaying&&(Q.overlaying=g(Q.overlaying)),Q.type||(Q.isdate?Q.type="date":Q.islog?Q.type="log":Q.isdate===!1&&Q.islog===!1&&(Q.type="linear")),(Q.autorange==="withzero"||Q.autorange==="tozero")&&(Q.autorange=!0,Q.rangemode="tozero"),delete Q.islog,delete Q.isdate,delete Q.categories,D(Q,"domain")&&delete Q.domain,Q.autotick!==void 0&&(Q.tickmode===void 0&&(Q.tickmode=Q.autotick?"auto":"linear"),delete Q.autotick),_(Q)}else if(P&&P.test(ae)){var he=R[ae];_(he.radialaxis)}else if(ee&&ee.test(ae)){var ge=R[ae];_(ge.aaxis),_(ge.baxis),_(ge.caxis)}else if(J&&J.test(ae)){var Se=R[ae],ce=Se.cameraposition;if(Array.isArray(ce)&&ce[0].length===4){var ne=ce[0],fe=ce[1],X=ce[2],ye=h([],ne),Ce=[];for(H=0;H<3;++H)Ce[H]=fe[H]+X*ye[2+4*H];Se.camera={eye:{x:Ce[0],y:Ce[1],z:Ce[2]},center:{x:fe[0],y:fe[1],z:fe[2]},up:{x:0,y:0,z:1}},delete Se.cameraposition}_(Se.xaxis),_(Se.yaxis),_(Se.zaxis)}}var $e=Array.isArray(R.annotations)?R.annotations.length:0;for(F=0;F<$e;F++){var ke=R.annotations[F];c.isPlainObject(ke)&&(ke.ref&&(ke.ref==="paper"?(ke.xref="paper",ke.yref="paper"):ke.ref==="data"&&(ke.xref="x",ke.yref="y"),delete ke.ref),C(ke,"xref"),C(ke,"yref"))}var Ne=Array.isArray(R.shapes)?R.shapes.length:0;for(F=0;F<Ne;F++){var Ve=R.shapes[F];c.isPlainObject(Ve)&&(C(Ve,"xref"),C(Ve,"yref"))}var Oe=Array.isArray(R.images)?R.images.length:0;for(F=0;F<Oe;F++){var Fe=R.images[F];c.isPlainObject(Fe)&&(C(Fe,"xref"),C(Fe,"yref"))}var ie=R.legend;return ie&&(ie.x>3?(ie.x=1.02,ie.xanchor="left"):ie.x<-2&&(ie.x=-.02,ie.xanchor="right"),ie.y>3?(ie.y=1.02,ie.yanchor="bottom"):ie.y<-2&&(ie.y=-.02,ie.yanchor="top")),_(R),R.dragmode==="rotate"&&(R.dragmode="orbit"),d.clean(R),R.template&&R.template.layout&&A.cleanLayout(R.template.layout),R};function C(R,F){var H=R[F],j=F.charAt(0);H&&H!=="paper"&&(R[F]=g(H,j,!0))}function _(R){R&&((typeof R.title=="string"||typeof R.title=="number")&&(R.title={text:R.title}),F("titlefont","font"),F("titleposition","position"),F("titleside","side"),F("titleoffset","offset"));function F(H,j){var P=R[H],ee=R.title&&R.title[j];P&&!ee&&(R.title||(R.title={}),R.title[j]=R[H],delete R[H])}}A.cleanData=function(R){for(var F=0;F<R.length;F++){var H=R[F],j;if(H.type==="histogramy"&&"xbins"in H&&!("ybins"in H)&&(H.ybins=H.xbins,delete H.xbins),H.error_y&&"opacity"in H.error_y){var P=d.defaults,ee=H.error_y.color||(x(H,"bar")?d.defaultLine:P[F%P.length]);H.error_y.color=d.addOpacity(d.rgb(ee),d.opacity(ee)*H.error_y.opacity),delete H.error_y.opacity}if("bardir"in H&&(H.bardir==="h"&&(x(H,"bar")||H.type.substr(0,9)==="histogram")&&(H.orientation="h",A.swapXYData(H)),delete H.bardir),H.type==="histogramy"&&A.swapXYData(H),(H.type==="histogramx"||H.type==="histogramy")&&(H.type="histogram"),"scl"in H&&!("colorscale"in H)&&(H.colorscale=H.scl,delete H.scl),"reversescl"in H&&!("reversescale"in H)&&(H.reversescale=H.reversescl,delete H.reversescl),H.xaxis&&(H.xaxis=g(H.xaxis,"x")),H.yaxis&&(H.yaxis=g(H.yaxis,"y")),x(H,"gl3d")&&H.scene&&(H.scene=i.subplotsRegistry.gl3d.cleanId(H.scene)),!x(H,"pie-like")&&!x(H,"bar-like"))if(Array.isArray(H.textposition))for(j=0;j<H.textposition.length;j++)H.textposition[j]=O(H.textposition[j]);else H.textposition&&(H.textposition=O(H.textposition));var J=l.getModule(H);if(J&&J.colorbar){var K=J.colorbar.container,ae=K?H[K]:H;ae&&ae.colorscale&&(ae.colorscale==="YIGnBu"&&(ae.colorscale="YlGnBu"),ae.colorscale==="YIOrRd"&&(ae.colorscale="YlOrRd"))}if(H.type==="surface"&&c.isPlainObject(H.contours)){var Q=["x","y","z"];for(j=0;j<Q.length;j++){var he=H.contours[Q[j]];c.isPlainObject(he)&&(he.highlightColor&&(he.highlightcolor=he.highlightColor,delete he.highlightColor),he.highlightWidth&&(he.highlightwidth=he.highlightWidth,delete he.highlightWidth))}}if(H.type==="candlestick"||H.type==="ohlc"){var ge=(H.increasing||{}).showlegend!==!1,Se=(H.decreasing||{}).showlegend!==!1,ce=$(H.increasing),ne=$(H.decreasing);if(ce!==!1&&ne!==!1){var fe=S(ce,ne,ge,Se);fe&&(H.name=fe)}else(ce||ne)&&!H.name&&(H.name=ce||ne)}if(Array.isArray(H.transforms)){var X=H.transforms;for(j=0;j<X.length;j++){var ye=X[j];if(c.isPlainObject(ye))switch(ye.type){case"filter":ye.filtersrc&&(ye.target=ye.filtersrc,delete ye.filtersrc),ye.calendar&&(ye.valuecalendar||(ye.valuecalendar=ye.calendar),delete ye.calendar);break;case"groupby":if(ye.styles=ye.styles||ye.style,ye.styles&&!Array.isArray(ye.styles)){var Ce=ye.styles,$e=Object.keys(Ce);ye.styles=[];for(var ke=0;ke<$e.length;ke++)ye.styles.push({target:$e[ke],value:Ce[$e[ke]]})}break}}}D(H,"line")&&delete H.line,"marker"in H&&(D(H.marker,"line")&&delete H.marker.line,D(H,"marker")&&delete H.marker),d.clean(H),H.autobinx&&(delete H.autobinx,delete H.xbins),H.autobiny&&(delete H.autobiny,delete H.ybins),_(H),H.colorbar&&_(H.colorbar),H.marker&&H.marker.colorbar&&_(H.marker.colorbar),H.line&&H.line.colorbar&&_(H.line.colorbar),H.aaxis&&_(H.aaxis),H.baxis&&_(H.baxis)}};function $(R){if(!c.isPlainObject(R))return!1;var F=R.name;return delete R.name,delete R.showlegend,(typeof F=="string"||typeof F=="number")&&String(F)}function S(R,F,H,j){if(H&&!j)return R;if(j&&!H||!R.trim())return F;if(!F.trim())return R;var P=Math.min(R.length,F.length),ee;for(ee=0;ee<P&&R.charAt(ee)===F.charAt(ee);ee++);var J=R.substr(0,ee);return J.trim()}function O(R){var F="middle",H="center";return typeof R=="string"&&(R.indexOf("top")!==-1?F="top":R.indexOf("bottom")!==-1&&(F="bottom"),R.indexOf("left")!==-1?H="left":R.indexOf("right")!==-1&&(H="right")),F+" "+H}function D(R,F){return F in R&&typeof R[F]=="object"&&Object.keys(R[F]).length===0}A.swapXYData=function(R){var F;if(c.swapAttrs(R,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(R.z)&&Array.isArray(R.z[0])&&(R.transpose?delete R.transpose:R.transpose=!0),R.error_x&&R.error_y){var H=R.error_y,j="copy_ystyle"in H?H.copy_ystyle:!(H.color||H.thickness||H.width);c.swapAttrs(R,["error_?.copy_ystyle"]),j&&c.swapAttrs(R,["error_?.color","error_?.thickness","error_?.width"])}if(typeof R.hoverinfo=="string"){var P=R.hoverinfo.split("+");for(F=0;F<P.length;F++)P[F]==="x"?P[F]="y":P[F]==="y"&&(P[F]="x");R.hoverinfo=P.join("+")}},A.coerceTraceIndices=function(R,F){if(m(F))return[F];if(!Array.isArray(F)||!F.length)return R.data.map(function(P,ee){return ee});if(Array.isArray(F)){for(var H=[],j=0;j<F.length;j++)c.isIndex(F[j],R.data.length)?H.push(F[j]):c.warn("trace index (",F[j],") is not a number or is out of bounds");return H}return F},A.manageArrayContainers=function(R,F,H){var j=R.obj,P=R.parts,ee=P.length,J=P[ee-1],K=m(J);if(K&&F===null){var ae=P.slice(0,ee-1).join("."),Q=c.nestedProperty(j,ae).get();Q.splice(J,1)}else K&&R.get()===void 0&&R.get()===void 0&&(H[R.astr]=null),R.set(F)};var N=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function M(R){var F=R.search(N);if(F>0)return R.substr(0,F)}A.hasParent=function(R,F){for(var H=M(F);H;){if(H in R)return!0;H=M(H)}return!1};var k=["x","y","z"];A.clearAxisTypes=function(R,F,H){for(var j=0;j<F.length;j++)for(var P=R._fullData[j],ee=0;ee<3;ee++){var J=v(R,P,k[ee]);if(J&&J.type!=="log"){var K=J._name,ae=J._id.substr(1);if(ae.substr(0,5)==="scene"){if(H[ae]!==void 0)continue;K=ae+"."+K}var Q=K+".type";H[K]===void 0&&H[Q]===void 0&&c.nestedProperty(R.layout,Q).set(null)}}}},641:function(L,A,s){var m=s(2391);A._doPlot=m._doPlot,A.newPlot=m.newPlot,A.restyle=m.restyle,A.relayout=m.relayout,A.redraw=m.redraw,A.update=m.update,A._guiRestyle=m._guiRestyle,A._guiRelayout=m._guiRelayout,A._guiUpdate=m._guiUpdate,A._storeDirectGUIEdit=m._storeDirectGUIEdit,A.react=m.react,A.extendTraces=m.extendTraces,A.prependTraces=m.prependTraces,A.addTraces=m.addTraces,A.deleteTraces=m.deleteTraces,A.moveTraces=m.moveTraces,A.purge=m.purge,A.addFrames=m.addFrames,A.deleteFrames=m.deleteFrames,A.animate=m.animate,A.setPlotConfig=m.setPlotConfig;var h=s(4401).getGraphDiv,l=s(4031).eraseActiveShape;A.deleteActiveShape=function(i){return l(h(i))},A.toImage=s(403),A.validate=s(4936),A.downloadImage=s(7239);var c=s(6318);A.makeTemplate=c.makeTemplate,A.validateTemplate=c.validateTemplate},6611:function(L,A,s){var m=s(1965),h=s(4213),l=s(7769),c=s(5888).sorterAsc,i=s(3972);A.containerArrayMatch=s(4458);var u=A.isAddVal=function(v){return v==="add"||m(v)},d=A.isRemoveVal=function(v){return v===null||v==="remove"};A.applyContainerArrayChanges=function(v,x,C,_,$){var S=x.astr,O=i.getComponentMethod(S,"supplyLayoutDefaults"),D=i.getComponentMethod(S,"draw"),N=i.getComponentMethod(S,"drawOne"),M=_.replot||_.recalc||O===h||D===h,k=v.layout,R=v._fullLayout;if(C[""]){Object.keys(C).length>1&&l.warn("Full array edits are incompatible with other edits",S);var F=C[""][""];if(d(F))x.set(null);else if(Array.isArray(F))x.set(F);else return l.warn("Unrecognized full array edit value",S,F),!0;return M?!1:(O(k,R),D(v),!0)}var H=Object.keys(C).map(Number).sort(c),j=x.get(),P=j||[],ee=$(R,S).get(),J=[],K=-1,ae=P.length,Q,he,ge,Se,ce,ne,fe,X;for(Q=0;Q<H.length;Q++){if(ge=H[Q],Se=C[ge],ce=Object.keys(Se),ne=Se[""],fe=u(ne),ge<0||ge>P.length-(fe?0:1)){l.warn("index out of range",S,ge);continue}if(ne!==void 0)ce.length>1&&l.warn("Insertion & removal are incompatible with edits to the same index.",S,ge),d(ne)?J.push(ge):fe?(ne==="add"&&(ne={}),P.splice(ge,0,ne),ee&&ee.splice(ge,0,{})):l.warn("Unrecognized full object edit value",S,ge,ne),K===-1&&(K=ge);else for(he=0;he<ce.length;he++)X=S+"["+ge+"].",$(P[ge],ce[he],X).set(Se[ce[he]])}for(Q=J.length-1;Q>=0;Q--)P.splice(J[Q],1),ee&&ee.splice(J[Q],1);if(P.length?j||x.set(P):x.set(null),M)return!1;if(O(k,R),N!==h){var ye;if(K===-1)ye=H;else{for(ae=Math.max(P.length,ae),ye=[],Q=0;Q<H.length&&(ge=H[Q],!(ge>=K));Q++)ye.push(ge);for(Q=K;Q<ae;Q++)ye.push(Q)}for(Q=0;Q<ye.length;Q++)N(v,ye[Q])}else D(v);return!0}},2391:function(L,A,s){var m=s(9898),h=s(2770),l=s(7035),c=s(1828),i=c.nestedProperty,u=s(1086),d=s(847),g=s(3972),v=s(6281),x=s(4875),C=s(9298),_=s(3608),$=s(3838),S=s(1424),O=s(7901),D=s(4305).initInteractions,N=s(7922),M=s(7322).clearOutline,k=s(2075).dfltConfig,R=s(6611),F=s(8377),H=s(1549),j=s(962),P=s(5555).AX_NAME_PATTERN,ee=0,J=5;function K(Ze,it,ht,pt){var Tt;if(Ze=c.getGraphDiv(Ze),u.init(Ze),c.isPlainObject(it)){var Et=it;it=Et.data,ht=Et.layout,pt=Et.config,Tt=Et.frames}var fn=u.triggerHandler(Ze,"plotly_beforeplot",[it,ht,pt]);if(fn===!1)return Promise.reject();!it&&!ht&&!c.isPlotDiv(Ze)&&c.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Ze);function tn(){if(Tt)return A.addFrames(Ze,Tt)}Se(Ze,pt),ht||(ht={}),m.select(Ze).classed("js-plotly-plot",!0),S.makeTester(),Array.isArray(Ze._promises)||(Ze._promises=[]);var Zt=(Ze.data||[]).length===0&&Array.isArray(it);Array.isArray(it)&&(F.cleanData(it),Zt?Ze.data=it:Ze.data.push.apply(Ze.data,it),Ze.empty=!1),(!Ze.layout||Zt)&&(Ze.layout=F.cleanLayout(ht)),x.supplyDefaults(Ze);var Dt=Ze._fullLayout,un=Dt._has("cartesian");Dt._replotting=!0,(Zt||Dt._shouldCreateBgLayer)&&($t(Ze),Dt._shouldCreateBgLayer&&delete Dt._shouldCreateBgLayer),S.initGradients(Ze),S.initPatterns(Ze),Zt&&C.saveShowSpikeInitial(Ze);var Un=!Ze.calcdata||Ze.calcdata.length!==(Ze._fullData||[]).length;Un&&x.doCalcdata(Ze);for(var tr=0;tr<Ze.calcdata.length;tr++)Ze.calcdata[tr][0].trace=Ze._fullData[tr];Ze._context.responsive?Ze._responsiveChartHandler||(Ze._responsiveChartHandler=function(){c.isHidden(Ze)||x.resize(Ze)},window.addEventListener("resize",Ze._responsiveChartHandler)):c.clearResponsive(Ze);var Er=c.extendFlat({},Dt._size),zt=0;function pr(){for(var or=Dt._basePlotModules,wr=0;wr<or.length;wr++)or[wr].drawFramework&&or[wr].drawFramework(Ze);!Dt._glcanvas&&Dt._has("gl")&&(Dt._glcanvas=Dt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(He){return He.key}),Dt._glcanvas.enter().append("canvas").attr("class",function(He){return"gl-canvas gl-canvas-"+He.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var ro=Ze._context.plotGlPixelRatio;if(Dt._glcanvas){Dt._glcanvas.attr("width",Dt.width*ro).attr("height",Dt.height*ro).style("width",Dt.width+"px").style("height",Dt.height+"px");var vo=Dt._glcanvas.data()[0].regl;if(vo&&(Math.floor(Dt.width*ro)!==vo._gl.drawingBufferWidth||Math.floor(Dt.height*ro)!==vo._gl.drawingBufferHeight)){var Cr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(zt)c.error(Cr);else return c.log(Cr+" Clearing graph and plotting again."),x.cleanPlot([],{},Ze._fullData,Dt),x.supplyDefaults(Ze),Dt=Ze._fullLayout,x.doCalcdata(Ze),zt++,pr()}}return Dt.modebar.orientation==="h"?Dt._modebardiv.style("height",null).style("width","100%"):Dt._modebardiv.style("width",null).style("height",Dt.height+"px"),x.previousPromises(Ze)}function Gn(){if(x.clearAutoMarginIds(Ze),H.drawMarginPushers(Ze),C.allowAutoMargin(Ze),Ze._fullLayout.title.text&&Ze._fullLayout.title.automargin&&x.allowAutoMargin(Ze,"title.automargin"),Dt._has("pie"))for(var or=Ze._fullData,wr=0;wr<or.length;wr++){var ro=or[wr];ro.type==="pie"&&ro.automargin&&x.allowAutoMargin(Ze,"pie."+ro.uid+".automargin")}return x.doAutoMargin(Ze),x.previousPromises(Ze)}function Ir(){if(x.didMarginChange(Er,Dt._size))return c.syncOrAsync([Gn,H.layoutStyles],Ze)}function Tr(){if(!Un){rr();return}return c.syncOrAsync([g.getComponentMethod("shapes","calcAutorange"),g.getComponentMethod("annotations","calcAutorange"),rr],Ze)}function rr(){Ze._transitioning||(H.doAutoRangeAndConstraints(Ze),Zt&&C.saveRangeInitial(Ze),g.getComponentMethod("rangeslider","calcAutorange")(Ze))}function Yr(){return C.draw(Ze,Zt?"":"redraw")}var _r=[x.previousPromises,tn,pr,Gn,Ir];un&&_r.push(Tr),_r.push(H.layoutStyles),un&&_r.push(Yr,function(wr){wr._fullLayout._insideTickLabelsAutorange&&ze(wr,wr._fullLayout._insideTickLabelsAutorange).then(function(){wr._fullLayout._insideTickLabelsAutorange=void 0})}),_r.push(H.drawData,H.finalDraw,D,x.addLinks,x.rehover,x.redrag,x.reselect,x.doAutoMargin,Ln,x.previousPromises);function Ln(or){or._fullLayout._insideTickLabelsAutorange&&Zt&&C.saveRangeInitial(or,!0)}var xr=c.syncOrAsync(_r,Ze);return(!xr||!xr.then)&&(xr=Promise.resolve()),xr.then(function(){return ae(Ze),Ze})}function ae(Ze){var it=Ze._fullLayout;it._redrawFromAutoMarginCount?it._redrawFromAutoMarginCount--:Ze.emit("plotly_afterplot")}function Q(Ze){return c.extendFlat(k,Ze)}function he(Ze,it){try{Ze._fullLayout._paper.style("background",it)}catch(ht){c.error(ht)}}function ge(Ze,it){var ht=O.combine(it,"white");he(Ze,ht)}function Se(Ze,it){if(!Ze._context){Ze._context=c.extendDeep({},k);var ht=m.select("base");Ze._context._baseUrl=ht.size()&&ht.attr("href")?window.location.href.split("#")[0]:""}var pt=Ze._context,Tt,Et,fn;if(it){for(Et=Object.keys(it),Tt=0;Tt<Et.length;Tt++)fn=Et[Tt],!(fn==="editable"||fn==="edits")&&fn in pt&&(fn==="setBackground"&&it[fn]==="opaque"?pt[fn]=ge:pt[fn]=it[fn]);it.plot3dPixelRatio&&!pt.plotGlPixelRatio&&(pt.plotGlPixelRatio=pt.plot3dPixelRatio);var tn=it.editable;if(tn!==void 0)for(pt.editable=tn,Et=Object.keys(pt.edits),Tt=0;Tt<Et.length;Tt++)pt.edits[Et[Tt]]=tn;if(it.edits)for(Et=Object.keys(it.edits),Tt=0;Tt<Et.length;Tt++)fn=Et[Tt],fn in pt.edits&&(pt.edits[fn]=it.edits[fn]);pt._exportedPlot=it._exportedPlot}pt.staticPlot&&(pt.editable=!1,pt.edits={},pt.autosizable=!1,pt.scrollZoom=!1,pt.doubleClick=!1,pt.showTips=!1,pt.showLink=!1,pt.displayModeBar=!1),pt.displayModeBar==="hover"&&!l&&(pt.displayModeBar=!0),(pt.setBackground==="transparent"||typeof pt.setBackground!="function")&&(pt.setBackground=he),pt._hasZeroHeight=pt._hasZeroHeight||Ze.clientHeight===0,pt._hasZeroWidth=pt._hasZeroWidth||Ze.clientWidth===0;var Zt=pt.scrollZoom,Dt=pt._scrollZoom={};if(Zt===!0)Dt.cartesian=1,Dt.gl3d=1,Dt.geo=1,Dt.mapbox=1;else if(typeof Zt=="string"){var un=Zt.split("+");for(Tt=0;Tt<un.length;Tt++)Dt[un[Tt]]=1}else Zt!==!1&&(Dt.gl3d=1,Dt.geo=1,Dt.mapbox=1)}function ce(Ze){if(Ze=c.getGraphDiv(Ze),!c.isPlotDiv(Ze))throw new Error("This element is not a Plotly plot: "+Ze);return F.cleanData(Ze.data),F.cleanLayout(Ze.layout),Ze.calcdata=void 0,A._doPlot(Ze).then(function(){return Ze.emit("plotly_redraw"),Ze})}function ne(Ze,it,ht,pt){return Ze=c.getGraphDiv(Ze),x.cleanPlot([],{},Ze._fullData||[],Ze._fullLayout||{}),x.purge(Ze),A._doPlot(Ze,it,ht,pt)}function fe(Ze,it){var ht=it+1,pt=[],Tt,Et;for(Tt=0;Tt<Ze.length;Tt++)Et=Ze[Tt],Et<0?pt.push(ht+Et):pt.push(Et);return pt}function X(Ze,it,ht){var pt,Tt;for(pt=0;pt<it.length;pt++){if(Tt=it[pt],Tt!==parseInt(Tt,10))throw new Error("all values in "+ht+" must be integers");if(Tt>=Ze.data.length||Tt<-Ze.data.length)throw new Error(ht+" must be valid indices for gd.data.");if(it.indexOf(Tt,pt+1)>-1||Tt>=0&&it.indexOf(-Ze.data.length+Tt)>-1||Tt<0&&it.indexOf(Ze.data.length+Tt)>-1)throw new Error("each index in "+ht+" must be unique.")}}function ye(Ze,it,ht){if(!Array.isArray(Ze.data))throw new Error("gd.data must be an array.");if(typeof it>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(it)||(it=[it]),X(Ze,it,"currentIndices"),typeof ht<"u"&&!Array.isArray(ht)&&(ht=[ht]),typeof ht<"u"&&X(Ze,ht,"newIndices"),typeof ht<"u"&&it.length!==ht.length)throw new Error("current and new indices must be of equal length.")}function Ce(Ze,it,ht){var pt,Tt;if(!Array.isArray(Ze.data))throw new Error("gd.data must be an array.");if(typeof it>"u")throw new Error("traces must be defined.");for(Array.isArray(it)||(it=[it]),pt=0;pt<it.length;pt++)if(Tt=it[pt],typeof Tt!="object"||Array.isArray(Tt)||Tt===null)throw new Error("all values in traces array must be non-array objects");if(typeof ht<"u"&&!Array.isArray(ht)&&(ht=[ht]),typeof ht<"u"&&ht.length!==it.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function $e(Ze,it,ht,pt){var Tt=c.isPlainObject(pt);if(!Array.isArray(Ze.data))throw new Error("gd.data must be an array");if(!c.isPlainObject(it))throw new Error("update must be a key:value object");if(typeof ht>"u")throw new Error("indices must be an integer or array of integers");X(Ze,ht,"indices");for(var Et in it){if(!Array.isArray(it[Et])||it[Et].length!==ht.length)throw new Error("attribute "+Et+" must be an array of length equal to indices array length");if(Tt&&(!(Et in pt)||!Array.isArray(pt[Et])||pt[Et].length!==it[Et].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function ke(Ze,it,ht,pt){var Tt=c.isPlainObject(pt),Et=[],fn,tn,Zt,Dt,un;Array.isArray(ht)||(ht=[ht]),ht=fe(ht,Ze.data.length-1);for(var Un in it)for(var tr=0;tr<ht.length;tr++){if(fn=Ze.data[ht[tr]],Zt=i(fn,Un),tn=Zt.get(),Dt=it[Un][tr],!c.isArrayOrTypedArray(Dt))throw new Error("attribute: "+Un+" index: "+tr+" must be an array");if(!c.isArrayOrTypedArray(tn))throw new Error("cannot extend missing or non-array attribute: "+Un);if(tn.constructor!==Dt.constructor)throw new Error("cannot extend array with an array of a different type: "+Un);un=Tt?pt[Un][tr]:pt,h(un)||(un=-1),Et.push({prop:Zt,target:tn,insert:Dt,maxp:Math.floor(un)})}return Et}function Ne(Ze,it,ht,pt,Tt){$e(Ze,it,ht,pt);for(var Et=ke(Ze,it,ht,pt),fn={},tn={},Zt=0;Zt<Et.length;Zt++){var Dt=Et[Zt].prop,un=Et[Zt].maxp,Un=Tt(Et[Zt].target,Et[Zt].insert,un);Dt.set(Un[0]),Array.isArray(fn[Dt.astr])||(fn[Dt.astr]=[]),fn[Dt.astr].push(Un[1]),Array.isArray(tn[Dt.astr])||(tn[Dt.astr]=[]),tn[Dt.astr].push(Et[Zt].target.length)}return{update:fn,maxPoints:tn}}function Ve(Ze,it){var ht=new Ze.constructor(Ze.length+it.length);return ht.set(Ze),ht.set(it,Ze.length),ht}function Oe(Ze,it,ht,pt){Ze=c.getGraphDiv(Ze);function Tt(Zt,Dt,un){var Un,tr;if(c.isTypedArray(Zt))if(un<0){var Er=new Zt.constructor(0),zt=Ve(Zt,Dt);un<0?(Un=zt,tr=Er):(Un=Er,tr=zt)}else if(Un=new Zt.constructor(un),tr=new Zt.constructor(Zt.length+Dt.length-un),un===Dt.length)Un.set(Dt),tr.set(Zt);else if(un<Dt.length){var pr=Dt.length-un;Un.set(Dt.subarray(pr)),tr.set(Zt),tr.set(Dt.subarray(0,pr),Zt.length)}else{var Gn=un-Dt.length,Ir=Zt.length-Gn;Un.set(Zt.subarray(Ir)),Un.set(Dt,Gn),tr.set(Zt.subarray(0,Ir))}else Un=Zt.concat(Dt),tr=un>=0&&un<Un.length?Un.splice(0,Un.length-un):[];return[Un,tr]}var Et=Ne(Ze,it,ht,pt,Tt),fn=A.redraw(Ze),tn=[Ze,Et.update,ht,Et.maxPoints];return d.add(Ze,A.prependTraces,tn,Oe,arguments),fn}function Fe(Ze,it,ht,pt){Ze=c.getGraphDiv(Ze);function Tt(Zt,Dt,un){var Un,tr;if(c.isTypedArray(Zt))if(un<=0){var Er=new Zt.constructor(0),zt=Ve(Dt,Zt);un<0?(Un=zt,tr=Er):(Un=Er,tr=zt)}else if(Un=new Zt.constructor(un),tr=new Zt.constructor(Zt.length+Dt.length-un),un===Dt.length)Un.set(Dt),tr.set(Zt);else if(un<Dt.length){var pr=Dt.length-un;Un.set(Dt.subarray(0,pr)),tr.set(Dt.subarray(pr)),tr.set(Zt,pr)}else{var Gn=un-Dt.length;Un.set(Dt),Un.set(Zt.subarray(0,Gn),Dt.length),tr.set(Zt.subarray(Gn))}else Un=Dt.concat(Zt),tr=un>=0&&un<Un.length?Un.splice(un,Un.length):[];return[Un,tr]}var Et=Ne(Ze,it,ht,pt,Tt),fn=A.redraw(Ze),tn=[Ze,Et.update,ht,Et.maxPoints];return d.add(Ze,A.extendTraces,tn,Fe,arguments),fn}function ie(Ze,it,ht){Ze=c.getGraphDiv(Ze);var pt=[],Tt=A.deleteTraces,Et=ie,fn=[Ze,pt],tn=[Ze,it],Zt,Dt;for(Ce(Ze,it,ht),Array.isArray(it)||(it=[it]),it=it.map(function(un){return c.extendFlat({},un)}),F.cleanData(it),Zt=0;Zt<it.length;Zt++)Ze.data.push(it[Zt]);for(Zt=0;Zt<it.length;Zt++)pt.push(-it.length+Zt);if(typeof ht>"u")return Dt=A.redraw(Ze),d.add(Ze,Tt,fn,Et,tn),Dt;Array.isArray(ht)||(ht=[ht]);try{ye(Ze,pt,ht)}catch(un){throw Ze.data.splice(Ze.data.length-it.length,it.length),un}return d.startSequence(Ze),d.add(Ze,Tt,fn,Et,tn),Dt=A.moveTraces(Ze,pt,ht),d.stopSequence(Ze),Dt}function we(Ze,it){Ze=c.getGraphDiv(Ze);var ht=[],pt=A.addTraces,Tt=we,Et=[Ze,ht,it],fn=[Ze,it],tn,Zt;if(typeof it>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(it)||(it=[it]),X(Ze,it,"indices"),it=fe(it,Ze.data.length-1),it.sort(c.sorterDes),tn=0;tn<it.length;tn+=1)Zt=Ze.data.splice(it[tn],1)[0],ht.push(Zt);var Dt=A.redraw(Ze);return d.add(Ze,pt,Et,Tt,fn),Dt}function se(Ze,it,ht){Ze=c.getGraphDiv(Ze);var pt=[],Tt=[],Et=se,fn=se,tn=[Ze,ht,it],Zt=[Ze,it,ht],Dt;if(ye(Ze,it,ht),it=Array.isArray(it)?it:[it],typeof ht>"u")for(ht=[],Dt=0;Dt<it.length;Dt++)ht.push(-it.length+Dt);for(ht=Array.isArray(ht)?ht:[ht],it=fe(it,Ze.data.length-1),ht=fe(ht,Ze.data.length-1),Dt=0;Dt<Ze.data.length;Dt++)it.indexOf(Dt)===-1&&pt.push(Ze.data[Dt]);for(Dt=0;Dt<it.length;Dt++)Tt.push({newIndex:ht[Dt],trace:Ze.data[it[Dt]]});for(Tt.sort(function(Un,tr){return Un.newIndex-tr.newIndex}),Dt=0;Dt<Tt.length;Dt+=1)pt.splice(Tt[Dt].newIndex,0,Tt[Dt].trace);Ze.data=pt;var un=A.redraw(Ze);return d.add(Ze,Et,tn,fn,Zt),un}function ue(Ze,it,ht,pt){Ze=c.getGraphDiv(Ze),F.clearPromiseQueue(Ze);var Tt={};if(typeof it=="string")Tt[it]=ht;else if(c.isPlainObject(it))Tt=c.extendFlat({},it),pt===void 0&&(pt=ht);else return c.warn("Restyle fail.",it,ht,pt),Promise.reject();Object.keys(Tt).length&&(Ze.changed=!0);var Et=F.coerceTraceIndices(Ze,pt),fn=Me(Ze,Tt,Et),tn=fn.flags;tn.calc&&(Ze.calcdata=void 0),tn.clearAxisTypes&&F.clearAxisTypes(Ze,Et,{});var Zt=[];tn.fullReplot?Zt.push(A._doPlot):(Zt.push(x.previousPromises),x.supplyDefaults(Ze),tn.markerSize&&(x.doCalcdata(Ze),ot(Zt)),tn.style&&Zt.push(H.doTraceStyle),tn.colorbars&&Zt.push(H.doColorBars),Zt.push(ae)),Zt.push(x.rehover,x.redrag,x.reselect),d.add(Ze,ue,[Ze,fn.undoit,fn.traces],ue,[Ze,fn.redoit,fn.traces]);var Dt=c.syncOrAsync(Zt,Ze);return(!Dt||!Dt.then)&&(Dt=Promise.resolve()),Dt.then(function(){return Ze.emit("plotly_restyle",fn.eventData),Ze})}function pe(Ze){return Ze===void 0?null:Ze}function le(Ze,it){return it?function(ht,pt,Tt){var Et=i(ht,pt),fn=Et.set;return Et.set=function(tn){var Zt=(Tt||"")+pt;Te(Zt,Et.get(),tn,Ze),fn(tn)},Et}:i}function Te(Ze,it,ht,pt){if(Array.isArray(it)||Array.isArray(ht))for(var Tt=Array.isArray(it)?it:[],Et=Array.isArray(ht)?ht:[],fn=Math.max(Tt.length,Et.length),tn=0;tn<fn;tn++)Te(Ze+"["+tn+"]",Tt[tn],Et[tn],pt);else if(c.isPlainObject(it)||c.isPlainObject(ht)){var Zt=c.isPlainObject(it)?it:{},Dt=c.isPlainObject(ht)?ht:{},un=c.extendFlat({},Zt,Dt);for(var Un in un)Te(Ze+"."+Un,Zt[Un],Dt[Un],pt)}else pt[Ze]===void 0&&(pt[Ze]=pe(it))}function de(Ze,it,ht){for(var pt in ht){var Tt=i(Ze,pt);Te(pt,Tt.get(),ht[pt],it)}}function Me(Ze,it,ht){var pt=Ze._fullLayout,Tt=Ze._fullData,Et=Ze.data,fn=pt._guiEditing,tn=le(pt._preGUI,fn),Zt=c.extendDeepAll({},it),Dt;Re(it);var un=j.traceFlags(),Un={},tr={},Er;function zt(){return ht.map(function(){})}function pr(fr){var Vr=C.id2name(fr);Er.indexOf(Vr)===-1&&Er.push(Vr)}function Gn(fr){return"LAYOUT"+fr+".autorange"}function Ir(fr){return"LAYOUT"+fr+".range"}function Tr(fr){for(var Vr=fr;Vr<Tt.length;Vr++)if(Tt[Vr]._input===Et[fr])return Tt[Vr]}function rr(fr,Vr,ar){if(Array.isArray(fr)){fr.forEach(function(So){rr(So,Vr,ar)});return}if(!(fr in it||F.hasParent(it,fr))){var cr;if(fr.substr(0,6)==="LAYOUT")cr=tn(Ze.layout,fr.replace("LAYOUT",""));else{var Kr=ht[ar],qr=pt._tracePreGUI[Tr(Kr)._fullInput.uid];cr=le(qr,fn)(Et[Kr],fr)}fr in tr||(tr[fr]=zt()),tr[fr][ar]===void 0&&(tr[fr][ar]=pe(cr.get())),Vr!==void 0&&cr.set(Vr)}}function Yr(fr){return function(Vr){return Tt[Vr][fr]}}function _r(fr){return function(Vr,ar){return Vr===!1?Tt[ht[ar]][fr]:null}}for(var Ln in it){if(F.hasParent(it,Ln))throw new Error("cannot set "+Ln+" and a parent attribute simultaneously");var xr=it[Ln],or,wr,ro,vo,Cr,He;if((Ln==="autobinx"||Ln==="autobiny")&&(Ln=Ln.charAt(Ln.length-1)+"bins",Array.isArray(xr)?xr=xr.map(_r(Ln)):xr===!1?xr=ht.map(Yr(Ln)):xr=null),Un[Ln]=xr,Ln.substr(0,6)==="LAYOUT"){ro=tn(Ze.layout,Ln.replace("LAYOUT","")),tr[Ln]=[pe(ro.get())],ro.set(Array.isArray(xr)?xr[0]:xr),un.calc=!0;continue}for(tr[Ln]=zt(),Dt=0;Dt<ht.length;Dt++){or=Et[ht[Dt]],wr=Tr(ht[Dt]);var De=pt._tracePreGUI[wr._fullInput.uid];if(ro=le(De,fn)(or,Ln),vo=ro.get(),Cr=Array.isArray(xr)?xr[Dt%xr.length]:xr,Cr!==void 0){var St=ro.parts[ro.parts.length-1],kt=Ln.substr(0,Ln.length-St.length-1),Pt=kt?kt+".":"",Bt=kt?i(wr,kt).get():wr;if(He=v.getTraceValObject(wr,ro.parts),He&&He.impliedEdits&&Cr!==null)for(var Ut in He.impliedEdits)rr(c.relativeAttr(Ln,Ut),He.impliedEdits[Ut],Dt);else if((St==="thicknessmode"||St==="lenmode")&&vo!==Cr&&(Cr==="fraction"||Cr==="pixels")&&Bt){var Ot=pt._size,_t=Bt.orient,qt=_t==="top"||_t==="bottom";if(St==="thicknessmode"){var cn=qt?Ot.h:Ot.w;rr(Pt+"thickness",Bt.thickness*(Cr==="fraction"?1/cn:cn),Dt)}else{var Qt=qt?Ot.w:Ot.h;rr(Pt+"len",Bt.len*(Cr==="fraction"?1/Qt:Qt),Dt)}}else if(Ln==="type"&&(Cr==="pie"!=(vo==="pie")||Cr==="funnelarea"!=(vo==="funnelarea"))){var nn="x",Sn="y";(Cr==="bar"||vo==="bar")&&or.orientation==="h"&&(nn="y",Sn="x"),c.swapAttrs(or,["?","?src"],"labels",nn),c.swapAttrs(or,["d?","?0"],"label",nn),c.swapAttrs(or,["?","?src"],"values",Sn),vo==="pie"||vo==="funnelarea"?(i(or,"marker.color").set(i(or,"marker.colors").get()),pt._pielayer.selectAll("g.trace").remove()):g.traceIs(or,"cartesian")&&i(or,"marker.colors").set(i(or,"marker.color").get())}tr[Ln][Dt]=pe(vo);var bn=["swapxy","swapxyaxes","orientation","orientationaxes"];if(bn.indexOf(Ln)!==-1){if(Ln==="orientation"){ro.set(Cr);var gn=or.x&&!or.y?"h":"v";if((ro.get()||gn)===wr.orientation)continue}else Ln==="orientationaxes"&&(or.orientation={v:"h",h:"v"}[wr.orientation]);F.swapXYData(or),un.calc=un.clearAxisTypes=!0}else x.dataArrayContainers.indexOf(ro.parts[0])!==-1?(F.manageArrayContainers(ro,Cr,tr),un.calc=!0):(He?He.arrayOk&&!g.traceIs(wr,"regl")&&(c.isArrayOrTypedArray(Cr)||c.isArrayOrTypedArray(vo))?un.calc=!0:j.update(un,He):un.calc=!0,ro.set(Cr))}}if(["swapxyaxes","orientationaxes"].indexOf(Ln)!==-1&&C.swap(Ze,ht),Ln==="orientationaxes"){var Qn=i(Ze.layout,"hovermode"),Bn=Qn.get();Bn==="x"?Qn.set("y"):Bn==="y"?Qn.set("x"):Bn==="x unified"?Qn.set("y unified"):Bn==="y unified"&&Qn.set("x unified")}if(["orientation","type"].indexOf(Ln)!==-1){for(Er=[],Dt=0;Dt<ht.length;Dt++){var Hr=Et[ht[Dt]];g.traceIs(Hr,"cartesian")&&(pr(Hr.xaxis||"x"),pr(Hr.yaxis||"y"))}rr(Er.map(Gn),!0,0),rr(Er.map(Ir),[0,1],0)}}return(un.calc||un.plot)&&(un.fullReplot=!0),{flags:un,undoit:tr,redoit:Un,traces:ht,eventData:c.extendDeepNoArrays([],[Zt,ht])}}function Re(Ze){var it=c.counterRegex("axis",".title",!1,!1),ht=/colorbar\.title$/,pt=Object.keys(Ze),Tt,Et,fn;for(Tt=0;Tt<pt.length;Tt++)Et=pt[Tt],fn=Ze[Et],(Et==="title"||it.test(Et)||ht.test(Et))&&(typeof fn=="string"||typeof fn=="number")?tn(Et,Et.replace("title","title.text")):Et.indexOf("titlefont")>-1&&Et.indexOf("grouptitlefont")===-1?tn(Et,Et.replace("titlefont","title.font")):Et.indexOf("titleposition")>-1?tn(Et,Et.replace("titleposition","title.position")):Et.indexOf("titleside")>-1?tn(Et,Et.replace("titleside","title.side")):Et.indexOf("titleoffset")>-1&&tn(Et,Et.replace("titleoffset","title.offset"));function tn(Zt,Dt){Ze[Dt]=Ze[Zt],delete Ze[Zt]}}function ze(Ze,it,ht){Ze=c.getGraphDiv(Ze),F.clearPromiseQueue(Ze);var pt={};if(typeof it=="string")pt[it]=ht;else if(c.isPlainObject(it))pt=c.extendFlat({},it);else return c.warn("Relayout fail.",it,ht),Promise.reject();Object.keys(pt).length&&(Ze.changed=!0);var Tt=qe(Ze,pt),Et=Tt.flags;Et.calc&&(Ze.calcdata=void 0);var fn=[x.previousPromises];Et.layoutReplot?fn.push(H.layoutReplot):Object.keys(pt).length&&(We(Ze,Et,Tt)||x.supplyDefaults(Ze),Et.legend&&fn.push(H.doLegend),Et.layoutstyle&&fn.push(H.layoutStyles),Et.axrange&&ot(fn,Tt.rangesAltered),Et.ticks&&fn.push(H.doTicksRelayout),Et.modebar&&fn.push(H.doModeBar),Et.camera&&fn.push(H.doCamera),Et.colorbars&&fn.push(H.doColorBars),fn.push(ae)),fn.push(x.rehover,x.redrag,x.reselect),d.add(Ze,ze,[Ze,Tt.undoit],ze,[Ze,Tt.redoit]);var tn=c.syncOrAsync(fn,Ze);return(!tn||!tn.then)&&(tn=Promise.resolve(Ze)),tn.then(function(){return Ze.emit("plotly_relayout",Tt.eventData),Ze})}function We(Ze,it,ht){var pt=Ze._fullLayout;if(!it.axrange)return!1;for(var Tt in it)if(Tt!=="axrange"&&it[Tt])return!1;var Et,fn,tn=function(Er,zt){return c.coerce(Et,fn,$,Er,zt)},Zt={};for(var Dt in ht.rangesAltered){var un=C.id2name(Dt);if(Et=Ze.layout[un],fn=pt[un],_(Et,fn,tn,Zt),fn._matchGroup){for(var Un in fn._matchGroup)if(Un!==Dt){var tr=pt[C.id2name(Un)];tr.autorange=fn.autorange,tr.range=fn.range.slice(),tr._input.range=fn.range.slice()}}}return!0}function ot(Ze,it){var ht=it?function(pt){var Tt=[],Et=!0;for(var fn in it){var tn=C.getFromId(pt,fn);if(Tt.push(fn),(tn.ticklabelposition||"").indexOf("inside")!==-1&&tn._anchorAxis&&Tt.push(tn._anchorAxis._id),tn._matchGroup)for(var Zt in tn._matchGroup)it[Zt]||Tt.push(Zt)}return C.draw(pt,Tt,{skipTitle:Et})}:function(pt){return C.draw(pt,"redraw")};Ze.push(M,H.doAutoRangeAndConstraints,ht,H.drawData,H.finalDraw)}var dt=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Ge=/^[xyz]axis[0-9]*\.autorange$/,Xe=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function qe(Ze,it){var ht=Ze.layout,pt=Ze._fullLayout,Tt=pt._guiEditing,Et=le(pt._preGUI,Tt),fn=Object.keys(it),tn=C.list(Ze),Zt=c.extendDeepAll({},it),Dt={},un,Un,tr;for(Re(it),fn=Object.keys(it),Un=0;Un<fn.length;Un++)if(fn[Un].indexOf("allaxes")===0){for(tr=0;tr<tn.length;tr++){var Er=tn[tr]._id.substr(1),zt=Er.indexOf("scene")!==-1?Er+".":"",pr=fn[Un].replace("allaxes",zt+tn[tr]._name);it[pr]||(it[pr]=it[fn[Un]])}delete it[fn[Un]]}var Gn=j.layoutFlags(),Ir={},Tr={};function rr(qr,So){if(Array.isArray(qr)){qr.forEach(function(bo){rr(bo,So)});return}if(!(qr in it||F.hasParent(it,qr))){var wa=Et(ht,qr);qr in Tr||(Tr[qr]=pe(wa.get())),So!==void 0&&wa.set(So)}}var Yr={},_r;function Ln(qr){var So=C.name2id(qr.split(".")[0]);return Yr[So]=1,So}for(var xr in it){if(F.hasParent(it,xr))throw new Error("cannot set "+xr+" and a parent attribute simultaneously");for(var or=Et(ht,xr),wr=it[xr],ro=or.parts.length,vo=ro-1;vo>0&&typeof or.parts[vo]!="string";)vo--;var Cr=or.parts[vo],He=or.parts[vo-1]+"."+Cr,De=or.parts.slice(0,vo).join("."),St=i(Ze.layout,De).get(),kt=i(pt,De).get(),Pt=or.get();if(wr!==void 0){Ir[xr]=wr,Tr[xr]=Cr==="reverse"?wr:pe(Pt);var Bt=v.getLayoutValObject(pt,or.parts);if(Bt&&Bt.impliedEdits&&wr!==null)for(var Ut in Bt.impliedEdits)rr(c.relativeAttr(xr,Ut),Bt.impliedEdits[Ut]);if(["width","height"].indexOf(xr)!==-1)if(wr){rr("autosize",null);var Ot=xr==="height"?"width":"height";rr(Ot,pt[Ot])}else pt[xr]=Ze._initialAutoSize[xr];else if(xr==="autosize")rr("width",wr?null:pt.width),rr("height",wr?null:pt.height);else if(He.match(dt))Ln(He),i(pt,De+"._inputRange").set(null);else if(He.match(Ge)){Ln(He),i(pt,De+"._inputRange").set(null);var _t=i(pt,De).get();_t._inputDomain&&(_t._input.domain=_t._inputDomain.slice())}else He.match(Xe)&&i(pt,De+"._inputDomain").set(null);if(Cr==="type"){_r=St;var qt=kt.type==="linear"&&wr==="log",cn=kt.type==="log"&&wr==="linear";if(qt||cn){if(!_r||!_r.range)rr(De+".autorange",!0);else if(kt.autorange)qt&&(_r.range=_r.range[1]>_r.range[0]?[1,2]:[2,1]);else{var Qt=_r.range[0],nn=_r.range[1];qt?(Qt<=0&&nn<=0&&rr(De+".autorange",!0),Qt<=0?Qt=nn/1e6:nn<=0&&(nn=Qt/1e6),rr(De+".range[0]",Math.log(Qt)/Math.LN10),rr(De+".range[1]",Math.log(nn)/Math.LN10)):(rr(De+".range[0]",Math.pow(10,Qt)),rr(De+".range[1]",Math.pow(10,nn)))}Array.isArray(pt._subplots.polar)&&pt._subplots.polar.length&&pt[or.parts[0]]&&or.parts[1]==="radialaxis"&&delete pt[or.parts[0]]._subplot.viewInitial["radialaxis.range"],g.getComponentMethod("annotations","convertCoords")(Ze,kt,wr,rr),g.getComponentMethod("images","convertCoords")(Ze,kt,wr,rr)}else rr(De+".autorange",!0),rr(De+".range",null);i(pt,De+"._inputRange").set(null)}else if(Cr.match(P)){var Sn=i(pt,xr).get(),bn=(wr||{}).type;(!bn||bn==="-")&&(bn="linear"),g.getComponentMethod("annotations","convertCoords")(Ze,Sn,bn,rr),g.getComponentMethod("images","convertCoords")(Ze,Sn,bn,rr)}var gn=R.containerArrayMatch(xr);if(gn){un=gn.array,Un=gn.index;var Qn=gn.property,Bn=Bt||{editType:"calc"};Un!==""&&Qn===""&&(R.isAddVal(wr)?Tr[xr]=null:R.isRemoveVal(wr)?Tr[xr]=(i(ht,un).get()||[])[Un]:c.warn("unrecognized full object value",it)),j.update(Gn,Bn),Dt[un]||(Dt[un]={});var Hr=Dt[un][Un];Hr||(Hr=Dt[un][Un]={}),Hr[Qn]=wr,delete it[xr]}else Cr==="reverse"?(St.range?St.range.reverse():(rr(De+".autorange",!0),St.range=[1,0]),kt.autorange?Gn.calc=!0:Gn.plot=!0):(xr==="dragmode"&&(wr===!1&&Pt!==!1||wr!==!1&&Pt===!1)||pt._has("scatter-like")&&pt._has("regl")&&xr==="dragmode"&&(wr==="lasso"||wr==="select")&&!(Pt==="lasso"||Pt==="select")||pt._has("gl2d")?Gn.plot=!0:Bt?j.update(Gn,Bt):Gn.calc=!0,or.set(wr))}}for(un in Dt){var fr=R.applyContainerArrayChanges(Ze,Et(ht,un),Dt[un],Gn,Et);fr||(Gn.plot=!0)}for(var Vr in Yr){_r=C.getFromId(Ze,Vr);var ar=_r&&_r._constraintGroup;if(ar){Gn.calc=!0;for(var cr in ar)Yr[cr]||(C.getFromId(Ze,cr)._constraintShrinkable=!0)}}(gt(Ze)||it.height||it.width)&&(Gn.plot=!0);var Kr=pt.shapes;for(Un=0;Un<Kr.length;Un++)if(Kr[Un].showlegend){Gn.calc=!0;break}return(Gn.plot||Gn.calc)&&(Gn.layoutReplot=!0),{flags:Gn,rangesAltered:Yr,undoit:Tr,redoit:Ir,eventData:Zt}}function gt(Ze){var it=Ze._fullLayout,ht=it.width,pt=it.height;return Ze.layout.autosize&&x.plotAutoSize(Ze,Ze.layout,it),it.width!==ht||it.height!==pt}function ut(Ze,it,ht,pt){Ze=c.getGraphDiv(Ze),F.clearPromiseQueue(Ze),c.isPlainObject(it)||(it={}),c.isPlainObject(ht)||(ht={}),Object.keys(it).length&&(Ze.changed=!0),Object.keys(ht).length&&(Ze.changed=!0);var Tt=F.coerceTraceIndices(Ze,pt),Et=Me(Ze,c.extendFlat({},it),Tt),fn=Et.flags,tn=qe(Ze,c.extendFlat({},ht)),Zt=tn.flags;(fn.calc||Zt.calc)&&(Ze.calcdata=void 0),fn.clearAxisTypes&&F.clearAxisTypes(Ze,Tt,ht);var Dt=[];Zt.layoutReplot?Dt.push(H.layoutReplot):fn.fullReplot?Dt.push(A._doPlot):(Dt.push(x.previousPromises),We(Ze,Zt,tn)||x.supplyDefaults(Ze),fn.style&&Dt.push(H.doTraceStyle),(fn.colorbars||Zt.colorbars)&&Dt.push(H.doColorBars),Zt.legend&&Dt.push(H.doLegend),Zt.layoutstyle&&Dt.push(H.layoutStyles),Zt.axrange&&ot(Dt,tn.rangesAltered),Zt.ticks&&Dt.push(H.doTicksRelayout),Zt.modebar&&Dt.push(H.doModeBar),Zt.camera&&Dt.push(H.doCamera),Dt.push(ae)),Dt.push(x.rehover,x.redrag,x.reselect),d.add(Ze,ut,[Ze,Et.undoit,tn.undoit,Et.traces],ut,[Ze,Et.redoit,tn.redoit,Et.traces]);var un=c.syncOrAsync(Dt,Ze);return(!un||!un.then)&&(un=Promise.resolve(Ze)),un.then(function(){return Ze.emit("plotly_update",{data:Et.eventData,layout:tn.eventData}),Ze})}function tt(Ze){return function(ht){ht._fullLayout._guiEditing=!0;var pt=Ze.apply(null,arguments);return ht._fullLayout._guiEditing=!1,pt}}var Ct=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Gt=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Yt(Ze,it){for(var ht=0;ht<it.length;ht++){var pt=it[ht],Tt=Ze.match(pt.pattern);if(Tt){var Et=Tt[1]||"";return{head:Et,tail:Ze.substr(Et.length+1),attr:pt.attr}}}}function Nt(Ze,it){var ht=i(it,Ze).get();if(ht!==void 0)return ht;var pt=Ze.split(".");for(pt.pop();pt.length>1;)if(pt.pop(),ht=i(it,pt.join(".")+".uirevision").get(),ht!==void 0)return ht;return it.uirevision}function Ft(Ze,it){for(var ht=0;ht<it.length;ht++)if(it[ht]._fullInput.uid===Ze)return ht;return-1}function pn(Ze,it,ht){for(var pt=0;pt<it.length;pt++)if(it[pt].uid===Ze)return pt;return!it[ht]||it[ht].uid?-1:ht}function _n(Ze,it){var ht=c.isPlainObject(Ze),pt=Array.isArray(Ze);return ht||pt?(ht&&c.isPlainObject(it)||pt&&Array.isArray(it))&&JSON.stringify(Ze)===JSON.stringify(it):Ze===it}function sn(Ze,it,ht,pt){var Tt=pt._preGUI,Et,fn,tn,Zt,Dt,un,Un,tr,Er,zt,pr=[],Gn={},Ir={};for(Et in Tt){if(Dt=Yt(Et,Ct),Dt){if(Er=Dt.head,zt=Dt.tail,fn=Dt.attr||Er+".uirevision",tn=i(pt,fn).get(),Zt=tn&&Nt(fn,it),Zt&&Zt===tn){if(un=Tt[Et],un===null&&(un=void 0),Un=i(it,Et),tr=Un.get(),_n(tr,un)){tr===void 0&&zt==="autorange"&&pr.push(Er),Un.set(pe(i(pt,Et).get()));continue}else if(zt==="autorange"||zt.substr(0,6)==="range["){var Tr=Tt[Er+".range[0]"],rr=Tt[Er+".range[1]"],Yr=Tt[Er+".autorange"];if(Yr||Yr===null&&Tr===null&&rr===null){if(!(Er in Gn)){var _r=i(it,Er).get();Gn[Er]=_r&&(_r.autorange||_r.autorange!==!1&&(!_r.range||_r.range.length!==2))}if(Gn[Er]){Un.set(pe(i(pt,Et).get()));continue}}}}}else c.warn("unrecognized GUI edit: "+Et);delete Tt[Et],Dt&&Dt.tail.substr(0,6)==="range["&&(Ir[Dt.head]=1)}for(var Ln=0;Ln<pr.length;Ln++){var xr=pr[Ln];if(Ir[xr]){var or=i(it,xr).get();or&&delete or.autorange}}var wr=pt._tracePreGUI;for(var ro in wr){var vo=wr[ro],Cr=null,He;for(Et in vo){if(!Cr){var De=Ft(ro,ht);if(De<0){delete wr[ro];break}var St=ht[De];He=St._fullInput;var kt=pn(ro,Ze,He.index);if(kt<0){delete wr[ro];break}Cr=Ze[kt]}if(Dt=Yt(Et,Gt),Dt){if(Dt.attr?(tn=i(pt,Dt.attr).get(),Zt=tn&&Nt(Dt.attr,it)):(tn=He.uirevision,Zt=Cr.uirevision,Zt===void 0&&(Zt=it.uirevision)),Zt&&Zt===tn&&(un=vo[Et],un===null&&(un=void 0),Un=i(Cr,Et),tr=Un.get(),_n(tr,un))){Un.set(pe(i(He,Et).get()));continue}}else c.warn("unrecognized GUI edit: "+Et+" in trace uid "+ro);delete vo[Et]}}}function Zn(Ze,it,ht,pt){var Tt,Et;function fn(){return A.addFrames(Ze,Tt)}Ze=c.getGraphDiv(Ze),F.clearPromiseQueue(Ze);var tn=Ze._fullData,Zt=Ze._fullLayout;if(!c.isPlotDiv(Ze)||!tn||!Zt)Et=A.newPlot(Ze,it,ht,pt);else{if(c.isPlainObject(it)){var Dt=it;it=Dt.data,ht=Dt.layout,pt=Dt.config,Tt=Dt.frames}var un=!1;if(pt){var Un=c.extendDeep({},Ze._context);Ze._context=void 0,Se(Ze,pt),un=Wn(Un,Ze._context)}Ze.data=it||[],F.cleanData(Ze.data),Ze.layout=ht||{},F.cleanLayout(Ze.layout),sn(Ze.data,Ze.layout,tn,Zt),x.supplyDefaults(Ze,{skipUpdateCalc:!0});var tr=Ze._fullData,Er=Ze._fullLayout,zt=Er.datarevision===void 0,pr=Er.transition,Gn=Cn(Ze,Zt,Er,zt,pr),Ir=Gn.newDataRevision,Tr=an(Ze,tn,tr,zt,pr,Ir);if(gt(Ze)&&(Gn.layoutReplot=!0),Tr.calc||Gn.calc){Ze.calcdata=void 0;for(var rr=Object.getOwnPropertyNames(Er),Yr=0;Yr<rr.length;Yr++){var _r=rr[Yr],Ln=_r.substring(0,5);if(Ln==="xaxis"||Ln==="yaxis"){var xr=Er[_r]._emptyCategories;xr&&xr()}}}else x.supplyDefaultsUpdateCalc(Ze.calcdata,tr);var or=[];if(Tt&&(Ze._transitionData={},x.createTransitionData(Ze),or.push(fn)),Er.transition&&!un&&(Tr.anim||Gn.anim))Gn.ticks&&or.push(H.doTicksRelayout),x.doCalcdata(Ze),H.doAutoRangeAndConstraints(Ze),or.push(function(){return x.transitionFromReact(Ze,Tr,Gn,Zt)});else if(Tr.fullReplot||Gn.layoutReplot||un)Ze._fullLayout._skipDefaults=!0,or.push(A._doPlot);else{for(var wr in Gn.arrays){var ro=Gn.arrays[wr];if(ro.length){var vo=g.getComponentMethod(wr,"drawOne");if(vo!==c.noop)for(var Cr=0;Cr<ro.length;Cr++)vo(Ze,ro[Cr]);else{var He=g.getComponentMethod(wr,"draw");if(He===c.noop)throw new Error("cannot draw components: "+wr);He(Ze)}}}or.push(x.previousPromises),Tr.style&&or.push(H.doTraceStyle),(Tr.colorbars||Gn.colorbars)&&or.push(H.doColorBars),Gn.legend&&or.push(H.doLegend),Gn.layoutstyle&&or.push(H.layoutStyles),Gn.axrange&&ot(or),Gn.ticks&&or.push(H.doTicksRelayout),Gn.modebar&&or.push(H.doModeBar),Gn.camera&&or.push(H.doCamera),or.push(ae)}or.push(x.rehover,x.redrag,x.reselect),Et=c.syncOrAsync(or,Ze),(!Et||!Et.then)&&(Et=Promise.resolve(Ze))}return Et.then(function(){return Ze.emit("plotly_react",{data:it,layout:ht}),Ze})}function an(Ze,it,ht,pt,Tt,Et){var fn=it.length===ht.length;if(!Tt&&!fn)return{fullReplot:!0,calc:!0};var tn=j.traceFlags();tn.arrays={},tn.nChanges=0,tn.nChangesAnim=0;var Zt,Dt;function un(Er){var zt=v.getTraceValObject(Dt,Er);return!Dt._module.animatable&&zt.anim&&(zt.anim=!1),zt}var Un={getValObject:un,flags:tn,immutable:pt,transition:Tt,newDataRevision:Et,gd:Ze},tr={};for(Zt=0;Zt<it.length;Zt++)if(ht[Zt]){if(Dt=ht[Zt]._fullInput,x.hasMakesDataTransform(Dt)&&(Dt=ht[Zt]),tr[Dt.uid])continue;tr[Dt.uid]=1,jn(it[Zt]._fullInput,Dt,[],Un)}return(tn.calc||tn.plot)&&(tn.fullReplot=!0),Tt&&tn.nChanges&&tn.nChangesAnim&&(tn.anim=tn.nChanges===tn.nChangesAnim&&fn?"all":"some"),tn}function Cn(Ze,it,ht,pt,Tt){var Et=j.layoutFlags();Et.arrays={},Et.rangesAltered={},Et.nChanges=0,Et.nChangesAnim=0;function fn(Zt){return v.getLayoutValObject(ht,Zt)}var tn={getValObject:fn,flags:Et,immutable:pt,transition:Tt,gd:Ze};return jn(it,ht,[],tn),(Et.plot||Et.calc)&&(Et.layoutReplot=!0),Tt&&Et.nChanges&&Et.nChangesAnim&&(Et.anim=Et.nChanges===Et.nChangesAnim?"all":"some"),Et}function jn(Ze,it,ht,pt){var Tt,Et,fn,tn=pt.getValObject,Zt=pt.flags,Dt=pt.immutable,un=pt.inArray,Un=pt.arrayIndex;function tr(){var De=Tt.editType;if(un&&De.indexOf("arraydraw")!==-1){c.pushUnique(Zt.arrays[un],Un);return}j.update(Zt,Tt),De!=="none"&&Zt.nChanges++,pt.transition&&Tt.anim&&Zt.nChangesAnim++,(dt.test(fn)||Ge.test(fn))&&(Zt.rangesAltered[ht[0]]=1),Xe.test(fn)&&i(it,"_inputDomain").set(null),Et==="datarevision"&&(Zt.newDataRevision=1)}function Er(De){return De.valType==="data_array"||De.arrayOk}for(Et in Ze){if(Zt.calc&&!pt.transition)return;var zt=Ze[Et],pr=it[Et],Gn=ht.concat(Et);if(fn=Gn.join("."),!(Et.charAt(0)==="_"||typeof zt=="function"||zt===pr)){if((Et==="tick0"||Et==="dtick")&&ht[0]!=="geo"){var Ir=it.tickmode;if(Ir==="auto"||Ir==="array"||!Ir)continue}if(!(Et==="range"&&it.autorange)&&!((Et==="zmin"||Et==="zmax")&&it.type==="contourcarpet")&&(Tt=tn(Gn),!!Tt&&!(Tt._compareAsJSON&&JSON.stringify(zt)===JSON.stringify(pr)))){var Tr=Tt.valType,rr,Yr=Er(Tt),_r=Array.isArray(zt),Ln=Array.isArray(pr);if(_r&&Ln){var xr="_input_"+Et,or=Ze[xr],wr=it[xr];if(Array.isArray(or)&&or===wr)continue}if(pr===void 0)Yr&&_r?Zt.calc=!0:tr();else if(Tt._isLinkedToArray){var ro=[],vo=!1;un||(Zt.arrays[Et]=ro);var Cr=Math.min(zt.length,pr.length),He=Math.max(zt.length,pr.length);if(Cr!==He)if(Tt.editType==="arraydraw")vo=!0;else{tr();continue}for(rr=0;rr<Cr;rr++)jn(zt[rr],pr[rr],Gn.concat(rr),c.extendFlat({inArray:Et,arrayIndex:rr},pt));if(vo)for(rr=Cr;rr<He;rr++)ro.push(rr)}else!Tr&&c.isPlainObject(zt)?jn(zt,pr,Gn,pt):Yr?_r&&Ln?(Dt&&(Zt.calc=!0),(Dt||pt.newDataRevision)&&tr()):_r!==Ln?Zt.calc=!0:tr():_r&&Ln?(zt.length!==pr.length||String(zt)!==String(pr))&&tr():tr()}}}for(Et in it)if(!(Et in Ze||Et.charAt(0)==="_"||typeof it[Et]=="function"))if(Tt=tn(ht.concat(Et)),Er(Tt)&&Array.isArray(it[Et])){Zt.calc=!0;return}else tr()}function Wn(Ze,it){var ht;for(ht in Ze)if(ht.charAt(0)!=="_"){var pt=Ze[ht],Tt=it[ht];if(pt!==Tt)if(c.isPlainObject(pt)&&c.isPlainObject(Tt)){if(Wn(pt,Tt))return!0}else if(Array.isArray(pt)&&Array.isArray(Tt)){if(pt.length!==Tt.length)return!0;for(var Et=0;Et<pt.length;Et++)if(pt[Et]!==Tt[Et])if(c.isPlainObject(pt[Et])&&c.isPlainObject(Tt[Et])){if(Wn(pt[Et],Tt[Et]))return!0}else return!0}else return!0}}function wn(Ze,it,ht){if(Ze=c.getGraphDiv(Ze),!c.isPlotDiv(Ze))throw new Error("This element is not a Plotly plot: "+Ze+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var pt=Ze._transitionData;pt._frameQueue||(pt._frameQueue=[]),ht=x.supplyAnimationDefaults(ht);var Tt=ht.transition,Et=ht.frame;pt._frameWaitingCnt===void 0&&(pt._frameWaitingCnt=0);function fn(Dt){return Array.isArray(Tt)?Dt>=Tt.length?Tt[0]:Tt[Dt]:Tt}function tn(Dt){return Array.isArray(Et)?Dt>=Et.length?Et[0]:Et[Dt]:Et}function Zt(Dt,un){var Un=0;return function(){if(Dt&&++Un===un)return Dt()}}return new Promise(function(Dt,un){function Un(){if(pt._frameQueue.length!==0){for(;pt._frameQueue.length;){var Cr=pt._frameQueue.pop();Cr.onInterrupt&&Cr.onInterrupt()}Ze.emit("plotly_animationinterrupted",[])}}function tr(Cr){if(Cr.length!==0){for(var He=0;He<Cr.length;He++){var De;Cr[He].type==="byname"?De=x.computeFrame(Ze,Cr[He].name):De=Cr[He].data;var St=tn(He),kt=fn(He);kt.duration=Math.min(kt.duration,St.duration);var Pt={frame:De,name:Cr[He].name,frameOpts:St,transitionOpts:kt};He===Cr.length-1&&(Pt.onComplete=Zt(Dt,2),Pt.onInterrupt=un),pt._frameQueue.push(Pt)}ht.mode==="immediate"&&(pt._lastFrameAt=-1/0),pt._animationRaf||pr()}}function Er(){Ze.emit("plotly_animated"),window.cancelAnimationFrame(pt._animationRaf),pt._animationRaf=null}function zt(){pt._currentFrame&&pt._currentFrame.onComplete&&pt._currentFrame.onComplete();var Cr=pt._currentFrame=pt._frameQueue.shift();if(Cr){var He=Cr.name?Cr.name.toString():null;Ze._fullLayout._currentFrame=He,pt._lastFrameAt=Date.now(),pt._timeToNext=Cr.frameOpts.duration,x.transition(Ze,Cr.frame.data,Cr.frame.layout,F.coerceTraceIndices(Ze,Cr.frame.traces),Cr.frameOpts,Cr.transitionOpts).then(function(){Cr.onComplete&&Cr.onComplete()}),Ze.emit("plotly_animatingframe",{name:He,frame:Cr.frame,animation:{frame:Cr.frameOpts,transition:Cr.transitionOpts}})}else Er()}function pr(){Ze.emit("plotly_animating"),pt._lastFrameAt=-1/0,pt._timeToNext=0,pt._runningTransitions=0,pt._currentFrame=null;var Cr=function(){pt._animationRaf=window.requestAnimationFrame(Cr),Date.now()-pt._lastFrameAt>pt._timeToNext&&zt()};Cr()}var Gn=0;function Ir(Cr){return Array.isArray(Tt)?Gn>=Tt.length?Cr.transitionOpts=Tt[Gn]:Cr.transitionOpts=Tt[0]:Cr.transitionOpts=Tt,Gn++,Cr}var Tr,rr,Yr=[],_r=it==null,Ln=Array.isArray(it),xr=!_r&&!Ln&&c.isPlainObject(it);if(xr)Yr.push({type:"object",data:Ir(c.extendFlat({},it))});else if(_r||["string","number"].indexOf(typeof it)!==-1)for(Tr=0;Tr<pt._frames.length;Tr++)rr=pt._frames[Tr],rr&&(_r||String(rr.group)===String(it))&&Yr.push({type:"byname",name:String(rr.name),data:Ir({name:rr.name})});else if(Ln)for(Tr=0;Tr<it.length;Tr++){var or=it[Tr];["number","string"].indexOf(typeof or)!==-1?(or=String(or),Yr.push({type:"byname",name:or,data:Ir({name:or})})):c.isPlainObject(or)&&Yr.push({type:"object",data:Ir(c.extendFlat({},or))})}for(Tr=0;Tr<Yr.length;Tr++)if(rr=Yr[Tr],rr.type==="byname"&&!pt._frameHash[rr.data.name]){c.warn('animate failure: frame not found: "'+rr.data.name+'"'),un();return}["next","immediate"].indexOf(ht.mode)!==-1&&Un(),ht.direction==="reverse"&&Yr.reverse();var wr=Ze._fullLayout._currentFrame;if(wr&&ht.fromcurrent){var ro=-1;for(Tr=0;Tr<Yr.length;Tr++)if(rr=Yr[Tr],rr.type==="byname"&&rr.name===wr){ro=Tr;break}if(ro>0&&ro<Yr.length-1){var vo=[];for(Tr=0;Tr<Yr.length;Tr++)rr=Yr[Tr],(Yr[Tr].type!=="byname"||Tr>ro)&&vo.push(rr);Yr=vo}}Yr.length>0?tr(Yr):(Ze.emit("plotly_animated"),Dt())})}function lt(Ze,it,ht){if(Ze=c.getGraphDiv(Ze),it==null)return Promise.resolve();if(!c.isPlotDiv(Ze))throw new Error("This element is not a Plotly plot: "+Ze+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var pt,Tt,Et,fn,tn=Ze._transitionData._frames,Zt=Ze._transitionData._frameHash;if(!Array.isArray(it))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+it);var Dt=tn.length+it.length*2,un=[],Un={};for(pt=it.length-1;pt>=0;pt--)if(c.isPlainObject(it[pt])){var tr=it[pt].name,Er=(Zt[tr]||Un[tr]||{}).name,zt=it[pt].name,pr=Zt[Er]||Un[Er];Er&&zt&&typeof zt=="number"&&pr&&ee<J&&(ee++,c.warn('addFrames: overwriting frame "'+(Zt[Er]||Un[Er]).name+'" with a frame whose name of type "number" also equates to "'+Er+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),ee===J&&c.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Un[tr]={name:tr},un.push({frame:x.supplyFrameDefaults(it[pt]),index:ht&&ht[pt]!==void 0&&ht[pt]!==null?ht[pt]:Dt+pt})}un.sort(function(xr,or){return xr.index>or.index?-1:xr.index<or.index?1:0});var Gn=[],Ir=[],Tr=tn.length;for(pt=un.length-1;pt>=0;pt--){if(Tt=un[pt].frame,typeof Tt.name=="number"&&c.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Tt.name)for(;Zt[Tt.name="frame "+Ze._transitionData._counter++];);if(Zt[Tt.name]){for(Et=0;Et<tn.length&&(tn[Et]||{}).name!==Tt.name;Et++);Gn.push({type:"replace",index:Et,value:Tt}),Ir.unshift({type:"replace",index:Et,value:tn[Et]})}else fn=Math.max(0,Math.min(un[pt].index,Tr)),Gn.push({type:"insert",index:fn,value:Tt}),Ir.unshift({type:"delete",index:fn}),Tr++}var rr=x.modifyFrames,Yr=x.modifyFrames,_r=[Ze,Ir],Ln=[Ze,Gn];return d&&d.add(Ze,rr,_r,Yr,Ln),x.modifyFrames(Ze,Gn)}function ft(Ze,it){if(Ze=c.getGraphDiv(Ze),!c.isPlotDiv(Ze))throw new Error("This element is not a Plotly plot: "+Ze);var ht,pt,Tt=Ze._transitionData._frames,Et=[],fn=[];if(!it)for(it=[],ht=0;ht<Tt.length;ht++)it.push(ht);for(it=it.slice(),it.sort(),ht=it.length-1;ht>=0;ht--)pt=it[ht],Et.push({type:"delete",index:pt}),fn.unshift({type:"insert",index:pt,value:Tt[pt]});var tn=x.modifyFrames,Zt=x.modifyFrames,Dt=[Ze,fn],un=[Ze,Et];return d&&d.add(Ze,tn,Dt,Zt,un),x.modifyFrames(Ze,Et)}function wt(Ze){Ze=c.getGraphDiv(Ze);var it=Ze._fullLayout||{},ht=Ze._fullData||[];return x.cleanPlot([],{},ht,it),x.purge(Ze),u.purge(Ze),it._container&&it._container.remove(),delete Ze._context,Ze}function vt(Ze){var it=Ze._fullLayout,ht=Ze.getBoundingClientRect();if(!c.equalDomRects(ht,it._lastBBox)){var pt=it._invTransform=c.inverseTransformMatrix(c.getFullTransformMatrix(Ze));it._invScaleX=Math.sqrt(pt[0][0]*pt[0][0]+pt[0][1]*pt[0][1]+pt[0][2]*pt[0][2]),it._invScaleY=Math.sqrt(pt[1][0]*pt[1][0]+pt[1][1]*pt[1][1]+pt[1][2]*pt[1][2]),it._lastBBox=ht}}function $t(Ze){var it=m.select(Ze),ht=Ze._fullLayout;if(ht._calcInverseTransform=vt,ht._calcInverseTransform(Ze),ht._container=it.selectAll(".plot-container").data([0]),ht._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),ht._paperdiv=ht._container.selectAll(".svg-container").data([0]),ht._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),ht._glcontainer=ht._paperdiv.selectAll(".gl-container").data([{}]),ht._glcontainer.enter().append("div").classed("gl-container",!0),ht._paperdiv.selectAll(".main-svg").remove(),ht._paperdiv.select(".modebar-container").remove(),ht._paper=ht._paperdiv.insert("svg",":first-child").classed("main-svg",!0),ht._toppaper=ht._paperdiv.append("svg").classed("main-svg",!0),ht._modebardiv=ht._paperdiv.append("div"),delete ht._modeBar,ht._hoverpaper=ht._paperdiv.append("svg").classed("main-svg",!0),!ht._uid){var pt={};m.selectAll("defs").each(function(){this.id&&(pt[this.id.split("-")[1]]=1)}),ht._uid=c.randstr(pt)}ht._paperdiv.selectAll(".main-svg").attr(N.svgAttrs),ht._defs=ht._paper.append("defs").attr("id","defs-"+ht._uid),ht._clips=ht._defs.append("g").classed("clips",!0),ht._topdefs=ht._toppaper.append("defs").attr("id","topdefs-"+ht._uid),ht._topclips=ht._topdefs.append("g").classed("clips",!0),ht._bgLayer=ht._paper.append("g").classed("bglayer",!0),ht._draggers=ht._paper.append("g").classed("draglayer",!0);var Tt=ht._paper.append("g").classed("layer-below",!0);ht._imageLowerLayer=Tt.append("g").classed("imagelayer",!0),ht._shapeLowerLayer=Tt.append("g").classed("shapelayer",!0),ht._cartesianlayer=ht._paper.append("g").classed("cartesianlayer",!0),ht._polarlayer=ht._paper.append("g").classed("polarlayer",!0),ht._smithlayer=ht._paper.append("g").classed("smithlayer",!0),ht._ternarylayer=ht._paper.append("g").classed("ternarylayer",!0),ht._geolayer=ht._paper.append("g").classed("geolayer",!0),ht._funnelarealayer=ht._paper.append("g").classed("funnelarealayer",!0),ht._pielayer=ht._paper.append("g").classed("pielayer",!0),ht._iciclelayer=ht._paper.append("g").classed("iciclelayer",!0),ht._treemaplayer=ht._paper.append("g").classed("treemaplayer",!0),ht._sunburstlayer=ht._paper.append("g").classed("sunburstlayer",!0),ht._indicatorlayer=ht._toppaper.append("g").classed("indicatorlayer",!0),ht._glimages=ht._paper.append("g").classed("glimages",!0);var Et=ht._toppaper.append("g").classed("layer-above",!0);ht._imageUpperLayer=Et.append("g").classed("imagelayer",!0),ht._shapeUpperLayer=Et.append("g").classed("shapelayer",!0),ht._selectionLayer=ht._toppaper.append("g").classed("selectionlayer",!0),ht._infolayer=ht._toppaper.append("g").classed("infolayer",!0),ht._menulayer=ht._toppaper.append("g").classed("menulayer",!0),ht._zoomlayer=ht._toppaper.append("g").classed("zoomlayer",!0),ht._hoverlayer=ht._hoverpaper.append("g").classed("hoverlayer",!0),ht._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Ze.emit("plotly_framework")}A.animate=wn,A.addFrames=lt,A.deleteFrames=ft,A.addTraces=ie,A.deleteTraces=we,A.extendTraces=Oe,A.moveTraces=se,A.prependTraces=Fe,A.newPlot=ne,A._doPlot=K,A.purge=wt,A.react=Zn,A.redraw=ce,A.relayout=ze,A.restyle=ue,A.setPlotConfig=Q,A.update=ut,A._guiRelayout=tt(ze),A._guiRestyle=tt(ue),A._guiUpdate=tt(ut),A._storeDirectGUIEdit=de},2075:function(L){var A={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},s={};function m(h,l){for(var c in h){var i=h[c];i.valType?l[c]=i.dflt:(l[c]||(l[c]={}),m(i,l[c]))}}m(A,s),L.exports={configAttributes:A,dfltConfig:s}},6281:function(L,A,s){var m=s(3972),h=s(1828),l=s(9012),c=s(820),i=s(1391),u=s(5594),d=s(2075).configAttributes,g=s(962),v=h.extendDeepAll,x=h.isPlainObject,C=h.isArrayOrTypedArray,_=h.nestedProperty,$=h.valObjectMeta,S="_isSubplotObj",O="_isLinkedToArray",D="_arrayAttrRegexps",N="_deprecated",M=[S,O,D,N];A.IS_SUBPLOT_OBJ=S,A.IS_LINKED_TO_ARRAY=O,A.DEPRECATED=N,A.UNDERSCORE_ATTRS=M,A.get=function(){var Se={};m.allTypes.forEach(function(ne){Se[ne]=H(ne)});var ce={};return Object.keys(m.transformsRegistry).forEach(function(ne){ce[ne]=P(ne)}),{defs:{valObjects:$,metaKeys:M.concat(["description","role","editType","impliedEdits"]),editType:{traces:g.traces,layout:g.layout},impliedEdits:{}},traces:Se,layout:j(),transforms:ce,frames:ee(),animation:J(u),config:J(d)}},A.crawl=function(Se,ce,ne,fe){var X=ne||0;fe=fe||"",Object.keys(Se).forEach(function(ye){var Ce=Se[ye];if(M.indexOf(ye)===-1){var $e=(fe?fe+".":"")+ye;ce(Ce,ye,Se,X,$e),!A.isValObject(Ce)&&x(Ce)&&ye!=="impliedEdits"&&A.crawl(Ce,ce,X+1,$e)}})},A.isValObject=function(Se){return Se&&Se.valType!==void 0},A.findArrayAttributes=function(Se){var ce=[],ne=[],fe=[],X,ye;function Ce(Fe,ie,we,se){ne=ne.slice(0,se).concat([ie]),fe=fe.slice(0,se).concat([Fe&&Fe._isLinkedToArray]);var ue=Fe&&(Fe.valType==="data_array"||Fe.arrayOk===!0)&&!(ne[se-1]==="colorbar"&&(ie==="ticktext"||ie==="tickvals"));ue&&$e(X,0,"")}function $e(Fe,ie,we){var se=Fe[ne[ie]],ue=we+ne[ie];if(ie===ne.length-1)C(se)&&ce.push(ye+ue);else if(fe[ie]){if(Array.isArray(se))for(var pe=0;pe<se.length;pe++)x(se[pe])&&$e(se[pe],ie+1,ue+"["+pe+"].")}else x(se)&&$e(se,ie+1,ue+".")}X=Se,ye="",A.crawl(l,Ce),Se._module&&Se._module.attributes&&A.crawl(Se._module.attributes,Ce);var ke=Se.transforms;if(ke)for(var Ne=0;Ne<ke.length;Ne++){var Ve=ke[Ne],Oe=Ve._module;Oe&&(ye="transforms["+Ne+"].",X=Ve,A.crawl(Oe.attributes,Ce))}return ce},A.getTraceValObject=function(Se,ce){var ne=ce[0],fe=1,X,ye;if(ne==="transforms"){if(ce.length===1)return l.transforms;var Ce=Se.transforms;if(!Array.isArray(Ce)||!Ce.length)return!1;var $e=ce[1];if(!F($e)||$e>=Ce.length)return!1;X=(m.transformsRegistry[Ce[$e].type]||{}).attributes,ye=X&&X[ce[2]],fe=3}else{var ke=Se._module;if(ke||(ke=(m.modules[Se.type||l.type.dflt]||{})._module),!ke)return!1;if(X=ke.attributes,ye=X&&X[ne],!ye){var Ne=ke.basePlotModule;Ne&&Ne.attributes&&(ye=Ne.attributes[ne])}ye||(ye=l[ne])}return R(ye,ce,fe)},A.getLayoutValObject=function(Se,ce){var ne=k(Se,ce[0]);return R(ne,ce,1)};function k(Se,ce){var ne,fe,X,ye,Ce=Se._basePlotModules;if(Ce){var $e;for(ne=0;ne<Ce.length;ne++){if(X=Ce[ne],X.attrRegex&&X.attrRegex.test(ce)){if(X.layoutAttrOverrides)return X.layoutAttrOverrides;!$e&&X.layoutAttributes&&($e=X.layoutAttributes)}var ke=X.baseLayoutAttrOverrides;if(ke&&ce in ke)return ke[ce]}if($e)return $e}var Ne=Se._modules;if(Ne){for(ne=0;ne<Ne.length;ne++)if(ye=Ne[ne].layoutAttributes,ye&&ce in ye)return ye[ce]}for(fe in m.componentsRegistry){if(X=m.componentsRegistry[fe],X.name==="colorscale"&&ce.indexOf("coloraxis")===0)return X.layoutAttributes[ce];if(!X.schema&&ce===X.name)return X.layoutAttributes}return ce in c?c[ce]:!1}function R(Se,ce,ne){if(!Se)return!1;if(Se._isLinkedToArray){if(F(ce[ne]))ne++;else if(ne<ce.length)return!1}for(;ne<ce.length;ne++){var fe=Se[ce[ne]];if(x(fe))Se=fe;else break;if(ne===ce.length-1)break;if(Se._isLinkedToArray){if(ne++,!F(ce[ne]))return!1}else if(Se.valType==="info_array"){ne++;var X=ce[ne];if(!F(X))return!1;var ye=Se.items;if(Array.isArray(ye)){if(X>=ye.length)return!1;if(Se.dimensions===2){if(ne++,ce.length===ne)return Se;var Ce=ce[ne];if(!F(Ce))return!1;Se=ye[X][Ce]}else Se=ye[X]}else Se=ye}}return Se}function F(Se){return Se===Math.round(Se)&&Se>=0}function H(Se){var ce,ne;ce=m.modules[Se]._module,ne=ce.basePlotModule;var fe={};fe.type=null;var X=v({},l),ye=v({},ce.attributes);A.crawl(ye,function(ke,Ne,Ve,Oe,Fe){_(X,Fe).set(void 0),ke===void 0&&_(ye,Fe).set(void 0)}),v(fe,X),m.traceIs(Se,"noOpacity")&&delete fe.opacity,m.traceIs(Se,"showLegend")||(delete fe.showlegend,delete fe.legendgroup),m.traceIs(Se,"noHover")&&(delete fe.hoverinfo,delete fe.hoverlabel),ce.selectPoints||delete fe.selectedpoints,v(fe,ye),ne.attributes&&v(fe,ne.attributes),fe.type=Se;var Ce={meta:ce.meta||{},categories:ce.categories||{},animatable:!!ce.animatable,type:Se,attributes:J(fe)};if(ce.layoutAttributes){var $e={};v($e,ce.layoutAttributes),Ce.layoutAttributes=J($e)}return ce.animatable||A.crawl(Ce,function(ke){A.isValObject(ke)&&"anim"in ke&&delete ke.anim}),Ce}function j(){var Se={},ce,ne;v(Se,c);for(ce in m.subplotsRegistry)if(ne=m.subplotsRegistry[ce],!!ne.layoutAttributes)if(Array.isArray(ne.attr))for(var fe=0;fe<ne.attr.length;fe++)he(Se,ne,ne.attr[fe]);else{var X=ne.attr==="subplot"?ne.name:ne.attr;he(Se,ne,X)}for(ce in m.componentsRegistry){ne=m.componentsRegistry[ce];var ye=ne.schema;if(ye&&(ye.subplots||ye.layout)){var Ce=ye.subplots;if(Ce&&Ce.xaxis&&!Ce.yaxis)for(var $e in Ce.xaxis)delete Se.yaxis[$e];delete Se.xaxis.shift,delete Se.xaxis.autoshift}else ne.name==="colorscale"?v(Se,ne.layoutAttributes):ne.layoutAttributes&&ge(Se,ne.layoutAttributes,ne.name)}return{layoutAttributes:J(Se)}}function P(Se){var ce=m.transformsRegistry[Se],ne=v({},ce.attributes);return Object.keys(m.componentsRegistry).forEach(function(fe){var X=m.componentsRegistry[fe];X.schema&&X.schema.transforms&&X.schema.transforms[Se]&&Object.keys(X.schema.transforms[Se]).forEach(function(ye){ge(ne,X.schema.transforms[Se][ye],ye)})}),{attributes:J(ne)}}function ee(){var Se={frames:v({},i)};return J(Se),Se.frames}function J(Se){return K(Se),ae(Se),Q(Se),Se}function K(Se){function ce(fe){return{valType:"string",editType:"none"}}function ne(fe,X,ye){A.isValObject(fe)?(fe.arrayOk===!0||fe.valType==="data_array")&&(ye[X+"src"]=ce()):x(fe)&&(fe.role="object")}A.crawl(Se,ne)}function ae(Se){function ce(ne,fe,X){if(ne){var ye=ne[O];ye&&(delete ne[O],X[fe]={items:{}},X[fe].items[ye]=ne,X[fe].role="object")}}A.crawl(Se,ce)}function Q(Se){function ce(ne){for(var fe in ne)if(x(ne[fe]))ce(ne[fe]);else if(Array.isArray(ne[fe]))for(var X=0;X<ne[fe].length;X++)ce(ne[fe][X]);else ne[fe]instanceof RegExp&&(ne[fe]=ne[fe].toString())}ce(Se)}function he(Se,ce,ne){var fe=_(Se,ne),X=v({},ce.layoutAttributes);X[S]=!0,fe.set(X)}function ge(Se,ce,ne){var fe=_(Se,ne);fe.set(v(fe.get()||{},ce))}},4467:function(L,A,s){var m=s(1828),h=s(9012),l="templateitemname",c={name:{valType:"string",editType:"none"}};c[l]={valType:"string",editType:"calc"},A.templatedArray=function(d,g){return g._isLinkedToArray=d,g.name=c.name,g[l]=c[l],g},A.traceTemplater=function(d){var g={},v,x;for(v in d)x=d[v],Array.isArray(x)&&x.length&&(g[v]=0);function C(_){v=m.coerce(_,{},h,"type");var $={type:v,_template:null};if(v in g){x=d[v];var S=g[v]%x.length;g[v]++,$._template=x[S]}return $}return{newTrace:C}},A.newContainer=function(d,g,v){var x=d._template,C=x&&(x[g]||v&&x[v]);m.isPlainObject(C)||(C=null);var _=d[g]={_template:C};return _},A.arrayTemplater=function(d,g,v){var x=d._template,C=x&&x[u(g)],_=x&&x[g];(!Array.isArray(_)||!_.length)&&(_=[]);var $={};function S(D){var N={name:D.name,_input:D},M=N[l]=D[l];if(!i(M))return N._template=C,N;for(var k=0;k<_.length;k++){var R=_[k];if(R.name===M)return $[M]=1,N._template=R,N}return N[v]=D[v]||!1,N._template=!1,N}function O(){for(var D=[],N=0;N<_.length;N++){var M=_[N],k=M.name;if(i(k)&&!$[k]){var R={_template:M,name:k,_input:{_templateitemname:k}};R[l]=M[l],D.push(R),$[k]=1}}return D}return{newItem:S,defaultItems:O}};function i(d){return d&&typeof d=="string"}function u(d){var g=d.length-1;return d.charAt(g)!=="s"&&m.warn("bad argument to arrayDefaultKey: "+d),d.substr(0,d.length-1)+"defaults"}A.arrayDefaultKey=u,A.arrayEditor=function(d,g,v){var x=(m.nestedProperty(d,g).get()||[]).length,C=v._index,_=C>=x&&(v._input||{})._templateitemname;_&&(C=x);var $=g+"["+C+"]",S;function O(){S={},_&&(S[$]={},S[$][l]=_)}O();function D(R,F){S[R]=F}function N(R,F){_?m.nestedProperty(S[$],R).set(F):S[$+"."+R]=F}function M(){var R=S;return O(),R}function k(R,F){R&&N(R,F);var H=M();for(var j in H)m.nestedProperty(d,j).set(H[j])}return{modifyBase:D,modifyItem:N,getUpdateObj:M,applyUpdate:k}}},1549:function(L,A,s){var m=s(9898),h=s(3972),l=s(4875),c=s(1828),i=s(3893),u=s(3306),d=s(7901),g=s(1424),v=s(2998),x=s(4168),C=s(9298),_=s(8783),$=s(9082),S=$.enforce,O=$.clean,D=s(1739).doAutoRange,N="start",M="middle",k="end";A.layoutStyles=function(ne){return c.syncOrAsync([l.doAutoMargin,F],ne)};function R(ne,fe,X){for(var ye=0;ye<X.length;ye++){var Ce=X[ye][0],$e=X[ye][1];if(!(Ce[0]>=ne[1]||Ce[1]<=ne[0])&&$e[0]<fe[1]&&$e[1]>fe[0])return!0}return!1}function F(ne){var fe=ne._fullLayout,X=fe._size,ye=X.p,Ce=C.list(ne,"",!0),$e,ke,Ne,Ve,Oe,Fe;if(fe._paperdiv.style({width:ne._context.responsive&&fe.autosize&&!ne._context._hasZeroWidth&&!ne.layout.width?"100%":fe.width+"px",height:ne._context.responsive&&fe.autosize&&!ne._context._hasZeroHeight&&!ne.layout.height?"100%":fe.height+"px"}).selectAll(".main-svg").call(g.setSize,fe.width,fe.height),ne._context.setBackground(ne,fe.paper_bgcolor),A.drawMainTitle(ne),x.manage(ne),!fe._has("cartesian"))return l.previousPromises(ne);function ie(wt,vt,$t){var Ze=wt._lw/2;if(wt._id.charAt(0)==="x"){if(vt){if($t==="top")return vt._offset-ye-Ze}else return X.t+X.h*(1-(wt.position||0))+Ze%1;return vt._offset+vt._length+ye+Ze}if(vt){if($t==="right")return vt._offset+vt._length+ye+Ze}else return X.l+X.w*(wt.position||0)+Ze%1;return vt._offset-ye-Ze}for($e=0;$e<Ce.length;$e++){Ve=Ce[$e];var we=Ve._anchorAxis;Ve._linepositions={},Ve._lw=g.crispRound(ne,Ve.linewidth,1),Ve._mainLinePosition=ie(Ve,we,Ve.side),Ve._mainMirrorPosition=Ve.mirror&&we?ie(Ve,we,_.OPPOSITE_SIDE[Ve.side]):null}var se=[],ue=[],pe=[],le=d.opacity(fe.paper_bgcolor)===1&&d.opacity(fe.plot_bgcolor)===1&&fe.paper_bgcolor===fe.plot_bgcolor;for(ke in fe._plots)if(Ne=fe._plots[ke],Ne.mainplot)Ne.bg&&Ne.bg.remove(),Ne.bg=void 0;else{var Te=Ne.xaxis.domain,de=Ne.yaxis.domain,Me=Ne.plotgroup;if(R(Te,de,pe)){var Re=Me.node(),ze=Ne.bg=c.ensureSingle(Me,"rect","bg");Re.insertBefore(ze.node(),Re.childNodes[0]),ue.push(ke)}else Me.select("rect.bg").remove(),pe.push([Te,de]),le||(se.push(ke),ue.push(ke))}var We=fe._bgLayer.selectAll(".bg").data(se);for(We.enter().append("rect").classed("bg",!0),We.exit().remove(),We.each(function(wt){fe._plots[wt].bg=m.select(this)}),$e=0;$e<ue.length;$e++)Ne=fe._plots[ue[$e]],Oe=Ne.xaxis,Fe=Ne.yaxis,Ne.bg&&Oe._offset!==void 0&&Fe._offset!==void 0&&Ne.bg.call(g.setRect,Oe._offset-ye,Fe._offset-ye,Oe._length+2*ye,Fe._length+2*ye).call(d.fill,fe.plot_bgcolor).style("stroke-width",0);if(!fe._hasOnlyLargeSploms)for(ke in fe._plots){Ne=fe._plots[ke],Oe=Ne.xaxis,Fe=Ne.yaxis;var ot=Ne.clipId="clip"+fe._uid+ke+"plot",dt=c.ensureSingleById(fe._clips,"clipPath",ot,function(wt){wt.classed("plotclip",!0).append("rect")});Ne.clipRect=dt.select("rect").attr({width:Oe._length,height:Fe._length}),g.setTranslate(Ne.plot,Oe._offset,Fe._offset);var Ge,Xe;Ne._hasClipOnAxisFalse?(Ge=null,Xe=ot):(Ge=ot,Xe=null),g.setClipUrl(Ne.plot,Ge,ne),Ne.layerClipId=Xe}var qe,gt,ut,tt,Ct,Gt,Yt,Nt,Ft,pn,_n,sn,Zn;function an(wt){return"M"+qe+","+wt+"H"+gt}function Cn(wt){return"M"+Oe._offset+","+wt+"h"+Oe._length}function jn(wt){return"M"+wt+","+Nt+"V"+Yt}function Wn(wt){return Fe._shift!==void 0&&(wt+=Fe._shift),"M"+wt+","+Fe._offset+"v"+Fe._length}function wn(wt,vt,$t){if(!wt.showline||ke!==wt._mainSubplot)return"";if(!wt._anchorAxis)return $t(wt._mainLinePosition);var Ze=vt(wt._mainLinePosition);return wt.mirror&&(Ze+=vt(wt._mainMirrorPosition)),Ze}for(ke in fe._plots){Ne=fe._plots[ke],Oe=Ne.xaxis,Fe=Ne.yaxis;var lt="M0,0";H(Oe,ke)&&(Ct=P(Oe,"left",Fe,Ce),qe=Oe._offset-(Ct?ye+Ct:0),Gt=P(Oe,"right",Fe,Ce),gt=Oe._offset+Oe._length+(Gt?ye+Gt:0),ut=ie(Oe,Fe,"bottom"),tt=ie(Oe,Fe,"top"),Zn=!Oe._anchorAxis||ke!==Oe._mainSubplot,Zn&&(Oe.mirror==="allticks"||Oe.mirror==="all")&&(Oe._linepositions[ke]=[ut,tt]),lt=wn(Oe,an,Cn),Zn&&Oe.showline&&(Oe.mirror==="all"||Oe.mirror==="allticks")&&(lt+=an(ut)+an(tt)),Ne.xlines.style("stroke-width",Oe._lw+"px").call(d.stroke,Oe.showline?Oe.linecolor:"rgba(0,0,0,0)")),Ne.xlines.attr("d",lt);var ft="M0,0";H(Fe,ke)&&(_n=P(Fe,"bottom",Oe,Ce),Yt=Fe._offset+Fe._length+(_n?ye:0),sn=P(Fe,"top",Oe,Ce),Nt=Fe._offset-(sn?ye:0),Ft=ie(Fe,Oe,"left"),pn=ie(Fe,Oe,"right"),Zn=!Fe._anchorAxis||ke!==Fe._mainSubplot,Zn&&(Fe.mirror==="allticks"||Fe.mirror==="all")&&(Fe._linepositions[ke]=[Ft,pn]),ft=wn(Fe,jn,Wn),Zn&&Fe.showline&&(Fe.mirror==="all"||Fe.mirror==="allticks")&&(ft+=jn(Ft)+jn(pn)),Ne.ylines.style("stroke-width",Fe._lw+"px").call(d.stroke,Fe.showline?Fe.linecolor:"rgba(0,0,0,0)")),Ne.ylines.attr("d",ft)}return C.makeClipPaths(ne),l.previousPromises(ne)}function H(ne,fe){return(ne.ticks||ne.showline)&&(fe===ne._mainSubplot||ne.mirror==="all"||ne.mirror==="allticks")}function j(ne,fe,X){if(!X.showline||!X._lw)return!1;if(X.mirror==="all"||X.mirror==="allticks")return!0;var ye=X._anchorAxis;if(!ye)return!1;var Ce=_.FROM_BL[fe];return X.side===fe?ye.domain[Ce]===ne.domain[Ce]:X.mirror&&ye.domain[1-Ce]===ne.domain[1-Ce]}function P(ne,fe,X,ye){if(j(ne,fe,X))return X._lw;for(var Ce=0;Ce<ye.length;Ce++){var $e=ye[Ce];if($e._mainAxis===X._mainAxis&&j(ne,fe,$e))return $e._lw}return 0}A.drawMainTitle=function(ne){var fe=ne._fullLayout.title,X=ne._fullLayout,ye=Se(X),Ce=ce(X),$e=he(X,Ce),ke=Q(X,ye);if(v.draw(ne,"gtitle",{propContainer:X,propName:"title.text",placeholder:X._dfltTitle.plot,attributes:{x:ke,y:$e,"text-anchor":ye,dy:Ce}}),fe.text&&fe.automargin){var Ne=m.selectAll(".gtitle"),Ve=g.bBox(Ne.node()).height,Oe=K(ne,fe,Ve);Oe>0&&(ae(ne,$e,Oe,Ve),Ne.attr({x:ke,y:$e,"text-anchor":ye,dy:ge(fe.yanchor)}).call(i.positionText,ke,$e))}};function ee(ne,fe,X,ye,Ce){var $e=fe.yref==="paper"?ne._fullLayout._size.h:ne._fullLayout.height,ke=c.isTopAnchor(fe)?ye:ye-Ce,Ne=X==="b"?$e-ke:ke;return c.isTopAnchor(fe)&&X==="t"||c.isBottomAnchor(fe)&&X==="b"?!1:Ne<Ce}function J(ne,fe,X,ye,Ce){var $e=0;return X==="middle"&&($e+=Ce/2),ne==="t"?(X==="top"&&($e+=Ce),$e+=ye-fe*ye):(X==="bottom"&&($e+=Ce),$e+=fe*ye),$e}function K(ne,fe,X){var ye=fe.y,Ce=fe.yanchor,$e=ye>.5?"t":"b",ke=ne._fullLayout.margin[$e],Ne=0;return fe.yref==="paper"?Ne=X+fe.pad.t+fe.pad.b:fe.yref==="container"&&(Ne=J($e,ye,Ce,ne._fullLayout.height,X)+fe.pad.t+fe.pad.b),Ne>ke?Ne:0}function ae(ne,fe,X,ye){var Ce="title.automargin",$e=ne._fullLayout.title,ke=$e.y>.5?"t":"b",Ne={x:$e.x,y:$e.y,t:0,b:0},Ve={};$e.yref==="paper"&&ee(ne,$e,ke,fe,ye)?Ne[ke]=X:$e.yref==="container"&&(Ve[ke]=X,ne._fullLayout._reservedMargin[Ce]=Ve),l.allowAutoMargin(ne,Ce),l.autoMargin(ne,Ce,Ne)}function Q(ne,fe){var X=ne.title,ye=ne._size,Ce=0;switch(fe===N?Ce=X.pad.l:fe===k&&(Ce=-X.pad.r),X.xref){case"paper":return ye.l+ye.w*X.x+Ce;case"container":default:return ne.width*X.x+Ce}}function he(ne,fe){var X=ne.title,ye=ne._size,Ce=0;if(fe==="0em"||!fe?Ce=-X.pad.b:fe===_.CAP_SHIFT+"em"&&(Ce=X.pad.t),X.y==="auto")return ye.t/2;switch(X.yref){case"paper":return ye.t+ye.h-ye.h*X.y+Ce;case"container":default:return ne.height-ne.height*X.y+Ce}}function ge(ne){return ne==="top"?_.CAP_SHIFT+.3+"em":ne==="bottom"?"-0.3em":_.MID_SHIFT+"em"}function Se(ne){var fe=ne.title,X=M;return c.isRightAnchor(fe)?X=k:c.isLeftAnchor(fe)&&(X=N),X}function ce(ne){var fe=ne.title,X="0em";return c.isTopAnchor(fe)?X=_.CAP_SHIFT+"em":c.isMiddleAnchor(fe)&&(X=_.MID_SHIFT+"em"),X}A.doTraceStyle=function(ne){var fe=ne.calcdata,X=[],ye;for(ye=0;ye<fe.length;ye++){var Ce=fe[ye],$e=Ce[0]||{},ke=$e.trace||{},Ne=ke._module||{},Ve=Ne.arraysToCalcdata;Ve&&Ve(Ce,ke);var Oe=Ne.editStyle;Oe&&X.push({fn:Oe,cd0:$e})}if(X.length){for(ye=0;ye<X.length;ye++){var Fe=X[ye];Fe.fn(ne,Fe.cd0)}u(ne),A.redrawReglTraces(ne)}return l.style(ne),h.getComponentMethod("legend","draw")(ne),l.previousPromises(ne)},A.doColorBars=function(ne){return h.getComponentMethod("colorbar","draw")(ne),l.previousPromises(ne)},A.layoutReplot=function(ne){var fe=ne.layout;return ne.layout=void 0,h.call("_doPlot",ne,"",fe)},A.doLegend=function(ne){return h.getComponentMethod("legend","draw")(ne),l.previousPromises(ne)},A.doTicksRelayout=function(ne){return C.draw(ne,"redraw"),ne._fullLayout._hasOnlyLargeSploms&&(h.subplotsRegistry.splom.updateGrid(ne),u(ne),A.redrawReglTraces(ne)),A.drawMainTitle(ne),l.previousPromises(ne)},A.doModeBar=function(ne){var fe=ne._fullLayout;x.manage(ne);for(var X=0;X<fe._basePlotModules.length;X++){var ye=fe._basePlotModules[X].updateFx;ye&&ye(ne)}return l.previousPromises(ne)},A.doCamera=function(ne){for(var fe=ne._fullLayout,X=fe._subplots.gl3d,ye=0;ye<X.length;ye++){var Ce=fe[X[ye]],$e=Ce._scene;$e.setViewport(Ce)}},A.drawData=function(ne){var fe=ne._fullLayout;u(ne);for(var X=fe._basePlotModules,ye=0;ye<X.length;ye++)X[ye].plot(ne);return A.redrawReglTraces(ne),l.style(ne),h.getComponentMethod("selections","draw")(ne),h.getComponentMethod("shapes","draw")(ne),h.getComponentMethod("annotations","draw")(ne),h.getComponentMethod("images","draw")(ne),fe._replotting=!1,l.previousPromises(ne)},A.redrawReglTraces=function(ne){var fe=ne._fullLayout;if(fe._has("regl")){var X=ne._fullData,ye=[],Ce=[],$e,ke;for(fe._hasOnlyLargeSploms&&fe._splomGrid.draw(),$e=0;$e<X.length;$e++){var Ne=X[$e];Ne.visible===!0&&Ne._length!==0&&(Ne.type==="splom"?fe._splomScenes[Ne.uid].draw():Ne.type==="scattergl"?c.pushUnique(ye,Ne.xaxis+Ne.yaxis):Ne.type==="scatterpolargl"&&c.pushUnique(Ce,Ne.subplot))}for($e=0;$e<ye.length;$e++)ke=fe._plots[ye[$e]],ke._scene&&ke._scene.draw();for($e=0;$e<Ce.length;$e++)ke=fe[Ce[$e]]._subplot,ke._scene&&ke._scene.draw()}},A.doAutoRangeAndConstraints=function(ne){for(var fe=C.list(ne,"",!0),X,ye={},Ce=0;Ce<fe.length;Ce++)if(X=fe[Ce],!ye[X._id]){ye[X._id]=1,O(ne,X),D(ne,X);var $e=X._matchGroup;if($e)for(var ke in $e){var Ne=C.getFromId(ne,ke);D(ne,Ne,X.range),ye[ke]=1}}S(ne)},A.finalDraw=function(ne){h.getComponentMethod("rangeslider","draw")(ne),h.getComponentMethod("rangeselector","draw")(ne)},A.drawMarginPushers=function(ne){h.getComponentMethod("legend","draw")(ne),h.getComponentMethod("rangeselector","draw")(ne),h.getComponentMethod("sliders","draw")(ne),h.getComponentMethod("updatemenus","draw")(ne),h.getComponentMethod("colorbar","draw")(ne)}},6318:function(L,A,s){var m=s(1828),h=m.isPlainObject,l=s(6281),c=s(4875),i=s(9012),u=s(4467),d=s(2075).dfltConfig;A.makeTemplate=function(D){D=m.isPlainObject(D)?D:m.getGraphDiv(D),D=m.extendDeep({_context:d},{data:D.data,layout:D.layout}),c.supplyDefaults(D);var N=D.data||[],M=D.layout||{};M._basePlotModules=D._fullLayout._basePlotModules,M._modules=D._fullLayout._modules;var k={data:{},layout:{}};N.forEach(function(Q){var he={};x(Q,he,_.bind(null,Q));var ge=m.coerce(Q,{},i,"type"),Se=k.data[ge];Se||(Se=k.data[ge]=[]),Se.push(he)}),x(M,k.layout,C.bind(null,M)),delete k.layout.template;var R=M.template;if(h(R)){var F=R.layout,H,j,P,ee,J,K;h(F)&&g(F,k.layout);var ae=R.data;if(h(ae)){for(j in k.data)if(P=ae[j],Array.isArray(P)){for(J=k.data[j],K=J.length,ee=P.length,H=0;H<K;H++)g(P[H%ee],J[H]);for(H=K;H<ee;H++)J.push(m.extendDeep({},P[H]))}for(j in ae)j in k.data||(k.data[j]=m.extendDeep([],ae[j]))}}return k};function g(D,N){D=m.extendDeep({},D);var M=Object.keys(D).sort(),k,R;function F(J,K,ae){if(h(K)&&h(J))g(J,K);else if(Array.isArray(K)&&Array.isArray(J)){var Q=u.arrayTemplater({_template:D},ae);for(R=0;R<K.length;R++){var he=K[R],ge=Q.newItem(he)._template;ge&&g(ge,he)}var Se=Q.defaultItems();for(R=0;R<Se.length;R++)K.push(Se[R]._template);for(R=0;R<K.length;R++)delete K[R].templateitemname}}for(k=0;k<M.length;k++){var H=M[k],j=D[H];if(H in N?F(j,N[H],H):N[H]=j,v(H)===H)for(var P in N){var ee=v(P);P!==ee&&ee===H&&!(P in D)&&F(j,N[P],H)}}}function v(D){return D.replace(/[0-9]+$/,"")}function x(D,N,M,k,R){var F=R&&M(R);for(var H in D){var j=D[H],P=$(D,H,k),ee=$(D,H,R),J=M(ee);if(!J){var K=v(H);K!==H&&(ee=$(D,K,R),J=M(ee))}if(!(F&&F===J)&&!(!J||J._noTemplating||J.valType==="data_array"||J.arrayOk&&Array.isArray(j)))if(!J.valType&&h(j))x(j,N,M,P,ee);else if(J._isLinkedToArray&&Array.isArray(j))for(var ae=!1,Q=0,he={},ge=0;ge<j.length;ge++){var Se=j[ge];if(h(Se)){var ce=Se.name;if(ce)he[ce]||(x(Se,N,M,$(j,Q,P),$(j,Q,ee)),Q++,he[ce]=1);else if(!ae){var ne=u.arrayDefaultKey(H),fe=$(D,ne,k),X=$(j,Q,P);x(Se,N,M,X,$(j,Q,ee));var ye=m.nestedProperty(N,X),Ce=m.nestedProperty(N,fe);Ce.set(ye.get()),ye.set(null),ae=!0}}}else{var $e=m.nestedProperty(N,P);$e.set(j)}}}function C(D,N){return l.getLayoutValObject(D,m.nestedProperty({},N).parts)}function _(D,N){return l.getTraceValObject(D,m.nestedProperty({},N).parts)}function $(D,N,M){var k;return M?Array.isArray(D)?k=M+"["+N+"]":k=M+"."+N:k=N,k}A.validateTemplate=function(D,N){var M=m.extendDeep({},{_context:d,data:D.data,layout:D.layout}),k=M.layout||{};h(N)||(N=k.template||{});var R=N.layout,F=N.data,H=[];M.layout=k,M.layout.template=N,c.supplyDefaults(M);var j=M._fullLayout,P=M._fullData,ee={};function J(fe,X){for(var ye in fe)if(ye.charAt(0)!=="_"&&h(fe[ye])){var Ce=v(ye),$e=[],ke;for(ke=0;ke<X.length;ke++)$e.push($(fe,ye,X[ke])),Ce!==ye&&$e.push($(fe,Ce,X[ke]));for(ke=0;ke<$e.length;ke++)ee[$e[ke]]=1;J(fe[ye],$e)}}function K(fe,X){for(var ye in fe)if(ye.indexOf("defaults")===-1&&h(fe[ye])){var Ce=$(fe,ye,X);ee[Ce]?K(fe[ye],Ce):H.push({code:"unused",path:Ce})}}if(h(R)?(J(j,["layout"]),K(R,"layout")):H.push({code:"layout"}),!h(F))H.push({code:"data"});else{for(var ae={},Q,he=0;he<P.length;he++){var ge=P[he];Q=ge.type,ae[Q]=(ae[Q]||0)+1,ge._fullInput._template||H.push({code:"missing",index:ge._fullInput.index,traceType:Q})}for(Q in F){var Se=F[Q].length,ce=ae[Q]||0;Se>ce?H.push({code:"unused",traceType:Q,templateCount:Se,dataCount:ce}):ce>Se&&H.push({code:"reused",traceType:Q,templateCount:Se,dataCount:ce})}}function ne(fe,X){for(var ye in fe)if(ye.charAt(0)!=="_"){var Ce=fe[ye],$e=$(fe,ye,X);h(Ce)?(Array.isArray(fe)&&Ce._template===!1&&Ce.templateitemname&&H.push({code:"missing",path:$e,templateitemname:Ce.templateitemname}),ne(Ce,$e)):Array.isArray(Ce)&&S(Ce)&&ne(Ce,$e)}}if(ne({data:P,layout:j},""),H.length)return H.map(O)};function S(D){for(var N=0;N<D.length;N++)if(h(D[N]))return!0}function O(D){var N;switch(D.code){case"data":N="The template has no key data.";break;case"layout":N="The template has no key layout.";break;case"missing":D.path?N="There are no templates for item "+D.path+" with name "+D.templateitemname:N="There are no templates for trace "+D.index+", of type "+D.traceType+".";break;case"unused":D.path?N="The template item at "+D.path+" was not used in constructing the plot.":D.dataCount?N="Some of the templates of type "+D.traceType+" were not used. The template has "+D.templateCount+" traces, the data only has "+D.dataCount+" of this type.":N="The template has "+D.templateCount+" traces of type "+D.traceType+" but there are none in the data.";break;case"reused":N="Some of the templates of type "+D.traceType+" were used more than once. The template has "+D.templateCount+" traces, the data has "+D.dataCount+" of this type.";break}return D.msg=N,D}},403:function(L,A,s){var m=s(2770),h=s(2391),l=s(4875),c=s(1828),i=s(5095),u=s(5900),d=s(942),g=s(1506).version,v={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function x(C,_){_=_||{};var $,S,O,D;c.isPlainObject(C)?($=C.data||[],S=C.layout||{},O=C.config||{},D={}):(C=c.getGraphDiv(C),$=c.extendDeep([],C.data),S=c.extendDeep({},C.layout),O=C._context,D=C._fullLayout||{});function N(ce){return!(ce in _)||c.validate(_[ce],v[ce])}if(!N("width")&&_.width!==null||!N("height")&&_.height!==null)throw new Error("Height and width should be pixel values.");if(!N("format"))throw new Error("Export format is not "+c.join2(v.format.values,", "," or ")+".");var M={};function k(ce,ne){return c.coerce(_,M,v,ce,ne)}var R=k("format"),F=k("width"),H=k("height"),j=k("scale"),P=k("setBackground"),ee=k("imageDataOnly"),J=document.createElement("div");J.style.position="absolute",J.style.left="-5000px",document.body.appendChild(J);var K=c.extendFlat({},S);F?K.width=F:_.width===null&&m(D.width)&&(K.width=D.width),H?K.height=H:_.height===null&&m(D.height)&&(K.height=D.height);var ae=c.extendFlat({},O,{_exportedPlot:!0,staticPlot:!0,setBackground:P}),Q=i.getRedrawFunc(J);function he(){return new Promise(function(ce){setTimeout(ce,i.getDelay(J._fullLayout))})}function ge(){return new Promise(function(ce,ne){var fe=u(J,R,j),X=J._fullLayout.width,ye=J._fullLayout.height;function Ce(){h.purge(J),document.body.removeChild(J)}if(R==="full-json"){var $e=l.graphJson(J,!1,"keepdata","object",!0,!0);return $e.version=g,$e=JSON.stringify($e),Ce(),ce(ee?$e:i.encodeJSON($e))}if(Ce(),R==="svg")return ce(ee?fe:i.encodeSVG(fe));var ke=document.createElement("canvas");ke.id=c.randstr(),d({format:R,width:X,height:ye,scale:j,canvas:ke,svg:fe,promise:!0}).then(ce).catch(ne)})}function Se(ce){return ee?ce.replace(i.IMAGE_URL_PREFIX,""):ce}return new Promise(function(ce,ne){h.newPlot(J,$,K,ae).then(Q).then(he).then(ge).then(function(fe){ce(Se(fe))}).catch(function(fe){ne(fe)})})}L.exports=x},4936:function(L,A,s){var m=s(1828),h=s(4875),l=s(6281),c=s(2075).dfltConfig,i=m.isPlainObject,u=Array.isArray,d=m.isArrayOrTypedArray;L.exports=function(k,R){k===void 0&&(k=[]),R===void 0&&(R={});var F=l.get(),H=[],j={_context:m.extendFlat({},c)},P,ee;u(k)?(j.data=m.extendDeep([],k),P=k):(j.data=[],P=[],H.push(_("array","data"))),i(R)?(j.layout=m.extendDeep({},R),ee=R):(j.layout={},ee={},arguments.length>1&&H.push(_("object","layout"))),h.supplyDefaults(j);for(var J=j._fullData,K=P.length,ae=0;ae<K;ae++){var Q=P[ae],he=["data",ae];if(!i(Q)){H.push(_("object",he));continue}var ge=J[ae],Se=ge.type,ce=F.traces[Se].attributes;ce.type={valType:"enumerated",values:[Se]},ge.visible===!1&&Q.visible!==!1&&H.push(_("invisible",he)),g(Q,ge,ce,H,he);var ne=Q.transforms,fe=ge.transforms;if(ne){u(ne)||H.push(_("array",he,["transforms"])),he.push("transforms");for(var X=0;X<ne.length;X++){var ye=["transforms",X],Ce=ne[X].type;if(!i(ne[X])){H.push(_("object",he,ye));continue}var $e=F.transforms[Ce]?F.transforms[Ce].attributes:{};$e.type={valType:"enumerated",values:Object.keys(F.transforms)},g(ne[X],fe[X],$e,H,he,ye)}}}var ke=j._fullLayout,Ne=v(F,J);return g(ee,ke,Ne,H,"layout"),H.length===0?void 0:H};function g(M,k,R,F,H,j){j=j||[];for(var P=Object.keys(M),ee=0;ee<P.length;ee++){var J=P[ee];if(J!=="transforms"){var K=j.slice();K.push(J);var ae=M[J],Q=k[J],he=S(R,J),ge=(he||{}).valType,Se=ge==="info_array",ce=ge==="colorscale",ne=(he||{}).items;if(!$(R,J))F.push(_("schema",H,K));else if(i(ae)&&i(Q)&&ge!=="any")g(ae,Q,he,F,H,K);else if(Se&&u(ae)){ae.length>Q.length&&F.push(_("unused",H,K.concat(Q.length)));var fe=Q.length,X=Array.isArray(ne);X&&(fe=Math.min(fe,ne.length));var ye,Ce,$e,ke,Ne;if(he.dimensions===2)for(Ce=0;Ce<fe;Ce++)if(u(ae[Ce])){ae[Ce].length>Q[Ce].length&&F.push(_("unused",H,K.concat(Ce,Q[Ce].length)));var Ve=Q[Ce].length;for(ye=0;ye<(X?Math.min(Ve,ne[Ce].length):Ve);ye++)$e=X?ne[Ce][ye]:ne,ke=ae[Ce][ye],Ne=Q[Ce][ye],m.validate(ke,$e)?Ne!==ke&&Ne!==+ke&&F.push(_("dynamic",H,K.concat(Ce,ye),ke,Ne)):F.push(_("value",H,K.concat(Ce,ye),ke))}else F.push(_("array",H,K.concat(Ce),ae[Ce]));else for(Ce=0;Ce<fe;Ce++)$e=X?ne[Ce]:ne,ke=ae[Ce],Ne=Q[Ce],m.validate(ke,$e)?Ne!==ke&&Ne!==+ke&&F.push(_("dynamic",H,K.concat(Ce),ke,Ne)):F.push(_("value",H,K.concat(Ce),ke))}else if(he.items&&!Se&&u(ae)){var Oe=ne[Object.keys(ne)[0]],Fe=[],ie,we;for(ie=0;ie<Q.length;ie++){var se=Q[ie]._index||ie;if(we=K.slice(),we.push(se),i(ae[se])&&i(Q[ie])){Fe.push(se);var ue=ae[se],pe=Q[ie];i(ue)&&ue.visible!==!1&&pe.visible===!1?F.push(_("invisible",H,we)):g(ue,pe,Oe,F,H,we)}}for(ie=0;ie<ae.length;ie++)we=K.slice(),we.push(ie),i(ae[ie])?Fe.indexOf(ie)===-1&&F.push(_("unused",H,we)):F.push(_("object",H,we,ae[ie]))}else!i(ae)&&i(Q)?F.push(_("object",H,K,ae)):!d(ae)&&d(Q)&&!Se&&!ce?F.push(_("array",H,K,ae)):J in k?m.validate(ae,he)?he.valType==="enumerated"&&(he.coerceNumber&&ae!==+Q||ae!==Q)&&F.push(_("dynamic",H,K,ae,Q)):F.push(_("value",H,K,ae)):F.push(_("unused",H,K,ae))}}return F}function v(M,k){for(var R=M.layout.layoutAttributes,F=0;F<k.length;F++){var H=k[F],j=M.traces[H.type],P=j.layoutAttributes;P&&(H.subplot?m.extendFlat(R[j.attributes.subplot.dflt],P):m.extendFlat(R,P))}return R}var x={object:function(M,k){var R;return M==="layout"&&k===""?R="The layout argument":M[0]==="data"&&k===""?R="Trace "+M[1]+" in the data argument":R=C(M)+"key "+k,R+" must be linked to an object container"},array:function(M,k){var R;return M==="data"?R="The data argument":R=C(M)+"key "+k,R+" must be linked to an array container"},schema:function(M,k){return C(M)+"key "+k+" is not part of the schema"},unused:function(M,k,R){var F=i(R)?"container":"key";return C(M)+F+" "+k+" did not get coerced"},dynamic:function(M,k,R,F){return[C(M)+"key",k,"(set to '"+R+"')","got reset to","'"+F+"'","during defaults."].join(" ")},invisible:function(M,k){return(k?C(M)+"item "+k:"Trace "+M[1])+" got defaulted to be not visible"},value:function(M,k,R){return[C(M)+"key "+k,"is set to an invalid value ("+R+")"].join(" ")}};function C(M){return u(M)?"In data trace "+M[1]+", ":"In "+M+", "}function _(M,k,R,F,H){R=R||"";var j,P;u(k)?(j=k[0],P=k[1]):(j=k,P=null);var ee=N(R),J=x[M](k,ee,F,H);return m.log(J),{code:M,container:j,trace:P,path:R,astr:ee,msg:J}}function $(M,k){var R=D(k),F=R.keyMinusId,H=R.id;return F in M&&M[F]._isSubplotObj&&H?!0:k in M}function S(M,k){if(k in M)return M[k];var R=D(k);return M[R.keyMinusId]}var O=m.counterRegex("([a-z]+)");function D(M){var k=M.match(O);return{keyMinusId:k&&k[1],id:k&&k[2]}}function N(M){if(!u(M))return String(M);for(var k="",R=0;R<M.length;R++){var F=M[R];typeof F=="number"?k=k.substr(0,k.length-1)+"["+F+"]":k+=F,R<M.length-1&&(k+=".")}return k}},5594:function(L){L.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},5501:function(L,A,s){var m=s(1828),h=s(4467);L.exports=function(c,i,u){var d=u.name,g=u.inclusionAttr||"visible",v=i[d],x=m.isArrayOrTypedArray(c[d])?c[d]:[],C=i[d]=[],_=h.arrayTemplater(i,d,g),$,S;for($=0;$<x.length;$++){var O=x[$];m.isPlainObject(O)?S=_.newItem(O):(S=_.newItem({}),S[g]=!1),S._index=$,S[g]!==!1&&u.handleItemDefaults(O,S,i,u),C.push(S)}var D=_.defaultItems();for($=0;$<D.length;$++)S=D[$],S._index=C.length,u.handleItemDefaults({},S,i,u,{}),C.push(S);if(m.isArrayOrTypedArray(v)){var N=Math.min(v.length,C.length);for($=0;$<N;$++)m.relinkPrivateKeys(C[$],v[$])}return C}},9012:function(L,A,s){var m=s(1940),h=s(7914);L.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:m({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:h.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},2973:function(L,A,s){var m=s(2770),h=s(1828),l=h.dateTime2ms,c=h.incrementMonth,i=s(606),u=i.ONEAVGMONTH;L.exports=function(g,v,x,C){if(v.type!=="date")return{vals:C};var _=g[x+"periodalignment"];if(!_)return{vals:C};var $=g[x+"period"],S;if(m($)){if($=+$,$<=0)return{vals:C}}else if(typeof $=="string"&&$.charAt(0)==="M"){var O=+$.substring(1);if(O>0&&Math.round(O)===O)S=O;else return{vals:C}}for(var D=v.calendar,N=_==="start",M=_==="end",k=g[x+"period0"],R=l(k,D)||0,F=[],H=[],j=[],P=C.length,ee=0;ee<P;ee++){var J=C[ee],K,ae,Q;if(S){for(K=Math.round((J-R)/(S*u)),Q=c(R,S*K,D);Q>J;)Q=c(Q,-S,D);for(;Q<=J;)Q=c(Q,S,D);ae=c(Q,-S,D)}else{for(K=Math.round((J-R)/$),Q=R+K*$;Q>J;)Q-=$;for(;Q<=J;)Q+=$;ae=Q-$}F[ee]=N?ae:M?Q:(ae+Q)/2,H[ee]=ae,j[ee]=Q}return{vals:F,starts:H,ends:j}}},9502:function(L){L.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},1739:function(L,A,s){var m=s(9898),h=s(2770),l=s(1828),c=s(606).FP_SAFE,i=s(3972),u=s(1424),d=s(1675),g=d.getFromId,v=d.isLinked;L.exports={applyAutorangeOptions:K,getAutoRange:x,makePadFn:_,doAutoRange:D,findExtremes:N,concatExtremes:O};function x(ae,Q){var he,ge,Se=[],ce=ae._fullLayout,ne=_(ce,Q,0),fe=_(ce,Q,1),X=O(ae,Q),ye=X.min,Ce=X.max;if(ye.length===0||Ce.length===0)return l.simpleMap(Q.range,Q.r2l);var $e=ye[0].val,ke=Ce[0].val;for(he=1;he<ye.length&&$e===ke;he++)$e=Math.min($e,ye[he].val);for(he=1;he<Ce.length&&$e===ke;he++)ke=Math.max(ke,Ce[he].val);var Ne=Q.autorange,Ve=Ne==="reversed"||Ne==="min reversed"||Ne==="max reversed";if(!Ve&&Q.range){var Oe=l.simpleMap(Q.range,Q.r2l);Ve=Oe[1]<Oe[0]}Q.autorange==="reversed"&&(Q.autorange=!0);var Fe=Q.rangemode,ie=Fe==="tozero",we=Fe==="nonnegative",se=Q._length,ue=se/10,pe=0,le,Te,de,Me,Re,ze;for(he=0;he<ye.length;he++)for(le=ye[he],ge=0;ge<Ce.length;ge++)Te=Ce[ge],ze=Te.val-le.val-C(Q,le.val,Te.val),ze>0&&(Re=se-ne(le)-fe(Te),Re>ue?ze/Re>pe&&(de=le,Me=Te,pe=ze/Re):ze/se>pe&&(de={val:le.val,nopad:1},Me={val:Te.val,nopad:1},pe=ze/se));function We(qe,gt){return Math.max(qe,fe(gt))}if($e===ke){var ot=$e-1,dt=$e+1;if(ie)if($e===0)Se=[0,1];else{var Ge=($e>0?Ce:ye).reduce(We,0),Xe=$e/(1-Math.min(.5,Ge/se));Se=$e>0?[0,Xe]:[Xe,0]}else we?Se=[Math.max(0,ot),Math.max(1,dt)]:Se=[ot,dt]}else ie?(de.val>=0&&(de={val:0,nopad:1}),Me.val<=0&&(Me={val:0,nopad:1})):we&&(de.val-pe*ne(de)<0&&(de={val:0,nopad:1}),Me.val<=0&&(Me={val:1,nopad:1})),pe=(Me.val-de.val-C(Q,le.val,Te.val))/(se-ne(de)-fe(Me)),Se=[de.val-pe*ne(de),Me.val+pe*fe(Me)];return Se=K(Se,Q),Q.limitRange&&Q.limitRange(),Ve&&Se.reverse(),l.simpleMap(Se,Q.l2r||Number)}function C(ae,Q,he){var ge=0;if(ae.rangebreaks)for(var Se=ae.locateBreaks(Q,he),ce=0;ce<Se.length;ce++){var ne=Se[ce];ge+=ne.max-ne.min}return ge}function _(ae,Q,he){var ge=.05*Q._length,Se=Q._anchorAxis||{};if((Q.ticklabelposition||"").indexOf("inside")!==-1||(Se.ticklabelposition||"").indexOf("inside")!==-1){var ce=Q.isReversed();if(!ce){var ne=l.simpleMap(Q.range,Q.r2l);ce=ne[1]<ne[0]}ce&&(he=!he)}var fe=0;return v(ae,Q._id)||(fe=S(ae,Q,he)),ge=Math.max(fe,ge),Q.constrain==="domain"&&Q._inputDomain&&(ge*=(Q._inputDomain[1]-Q._inputDomain[0])/(Q.domain[1]-Q.domain[0])),function(ye){return ye.nopad?0:ye.pad+(ye.extrapad?ge:fe)}}var $=3;function S(ae,Q,he){var ge=0,Se=Q._id.charAt(0)==="x";for(var ce in ae._plots){var ne=ae._plots[ce];if(!(Q._id!==ne.xaxis._id&&Q._id!==ne.yaxis._id)){var fe=(Se?ne.yaxis:ne.xaxis)||{};if((fe.ticklabelposition||"").indexOf("inside")!==-1&&(!he&&(fe.side==="left"||fe.side==="bottom")||he&&(fe.side==="top"||fe.side==="right"))){if(fe._vals){var X=l.deg2rad(fe._tickAngles[fe._id+"tick"]||0),ye=Math.abs(Math.cos(X)),Ce=Math.abs(Math.sin(X));if(!fe._vals[0].bb){var $e=fe._id+"tick",ke=fe._selections[$e];ke.each(function(we){var se=m.select(this),ue=se.select(".text-math-group");ue.empty()&&(we.bb=u.bBox(se.node()))})}for(var Ne=0;Ne<fe._vals.length;Ne++){var Ve=fe._vals[Ne],Oe=Ve.bb;if(Oe){var Fe=2*$+Oe.width,ie=2*$+Oe.height;ge=Math.max(ge,Se?Math.max(Fe*ye,ie*Ce):Math.max(ie*ye,Fe*Ce))}}}fe.ticks==="inside"&&fe.ticklabelposition==="inside"&&(ge+=fe.ticklen||0)}}}return ge}function O(ae,Q,he){var ge=Q._id,Se=ae._fullData,ce=ae._fullLayout,ne=[],fe=[],X,ye,Ce;function $e(Fe,ie){for(X=0;X<ie.length;X++){var we=Fe[ie[X]],se=(we._extremes||{})[ge];if(we.visible===!0&&se){for(ye=0;ye<se.min.length;ye++)Ce=se.min[ye],M(ne,Ce.val,Ce.pad,{extrapad:Ce.extrapad});for(ye=0;ye<se.max.length;ye++)Ce=se.max[ye],k(fe,Ce.val,Ce.pad,{extrapad:Ce.extrapad})}}}if($e(Se,Q._traceIndices),$e(ce.annotations||[],Q._annIndices||[]),$e(ce.shapes||[],Q._shapeIndices||[]),Q._matchGroup&&!he){for(var ke in Q._matchGroup)if(ke!==Q._id){var Ne=g(ae,ke),Ve=O(ae,Ne,!0),Oe=Q._length/Ne._length;for(ye=0;ye<Ve.min.length;ye++)Ce=Ve.min[ye],M(ne,Ce.val,Ce.pad*Oe,{extrapad:Ce.extrapad});for(ye=0;ye<Ve.max.length;ye++)Ce=Ve.max[ye],k(fe,Ce.val,Ce.pad*Oe,{extrapad:Ce.extrapad})}}return{min:ne,max:fe}}function D(ae,Q,he){if(Q.setScale(),Q.autorange){Q.range=he?he.slice():x(ae,Q),Q._r=Q.range.slice(),Q._rl=l.simpleMap(Q._r,Q.r2l);var ge=Q._input,Se={};Se[Q._attr+".range"]=Q.range,Se[Q._attr+".autorange"]=Q.autorange,i.call("_storeDirectGUIEdit",ae.layout,ae._fullLayout._preGUI,Se),ge.range=Q.range.slice(),ge.autorange=Q.autorange}var ce=Q._anchorAxis;if(ce&&ce.rangeslider){var ne=ce.rangeslider[Q._name];ne&&ne.rangemode==="auto"&&(ne.range=x(ae,Q)),ce._input.rangeslider[Q._name]=l.extendFlat({},ne)}}function N(ae,Q,he){he||(he={}),ae._m||ae.setScale();var ge=[],Se=[],ce=Q.length,ne=he.padded||!1,fe=he.tozero&&(ae.type==="linear"||ae.type==="-"),X=ae.type==="log",ye=!1,Ce=he.vpadLinearized||!1,$e,ke,Ne,Ve,Oe,Fe,ie,we,se;function ue(We){if(Array.isArray(We))return ye=!0,function(dt){return Math.max(Number(We[dt]||0),0)};var ot=Math.max(Number(We||0),0);return function(){return ot}}var pe=ue((ae._m>0?he.ppadplus:he.ppadminus)||he.ppad||0),le=ue((ae._m>0?he.ppadminus:he.ppadplus)||he.ppad||0),Te=ue(he.vpadplus||he.vpad),de=ue(he.vpadminus||he.vpad);if(!ye){if(we=1/0,se=-1/0,X)for($e=0;$e<ce;$e++)ke=Q[$e],ke<we&&ke>0&&(we=ke),ke>se&&ke<c&&(se=ke);else for($e=0;$e<ce;$e++)ke=Q[$e],ke<we&&ke>-c&&(we=ke),ke>se&&ke<c&&(se=ke);Q=[we,se],ce=2}var Me={tozero:fe,extrapad:ne};function Re(We){Ne=Q[We],h(Ne)&&(Fe=pe(We),ie=le(We),Ce?(Ve=ae.c2l(Ne)-de(We),Oe=ae.c2l(Ne)+Te(We)):(we=Ne-de(We),se=Ne+Te(We),X&&we<se/10&&(we=se/10),Ve=ae.c2l(we),Oe=ae.c2l(se)),fe&&(Ve=Math.min(0,Ve),Oe=Math.max(0,Oe)),F(Ve)&&M(ge,Ve,ie,Me),F(Oe)&&k(Se,Oe,Fe,Me))}var ze=Math.min(6,ce);for($e=0;$e<ze;$e++)Re($e);for($e=ce-1;$e>=ze;$e--)Re($e);return{min:ge,max:Se,opts:he}}function M(ae,Q,he,ge){R(ae,Q,he,ge,H)}function k(ae,Q,he,ge){R(ae,Q,he,ge,j)}function R(ae,Q,he,ge,Se){for(var ce=ge.tozero,ne=ge.extrapad,fe=!0,X=0;X<ae.length&&fe;X++){var ye=ae[X];if(Se(ye.val,Q)&&ye.pad>=he&&(ye.extrapad||!ne)){fe=!1;break}else Se(Q,ye.val)&&ye.pad<=he&&(ne||!ye.extrapad)&&(ae.splice(X,1),X--)}if(fe){var Ce=ce&&Q===0;ae.push({val:Q,pad:Ce?0:he,extrapad:Ce?!1:ne})}}function F(ae){return h(ae)&&Math.abs(ae)<c}function H(ae,Q){return ae<=Q}function j(ae,Q){return ae>=Q}function P(ae,Q){var he=Q.autorangeoptions;return he&&he.minallowed!==void 0&&J(Q,he.minallowed,he.maxallowed)?he.minallowed:he&&he.clipmin!==void 0&&J(Q,he.clipmin,he.clipmax)?Math.max(ae,Q.d2l(he.clipmin)):ae}function ee(ae,Q){var he=Q.autorangeoptions;return he&&he.maxallowed!==void 0&&J(Q,he.minallowed,he.maxallowed)?he.maxallowed:he&&he.clipmax!==void 0&&J(Q,he.clipmin,he.clipmax)?Math.min(ae,Q.d2l(he.clipmax)):ae}function J(ae,Q,he){return Q!==void 0&&he!==void 0?(Q=ae.d2l(Q),he=ae.d2l(he),Q<he):!0}function K(ae,Q){if(!Q||!Q.autorangeoptions)return ae;var he=ae[0],ge=ae[1],Se=Q.autorangeoptions.include;if(Se!==void 0){var ce=Q.d2l(he),ne=Q.d2l(ge);l.isArrayOrTypedArray(Se)||(Se=[Se]);for(var fe=0;fe<Se.length;fe++){var X=Q.d2l(Se[fe]);ce>=X&&(ce=X,he=X),ne<=X&&(ne=X,ge=X)}}return he=P(he,Q),ge=ee(ge,Q),[he,ge]}},3074:function(L){L.exports=function(s,m,h){var l,c;if(h){var i=m==="reversed"||m==="min reversed"||m==="max reversed";l=h[i?1:0],c=h[i?0:1]}var u=s("autorangeoptions.minallowed",c===null?l:void 0),d=s("autorangeoptions.maxallowed",l===null?c:void 0);u===void 0&&s("autorangeoptions.clipmin"),d===void 0&&s("autorangeoptions.clipmax"),s("autorangeoptions.include")}},9298:function(L,A,s){var m=s(9898),h=s(2770),l=s(4875),c=s(3972),i=s(1828),u=i.strTranslate,d=s(3893),g=s(2998),v=s(7901),x=s(1424),C=s(3838),_=s(6287),$=s(606),S=$.ONEMAXYEAR,O=$.ONEAVGYEAR,D=$.ONEMINYEAR,N=$.ONEMAXQUARTER,M=$.ONEAVGQUARTER,k=$.ONEMINQUARTER,R=$.ONEMAXMONTH,F=$.ONEAVGMONTH,H=$.ONEMINMONTH,j=$.ONEWEEK,P=$.ONEDAY,ee=P/2,J=$.ONEHOUR,K=$.ONEMIN,ae=$.ONESEC,Q=$.MINUS_SIGN,he=$.BADNUM,ge={K:"zeroline"},Se={K:"gridline",L:"path"},ce={K:"minor-gridline",L:"path"},ne={K:"tick",L:"path"},fe={K:"tick",L:"text"},X={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},ye=s(8783),Ce=ye.MID_SHIFT,$e=ye.CAP_SHIFT,ke=ye.LINE_SPACING,Ne=ye.OPPOSITE_SIDE,Ve=3,Oe=L.exports={};Oe.setConvert=s(1994);var Fe=s(4322),ie=s(1675),we=ie.idSort,se=ie.isLinked;Oe.id2name=ie.id2name,Oe.name2id=ie.name2id,Oe.cleanId=ie.cleanId,Oe.list=ie.list,Oe.listIds=ie.listIds,Oe.getFromId=ie.getFromId,Oe.getFromTrace=ie.getFromTrace;var ue=s(1739);Oe.getAutoRange=ue.getAutoRange,Oe.findExtremes=ue.findExtremes;var pe=1e-4;function le(He){var De=(He[1]-He[0])*pe;return[He[0]-De,He[1]+De]}Oe.coerceRef=function(He,De,St,kt,Pt,Bt){var Ut=kt.charAt(kt.length-1),Ot=St._fullLayout._subplots[Ut+"axis"],_t=kt+"ref",qt={};return Pt||(Pt=Ot[0]||(typeof Bt=="string"?Bt:Bt[0])),Bt||(Bt=Pt),Ot=Ot.concat(Ot.map(function(cn){return cn+" domain"})),qt[_t]={valType:"enumerated",values:Ot.concat(Bt?typeof Bt=="string"?[Bt]:Bt:[]),dflt:Pt},i.coerce(He,De,qt,_t)},Oe.getRefType=function(He){return He===void 0?He:He==="paper"?"paper":He==="pixel"?"pixel":/( domain)$/.test(He)?"domain":"range"},Oe.coercePosition=function(He,De,St,kt,Pt,Bt){var Ut,Ot,_t=Oe.getRefType(kt);if(_t!=="range")Ut=i.ensureNumber,Ot=St(Pt,Bt);else{var qt=Oe.getFromId(De,kt);Bt=qt.fraction2r(Bt),Ot=St(Pt,Bt),Ut=qt.cleanPos}He[Pt]=Ut(Ot)},Oe.cleanPosition=function(He,De,St){var kt=St==="paper"||St==="pixel"?i.ensureNumber:Oe.getFromId(De,St).cleanPos;return kt(He)},Oe.redrawComponents=function(He,De){De=De||Oe.listIds(He);var St=He._fullLayout;function kt(Pt,Bt,Ut,Ot){for(var _t=c.getComponentMethod(Pt,Bt),qt={},cn=0;cn<De.length;cn++)for(var Qt=St[Oe.id2name(De[cn])],nn=Qt[Ut],Sn=0;Sn<nn.length;Sn++){var bn=nn[Sn];if(!qt[bn]&&(_t(He,bn),qt[bn]=1,Ot))return}}kt("annotations","drawOne","_annIndices"),kt("shapes","drawOne","_shapeIndices"),kt("images","draw","_imgIndices",!0),kt("selections","drawOne","_selectionIndices")};var Te=Oe.getDataConversions=function(He,De,St,kt){var Pt,Bt=St==="x"||St==="y"||St==="z"?St:kt;if(Array.isArray(Bt)){if(Pt={type:Fe(kt,void 0,{autotypenumbers:He._fullLayout.autotypenumbers}),_categories:[]},Oe.setConvert(Pt),Pt.type==="category")for(var Ut=0;Ut<kt.length;Ut++)Pt.d2c(kt[Ut])}else Pt=Oe.getFromTrace(He,De,Bt);return Pt?{d2c:Pt.d2c,c2d:Pt.c2d}:Bt==="ids"?{d2c:Me,c2d:Me}:{d2c:de,c2d:de}};function de(He){return+He}function Me(He){return String(He)}Oe.getDataToCoordFunc=function(He,De,St,kt){return Te(He,De,St,kt).d2c},Oe.counterLetter=function(He){var De=He.charAt(0);if(De==="x")return"y";if(De==="y")return"x"},Oe.minDtick=function(He,De,St,kt){["log","category","multicategory"].indexOf(He.type)!==-1||!kt?He._minDtick=0:He._minDtick===void 0?(He._minDtick=De,He._forceTick0=St):He._minDtick&&((He._minDtick/De+1e-6)%1<2e-6&&((St-He._forceTick0)/De%1+1.000001)%1<2e-6?(He._minDtick=De,He._forceTick0=St):((De/He._minDtick+1e-6)%1>2e-6||((St-He._forceTick0)/He._minDtick%1+1.000001)%1>2e-6)&&(He._minDtick=0))},Oe.saveRangeInitial=function(He,De){for(var St=Oe.list(He,"",!0),kt=!1,Pt=0;Pt<St.length;Pt++){var Bt=St[Pt],Ut=Bt._rangeInitial0===void 0&&Bt._rangeInitial1===void 0,Ot=Ut||Bt.range[0]!==Bt._rangeInitial0||Bt.range[1]!==Bt._rangeInitial1,_t=Bt.autorange;(Ut&&_t!==!0||De&&Ot)&&(Bt._rangeInitial0=_t==="min"||_t==="max reversed"?void 0:Bt.range[0],Bt._rangeInitial1=_t==="max"||_t==="min reversed"?void 0:Bt.range[1],Bt._autorangeInitial=_t,kt=!0)}return kt},Oe.saveShowSpikeInitial=function(He,De){for(var St=Oe.list(He,"",!0),kt=!1,Pt="on",Bt=0;Bt<St.length;Bt++){var Ut=St[Bt],Ot=Ut._showSpikeInitial===void 0,_t=Ot||Ut.showspikes!==Ut._showspikes;(Ot||De&&_t)&&(Ut._showSpikeInitial=Ut.showspikes,kt=!0),Pt==="on"&&!Ut.showspikes&&(Pt="off")}return He._fullLayout._cartesianSpikesEnabled=Pt,kt},Oe.autoBin=function(He,De,St,kt,Pt,Bt){var Ut=i.aggNums(Math.min,null,He),Ot=i.aggNums(Math.max,null,He);if(De.type==="category"||De.type==="multicategory")return{start:Ut-.5,end:Ot+.5,size:Math.max(1,Math.round(Bt)||1),_dataSpan:Ot-Ut};Pt||(Pt=De.calendar);var _t;if(De.type==="log"?_t={type:"linear",range:[Ut,Ot]}:_t={type:De.type,range:i.simpleMap([Ut,Ot],De.c2r,0,Pt),calendar:Pt},Oe.setConvert(_t),Bt=Bt&&_.dtick(Bt,_t.type),Bt)_t.dtick=Bt,_t.tick0=_.tick0(void 0,_t.type,Pt);else{var qt;if(St)qt=(Ot-Ut)/St;else{var cn=i.distinctVals(He),Qt=Math.pow(10,Math.floor(Math.log(cn.minDiff)/Math.LN10)),nn=Qt*i.roundUp(cn.minDiff/Qt,[.9,1.9,4.9,9.9],!0);qt=Math.max(nn,2*i.stdev(He)/Math.pow(He.length,kt?.25:.4)),h(qt)||(qt=1)}Oe.autoTicks(_t,qt)}var Sn=_t.dtick,bn=Oe.tickIncrement(Oe.tickFirst(_t),Sn,"reverse",Pt),gn,Qn;if(typeof Sn=="number")bn=Re(bn,He,_t,Ut,Ot),Qn=1+Math.floor((Ot-bn)/Sn),gn=bn+Qn*Sn;else for(_t.dtick.charAt(0)==="M"&&(bn=ze(bn,He,Sn,Ut,Pt)),gn=bn,Qn=0;gn<=Ot;)gn=Oe.tickIncrement(gn,Sn,!1,Pt),Qn++;return{start:De.c2r(bn,0,Pt),end:De.c2r(gn,0,Pt),size:Sn,_dataSpan:Ot-Ut}};function Re(He,De,St,kt,Pt){var Bt=0,Ut=0,Ot=0,_t=0;function qt(Sn){return(1+(Sn-He)*100/St.dtick)%100<2}for(var cn=0;cn<De.length;cn++)De[cn]%1===0?Ot++:h(De[cn])||_t++,qt(De[cn])&&Bt++,qt(De[cn]+St.dtick/2)&&Ut++;var Qt=De.length-_t;if(Ot===Qt&&St.type!=="date")St.dtick<1?He=kt-.5*St.dtick:(He-=.5,He+St.dtick<kt&&(He+=St.dtick));else if(Ut<Qt*.1&&(Bt>Qt*.3||qt(kt)||qt(Pt))){var nn=St.dtick/2;He+=He+nn<kt?nn:-nn}return He}function ze(He,De,St,kt,Pt){var Bt=i.findExactDates(De,Pt),Ut=.8;if(Bt.exactDays>Ut){var Ot=Number(St.substr(1));Bt.exactYears>Ut&&Ot%12===0?He=Oe.tickIncrement(He,"M6","reverse")+P*1.5:Bt.exactMonths>Ut?He=Oe.tickIncrement(He,"M1","reverse")+P*15.5:He-=ee;var _t=Oe.tickIncrement(He,St);if(_t<=kt)return _t}return He}Oe.prepMinorTicks=function(He,De,St){if(!De.minor.dtick){delete He.dtick;var kt=De.dtick&&h(De._tmin),Pt;if(kt){var Bt=Oe.tickIncrement(De._tmin,De.dtick,!0);Pt=[De._tmin,Bt*.99+De._tmin*.01]}else{var Ut=i.simpleMap(De.range,De.r2l);Pt=[Ut[0],.8*Ut[0]+.2*Ut[1]]}if(He.range=i.simpleMap(Pt,De.l2r),He._isMinor=!0,Oe.prepTicks(He,St),kt){var Ot=h(De.dtick),_t=h(He.dtick),qt=Ot?De.dtick:+De.dtick.substring(1),cn=_t?He.dtick:+He.dtick.substring(1);Ot&&_t?We(qt,cn)?qt===2*j&&cn===2*P&&(He.dtick=j):qt===2*j&&cn===3*P?He.dtick=j:qt===j&&!(De._input.minor||{}).nticks?He.dtick=P:ot(qt/cn,2.5)?He.dtick=qt/2:He.dtick=qt:String(De.dtick).charAt(0)==="M"?_t?He.dtick="M1":We(qt,cn)?qt>=12&&cn===2&&(He.dtick="M3"):He.dtick=De.dtick:String(He.dtick).charAt(0)==="L"?String(De.dtick).charAt(0)==="L"?We(qt,cn)||(He.dtick=ot(qt/cn,2.5)?De.dtick/2:De.dtick):He.dtick="D1":He.dtick==="D2"&&+De.dtick>1&&(He.dtick=1)}He.range=De.range}De.minor._tick0Init===void 0&&(He.tick0=De.tick0)};function We(He,De){return Math.abs((He/De+.5)%1-.5)<.001}function ot(He,De){return Math.abs(He/De-1)<.001}Oe.prepTicks=function(He,De){var St=i.simpleMap(He.range,He.r2l,void 0,void 0,De);if(He.tickmode==="auto"||!He.dtick){var kt=He.nticks,Pt;kt||(He.type==="category"||He.type==="multicategory"?(Pt=He.tickfont?i.bigFont(He.tickfont.size||12):15,kt=He._length/Pt):(Pt=He._id.charAt(0)==="y"?40:80,kt=i.constrain(He._length/Pt,4,9)+1),He._name==="radialaxis"&&(kt*=2)),He.minor&&He.minor.tickmode!=="array"||He.tickmode==="array"&&(kt*=100),He._roughDTick=Math.abs(St[1]-St[0])/kt,Oe.autoTicks(He,He._roughDTick),He._minDtick>0&&He.dtick<He._minDtick*2&&(He.dtick=He._minDtick,He.tick0=He.l2r(He._forceTick0))}He.ticklabelmode==="period"&&Ge(He),He.tick0||(He.tick0=He.type==="date"?"2000-01-01":0),He.type==="date"&&He.dtick<.1&&(He.dtick=.1),sn(He)};function dt(He){return+He.substring(1)}function Ge(He){var De;function St(){return!(h(He.dtick)||He.dtick.charAt(0)!=="M")}var kt=St(),Pt=Oe.getTickFormat(He);if(Pt){var Bt=He._dtickInit!==He.dtick;/%[fLQsSMX]/.test(Pt)||(/%[HI]/.test(Pt)?(De=J,Bt&&!kt&&He.dtick<J&&(He.dtick=J)):/%p/.test(Pt)?(De=ee,Bt&&!kt&&He.dtick<ee&&(He.dtick=ee)):/%[Aadejuwx]/.test(Pt)?(De=P,Bt&&!kt&&He.dtick<P&&(He.dtick=P)):/%[UVW]/.test(Pt)?(De=j,Bt&&!kt&&He.dtick<j&&(He.dtick=j)):/%[Bbm]/.test(Pt)?(De=F,Bt&&(kt?dt(He.dtick)<1:He.dtick<H)&&(He.dtick="M1")):/%[q]/.test(Pt)?(De=M,Bt&&(kt?dt(He.dtick)<3:He.dtick<k)&&(He.dtick="M3")):/%[Yy]/.test(Pt)&&(De=O,Bt&&(kt?dt(He.dtick)<12:He.dtick<D)&&(He.dtick="M12")))}kt=St(),kt&&He.tick0===He._dowTick0&&(He.tick0=He._rawTick0),He._definedDelta=De}function Xe(He,De,St){for(var kt=0;kt<He.length;kt++){var Pt=He[kt].value,Bt=kt,Ut=kt+1;kt<He.length-1?(Bt=kt,Ut=kt+1):kt>0?(Bt=kt-1,Ut=kt):(Bt=kt,Ut=kt);var Ot=He[Bt].value,_t=He[Ut].value,qt=Math.abs(_t-Ot),cn=St||qt,Qt=0;cn>=D?qt>=D&&qt<=S?Qt=qt:Qt=O:St===M&&cn>=k?qt>=k&&qt<=N?Qt=qt:Qt=M:cn>=H?qt>=H&&qt<=R?Qt=qt:Qt=F:St===j&&cn>=j?Qt=j:cn>=P?Qt=P:St===ee&&cn>=ee?Qt=ee:St===J&&cn>=J&&(Qt=J);var nn;Qt>=qt&&(Qt=qt,nn=!0);var Sn=Pt+Qt;if(De.rangebreaks&&Qt>0){for(var bn=84,gn=0,Qn=0;Qn<bn;Qn++){var Bn=(Qn+.5)/bn;De.maskBreaks(Pt*(1-Bn)+Bn*Sn)!==he&&gn++}Qt*=gn/bn,Qt||(He[kt].drop=!0),nn&&qt>j&&(Qt=qt)}(Qt>0||kt===0)&&(He[kt].periodX=Pt+Qt/2)}}Oe.calcTicks=function(De,St){for(var kt=De.type,Pt=De.calendar,Bt=De.ticklabelstep,Ut=De.ticklabelmode==="period",Ot=i.simpleMap(De.range,De.r2l,void 0,void 0,St),_t=Ot[1]<Ot[0],qt=Math.min(Ot[0],Ot[1]),cn=Math.max(Ot[0],Ot[1]),Qt=Math.max(1e3,De._length||0),nn=[],Sn=[],bn=[],gn=[],Qn=De.minor&&(De.minor.ticks||De.minor.showgrid),Bn=1;Bn>=(Qn?0:1);Bn--){var Hr=!Bn;Bn?(De._dtickInit=De.dtick,De._tick0Init=De.tick0):(De.minor._dtickInit=De.minor.dtick,De.minor._tick0Init=De.minor.tick0);var fr=Bn?De:i.extendFlat({},De,De.minor);if(Hr?Oe.prepMinorTicks(fr,De,St):Oe.prepTicks(fr,St),fr.tickmode==="array"){Bn?(bn=[],nn=ut(De)):(gn=[],Sn=ut(De));continue}if(fr.tickmode==="sync"){bn=[],nn=gt(De);continue}var Vr=le(Ot),ar=Vr[0],cr=Vr[1],Kr=h(fr.dtick),qr=kt==="log"&&!(Kr||fr.dtick.charAt(0)==="L"),So=Oe.tickFirst(fr,St);if(Bn){if(De._tmin=So,So<ar!==_t)break;(kt==="category"||kt==="multicategory")&&(cr=_t?Math.max(-.5,cr):Math.min(De._categories.length-.5,cr))}var wa=null,bo=So,Zo;if(Bn){var oa;Kr?oa=De.dtick:kt==="date"?typeof De.dtick=="string"&&De.dtick.charAt(0)==="M"&&(oa=F*De.dtick.substring(1)):oa=De._roughDTick,Zo=Math.round((De.r2l(bo)-De.r2l(De.tick0))/oa)-1}var Va=fr.dtick;for(fr.rangebreaks&&fr._tick0Init!==fr.tick0&&(bo=or(bo,De),_t||(bo=Oe.tickIncrement(bo,Va,!_t,Pt))),Bn&&Ut&&(bo=Oe.tickIncrement(bo,Va,!_t,Pt),Zo--);_t?bo>=cr:bo<=cr;bo=Oe.tickIncrement(bo,Va,_t,Pt)){if(Bn&&Zo++,fr.rangebreaks&&!_t){if(bo<ar)continue;if(fr.maskBreaks(bo)===he&&or(bo,fr)>=cn)break}if(bn.length>Qt||bo===wa)break;wa=bo;var Yo={value:bo};Bn?(qr&&bo!==(bo|0)&&(Yo.simpleLabel=!0),Bt>1&&Zo%Bt&&(Yo.skipLabel=!0),bn.push(Yo)):(Yo.minor=!0,gn.push(Yo))}}if(Qn){var Fa=De.minor.ticks==="inside"&&De.ticks==="outside"||De.minor.ticks==="outside"&&De.ticks==="inside";if(!Fa){for(var Os=bn.map(function(To){return To.value}),Zl=[],Ys=0;Ys<gn.length;Ys++){var Ec=gn[Ys],ks=Ec.value;if(Os.indexOf(ks)===-1){for(var Wa=!1,ss=0;!Wa&&ss<bn.length;ss++)1e7+bn[ss].value===1e7+ks&&(Wa=!0);Wa||Zl.push(Ec)}}gn=Zl}}Ut&&Xe(bn,De,De._definedDelta);var Ya;if(De.rangebreaks){var _c=De._id.charAt(0)==="y",Lr=1;De.tickmode==="auto"&&(Lr=De.tickfont?De.tickfont.size:12);var jl=NaN;for(Ya=bn.length-1;Ya>-1;Ya--){if(bn[Ya].drop){bn.splice(Ya,1);continue}bn[Ya].value=or(bn[Ya].value,De);var Ka=De.c2p(bn[Ya].value);(_c?jl>Ka-Lr:jl<Ka+Lr)?bn.splice(_t?Ya+1:Ya,1):jl=Ka}}xr(De)&&Math.abs(Ot[1]-Ot[0])===360&&bn.pop(),De._tmax=(bn[bn.length-1]||{}).value,De._prevDateHead="",De._inCalcTicks=!0;var yi,Hf=function(To){To.text="",De._prevDateHead=yi};bn=bn.concat(gn);var Xa,Zc;for(Ya=0;Ya<bn.length;Ya++){var zf=bn[Ya].minor,jc=bn[Ya].value;zf?Sn.push({x:jc,minor:!0}):(yi=De._prevDateHead,Xa=Oe.tickText(De,jc,!1,bn[Ya].simpleLabel),Zc=bn[Ya].periodX,Zc!==void 0&&(Xa.periodX=Zc,(Zc>cn||Zc<qt)&&(Zc>cn&&(Xa.periodX=cn),Zc<qt&&(Xa.periodX=qt),Hf(Xa))),bn[Ya].skipLabel&&Hf(Xa),nn.push(Xa))}return nn=nn.concat(Sn),De._inCalcTicks=!1,Ut&&nn.length&&(nn[0].noTick=!0),nn};function qe(He,De){return He.rangebreaks&&(De=De.filter(function(St){return He.maskBreaks(St.x)!==he})),De}function gt(He){var De=He._mainAxis,St=[];if(De._vals){for(var kt=0;kt<De._vals.length;kt++)if(!De._vals[kt].noTick){var Pt=De.l2p(De._vals[kt].x),Bt=He.p2l(Pt),Ut=Oe.tickText(He,Bt);De._vals[kt].minor&&(Ut.minor=!0,Ut.text=""),St.push(Ut)}}return St=qe(He,St),St}function ut(He){var De=i.simpleMap(He.range,He.r2l),St=le(De),kt=Math.min(St[0],St[1]),Pt=Math.max(St[0],St[1]),Bt=He.type==="category"?He.d2l_noadd:He.d2l;He.type==="log"&&String(He.dtick).charAt(0)!=="L"&&(He.dtick="L"+Math.pow(10,Math.floor(Math.min(He.range[0],He.range[1]))-1));for(var Ut=[],Ot=0;Ot<=1;Ot++)if(!(Ot&&!He.minor)){var _t=Ot?He.minor.tickvals:He.tickvals,qt=Ot?[]:He.ticktext;if(_t){Array.isArray(qt)||(qt=[]);for(var cn=0;cn<_t.length;cn++){var Qt=Bt(_t[cn]);if(Qt>kt&&Qt<Pt){var nn=qt[cn]===void 0?Oe.tickText(He,Qt):Zn(He,Qt,String(qt[cn]));Ot&&(nn.minor=!0,nn.text=""),Ut.push(nn)}}}}return Ut=qe(He,Ut),Ut}var tt=[2,5,10],Ct=[1,2,3,6,12],Gt=[1,2,5,10,15,30],Yt=[1,2,3,7,14],Nt=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Ft=[-.301,0,.301,.699,1],pn=[15,30,45,90,180];function _n(He,De,St){return De*i.roundUp(He/De,St)}Oe.autoTicks=function(He,De,St){var kt;function Pt(Qt){return Math.pow(Qt,Math.floor(Math.log(De)/Math.LN10))}if(He.type==="date"){He.tick0=i.dateTick0(He.calendar,0);var Bt=2*De;if(Bt>O)De/=O,kt=Pt(10),He.dtick="M"+12*_n(De,kt,tt);else if(Bt>F)De/=F,He.dtick="M"+_n(De,1,Ct);else if(Bt>P){if(He.dtick=_n(De,P,He._hasDayOfWeekBreaks?[1,2,7,14]:Yt),!St){var Ut=Oe.getTickFormat(He),Ot=He.ticklabelmode==="period";Ot&&(He._rawTick0=He.tick0),/%[uVW]/.test(Ut)?He.tick0=i.dateTick0(He.calendar,2):He.tick0=i.dateTick0(He.calendar,1),Ot&&(He._dowTick0=He.tick0)}}else Bt>J?He.dtick=_n(De,J,Ct):Bt>K?He.dtick=_n(De,K,Gt):Bt>ae?He.dtick=_n(De,ae,Gt):(kt=Pt(10),He.dtick=_n(De,kt,tt))}else if(He.type==="log"){He.tick0=0;var _t=i.simpleMap(He.range,He.r2l);if(He._isMinor&&(De*=1.5),De>.7)He.dtick=Math.ceil(De);else if(Math.abs(_t[1]-_t[0])<1){var qt=1.5*Math.abs((_t[1]-_t[0])/De);De=Math.abs(Math.pow(10,_t[1])-Math.pow(10,_t[0]))/qt,kt=Pt(10),He.dtick="L"+_n(De,kt,tt)}else He.dtick=De>.3?"D2":"D1"}else He.type==="category"||He.type==="multicategory"?(He.tick0=0,He.dtick=Math.ceil(Math.max(De,1))):xr(He)?(He.tick0=0,kt=1,He.dtick=_n(De,kt,pn)):(He.tick0=0,kt=Pt(10),He.dtick=_n(De,kt,tt));if(He.dtick===0&&(He.dtick=1),!h(He.dtick)&&typeof He.dtick!="string"){var cn=He.dtick;throw He.dtick=1,"ax.dtick error: "+String(cn)}};function sn(He){var De=He.dtick;if(He._tickexponent=0,!h(De)&&typeof De!="string"&&(De=1),(He.type==="category"||He.type==="multicategory")&&(He._tickround=null),He.type==="date"){var St=He.r2l(He.tick0),kt=He.l2r(St).replace(/(^-|i)/g,""),Pt=kt.length;if(String(De).charAt(0)==="M")Pt>10||kt.substr(5)!=="01-01"?He._tickround="d":He._tickround=+De.substr(1)%12===0?"y":"m";else if(De>=P&&Pt<=10||De>=P*15)He._tickround="d";else if(De>=K&&Pt<=16||De>=J)He._tickround="M";else if(De>=ae&&Pt<=19||De>=K)He._tickround="S";else{var Bt=He.l2r(St+De).replace(/^-/,"").length;He._tickround=Math.max(Pt,Bt)-20,He._tickround<0&&(He._tickround=4)}}else if(h(De)||De.charAt(0)==="L"){var Ut=He.range.map(He.r2d||Number);h(De)||(De=Number(De.substr(1))),He._tickround=2-Math.floor(Math.log(De)/Math.LN10+.01);var Ot=Math.max(Math.abs(Ut[0]),Math.abs(Ut[1])),_t=Math.floor(Math.log(Ot)/Math.LN10+.01),qt=He.minexponent===void 0?3:He.minexponent;Math.abs(_t)>qt&&(vt(He.exponentformat)&&!$t(_t)?He._tickexponent=3*Math.round((_t-1)/3):He._tickexponent=_t)}else He._tickround=null}Oe.tickIncrement=function(He,De,St,kt){var Pt=St?-1:1;if(h(De))return i.increment(He,Pt*De);var Bt=De.charAt(0),Ut=Pt*Number(De.substr(1));if(Bt==="M")return i.incrementMonth(He,Ut,kt);if(Bt==="L")return Math.log(Math.pow(10,He)+Ut)/Math.LN10;if(Bt==="D"){var Ot=De==="D2"?Ft:Nt,_t=He+Pt*.01,qt=i.roundUp(i.mod(_t,1),Ot,St);return Math.floor(_t)+Math.log(m.round(Math.pow(10,qt),1))/Math.LN10}throw"unrecognized dtick "+String(De)},Oe.tickFirst=function(He,De){var St=He.r2l||Number,kt=i.simpleMap(He.range,St,void 0,void 0,De),Pt=kt[1]<kt[0],Bt=Pt?Math.floor:Math.ceil,Ut=le(kt)[0],Ot=He.dtick,_t=St(He.tick0);if(h(Ot)){var qt=Bt((Ut-_t)/Ot)*Ot+_t;return(He.type==="category"||He.type==="multicategory")&&(qt=i.constrain(qt,0,He._categories.length-1)),qt}var cn=Ot.charAt(0),Qt=Number(Ot.substr(1));if(cn==="M"){for(var nn=0,Sn=_t,bn,gn,Qn;nn<10;){if(bn=Oe.tickIncrement(Sn,Ot,Pt,He.calendar),(bn-Ut)*(Sn-Ut)<=0)return Pt?Math.min(Sn,bn):Math.max(Sn,bn);gn=(Ut-(Sn+bn)/2)/(bn-Sn),Qn=cn+(Math.abs(Math.round(gn))||1)*Qt,Sn=Oe.tickIncrement(Sn,Qn,gn<0?!Pt:Pt,He.calendar),nn++}return i.error("tickFirst did not converge",He),Sn}else{if(cn==="L")return Math.log(Bt((Math.pow(10,Ut)-_t)/Qt)*Qt+_t)/Math.LN10;if(cn==="D"){var Bn=Ot==="D2"?Ft:Nt,Hr=i.roundUp(i.mod(Ut,1),Bn,Pt);return Math.floor(Ut)+Math.log(m.round(Math.pow(10,Hr),1))/Math.LN10}else throw"unrecognized dtick "+String(Ot)}},Oe.tickText=function(He,De,St,kt){var Pt=Zn(He,De),Bt=He.tickmode==="array",Ut=St||Bt,Ot=He.type,_t=Ot==="category"?He.d2l_noadd:He.d2l,qt;if(Bt&&Array.isArray(He.ticktext)){var cn=i.simpleMap(He.range,He.r2l),Qt=(Math.abs(cn[1]-cn[0])-(He._lBreaks||0))/1e4;for(qt=0;qt<He.ticktext.length&&!(Math.abs(De-_t(He.tickvals[qt]))<Qt);qt++);if(qt<He.ticktext.length)return Pt.text=String(He.ticktext[qt]),Pt}function nn(Qn){if(Qn===void 0)return!0;if(St)return Qn==="none";var Bn={first:He._tmin,last:He._tmax}[Qn];return Qn!=="all"&&De!==Bn}var Sn=St?"never":He.exponentformat!=="none"&&nn(He.showexponent)?"hide":"";if(Ot==="date"?an(He,Pt,St,Ut):Ot==="log"?Cn(He,Pt,St,Ut,Sn):Ot==="category"?jn(He,Pt):Ot==="multicategory"?Wn(He,Pt,St):xr(He)?lt(He,Pt,St,Ut,Sn):wn(He,Pt,St,Ut,Sn),kt||(He.tickprefix&&!nn(He.showtickprefix)&&(Pt.text=He.tickprefix+Pt.text),He.ticksuffix&&!nn(He.showticksuffix)&&(Pt.text+=He.ticksuffix)),He.labelalias&&He.labelalias.hasOwnProperty(Pt.text)){var bn=He.labelalias[Pt.text];typeof bn=="string"&&(Pt.text=bn)}if(He.tickson==="boundaries"||He.showdividers){var gn=function(Qn){var Bn=He.l2p(Qn);return Bn>=0&&Bn<=He._length?Qn:null};Pt.xbnd=[gn(Pt.x-.5),gn(Pt.x+He.dtick-.5)]}return Pt},Oe.hoverLabelText=function(He,De,St){St&&(He=i.extendFlat({},He,{hoverformat:St}));var kt=Array.isArray(De)?De[0]:De,Pt=Array.isArray(De)?De[1]:void 0;if(Pt!==void 0&&Pt!==kt)return Oe.hoverLabelText(He,kt,St)+" - "+Oe.hoverLabelText(He,Pt,St);var Bt=He.type==="log"&&kt<=0,Ut=Oe.tickText(He,He.c2l(Bt?-kt:kt),"hover").text;return Bt?kt===0?"0":Q+Ut:Ut};function Zn(He,De,St){var kt=He.tickfont||{};return{x:De,dx:0,dy:0,text:St||"",fontSize:kt.size,font:kt.family,fontColor:kt.color}}function an(He,De,St,kt){var Pt=He._tickround,Bt=St&&He.hoverformat||Oe.getTickFormat(He);kt&&(h(Pt)?Pt=4:Pt={y:"m",m:"d",d:"M",M:"S",S:4}[Pt]);var Ut=i.formatDate(De.x,Bt,Pt,He._dateFormat,He.calendar,He._extraFormat),Ot,_t=Ut.indexOf(`
`);if(_t!==-1&&(Ot=Ut.substr(_t+1),Ut=Ut.substr(0,_t)),kt&&(Ut==="00:00:00"||Ut==="00:00"?(Ut=Ot,Ot=""):Ut.length===8&&(Ut=Ut.replace(/:00$/,""))),Ot)if(St)Pt==="d"?Ut+=", "+Ot:Ut=Ot+(Ut?", "+Ut:"");else if(!He._inCalcTicks||He._prevDateHead!==Ot)He._prevDateHead=Ot,Ut+="<br>"+Ot;else{var qt=wr(He),cn=He._trueSide||He.side;(!qt&&cn==="top"||qt&&cn==="bottom")&&(Ut+="<br> ")}De.text=Ut}function Cn(He,De,St,kt,Pt){var Bt=He.dtick,Ut=De.x,Ot=He.tickformat,_t=typeof Bt=="string"&&Bt.charAt(0);if(Pt==="never"&&(Pt=""),kt&&_t!=="L"&&(Bt="L3",_t="L"),Ot||_t==="L")De.text=Ze(Math.pow(10,Ut),He,Pt,kt);else if(h(Bt)||_t==="D"&&i.mod(Ut+.01,1)<.1){var qt=Math.round(Ut),cn=Math.abs(qt),Qt=He.exponentformat;Qt==="power"||vt(Qt)&&$t(qt)?(qt===0?De.text=1:qt===1?De.text="10":De.text="10<sup>"+(qt>1?"":Q)+cn+"</sup>",De.fontSize*=1.25):(Qt==="e"||Qt==="E")&&cn>2?De.text="1"+Qt+(qt>0?"+":Q)+cn:(De.text=Ze(Math.pow(10,Ut),He,"","fakehover"),Bt==="D1"&&He._id.charAt(0)==="y"&&(De.dy-=De.fontSize/6))}else if(_t==="D")De.text=String(Math.round(Math.pow(10,i.mod(Ut,1)))),De.fontSize*=.75;else throw"unrecognized dtick "+String(Bt);if(He.dtick==="D1"){var nn=String(De.text).charAt(0);(nn==="0"||nn==="1")&&(He._id.charAt(0)==="y"?De.dx-=De.fontSize/4:(De.dy+=De.fontSize/2,De.dx+=(He.range[1]>He.range[0]?1:-1)*De.fontSize*(Ut<0?.5:.25)))}}function jn(He,De){var St=He._categories[Math.round(De.x)];St===void 0&&(St=""),De.text=String(St)}function Wn(He,De,St){var kt=Math.round(De.x),Pt=He._categories[kt]||[],Bt=Pt[1]===void 0?"":String(Pt[1]),Ut=Pt[0]===void 0?"":String(Pt[0]);St?De.text=Ut+" - "+Bt:(De.text=Bt,De.text2=Ut)}function wn(He,De,St,kt,Pt){Pt==="never"?Pt="":He.showexponent==="all"&&Math.abs(De.x/He.dtick)<1e-6&&(Pt="hide"),De.text=Ze(De.x,He,Pt,kt)}function lt(He,De,St,kt,Pt){if(He.thetaunit==="radians"&&!St){var Bt=De.x/180;if(Bt===0)De.text="0";else{var Ut=ft(Bt);if(Ut[1]>=100)De.text=Ze(i.deg2rad(De.x),He,Pt,kt);else{var Ot=De.x<0;Ut[1]===1?Ut[0]===1?De.text="π":De.text=Ut[0]+"π":De.text=["<sup>",Ut[0],"</sup>","⁄","<sub>",Ut[1],"</sub>","π"].join(""),Ot&&(De.text=Q+De.text)}}}else De.text=Ze(De.x,He,Pt,kt)}function ft(He){function De(Ot,_t){return Math.abs(Ot-_t)<=1e-6}function St(Ot,_t){return De(_t,0)?Ot:St(_t,Ot%_t)}function kt(Ot){for(var _t=1;!De(Math.round(Ot*_t)/_t,Ot);)_t*=10;return _t}var Pt=kt(He),Bt=He*Pt,Ut=Math.abs(St(Bt,Pt));return[Math.round(Bt/Ut),Math.round(Pt/Ut)]}var wt=["f","p","n","μ","m","","k","M","G","T"];function vt(He){return He==="SI"||He==="B"}function $t(He){return He>14||He<-15}function Ze(He,De,St,kt){var Pt=He<0,Bt=De._tickround,Ut=St||De.exponentformat||"B",Ot=De._tickexponent,_t=Oe.getTickFormat(De),qt=De.separatethousands;if(kt){var cn={exponentformat:Ut,minexponent:De.minexponent,dtick:De.showexponent==="none"?De.dtick:h(He)&&Math.abs(He)||1,range:De.showexponent==="none"?De.range.map(De.r2d):[0,He||1]};sn(cn),Bt=(Number(cn._tickround)||0)+4,Ot=cn._tickexponent,De.hoverformat&&(_t=De.hoverformat)}if(_t)return De._numFormat(_t)(He).replace(/-/g,Q);var Qt=Math.pow(10,-Bt)/2;if(Ut==="none"&&(Ot=0),He=Math.abs(He),He<Qt)He="0",Pt=!1;else{if(He+=Qt,Ot&&(He*=Math.pow(10,-Ot),Bt+=Ot),Bt===0)He=String(Math.floor(He));else if(Bt<0){He=String(Math.round(He)),He=He.substr(0,He.length+Bt);for(var nn=Bt;nn<0;nn++)He+="0"}else{He=String(He);var Sn=He.indexOf(".")+1;Sn&&(He=He.substr(0,Sn+Bt).replace(/\.?0+$/,""))}He=i.numSeparate(He,De._separators,qt)}if(Ot&&Ut!=="hide"){vt(Ut)&&$t(Ot)&&(Ut="power");var bn;Ot<0?bn=Q+-Ot:Ut!=="power"?bn="+"+Ot:bn=String(Ot),Ut==="e"||Ut==="E"?He+=Ut+bn:Ut==="power"?He+="×10<sup>"+bn+"</sup>":Ut==="B"&&Ot===9?He+="B":vt(Ut)&&(He+=wt[Ot/3+5])}return Pt?Q+He:He}Oe.getTickFormat=function(He){var De;function St(_t){return typeof _t!="string"?_t:Number(_t.replace("M",""))*F}function kt(_t,qt){var cn=["L","D"];if(typeof _t==typeof qt){if(typeof _t=="number")return _t-qt;var Qt=cn.indexOf(_t.charAt(0)),nn=cn.indexOf(qt.charAt(0));return Qt===nn?Number(_t.replace(/(L|D)/g,""))-Number(qt.replace(/(L|D)/g,"")):Qt-nn}else return typeof _t=="number"?1:-1}function Pt(_t,qt,cn){var Qt=cn||function(bn){return bn},nn=qt[0],Sn=qt[1];return(!nn&&typeof nn!="number"||Qt(nn)<=Qt(_t))&&(!Sn&&typeof Sn!="number"||Qt(Sn)>=Qt(_t))}function Bt(_t,qt){var cn=qt[0]===null,Qt=qt[1]===null,nn=kt(_t,qt[0])>=0,Sn=kt(_t,qt[1])<=0;return(cn||nn)&&(Qt||Sn)}var Ut,Ot;if(He.tickformatstops&&He.tickformatstops.length>0)switch(He.type){case"date":case"linear":{for(De=0;De<He.tickformatstops.length;De++)if(Ot=He.tickformatstops[De],Ot.enabled&&Pt(He.dtick,Ot.dtickrange,St)){Ut=Ot;break}break}case"log":{for(De=0;De<He.tickformatstops.length;De++)if(Ot=He.tickformatstops[De],Ot.enabled&&Bt(He.dtick,Ot.dtickrange)){Ut=Ot;break}break}}return Ut?Ut.value:He.tickformat},Oe.getSubplots=function(He,De){var St=He._fullLayout._subplots,kt=St.cartesian.concat(St.gl2d||[]),Pt=De?Oe.findSubplotsWithAxis(kt,De):kt;return Pt.sort(function(Bt,Ut){var Ot=Bt.substr(1).split("y"),_t=Ut.substr(1).split("y");return Ot[0]===_t[0]?+Ot[1]-+_t[1]:+Ot[0]-+_t[0]}),Pt},Oe.findSubplotsWithAxis=function(He,De){for(var St=new RegExp(De._id.charAt(0)==="x"?"^"+De._id+"y":De._id+"$"),kt=[],Pt=0;Pt<He.length;Pt++){var Bt=He[Pt];St.test(Bt)&&kt.push(Bt)}return kt},Oe.makeClipPaths=function(He){var De=He._fullLayout;if(!De._hasOnlyLargeSploms){var St={_offset:0,_length:De.width,_id:""},kt={_offset:0,_length:De.height,_id:""},Pt=Oe.list(He,"x",!0),Bt=Oe.list(He,"y",!0),Ut=[],Ot,_t;for(Ot=0;Ot<Pt.length;Ot++)for(Ut.push({x:Pt[Ot],y:kt}),_t=0;_t<Bt.length;_t++)Ot===0&&Ut.push({x:St,y:Bt[_t]}),Ut.push({x:Pt[Ot],y:Bt[_t]});var qt=De._clips.selectAll(".axesclip").data(Ut,function(cn){return cn.x._id+cn.y._id});qt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(cn){return"clip"+De._uid+cn.x._id+cn.y._id}).append("rect"),qt.exit().remove(),qt.each(function(cn){m.select(this).select("rect").attr({x:cn.x._offset||0,y:cn.y._offset||0,width:cn.x._length||1,height:cn.y._length||1})})}},Oe.draw=function(He,De,St){var kt=He._fullLayout;De==="redraw"&&kt._paper.selectAll("g.subplot").each(function(_t){var qt=_t[0],cn=kt._plots[qt];if(cn){var Qt=cn.xaxis,nn=cn.yaxis;cn.xaxislayer.selectAll("."+Qt._id+"tick").remove(),cn.yaxislayer.selectAll("."+nn._id+"tick").remove(),cn.xaxislayer.selectAll("."+Qt._id+"tick2").remove(),cn.yaxislayer.selectAll("."+nn._id+"tick2").remove(),cn.xaxislayer.selectAll("."+Qt._id+"divider").remove(),cn.yaxislayer.selectAll("."+nn._id+"divider").remove(),cn.minorGridlayer&&cn.minorGridlayer.selectAll("path").remove(),cn.gridlayer&&cn.gridlayer.selectAll("path").remove(),cn.zerolinelayer&&cn.zerolinelayer.selectAll("path").remove(),kt._infolayer.select(".g-"+Qt._id+"title").remove(),kt._infolayer.select(".g-"+nn._id+"title").remove()}});var Pt=!De||De==="redraw"?Oe.listIds(He):De,Bt=Oe.list(He),Ut=Bt.filter(function(_t){return _t.autoshift}).map(function(_t){return _t.overlaying});Pt.map(function(_t){var qt=Oe.getFromId(He,_t);if(qt.tickmode==="sync"&&qt.overlaying){var cn=Pt.findIndex(function(Qt){return Qt===qt.overlaying});cn>=0&&Pt.unshift(Pt.splice(cn,1).shift())}});var Ot={false:{left:0,right:0}};return i.syncOrAsync(Pt.map(function(_t){return function(){if(_t){var qt=Oe.getFromId(He,_t);St||(St={}),St.axShifts=Ot,St.overlayingShiftedAx=Ut;var cn=Oe.drawOne(He,qt,St);return qt._shiftPusher&&vo(qt,qt._fullDepth||0,Ot,!0),qt._r=qt.range.slice(),qt._rl=i.simpleMap(qt._r,qt.r2l),cn}}}))},Oe.drawOne=function(He,De,St){St=St||{};var kt=St.axShifts||{},Pt=St.overlayingShiftedAx||[],Bt,Ut,Ot;De.setScale();var _t=He._fullLayout,qt=De._id,cn=qt.charAt(0),Qt=Oe.counterLetter(qt),nn=_t._plots[De._mainSubplot];if(!nn)return;if(De._shiftPusher=De.autoshift||Pt.indexOf(De._id)!==-1||Pt.indexOf(De.overlaying)!==-1,De._shiftPusher&De.anchor==="free"){var Sn=De.linewidth/2||0;De.ticks==="inside"&&(Sn+=De.ticklen),vo(De,Sn,kt,!0),vo(De,De.shift||0,kt,!1)}(St.skipTitle!==!0||De._shift===void 0)&&(De._shift=Cr(De,kt));var bn=nn[cn+"axislayer"],gn=De._mainLinePosition,Qn=gn+=De._shift,Bn=De._mainMirrorPosition,Hr=De._vals=Oe.calcTicks(De),fr=[De.mirror,Qn,Bn].join("_");for(Bt=0;Bt<Hr.length;Bt++)Hr[Bt].axInfo=fr;De._selections={},De._tickAngles&&(De._prevTickAngles=De._tickAngles),De._tickAngles={},De._depth=null;var Vr={};function ar(li){var Rs=qt+(li||"tick");return Vr[Rs]||(Vr[Rs]=Et(De,Rs)),Vr[Rs]}if(De.visible){var cr=Oe.makeTransTickFn(De),Kr=Oe.makeTransTickLabelFn(De),qr,So,wa=De.ticks==="inside",bo=De.ticks==="outside";if(De.tickson==="boundaries"){var Zo=ht(De,Hr);So=Oe.clipEnds(De,Zo),qr=wa?So:Zo}else So=Oe.clipEnds(De,Hr),qr=wa&&De.ticklabelmode!=="period"?So:Hr;var oa=De._gridVals=So,Va=Tt(De,Hr);if(!_t._hasOnlyLargeSploms){var Yo=De._subplotsWith,Fa={};for(Bt=0;Bt<Yo.length;Bt++){Ut=Yo[Bt],Ot=_t._plots[Ut];var Os=Ot[Qt+"axis"],Zl=Os._mainAxis._id;if(!Fa[Zl]){Fa[Zl]=1;var Ys=cn==="x"?"M0,"+Os._offset+"v"+Os._length:"M"+Os._offset+",0h"+Os._length;Oe.drawGrid(He,De,{vals:oa,counterAxis:Os,layer:Ot.gridlayer.select("."+qt),minorLayer:Ot.minorGridlayer.select("."+qt),path:Ys,transFn:cr}),Oe.drawZeroLine(He,De,{counterAxis:Os,layer:Ot.zerolinelayer,path:Ys,transFn:cr})}}}var Ec,ks=Oe.getTickSigns(De),Wa=Oe.getTickSigns(De,"minor");if(De.ticks||De.minor&&De.minor.ticks){var ss=Oe.makeTickPath(De,Qn,ks[2]),Ya=Oe.makeTickPath(De,Qn,Wa[2],{minor:!0}),_c,Lr,jl,Ka;if(De._anchorAxis&&De.mirror&&De.mirror!==!0?(_c=Oe.makeTickPath(De,Bn,ks[3]),Lr=Oe.makeTickPath(De,Bn,Wa[3],{minor:!0}),jl=ss+_c,Ka=Ya+Lr):(_c="",Lr="",jl=ss,Ka=Ya),De.showdividers&&bo&&De.tickson==="boundaries"){var yi={};for(Bt=0;Bt<Va.length;Bt++)yi[Va[Bt].x]=1;Ec=function(li){return yi[li.x]?_c:jl}}else Ec=function(li){return li.minor?Ka:jl}}if(Oe.drawTicks(He,De,{vals:qr,layer:bn,path:Ec,transFn:cr}),De.mirror==="allticks"){var Hf=Object.keys(De._linepositions||{});for(Bt=0;Bt<Hf.length;Bt++){Ut=Hf[Bt],Ot=_t._plots[Ut];var Xa=De._linepositions[Ut]||[],Zc=Xa[0],zf=Xa[1],jc=Xa[2],To=Oe.makeTickPath(De,Zc,jc?ks[0]:Wa[0],{minor:jc})+Oe.makeTickPath(De,zf,jc?ks[1]:Wa[1],{minor:jc});Oe.drawTicks(He,De,{vals:qr,layer:Ot[cn+"axislayer"],path:To,transFn:cr})}}var Mi=[];if(Mi.push(function(){return Oe.drawLabels(He,De,{vals:Hr,layer:bn,plotinfo:Ot,transFn:Kr,labelFns:Oe.makeLabelFns(De,Qn)})}),De.type==="multicategory"){var ur={x:2,y:10}[cn];Mi.push(function(){var li={x:"height",y:"width"}[cn],Rs=ar()[li]+ur+(De._tickAngles[qt+"tick"]?De.tickfont.size*ke:0);return Oe.drawLabels(He,De,{vals:pt(De,Hr),layer:bn,cls:qt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:cr,labelFns:Oe.makeLabelFns(De,Qn+Rs*ks[4])})}),Mi.push(function(){return De._depth=ks[4]*(ar("tick2")[De.side]-Qn),Dt(He,De,{vals:Va,layer:bn,path:Oe.makeTickPath(De,Qn,ks[4],{len:De._depth}),transFn:cr})})}else De.title.hasOwnProperty("standoff")&&Mi.push(function(){De._depth=ks[4]*(ar()[De.side]-Qn)});var Ms=c.getComponentMethod("rangeslider","isVisible")(De);return!St.skipTitle&&!(Ms&&De.side==="bottom")&&Mi.push(function(){return Un(He,De)}),Mi.push(function(){var li=De.side.charAt(0),Rs=Ne[De.side].charAt(0),Es=Oe.getPxPosition(He,De),qi=bo?De.ticklen:0,Bo,Ks,Bs,df;(De.automargin||Ms||De._shiftPusher)&&(De.type==="multicategory"?Bo=ar("tick2"):(Bo=ar(),cn==="x"&&li==="b"&&(De._depth=Math.max(Bo.width>0?Bo.bottom-Es:0,qi))));var Ls=0,cu=0;if(De._shiftPusher&&(Ls=Math.max(qi,Bo.height>0?li==="l"?Es-Bo.left:Bo.right-Es:0),De.title.text!==_t._dfltTitle[cn]&&(cu=(De._titleStandoff||0)+(De._titleScoot||0),li==="l"&&(cu+=un(De))),De._fullDepth=Math.max(Ls,cu)),De.automargin){Ks={x:0,y:0,r:0,l:0,t:0,b:0};var uu=[0,1],Vf=typeof De._shift=="number"?De._shift:0;if(cn==="x"){if(li==="b"?Ks[li]=De._depth:(Ks[li]=De._depth=Math.max(Bo.width>0?Es-Bo.top:0,qi),uu.reverse()),Bo.width>0){var Ma=Bo.right-(De._offset+De._length);Ma>0&&(Ks.xr=1,Ks.r=Ma);var Uf=De._offset-Bo.left;Uf>0&&(Ks.xl=0,Ks.l=Uf)}}else if(li==="l"?(De._depth=Math.max(Bo.height>0?Es-Bo.left:0,qi),Ks[li]=De._depth-Vf):(De._depth=Math.max(Bo.height>0?Bo.right-Es:0,qi),Ks[li]=De._depth+Vf,uu.reverse()),Bo.height>0){var gc=Bo.bottom-(De._offset+De._length);gc>0&&(Ks.yb=0,Ks.b=gc);var al=De._offset-Bo.top;al>0&&(Ks.yt=1,Ks.t=al)}Ks[Qt]=De.anchor==="free"?De.position:De._anchorAxis.domain[uu[0]],De.title.text!==_t._dfltTitle[cn]&&(Ks[li]+=un(De)+(De.title.standoff||0)),De.mirror&&De.anchor!=="free"&&(Bs={x:0,y:0,r:0,l:0,t:0,b:0},Bs[Rs]=De.linewidth,De.mirror&&De.mirror!==!0&&(Bs[Rs]+=qi),De.mirror===!0||De.mirror==="ticks"?Bs[Qt]=De._anchorAxis.domain[uu[1]]:(De.mirror==="all"||De.mirror==="allticks")&&(Bs[Qt]=[De._counterDomainMin,De._counterDomainMax][uu[1]]))}Ms&&(df=c.getComponentMethod("rangeslider","autoMarginOpts")(He,De)),typeof De.automargin=="string"&&(it(Ks,De.automargin),it(Bs,De.automargin)),l.autoMargin(He,Gn(De),Ks),l.autoMargin(He,Ir(De),Bs),l.autoMargin(He,Tr(De),df)}),i.syncOrAsync(Mi)}};function it(He,De){if(He){var St=Object.keys(X).reduce(function(kt,Pt){return De.indexOf(Pt)!==-1&&X[Pt].forEach(function(Bt){kt[Bt]=1}),kt},{});Object.keys(He).forEach(function(kt){St[kt]||(kt.length===1?He[kt]=0:delete He[kt])})}}function ht(He,De){var St=[],kt,Pt=function(Bt,Ut){var Ot=Bt.xbnd[Ut];Ot!==null&&St.push(i.extendFlat({},Bt,{x:Ot}))};if(De.length){for(kt=0;kt<De.length;kt++)Pt(De[kt],0);Pt(De[kt-1],1)}return St}function pt(He,De){for(var St=[],kt={},Pt=0;Pt<De.length;Pt++){var Bt=De[Pt];kt[Bt.text2]?kt[Bt.text2].push(Bt.x):kt[Bt.text2]=[Bt.x]}for(var Ut in kt)St.push(Zn(He,i.interp(kt[Ut],.5),Ut));return St}function Tt(He,De){var St=[],kt,Pt,Bt=De.length&&De[De.length-1].x<De[0].x,Ut=function(_t,qt){var cn=_t.xbnd[qt];cn!==null&&St.push(i.extendFlat({},_t,{x:cn}))};if(He.showdividers&&De.length){for(kt=0;kt<De.length;kt++){var Ot=De[kt];Ot.text2!==Pt&&Ut(Ot,Bt?1:0),Pt=Ot.text2}Ut(De[kt-1],Bt?0:1)}return St}function Et(He,De){var St,kt,Pt,Bt;return He._selections[De].size()?(St=1/0,kt=-1/0,Pt=1/0,Bt=-1/0,He._selections[De].each(function(){var Ut=pr(this),Ot=x.bBox(Ut.node().parentNode);St=Math.min(St,Ot.top),kt=Math.max(kt,Ot.bottom),Pt=Math.min(Pt,Ot.left),Bt=Math.max(Bt,Ot.right)})):(St=0,kt=0,Pt=0,Bt=0),{top:St,bottom:kt,left:Pt,right:Bt,height:kt-St,width:Bt-Pt}}Oe.getTickSigns=function(He,De){var St=He._id.charAt(0),kt={x:"top",y:"right"}[St],Pt=He.side===kt?1:-1,Bt=[-1,1,Pt,-Pt],Ut=De?(He.minor||{}).ticks:He.ticks;return Ut!=="inside"==(St==="x")&&(Bt=Bt.map(function(Ot){return-Ot})),He.side&&Bt.push({l:-1,t:-1,r:1,b:1}[He.side.charAt(0)]),Bt},Oe.makeTransTickFn=function(He){return He._id.charAt(0)==="x"?function(De){return u(He._offset+He.l2p(De.x),0)}:function(De){return u(0,He._offset+He.l2p(De.x))}},Oe.makeTransTickLabelFn=function(He){var De=tn(He),St=De[0],kt=De[1];return He._id.charAt(0)==="x"?function(Pt){return u(St+He._offset+He.l2p(fn(Pt)),kt)}:function(Pt){return u(kt,St+He._offset+He.l2p(fn(Pt)))}};function fn(He){return He.periodX!==void 0?He.periodX:He.x}function tn(He){var De=He.ticklabelposition||"",St=function(Sn){return De.indexOf(Sn)!==-1},kt=St("top"),Pt=St("left"),Bt=St("right"),Ut=St("bottom"),Ot=St("inside"),_t=Ut||Pt||kt||Bt;if(!_t&&!Ot)return[0,0];var qt=He.side,cn=_t?(He.tickwidth||0)/2:0,Qt=Ve,nn=He.tickfont?He.tickfont.size:12;return(Ut||kt)&&(cn+=nn*$e,Qt+=(He.linewidth||0)/2),(Pt||Bt)&&(cn+=(He.linewidth||0)/2,Qt+=Ve),Ot&&qt==="top"&&(Qt-=nn*(1-$e)),(Pt||kt)&&(cn=-cn),(qt==="bottom"||qt==="right")&&(Qt=-Qt),[_t?cn:0,Ot?Qt:0]}Oe.makeTickPath=function(He,De,St,kt){kt||(kt={});var Pt=kt.minor;if(Pt&&!He.minor)return"";var Bt=kt.len!==void 0?kt.len:Pt?He.minor.ticklen:He.ticklen,Ut=He._id.charAt(0),Ot=(He.linewidth||1)/2;return Ut==="x"?"M0,"+(De+Ot*St)+"v"+Bt*St:"M"+(De+Ot*St)+",0h"+Bt*St},Oe.makeLabelFns=function(He,De,St){var kt=He.ticklabelposition||"",Pt=function(Zo){return kt.indexOf(Zo)!==-1},Bt=Pt("top"),Ut=Pt("left"),Ot=Pt("right"),_t=Pt("bottom"),qt=_t||Ut||Bt||Ot,cn=Pt("inside"),Qt=kt==="inside"&&He.ticks==="inside"||!cn&&He.ticks==="outside"&&He.tickson!=="boundaries",nn=0,Sn=0,bn=Qt?He.ticklen:0;if(cn?bn*=-1:qt&&(bn=0),Qt&&(nn+=bn,St)){var gn=i.deg2rad(St);nn=bn*Math.cos(gn)+1,Sn=bn*Math.sin(gn)}He.showticklabels&&(Qt||He.showline)&&(nn+=.2*He.tickfont.size),nn+=(He.linewidth||1)/2*(cn?-1:1);var Qn={labelStandoff:nn,labelShift:Sn},Bn,Hr,fr,Vr,ar=0,cr=He.side,Kr=He._id.charAt(0),qr=He.tickangle,So;if(Kr==="x")So=!cn&&cr==="bottom"||cn&&cr==="top",Vr=So?1:-1,cn&&(Vr*=-1),Bn=Sn*Vr,Hr=De+nn*Vr,fr=So?1:-.2,Math.abs(qr)===90&&(cn?fr+=Ce:qr===-90&&cr==="bottom"?fr=$e:qr===90&&cr==="top"?fr=Ce:fr=.5,ar=Ce/2*(qr/90)),Qn.xFn=function(Zo){return Zo.dx+Bn+ar*Zo.fontSize},Qn.yFn=function(Zo){return Zo.dy+Hr+Zo.fontSize*fr},Qn.anchorFn=function(Zo,oa){if(qt){if(Ut)return"end";if(Ot)return"start"}return!h(oa)||oa===0||oa===180?"middle":oa*Vr<0!==cn?"end":"start"},Qn.heightFn=function(Zo,oa,Va){return oa<-60||oa>60?-.5*Va:He.side==="top"!==cn?-Va:0};else if(Kr==="y"){if(So=!cn&&cr==="left"||cn&&cr==="right",Vr=So?1:-1,cn&&(Vr*=-1),Bn=nn,Hr=Sn*Vr,fr=0,!cn&&Math.abs(qr)===90&&(qr===-90&&cr==="left"||qr===90&&cr==="right"?fr=$e:fr=.5),cn){var wa=h(qr)?+qr:0;if(wa!==0){var bo=i.deg2rad(wa);ar=Math.abs(Math.sin(bo))*$e*Vr,fr=0}}Qn.xFn=function(Zo){return Zo.dx+De-(Bn+Zo.fontSize*fr)*Vr+ar*Zo.fontSize},Qn.yFn=function(Zo){return Zo.dy+Hr+Zo.fontSize*Ce},Qn.anchorFn=function(Zo,oa){return h(oa)&&Math.abs(oa)===90?"middle":So?"end":"start"},Qn.heightFn=function(Zo,oa,Va){return He.side==="right"&&(oa*=-1),oa<-30?-Va:oa<30?-.5*Va:0}}return Qn};function Zt(He){return[He.text,He.x,He.axInfo,He.font,He.fontSize,He.fontColor].join("_")}Oe.drawTicks=function(He,De,St){St=St||{};var kt=De._id+"tick",Pt=[].concat(De.minor&&De.minor.ticks?St.vals.filter(function(Ut){return Ut.minor&&!Ut.noTick}):[]).concat(De.ticks?St.vals.filter(function(Ut){return!Ut.minor&&!Ut.noTick}):[]),Bt=St.layer.selectAll("path."+kt).data(Pt,Zt);Bt.exit().remove(),Bt.enter().append("path").classed(kt,1).classed("ticks",1).classed("crisp",St.crisp!==!1).each(function(Ut){return v.stroke(m.select(this),Ut.minor?De.minor.tickcolor:De.tickcolor)}).style("stroke-width",function(Ut){return x.crispRound(He,Ut.minor?De.minor.tickwidth:De.tickwidth,1)+"px"}).attr("d",St.path).style("display",null),ro(De,[ne]),Bt.attr("transform",St.transFn)},Oe.drawGrid=function(He,De,St){if(St=St||{},De.tickmode!=="sync"){var kt=De._id+"grid",Pt=De.minor&&De.minor.showgrid,Bt=Pt?St.vals.filter(function(Bn){return Bn.minor}):[],Ut=De.showgrid?St.vals.filter(function(Bn){return!Bn.minor}):[],Ot=St.counterAxis;if(Ot&&Oe.shouldShowZeroLine(He,De,Ot))for(var _t=De.tickmode==="array",qt=0;qt<Ut.length;qt++){var cn=Ut[qt].x;if(_t?!cn:Math.abs(cn)<De.dtick/100)if(Ut=Ut.slice(0,qt).concat(Ut.slice(qt+1)),_t)qt--;else break}De._gw=x.crispRound(He,De.gridwidth,1);for(var Qt=Pt?x.crispRound(He,De.minor.gridwidth,1):0,nn=St.layer,Sn=St.minorLayer,bn=1;bn>=0;bn--){var gn=bn?nn:Sn;if(gn){var Qn=gn.selectAll("path."+kt).data(bn?Ut:Bt,Zt);Qn.exit().remove(),Qn.enter().append("path").classed(kt,1).classed("crisp",St.crisp!==!1),Qn.attr("transform",St.transFn).attr("d",St.path).each(function(Bn){return v.stroke(m.select(this),Bn.minor?De.minor.gridcolor:De.gridcolor||"#ddd")}).style("stroke-dasharray",function(Bn){return x.dashStyle(Bn.minor?De.minor.griddash:De.griddash,Bn.minor?De.minor.gridwidth:De.gridwidth)}).style("stroke-width",function(Bn){return(Bn.minor?Qt:De._gw)+"px"}).style("display",null),typeof St.path=="function"&&Qn.attr("d",St.path)}}ro(De,[Se,ce])}},Oe.drawZeroLine=function(He,De,St){St=St||St;var kt=De._id+"zl",Pt=Oe.shouldShowZeroLine(He,De,St.counterAxis),Bt=St.layer.selectAll("path."+kt).data(Pt?[{x:0,id:De._id}]:[]);Bt.exit().remove(),Bt.enter().append("path").classed(kt,1).classed("zl",1).classed("crisp",St.crisp!==!1).each(function(){St.layer.selectAll("path").sort(function(Ut,Ot){return we(Ut.id,Ot.id)})}),Bt.attr("transform",St.transFn).attr("d",St.path).call(v.stroke,De.zerolinecolor||v.defaultLine).style("stroke-width",x.crispRound(He,De.zerolinewidth,De._gw||1)+"px").style("display",null),ro(De,[ge])},Oe.drawLabels=function(He,De,St){St=St||{};var kt=He._fullLayout,Pt=De._id,Bt=Pt.charAt(0),Ut=St.cls||Pt+"tick",Ot=St.vals.filter(function(Vr){return Vr.text}),_t=St.labelFns,qt=St.secondary?0:De.tickangle,cn=(De._prevTickAngles||{})[Ut],Qt=St.layer.selectAll("g."+Ut).data(De.showticklabels?Ot:[],Zt),nn=[];Qt.enter().append("g").classed(Ut,1).append("text").attr("text-anchor","middle").each(function(Vr){var ar=m.select(this),cr=He._promises.length;ar.call(d.positionText,_t.xFn(Vr),_t.yFn(Vr)).call(x.font,Vr.font,Vr.fontSize,Vr.fontColor).text(Vr.text).call(d.convertToTspans,He),He._promises[cr]?nn.push(He._promises.pop().then(function(){Sn(ar,qt)})):Sn(ar,qt)}),ro(De,[fe]),Qt.exit().remove(),St.repositionOnUpdate&&Qt.each(function(Vr){m.select(this).select("text").call(d.positionText,_t.xFn(Vr),_t.yFn(Vr))});function Sn(Vr,ar){Vr.each(function(cr){var Kr=m.select(this),qr=Kr.select(".text-math-group"),So=_t.anchorFn(cr,ar),wa=St.transFn.call(Kr.node(),cr)+(h(ar)&&+ar!=0?" rotate("+ar+","+_t.xFn(cr)+","+(_t.yFn(cr)-cr.fontSize/2)+")":""),bo=d.lineCount(Kr),Zo=ke*cr.fontSize,oa=_t.heightFn(cr,h(ar)?+ar:0,(bo-1)*Zo);if(oa&&(wa+=u(0,oa)),qr.empty()){var Va=Kr.select("text");Va.attr({transform:wa,"text-anchor":So}),Va.style("opacity",1),De._adjustTickLabelsOverflow&&De._adjustTickLabelsOverflow()}else{var Yo=x.bBox(qr.node()).width,Fa=Yo*{end:-.5,start:.5}[So];qr.attr("transform",wa+u(Fa,0))}})}De._adjustTickLabelsOverflow=function(){var Vr=De.ticklabeloverflow;if(!(!Vr||Vr==="allow")){var ar=Vr.indexOf("hide")!==-1,cr=De._id.charAt(0)==="x",Kr=0,qr=cr?He._fullLayout.width:He._fullLayout.height;if(Vr.indexOf("domain")!==-1){var So=i.simpleMap(De.range,De.r2l);Kr=De.l2p(So[0])+De._offset,qr=De.l2p(So[1])+De._offset}var wa=Math.min(Kr,qr),bo=Math.max(Kr,qr),Zo=De.side,oa=1/0,Va=-1/0;Qt.each(function(Zl){var Ys=m.select(this),Ec=Ys.select(".text-math-group");if(Ec.empty()){var ks=x.bBox(Ys.node()),Wa=0;cr?(ks.right>bo||ks.left<wa)&&(Wa=1):(ks.bottom>bo||ks.top+(De.tickangle?0:Zl.fontSize/4)<wa)&&(Wa=1);var ss=Ys.select("text");Wa?ar&&ss.style("opacity",0):(ss.style("opacity",1),Zo==="bottom"||Zo==="right"?oa=Math.min(oa,cr?ks.top:ks.left):oa=-1/0,Zo==="top"||Zo==="left"?Va=Math.max(Va,cr?ks.bottom:ks.right):Va=1/0)}});for(var Yo in kt._plots){var Fa=kt._plots[Yo];if(!(De._id!==Fa.xaxis._id&&De._id!==Fa.yaxis._id)){var Os=cr?Fa.yaxis:Fa.xaxis;Os&&(Os["_visibleLabelMin_"+De._id]=oa,Os["_visibleLabelMax_"+De._id]=Va)}}}},De._hideCounterAxisInsideTickLabels=function(Vr){var ar=De._id.charAt(0)==="x",cr=[];for(var Kr in kt._plots){var qr=kt._plots[Kr];De._id!==qr.xaxis._id&&De._id!==qr.yaxis._id||cr.push(ar?qr.yaxis:qr.xaxis)}cr.forEach(function(So,wa){So&&wr(So)&&(Vr||[ge,ce,Se,ne,fe]).forEach(function(bo){var Zo=bo.K==="tick"&&bo.L==="text"&&De.ticklabelmode==="period",oa=kt._plots[De._mainSubplot],Va;bo.K===ge.K?Va=oa.zerolinelayer.selectAll("."+De._id+"zl"):bo.K===ce.K?Va=oa.minorGridlayer.selectAll("."+De._id):bo.K===Se.K?Va=oa.gridlayer.selectAll("."+De._id):Va=oa[De._id.charAt(0)+"axislayer"],Va.each(function(){var Yo=m.select(this);bo.L&&(Yo=Yo.selectAll(bo.L)),Yo.each(function(Fa){var Os=De.l2p(Zo?fn(Fa):Fa.x)+De._offset,Zl=m.select(this);Os<De["_visibleLabelMax_"+So._id]&&Os>De["_visibleLabelMin_"+So._id]?Zl.style("display","none"):bo.K==="tick"&&!wa&&Zl.style("display",null)})})})})},Sn(Qt,cn+1?cn:qt);function bn(){return nn.length&&Promise.all(nn)}var gn=null;function Qn(){if(Sn(Qt,qt),Ot.length&&Bt==="x"&&!h(qt)&&(De.type!=="log"||String(De.dtick).charAt(0)!=="D")){gn=0;var Vr=0,ar=[],cr;if(Qt.each(function(ks){Vr=Math.max(Vr,ks.fontSize);var Wa=De.l2p(ks.x),ss=pr(this),Ya=x.bBox(ss.node());ar.push({top:0,bottom:10,height:10,left:Wa-Ya.width/2,right:Wa+Ya.width/2+2,width:Ya.width+2})}),(De.tickson==="boundaries"||De.showdividers)&&!St.secondary){var Kr=2;for(De.ticks&&(Kr+=De.tickwidth/2),cr=0;cr<ar.length;cr++){var qr=Ot[cr].xbnd,So=ar[cr];if(qr[0]!==null&&So.left-De.l2p(qr[0])<Kr||qr[1]!==null&&De.l2p(qr[1])-So.right<Kr){gn=90;break}}}else{var wa=Ot.length,bo=Math.abs((Ot[wa-1].x-Ot[0].x)*De._m)/(wa-1),Zo=De.ticklabelposition||"",oa=function(ks){return Zo.indexOf(ks)!==-1},Va=oa("top"),Yo=oa("left"),Fa=oa("right"),Os=oa("bottom"),Zl=Os||Yo||Va||Fa,Ys=Zl?(De.tickwidth||0)+2*Ve:0,Ec=bo<Vr*2.5||De.type==="multicategory"||De._name==="realaxis";for(cr=0;cr<ar.length-1;cr++)if(i.bBoxIntersect(ar[cr],ar[cr+1],Ys)){gn=Ec?90:30;break}}gn&&Sn(Qt,gn)}}De._selections&&(De._selections[Ut]=Qt);var Bn=[bn];De.automargin&&kt._redrawFromAutoMarginCount&&cn===90?(gn=90,Bn.push(function(){Sn(Qt,cn)})):Bn.push(Qn),De._tickAngles&&Bn.push(function(){De._tickAngles[Ut]=gn===null?h(qt)?qt:0:gn});var Hr=De._anchorAxis;Hr&&Hr.autorange&&wr(De)&&!se(kt,De._id)&&(kt._insideTickLabelsAutorange||(kt._insideTickLabelsAutorange={}),kt._insideTickLabelsAutorange[Hr._name+".autorange"]=Hr.autorange,Bn.push(function(){Qt.each(function(ar,cr){var Kr=pr(this),qr=Kr.select(".text-math-group");qr.empty()&&(De._vals[cr].bb=x.bBox(Kr.node()))})}));var fr=i.syncOrAsync(Bn);return fr&&fr.then&&He._promises.push(fr),fr};function Dt(He,De,St){var kt=De._id+"divider",Pt=St.vals,Bt=St.layer.selectAll("path."+kt).data(Pt,Zt);Bt.exit().remove(),Bt.enter().insert("path",":first-child").classed(kt,1).classed("crisp",1).call(v.stroke,De.dividercolor).style("stroke-width",x.crispRound(He,De.dividerwidth,1)+"px"),Bt.attr("transform",St.transFn).attr("d",St.path)}Oe.getPxPosition=function(He,De){var St=He._fullLayout._size,kt=De._id.charAt(0),Pt=De.side,Bt;if(De.anchor!=="free"?Bt=De._anchorAxis:kt==="x"?Bt={_offset:St.t+(1-(De.position||0))*St.h,_length:0}:kt==="y"&&(Bt={_offset:St.l+(De.position||0)*St.w+De._shift,_length:0}),Pt==="top"||Pt==="left")return Bt._offset;if(Pt==="bottom"||Pt==="right")return Bt._offset+Bt._length};function un(He){var De=He.title.font.size,St=(He.title.text.match(d.BR_TAG_ALL)||[]).length;return He.title.hasOwnProperty("standoff")?St?De*($e+St*ke):De*$e:St?De*(St+1)*ke:De}function Un(He,De){var St=He._fullLayout,kt=De._id,Pt=kt.charAt(0),Bt=De.title.font.size,Ut;if(De.title.hasOwnProperty("standoff"))Ut=De._depth+De.title.standoff+un(De);else{var Ot=wr(De);if(De.type==="multicategory")Ut=De._depth;else{var _t=1.5*Bt;Ot&&(_t=.5*Bt,De.ticks==="outside"&&(_t+=De.ticklen)),Ut=10+_t+(De.linewidth?De.linewidth-1:0)}Ot||(Pt==="x"?Ut+=De.side==="top"?Bt*(De.showticklabels?1:0):Bt*(De.showticklabels?1.5:.5):Ut+=De.side==="right"?Bt*(De.showticklabels?1:.5):Bt*(De.showticklabels?.5:0))}var qt=Oe.getPxPosition(He,De),cn,Qt,nn;Pt==="x"?(Qt=De._offset+De._length/2,nn=De.side==="top"?qt-Ut:qt+Ut):(nn=De._offset+De._length/2,Qt=De.side==="right"?qt+Ut:qt-Ut,cn={rotate:"-90",offset:0});var Sn;if(De.type!=="multicategory"){var bn=De._selections[De._id+"tick"];if(Sn={selection:bn,side:De.side},bn&&bn.node()&&bn.node().parentNode){var gn=x.getTranslate(bn.node().parentNode);Sn.offsetLeft=gn.x,Sn.offsetTop=gn.y}De.title.hasOwnProperty("standoff")&&(Sn.pad=0)}return De._titleStandoff=Ut,g.draw(He,kt+"title",{propContainer:De,propName:De._name+".title.text",placeholder:St._dfltTitle[Pt],avoid:Sn,transform:cn,attributes:{x:Qt,y:nn,"text-anchor":"middle"}})}Oe.shouldShowZeroLine=function(He,De,St){var kt=i.simpleMap(De.range,De.r2l);return kt[0]*kt[1]<=0&&De.zeroline&&(De.type==="linear"||De.type==="-")&&!(De.rangebreaks&&De.maskBreaks(0)===he)&&(tr(De,0)||!Er(He,De,St,kt)||zt(He,De))},Oe.clipEnds=function(He,De){return De.filter(function(St){return tr(He,St.x)})};function tr(He,De){var St=He.l2p(De);return St>1&&St<He._length-1}function Er(He,De,St,kt){var Pt=St._mainAxis;if(!Pt)return;var Bt=He._fullLayout,Ut=De._id.charAt(0),Ot=Oe.counterLetter(De._id),_t=De._offset+(Math.abs(kt[0])<Math.abs(kt[1])==(Ut==="x")?0:De._length);function qt(bn){if(!bn.showline||!bn.linewidth)return!1;var gn=Math.max((bn.linewidth+De.zerolinewidth)/2,1);function Qn(fr){return typeof fr=="number"&&Math.abs(fr-_t)<gn}if(Qn(bn._mainLinePosition)||Qn(bn._mainMirrorPosition))return!0;var Bn=bn._linepositions||{};for(var Hr in Bn)if(Qn(Bn[Hr][0])||Qn(Bn[Hr][1]))return!0}var cn=Bt._plots[St._mainSubplot];if(!(cn.mainplotinfo||cn).overlays.length)return qt(St);for(var Qt=Oe.list(He,Ot),nn=0;nn<Qt.length;nn++){var Sn=Qt[nn];if(Sn._mainAxis===Pt&&qt(Sn))return!0}}function zt(He,De){for(var St=He._fullData,kt=De._mainSubplot,Pt=De._id.charAt(0),Bt=0;Bt<St.length;Bt++){var Ut=St[Bt];if(Ut.visible===!0&&Ut.xaxis+Ut.yaxis===kt&&(c.traceIs(Ut,"bar-like")&&Ut.orientation==={x:"h",y:"v"}[Pt]||Ut.fill&&Ut.fill.charAt(Ut.fill.length-1)===Pt))return!0}return!1}function pr(He){var De=m.select(He),St=De.select(".text-math-group");return St.empty()?De.select("text"):St}Oe.allowAutoMargin=function(He){for(var De=Oe.list(He,"",!0),St=0;St<De.length;St++){var kt=De[St];kt.automargin&&(l.allowAutoMargin(He,Gn(kt)),kt.mirror&&l.allowAutoMargin(He,Ir(kt))),c.getComponentMethod("rangeslider","isVisible")(kt)&&l.allowAutoMargin(He,Tr(kt))}};function Gn(He){return He._id+".automargin"}function Ir(He){return Gn(He)+".mirror"}function Tr(He){return He._id+".rangeslider"}Oe.swap=function(He,De){for(var St=rr(He,De),kt=0;kt<St.length;kt++)_r(He,St[kt].x,St[kt].y)};function rr(He,De){var St=[],kt,Pt;for(kt=0;kt<De.length;kt++){var Bt=[],Ut=He._fullData[De[kt]].xaxis,Ot=He._fullData[De[kt]].yaxis;if(!(!Ut||!Ot)){for(Pt=0;Pt<St.length;Pt++)(St[Pt].x.indexOf(Ut)!==-1||St[Pt].y.indexOf(Ot)!==-1)&&Bt.push(Pt);if(!Bt.length){St.push({x:[Ut],y:[Ot]});continue}var _t=St[Bt[0]],qt;if(Bt.length>1)for(Pt=1;Pt<Bt.length;Pt++)qt=St[Bt[Pt]],Yr(_t.x,qt.x),Yr(_t.y,qt.y);Yr(_t.x,[Ut]),Yr(_t.y,[Ot])}}return St}function Yr(He,De){for(var St=0;St<De.length;St++)He.indexOf(De[St])===-1&&He.push(De[St])}function _r(He,De,St){var kt=[],Pt=[],Bt=He.layout,Ut,Ot;for(Ut=0;Ut<De.length;Ut++)kt.push(Oe.getFromId(He,De[Ut]));for(Ut=0;Ut<St.length;Ut++)Pt.push(Oe.getFromId(He,St[Ut]));var _t=Object.keys(C),qt=["anchor","domain","overlaying","position","side","tickangle","editType"],cn=["linear","log"];for(Ut=0;Ut<_t.length;Ut++){var Qt=_t[Ut],nn=kt[0][Qt],Sn=Pt[0][Qt],bn=!0,gn=!1,Qn=!1;if(!(Qt.charAt(0)==="_"||typeof nn=="function"||qt.indexOf(Qt)!==-1)){for(Ot=1;Ot<kt.length&&bn;Ot++){var Bn=kt[Ot][Qt];Qt==="type"&&cn.indexOf(nn)!==-1&&cn.indexOf(Bn)!==-1&&nn!==Bn?gn=!0:Bn!==nn&&(bn=!1)}for(Ot=1;Ot<Pt.length&&bn;Ot++){var Hr=Pt[Ot][Qt];Qt==="type"&&cn.indexOf(Sn)!==-1&&cn.indexOf(Hr)!==-1&&Sn!==Hr?Qn=!0:Pt[Ot][Qt]!==Sn&&(bn=!1)}bn&&(gn&&(Bt[kt[0]._name].type="linear"),Qn&&(Bt[Pt[0]._name].type="linear"),Ln(Bt,Qt,kt,Pt,He._fullLayout._dfltTitle))}}for(Ut=0;Ut<He._fullLayout.annotations.length;Ut++){var fr=He._fullLayout.annotations[Ut];De.indexOf(fr.xref)!==-1&&St.indexOf(fr.yref)!==-1&&i.swapAttrs(Bt.annotations[Ut],["?"])}}function Ln(He,De,St,kt,Pt){var Bt=i.nestedProperty,Ut=Bt(He[St[0]._name],De).get(),Ot=Bt(He[kt[0]._name],De).get(),_t;for(De==="title"&&(Ut&&Ut.text===Pt.x&&(Ut.text=Pt.y),Ot&&Ot.text===Pt.y&&(Ot.text=Pt.x)),_t=0;_t<St.length;_t++)Bt(He,St[_t]._name+"."+De).set(Ot);for(_t=0;_t<kt.length;_t++)Bt(He,kt[_t]._name+"."+De).set(Ut)}function xr(He){return He._id==="angularaxis"}function or(He,De){for(var St=De._rangebreaks.length,kt=0;kt<St;kt++){var Pt=De._rangebreaks[kt];if(He>=Pt.min&&He<Pt.max)return Pt.max}return He}function wr(He){return(He.ticklabelposition||"").indexOf("inside")!==-1}function ro(He,De){wr(He._anchorAxis||{})&&He._hideCounterAxisInsideTickLabels&&He._hideCounterAxisInsideTickLabels(De)}function vo(He,De,St,kt){var Pt=He.anchor!=="free"&&(He.overlaying===void 0||He.overlaying===!1)?He._id:He.overlaying,Bt;kt?Bt=He.side==="right"?De:-De:Bt=De,Pt in St||(St[Pt]={}),He.side in St[Pt]||(St[Pt][He.side]=0),St[Pt][He.side]+=Bt}function Cr(He,De){return He.autoshift?De[He.overlaying][He.side]:He.shift||0}},4322:function(L,A,s){var m=s(2770),h=s(1828),l=s(606).BADNUM,c=h.isArrayOrTypedArray,i=h.isDateTime,u=h.cleanNumber,d=Math.round;L.exports=function(O,D,N){var M=O,k=N.noMultiCategory;if(c(M)&&!M.length)return"-";if(!k&&$(M))return"multicategory";if(k&&Array.isArray(M[0])){for(var R=[],F=0;F<M.length;F++)if(c(M[F]))for(var H=0;H<M[F].length;H++)R.push(M[F][H]);M=R}if(x(M,D))return"date";var j=N.autotypenumbers!=="strict";return _(M,j)?"category":v(M,j)?"linear":"-"};function g(S,O){return O?m(S):typeof S=="number"}function v(S,O){for(var D=S.length,N=0;N<D;N++)if(g(S[N],O))return!0;return!1}function x(S,O){for(var D=S.length,N=C(D),M=0,k=0,R={},F=0;F<D;F+=N){var H=d(F),j=S[H],P=String(j);R[P]||(R[P]=1,i(j,O)&&M++,m(j)&&k++)}return M>k*2}function C(S){return Math.max(1,(S-1)/1e3)}function _(S,O){for(var D=S.length,N=C(D),M=0,k=0,R={},F=0;F<D;F+=N){var H=d(F),j=S[H],P=String(j);if(!R[P]){R[P]=1;var ee=typeof j;ee==="boolean"?k++:(O?u(j)!==l:ee==="number")?M++:ee==="string"&&k++}}return k>M*2}function $(S){return c(S[0])&&c(S[1])}},1453:function(L,A,s){var m=s(2770),h=s(3972),l=s(1828),c=s(4467),i=s(5501),u=s(3838),d=s(6218),g=s(8701),v=s(6115),x=s(9426),C=s(5258),_=s(2128),$=s(3608),S=s(1994),O=s(5555).WEEKDAY_PATTERN,D=s(5555).HOUR_PATTERN;L.exports=function(F,H,j,P,ee){var J=P.letter,K=P.font||{},ae=P.splomStash||{},Q=j("visible",!P.visibleDflt),he=H._template||{},ge=H.type||he.type||"-",Se;if(ge==="date"){var ce=h.getComponentMethod("calendars","handleDefaults");ce(F,H,"calendar",P.calendar),P.noTicklabelmode||(Se=j("ticklabelmode"))}var ne="";(!P.noTicklabelposition||ge==="multicategory")&&(ne=l.coerce(F,H,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:Se==="period"?["outside","inside"]:J==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),P.noTicklabeloverflow||j("ticklabeloverflow",ne.indexOf("inside")!==-1?"hide past domain":ge==="category"||ge==="multicategory"?"allow":"hide past div"),S(H,ee),$(F,H,j,P),C(F,H,j,P),ge!=="category"&&!P.noHover&&j("hoverformat");var fe=j("color"),X=fe!==u.color.dflt?fe:K.color,ye=ae.label||ee._dfltTitle[J];if(x(F,H,j,ge,P),!Q)return H;j("title.text",ye),l.coerceFont(j,"title.font",{family:K.family,size:l.bigFont(K.size),color:X}),d(F,H,j,ge);var Ce=P.hasMinor;if(Ce&&(c.newContainer(H,"minor"),d(F,H,j,ge,{isMinor:!0})),v(F,H,j,ge,P),g(F,H,j,P),Ce){var $e=P.isMinor;P.isMinor=!0,g(F,H,j,P),P.isMinor=$e}_(F,H,j,{dfltColor:fe,bgColor:P.bgColor,showGrid:P.showGrid,hasMinor:Ce,attributes:u}),Ce&&!H.minor.ticks&&!H.minor.showgrid&&delete H.minor,(H.showline||H.ticks)&&j("mirror");var ke=ge==="multicategory";if(!P.noTickson&&(ge==="category"||ke)&&(H.ticks||H.showgrid)){var Ne;ke&&(Ne="boundaries");var Ve=j("tickson",Ne);Ve==="boundaries"&&delete H.ticklabelposition}if(ke){var Oe=j("showdividers");Oe&&(j("dividercolor"),j("dividerwidth"))}if(ge==="date")if(i(F,H,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:N}),!H.rangebreaks.length)delete H.rangebreaks;else{for(var Fe=0;Fe<H.rangebreaks.length;Fe++)if(H.rangebreaks[Fe].pattern===O){H._hasDayOfWeekBreaks=!0;break}if(S(H,ee),ee._has("scattergl")||ee._has("splom"))for(var ie=0;ie<P.data.length;ie++){var we=P.data[ie];(we.type==="scattergl"||we.type==="splom")&&(we.visible=!1,l.warn(we.type+" traces do not work on axes with rangebreaks. Setting trace "+we.index+" to `visible: false`."))}}return H};function N(R,F,H){function j(Se,ce){return l.coerce(R,F,u.rangebreaks,Se,ce)}var P=j("enabled");if(P){var ee=j("bounds");if(ee&&ee.length>=2){var J="",K,ae;if(ee.length===2){for(K=0;K<2;K++)if(ae=k(ee[K]),ae){J=O;break}}var Q=j("pattern",J);if(Q===O)for(K=0;K<2;K++)ae=k(ee[K]),ae&&(F.bounds[K]=ee[K]=ae-1);if(Q)for(K=0;K<2;K++)switch(ae=ee[K],Q){case O:if(!m(ae)){F.enabled=!1;return}if(ae=+ae,ae!==Math.floor(ae)||ae<0||ae>=7){F.enabled=!1;return}F.bounds[K]=ee[K]=ae;break;case D:if(!m(ae)){F.enabled=!1;return}if(ae=+ae,ae<0||ae>24){F.enabled=!1;return}F.bounds[K]=ee[K]=ae;break}if(H.autorange===!1){var he=H.range;if(he[0]<he[1]){if(ee[0]<he[0]&&ee[1]>he[1]){F.enabled=!1;return}}else if(ee[0]>he[0]&&ee[1]<he[1]){F.enabled=!1;return}}}else{var ge=j("values");if(ge&&ge.length)j("dvalue");else{F.enabled=!1;return}}}}var M={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function k(R){if(typeof R=="string")return M[R.substr(0,3).toLowerCase()]}},2663:function(L,A,s){var m=s(1562),h=m.FORMAT_LINK,l=m.DATE_FORMAT_LINK;function c(d,g){return{valType:"string",dflt:"",editType:"none",description:(g?i:u)("hover text",d)+["By default the values are formatted using "+(g?"generic number format":"`"+d+"axis.hoverformat`")+"."].join(" ")}}function i(d,g){return["Sets the "+d+" formatting rule"+(g?"for `"+g+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+h+"."].join(" ")}function u(d,g){return i(d,g)+[" And for dates see: "+l+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}L.exports={axisHoverFormat:c,descriptionOnlyNumbers:i,descriptionWithDates:u}},1675:function(L,A,s){var m=s(3972),h=s(5555);A.id2name=function(i){if(!(typeof i!="string"||!i.match(h.AX_ID_PATTERN))){var u=i.split(" ")[0].substr(1);return u==="1"&&(u=""),i.charAt(0)+"axis"+u}},A.name2id=function(i){if(i.match(h.AX_NAME_PATTERN)){var u=i.substr(5);return u==="1"&&(u=""),i.charAt(0)+u}},A.cleanId=function(i,u,d){var g=/( domain)$/.test(i);if(!(typeof i!="string"||!i.match(h.AX_ID_PATTERN))&&!(u&&i.charAt(0)!==u)&&!(g&&!d)){var v=i.split(" ")[0].substr(1).replace(/^0+/,"");return v==="1"&&(v=""),i.charAt(0)+v+(g&&d?" domain":"")}},A.list=function(c,i,u){var d=c._fullLayout;if(!d)return[];var g=A.listIds(c,i),v=new Array(g.length),x;for(x=0;x<g.length;x++){var C=g[x];v[x]=d[C.charAt(0)+"axis"+C.substr(1)]}if(!u){var _=d._subplots.gl3d||[];for(x=0;x<_.length;x++){var $=d[_[x]];i?v.push($[i+"axis"]):v.push($.xaxis,$.yaxis,$.zaxis)}}return v},A.listIds=function(c,i){var u=c._fullLayout;if(!u)return[];var d=u._subplots;return i?d[i+"axis"]:d.xaxis.concat(d.yaxis)},A.getFromId=function(c,i,u){var d=c._fullLayout;return i=i===void 0||typeof i!="string"?i:i.replace(" domain",""),u==="x"?i=i.replace(/y[0-9]*/,""):u==="y"&&(i=i.replace(/x[0-9]*/,"")),d[A.id2name(i)]},A.getFromTrace=function(c,i,u){var d=c._fullLayout,g=null;if(m.traceIs(i,"gl3d")){var v=i.scene;v.substr(0,5)==="scene"&&(g=d[v][u+"axis"])}else g=A.getFromId(c,i[u+"axis"]||u);return g},A.idSort=function(c,i){var u=c.charAt(0),d=i.charAt(0);return u!==d?u>d?1:-1:+(c.substr(1)||1)-+(i.substr(1)||1)},A.ref2id=function(c){return/^[xyz]/.test(c)?c.split(" ")[0]:!1};function l(c,i){if(i&&i.length){for(var u=0;u<i.length;u++)if(i[u][c])return!0}return!1}A.isLinked=function(c,i){return l(i,c._axisMatchGroups)||l(i,c._axisConstraintGroups)}},5258:function(L){function A(s,m){var h=m.dataAttr||s._id.charAt(0),l={},c,i,u;if(m.axData)c=m.axData;else for(c=[],i=0;i<m.data.length;i++){var d=m.data[i];d[h+"axis"]===s._id&&c.push(d)}for(i=0;i<c.length;i++){var g=c[i][h];for(u=0;u<g.length;u++){var v=g[u];v!=null&&(l[v]=1)}}return Object.keys(l)}L.exports=function(m,h,l,c){if(h.type==="category"){var i=m.categoryarray,u=Array.isArray(i)&&i.length>0,d;u&&(d="array");var g=l("categoryorder",d),v;g==="array"&&(v=l("categoryarray")),!u&&g==="array"&&(g=h.categoryorder="trace"),g==="trace"?h._initialCategories=[]:g==="array"?h._initialCategories=v.slice():(v=A(h,c).sort(),g==="category ascending"?h._initialCategories=v:g==="category descending"&&(h._initialCategories=v.reverse()))}}},6287:function(L,A,s){var m=s(2770),h=s(1828),l=s(606),c=l.ONEDAY,i=l.ONEWEEK;A.dtick=function(u,d){var g=d==="log",v=d==="date",x=d==="category",C=v?c:1;if(!u)return C;if(m(u))return u=Number(u),u<=0?C:x?Math.max(1,Math.round(u)):v?Math.max(.1,u):u;if(typeof u!="string"||!(v||g))return C;var _=u.charAt(0),$=u.substr(1);return $=m($)?Number($):0,$<=0||!(v&&_==="M"&&$===Math.round($)||g&&_==="L"||g&&_==="D"&&($===1||$===2))?C:u},A.tick0=function(u,d,g,v){if(d==="date")return h.cleanDate(u,h.dateTick0(g,v%i===0?1:0));if(!(v==="D1"||v==="D2"))return m(u)?Number(u):0}},5555:function(L,A,s){var m=s(587).counter;L.exports={idRegex:{x:m("x","( domain)?"),y:m("y","( domain)?")},attrRegex:m("[xy]axis"),xAxisMatch:m("xaxis"),yAxisMatch:m("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},9082:function(L,A,s){var m=s(1828),h=s(1739),l=s(1675).id2name,c=s(3838),i=s(2449),u=s(1994),d=s(606).ALMOST_EQUAL,g=s(8783).FROM_BL;A.handleDefaults=function(D,N,M){var k=M.axIds,R=M.axHasImage,F=N._axisConstraintGroups=[],H=N._axisMatchGroups=[],j,P,ee,J,K,ae,Q,he;for(j=0;j<k.length;j++)J=l(k[j]),K=D[J],ae=N[J],v(K,ae,{axIds:k,layoutOut:N,hasImage:R[J]});function ge(ke,Ne){for(j=0;j<ke.length;j++){P=ke[j];for(ee in P)N[l(ee)][Ne]=P}}for(ge(H,"_matchGroup"),j=0;j<F.length;j++){P=F[j];for(ee in P)if(ae=N[l(ee)],ae.fixedrange){for(var Se in P){var ce=l(Se);(D[ce]||{}).fixedrange===!1&&m.warn("fixedrange was specified as false for axis "+ce+" but was overridden because another axis in its constraint group has fixedrange true"),N[ce].fixedrange=!0}break}}for(j=0;j<F.length;){P=F[j];for(ee in P){ae=N[l(ee)],ae._matchGroup&&Object.keys(ae._matchGroup).length===Object.keys(P).length&&(F.splice(j,1),j--);break}j++}ge(F,"_constraintGroup");var ne=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],fe=!1,X=!1;function ye(){he=ae[Q],Q==="rangebreaks"&&(X=ae._hasDayOfWeekBreaks)}for(j=0;j<H.length;j++){P=H[j];for(var Ce=0;Ce<ne.length;Ce++){Q=ne[Ce],he=null;var $e;for(ee in P)if(J=l(ee),K=D[J],ae=N[J],Q in ae){if(!ae.matches&&($e=ae,Q in K)){ye();break}he===null&&Q in K&&ye()}if(Q==="range"&&he&&K.range&&K.range.length===2&&K.range[0]!==null&&K.range[1]!==null&&(fe=!0),Q==="autorange"&&he===null&&fe&&(he=!1),he===null&&Q in $e&&(he=$e[Q]),he!==null)for(ee in P)ae=N[l(ee)],ae[Q]=Q==="range"?he.slice():he,Q==="rangebreaks"&&(ae._hasDayOfWeekBreaks=X,u(ae,N))}}};function v(D,N,M){var k=M.axIds,R=M.layoutOut,F=M.hasImage,H=R._axisConstraintGroups,j=R._axisMatchGroups,P=N._id,ee=P.charAt(0),J=((R._splomAxes||{})[ee]||{})[P]||{},K=N._id,ae=K.charAt(0)==="x";N._matchGroup=null,N._constraintGroup=null;function Q(Fe,ie){return m.coerce(D,N,c,Fe,ie)}Q("constrain",F?"domain":"range"),m.coerce(D,N,{constraintoward:{valType:"enumerated",values:ae?["left","center","right"]:["bottom","middle","top"],dflt:ae?"center":"middle"}},"constraintoward");var he=N.type,ge,Se,ce=[];for(ge=0;ge<k.length;ge++)if(Se=k[ge],Se!==K){var ne=R[l(Se)];ne.type===he&&ce.push(Se)}var fe=C(H,K);if(fe){var X=[];for(ge=0;ge<ce.length;ge++)Se=ce[ge],fe[Se]||X.push(Se);ce=X}var ye=ce.length,Ce,$e;ye&&(D.matches||J.matches)&&(Ce=m.coerce(D,N,{matches:{valType:"enumerated",values:ce,dflt:ce.indexOf(J.matches)!==-1?J.matches:void 0}},"matches"));var ke=F&&!ae?N.anchor:void 0;if(ye&&!Ce&&(D.scaleanchor||ke)&&($e=m.coerce(D,N,{scaleanchor:{valType:"enumerated",values:ce.concat([!1])}},"scaleanchor",ke)),Ce){N._matchGroup=_(j,K,Ce,1);var Ne=R[l(Ce)],Ve=x(R,N)/x(R,Ne);ae!==(Ce.charAt(0)==="x")&&(Ve=(ae?"x":"y")+Ve),_(H,K,Ce,Ve)}else D.matches&&k.indexOf(D.matches)!==-1&&m.warn("ignored "+N._name+'.matches: "'+D.matches+'" to avoid an infinite loop');if($e){var Oe=Q("scaleratio");Oe||(Oe=N.scaleratio=1),_(H,K,$e,Oe)}else D.scaleanchor&&k.indexOf(D.scaleanchor)!==-1&&m.warn("ignored "+N._name+'.scaleanchor: "'+D.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function x(D,N){var M=N.domain;return M||(M=D[l(N.overlaying)].domain),M[1]-M[0]}function C(D,N){for(var M=0;M<D.length;M++)if(D[M][N])return D[M];return null}function _(D,N,M,k){var R,F,H,j,P,ee=C(D,N);ee===null?(ee={},ee[N]=1,P=D.length,D.push(ee)):P=D.indexOf(ee);var J=Object.keys(ee);for(R=0;R<D.length;R++)if(H=D[R],R!==P&&H[M]){var K=H[M];for(F=0;F<J.length;F++)j=J[F],H[j]=$(K,$(k,ee[j]));D.splice(P,1);return}if(k!==1)for(F=0;F<J.length;F++){var ae=J[F];ee[ae]=$(k,ee[ae])}ee[M]=1}function $(D,N){var M="",k="",R,F;typeof D=="string"&&(M=D.match(/^[xy]*/)[0],R=M.length,D=+D.substr(R)),typeof N=="string"&&(k=N.match(/^[xy]*/)[0],F=k.length,N=+N.substr(F));var H=D*N;return!R&&!F?H:!R||!F||M.charAt(0)===k.charAt(0)?M+k+D*N:R===F?H:(R>F?M.substr(F):k.substr(R))+H}function S(D,N){for(var M=N._size,k=M.h/M.w,R={},F=Object.keys(D),H=0;H<F.length;H++){var j=F[H],P=D[j];if(typeof P=="string"){var ee=P.match(/^[xy]*/)[0],J=ee.length;P=+P.substr(J);for(var K=ee.charAt(0)==="y"?k:1/k,ae=0;ae<J;ae++)P*=K}R[j]=P}return R}A.enforce=function(N){var M=N._fullLayout,k=M._axisConstraintGroups||[],R,F,H,j,P,ee,J,K;for(R=0;R<k.length;R++){H=S(k[R],M);var ae=Object.keys(H),Q=1/0,he=0,ge=1/0,Se={},ce={},ne=!1;for(F=0;F<ae.length;F++)j=ae[F],ce[j]=P=M[l(j)],P._inputDomain?P.domain=P._inputDomain.slice():P._inputDomain=P.domain.slice(),P._inputRange||(P._inputRange=P.range.slice()),P.setScale(),Se[j]=ee=Math.abs(P._m)/H[j],Q=Math.min(Q,ee),(P.constrain==="domain"||!P._constraintShrinkable)&&(ge=Math.min(ge,ee)),delete P._constraintShrinkable,he=Math.max(he,ee),P.constrain==="domain"&&(ne=!0);if(!(Q>d*he&&!ne)){for(F=0;F<ae.length;F++)if(j=ae[F],ee=Se[j],P=ce[j],J=P.constrain,ee!==ge||J==="domain")if(K=ee/ge,J==="range")i(P,K);else{var fe=P._inputDomain,X=(P.domain[1]-P.domain[0])/(fe[1]-fe[0]),ye=(P.r2l(P.range[1])-P.r2l(P.range[0]))/(P.r2l(P._inputRange[1])-P.r2l(P._inputRange[0]));if(K/=X,K*ye<1){P.domain=P._input.domain=fe.slice(),i(P,K);continue}if(ye<1&&(P.range=P._input.range=P._inputRange.slice(),K*=ye),P.autorange){var Ce=P.r2l(P.range[0]),$e=P.r2l(P.range[1]),ke=(Ce+$e)/2,Ne=ke,Ve=ke,Oe=Math.abs($e-ke),Fe=ke-Oe*K*1.0001,ie=ke+Oe*K*1.0001,we=h.makePadFn(M,P,0),se=h.makePadFn(M,P,1);O(P,K);var ue=Math.abs(P._m),pe=h.concatExtremes(N,P),le=pe.min,Te=pe.max,de,Me;for(Me=0;Me<le.length;Me++)de=le[Me].val-we(le[Me])/ue,de>Fe&&de<Ne&&(Ne=de);for(Me=0;Me<Te.length;Me++)de=Te[Me].val+se(Te[Me])/ue,de<ie&&de>Ve&&(Ve=de);var Re=(Ve-Ne)/(2*Oe);K/=Re,Ne=P.l2r(Ne),Ve=P.l2r(Ve),P.range=P._input.range=Ce<$e?[Ne,Ve]:[Ve,Ne]}O(P,K)}}}},A.getAxisGroup=function(N,M){for(var k=N._axisMatchGroups,R=0;R<k.length;R++){var F=k[R];if(F[M])return"g"+R}return M},A.clean=function(N,M){if(M._inputDomain){for(var k=!1,R=M._id,F=N._fullLayout._axisConstraintGroups,H=0;H<F.length;H++)if(F[H][R]){k=!0;break}(!k||M.constrain!=="domain")&&(M._input.domain=M.domain=M._inputDomain,delete M._inputDomain)}};function O(D,N){var M=D._inputDomain,k=g[D.constraintoward],R=M[0]+(M[1]-M[0])*k;D.domain=D._input.domain=[R+(M[0]-R)/N,R+(M[1]-R)/N],D.setScale()}},9323:function(L,A,s){var m=s(9898),h=s(1828),l=h.numberFormat,c=s(4267),i=s(8520),u=s(3972),d=h.strTranslate,g=s(3893),v=s(7901),x=s(1424),C=s(211),_=s(9298),$=s(6964),S=s(8569),O=s(4505),D=O.selectingOrDrawing,N=O.freeMode,M=s(8783).FROM_TL,k=s(3306),R=s(1549).redrawReglTraces,F=s(4875),H=s(1675).getFromId,j=s(7322).prepSelect,P=s(7322).clearOutline,ee=s(7322).selectOnClick,J=s(2449),K=s(5555),ae=K.MINDRAG,Q=K.MINZOOM,he=!0;function ge(de,Me,Re,ze,We,ot,dt,Ge){var Xe=de._fullLayout._zoomlayer,qe=dt+Ge==="nsew",gt=(dt+Ge).length===1,ut,tt,Ct,Gt,Yt,Nt,Ft,pn,_n,sn,Zn,an,Cn,jn,Wn,wn,lt,ft,wt,vt,$t,Ze,it;Re+=Me.yaxis._shift;function ht(){if(ut=Me.xaxis,tt=Me.yaxis,_n=ut._length,sn=tt._length,Ft=ut._offset,pn=tt._offset,Ct={},Ct[ut._id]=ut,Gt={},Gt[tt._id]=tt,dt&&Ge)for(var Ot=Me.overlays,_t=0;_t<Ot.length;_t++){var qt=Ot[_t].xaxis;Ct[qt._id]=qt;var cn=Ot[_t].yaxis;Gt[cn._id]=cn}Yt=Te(Ct),Nt=Te(Gt),Cn=ne(Yt,Ge),jn=ne(Nt,dt),Wn=!jn&&!Cn,an=pe(de,de._fullLayout._axisMatchGroups,Ct,Gt),Zn=pe(de,de._fullLayout._axisConstraintGroups,Ct,Gt,an);var Qt=Zn.isSubplotConstrained||an.isSubplotConstrained;wn=Ge||Qt,lt=dt||Qt;var nn=de._fullLayout;ft=nn._has("scattergl"),wt=nn._has("splom"),vt=nn._has("svg")}ht();var pt=$e(jn+Cn,de._fullLayout.dragmode,qe),Tt=ce(Me,dt+Ge+"drag",pt,Re,ze,We,ot);if(Wn&&!qe)return Tt.onmousedown=null,Tt.style.pointerEvents="none",Tt;var Et={element:Tt,gd:de,plotinfo:Me};Et.prepFn=function(Ot,_t,qt){var cn=Et.dragmode,Qt=de._fullLayout.dragmode;Qt!==cn&&(Et.dragmode=Qt),ht(),Ze=de._fullLayout._invScaleX,it=de._fullLayout._invScaleY,Wn||(qe?Ot.shiftKey?Qt==="pan"?Qt="zoom":D(Qt)||(Qt="pan"):Ot.ctrlKey&&(Qt="pan"):Qt="pan"),N(Qt)?Et.minDrag=1:Et.minDrag=void 0,D(Qt)?(Et.xaxes=Yt,Et.yaxes=Nt,j(Ot,_t,qt,Et,Qt)):(Et.clickFn=tn,D(cn)&&fn(),Wn||(Qt==="zoom"?(Et.moveFn=rr,Et.doneFn=_r,Et.minDrag=1,Tr(Ot,_t,qt)):Qt==="pan"&&(Et.moveFn=vo,Et.doneFn=St))),de._fullLayout._redrag=function(){var nn=de._dragdata;if(nn&&nn.element===Tt){var Sn=de._fullLayout.dragmode;D(Sn)||(ht(),kt([0,0,_n,sn]),Et.moveFn(nn.dx,nn.dy))}}};function fn(){Et.plotinfo.selection=!1,P(de)}function tn(Ot,_t){var qt=Et.gd;if(qt._fullLayout._activeShapeIndex>=0){qt._fullLayout._deactivateShape(qt);return}var cn=qt._fullLayout.clickmode;if(Fe(qt),Ot===2&&!gt&&De(),qe)cn.indexOf("select")>-1&&ee(_t,qt,Yt,Nt,Me.id,Et),cn.indexOf("event")>-1&&C.click(qt,_t,Me.id);else if(Ot===1&&gt){var Qt=dt?tt:ut,nn=dt==="s"||Ge==="w"?0:1,Sn=Qt._name+".range["+nn+"]",bn=fe(Qt,nn),gn="left",Qn="middle";if(Qt.fixedrange)return;dt?(Qn=dt==="n"?"top":"bottom",Qt.side==="right"&&(gn="right")):Ge==="e"&&(gn="right"),qt._context.showAxisRangeEntryBoxes&&m.select(Tt).call(g.makeEditable,{gd:qt,immediate:!0,background:qt._fullLayout.paper_bgcolor,text:String(bn),fill:Qt.tickfont?Qt.tickfont.color:"#444",horizontalAlign:gn,verticalAlign:Qn}).on("edit",function(Bn){var Hr=Qt.d2r(Bn);Hr!==void 0&&u.call("_guiRelayout",qt,Sn,Hr)})}}S.init(Et);var Zt,Dt,un,Un,tr,Er,zt,pr,Gn,Ir;function Tr(Ot,_t,qt){var cn=Tt.getBoundingClientRect();Zt=_t-cn.left,Dt=qt-cn.top,de._fullLayout._calcInverseTransform(de);var Qt=h.apply3DTransform(de._fullLayout._invTransform)(Zt,Dt);Zt=Qt[0],Dt=Qt[1],un={l:Zt,r:Zt,w:0,t:Dt,b:Dt,h:0},Un=de._hmpixcount?de._hmlumcount/de._hmpixcount:c(de._fullLayout.plot_bgcolor).getLuminance(),tr="M0,0H"+_n+"V"+sn+"H0V0",Er=!1,zt="xy",Ir=!1,pr=ke(Xe,Un,Ft,pn,tr),Gn=Ne(Xe,Ft,pn)}function rr(Ot,_t){if(de._transitioningWithDuration)return!1;var qt=Math.max(0,Math.min(_n,Ze*Ot+Zt)),cn=Math.max(0,Math.min(sn,it*_t+Dt)),Qt=Math.abs(qt-Zt),nn=Math.abs(cn-Dt);un.l=Math.min(Zt,qt),un.r=Math.max(Zt,qt),un.t=Math.min(Dt,cn),un.b=Math.max(Dt,cn);function Sn(){zt="",un.r=un.l,un.t=un.b,Gn.attr("d","M0,0Z")}if(Zn.isSubplotConstrained)Qt>Q||nn>Q?(zt="xy",Qt/_n>nn/sn?(nn=Qt*sn/_n,Dt>cn?un.t=Dt-nn:un.b=Dt+nn):(Qt=nn*_n/sn,Zt>qt?un.l=Zt-Qt:un.r=Zt+Qt),Gn.attr("d",ue(un))):Sn();else if(an.isSubplotConstrained)if(Qt>Q||nn>Q){zt="xy";var bn=Math.min(un.l/_n,(sn-un.b)/sn),gn=Math.max(un.r/_n,(sn-un.t)/sn);un.l=bn*_n,un.r=gn*_n,un.b=(1-bn)*sn,un.t=(1-gn)*sn,Gn.attr("d",ue(un))}else Sn();else!jn||nn<Math.min(Math.max(Qt*.6,ae),Q)?Qt<ae||!Cn?Sn():(un.t=0,un.b=sn,zt="x",Gn.attr("d",we(un,Dt))):!Cn||Qt<Math.min(nn*.6,Q)?(un.l=0,un.r=_n,zt="y",Gn.attr("d",se(un,Zt))):(zt="xy",Gn.attr("d",ue(un)));un.w=un.r-un.l,un.h=un.b-un.t,zt&&(Ir=!0),de._dragged=Ir,Ve(pr,Gn,un,tr,Er,Un),Yr(),de.emit("plotly_relayouting",$t),Er=!0}function Yr(){$t={},(zt==="xy"||zt==="x")&&(X(Yt,un.l/_n,un.r/_n,$t,Zn.xaxes),Cr("x",$t)),(zt==="xy"||zt==="y")&&(X(Nt,(sn-un.b)/sn,(sn-un.t)/sn,$t,Zn.yaxes),Cr("y",$t))}function _r(){Yr(),Fe(de),St(),ie(de)}var Ln=[0,0,_n,sn],xr=null,or=K.REDRAWDELAY,wr=Me.mainplot?de._fullLayout._plots[Me.mainplot]:Me;function ro(Ot){if(!de._context._scrollZoom.cartesian&&!de._fullLayout._enablescrollzoom)return;if(fn(),de._transitioningWithDuration){Ot.preventDefault(),Ot.stopPropagation();return}ht(),clearTimeout(xr);var _t=-Ot.deltaY;if(isFinite(_t)||(_t=Ot.wheelDelta/10),!isFinite(_t)){h.log("Did not find wheel motion attributes: ",Ot);return}var qt=Math.exp(-Math.min(Math.max(_t,-20),20)/200),cn=wr.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Qt=(Ot.clientX-cn.left)/cn.width,nn=(cn.bottom-Ot.clientY)/cn.height,Sn;function bn(gn,Qn,Bn){if(gn.fixedrange)return;var Hr=h.simpleMap(gn.range,gn.r2l),fr=Hr[0]+(Hr[1]-Hr[0])*Qn;function Vr(ar){return gn.l2r(fr+(ar-fr)*Bn)}gn.range=Hr.map(Vr)}if(wn){for(Ge||(Qt=.5),Sn=0;Sn<Yt.length;Sn++)bn(Yt[Sn],Qt,qt);Cr("x"),Ln[2]*=qt,Ln[0]+=Ln[2]*Qt*(1/qt-1)}if(lt){for(dt||(nn=.5),Sn=0;Sn<Nt.length;Sn++)bn(Nt[Sn],nn,qt);Cr("y"),Ln[3]*=qt,Ln[1]+=Ln[3]*(1-nn)*(1/qt-1)}kt(Ln),He(),de.emit("plotly_relayouting",$t),xr=setTimeout(function(){de._fullLayout&&(Ln=[0,0,_n,sn],St())},or),Ot.preventDefault()}dt.length*Ge.length!==1&&le(Tt,ro);function vo(Ot,_t){if(Ot=Ot*Ze,_t=_t*it,de._transitioningWithDuration)return;if(de._fullLayout._replotting=!0,Cn==="ew"||jn==="ns"){var qt=Cn?-Ot:0,cn=jn?-_t:0;if(an.isSubplotConstrained){if(Cn&&jn){var Qt=(Ot/_n-_t/sn)/2;Ot=Qt*_n,_t=-Qt*sn,qt=-Ot,cn=-_t}jn?qt=-cn*_n/sn:cn=-qt*sn/_n}Cn&&(ye(Yt,Ot),Cr("x")),jn&&(ye(Nt,_t),Cr("y")),kt([qt,cn,_n,sn]),He(),de.emit("plotly_relayouting",$t);return}function nn(Vr,ar,cr){for(var Kr=1-ar,qr,So,wa=0;wa<Vr.length;wa++){var bo=Vr[wa];if(!bo.fixedrange){qr=bo,So=bo._rl[Kr]+(bo._rl[ar]-bo._rl[Kr])/Ce(cr/bo._length);var Zo=bo.l2r(So);Zo!==!1&&Zo!==void 0&&(bo.range[ar]=Zo)}}return qr._length*(qr._rl[ar]-So)/(qr._rl[ar]-qr._rl[Kr])}var Sn=Cn==="w"==(jn==="n")?1:-1;if(Cn&&jn&&(Zn.isSubplotConstrained||an.isSubplotConstrained)){var bn=(Ot/_n+Sn*_t/sn)/2;Ot=bn*_n,_t=Sn*bn*sn}var gn,Qn;if(Cn==="w"?Ot=nn(Yt,0,Ot):Cn==="e"?Ot=nn(Yt,1,-Ot):Cn||(Ot=0),jn==="n"?_t=nn(Nt,1,_t):jn==="s"?_t=nn(Nt,0,-_t):jn||(_t=0),gn=Cn==="w"?Ot:0,Qn=jn==="n"?_t:0,Zn.isSubplotConstrained&&!an.isSubplotConstrained||an.isSubplotConstrained&&Cn&&jn&&Sn>0){var Bn;if(an.isSubplotConstrained||!Cn&&jn.length===1){for(Bn=0;Bn<Yt.length;Bn++)Yt[Bn].range=Yt[Bn]._r.slice(),J(Yt[Bn],1-_t/sn);Ot=_t*_n/sn,gn=Ot/2}if(an.isSubplotConstrained||!jn&&Cn.length===1){for(Bn=0;Bn<Nt.length;Bn++)Nt[Bn].range=Nt[Bn]._r.slice(),J(Nt[Bn],1-Ot/_n);_t=Ot*sn/_n,Qn=_t/2}}(!an.isSubplotConstrained||!jn)&&Cr("x"),(!an.isSubplotConstrained||!Cn)&&Cr("y");var Hr=_n-Ot,fr=sn-_t;an.isSubplotConstrained&&!(Cn&&jn)&&(Cn?(Qn=gn?0:Ot*sn/_n,fr=Hr*sn/_n):(gn=Qn?0:_t*_n/sn,Hr=fr*_n/sn)),kt([gn,Qn,Hr,fr]),He(),de.emit("plotly_relayouting",$t)}function Cr(Ot,_t){for(var qt=an.isSubplotConstrained?{x:Nt,y:Yt}[Ot]:an[Ot+"axes"],cn=an.isSubplotConstrained?{x:Yt,y:Nt}[Ot]:[],Qt=0;Qt<qt.length;Qt++){var nn=qt[Qt],Sn=nn._id,bn=an.xLinks[Sn]||an.yLinks[Sn],gn=cn[0]||Ct[bn]||Gt[bn];gn&&(_t?(_t[nn._name+".range[0]"]=_t[gn._name+".range[0]"],_t[nn._name+".range[1]"]=_t[gn._name+".range[1]"]):nn.range=gn.range.slice())}}function He(){var Ot=[],_t;function qt(Sn){for(_t=0;_t<Sn.length;_t++)Sn[_t].fixedrange||Ot.push(Sn[_t]._id)}function cn(Sn,bn){for(_t=0;_t<Sn.length;_t++){var gn=Sn[_t],Qn=gn[bn];!gn.fixedrange&&Qn.tickmode==="sync"&&Ot.push(Qn._id)}}for(wn&&(qt(Yt),qt(Zn.xaxes),qt(an.xaxes),cn(Me.overlays,"xaxis")),lt&&(qt(Nt),qt(Zn.yaxes),qt(an.yaxes),cn(Me.overlays,"yaxis")),$t={},_t=0;_t<Ot.length;_t++){var Qt=Ot[_t],nn=H(de,Qt);_.drawOne(de,nn,{skipTitle:!0}),$t[nn._name+".range[0]"]=nn.range[0],$t[nn._name+".range[1]"]=nn.range[1]}_.redrawComponents(de,Ot)}function De(){if(!de._transitioningWithDuration){var Ot=de._context.doubleClick,_t=[];Cn&&(_t=_t.concat(Yt)),jn&&(_t=_t.concat(Nt)),an.xaxes&&(_t=_t.concat(an.xaxes)),an.yaxes&&(_t=_t.concat(an.yaxes));var qt={},cn,Qt;if(Ot==="reset+autosize")for(Ot="autosize",Qt=0;Qt<_t.length;Qt++){cn=_t[Qt];var nn=cn._rangeInitial0,Sn=cn._rangeInitial1,bn=nn!==void 0||Sn!==void 0;if(bn&&(nn!==void 0&&nn!==cn.range[0]||Sn!==void 0&&Sn!==cn.range[1])||!bn&&cn.autorange!==!0){Ot="reset";break}}if(Ot==="autosize")for(Qt=0;Qt<_t.length;Qt++)cn=_t[Qt],cn.fixedrange||(qt[cn._name+".autorange"]=!0);else if(Ot==="reset"){for((Cn||Zn.isSubplotConstrained)&&(_t=_t.concat(Zn.xaxes)),jn&&!Zn.isSubplotConstrained&&(_t=_t.concat(Zn.yaxes)),Zn.isSubplotConstrained&&(Cn?jn||(_t=_t.concat(Nt)):_t=_t.concat(Yt)),Qt=0;Qt<_t.length;Qt++)if(cn=_t[Qt],!cn.fixedrange){var gn=cn._name,Qn=cn._autorangeInitial;cn._rangeInitial0===void 0&&cn._rangeInitial1===void 0?qt[gn+".autorange"]=!0:cn._rangeInitial0===void 0?(qt[gn+".autorange"]=Qn,qt[gn+".range"]=[null,cn._rangeInitial1]):cn._rangeInitial1===void 0?(qt[gn+".range"]=[cn._rangeInitial0,null],qt[gn+".autorange"]=Qn):qt[gn+".range"]=[cn._rangeInitial0,cn._rangeInitial1]}}de.emit("plotly_doubleclick",null),u.call("_guiRelayout",de,qt)}}function St(){kt([0,0,_n,sn]),h.syncOrAsync([F.previousPromises,function(){de._fullLayout._replotting=!1,u.call("_guiRelayout",de,$t)}],de)}function kt(Ot){var _t=de._fullLayout,qt=_t._plots,cn=_t._subplots.cartesian,Qt,nn,Sn,bn;if(wt&&u.subplotsRegistry.splom.drag(de),ft){for(Qt=0;Qt<cn.length;Qt++)if(nn=qt[cn[Qt]],Sn=nn.xaxis,bn=nn.yaxis,nn._scene){var gn=h.simpleMap(Sn.range,Sn.r2l),Qn=h.simpleMap(bn.range,bn.r2l);Sn.limitRange&&Sn.limitRange(),bn.limitRange&&bn.limitRange(),gn=Sn.range,Qn=bn.range,nn._scene.update({range:[gn[0],Qn[0],gn[1],Qn[1]]})}}if((wt||ft)&&(k(de),R(de)),vt){var Bn=Ot[2]/ut._length,Hr=Ot[3]/tt._length;for(Qt=0;Qt<cn.length;Qt++){nn=qt[cn[Qt]],Sn=nn.xaxis,bn=nn.yaxis;var fr=(wn||an.isSubplotConstrained)&&!Sn.fixedrange&&Ct[Sn._id],Vr=(lt||an.isSubplotConstrained)&&!bn.fixedrange&&Gt[bn._id],ar,cr,Kr,qr;if(fr?(ar=Bn,Kr=Ge||an.isSubplotConstrained?Ot[0]:Ut(Sn,ar)):an.xaHash[Sn._id]?(ar=Bn,Kr=Ot[0]*Sn._length/ut._length):an.yaHash[Sn._id]?(ar=Hr,Kr=jn==="ns"?-Ot[1]*Sn._length/tt._length:Ut(Sn,ar,{n:"top",s:"bottom"}[jn])):(ar=Pt(Sn,Bn,Hr),Kr=Bt(Sn,ar)),ar>1&&(Sn.maxallowed!==void 0&&wn===(Sn.range[0]<Sn.range[1]?"e":"w")||Sn.minallowed!==void 0&&wn===(Sn.range[0]<Sn.range[1]?"w":"e"))&&(ar=1,Kr=0),Vr?(cr=Hr,qr=dt||an.isSubplotConstrained?Ot[1]:Ut(bn,cr)):an.yaHash[bn._id]?(cr=Hr,qr=Ot[1]*bn._length/tt._length):an.xaHash[bn._id]?(cr=Bn,qr=Cn==="ew"?-Ot[0]*bn._length/ut._length:Ut(bn,cr,{e:"right",w:"left"}[Cn])):(cr=Pt(bn,Bn,Hr),qr=Bt(bn,cr)),cr>1&&(bn.maxallowed!==void 0&&lt===(bn.range[0]<bn.range[1]?"n":"s")||bn.minallowed!==void 0&&lt===(bn.range[0]<bn.range[1]?"s":"n"))&&(cr=1,qr=0),!(!ar&&!cr)){ar||(ar=1),cr||(cr=1);var So=Sn._offset-Kr/ar,wa=bn._offset-qr/cr;nn.clipRect.call(x.setTranslate,Kr,qr).call(x.setScale,ar,cr),nn.plot.call(x.setTranslate,So,wa).call(x.setScale,1/ar,1/cr),(ar!==nn.xScaleFactor||cr!==nn.yScaleFactor)&&(x.setPointGroupScale(nn.zoomScalePts,ar,cr),x.setTextPointsScale(nn.zoomScaleTxt,ar,cr)),x.hideOutsideRangePoints(nn.clipOnAxisFalseTraces,nn),nn.xScaleFactor=ar,nn.yScaleFactor=cr}}}}function Pt(Ot,_t,qt){return Ot.fixedrange?0:wn&&Zn.xaHash[Ot._id]?_t:lt&&(Zn.isSubplotConstrained?Zn.xaHash:Zn.yaHash)[Ot._id]?qt:0}function Bt(Ot,_t){return _t?(Ot.range=Ot._r.slice(),J(Ot,_t),Ut(Ot,_t)):0}function Ut(Ot,_t,qt){return Ot._length*(1-_t)*M[qt||Ot.constraintoward||"middle"]}return Tt}function Se(de,Me,Re,ze){var We=h.ensureSingle(de.draglayer,Me,Re,function(ot){ot.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",de.id)});return We.call($,ze),We.node()}function ce(de,Me,Re,ze,We,ot,dt){var Ge=Se(de,"rect",Me,Re);return m.select(Ge).call(x.setRect,ze,We,ot,dt),Ge}function ne(de,Me){for(var Re=0;Re<de.length;Re++)if(!de[Re].fixedrange)return Me;return""}function fe(de,Me){var Re=de.range[Me],ze=Math.abs(Re-de.range[1-Me]),We;return de.type==="date"?Re:de.type==="log"?(We=Math.ceil(Math.max(0,-Math.log(ze)/Math.LN10))+3,l("."+We+"g")(Math.pow(10,Re))):(We=Math.floor(Math.log(Math.abs(Re))/Math.LN10)-Math.floor(Math.log(ze)/Math.LN10)+4,l("."+String(We)+"g")(Re))}function X(de,Me,Re,ze,We){for(var ot=0;ot<de.length;ot++){var dt=de[ot];if(!dt.fixedrange)if(dt.rangebreaks){var Ge=dt._id.charAt(0)==="y",Xe=Ge?1-Me:Me,qe=Ge?1-Re:Re;ze[dt._name+".range[0]"]=dt.l2r(dt.p2l(Xe*dt._length)),ze[dt._name+".range[1]"]=dt.l2r(dt.p2l(qe*dt._length))}else{var gt=dt._rl[0],ut=dt._rl[1]-gt;ze[dt._name+".range[0]"]=dt.l2r(gt+ut*Me),ze[dt._name+".range[1]"]=dt.l2r(gt+ut*Re)}}if(We&&We.length){var tt=(Me+(1-Re))/2;X(We,tt,1-tt,ze,[])}}function ye(de,Me){for(var Re=0;Re<de.length;Re++){var ze=de[Re];if(!ze.fixedrange){if(ze.rangebreaks){var We=0,ot=ze._length,dt=ze.p2l(We+Me)-ze.p2l(We),Ge=ze.p2l(ot+Me)-ze.p2l(ot),Xe=(dt+Ge)/2;ze.range=[ze.l2r(ze._rl[0]-Xe),ze.l2r(ze._rl[1]-Xe)]}else ze.range=[ze.l2r(ze._rl[0]-Me/ze._m),ze.l2r(ze._rl[1]-Me/ze._m)];ze.limitRange&&ze.limitRange()}}}function Ce(de){return 1-(de>=0?Math.min(de,.9):1/(1/Math.max(de,-.3)+3.222))}function $e(de,Me,Re){return de?de==="nsew"?Re?"":Me==="pan"?"move":"crosshair":de.toLowerCase()+"-resize":"pointer"}function ke(de,Me,Re,ze,We){return de.append("path").attr("class","zoombox").style({fill:Me>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",d(Re,ze)).attr("d",We+"Z")}function Ne(de,Me,Re){return de.append("path").attr("class","zoombox-corners").style({fill:v.background,stroke:v.defaultLine,"stroke-width":1,opacity:0}).attr("transform",d(Me,Re)).attr("d","M0,0Z")}function Ve(de,Me,Re,ze,We,ot){de.attr("d",ze+"M"+Re.l+","+Re.t+"v"+Re.h+"h"+Re.w+"v-"+Re.h+"h-"+Re.w+"Z"),Oe(de,Me,We,ot)}function Oe(de,Me,Re,ze){Re||(de.transition().style("fill",ze>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),Me.transition().style("opacity",1).duration(200))}function Fe(de){m.select(de).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function ie(de){he&&de.data&&de._context.showTips&&(h.notifier(h._(de,"Double-click to zoom back out"),"long"),he=!1)}function we(de,Me){return"M"+(de.l-.5)+","+(Me-Q-.5)+"h-3v"+(2*Q+1)+"h3ZM"+(de.r+.5)+","+(Me-Q-.5)+"h3v"+(2*Q+1)+"h-3Z"}function se(de,Me){return"M"+(Me-Q-.5)+","+(de.t-.5)+"v-3h"+(2*Q+1)+"v3ZM"+(Me-Q-.5)+","+(de.b+.5)+"v3h"+(2*Q+1)+"v-3Z"}function ue(de){var Me=Math.floor(Math.min(de.b-de.t,de.r-de.l,Q)/2);return"M"+(de.l-3.5)+","+(de.t-.5+Me)+"h3v"+-Me+"h"+Me+"v-3h-"+(Me+3)+"ZM"+(de.r+3.5)+","+(de.t-.5+Me)+"h-3v"+-Me+"h"+-Me+"v-3h"+(Me+3)+"ZM"+(de.r+3.5)+","+(de.b+.5-Me)+"h-3v"+Me+"h"+-Me+"v3h"+(Me+3)+"ZM"+(de.l-3.5)+","+(de.b+.5-Me)+"h3v"+Me+"h"+Me+"v3h-"+(Me+3)+"Z"}function pe(de,Me,Re,ze,We){for(var ot=!1,dt={},Ge={},Xe,qe,gt,ut,tt=(We||{}).xaHash,Ct=(We||{}).yaHash,Gt=0;Gt<Me.length;Gt++){var Yt=Me[Gt];for(Xe in Re)if(Yt[Xe]){for(gt in Yt)!(We&&(tt[gt]||Ct[gt]))&&!(gt.charAt(0)==="x"?Re:ze)[gt]&&(dt[gt]=Xe);for(qe in ze)!(We&&(tt[qe]||Ct[qe]))&&Yt[qe]&&(ot=!0)}for(qe in ze)if(Yt[qe])for(ut in Yt)!(We&&(tt[ut]||Ct[ut]))&&!(ut.charAt(0)==="x"?Re:ze)[ut]&&(Ge[ut]=qe)}ot&&(h.extendFlat(dt,Ge),Ge={});var Nt={},Ft=[];for(gt in dt){var pn=H(de,gt);Ft.push(pn),Nt[pn._id]=pn}var _n={},sn=[];for(ut in Ge){var Zn=H(de,ut);sn.push(Zn),_n[Zn._id]=Zn}return{xaHash:Nt,yaHash:_n,xaxes:Ft,yaxes:sn,xLinks:dt,yLinks:Ge,isSubplotConstrained:ot}}function le(de,Me){if(!i)de.onwheel!==void 0?de.onwheel=Me:de.onmousewheel!==void 0?de.onmousewheel=Me:de.isAddedWheelEvent||(de.isAddedWheelEvent=!0,de.addEventListener("wheel",Me,{passive:!1}));else{var Re=de.onwheel!==void 0?"wheel":"mousewheel";de._onwheel&&de.removeEventListener(Re,de._onwheel),de._onwheel=Me,de.addEventListener(Re,Me,{passive:!1})}}function Te(de){var Me=[];for(var Re in de)Me.push(de[Re]);return Me}L.exports={makeDragBox:ge,makeDragger:Se,makeRectDragger:ce,makeZoombox:ke,makeCorners:Ne,updateZoombox:Ve,xyCorners:ue,transitionZoombox:Oe,removeZoombox:Fe,showDoubleClickNotifier:ie,attachWheelEventHandler:le}},4305:function(L,A,s){var m=s(9898),h=s(211),l=s(8569),c=s(6964),i=s(9323).makeDragBox,u=s(5555).DRAGGERSIZE;A.initInteractions=function(g){var v=g._fullLayout;if(g._context.staticPlot){m.select(g).selectAll(".drag").remove();return}if(!(!v._has("cartesian")&&!v._has("splom"))){var x=Object.keys(v._plots||{}).sort(function(_,$){if((v._plots[_].mainplot&&!0)===(v._plots[$].mainplot&&!0)){var S=_.split("y"),O=$.split("y");return S[0]===O[0]?Number(S[1]||1)-Number(O[1]||1):Number(S[0]||1)-Number(O[0]||1)}return v._plots[_].mainplot?1:-1});x.forEach(function(_){var $=v._plots[_],S=$.xaxis,O=$.yaxis;if(!$.mainplot){var D=i(g,$,S._offset,O._offset,S._length,O._length,"ns","ew");D.onmousemove=function(k){g._fullLayout._rehover=function(){g._fullLayout._hoversubplot===_&&g._fullLayout._plots[_]&&h.hover(g,k,_)},h.hover(g,k,_),g._fullLayout._lasthover=D,g._fullLayout._hoversubplot=_},D.onmouseout=function(k){g._dragging||(g._fullLayout._hoversubplot=null,l.unhover(g,k))},g._context.showAxisDragHandles&&(i(g,$,S._offset-u,O._offset-u,u,u,"n","w"),i(g,$,S._offset+S._length,O._offset-u,u,u,"n","e"),i(g,$,S._offset-u,O._offset+O._length,u,u,"s","w"),i(g,$,S._offset+S._length,O._offset+O._length,u,u,"s","e"))}if(g._context.showAxisDragHandles){if(_===S._mainSubplot){var N=S._mainLinePosition;S.side==="top"&&(N-=u),i(g,$,S._offset+S._length*.1,N,S._length*.8,u,"","ew"),i(g,$,S._offset,N,S._length*.1,u,"","w"),i(g,$,S._offset+S._length*.9,N,S._length*.1,u,"","e")}if(_===O._mainSubplot){var M=O._mainLinePosition;O.side!=="right"&&(M-=u),i(g,$,M,O._offset+O._length*.1,u,O._length*.8,"ns",""),i(g,$,M,O._offset+O._length*.9,u,O._length*.1,"s",""),i(g,$,M,O._offset,u,O._length*.1,"n","")}}});var C=v._hoverlayer.node();C.onmousemove=function(_){_.target=g._fullLayout._lasthover,h.hover(g,_,v._hoversubplot)},C.onclick=function(_){_.target=g._fullLayout._lasthover,h.click(g,_)},C.onmousedown=function(_){g._fullLayout._lasthover.onmousedown(_)},A.updateFx(g)}},A.updateFx=function(d){var g=d._fullLayout,v=g.dragmode==="pan"?"move":"crosshair";c(g._draggers,v)}},6325:function(L,A,s){var m=s(3972),h=s(1828),l=s(1675);L.exports=function(i){return function(d,g){var v=d[i];if(Array.isArray(v))for(var x=m.subplotsRegistry.cartesian,C=x.idRegex,_=g._subplots,$=_.xaxis,S=_.yaxis,O=_.cartesian,D=g._has("cartesian")||g._has("gl2d"),N=0;N<v.length;N++){var M=v[N];if(h.isPlainObject(M)){var k=l.cleanId(M.xref,"x",!1),R=l.cleanId(M.yref,"y",!1),F=C.x.test(k),H=C.y.test(R);if(F||H){D||h.pushUnique(g._basePlotModules,x);var j=!1;F&&$.indexOf(k)===-1&&($.push(k),j=!0),H&&S.indexOf(R)===-1&&(S.push(R),j=!0),j&&F&&H&&O.push(k+R)}}}}}},3612:function(L,A,s){var m=s(9898),h=s(3972),l=s(1828),c=s(4875),i=s(1424),u=s(7659).a0,d=s(1675),g=s(5555),v=s(7922),x=l.ensureSingle;function C(N,M,k){return l.ensureSingle(N,M,k,function(R){R.datum(k)})}A.name="cartesian",A.attr=["xaxis","yaxis"],A.idRoot=["x","y"],A.idRegex=g.idRegex,A.attrRegex=g.attrRegex,A.attributes=s(9502),A.layoutAttributes=s(3838),A.supplyLayoutDefaults=s(6763),A.transitionAxes=s(6847),A.finalizeSubplots=function(N,M){var k=M._subplots,R=k.xaxis,F=k.yaxis,H=k.cartesian,j=H.concat(k.gl2d||[]),P={},ee={},J,K,ae;for(J=0;J<j.length;J++){var Q=j[J].split("y");P[Q[0]]=1,ee["y"+Q[1]]=1}for(J=0;J<R.length;J++)K=R[J],P[K]||(ae=(N[d.id2name(K)]||{}).anchor,g.idRegex.y.test(ae)||(ae="y"),H.push(K+ae),j.push(K+ae),ee[ae]||(ee[ae]=1,l.pushUnique(F,ae)));for(J=0;J<F.length;J++)ae=F[J],ee[ae]||(K=(N[d.id2name(ae)]||{}).anchor,g.idRegex.x.test(K)||(K="x"),H.push(K+ae),j.push(K+ae),P[K]||(P[K]=1,l.pushUnique(R,K)));if(!j.length){K="",ae="";for(var he in N)if(g.attrRegex.test(he)){var ge=he.charAt(0);ge==="x"?(!K||+he.substr(5)<+K.substr(5))&&(K=he):(!ae||+he.substr(5)<+ae.substr(5))&&(ae=he)}K=K?d.name2id(K):"x",ae=ae?d.name2id(ae):"y",R.push(K),F.push(ae),H.push(K+ae)}},A.plot=function(N,M,k,R){var F=N._fullLayout,H=F._subplots.cartesian,j=N.calcdata,P;if(!Array.isArray(M))for(M=[],P=0;P<j.length;P++)M.push(P);for(P=0;P<H.length;P++){for(var ee=H[P],J=F._plots[ee],K=[],ae,Q=0;Q<j.length;Q++){var he=j[Q],ge=he[0].trace;ge.xaxis+ge.yaxis===ee&&((M.indexOf(ge.index)!==-1||ge.carpet)&&(ae&&ae[0].trace.xaxis+ae[0].trace.yaxis===ee&&["tonextx","tonexty","tonext"].indexOf(ge.fill)!==-1&&K.indexOf(ae)===-1&&K.push(ae),K.push(he)),ae=he)}_(N,J,K,k,R)}};function _(N,M,k,R,F){for(var H=g.traceLayerClasses,j=N._fullLayout,P=j._modules,ee,J,K,ae=[],Q=[],he=0;he<P.length;he++){ee=P[he];var ge=ee.name,Se=h.modules[ge].categories;if(Se.svg){var ce=ee.layerName||ge+"layer",ne=ee.plot;J=u(k,ne),K=J[0],k=J[1],K.length&&ae.push({i:H.indexOf(ce),className:ce,plotMethod:ne,cdModule:K}),Se.zoomScale&&Q.push("."+ce)}}ae.sort(function(ye,Ce){return ye.i-Ce.i});var fe=M.plot.selectAll("g.mlayer").data(ae,function(ye){return ye.className});if(fe.enter().append("g").attr("class",function(ye){return ye.className}).classed("mlayer",!0).classed("rangeplot",M.isRangePlot),fe.exit().remove(),fe.order(),fe.each(function(ye){var Ce=m.select(this),$e=ye.className;ye.plotMethod(N,M,ye.cdModule,Ce,R,F),g.clipOnAxisFalseQuery.indexOf("."+$e)===-1&&i.setClipUrl(Ce,M.layerClipId,N)}),j._has("scattergl")&&(ee=h.getModule("scattergl"),K=u(k,ee)[0],ee.plot(N,M,K)),!N._context.staticPlot&&(M._hasClipOnAxisFalse&&(M.clipOnAxisFalseTraces=M.plot.selectAll(g.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),Q.length)){var X=M.plot.selectAll(Q.join(",")).selectAll(".trace");M.zoomScalePts=X.selectAll("path.point"),M.zoomScaleTxt=X.selectAll(".textpoint")}}A.clean=function(N,M,k,R){var F=R._plots||{},H=M._plots||{},j=R._subplots||{},P,ee,J;if(R._hasOnlyLargeSploms&&!M._hasOnlyLargeSploms)for(J in F)P=F[J],P.plotgroup&&P.plotgroup.remove();var K=R._has&&R._has("gl"),ae=M._has&&M._has("gl");if(K&&!ae)for(J in F)P=F[J],P._scene&&P._scene.destroy();if(j.xaxis&&j.yaxis){var Q=d.listIds({_fullLayout:R});for(ee=0;ee<Q.length;ee++){var he=Q[ee];M[d.id2name(he)]||R._infolayer.selectAll(".g-"+he+"title").remove()}}var ge=R._has&&R._has("cartesian"),Se=M._has&&M._has("cartesian");if(ge&&!Se)O(R._cartesianlayer.selectAll(".subplot"),R),R._defs.selectAll(".axesclip").remove(),delete R._axisConstraintGroups,delete R._axisMatchGroups;else if(j.cartesian)for(ee=0;ee<j.cartesian.length;ee++){var ce=j.cartesian[ee];if(!H[ce]){var ne="."+ce+",."+ce+"-x,."+ce+"-y";R._cartesianlayer.selectAll(ne).remove(),D(ce,R)}}},A.drawFramework=function(N){var M=N._fullLayout,k=$(N),R=M._cartesianlayer.selectAll(".subplot").data(k,String);R.enter().append("g").attr("class",function(F){return"subplot "+F[0]}),R.order(),R.exit().call(O,M),R.each(function(F){var H=F[0],j=M._plots[H];j.plotgroup=m.select(this),S(N,j),j.draglayer=x(M._draggers,"g",H)})},A.rangePlot=function(N,M,k){S(N,M),_(N,M,k),c.style(N)};function $(N){var M=N._fullLayout,k=M._subplots.cartesian,R=k.length,F,H,j,P,ee,J,K=[],ae=[];for(F=0;F<R;F++){j=k[F],P=M._plots[j],ee=P.xaxis,J=P.yaxis;var Q=ee._mainAxis,he=J._mainAxis,ge=Q._id+he._id,Se=M._plots[ge];P.overlays=[],ge!==j&&Se?(P.mainplot=ge,P.mainplotinfo=Se,ae.push(j)):(P.mainplot=void 0,P.mainplotinfo=void 0,K.push(j))}for(F=0;F<ae.length;F++)j=ae[F],P=M._plots[j],P.mainplotinfo.overlays.push(P);var ce=K.concat(ae),ne=new Array(R);for(F=0;F<R;F++){j=ce[F],P=M._plots[j],ee=P.xaxis,J=P.yaxis;var fe=[j,ee.layer,J.layer,ee.overlaying||"",J.overlaying||""];for(H=0;H<P.overlays.length;H++)fe.push(P.overlays[H].id);ne[F]=fe}return ne}function S(N,M){var k=M.plotgroup,R=M.id,F=g.layerValue2layerClass[M.xaxis.layer],H=g.layerValue2layerClass[M.yaxis.layer],j=N._fullLayout._hasOnlyLargeSploms;if(M.mainplot){var ee=M.mainplotinfo,J=ee.plotgroup,K=R+"-x",ae=R+"-y";M.minorGridlayer=ee.minorGridlayer,M.gridlayer=ee.gridlayer,M.zerolinelayer=ee.zerolinelayer,x(ee.overlinesBelow,"path",K),x(ee.overlinesBelow,"path",ae),x(ee.overaxesBelow,"g",K),x(ee.overaxesBelow,"g",ae),M.plot=x(ee.overplot,"g",R),x(ee.overlinesAbove,"path",K),x(ee.overlinesAbove,"path",ae),x(ee.overaxesAbove,"g",K),x(ee.overaxesAbove,"g",ae),M.xlines=J.select(".overlines-"+F).select("."+K),M.ylines=J.select(".overlines-"+H).select("."+ae),M.xaxislayer=J.select(".overaxes-"+F).select("."+K),M.yaxislayer=J.select(".overaxes-"+H).select("."+ae)}else if(j)M.xlines=x(k,"path","xlines-above"),M.ylines=x(k,"path","ylines-above"),M.xaxislayer=x(k,"g","xaxislayer-above"),M.yaxislayer=x(k,"g","yaxislayer-above");else{var P=x(k,"g","layer-subplot");M.shapelayer=x(P,"g","shapelayer"),M.imagelayer=x(P,"g","imagelayer"),M.minorGridlayer=x(k,"g","minor-gridlayer"),M.gridlayer=x(k,"g","gridlayer"),M.zerolinelayer=x(k,"g","zerolinelayer"),x(k,"path","xlines-below"),x(k,"path","ylines-below"),M.overlinesBelow=x(k,"g","overlines-below"),x(k,"g","xaxislayer-below"),x(k,"g","yaxislayer-below"),M.overaxesBelow=x(k,"g","overaxes-below"),M.plot=x(k,"g","plot"),M.overplot=x(k,"g","overplot"),M.xlines=x(k,"path","xlines-above"),M.ylines=x(k,"path","ylines-above"),M.overlinesAbove=x(k,"g","overlines-above"),x(k,"g","xaxislayer-above"),x(k,"g","yaxislayer-above"),M.overaxesAbove=x(k,"g","overaxes-above"),M.xlines=k.select(".xlines-"+F),M.ylines=k.select(".ylines-"+H),M.xaxislayer=k.select(".xaxislayer-"+F),M.yaxislayer=k.select(".yaxislayer-"+H)}j||(C(M.minorGridlayer,"g",M.xaxis._id),C(M.minorGridlayer,"g",M.yaxis._id),M.minorGridlayer.selectAll("g").map(function(Q){return Q[0]}).sort(d.idSort),C(M.gridlayer,"g",M.xaxis._id),C(M.gridlayer,"g",M.yaxis._id),M.gridlayer.selectAll("g").map(function(Q){return Q[0]}).sort(d.idSort)),M.xlines.style("fill","none").classed("crisp",!0),M.ylines.style("fill","none").classed("crisp",!0)}function O(N,M){if(N){var k={};N.each(function(ee){var J=ee[0],K=m.select(this);K.remove(),D(J,M),k[J]=!0});for(var R in M._plots)for(var F=M._plots[R],H=F.overlays||[],j=0;j<H.length;j++){var P=H[j];k[P.id]&&P.plot.selectAll(".trace").remove()}}}function D(N,M){M._draggers.selectAll("g."+N).remove(),M._defs.select("#clip"+M._uid+N+"plot").remove()}A.toSVG=function(N){var M=N._fullLayout._glimages,k=m.select(N).selectAll(".svg-container"),R=k.filter(function(H,j){return j===k.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function F(){var H=this,j=H.toDataURL("image/png"),P=M.append("svg:image");P.attr({xmlns:v.svg,"xlink:href":j,preserveAspectRatio:"none",x:0,y:0,width:H.style.width,height:H.style.height})}R.each(F)},A.updateFx=s(4305).updateFx},3838:function(L,A,s){var m=s(1940),h=s(2399),l=s(9952).P,c=s(1426).extendFlat,i=s(4467).templatedArray,u=s(2663).descriptionWithDates,d=s(606).ONEDAY,g=s(5555),v=g.HOUR_PATTERN,x=g.WEEKDAY_PATTERN,C={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},_=c({},C,{values:C.values.slice().concat(["sync"])});function $(ee){return{valType:"integer",min:0,dflt:ee?5:0,editType:"ticks"}}var S={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},O={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},D={valType:"data_array",editType:"ticks"},N={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function M(ee){var J={valType:"number",min:0,editType:"ticks"};return ee||(J.dflt=5),J}function k(ee){var J={valType:"number",min:0,editType:"ticks"};return ee||(J.dflt=1),J}var R={valType:"color",dflt:h.defaultLine,editType:"ticks"},F={valType:"color",dflt:h.lightLine,editType:"ticks"};function H(ee){var J={valType:"number",min:0,editType:"ticks"};return ee||(J.dflt=1),J}var j=c({},l,{editType:"ticks"}),P={valType:"boolean",editType:"ticks"};L.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:h.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:m({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[g.idRegex.x.toString(),g.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[g.idRegex.x.toString(),g.idRegex.y.toString()],editType:"calc"},rangebreaks:i("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[x,v,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:d},editType:"calc"}),tickmode:_,nticks:$(),tick0:S,dtick:O,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:D,ticktext:{valType:"data_array",editType:"ticks"},ticks:N,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:M(),tickwidth:k(),tickcolor:R,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:c({},l,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:m({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:u("tick label")},tickformatstops:i("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:u("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:h.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:P,gridcolor:F,gridwidth:H(),griddash:j,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:h.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:h.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",g.idRegex.x.toString(),g.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",g.idRegex.x.toString(),g.idRegex.y.toString()],editType:"plot"},minor:{tickmode:C,nticks:$("minor"),tick0:S,dtick:O,tickvals:D,ticks:N,ticklen:M("minor"),tickwidth:k("minor"),tickcolor:R,gridcolor:F,gridwidth:H("minor"),griddash:j,showgrid:P,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:m({editType:"ticks"})}}},6763:function(L,A,s){var m=s(1828),h=s(7901),l=s(3469).isUnifiedHover,c=s(8212),i=s(4467),u=s(820),d=s(3838),g=s(951),v=s(1453),x=s(9082),C=s(2830),_=s(1675),$=_.id2name,S=_.name2id,O=s(5555).AX_ID_PATTERN,D=s(3972),N=D.traceIs,M=D.getComponentMethod;function k(R,F,H){Array.isArray(R[F])?R[F].push(H):R[F]=[H]}L.exports=function(F,H,j){var P=H.autotypenumbers,ee={},J={},K={},ae={},Q={},he={},ge={},Se={},ce={},ne={},fe,X;for(fe=0;fe<j.length;fe++){var ye=j[fe];if(!(!N(ye,"cartesian")&&!N(ye,"gl2d"))){var Ce;if(ye.xaxis)Ce=$(ye.xaxis),k(ee,Ce,ye);else if(ye.xaxes)for(X=0;X<ye.xaxes.length;X++)k(ee,$(ye.xaxes[X]),ye);var $e;if(ye.yaxis)$e=$(ye.yaxis),k(ee,$e,ye);else if(ye.yaxes)for(X=0;X<ye.yaxes.length;X++)k(ee,$(ye.yaxes[X]),ye);if(ye.type==="funnel"?ye.orientation==="h"?(Ce&&(J[Ce]=!0),$e&&(ge[$e]=!0)):$e&&(K[$e]=!0):ye.type==="image"?($e&&(Se[$e]=!0),Ce&&(Se[Ce]=!0)):($e&&(Q[$e]=!0,he[$e]=!0),(!N(ye,"carpet")||ye.type==="carpet"&&!ye._cheater)&&Ce&&(ae[Ce]=!0)),ye.type==="carpet"&&ye._cheater&&Ce&&(J[Ce]=!0),N(ye,"2dMap")&&(ce[Ce]=!0,ce[$e]=!0),N(ye,"oriented")){var ke=ye.orientation==="h"?$e:Ce;ne[ke]=!0}}}var Ne=H._subplots,Ve=Ne.xaxis,Oe=Ne.yaxis,Fe=m.simpleMap(Ve,$),ie=m.simpleMap(Oe,$),we=Fe.concat(ie),se=h.background;Ve.length&&Oe.length&&(se=m.coerce(F,H,u,"plot_bgcolor"));var ue=h.combine(se,H.paper_bgcolor),pe,le,Te,de,Me;function Re(){var Ze=ee[pe]||[];Me._traceIndices=Ze.map(function(it){return it._expandedIndex}),Me._annIndices=[],Me._shapeIndices=[],Me._selectionIndices=[],Me._imgIndices=[],Me._subplotsWith=[],Me._counterAxes=[],Me._name=Me._attr=pe,Me._id=le}function ze(Ze,it){return m.coerce(de,Me,d,Ze,it)}function We(Ze,it){return m.coerce2(de,Me,d,Ze,it)}function ot(Ze){return Ze==="x"?Oe:Ve}function dt(Ze,it){for(var ht=Ze==="x"?Fe:ie,pt=[],Tt=0;Tt<ht.length;Tt++){var Et=ht[Tt];Et!==it&&!(F[Et]||{}).overlaying&&pt.push(S(Et))}return pt}var Ge={x:ot("x"),y:ot("y")},Xe=Ge.x.concat(Ge.y),qe={},gt=[];function ut(){var Ze=de.matches;O.test(Ze)&&Xe.indexOf(Ze)===-1&&(qe[Ze]=de.type,gt=Object.keys(qe))}var tt=c(F,H),Ct=l(tt);for(fe=0;fe<we.length;fe++){pe=we[fe],le=S(pe),Te=pe.charAt(0),m.isPlainObject(F[pe])||(F[pe]={}),de=F[pe],Me=i.newContainer(H,pe,Te+"axis"),Re();var Gt=Te==="x"&&!ae[pe]&&J[pe]||Te==="y"&&!Q[pe]&&K[pe],Yt=Te==="y"&&(!he[pe]&&ge[pe]||Se[pe]),Nt={hasMinor:!0,letter:Te,font:H.font,outerTicks:ce[pe],showGrid:!ne[pe],data:ee[pe]||[],bgColor:ue,calendar:H.calendar,automargin:!0,visibleDflt:Gt,reverseDflt:Yt,autotypenumbersDflt:P,splomStash:((H._splomAxes||{})[Te]||{})[le]};ze("uirevision",H.uirevision),g(de,Me,ze,Nt),v(de,Me,ze,Nt,H);var Ft=Ct&&Te===tt.charAt(0),pn=We("spikecolor",Ct?Me.color:void 0),_n=We("spikethickness",Ct?1.5:void 0),sn=We("spikedash",Ct?"dot":void 0),Zn=We("spikemode",Ct?"across":void 0),an=We("spikesnap"),Cn=ze("showspikes",!!Ft||!!pn||!!_n||!!sn||!!Zn||!!an);Cn||(delete Me.spikecolor,delete Me.spikethickness,delete Me.spikedash,delete Me.spikemode,delete Me.spikesnap);var jn=$(de.overlaying),Wn=[0,1];if(H[jn]!==void 0){var wn=$(H[jn].anchor);H[wn]!==void 0&&(Wn=H[wn].domain)}C(de,Me,ze,{letter:Te,counterAxes:Ge[Te],overlayableAxes:dt(Te,pe),grid:H.grid,overlayingDomain:Wn}),ze("title.standoff"),ut(),Me._input=de}for(fe=0;fe<gt.length;){le=gt[fe++],pe=$(le),Te=pe.charAt(0),m.isPlainObject(F[pe])||(F[pe]={}),de=F[pe],Me=i.newContainer(H,pe,Te+"axis"),Re();var lt={letter:Te,font:H.font,outerTicks:ce[pe],showGrid:!ne[pe],data:[],bgColor:ue,calendar:H.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:P,splomStash:((H._splomAxes||{})[Te]||{})[le]};ze("uirevision",H.uirevision),Me.type=qe[le]||"linear",v(de,Me,ze,lt,H),C(de,Me,ze,{letter:Te,counterAxes:Ge[Te],overlayableAxes:dt(Te,pe),grid:H.grid}),ze("fixedrange"),ut(),Me._input=de}var ft=M("rangeslider","handleDefaults"),wt=M("rangeselector","handleDefaults");for(fe=0;fe<Fe.length;fe++)pe=Fe[fe],de=F[pe],Me=H[pe],ft(F,H,pe),Me.type==="date"&&wt(de,Me,H,ie,Me.calendar),ze("fixedrange");for(fe=0;fe<ie.length;fe++){pe=ie[fe],de=F[pe],Me=H[pe];var vt=H[$(Me.anchor)],$t=M("rangeslider","isVisible")(vt);ze("fixedrange",$t)}x.handleDefaults(F,H,{axIds:Xe.concat(gt).sort(_.idSort),axHasImage:Se})}},2128:function(L,A,s){var m=s(4267).mix,h=s(2399),l=s(1828);L.exports=function(i,u,d,g){g=g||{};var v=g.dfltColor;function x(K,ae){return l.coerce2(i,u,g.attributes,K,ae)}var C=x("linecolor",v),_=x("linewidth"),$=d("showline",g.showLine||!!C||!!_);$||(delete u.linecolor,delete u.linewidth);var S=m(v,g.bgColor,g.blend||h.lightFraction).toRgbString(),O=x("gridcolor",S),D=x("gridwidth"),N=x("griddash"),M=d("showgrid",g.showGrid||!!O||!!D||!!N);if(M||(delete u.gridcolor,delete u.gridwidth,delete u.griddash),g.hasMinor){var k=m(u.gridcolor,g.bgColor,67).toRgbString(),R=x("minor.gridcolor",k),F=x("minor.gridwidth",u.gridwidth||1),H=x("minor.griddash",u.griddash||"solid"),j=d("minor.showgrid",!!R||!!F||!!H);j||(delete u.minor.gridcolor,delete u.minor.gridwidth,delete u.minor.griddash)}if(!g.noZeroLine){var P=x("zerolinecolor",v),ee=x("zerolinewidth"),J=d("zeroline",g.showGrid||!!P||!!ee);J||(delete u.zerolinecolor,delete u.zerolinewidth)}}},2830:function(L,A,s){var m=s(2770),h=s(1828);L.exports=function(c,i,u,d){var g=d.counterAxes||[],v=d.overlayableAxes||[],x=d.letter,C=d.grid,_=d.overlayingDomain,$,S,O,D,N,M;C&&(S=C._domains[x][C._axisMap[i._id]],$=C._anchors[i._id],S&&(O=C[x+"side"].split(" ")[0],D=C.domain[x][O==="right"||O==="top"?1:0])),S=S||[0,1],$=$||(m(c.position)?"free":g[0]||"free"),O=O||(x==="x"?"bottom":"left"),D=D||0,N=0,M=!1;var k=h.coerce(c,i,{anchor:{valType:"enumerated",values:["free"].concat(g),dflt:$}},"anchor"),R=h.coerce(c,i,{side:{valType:"enumerated",values:x==="x"?["bottom","top"]:["left","right"],dflt:O}},"side");if(k==="free"){if(x==="y"){var F=u("autoshift");F&&(D=R==="left"?_[0]:_[1],M=i.automargin?i.automargin:!0,N=R==="left"?-3:3),u("shift",N)}u("position",D)}u("automargin",M);var H=!1;if(v.length&&(H=h.coerce(c,i,{overlaying:{valType:"enumerated",values:[!1].concat(v),dflt:!1}},"overlaying")),!H){var j=u("domain",S);j[0]>j[1]-.000244140625&&(i.domain=S),h.noneOrAll(c.domain,i.domain,S),i.tickmode==="sync"&&(i.tickmode="auto")}return u("layer"),i}},9426:function(L,A,s){var m=s(9652);L.exports=function(l,c,i,u,d){d||(d={});var g=d.tickSuffixDflt,v=m(l),x=i("tickprefix");x&&i("showtickprefix",v);var C=i("ticksuffix",g);C&&i("showticksuffix",v)}},3608:function(L,A,s){var m=s(3074);L.exports=function(l,c,i,u){var d=c._template||{},g=c.type||d.type||"-";i("minallowed"),i("maxallowed");var v=i("range"),x=c.getAutorangeDflt(v,u),C=i("autorange",x),_;v&&(v[0]===null&&v[1]===null||(v[0]===null||v[1]===null)&&(C==="reversed"||C===!0)||v[0]!==null&&(C==="min"||C==="max reversed")||v[1]!==null&&(C==="max"||C==="min reversed"))&&(v=void 0,delete c.range,c.autorange=!0,_=!0),_||(x=c.getAutorangeDflt(v,u),C=i("autorange",x)),C&&(m(i,C,v),(g==="linear"||g==="-")&&i("rangemode")),c.cleanRange()}},2449:function(L,A,s){var m=s(8783).FROM_BL;L.exports=function(l,c,i){i===void 0&&(i=m[l.constraintoward||"center"]);var u=[l.r2l(l.range[0]),l.r2l(l.range[1])],d=u[0]+(u[1]-u[0])*i;l.range=l._input.range=[l.l2r(d+(u[0]-d)*c),l.l2r(d+(u[1]-d)*c)],l.setScale()}},1994:function(L,A,s){var m=s(9898),h=s(4096).g0,l=s(1828),c=l.numberFormat,i=s(2770),u=l.cleanNumber,d=l.ms2DateTime,g=l.dateTime2ms,v=l.ensureNumber,x=l.isArrayOrTypedArray,C=s(606),_=C.FP_SAFE,$=C.BADNUM,S=C.LOG_CLIP,O=C.ONEWEEK,D=C.ONEDAY,N=C.ONEHOUR,M=C.ONEMIN,k=C.ONESEC,R=s(1675),F=s(5555),H=F.HOUR_PATTERN,j=F.WEEKDAY_PATTERN;function P(J){return Math.pow(10,J)}function ee(J){return J!=null}L.exports=function(K,ae){ae=ae||{};var Q=K._id||"x",he=Q.charAt(0);function ge(we,se){if(we>0)return Math.log(we)/Math.LN10;if(we<=0&&se&&K.range&&K.range.length===2){var ue=K.range[0],pe=K.range[1];return .5*(ue+pe-2*S*Math.abs(ue-pe))}else return $}function Se(we,se,ue,pe){if((pe||{}).msUTC&&i(we))return+we;var le=g(we,ue||K.calendar);if(le===$)if(i(we)){we=+we;var Te=Math.floor(l.mod(we+.05,1)*10),de=Math.round(we-Te/10);le=g(new Date(de))+Te/10}else return $;return le}function ce(we,se,ue){return d(we,se,ue||K.calendar)}function ne(we){return K._categories[Math.round(we)]}function fe(we){if(ee(we)){if(K._categoriesMap===void 0&&(K._categoriesMap={}),K._categoriesMap[we]!==void 0)return K._categoriesMap[we];K._categories.push(typeof we=="number"?String(we):we);var se=K._categories.length-1;return K._categoriesMap[we]=se,se}return $}function X(we,se){for(var ue=new Array(se),pe=0;pe<se;pe++){var le=(we[0]||[])[pe],Te=(we[1]||[])[pe];ue[pe]=ye([le,Te])}return ue}function ye(we){if(K._categoriesMap)return K._categoriesMap[we]}function Ce(we){var se=ye(we);if(se!==void 0)return se;if(i(we))return+we}function $e(we){return i(we)?+we:ye(we)}function ke(we,se,ue){return m.round(ue+se*we,2)}function Ne(we,se,ue){return(we-ue)/se}var Ve=function(se){return i(se)?ke(se,K._m,K._b):$},Oe=function(we){return Ne(we,K._m,K._b)};if(K.rangebreaks){var Fe=he==="y";Ve=function(we){if(!i(we))return $;var se=K._rangebreaks.length;if(!se)return ke(we,K._m,K._b);var ue=Fe;K.range[0]>K.range[1]&&(ue=!ue);for(var pe=ue?-1:1,le=pe*we,Te=0,de=0;de<se;de++){var Me=pe*K._rangebreaks[de].min,Re=pe*K._rangebreaks[de].max;if(le<Me)break;if(le>Re)Te=de+1;else{Te=le<(Me+Re)/2?de:de+1;break}}var ze=K._B[Te]||0;return isFinite(ze)?ke(we,K._m2,ze):0},Oe=function(we){var se=K._rangebreaks.length;if(!se)return Ne(we,K._m,K._b);for(var ue=0,pe=0;pe<se&&!(we<K._rangebreaks[pe].pmin);pe++)we>K._rangebreaks[pe].pmax&&(ue=pe+1);return Ne(we,K._m2,K._B[ue])}}K.c2l=K.type==="log"?ge:v,K.l2c=K.type==="log"?P:v,K.l2p=Ve,K.p2l=Oe,K.c2p=K.type==="log"?function(we,se){return Ve(ge(we,se))}:Ve,K.p2c=K.type==="log"?function(we){return P(Oe(we))}:Oe,["linear","-"].indexOf(K.type)!==-1?(K.d2r=K.r2d=K.d2c=K.r2c=K.d2l=K.r2l=u,K.c2d=K.c2r=K.l2d=K.l2r=v,K.d2p=K.r2p=function(we){return K.l2p(u(we))},K.p2d=K.p2r=Oe,K.cleanPos=v):K.type==="log"?(K.d2r=K.d2l=function(we,se){return ge(u(we),se)},K.r2d=K.r2c=function(we){return P(u(we))},K.d2c=K.r2l=u,K.c2d=K.l2r=v,K.c2r=ge,K.l2d=P,K.d2p=function(we,se){return K.l2p(K.d2r(we,se))},K.p2d=function(we){return P(Oe(we))},K.r2p=function(we){return K.l2p(u(we))},K.p2r=Oe,K.cleanPos=v):K.type==="date"?(K.d2r=K.r2d=l.identity,K.d2c=K.r2c=K.d2l=K.r2l=Se,K.c2d=K.c2r=K.l2d=K.l2r=ce,K.d2p=K.r2p=function(we,se,ue){return K.l2p(Se(we,0,ue))},K.p2d=K.p2r=function(we,se,ue){return ce(Oe(we),se,ue)},K.cleanPos=function(we){return l.cleanDate(we,$,K.calendar)}):K.type==="category"?(K.d2c=K.d2l=fe,K.r2d=K.c2d=K.l2d=ne,K.d2r=K.d2l_noadd=Ce,K.r2c=function(we){var se=$e(we);return se!==void 0?se:K.fraction2r(.5)},K.l2r=K.c2r=v,K.r2l=$e,K.d2p=function(we){return K.l2p(K.r2c(we))},K.p2d=function(we){return ne(Oe(we))},K.r2p=K.d2p,K.p2r=Oe,K.cleanPos=function(we){return typeof we=="string"&&we!==""?we:v(we)}):K.type==="multicategory"&&(K.r2d=K.c2d=K.l2d=ne,K.d2r=K.d2l_noadd=Ce,K.r2c=function(we){var se=Ce(we);return se!==void 0?se:K.fraction2r(.5)},K.r2c_just_indices=ye,K.l2r=K.c2r=v,K.r2l=Ce,K.d2p=function(we){return K.l2p(K.r2c(we))},K.p2d=function(we){return ne(Oe(we))},K.r2p=K.d2p,K.p2r=Oe,K.cleanPos=function(we){return Array.isArray(we)||typeof we=="string"&&we!==""?we:v(we)},K.setupMultiCategory=function(we){var se=K._traceIndices,ue,pe,le=K._matchGroup;if(le&&K._categories.length===0){for(var Te in le)if(Te!==Q){var de=ae[R.id2name(Te)];se=se.concat(de._traceIndices)}}var Me=[[0,{}],[0,{}]],Re=[];for(ue=0;ue<se.length;ue++){var ze=we[se[ue]];if(he in ze){var We=ze[he],ot=ze._length||l.minRowLength(We);if(x(We[0])&&x(We[1]))for(pe=0;pe<ot;pe++){var dt=We[0][pe],Ge=We[1][pe];ee(dt)&&ee(Ge)&&(Re.push([dt,Ge]),dt in Me[0][1]||(Me[0][1][dt]=Me[0][0]++),Ge in Me[1][1]||(Me[1][1][Ge]=Me[1][0]++))}}}for(Re.sort(function(Xe,qe){var gt=Me[0][1],ut=gt[Xe[0]]-gt[qe[0]];if(ut)return ut;var tt=Me[1][1];return tt[Xe[1]]-tt[qe[1]]}),ue=0;ue<Re.length;ue++)fe(Re[ue])}),K.fraction2r=function(we){var se=K.r2l(K.range[0]),ue=K.r2l(K.range[1]);return K.l2r(se+we*(ue-se))},K.r2fraction=function(we){var se=K.r2l(K.range[0]),ue=K.r2l(K.range[1]);return(K.r2l(we)-se)/(ue-se)},K.limitRange=function(we){var se=K.minallowed,ue=K.maxallowed;if(!(se===void 0&&ue===void 0)){we||(we="range");var pe=l.nestedProperty(K,we).get(),le=l.simpleMap(pe,K.r2l),Te=le[1]<le[0];Te&&le.reverse();var de=l.simpleMap([se,ue],K.r2l);se!==void 0&&le[0]<de[0]&&(pe[Te?1:0]=se),ue!==void 0&&le[1]>de[1]&&(pe[Te?0:1]=ue)}},K.cleanRange=function(we,se){K._cleanRange(we,se),K.limitRange(we)},K._cleanRange=function(we,se){se||(se={}),we||(we="range");var ue=l.nestedProperty(K,we).get(),pe,le;if(K.type==="date"?le=l.dfltRange(K.calendar):he==="y"?le=F.DFLTRANGEY:K._name==="realaxis"?le=[0,1]:le=se.dfltRange||F.DFLTRANGEX,le=le.slice(),(K.rangemode==="tozero"||K.rangemode==="nonnegative")&&(le[0]=0),!ue||ue.length!==2){l.nestedProperty(K,we).set(le);return}var Te=ue[0]===null,de=ue[1]===null;for(K.type==="date"&&!K.autorange&&(ue[0]=l.cleanDate(ue[0],$,K.calendar),ue[1]=l.cleanDate(ue[1],$,K.calendar)),pe=0;pe<2;pe++)if(K.type==="date"){if(!l.isDateTime(ue[pe],K.calendar)){K[we]=le;break}if(K.r2l(ue[0])===K.r2l(ue[1])){var Me=l.constrain(K.r2l(ue[0]),l.MIN_MS+1e3,l.MAX_MS-1e3);ue[0]=K.l2r(Me-1e3),ue[1]=K.l2r(Me+1e3);break}}else{if(!i(ue[pe]))if(!(Te||de)&&i(ue[1-pe]))ue[pe]=ue[1-pe]*(pe?10:.1);else{K[we]=le;break}if(ue[pe]<-_?ue[pe]=-_:ue[pe]>_&&(ue[pe]=_),ue[0]===ue[1]){var Re=Math.max(1,Math.abs(ue[0]*1e-6));ue[0]-=Re,ue[1]+=Re}}},K.setScale=function(we){var se=ae._size;if(K.overlaying){var ue=R.getFromId({_fullLayout:ae},K.overlaying);K.domain=ue.domain}var pe=we&&K._r?"_r":"range",le=K.calendar;K.cleanRange(pe);var Te=K.r2l(K[pe][0],le),de=K.r2l(K[pe][1],le),Me=he==="y";if(Me?(K._offset=se.t+(1-K.domain[1])*se.h,K._length=se.h*(K.domain[1]-K.domain[0]),K._m=K._length/(Te-de),K._b=-K._m*de):(K._offset=se.l+K.domain[0]*se.w,K._length=se.w*(K.domain[1]-K.domain[0]),K._m=K._length/(de-Te),K._b=-K._m*Te),K._rangebreaks=[],K._lBreaks=0,K._m2=0,K._B=[],K.rangebreaks){var Re,ze;if(K._rangebreaks=K.locateBreaks(Math.min(Te,de),Math.max(Te,de)),K._rangebreaks.length){for(Re=0;Re<K._rangebreaks.length;Re++)ze=K._rangebreaks[Re],K._lBreaks+=Math.abs(ze.max-ze.min);var We=Me;Te>de&&(We=!We),We&&K._rangebreaks.reverse();var ot=We?-1:1;for(K._m2=ot*K._length/(Math.abs(de-Te)-K._lBreaks),K._B.push(-K._m2*(Me?de:Te)),Re=0;Re<K._rangebreaks.length;Re++)ze=K._rangebreaks[Re],K._B.push(K._B[K._B.length-1]-ot*K._m2*(ze.max-ze.min));for(Re=0;Re<K._rangebreaks.length;Re++)ze=K._rangebreaks[Re],ze.pmin=Ve(ze.min),ze.pmax=Ve(ze.max)}}if(!isFinite(K._m)||!isFinite(K._b)||K._length<0)throw ae._replotting=!1,new Error("Something went wrong with axis scaling")},K.maskBreaks=function(we){var se=K.rangebreaks||[],ue,pe,le,Te,de;se._cachedPatterns||(se._cachedPatterns=se.map(function(gt){return gt.enabled&&gt.bounds?l.simpleMap(gt.bounds,gt.pattern?u:K.d2c):null})),se._cachedValues||(se._cachedValues=se.map(function(gt){return gt.enabled&&gt.values?l.simpleMap(gt.values,K.d2c).sort(l.sorterAsc):null}));for(var Me=0;Me<se.length;Me++){var Re=se[Me];if(Re.enabled){if(Re.bounds){var ze=Re.pattern;switch(ue=se._cachedPatterns[Me],pe=ue[0],le=ue[1],ze){case j:de=new Date(we),Te=de.getUTCDay(),pe>le&&(le+=7,Te<pe&&(Te+=7));break;case H:de=new Date(we);var We=de.getUTCHours(),ot=de.getUTCMinutes(),dt=de.getUTCSeconds(),Ge=de.getUTCMilliseconds();Te=We+(ot/60+dt/3600+Ge/36e5),pe>le&&(le+=24,Te<pe&&(Te+=24));break;case"":Te=we;break}if(Te>=pe&&Te<le)return $}else for(var Xe=se._cachedValues[Me],qe=0;qe<Xe.length;qe++)if(pe=Xe[qe],le=pe+Re.dvalue,we>=pe&&we<le)return $}}return we},K.locateBreaks=function(we,se){var ue,pe,le,Te,de=[];if(!K.rangebreaks)return de;var Me=K.rangebreaks.slice().sort(function(tt,Ct){return tt.pattern===j&&Ct.pattern===H?-1:Ct.pattern===j&&tt.pattern===H?1:0}),Re=function(tt,Ct){if(tt=l.constrain(tt,we,se),Ct=l.constrain(Ct,we,se),tt!==Ct){for(var Gt=!0,Yt=0;Yt<de.length;Yt++){var Nt=de[Yt];tt<Nt.max&&Ct>=Nt.min&&(tt<Nt.min&&(Nt.min=tt),Ct>Nt.max&&(Nt.max=Ct),Gt=!1)}Gt&&de.push({min:tt,max:Ct})}};for(ue=0;ue<Me.length;ue++){var ze=Me[ue];if(ze.enabled)if(ze.bounds){var We=we,ot=se;ze.pattern&&(We=Math.floor(We)),pe=l.simpleMap(ze.bounds,ze.pattern?u:K.r2l),le=pe[0],Te=pe[1];var dt=new Date(We),Ge,Xe;switch(ze.pattern){case j:Xe=O,Ge=((Te<le?7:0)+(Te-le))*D,We+=le*D-(dt.getUTCDay()*D+dt.getUTCHours()*N+dt.getUTCMinutes()*M+dt.getUTCSeconds()*k+dt.getUTCMilliseconds());break;case H:Xe=D,Ge=((Te<le?24:0)+(Te-le))*N,We+=le*N-(dt.getUTCHours()*N+dt.getUTCMinutes()*M+dt.getUTCSeconds()*k+dt.getUTCMilliseconds());break;default:We=Math.min(pe[0],pe[1]),ot=Math.max(pe[0],pe[1]),Xe=ot-We,Ge=Xe}for(var qe=We;qe<ot;qe+=Xe)Re(qe,qe+Ge)}else for(var gt=l.simpleMap(ze.values,K.d2c),ut=0;ut<gt.length;ut++)le=gt[ut],Te=le+ze.dvalue,Re(le,Te)}return de.sort(function(tt,Ct){return tt.min-Ct.min}),de},K.makeCalcdata=function(we,se,ue){var pe,le,Te,de,Me=K.type,Re=Me==="date"&&we[se+"calendar"];if(se in we){if(pe=we[se],de=we._length||l.minRowLength(pe),l.isTypedArray(pe)&&(Me==="linear"||Me==="log")){if(de===pe.length)return pe;if(pe.subarray)return pe.subarray(0,de)}if(Me==="multicategory")return X(pe,de);for(le=new Array(de),Te=0;Te<de;Te++)le[Te]=K.d2c(pe[Te],0,Re,ue)}else{var ze=se+"0"in we?K.d2c(we[se+"0"],0,Re):0,We=we["d"+se]?Number(we["d"+se]):1;for(pe=we[{x:"y",y:"x"}[se]],de=we._length||pe.length,le=new Array(de),Te=0;Te<de;Te++)le[Te]=ze+Te*We}if(K.rangebreaks)for(Te=0;Te<de;Te++)le[Te]=K.maskBreaks(le[Te]);return le},K.isValidRange=function(we,se){return Array.isArray(we)&&we.length===2&&(se&&we[0]===null||i(K.r2l(we[0])))&&(se&&we[1]===null||i(K.r2l(we[1])))},K.getAutorangeDflt=function(we,se){var ue=!K.isValidRange(we,"nullOk");return ue&&se&&se.reverseDflt?ue="reversed":we&&(we[0]===null&&we[1]===null?ue=!0:we[0]===null&&we[1]!==null?ue="min":we[0]!==null&&we[1]===null&&(ue="max")),ue},K.isReversed=function(){var we=K.autorange;return we==="reversed"||we==="min reversed"||we==="max reversed"},K.isPtWithinRange=function(we,se){var ue=K.c2l(we[he],null,se),pe=K.r2l(K.range[0]),le=K.r2l(K.range[1]);return pe<le?pe<=ue&&ue<=le:le<=ue&&ue<=pe},K._emptyCategories=function(){K._categories=[],K._categoriesMap={}},K.clearCalc=function(){var we=K._matchGroup;if(we){var se=null,ue=null;for(var pe in we){var le=ae[R.id2name(pe)];if(le._categories){se=le._categories,ue=le._categoriesMap;break}}se&&ue?(K._categories=se,K._categoriesMap=ue):K._emptyCategories()}else K._emptyCategories();if(K._initialCategories)for(var Te=0;Te<K._initialCategories.length;Te++)fe(K._initialCategories[Te])},K.sortByInitialCategories=function(){var we=[];if(K._emptyCategories(),K._initialCategories)for(var se=0;se<K._initialCategories.length;se++)fe(K._initialCategories[se]);we=we.concat(K._traceIndices);var ue=K._matchGroup;for(var pe in ue)if(Q!==pe){var le=ae[R.id2name(pe)];le._categories=K._categories,le._categoriesMap=K._categoriesMap,we=we.concat(le._traceIndices)}return we};var ie=ae._d3locale;K.type==="date"&&(K._dateFormat=ie?ie.timeFormat:h,K._extraFormat=ae._extraFormat),K._separators=ae.separators,K._numFormat=ie?ie.numberFormat:c,delete K._minDtick,delete K._forceTick0}},9652:function(L){L.exports=function(s){var m=["showexponent","showtickprefix","showticksuffix"],h=m.filter(function(c){return s[c]!==void 0}),l=function(c){return s[c]===s[h[0]]};if(h.every(l)||h.length===1)return s[h[0]]}},6115:function(L,A,s){var m=s(1828),h=s(7901).contrast,l=s(3838),c=s(9652),i=s(5501);L.exports=function(g,v,x,C,_){_||(_={});var $=x("labelalias");m.isPlainObject($)||delete v.labelalias;var S=c(g),O=x("showticklabels");if(O){var D=_.font||{},N=v.color,M=v.ticklabelposition||"",k=M.indexOf("inside")!==-1?h(_.bgColor):N&&N!==l.color.dflt?N:D.color;if(m.coerceFont(x,"tickfont",{family:D.family,size:D.size,color:k}),!_.noTicklabelstep&&C!=="multicategory"&&C!=="log"&&x("ticklabelstep"),_.noAng||x("tickangle"),C!=="category"){var R=x("tickformat");i(g,v,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:u}),v.tickformatstops.length||delete v.tickformatstops,!_.noExp&&!R&&C!=="date"&&(x("showexponent",S),x("exponentformat"),x("minexponent"),x("separatethousands"))}}};function u(d,g){function v(C,_){return m.coerce(d,g,l.tickformatstops,C,_)}var x=v("enabled");x&&(v("dtickrange"),v("value"))}},8701:function(L,A,s){var m=s(1828),h=s(3838);L.exports=function(c,i,u,d){var g=d.isMinor,v=g?c.minor||{}:c,x=g?i.minor:i,C=g?h.minor:h,_=g?"minor.":"",$=m.coerce2(v,x,C,"ticklen",g?(i.ticklen||5)*.6:void 0),S=m.coerce2(v,x,C,"tickwidth",g?i.tickwidth||1:void 0),O=m.coerce2(v,x,C,"tickcolor",(g?i.tickcolor:void 0)||x.color),D=u(_+"ticks",!g&&d.outerTicks||$||S||O?"outside":"");D||(delete x.ticklen,delete x.tickwidth,delete x.tickcolor)}},6218:function(L,A,s){var m=s(6287),h=s(1828).isArrayOrTypedArray;L.exports=function(c,i,u,d,g){g||(g={});var v=g.isMinor,x=v?c.minor||{}:c,C=v?i.minor:i,_=v?"minor.":"";function $(F){var H=x[F];return H!==void 0?H:(C._template||{})[F]}var S=$("tick0"),O=$("dtick"),D=$("tickvals"),N=h(D)?"array":O?"linear":"auto",M=u(_+"tickmode",N);if(M==="auto"||M==="sync")u(_+"nticks");else if(M==="linear"){var k=C.dtick=m.dtick(O,d);C.tick0=m.tick0(S,d,i.calendar,k)}else if(d!=="multicategory"){var R=u(_+"tickvals");R===void 0?C.tickmode="auto":v||u("ticktext")}}},6847:function(L,A,s){var m=s(9898),h=s(3972),l=s(1828),c=s(1424),i=s(9298);L.exports=function(d,g,v,x){var C=d._fullLayout;if(g.length===0){i.redrawComponents(d);return}function _(H){var j=H.xaxis,P=H.yaxis;C._defs.select("#"+H.clipId+"> rect").call(c.setTranslate,0,0).call(c.setScale,1,1),H.plot.call(c.setTranslate,j._offset,P._offset).call(c.setScale,1,1);var ee=H.plot.selectAll(".scatterlayer .trace");ee.selectAll(".point").call(c.setPointGroupScale,1,1),ee.selectAll(".textpoint").call(c.setTextPointsScale,1,1),ee.call(c.hideOutsideRangePoints,H)}function $(H,j){var P=H.plotinfo,ee=P.xaxis,J=P.yaxis,K=ee._length,ae=J._length,Q=!!H.xr1,he=!!H.yr1,ge=[];if(Q){var Se=l.simpleMap(H.xr0,ee.r2l),ce=l.simpleMap(H.xr1,ee.r2l),ne=Se[1]-Se[0],fe=ce[1]-ce[0];ge[0]=(Se[0]*(1-j)+j*ce[0]-Se[0])/(Se[1]-Se[0])*K,ge[2]=K*(1-j+j*fe/ne),ee.range[0]=ee.l2r(Se[0]*(1-j)+j*ce[0]),ee.range[1]=ee.l2r(Se[1]*(1-j)+j*ce[1])}else ge[0]=0,ge[2]=K;if(he){var X=l.simpleMap(H.yr0,J.r2l),ye=l.simpleMap(H.yr1,J.r2l),Ce=X[1]-X[0],$e=ye[1]-ye[0];ge[1]=(X[1]*(1-j)+j*ye[1]-X[1])/(X[0]-X[1])*ae,ge[3]=ae*(1-j+j*$e/Ce),J.range[0]=ee.l2r(X[0]*(1-j)+j*ye[0]),J.range[1]=J.l2r(X[1]*(1-j)+j*ye[1])}else ge[1]=0,ge[3]=ae;i.drawOne(d,ee,{skipTitle:!0}),i.drawOne(d,J,{skipTitle:!0}),i.redrawComponents(d,[ee._id,J._id]);var ke=Q?K/ge[2]:1,Ne=he?ae/ge[3]:1,Ve=Q?ge[0]:0,Oe=he?ge[1]:0,Fe=Q?ge[0]/ge[2]*K:0,ie=he?ge[1]/ge[3]*ae:0,we=ee._offset-Fe,se=J._offset-ie;P.clipRect.call(c.setTranslate,Ve,Oe).call(c.setScale,1/ke,1/Ne),P.plot.call(c.setTranslate,we,se).call(c.setScale,ke,Ne),c.setPointGroupScale(P.zoomScalePts,1/ke,1/Ne),c.setTextPointsScale(P.zoomScaleTxt,1/ke,1/Ne)}var S;x&&(S=x());function O(){for(var H={},j=0;j<g.length;j++){var P=g[j],ee=P.plotinfo.xaxis,J=P.plotinfo.yaxis;P.xr1&&(H[ee._name+".range"]=P.xr1.slice()),P.yr1&&(H[J._name+".range"]=P.yr1.slice())}return S&&S(),h.call("relayout",d,H).then(function(){for(var K=0;K<g.length;K++)_(g[K].plotinfo)})}function D(){for(var H={},j=0;j<g.length;j++){var P=g[j],ee=P.plotinfo.xaxis,J=P.plotinfo.yaxis;P.xr0&&(H[ee._name+".range"]=P.xr0.slice()),P.yr0&&(H[J._name+".range"]=P.yr0.slice())}return h.call("relayout",d,H).then(function(){for(var K=0;K<g.length;K++)_(g[K].plotinfo)})}var N,M,k,R=m.ease(v.easing);d._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(k),k=null,D()});function F(){M=Date.now();for(var H=Math.min(1,(M-N)/v.duration),j=R(H),P=0;P<g.length;P++)$(g[P],j);M-N>v.duration?(O(),k=window.cancelAnimationFrame(F)):k=window.requestAnimationFrame(F)}return N=Date.now(),k=window.requestAnimationFrame(F),Promise.resolve()}},951:function(L,A,s){var m=s(3972).traceIs,h=s(4322);L.exports=function(g,v,x,C){x("autotypenumbers",C.autotypenumbersDflt);var _=x("type",(C.splomStash||{}).type);_==="-"&&(l(v,C.data),v.type==="-"?v.type="linear":g.type=v.type)};function l(d,g){if(d.type==="-"){var v=d._id,x=v.charAt(0),C;v.indexOf("scene")!==-1&&(v=x);var _=c(g,v,x);if(_){if(_.type==="histogram"&&x==={v:"y",h:"x"}[_.orientation||"v"]){d.type="linear";return}var $=x+"calendar",S=_[$],O={noMultiCategory:!m(_,"cartesian")||m(_,"noMultiCategory")};if(_.type==="box"&&_._hasPreCompStats&&x==={h:"x",v:"y"}[_.orientation||"v"]&&(O.noMultiCategory=!0),O.autotypenumbers=d.autotypenumbers,u(_,x)){var D=i(_),N=[];for(C=0;C<g.length;C++){var M=g[C];!m(M,"box-violin")||(M[x+"axis"]||x)!==v||(M[D]!==void 0?N.push(M[D][0]):M.name!==void 0?N.push(M.name):N.push("text"),M[$]!==S&&(S=void 0))}d.type=h(N,S,O)}else if(_.type==="splom"){var k=_.dimensions,R=k[_._axesDim[v]];R.visible&&(d.type=h(R.values,S,O))}else d.type=h(_[x]||[_[x+"0"]],S,O)}}}function c(d,g,v){for(var x=0;x<d.length;x++){var C=d[x];if(C.type==="splom"&&C._length>0&&(C["_"+v+"axes"]||{})[g])return C;if((C[v+"axis"]||v)===g){if(u(C,v))return C;if((C[v]||[]).length||C[v+"0"])return C}}}function i(d){return{v:"x",h:"y"}[d.orientation||"v"]}function u(d,g){var v=i(d),x=m(d,"box-violin"),C=m(d._fullInput||{},"candlestick");return x&&!C&&g===v&&d[v]===void 0&&d[v+"0"]===void 0}},1137:function(L,A,s){var m=s(3972),h=s(1828);A.manageCommandObserver=function(g,v,x,C){var _={},$=!0;v&&v._commandObserver&&(_=v._commandObserver),_.cache||(_.cache={}),_.lookupTable={};var S=A.hasSimpleAPICommandBindings(g,x,_.lookupTable);if(v&&v._commandObserver){if(S)return _;if(v._commandObserver.remove)return v._commandObserver.remove(),v._commandObserver=null,_}if(S){l(g,S,_.cache),_.check=function(){if($){var M=l(g,S,_.cache);return M.changed&&C&&_.lookupTable[M.value]!==void 0&&(_.disable(),Promise.resolve(C({value:M.value,type:S.type,prop:S.prop,traces:S.traces,index:_.lookupTable[M.value]})).then(_.enable,_.enable)),M.changed}};for(var O=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],D=0;D<O.length;D++)g._internalOn(O[D],_.check);_.remove=function(){for(var N=0;N<O.length;N++)g._removeInternalListener(O[N],_.check)}}else h.log("Unable to automatically bind plot updates to API command"),_.lookupTable={},_.remove=function(){};return _.disable=function(){$=!1},_.enable=function(){$=!0},v&&(v._commandObserver=_),_},A.hasSimpleAPICommandBindings=function(g,v,x){var C,_=v.length,$;for(C=0;C<_;C++){var S,O=v[C],D=O.method,N=O.args;if(Array.isArray(N)||(N=[]),!D)return!1;var M=A.computeAPICommandBindings(g,D,N);if(M.length!==1)return!1;if(!$)$=M[0],Array.isArray($.traces)&&$.traces.sort();else{if(S=M[0],S.type!==$.type||S.prop!==$.prop)return!1;if(Array.isArray($.traces))if(Array.isArray(S.traces)){S.traces.sort();for(var k=0;k<$.traces.length;k++)if($.traces[k]!==S.traces[k])return!1}else return!1;else if(S.prop!==$.prop)return!1}S=M[0];var R=S.value;if(Array.isArray(R))if(R.length===1)R=R[0];else return!1;x&&(x[R]=C)}return $};function l(g,v,x){var C,_,$,S=!1;if(v.type==="data")C=g._fullData[v.traces!==null?v.traces[0]:0];else if(v.type==="layout")C=g._fullLayout;else return!1;return _=h.nestedProperty(C,v.prop).get(),$=x[v.type]=x[v.type]||{},$.hasOwnProperty(v.prop)&&$[v.prop]!==_&&(S=!0),$[v.prop]=_,{changed:S,value:_}}A.executeAPICommand=function(g,v,x){if(v==="skip")return Promise.resolve();var C=m.apiMethodRegistry[v],_=[g];Array.isArray(x)||(x=[]);for(var $=0;$<x.length;$++)_.push(x[$]);return C.apply(null,_).catch(function(S){return h.warn("API call to Plotly."+v+" rejected.",S),Promise.reject(S)})},A.computeAPICommandBindings=function(g,v,x){var C;switch(Array.isArray(x)||(x=[]),v){case"restyle":C=u(g,x);break;case"relayout":C=i(g,x);break;case"update":C=u(g,[x[0],x[2]]).concat(i(g,[x[1]]));break;case"animate":C=c(g,x);break;default:C=[]}return C};function c(g,v){return Array.isArray(v[0])&&v[0].length===1&&["string","number"].indexOf(typeof v[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:v[0][0].toString()}]:[]}function i(g,v){var x=[],C=v[0],_={};if(typeof C=="string")_[C]=v[1];else if(h.isPlainObject(C))_=C;else return x;return d(_,function($,S,O){x.push({type:"layout",prop:$,value:O})},"",0),x}function u(g,v){var x,C,_,$,S=[];if(C=v[0],_=v[1],x=v[2],$={},typeof C=="string")$[C]=_;else if(h.isPlainObject(C))$=C,x===void 0&&(x=_);else return S;return x===void 0&&(x=null),d($,function(O,D,N){var M,k;if(Array.isArray(N)){k=N.slice();var R=Math.min(k.length,g.data.length);x&&(R=Math.min(R,x.length)),M=[];for(var F=0;F<R;F++)M[F]=x?x[F]:F}else k=N,M=x?x.slice():null;if(M===null)Array.isArray(k)&&(k=k[0]);else if(Array.isArray(M)){if(!Array.isArray(k)){var H=k;k=[];for(var j=0;j<M.length;j++)k[j]=H}k.length=Math.min(M.length,k.length)}S.push({type:"data",prop:O,traces:M,value:k})},"",0),S}function d(g,v,x,C){Object.keys(g).forEach(function(_){var $=g[_];if(_[0]!=="_"){var S=x+(C>0?".":"")+_;h.isPlainObject($)?d($,v,S,C+1):v(S,_,$)}})}},7670:function(L,A,s){var m=s(1426).extendFlat;A.Y=function(h,l){h=h||{},l=l||{};var c={valType:"info_array",editType:h.editType,items:[{valType:"number",min:0,max:1,editType:h.editType},{valType:"number",min:0,max:1,editType:h.editType}],dflt:[0,1]};h.name&&h.name+"",h.trace,l.description&&""+l.description;var i={x:m({},c,{}),y:m({},c,{}),editType:h.editType};return h.noGridCell||(i.row={valType:"integer",min:0,dflt:0,editType:h.editType},i.column={valType:"integer",min:0,dflt:0,editType:h.editType}),i},A.c=function(h,l,c,i){var u=i&&i.x||[0,1],d=i&&i.y||[0,1],g=l.grid;if(g){var v=c("domain.column");v!==void 0&&(v<g.columns?u=g._domains.x[v]:delete h.domain.column);var x=c("domain.row");x!==void 0&&(x<g.rows?d=g._domains.y[x]:delete h.domain.row)}var C=c("domain.x",u),_=c("domain.y",d);C[0]<C[1]||(h.domain.x=u.slice()),_[0]<_[1]||(h.domain.y=d.slice())}},1940:function(L){L.exports=function(A){var s=A.editType,m=A.colorEditType;m===void 0&&(m=s);var h={family:{valType:"string",noBlank:!0,strict:!0,editType:s},size:{valType:"number",min:1,editType:s},color:{valType:"color",editType:m},editType:s};return A.autoSize&&(h.size.dflt="auto"),A.autoColor&&(h.color.dflt="auto"),A.arrayOk&&(h.family.arrayOk=!0,h.size.arrayOk=!0,h.color.arrayOk=!0),h}},1391:function(L){L.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},7659:function(L,A,s){var m=s(3972);s(5555).SUBPLOT_PATTERN,A.a0=function(h,l){var c=[],i=[],u;if(typeof l=="string"?u=m.getModule(l).plot:typeof l=="function"?u=l:u=l.plot,!u)return[c,h];for(var d=0;d<h.length;d++){var g=h[d],v=g[0].trace;v.visible!==!0||v._length===0||(v._module&&v._module.plot===u?c.push(g):i.push(g))}return[c,i]}},3538:function(L){function A(m,h){var l=[0,0,0,0],c,i;for(c=0;c<4;++c)for(i=0;i<4;++i)l[i]+=m[4*c+i]*h[c];return l}function s(m,h){var l=A(m.projection,A(m.view,A(m.model,[h[0],h[1],h[2],1])));return l}L.exports=s},820:function(L,A,s){var m=s(1940),h=s(5594),l=s(2399),c=s(9241),i=s(3777),u=s(5025),d=s(1426).extendFlat,g=m({editType:"calc"});g.family.dflt='"Open Sans", verdana, arial, sans-serif',g.size.dflt=12,g.color.dflt=l.defaultLine,L.exports={font:g,title:{text:{valType:"string",editType:"layoutstyle"},font:m({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:d(u({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:l.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:l.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:l.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:c.newshape,activeshape:c.activeshape,newselection:i.newselection,activeselection:i.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:d({},h.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:m({editType:"layoutstyle"})}}},5025:function(L){L.exports=function(A){var s=A.editType;return{t:{valType:"number",dflt:0,editType:s},r:{valType:"number",dflt:0,editType:s},b:{valType:"number",dflt:0,editType:s},l:{valType:"number",dflt:0,editType:s},editType:s}}},4875:function(L,A,s){var m=s(9898),h=s(4096).Dq,l=s(721).FF,c=s(2770),i=s(3972),u=s(6281),d=s(4467),g=s(1828),v=s(7901),x=s(606).BADNUM,C=s(1675),_=s(1873).clearOutline,$=s(1479),S=s(5594),O=s(1391),D=s(7659).a0,N=g.relinkPrivateKeys,M=g._,k=L.exports={};g.extendFlat(k,i),k.attributes=s(9012),k.attributes.type.values=k.allTypes,k.fontAttrs=s(1940),k.layoutAttributes=s(820),k.fontWeight="normal";var R=k.transformsRegistry,F=s(1137);k.executeAPICommand=F.executeAPICommand,k.computeAPICommandBindings=F.computeAPICommandBindings,k.manageCommandObserver=F.manageCommandObserver,k.hasSimpleAPICommandBindings=F.hasSimpleAPICommandBindings,k.redrawText=function(ie){return ie=g.getGraphDiv(ie),new Promise(function(we){setTimeout(function(){ie._fullLayout&&(i.getComponentMethod("annotations","draw")(ie),i.getComponentMethod("legend","draw")(ie),i.getComponentMethod("colorbar","draw")(ie),we(k.previousPromises(ie)))},300)})},k.resize=function(ie){ie=g.getGraphDiv(ie);var we,se=new Promise(function(ue,pe){(!ie||g.isHidden(ie))&&pe(new Error("Resize must be passed a displayed plot div element.")),ie._redrawTimer&&clearTimeout(ie._redrawTimer),ie._resolveResize&&(we=ie._resolveResize),ie._resolveResize=ue,ie._redrawTimer=setTimeout(function(){if(!ie.layout||ie.layout.width&&ie.layout.height||g.isHidden(ie)){ue(ie);return}delete ie.layout.width,delete ie.layout.height;var le=ie.changed;ie.autoplay=!0,i.call("relayout",ie,{autosize:!0}).then(function(){ie.changed=le,ie._resolveResize===ue&&(delete ie._resolveResize,ue(ie))})},100)});return we&&we(se),se},k.previousPromises=function(ie){if((ie._promises||[]).length)return Promise.all(ie._promises).then(function(){ie._promises=[]})},k.addLinks=function(ie){if(!(!ie._context.showLink&&!ie._context.showSources)){var we=ie._fullLayout,se=g.ensureSingle(we._paper,"text","js-plot-link-container",function(Me){Me.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:v.defaultLine,"pointer-events":"all"}).each(function(){var Re=m.select(this);Re.append("tspan").classed("js-link-to-tool",!0),Re.append("tspan").classed("js-link-spacer",!0),Re.append("tspan").classed("js-sourcelinks",!0)})}),ue=se.node(),pe={y:we._paper.attr("height")-9};document.body.contains(ue)&&ue.getComputedTextLength()>=we.width-20?(pe["text-anchor"]="start",pe.x=5):(pe["text-anchor"]="end",pe.x=we._paper.attr("width")-7),se.attr(pe);var le=se.select(".js-link-to-tool"),Te=se.select(".js-link-spacer"),de=se.select(".js-sourcelinks");ie._context.showSources&&ie._context.showSources(ie),ie._context.showLink&&H(ie,le),Te.text(le.text()&&de.text()?" - ":"")}};function H(ie,we){we.text("");var se=we.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(ie._context.linkText+" "+String.fromCharCode(187));if(ie._context.sendData)se.on("click",function(){k.sendDataToCloud(ie)});else{var ue=window.location.pathname.split("/"),pe=window.location.search;se.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+ue[2].split(".")[0]+"/"+ue[1]+pe})}}k.sendDataToCloud=function(ie){var we=(window.PLOTLYENV||{}).BASE_URL||ie._context.plotlyServerURL;if(we){ie.emit("plotly_beforeexport");var se=m.select(ie).append("div").attr("id","hiddenform").style("display","none"),ue=se.append("form").attr({action:we+"/external",method:"post",target:"_blank"}),pe=ue.append("input").attr({type:"text",name:"data"});return pe.node().value=k.graphJson(ie,!1,"keepdata"),ue.node().submit(),se.remove(),ie.emit("plotly_afterexport"),!1}};var j=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],P=["year","month","dayMonth","dayMonthYear"];k.supplyDefaults=function(ie,we){var se=we&&we.skipUpdateCalc,ue=ie._fullLayout||{};if(ue._skipDefaults){delete ue._skipDefaults;return}var pe=ie._fullLayout={},le=ie.layout||{},Te=ie._fullData||[],de=ie._fullData=[],Me=ie.data||[],Re=ie.calcdata||[],ze=ie._context||{},We;ie._transitionData||k.createTransitionData(ie),pe._dfltTitle={plot:M(ie,"Click to enter Plot title"),x:M(ie,"Click to enter X axis title"),y:M(ie,"Click to enter Y axis title"),colorbar:M(ie,"Click to enter Colorscale title"),annotation:M(ie,"new text")},pe._traceWord=M(ie,"trace");var ot=K(ie,j);if(pe._mapboxAccessToken=ze.mapboxAccessToken,ue._initialAutoSizeIsDone){var dt=ue.width,Ge=ue.height;k.supplyLayoutGlobalDefaults(le,pe,ot),le.width||(pe.width=dt),le.height||(pe.height=Ge),k.sanitizeMargins(pe)}else{k.supplyLayoutGlobalDefaults(le,pe,ot);var Xe=!le.width||!le.height,qe=pe.autosize,gt=ze.autosizable,ut=Xe&&(qe||gt);ut?k.plotAutoSize(ie,le,pe):Xe&&k.sanitizeMargins(pe),!qe&&Xe&&(le.width=pe.width,le.height=pe.height)}pe._d3locale=ae(ot,pe.separators),pe._extraFormat=K(ie,P),pe._initialAutoSizeIsDone=!0,pe._dataLength=Me.length,pe._modules=[],pe._visibleModules=[],pe._basePlotModules=[];var tt=pe._subplots=J(),Ct=pe._splomAxes={x:{},y:{}},Gt=pe._splomSubplots={};pe._splomGridDflt={},pe._scatterStackOpts={},pe._firstScatter={},pe._alignmentOpts={},pe._colorAxes={},pe._requestRangeslider={},pe._traceUids=ee(Te,Me),pe._globalTransforms=(ie._context||{}).globalTransforms,k.supplyDataDefaults(Me,de,le,pe);var Yt=Object.keys(Ct.x),Nt=Object.keys(Ct.y);if(Yt.length>1&&Nt.length>1){for(i.getComponentMethod("grid","sizeDefaults")(le,pe),We=0;We<Yt.length;We++)g.pushUnique(tt.xaxis,Yt[We]);for(We=0;We<Nt.length;We++)g.pushUnique(tt.yaxis,Nt[We]);for(var Ft in Gt)g.pushUnique(tt.cartesian,Ft)}if(pe._has=k._hasPlotType.bind(pe),Te.length===de.length)for(We=0;We<de.length;We++)N(de[We],Te[We]);k.supplyLayoutModuleDefaults(le,pe,de,ie._transitionData);var pn=pe._visibleModules,_n=[];for(We=0;We<pn.length;We++){var sn=pn[We].crossTraceDefaults;sn&&g.pushUnique(_n,sn)}for(We=0;We<_n.length;We++)_n[We](de,pe);pe._hasOnlyLargeSploms=pe._basePlotModules.length===1&&pe._basePlotModules[0].name==="splom"&&Yt.length>15&&Nt.length>15&&pe.shapes.length===0&&pe.images.length===0,k.linkSubplots(de,pe,Te,ue),k.cleanPlot(de,pe,Te,ue);var Zn=!!(ue._has&&ue._has("gl2d")),an=!!(pe._has&&pe._has("gl2d")),Cn=!!(ue._has&&ue._has("cartesian")),jn=!!(pe._has&&pe._has("cartesian")),Wn=Cn||Zn,wn=jn||an;Wn&&!wn?ue._bgLayer.remove():wn&&!Wn&&(pe._shouldCreateBgLayer=!0),ue._zoomlayer&&!ie._dragging&&_({_fullLayout:ue}),Q(de,pe),N(pe,ue),i.getComponentMethod("colorscale","crossTraceDefaults")(de,pe),pe._preGUI||(pe._preGUI={}),pe._tracePreGUI||(pe._tracePreGUI={});var lt=pe._tracePreGUI,ft={},wt;for(wt in lt)ft[wt]="old";for(We=0;We<de.length;We++)wt=de[We]._fullInput.uid,ft[wt]||(lt[wt]={}),ft[wt]="new";for(wt in ft)ft[wt]==="old"&&delete lt[wt];ne(pe),i.getComponentMethod("rangeslider","makeData")(pe),!se&&Re.length===de.length&&k.supplyDefaultsUpdateCalc(Re,de)},k.supplyDefaultsUpdateCalc=function(ie,we){for(var se=0;se<we.length;se++){var ue=we[se],pe=(ie[se]||[])[0];if(pe&&pe.trace){var le=pe.trace;if(le._hasCalcTransform){var Te=le._arrayAttrs,de,Me,Re;for(de=0;de<Te.length;de++)Me=Te[de],Re=g.nestedProperty(le,Me).get().slice(),g.nestedProperty(ue,Me).set(Re)}pe.trace=ue}}};function ee(ie,we){var se=we.length,ue=[],pe,le;for(pe=0;pe<ie.length;pe++){var Te=ie[pe]._fullInput;Te!==le&&ue.push(Te),le=Te}var de=ue.length,Me=new Array(se),Re={};function ze(dt,Ge){Me[Ge]=dt,Re[dt]=1}function We(dt,Ge){if(dt&&typeof dt=="string"&&!Re[dt])return ze(dt,Ge),!0}for(pe=0;pe<se;pe++){var ot=we[pe].uid;typeof ot=="number"&&(ot=String(ot)),!We(ot,pe)&&(pe<de&&We(ue[pe].uid,pe)||ze(g.randstr(Re),pe))}return Me}function J(){var ie=i.collectableSubplotTypes,we={},se,ue;if(!ie){ie=[];var pe=i.subplotsRegistry;for(var le in pe){var Te=pe[le],de=Te.attr;if(de&&(ie.push(le),Array.isArray(de)))for(ue=0;ue<de.length;ue++)g.pushUnique(ie,de[ue])}}for(se=0;se<ie.length;se++)we[ie[se]]=[];return we}function K(ie,we){var se=ie._context.locale;se||(se="en-US");var ue=!1,pe={};function le(We){for(var ot=!0,dt=0;dt<we.length;dt++){var Ge=we[dt];pe[Ge]||(We[Ge]?pe[Ge]=We[Ge]:ot=!1)}ot&&(ue=!0)}for(var Te=0;Te<2;Te++){for(var de=ie._context.locales,Me=0;Me<2;Me++){var Re=(de[se]||{}).format;if(Re&&(le(Re),ue))break;de=i.localeRegistry}var ze=se.split("-")[0];if(ue||ze===se)break;se=ze}return ue||le(i.localeRegistry.en.format),pe}function ae(ie,we){return ie.decimal=we.charAt(0),ie.thousands=we.charAt(1),{numberFormat:function(se){try{se=l(ie).format(g.adjustFormat(se))}catch{return g.warnBadFormat(se),g.noFormat}return se},timeFormat:h(ie).utcFormat}}function Q(ie,we){var se,ue=[];we.meta&&(se=we._meta={meta:we.meta,layout:{meta:we.meta}});for(var pe=0;pe<ie.length;pe++){var le=ie[pe];le.meta?ue[le.index]=le._meta={meta:le.meta}:we.meta&&(le._meta={meta:we.meta}),we.meta&&(le._meta.layout={meta:we.meta})}ue.length&&(se||(se=we._meta={}),se.data=ue)}k.createTransitionData=function(ie){ie._transitionData||(ie._transitionData={}),ie._transitionData._frames||(ie._transitionData._frames=[]),ie._transitionData._frameHash||(ie._transitionData._frameHash={}),ie._transitionData._counter||(ie._transitionData._counter=0),ie._transitionData._interruptCallbacks||(ie._transitionData._interruptCallbacks=[])},k._hasPlotType=function(ie){var we,se=this._basePlotModules||[];for(we=0;we<se.length;we++)if(se[we].name===ie)return!0;var ue=this._modules||[];for(we=0;we<ue.length;we++){var pe=ue[we].name;if(pe===ie)return!0;var le=i.modules[pe];if(le&&le.categories[ie])return!0}return!1},k.cleanPlot=function(ie,we,se,ue){var pe,le,Te=ue._basePlotModules||[];for(pe=0;pe<Te.length;pe++){var de=Te[pe];de.clean&&de.clean(ie,we,se,ue)}var Me=ue._has&&ue._has("gl"),Re=we._has&&we._has("gl");Me&&!Re&&ue._glcontainer!==void 0&&(ue._glcontainer.selectAll(".gl-canvas").remove(),ue._glcontainer.selectAll(".no-webgl").remove(),ue._glcanvas=null);var ze=!!ue._infolayer;e:for(pe=0;pe<se.length;pe++){var We=se[pe],ot=We.uid;for(le=0;le<ie.length;le++){var dt=ie[le];if(ot===dt.uid)continue e}ze&&ue._infolayer.select(".cb"+ot).remove()}},k.linkSubplots=function(ie,we,se,ue){var pe,le,Te=ue._plots||{},de=we._plots={},Me=we._subplots,Re={_fullData:ie,_fullLayout:we},ze=Me.cartesian.concat(Me.gl2d||[]);for(pe=0;pe<ze.length;pe++){var We=ze[pe],ot=Te[We],dt=C.getFromId(Re,We,"x"),Ge=C.getFromId(Re,We,"y"),Xe;for(ot?Xe=de[We]=ot:(Xe=de[We]={},Xe.id=We),dt._counterAxes.push(Ge._id),Ge._counterAxes.push(dt._id),dt._subplotsWith.push(We),Ge._subplotsWith.push(We),Xe.xaxis=dt,Xe.yaxis=Ge,Xe._hasClipOnAxisFalse=!1,le=0;le<ie.length;le++){var qe=ie[le];if(qe.xaxis===Xe.xaxis._id&&qe.yaxis===Xe.yaxis._id&&qe.cliponaxis===!1){Xe._hasClipOnAxisFalse=!0;break}}}var gt=C.list(Re,null,!0),ut;for(pe=0;pe<gt.length;pe++){ut=gt[pe];var tt=null;ut.overlaying&&(tt=C.getFromId(Re,ut.overlaying),tt&&tt.overlaying&&(ut.overlaying=!1,tt=null)),ut._mainAxis=tt||ut,tt&&(ut.domain=tt.domain.slice()),ut._anchorAxis=ut.anchor==="free"?null:C.getFromId(Re,ut.anchor)}for(pe=0;pe<gt.length;pe++)if(ut=gt[pe],ut._counterAxes.sort(C.idSort),ut._subplotsWith.sort(g.subplotSort),ut._mainSubplot=he(ut,we),ut._counterAxes.length&&(ut.spikemode&&ut.spikemode.indexOf("across")!==-1||ut.automargin&&ut.mirror&&ut.anchor!=="free"||i.getComponentMethod("rangeslider","isVisible")(ut))){var Ct=1,Gt=0;for(le=0;le<ut._counterAxes.length;le++){var Yt=C.getFromId(Re,ut._counterAxes[le]);Ct=Math.min(Ct,Yt.domain[0]),Gt=Math.max(Gt,Yt.domain[1])}Ct<Gt&&(ut._counterDomainMin=Ct,ut._counterDomainMax=Gt)}};function he(ie,we){var se={_fullLayout:we},ue=ie._id.charAt(0)==="x",pe=ie._mainAxis._anchorAxis,le="",Te="",de="";if(pe&&(de=pe._mainAxis._id,le=ue?ie._id+de:de+ie._id),!le||!we._plots[le]){le="";for(var Me=ie._counterAxes,Re=0;Re<Me.length;Re++){var ze=Me[Re],We=ue?ie._id+ze:ze+ie._id;Te||(Te=We);var ot=C.getFromId(se,ze);if(de&&ot.overlaying===de){le=We;break}}}return le||Te}k.clearExpandedTraceDefaultColors=function(ie){var we,se,ue;function pe(Te,de,Me,Re){se[Re]=de,se.length=Re+1,Te.valType==="color"&&Te.dflt===void 0&&we.push(se.join("."))}for(se=[],we=ie._module._colorAttrs,we||(ie._module._colorAttrs=we=[],u.crawl(ie._module.attributes,pe)),ue=0;ue<we.length;ue++){var le=g.nestedProperty(ie,"_input."+we[ue]);le.get()||g.nestedProperty(ie,we[ue]).set(null)}},k.supplyDataDefaults=function(ie,we,se,ue){var pe=ue._modules,le=ue._visibleModules,Te=ue._basePlotModules,de=0,Me=0,Re,ze,We;ue._transformModules=[];function ot(Nt){we.push(Nt);var Ft=Nt._module;Ft&&(g.pushUnique(pe,Ft),Nt.visible===!0&&g.pushUnique(le,Ft),g.pushUnique(Te,Nt._module.basePlotModule),de++,Nt._input.visible!==!1&&Me++)}var dt={},Ge=[],Xe=(se.template||{}).data||{},qe=d.traceTemplater(Xe);for(Re=0;Re<ie.length;Re++){if(We=ie[Re],ze=qe.newTrace(We),ze.uid=ue._traceUids[Re],k.supplyTraceDefaults(We,ze,Me,ue,Re),ze.index=Re,ze._input=We,ze._expandedIndex=de,ze.transforms&&ze.transforms.length)for(var gt=We.visible!==!1&&ze.visible===!1,ut=Se(ze,we,se,ue),tt=0;tt<ut.length;tt++){var Ct=ut[tt],Gt={_template:ze._template,type:ze.type,uid:ze.uid+tt};gt&&Ct.visible===!1&&delete Ct.visible,k.supplyTraceDefaults(Ct,Gt,de,ue,Re),N(Gt,Ct),Gt.index=Re,Gt._input=We,Gt._fullInput=ze,Gt._expandedIndex=de,Gt._expandedInput=Ct,ot(Gt)}else ze._fullInput=ze,ze._expandedInput=ze,ot(ze);i.traceIs(ze,"carpetAxis")&&(dt[ze.carpet]=ze),i.traceIs(ze,"carpetDependent")&&Ge.push(Re)}for(Re=0;Re<Ge.length;Re++)if(ze=we[Ge[Re]],!!ze.visible){var Yt=dt[ze.carpet];if(ze._carpet=Yt,!Yt||!Yt.visible){ze.visible=!1;continue}ze.xaxis=Yt.xaxis,ze.yaxis=Yt.yaxis}},k.supplyAnimationDefaults=function(ie){ie=ie||{};var we,se={};function ue(pe,le){return g.coerce(ie||{},se,S,pe,le)}if(ue("mode"),ue("direction"),ue("fromcurrent"),Array.isArray(ie.frame))for(se.frame=[],we=0;we<ie.frame.length;we++)se.frame[we]=k.supplyAnimationFrameDefaults(ie.frame[we]||{});else se.frame=k.supplyAnimationFrameDefaults(ie.frame||{});if(Array.isArray(ie.transition))for(se.transition=[],we=0;we<ie.transition.length;we++)se.transition[we]=k.supplyAnimationTransitionDefaults(ie.transition[we]||{});else se.transition=k.supplyAnimationTransitionDefaults(ie.transition||{});return se},k.supplyAnimationFrameDefaults=function(ie){var we={};function se(ue,pe){return g.coerce(ie||{},we,S.frame,ue,pe)}return se("duration"),se("redraw"),we},k.supplyAnimationTransitionDefaults=function(ie){var we={};function se(ue,pe){return g.coerce(ie||{},we,S.transition,ue,pe)}return se("duration"),se("easing"),we},k.supplyFrameDefaults=function(ie){var we={};function se(ue,pe){return g.coerce(ie,we,O,ue,pe)}return se("group"),se("name"),se("traces"),se("baseframe"),se("data"),se("layout"),we},k.supplyTraceDefaults=function(ie,we,se,ue,pe){var le=ue.colorway||v.defaults,Te=le[se%le.length],de;function Me(ut,tt){return g.coerce(ie,we,k.attributes,ut,tt)}var Re=Me("visible");Me("type"),Me("name",ue._traceWord+" "+pe),Me("uirevision",ue.uirevision);var ze=k.getModule(we);if(we._module=ze,ze){var We=ze.basePlotModule,ot=We.attr,dt=We.attributes;if(ot&&dt){var Ge=ue._subplots,Xe="";if(Re||We.name!=="gl2d"){if(Array.isArray(ot))for(de=0;de<ot.length;de++){var qe=ot[de],gt=g.coerce(ie,we,dt,qe);Ge[qe]&&g.pushUnique(Ge[qe],gt),Xe+=gt}else Xe=g.coerce(ie,we,dt,ot);Ge[We.name]&&g.pushUnique(Ge[We.name],Xe)}}}return Re&&(Me("customdata"),Me("ids"),Me("meta"),i.traceIs(we,"showLegend")?(g.coerce(ie,we,ze.attributes.showlegend?ze.attributes:k.attributes,"showlegend"),Me("legend"),Me("legendwidth"),Me("legendgroup"),Me("legendgrouptitle.text"),Me("legendrank"),we._dfltShowLegend=!0):we._dfltShowLegend=!1,ze&&ze.supplyDefaults(ie,we,Te,ue),i.traceIs(we,"noOpacity")||Me("opacity"),i.traceIs(we,"notLegendIsolatable")&&(we.visible=!!we.visible),i.traceIs(we,"noHover")||(we.hovertemplate||g.coerceHoverinfo(ie,we,ue),we.type!=="parcats"&&i.getComponentMethod("fx","supplyDefaults")(ie,we,Te,ue)),ze&&ze.selectPoints&&Me("selectedpoints"),k.supplyTransformDefaults(ie,we,ue)),we};function ge(ie){var we=ie.transforms;if(Array.isArray(we)&&we.length)for(var se=0;se<we.length;se++){var ue=we[se],pe=ue._module||R[ue.type];if(pe&&pe.makesData)return!0}return!1}k.hasMakesDataTransform=ge,k.supplyTransformDefaults=function(ie,we,se){if(we._length||ge(ie)){var ue=se._globalTransforms||[],pe=se._transformModules||[];if(!(!Array.isArray(ie.transforms)&&ue.length===0))for(var le=ie.transforms||[],Te=ue.concat(le),de=we.transforms=[],Me=0;Me<Te.length;Me++){var Re=Te[Me],ze=Re.type,We=R[ze],ot,dt=!(Re._module&&Re._module===We),Ge=We&&typeof We.transform=="function";We||g.warn("Unrecognized transform type "+ze+"."),We&&We.supplyDefaults&&(dt||Ge)?(ot=We.supplyDefaults(Re,we,se,ie),ot.type=ze,ot._module=We,g.pushUnique(pe,We)):ot=g.extendFlat({},Re),de.push(ot)}}};function Se(ie,we,se,ue){for(var pe=ie.transforms,le=[ie],Te=0;Te<pe.length;Te++){var de=pe[Te],Me=R[de.type];Me&&Me.transform&&(le=Me.transform(le,{transform:de,fullTrace:ie,fullData:we,layout:se,fullLayout:ue,transformIndex:Te}))}return le}k.supplyLayoutGlobalDefaults=function(ie,we,se){function ue(We,ot){return g.coerce(ie,we,k.layoutAttributes,We,ot)}var pe=ie.template;g.isPlainObject(pe)&&(we.template=pe,we._template=pe.layout,we._dataTemplate=pe.data),ue("autotypenumbers");var le=g.coerceFont(ue,"font"),Te=le.size;g.coerceFont(ue,"title.font",g.extendFlat({},le,{size:Math.round(Te*1.4)})),ue("title.text",we._dfltTitle.plot),ue("title.xref");var de=ue("title.yref");ue("title.pad.t"),ue("title.pad.r"),ue("title.pad.b"),ue("title.pad.l");var Me=ue("title.automargin");ue("title.x"),ue("title.xanchor"),ue("title.y"),ue("title.yanchor"),Me&&(de==="paper"&&(we.title.y!==0&&(we.title.y=1),we.title.yanchor==="auto"&&(we.title.yanchor=we.title.y===0?"top":"bottom")),de==="container"&&(we.title.y==="auto"&&(we.title.y=1),we.title.yanchor==="auto"&&(we.title.yanchor=we.title.y<.5?"bottom":"top")));var Re=ue("uniformtext.mode");Re&&ue("uniformtext.minsize"),ue("autosize",!(ie.width&&ie.height)),ue("width"),ue("height"),ue("minreducedwidth"),ue("minreducedheight"),ue("margin.l"),ue("margin.r"),ue("margin.t"),ue("margin.b"),ue("margin.pad"),ue("margin.autoexpand"),ie.width&&ie.height&&k.sanitizeMargins(we),i.getComponentMethod("grid","sizeDefaults")(ie,we),ue("paper_bgcolor"),ue("separators",se.decimal+se.thousands),ue("hidesources"),ue("colorway"),ue("datarevision");var ze=ue("uirevision");ue("editrevision",ze),ue("selectionrevision",ze),i.getComponentMethod("modebar","supplyLayoutDefaults")(ie,we),i.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(ie,we,ue),i.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(ie,we,ue),ue("meta"),g.isPlainObject(ie.transition)&&(ue("transition.duration"),ue("transition.easing"),ue("transition.ordering")),i.getComponentMethod("calendars","handleDefaults")(ie,we,"calendar"),i.getComponentMethod("fx","supplyLayoutGlobalDefaults")(ie,we,ue),g.coerce(ie,we,$,"scattermode")};function ce(ie){return typeof ie=="string"&&ie.substr(ie.length-2)==="px"&&parseFloat(ie)}k.plotAutoSize=function(we,se,ue){var pe=we._context||{},le=pe.frameMargins,Te,de,Me=g.isPlotDiv(we);if(Me&&we.emit("plotly_autosize"),pe.fillFrame)Te=window.innerWidth,de=window.innerHeight,document.body.style.overflow="hidden";else{var Re=Me?window.getComputedStyle(we):{};if(Te=ce(Re.width)||ce(Re.maxWidth)||ue.width,de=ce(Re.height)||ce(Re.maxHeight)||ue.height,c(le)&&le>0){var ze=1-2*le;Te=Math.round(ze*Te),de=Math.round(ze*de)}}var We=k.layoutAttributes.width.min,ot=k.layoutAttributes.height.min;Te<We&&(Te=We),de<ot&&(de=ot);var dt=!se.width&&Math.abs(ue.width-Te)>1,Ge=!se.height&&Math.abs(ue.height-de)>1;(Ge||dt)&&(dt&&(ue.width=Te),Ge&&(ue.height=de)),we._initialAutoSize||(we._initialAutoSize={width:Te,height:de}),k.sanitizeMargins(ue)},k.supplyLayoutModuleDefaults=function(ie,we,se,ue){var pe=i.componentsRegistry,le=we._basePlotModules,Te,de,Me,Re=i.subplotsRegistry.cartesian;for(Te in pe)Me=pe[Te],Me.includeBasePlot&&Me.includeBasePlot(ie,we);le.length||le.push(Re),we._has("cartesian")&&(i.getComponentMethod("grid","contentDefaults")(ie,we),Re.finalizeSubplots(ie,we));for(var ze in we._subplots)we._subplots[ze].sort(g.subplotSort);for(de=0;de<le.length;de++)Me=le[de],Me.supplyLayoutDefaults&&Me.supplyLayoutDefaults(ie,we,se);var We=we._modules;for(de=0;de<We.length;de++)Me=We[de],Me.supplyLayoutDefaults&&Me.supplyLayoutDefaults(ie,we,se);var ot=we._transformModules;for(de=0;de<ot.length;de++)Me=ot[de],Me.supplyLayoutDefaults&&Me.supplyLayoutDefaults(ie,we,se,ue);for(Te in pe)Me=pe[Te],Me.supplyLayoutDefaults&&Me.supplyLayoutDefaults(ie,we,se)},k.purge=function(ie){var we=ie._fullLayout||{};we._glcontainer!==void 0&&(we._glcontainer.selectAll(".gl-canvas").remove(),we._glcontainer.remove(),we._glcanvas=null),we._modeBar&&we._modeBar.destroy(),ie._transitionData&&(ie._transitionData._interruptCallbacks&&(ie._transitionData._interruptCallbacks.length=0),ie._transitionData._animationRaf&&window.cancelAnimationFrame(ie._transitionData._animationRaf)),g.clearThrottle(),g.clearResponsive(ie),delete ie.data,delete ie.layout,delete ie._fullData,delete ie._fullLayout,delete ie.calcdata,delete ie.empty,delete ie.fid,delete ie.undoqueue,delete ie.undonum,delete ie.autoplay,delete ie.changed,delete ie._promises,delete ie._redrawTimer,delete ie._hmlumcount,delete ie._hmpixcount,delete ie._transitionData,delete ie._transitioning,delete ie._initialAutoSize,delete ie._transitioningWithDuration,delete ie._dragging,delete ie._dragged,delete ie._dragdata,delete ie._hoverdata,delete ie._snapshotInProgress,delete ie._editing,delete ie._mouseDownTime,delete ie._legendMouseDownTime,ie.removeAllListeners&&ie.removeAllListeners()},k.style=function(ie){var we=ie._fullLayout._visibleModules,se=[],ue;for(ue=0;ue<we.length;ue++){var pe=we[ue];pe.style&&g.pushUnique(se,pe.style)}for(ue=0;ue<se.length;ue++)se[ue](ie)},k.sanitizeMargins=function(ie){if(!(!ie||!ie.margin)){var we=ie.width,se=ie.height,ue=ie.margin,pe=we-(ue.l+ue.r),le=se-(ue.t+ue.b),Te;pe<0&&(Te=(we-1)/(ue.l+ue.r),ue.l=Math.floor(Te*ue.l),ue.r=Math.floor(Te*ue.r)),le<0&&(Te=(se-1)/(ue.t+ue.b),ue.t=Math.floor(Te*ue.t),ue.b=Math.floor(Te*ue.b))}},k.clearAutoMarginIds=function(ie){ie._fullLayout._pushmarginIds={}},k.allowAutoMargin=function(ie,we){ie._fullLayout._pushmarginIds[we]=1};function ne(ie){var we=ie.margin;if(!ie._size){var se=ie._size={l:Math.round(we.l),r:Math.round(we.r),t:Math.round(we.t),b:Math.round(we.b),p:Math.round(we.pad)};se.w=Math.round(ie.width)-se.l-se.r,se.h=Math.round(ie.height)-se.t-se.b}ie._pushmargin||(ie._pushmargin={}),ie._pushmarginIds||(ie._pushmarginIds={}),ie._reservedMargin||(ie._reservedMargin={})}var fe=2,X=2;k.autoMargin=function(ie,we,se){var ue=ie._fullLayout,pe=ue.width,le=ue.height,Te=ue.margin,de=ue.minreducedwidth,Me=ue.minreducedheight,Re=g.constrain(pe-Te.l-Te.r,fe,de),ze=g.constrain(le-Te.t-Te.b,X,Me),We=Math.max(0,pe-Re),ot=Math.max(0,le-ze),dt=ue._pushmargin,Ge=ue._pushmarginIds;if(Te.autoexpand!==!1){if(!se)delete dt[we],delete Ge[we];else{var Xe=se.pad;if(Xe===void 0&&(Xe=Math.min(12,Te.l,Te.r,Te.t,Te.b)),We){var qe=(se.l+se.r)/We;qe>1&&(se.l/=qe,se.r/=qe)}if(ot){var gt=(se.t+se.b)/ot;gt>1&&(se.t/=gt,se.b/=gt)}var ut=se.xl!==void 0?se.xl:se.x,tt=se.xr!==void 0?se.xr:se.x,Ct=se.yt!==void 0?se.yt:se.y,Gt=se.yb!==void 0?se.yb:se.y;dt[we]={l:{val:ut,size:se.l+Xe},r:{val:tt,size:se.r+Xe},b:{val:Gt,size:se.b+Xe},t:{val:Ct,size:se.t+Xe}},Ge[we]=1}if(!ue._replotting)return k.doAutoMargin(ie)}};function ye(ie){if("_redrawFromAutoMarginCount"in ie._fullLayout)return!1;var we=C.list(ie,"",!0);for(var se in we)if(we[se].autoshift||we[se].shift)return!0;return!1}k.doAutoMargin=function(ie){var we=ie._fullLayout,se=we.width,ue=we.height;we._size||(we._size={}),ne(we);var pe=we._size,le=we.margin,Te={t:0,b:0,l:0,r:0},de=g.extendFlat({},pe),Me=le.l,Re=le.r,ze=le.t,We=le.b,ot=we._pushmargin,dt=we._pushmarginIds,Ge=we.minreducedwidth,Xe=we.minreducedheight;if(le.autoexpand!==!1){for(var qe in ot)dt[qe]||delete ot[qe];var gt=ie._fullLayout._reservedMargin;for(var ut in gt)for(var tt in gt[ut]){var Ct=gt[ut][tt];Te[tt]=Math.max(Te[tt],Ct)}ot.base={l:{val:0,size:Me},r:{val:1,size:Re},t:{val:1,size:ze},b:{val:0,size:We}};for(var Gt in Te){var Yt=0;for(var Nt in ot)Nt!=="base"&&c(ot[Nt][Gt].size)&&(Yt=ot[Nt][Gt].size>Yt?ot[Nt][Gt].size:Yt);var Ft=Math.max(0,le[Gt]-Yt);Te[Gt]=Math.max(0,Te[Gt]-Ft)}for(var pn in ot){var _n=ot[pn].l||{},sn=ot[pn].b||{},Zn=_n.val,an=_n.size,Cn=sn.val,jn=sn.size,Wn=se-Te.r-Te.l,wn=ue-Te.t-Te.b;for(var lt in ot){if(c(an)&&ot[lt].r){var ft=ot[lt].r.val,wt=ot[lt].r.size;if(ft>Zn){var vt=(an*ft+(wt-Wn)*Zn)/(ft-Zn),$t=(wt*(1-Zn)+(an-Wn)*(1-ft))/(ft-Zn);vt+$t>Me+Re&&(Me=vt,Re=$t)}}if(c(jn)&&ot[lt].t){var Ze=ot[lt].t.val,it=ot[lt].t.size;if(Ze>Cn){var ht=(jn*Ze+(it-wn)*Cn)/(Ze-Cn),pt=(it*(1-Cn)+(jn-wn)*(1-Ze))/(Ze-Cn);ht+pt>We+ze&&(We=ht,ze=pt)}}}}}var Tt=g.constrain(se-le.l-le.r,fe,Ge),Et=g.constrain(ue-le.t-le.b,X,Xe),fn=Math.max(0,se-Tt),tn=Math.max(0,ue-Et);if(fn){var Zt=(Me+Re)/fn;Zt>1&&(Me/=Zt,Re/=Zt)}if(tn){var Dt=(We+ze)/tn;Dt>1&&(We/=Dt,ze/=Dt)}if(pe.l=Math.round(Me)+Te.l,pe.r=Math.round(Re)+Te.r,pe.t=Math.round(ze)+Te.t,pe.b=Math.round(We)+Te.b,pe.p=Math.round(le.pad),pe.w=Math.round(se)-pe.l-pe.r,pe.h=Math.round(ue)-pe.t-pe.b,!we._replotting&&(k.didMarginChange(de,pe)||ye(ie))){"_redrawFromAutoMarginCount"in we?we._redrawFromAutoMarginCount++:we._redrawFromAutoMarginCount=1;var un=3*(1+Object.keys(dt).length);if(we._redrawFromAutoMarginCount<un)return i.call("_doPlot",ie);we._size=de,g.warn("Too many auto-margin redraws.")}Ce(ie)};function Ce(ie){var we=C.list(ie,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(se){for(var ue=0;ue<we.length;ue++){var pe=we[ue][se];pe&&pe()}})}var $e=["l","r","t","b","p","w","h"];k.didMarginChange=function(ie,we){for(var se=0;se<$e.length;se++){var ue=$e[se],pe=ie[ue],le=we[ue];if(!c(pe)||Math.abs(le-pe)>1)return!0}return!1},k.graphJson=function(ie,we,se,ue,pe,le){(pe&&we&&!ie._fullData||pe&&!we&&!ie._fullLayout)&&k.supplyDefaults(ie);var Te=pe?ie._fullData:ie.data,de=pe?ie._fullLayout:ie.layout,Me=(ie._transitionData||{})._frames;function Re(ot,dt){if(typeof ot=="function")return dt?"_function_":null;if(g.isPlainObject(ot)){var Ge={},Xe;return Object.keys(ot).sort().forEach(function(qe){if(["_","["].indexOf(qe.charAt(0))===-1){if(typeof ot[qe]=="function"){dt&&(Ge[qe]="_function");return}if(se==="keepdata"){if(qe.substr(qe.length-3)==="src")return}else if(se==="keepstream"){if(Xe=ot[qe+"src"],typeof Xe=="string"&&Xe.indexOf(":")>0&&!g.isPlainObject(ot.stream))return}else if(se!=="keepall"&&(Xe=ot[qe+"src"],typeof Xe=="string"&&Xe.indexOf(":")>0))return;Ge[qe]=Re(ot[qe],dt)}}),Ge}return Array.isArray(ot)?ot.map(function(qe){return Re(qe,dt)}):g.isTypedArray(ot)?g.simpleMap(ot,g.identity):g.isJSDate(ot)?g.ms2DateTimeLocal(+ot):ot}var ze={data:(Te||[]).map(function(ot){var dt=Re(ot);return we&&delete dt.fit,dt})};if(!we&&(ze.layout=Re(de),pe)){var We=de._size;ze.layout.computed={margin:{b:We.b,l:We.l,r:We.r,t:We.t}}}return Me&&(ze.frames=Re(Me)),le&&(ze.config=Re(ie._context,!0)),ue==="object"?ze:JSON.stringify(ze)},k.modifyFrames=function(ie,we){var se,ue,pe,le=ie._transitionData._frames,Te=ie._transitionData._frameHash;for(se=0;se<we.length;se++)switch(ue=we[se],ue.type){case"replace":pe=ue.value;var de=(le[ue.index]||{}).name,Me=pe.name;le[ue.index]=Te[Me]=pe,Me!==de&&(delete Te[de],Te[Me]=pe);break;case"insert":pe=ue.value,Te[pe.name]=pe,le.splice(ue.index,0,pe);break;case"delete":pe=le[ue.index],delete Te[pe.name],le.splice(ue.index,1);break}return Promise.resolve()},k.computeFrame=function(ie,we){var se=ie._transitionData._frameHash,ue,pe,le,Te;if(!we)throw new Error("computeFrame must be given a string frame name");var de=se[we.toString()];if(!de)return!1;for(var Me=[de],Re=[de.name];de.baseframe&&(de=se[de.baseframe.toString()])&&Re.indexOf(de.name)===-1;)Me.push(de),Re.push(de.name);for(var ze={};de=Me.pop();)if(de.layout&&(ze.layout=k.extendLayout(ze.layout,de.layout)),de.data){if(ze.data||(ze.data=[]),pe=de.traces,!pe)for(pe=[],ue=0;ue<de.data.length;ue++)pe[ue]=ue;for(ze.traces||(ze.traces=[]),ue=0;ue<de.data.length;ue++)le=pe[ue],le!=null&&(Te=ze.traces.indexOf(le),Te===-1&&(Te=ze.data.length,ze.traces[Te]=le),ze.data[Te]=k.extendTrace(ze.data[Te],de.data[ue]))}return ze},k.recomputeFrameHash=function(ie){for(var we=ie._transitionData._frameHash={},se=ie._transitionData._frames,ue=0;ue<se.length;ue++){var pe=se[ue];pe&&pe.name&&(we[pe.name]=pe)}},k.extendObjectWithContainers=function(ie,we,se){var ue,pe,le,Te,de,Me,Re,ze,We=g.extendDeepNoArrays({},we||{}),ot=g.expandObjectPaths(We),dt={};if(se&&se.length)for(le=0;le<se.length;le++)ue=g.nestedProperty(ot,se[le]),pe=ue.get(),pe===void 0?g.nestedProperty(dt,se[le]).set(null):(ue.set(null),g.nestedProperty(dt,se[le]).set(pe));if(ie=g.extendDeepNoArrays(ie||{},ot),se&&se.length){for(le=0;le<se.length;le++)if(de=g.nestedProperty(dt,se[le]),Re=de.get(),!!Re){for(Me=g.nestedProperty(ie,se[le]),ze=Me.get(),Array.isArray(ze)||(ze=[],Me.set(ze)),Te=0;Te<Re.length;Te++){var Ge=Re[Te];Ge===null?ze[Te]=null:ze[Te]=k.extendObjectWithContainers(ze[Te],Ge)}Me.set(ze)}}return ie},k.dataArrayContainers=["transforms","dimensions"],k.layoutArrayContainers=i.layoutArrayContainers,k.extendTrace=function(ie,we){return k.extendObjectWithContainers(ie,we,k.dataArrayContainers)},k.extendLayout=function(ie,we){return k.extendObjectWithContainers(ie,we,k.layoutArrayContainers)},k.transition=function(ie,we,se,ue,pe,le){var Te={redraw:pe.redraw},de={},Me=[];return Te.prepareFn=function(){for(var Re=Array.isArray(we)?we.length:0,ze=ue.slice(0,Re),We=0;We<ze.length;We++){var ot=ze[We],dt=ie._fullData[ot],Ge=dt._module;if(Ge){if(Ge.animatable){var Xe=Ge.basePlotModule.name;de[Xe]||(de[Xe]=[]),de[Xe].push(ot)}ie.data[ze[We]]=k.extendTrace(ie.data[ze[We]],we[We])}}var qe=g.expandObjectPaths(g.extendDeepNoArrays({},se)),gt=/^[xy]axis[0-9]*$/;for(var ut in qe)gt.test(ut)&&delete qe[ut].range;k.extendLayout(ie.layout,qe),delete ie.calcdata,k.supplyDefaults(ie),k.doCalcdata(ie);var tt=g.expandObjectPaths(se);if(tt){var Ct=ie._fullLayout._plots;for(var Gt in Ct){var Yt=Ct[Gt],Nt=Yt.xaxis,Ft=Yt.yaxis,pn=Nt.range.slice(),_n=Ft.range.slice(),sn=null,Zn=null,an=null,Cn=null;Array.isArray(tt[Nt._name+".range"])?sn=tt[Nt._name+".range"].slice():Array.isArray((tt[Nt._name]||{}).range)&&(sn=tt[Nt._name].range.slice()),Array.isArray(tt[Ft._name+".range"])?Zn=tt[Ft._name+".range"].slice():Array.isArray((tt[Ft._name]||{}).range)&&(Zn=tt[Ft._name].range.slice()),pn&&sn&&(Nt.r2l(pn[0])!==Nt.r2l(sn[0])||Nt.r2l(pn[1])!==Nt.r2l(sn[1]))&&(an={xr0:pn,xr1:sn}),_n&&Zn&&(Ft.r2l(_n[0])!==Ft.r2l(Zn[0])||Ft.r2l(_n[1])!==Ft.r2l(Zn[1]))&&(Cn={yr0:_n,yr1:Zn}),(an||Cn)&&Me.push(g.extendFlat({plotinfo:Yt},an,Cn))}}return Promise.resolve()},Te.runFn=function(Re){var ze,We=ie._fullLayout._basePlotModules,ot=Me.length,dt;if(se)for(dt=0;dt<We.length;dt++)We[dt].transitionAxes&&We[dt].transitionAxes(ie,Me,le,Re);ot?(ze=g.extendFlat({},le),ze.duration=0,delete de.cartesian):ze=le;for(var Ge in de){var Xe=de[Ge],qe=ie._fullData[Xe[0]]._module;qe.basePlotModule.plot(ie,Xe,ze,Re)}},ke(ie,le,Te)},k.transitionFromReact=function(ie,we,se,ue){var pe=ie._fullLayout,le=pe.transition,Te={},de=[];return Te.prepareFn=function(){var Me=pe._plots;Te.redraw=!1,we.anim==="some"&&(Te.redraw=!0),se.anim==="some"&&(Te.redraw=!0);for(var Re in Me){var ze=Me[Re],We=ze.xaxis,ot=ze.yaxis,dt=ue[We._name].range.slice(),Ge=ue[ot._name].range.slice(),Xe=We.range.slice(),qe=ot.range.slice();We.setScale(),ot.setScale();var gt=null,ut=null;(We.r2l(dt[0])!==We.r2l(Xe[0])||We.r2l(dt[1])!==We.r2l(Xe[1]))&&(gt={xr0:dt,xr1:Xe}),(ot.r2l(Ge[0])!==ot.r2l(qe[0])||ot.r2l(Ge[1])!==ot.r2l(qe[1]))&&(ut={yr0:Ge,yr1:qe}),(gt||ut)&&de.push(g.extendFlat({plotinfo:ze},gt,ut))}return Promise.resolve()},Te.runFn=function(Me){for(var Re=ie._fullData,ze=ie._fullLayout,We=ze._basePlotModules,ot,dt,Ge,Xe=[],qe=0;qe<Re.length;qe++)Xe.push(qe);function gt(){if(ie._fullLayout)for(var tt=0;tt<We.length;tt++)We[tt].transitionAxes&&We[tt].transitionAxes(ie,de,ot,Me)}function ut(){if(ie._fullLayout)for(var tt=0;tt<We.length;tt++)We[tt].plot(ie,Ge,dt,Me)}de.length&&we.anim?le.ordering==="traces first"?(ot=g.extendFlat({},le,{duration:0}),Ge=Xe,dt=le,setTimeout(gt,le.duration),ut()):(ot=le,Ge=null,dt=g.extendFlat({},le,{duration:0}),setTimeout(ut,ot.duration),gt()):de.length?(ot=le,gt()):we.anim&&(Ge=Xe,dt=le,ut())},ke(ie,le,Te)};function ke(ie,we,se){var ue=!1;function pe(We){var ot=Promise.resolve();if(!We)return ot;for(;We.length;)ot=ot.then(We.shift());return ot}function le(We){if(We)for(;We.length;)We.shift()}function Te(){return ie.emit("plotly_transitioning",[]),new Promise(function(We){ie._transitioning=!0,we.duration>0&&(ie._transitioningWithDuration=!0),ie._transitionData._interruptCallbacks.push(function(){ue=!0}),se.redraw&&ie._transitionData._interruptCallbacks.push(function(){return i.call("redraw",ie)}),ie._transitionData._interruptCallbacks.push(function(){ie.emit("plotly_transitioninterrupted",[])});var ot=0,dt=0;function Ge(){return ot++,function(){dt++,!ue&&dt===ot&&de(We)}}se.runFn(Ge),setTimeout(Ge())})}function de(We){if(ie._transitionData)return le(ie._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(se.redraw)return i.call("redraw",ie)}).then(function(){ie._transitioning=!1,ie._transitioningWithDuration=!1,ie.emit("plotly_transitioned",[])}).then(We)}function Me(){if(ie._transitionData)return ie._transitioning=!1,pe(ie._transitionData._interruptCallbacks)}var Re=[k.previousPromises,Me,se.prepareFn,k.rehover,k.reselect,Te],ze=g.syncOrAsync(Re,ie);return(!ze||!ze.then)&&(ze=Promise.resolve()),ze.then(function(){return ie})}k.doCalcdata=function(ie,we){var se=C.list(ie),ue=ie._fullData,pe=ie._fullLayout,le,Te,de,Me,Re=new Array(ue.length),ze=(ie.calcdata||[]).slice();for(ie.calcdata=Re,pe._numBoxes=0,pe._numViolins=0,pe._violinScaleGroupStats={},ie._hmpixcount=0,ie._hmlumcount=0,pe._piecolormap={},pe._sunburstcolormap={},pe._treemapcolormap={},pe._iciclecolormap={},pe._funnelareacolormap={},de=0;de<ue.length;de++)if(Array.isArray(we)&&we.indexOf(de)===-1){Re[de]=ze[de];continue}for(de=0;de<ue.length;de++)le=ue[de],le._arrayAttrs=u.findArrayAttributes(le),le._extremes={};var We=pe._subplots.polar||[];for(de=0;de<We.length;de++)se.push(pe[We[de]].radialaxis,pe[We[de]].angularaxis);for(var ot in pe._colorAxes){var dt=pe[ot];dt.cauto!==!1&&(delete dt.cmin,delete dt.cmax)}var Ge=!1;function Xe(ut){if(le=ue[ut],Te=le._module,le.visible===!0&&le.transforms){if(Te&&Te.calc){var tt=Te.calc(ie,le);tt[0]&&tt[0].t&&tt[0].t._scene&&delete tt[0].t._scene.dirty}for(Me=0;Me<le.transforms.length;Me++){var Ct=le.transforms[Me];Te=R[Ct.type],Te&&Te.calcTransform&&(le._hasCalcTransform=!0,Ge=!0,Te.calcTransform(ie,le,Ct))}}}function qe(ut,tt){if(le=ue[ut],Te=le._module,!!Te.isContainer===tt){var Ct=[];if(le.visible===!0&&le._length!==0){delete le._indexToPoints;var Gt=le.transforms||[];for(Me=Gt.length-1;Me>=0;Me--)if(Gt[Me].enabled){le._indexToPoints=Gt[Me]._indexToPoints;break}Te&&Te.calc&&(Ct=Te.calc(ie,le))}(!Array.isArray(Ct)||!Ct[0])&&(Ct=[{x,y:x}]),Ct[0].t||(Ct[0].t={}),Ct[0].trace=le,Re[ut]=Ct}}for(Oe(se,ue,pe),de=0;de<ue.length;de++)qe(de,!0);for(de=0;de<ue.length;de++)Xe(de);for(Ge&&Oe(se,ue,pe),de=0;de<ue.length;de++)qe(de,!0);for(de=0;de<ue.length;de++)qe(de,!1);Fe(ie);var gt=Ve(se,ie);if(gt.length){for(pe._numBoxes=0,pe._numViolins=0,de=0;de<gt.length;de++)qe(gt[de],!0);for(de=0;de<gt.length;de++)qe(gt[de],!1);Fe(ie)}i.getComponentMethod("fx","calc")(ie),i.getComponentMethod("errorbars","calc")(ie)};var Ne=/(total|sum|min|max|mean|median) (ascending|descending)/;function Ve(ie,we){var se=[],ue,pe,le,Te,de;function Me(Wn,wn,lt){var ft=wn._id.charAt(0);if(Wn==="histogram2dcontour"){var wt=wn._counterAxes[0],vt=C.getFromId(we,wt),$t=ft==="x"||wt==="x"&&vt.type==="category",Ze=ft==="y"||wt==="y"&&vt.type==="category";return function(it,ht){return it===0||ht===0||$t&&it===lt[ht].length-1||Ze&&ht===lt.length-1?-1:(ft==="y"?ht:it)-1}}else return function(it,ht){return ft==="y"?ht:it}}var Re={min:function(Wn){return g.aggNums(Math.min,null,Wn)},max:function(Wn){return g.aggNums(Math.max,null,Wn)},sum:function(Wn){return g.aggNums(function(wn,lt){return wn+lt},null,Wn)},total:function(Wn){return g.aggNums(function(wn,lt){return wn+lt},null,Wn)},mean:function(Wn){return g.mean(Wn)},median:function(Wn){return g.median(Wn)}};for(ue=0;ue<ie.length;ue++){var ze=ie[ue];if(ze.type==="category"){var We=ze.categoryorder.match(Ne);if(We){var ot=We[1],dt=We[2],Ge=ze._id.charAt(0),Xe=Ge==="x",qe=[];for(pe=0;pe<ze._categories.length;pe++)qe.push([ze._categories[pe],[]]);for(pe=0;pe<ze._traceIndices.length;pe++){var gt=ze._traceIndices[pe],ut=we._fullData[gt];if(ut.visible===!0){var tt=ut.type;i.traceIs(ut,"histogram")&&(delete ut._xautoBinFinished,delete ut._yautoBinFinished);var Ct=tt==="splom",Gt=tt==="scattergl",Yt=we.calcdata[gt];for(le=0;le<Yt.length;le++){var Nt=Yt[le],Ft,pn;if(Ct){var _n=ut._axesDim[ze._id];if(!Xe){var sn=ut._diag[_n][0];sn&&(ze=we._fullLayout[C.id2name(sn)])}var Zn=Nt.trace.dimensions[_n].values;for(Te=0;Te<Zn.length;Te++)for(Ft=ze._categoriesMap[Zn[Te]],de=0;de<Nt.trace.dimensions.length;de++)if(de!==_n){var an=Nt.trace.dimensions[de];qe[Ft][1].push(an.values[Te])}}else if(Gt){for(Te=0;Te<Nt.t.x.length;Te++)Xe?(Ft=Nt.t.x[Te],pn=Nt.t.y[Te]):(Ft=Nt.t.y[Te],pn=Nt.t.x[Te]),qe[Ft][1].push(pn);Nt.t&&Nt.t._scene&&delete Nt.t._scene.dirty}else if(Nt.hasOwnProperty("z")){pn=Nt.z;var Cn=Me(ut.type,ze,pn);for(Te=0;Te<pn.length;Te++)for(de=0;de<pn[Te].length;de++)Ft=Cn(de,Te),Ft+1&&qe[Ft][1].push(pn[Te][de])}else for(Ft=Nt.p,Ft===void 0&&(Ft=Nt[Ge]),pn=Nt.s,pn===void 0&&(pn=Nt.v),pn===void 0&&(pn=Xe?Nt.y:Nt.x),Array.isArray(pn)||(pn===void 0?pn=[]:pn=[pn]),Te=0;Te<pn.length;Te++)qe[Ft][1].push(pn[Te])}}}ze._categoriesValue=qe;var jn=[];for(pe=0;pe<qe.length;pe++)jn.push([qe[pe][0],Re[ot](qe[pe][1])]);jn.sort(function(Wn,wn){return Wn[1]-wn[1]}),ze._categoriesAggregatedValue=jn,ze._initialCategories=jn.map(function(Wn){return Wn[0]}),dt==="descending"&&ze._initialCategories.reverse(),se=se.concat(ze.sortByInitialCategories())}}}return se}function Oe(ie,we,se){var ue={};function pe(Me){Me.clearCalc(),Me.type==="multicategory"&&Me.setupMultiCategory(we),ue[Me._id]=1}g.simpleMap(ie,pe);for(var le=se._axisMatchGroups||[],Te=0;Te<le.length;Te++)for(var de in le[Te])ue[de]||pe(se[C.id2name(de)])}function Fe(ie){var we=ie._fullLayout,se=we._visibleModules,ue={},pe,le,Te;for(le=0;le<se.length;le++){var de=se[le],Me=de.crossTraceCalc;if(Me){var Re=de.basePlotModule.name;ue[Re]?g.pushUnique(ue[Re],Me):ue[Re]=[Me]}}for(Te in ue){var ze=ue[Te],We=we._subplots[Te];if(Array.isArray(We))for(pe=0;pe<We.length;pe++){var ot=We[pe],dt=Te==="cartesian"?we._plots[ot]:we[ot];for(le=0;le<ze.length;le++)ze[le](ie,dt,ot)}else for(le=0;le<ze.length;le++)ze[le](ie)}}k.rehover=function(ie){ie._fullLayout._rehover&&ie._fullLayout._rehover()},k.redrag=function(ie){ie._fullLayout._redrag&&ie._fullLayout._redrag()},k.reselect=function(ie){var we=ie._fullLayout,se=(ie.layout||{}).selections,ue=we._previousSelections;we._previousSelections=se;var pe=we._reselect||JSON.stringify(se)!==JSON.stringify(ue);i.getComponentMethod("selections","reselect")(ie,pe)},k.generalUpdatePerTraceModule=function(ie,we,se,ue){var pe=we.traceHash,le={},Te;for(Te=0;Te<se.length;Te++){var de=se[Te],Me=de[0].trace;Me.visible&&(le[Me.type]=le[Me.type]||[],le[Me.type].push(de))}for(var Re in pe)if(!le[Re]){var ze=pe[Re][0],We=ze[0].trace;We.visible=!1,le[Re]=[ze]}for(var ot in le){var dt=le[ot],Ge=dt[0][0].trace._module;Ge.plot(ie,we,g.filterVisible(dt),ue)}we.traceHash=le},k.plotBasePlot=function(ie,we,se,ue,pe){var le=i.getModule(ie),Te=D(we.calcdata,le)[0];le.plot(we,Te,ue,pe)},k.cleanBasePlot=function(ie,we,se,ue,pe){var le=pe._has&&pe._has(ie),Te=se._has&&se._has(ie);le&&!Te&&pe["_"+ie+"layer"].selectAll("g.trace").remove()}},5386:function(L,A,s){var m=s(1562);m.FORMAT_LINK,m.DATE_FORMAT_LINK;function h(l){var c=l.description?" "+l.description:"",i=l.keys||[];if(i.length>0){for(var u=[],d=0;d<i.length;d++)u[d]="`"+i[d]+"`";c=c+"Finally, the template string has access to ",i.length===1?c=c+"variable "+u[0]:c=c+"variables "+u.slice(0,-1).join(", ")+" and "+u.slice(-1)+"."}return c}A.fF=function(l,c){l=l||{},c=c||{},h(c);var i={valType:"string",dflt:"",editType:l.editType||"none"};return l.arrayOk!==!1&&(i.arrayOk=!0),i},A.si=function(l,c){l=l||{},c=c||{},h(c);var i={valType:"string",dflt:"",editType:l.editType||"calc"};return l.arrayOk!==!1&&(i.arrayOk=!0),i},A.R=function(l,c){l=l||{},c=c||{},l.newshape,h(c);var i={valType:"string",dflt:"",editType:l.editType||"arraydraw"};return i}},3972:function(L,A,s){var m=s(7769),h=s(4213),l=s(5138),c=s(1965),i=s(4401).addStyleRule,u=s(1426),d=s(9012),g=s(820),v=u.extendFlat,x=u.extendDeepAll;A.modules={},A.allCategories={},A.allTypes=[],A.subplotsRegistry={},A.transformsRegistry={},A.componentsRegistry={},A.layoutArrayContainers=[],A.layoutArrayRegexes=[],A.traceLayoutAttributes={},A.localeRegistry={},A.apiMethodRegistry={},A.collectableSubplotTypes=null,A.register=function(H){if(A.collectableSubplotTypes=null,H)H&&!Array.isArray(H)&&(H=[H]);else throw new Error("No argument passed to Plotly.register.");for(var j=0;j<H.length;j++){var P=H[j];if(!P)throw new Error("Invalid module was attempted to be registered!");switch(P.moduleType){case"trace":C(P);break;case"transform":S(P);break;case"component":$(P);break;case"locale":O(P);break;case"apiMethod":var ee=P.name;A.apiMethodRegistry[ee]=P.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},A.getModule=function(F){var H=A.modules[R(F)];return H?H._module:!1},A.traceIs=function(F,H){if(F=R(F),F==="various")return!1;var j=A.modules[F];return j||(F&&m.log("Unrecognized trace type "+F+"."),j=A.modules[d.type.dflt]),!!j.categories[H]},A.getTransformIndices=function(F,H){for(var j=[],P=F.transforms||[],ee=0;ee<P.length;ee++)P[ee].type===H&&j.push(ee);return j},A.hasTransform=function(F,H){for(var j=F.transforms||[],P=0;P<j.length;P++)if(j[P].type===H)return!0;return!1},A.getComponentMethod=function(F,H){var j=A.componentsRegistry[F];return j&&j[H]||h},A.call=function(){var F=arguments[0],H=[].slice.call(arguments,1);return A.apiMethodRegistry[F].apply(null,H)};function C(F){var H=F.name,j=F.categories,P=F.meta;if(A.modules[H]){m.log("Type "+H+" already registered");return}A.subplotsRegistry[F.basePlotModule.name]||_(F.basePlotModule);for(var ee={},J=0;J<j.length;J++)ee[j[J]]=!0,A.allCategories[j[J]]=!0;A.modules[H]={_module:F,categories:ee},P&&Object.keys(P).length&&(A.modules[H].meta=P),A.allTypes.push(H);for(var K in A.componentsRegistry)N(K,H);F.layoutAttributes&&v(A.traceLayoutAttributes,F.layoutAttributes);var ae=F.basePlotModule,Q=ae.name;if(Q==="mapbox"){var he=ae.constants.styleRules;for(var ge in he)i(".js-plotly-plot .plotly .mapboxgl-"+ge,he[ge])}(Q==="geo"||Q==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function _(F){var H=F.name;if(A.subplotsRegistry[H]){m.log("Plot type "+H+" already registered.");return}D(F),A.subplotsRegistry[H]=F;for(var j in A.componentsRegistry)k(j,F.name)}function $(F){if(typeof F.name!="string")throw new Error("Component module *name* must be a string.");var H=F.name;A.componentsRegistry[H]=F,F.layoutAttributes&&(F.layoutAttributes._isLinkedToArray&&l(A.layoutArrayContainers,H),D(F));for(var j in A.modules)N(H,j);for(var P in A.subplotsRegistry)k(H,P);for(var ee in A.transformsRegistry)M(H,ee);F.schema&&F.schema.layout&&x(g,F.schema.layout)}function S(F){if(typeof F.name!="string")throw new Error("Transform module *name* must be a string.");var H="Transform module "+F.name,j=typeof F.transform=="function",P=typeof F.calcTransform=="function";if(!j&&!P)throw new Error(H+" is missing a *transform* or *calcTransform* method.");j&&P&&m.log([H+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),c(F.attributes)||m.log(H+" registered without an *attributes* object."),typeof F.supplyDefaults!="function"&&m.log(H+" registered without a *supplyDefaults* method."),A.transformsRegistry[F.name]=F;for(var ee in A.componentsRegistry)M(ee,F.name)}function O(F){var H=F.name,j=H.split("-")[0],P=F.dictionary,ee=F.format,J=P&&Object.keys(P).length,K=ee&&Object.keys(ee).length,ae=A.localeRegistry,Q=ae[H];if(Q||(ae[H]=Q={}),j!==H){var he=ae[j];he||(ae[j]=he={}),J&&he.dictionary===Q.dictionary&&(he.dictionary=P),K&&he.format===Q.format&&(he.format=ee)}J&&(Q.dictionary=P),K&&(Q.format=ee)}function D(F){if(F.layoutAttributes){var H=F.layoutAttributes._arrayAttrRegexps;if(H)for(var j=0;j<H.length;j++)l(A.layoutArrayRegexes,H[j])}}function N(F,H){var j=A.componentsRegistry[F].schema;if(!(!j||!j.traces)){var P=j.traces[H];P&&x(A.modules[H]._module.attributes,P)}}function M(F,H){var j=A.componentsRegistry[F].schema;if(!(!j||!j.transforms)){var P=j.transforms[H];P&&x(A.transformsRegistry[H].attributes,P)}}function k(F,H){var j=A.componentsRegistry[F].schema;if(!(!j||!j.subplots)){var P=A.subplotsRegistry[H],ee=P.layoutAttributes,J=P.attr==="subplot"?P.name:P.attr;Array.isArray(J)&&(J=J[0]);var K=j.subplots[J];ee&&K&&x(ee,K)}}function R(F){return typeof F=="object"&&(F=F.type),F}},1914:function(L,A,s){var m=s(3972),h=s(1828),l=h.extendFlat,c=h.extendDeep;function i(d){var g;switch(d){case"themes__thumb":g={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":g={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:g={}}return g}function u(d){var g=["xaxis","yaxis","zaxis"];return g.indexOf(d.slice(0,5))>-1}L.exports=function(g,v){var x,C=g.data,_=g.layout,$=c([],C),S=c({},_,i(v.tileClass)),O=g._context||{};if(v.width&&(S.width=v.width),v.height&&(S.height=v.height),v.tileClass==="thumbnail"||v.tileClass==="themes__thumb"){S.annotations=[];var D=Object.keys(S);for(x=0;x<D.length;x++)u(D[x])&&(S[D[x]].title={text:""});for(x=0;x<$.length;x++){var N=$[x];N.showscale=!1,N.marker&&(N.marker.showscale=!1),m.traceIs(N,"pie-like")&&(N.textposition="none")}}if(Array.isArray(v.annotations))for(x=0;x<v.annotations.length;x++)S.annotations.push(v.annotations[x]);var M=Object.keys(S).filter(function(j){return j.match(/^scene\d*$/)});if(M.length){var k={};for(v.tileClass==="thumbnail"&&(k={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),x=0;x<M.length;x++){var R=S[M[x]];R.xaxis||(R.xaxis={}),R.yaxis||(R.yaxis={}),R.zaxis||(R.zaxis={}),l(R.xaxis,k),l(R.yaxis,k),l(R.zaxis,k),R._scene=null}}var F=document.createElement("div");v.tileClass&&(F.className=v.tileClass);var H={gd:F,td:F,layout:S,data:$,config:{staticPlot:v.staticPlot===void 0?!0:v.staticPlot,plotGlPixelRatio:v.plotGlPixelRatio===void 0?2:v.plotGlPixelRatio,displaylogo:v.displaylogo||!1,showLink:v.showLink||!1,showTips:v.showTips||!1,mapboxAccessToken:O.mapboxAccessToken}};return v.setBackground!=="transparent"&&(H.config.setBackground=v.setBackground||"opaque"),H.gd.defaultLayout=i(v.tileClass),H}},7239:function(L,A,s){var m=s(1828),h=s(403),l=s(2435),c=s(5095);function i(u,d){var g;return m.isPlainObject(u)||(g=m.getGraphDiv(u)),d=d||{},d.format=d.format||"png",d.width=d.width||null,d.height=d.height||null,d.imageDataOnly=!0,new Promise(function(v,x){g&&g._snapshotInProgress&&x(new Error("Snapshotting already in progress.")),m.isIE()&&d.format!=="svg"&&x(new Error(c.MSG_IE_BAD_FORMAT)),g&&(g._snapshotInProgress=!0);var C=h(u,d),_=d.filename||u.fn||"newplot";_+="."+d.format.replace("-","."),C.then(function($){return g&&(g._snapshotInProgress=!1),l($,_,d.format)}).then(function($){v($)}).catch(function($){g&&(g._snapshotInProgress=!1),x($)})})}L.exports=i},2435:function(L,A,s){var m=s(1828),h=s(5095);function l(c,i,u){var d=document.createElement("a"),g="download"in d,v=new Promise(function(x,C){var _,$;if(m.isIE())return _=h.createBlob(c,"svg"),window.navigator.msSaveBlob(_,i),_=null,x(i);if(g)return _=h.createBlob(c,u),$=h.createObjectURL(_),d.href=$,d.download=i,document.body.appendChild(d),d.click(),document.body.removeChild(d),h.revokeObjectURL($),_=null,x(i);if(m.isSafari()){var S=u==="svg"?",":";base64,";return h.octetStream(S+encodeURIComponent(c)),x(i)}C(new Error("download error"))});return v}L.exports=l},5095:function(L,A,s){var m=s(3972);A.getDelay=function(c){return c._has&&(c._has("gl3d")||c._has("gl2d")||c._has("mapbox"))?500:0},A.getRedrawFunc=function(c){return function(){m.getComponentMethod("colorbar","draw")(c)}},A.encodeSVG=function(c){return"data:image/svg+xml,"+encodeURIComponent(c)},A.encodeJSON=function(c){return"data:application/json,"+encodeURIComponent(c)};var h=window.URL||window.webkitURL;A.createObjectURL=function(c){return h.createObjectURL(c)},A.revokeObjectURL=function(c){return h.revokeObjectURL(c)},A.createBlob=function(c,i){if(i==="svg")return new window.Blob([c],{type:"image/svg+xml;charset=utf-8"});if(i==="full-json")return new window.Blob([c],{type:"application/json;charset=utf-8"});var u=l(window.atob(c));return new window.Blob([u],{type:"image/"+i})},A.octetStream=function(c){document.location.href="data:application/octet-stream"+c};function l(c){for(var i=c.length,u=new ArrayBuffer(i),d=new Uint8Array(u),g=0;g<i;g++)d[g]=c.charCodeAt(g);return u}A.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,A.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},4511:function(L,A,s){var m=s(5095),h={getDelay:m.getDelay,getRedrawFunc:m.getRedrawFunc,clone:s(1914),toSVG:s(5900),svgToImg:s(942),toImage:s(6395),downloadImage:s(7239)};L.exports=h},942:function(L,A,s){var m=s(1828),h=s(5398).EventEmitter,l=s(5095);function c(i){var u=i.emitter||new h,d=new Promise(function(g,v){var x=window.Image,C=i.svg,_=i.format||"png";if(m.isIE()&&_!=="svg"){var $=new Error(l.MSG_IE_BAD_FORMAT);return v($),i.promise?d:u.emit("error",$)}var S=i.canvas,O=i.scale||1,D=i.width||300,N=i.height||150,M=O*D,k=O*N,R=S.getContext("2d",{willReadFrequently:!0}),F=new x,H,j;_==="svg"||m.isSafari()?j=l.encodeSVG(C):(H=l.createBlob(C,"svg"),j=l.createObjectURL(H)),S.width=M,S.height=k,F.onload=function(){var P;switch(H=null,l.revokeObjectURL(j),_!=="svg"&&R.drawImage(F,0,0,M,k),_){case"jpeg":P=S.toDataURL("image/jpeg");break;case"png":P=S.toDataURL("image/png");break;case"webp":P=S.toDataURL("image/webp");break;case"svg":P=j;break;default:var ee="Image format is not jpeg, png, svg or webp.";if(v(new Error(ee)),!i.promise)return u.emit("error",ee)}g(P),i.promise||u.emit("success",P)},F.onerror=function(P){if(H=null,l.revokeObjectURL(j),v(P),!i.promise)return u.emit("error",P)},F.src=j});return i.promise?d:u}L.exports=c},6395:function(L,A,s){var m=s(5398).EventEmitter,h=s(3972),l=s(1828),c=s(5095),i=s(1914),u=s(5900),d=s(942);function g(v,x){var C=new m,_=i(v,{format:"png"}),$=_.gd;$.style.position="absolute",$.style.left="-5000px",document.body.appendChild($);function S(){var D=c.getDelay($._fullLayout);setTimeout(function(){var N=u($),M=document.createElement("canvas");M.id=l.randstr(),C=d({format:x.format,width:$._fullLayout.width,height:$._fullLayout.height,canvas:M,emitter:C,svg:N}),C.clean=function(){$&&document.body.removeChild($)}},D)}var O=c.getRedrawFunc($);return h.call("_doPlot",$,_.data,_.layout,_.config).then(O).then(S).catch(function(D){C.emit("error",D)}),C}L.exports=g},5900:function(L,A,s){var m=s(9898),h=s(1828),l=s(1424),c=s(7901),i=s(7922),u=/"/g,d="TOBESTRIPPED",g=new RegExp('("'+d+")|("+d+'")',"g");function v(C){var _=m.select("body").append("div").style({display:"none"}).html(""),$=C.replace(/(&[^;]*;)/gi,function(S){return S==="&lt;"?"&#60;":S==="&rt;"?"&#62;":S.indexOf("<")!==-1||S.indexOf(">")!==-1?"":_.html(S).text()});return _.remove(),$}function x(C){return C.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}L.exports=function(_,$,S){var O=_._fullLayout,D=O._paper,N=O._toppaper,M=O.width,k=O.height,R;D.insert("rect",":first-child").call(l.setRect,0,0,M,k).call(c.fill,O.paper_bgcolor);var F=O._basePlotModules||[];for(R=0;R<F.length;R++){var H=F[R];H.toSVG&&H.toSVG(_)}if(N){var j=N.node().childNodes,P=Array.prototype.slice.call(j);for(R=0;R<P.length;R++){var ee=P[R];ee.childNodes.length&&D.node().appendChild(ee)}}O._draggers&&O._draggers.remove(),D.node().style.background="",D.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var K=m.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){K.remove();return}else K.style({visibility:null,display:null});var ae=this.style.fontFamily;ae&&ae.indexOf('"')!==-1&&K.style("font-family",ae.replace(u,d))}),D.selectAll(".gradient_filled,.pattern_filled").each(function(){var K=m.select(this),ae=this.style.fill;ae&&ae.indexOf("url(")!==-1&&K.style("fill",ae.replace(u,d));var Q=this.style.stroke;Q&&Q.indexOf("url(")!==-1&&K.style("stroke",Q.replace(u,d))}),($==="pdf"||$==="eps")&&D.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),D.node().setAttributeNS(i.xmlns,"xmlns",i.svg),D.node().setAttributeNS(i.xmlns,"xmlns:xlink",i.xlink),$==="svg"&&S&&(D.attr("width",S*M),D.attr("height",S*k),D.attr("viewBox","0 0 "+M+" "+k));var J=new window.XMLSerializer().serializeToString(D.node());return J=v(J),J=x(J),J=J.replace(g,"'"),h.isIE()&&(J=J.replace(/"/gi,"'"),J=J.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),J=J.replace(/(\\')/gi,'"')),J}},5341:function(L,A,s){var m=s(1828);L.exports=function(l,c){for(var i=0;i<l.length;i++)l[i].i=i;m.mergeArray(c.text,l,"tx"),m.mergeArray(c.hovertext,l,"htx");var u=c.marker;if(u){m.mergeArray(u.opacity,l,"mo",!0),m.mergeArray(u.color,l,"mc");var d=u.line;d&&(m.mergeArray(d.color,l,"mlc"),m.mergeArrayCastPositive(d.width,l,"mlw"))}}},1486:function(L,A,s){var m=s(2196),h=s(2663).axisHoverFormat,l=s(5386).fF,c=s(5386).si,i=s(693),u=s(1940),d=s(7313),g=s(9952).u,v=s(1426).extendFlat,x=u({editType:"calc",arrayOk:!0,colorEditType:"style"}),C=m.marker,_=C.line,$=v({},_.width,{dflt:0}),S=v({width:$,editType:"calc"},i("marker.line")),O=v({line:S,editType:"calc"},i("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:g});L.exports={x:m.x,x0:m.x0,dx:m.dx,y:m.y,y0:m.y0,dy:m.dy,xperiod:m.xperiod,yperiod:m.yperiod,xperiod0:m.xperiod0,yperiod0:m.yperiod0,xperiodalignment:m.xperiodalignment,yperiodalignment:m.yperiodalignment,xhoverformat:h("x"),yhoverformat:h("y"),text:m.text,texttemplate:c({editType:"plot"},{keys:d.eventDataKeys}),hovertext:m.hovertext,hovertemplate:l({},{keys:d.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:v({},x,{}),insidetextfont:v({},x,{}),outsidetextfont:v({},x,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:v({},m.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:O,offsetgroup:m.offsetgroup,alignmentgroup:m.alignmentgroup,selected:{marker:{opacity:m.selected.marker.opacity,color:m.selected.marker.color,editType:"style"},textfont:m.selected.textfont,editType:"style"},unselected:{marker:{opacity:m.unselected.marker.opacity,color:m.unselected.marker.color,editType:"style"},textfont:m.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},2290:function(L,A,s){var m=s(9298),h=s(2973),l=s(2869).hasColorscale,c=s(8803),i=s(5341),u=s(6279);L.exports=function(g,v){var x=m.getFromId(g,v.xaxis||"x"),C=m.getFromId(g,v.yaxis||"y"),_,$,S,O,D,N,M={msUTC:!!(v.base||v.base===0)};v.orientation==="h"?(_=x.makeCalcdata(v,"x",M),S=C.makeCalcdata(v,"y"),O=h(v,C,"y",S),D=!!v.yperiodalignment,N="y"):(_=C.makeCalcdata(v,"y",M),S=x.makeCalcdata(v,"x"),O=h(v,x,"x",S),D=!!v.xperiodalignment,N="x"),$=O.vals;for(var k=Math.min($.length,_.length),R=new Array(k),F=0;F<k;F++)R[F]={p:$[F],s:_[F]},D&&(R[F].orig_p=S[F],R[F][N+"End"]=O.ends[F],R[F][N+"Start"]=O.starts[F]),v.ids&&(R[F].id=String(v.ids[F]));return l(v,"marker")&&c(g,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),l(v,"marker.line")&&c(g,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}),i(R,v),u(R,v),R}},7313:function(L){L.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},1661:function(L,A,s){var m=s(2770),h=s(1828).isArrayOrTypedArray,l=s(606).BADNUM,c=s(3972),i=s(9298),u=s(9082).getAxisGroup,d=s(1546);function g(J,K){for(var ae=K.xaxis,Q=K.yaxis,he=J._fullLayout,ge=J._fullData,Se=J.calcdata,ce=[],ne=[],fe=0;fe<ge.length;fe++){var X=ge[fe];if(X.visible===!0&&c.traceIs(X,"bar")&&X.xaxis===ae._id&&X.yaxis===Q._id&&(X.orientation==="h"?ce.push(Se[fe]):ne.push(Se[fe]),X._computePh))for(var ye=J.calcdata[fe],Ce=0;Ce<ye.length;Ce++)typeof ye[Ce].ph0=="function"&&(ye[Ce].ph0=ye[Ce].ph0()),typeof ye[Ce].ph1=="function"&&(ye[Ce].ph1=ye[Ce].ph1())}var $e={xCat:ae.type==="category"||ae.type==="multicategory",yCat:Q.type==="category"||Q.type==="multicategory",mode:he.barmode,norm:he.barnorm,gap:he.bargap,groupgap:he.bargroupgap};v(J,ae,Q,ne,$e),v(J,Q,ae,ce,$e)}function v(J,K,ae,Q,he){if(Q.length){var ge,Se,ce,ne,fe;switch(x(ae,Q),he.mode){case"overlay":C(K,ae,Q,he);break;case"group":for(ge=[],Se=[],ce=0;ce<Q.length;ce++)ne=Q[ce],fe=ne[0].trace,fe.offset===void 0?Se.push(ne):ge.push(ne);Se.length&&_(J,K,ae,Se,he),ge.length&&C(K,ae,ge,he);break;case"stack":case"relative":for(ge=[],Se=[],ce=0;ce<Q.length;ce++)ne=Q[ce],fe=ne[0].trace,fe.base===void 0?Se.push(ne):ge.push(ne);Se.length&&$(J,K,ae,Se,he),ge.length&&C(K,ae,ge,he);break}P(Q,K)}}function x(J,K){var ae,Q;for(ae=0;ae<K.length;ae++){var he=K[ae],ge=he[0].trace,Se=ge.type==="funnel"?ge._base:ge.base,ce,ne=ge.orientation==="h"?ge.xcalendar:ge.ycalendar,fe=J.type==="category"||J.type==="multicategory"?function(){return null}:J.d2c;if(h(Se)){for(Q=0;Q<Math.min(Se.length,he.length);Q++)ce=fe(Se[Q],0,ne),m(ce)?(he[Q].b=+ce,he[Q].hasB=1):he[Q].b=0;for(;Q<he.length;Q++)he[Q].b=0}else{ce=fe(Se,0,ne);var X=m(ce);for(ce=X?ce:0,Q=0;Q<he.length;Q++)he[Q].b=ce,X&&(he[Q].hasB=1)}}}function C(J,K,ae,Q){for(var he=0;he<ae.length;he++){var ge=ae[he],Se=new d([ge],{posAxis:J,sepNegVal:!1,overlapNoMerge:!Q.norm});S(J,Se,Q),Q.norm?(F(Se),j(K,Se,Q)):k(K,Se)}}function _(J,K,ae,Q,he){var ge=new d(Q,{posAxis:K,sepNegVal:!1,overlapNoMerge:!he.norm});O(J,K,ge,he),H(ge,K),he.norm?(F(ge),j(ae,ge,he)):k(ae,ge)}function $(J,K,ae,Q,he){var ge=new d(Q,{posAxis:K,sepNegVal:he.mode==="relative",overlapNoMerge:!(he.norm||he.mode==="stack"||he.mode==="relative")});S(K,ge,he),R(ae,ge,he);for(var Se=0;Se<Q.length;Se++)for(var ce=Q[Se],ne=0;ne<ce.length;ne++){var fe=ce[ne];if(fe.s!==l){var X=fe.b+fe.s===ge.get(fe.p,fe.s);X&&(fe._outmost=!0)}}he.norm&&j(ae,ge,he)}function S(J,K,ae){for(var Q=K.minDiff,he=K.traces,ge=Q*(1-ae.gap),Se=ge,ce=Se*(1-(ae.groupgap||0)),ne=-ce/2,fe=0;fe<he.length;fe++){var X=he[fe],ye=X[0].t;ye.barwidth=ce,ye.poffset=ne,ye.bargroupwidth=ge,ye.bardelta=Q}K.binWidth=he[0][0].t.barwidth/100,D(K),N(J,K),M(J,K)}function O(J,K,ae,Q){for(var he=J._fullLayout,ge=ae.positions,Se=ae.distinctPositions,ce=ae.minDiff,ne=ae.traces,fe=ne.length,X=ge.length!==Se.length,ye=ce*(1-Q.gap),Ce=u(he,K._id)+ne[0][0].trace.orientation,$e=he._alignmentOpts[Ce]||{},ke=0;ke<fe;ke++){var Ne=ne[ke],Ve=Ne[0].trace,Oe=$e[Ve.alignmentgroup]||{},Fe=Object.keys(Oe.offsetGroups||{}).length,ie;Fe?ie=ye/Fe:ie=X?ye/fe:ye;var we=ie*(1-(Q.groupgap||0)),se;Fe?se=((2*Ve._offsetIndex+1-Fe)*ie-we)/2:se=X?((2*ke+1-fe)*ie-we)/2:-we/2;var ue=Ne[0].t;ue.barwidth=we,ue.poffset=se,ue.bargroupwidth=ye,ue.bardelta=ce}ae.binWidth=ne[0][0].t.barwidth/100,D(ae),N(K,ae),M(K,ae,X)}function D(J){var K=J.traces,ae,Q;for(ae=0;ae<K.length;ae++){var he=K[ae],ge=he[0],Se=ge.trace,ce=ge.t,ne=Se._offset||Se.offset,fe=ce.poffset,X;if(h(ne)){for(X=Array.prototype.slice.call(ne,0,he.length),Q=0;Q<X.length;Q++)m(X[Q])||(X[Q]=fe);for(Q=X.length;Q<he.length;Q++)X.push(fe);ce.poffset=X}else ne!==void 0&&(ce.poffset=ne);var ye=Se._width||Se.width,Ce=ce.barwidth;if(h(ye)){var $e=Array.prototype.slice.call(ye,0,he.length);for(Q=0;Q<$e.length;Q++)m($e[Q])||($e[Q]=Ce);for(Q=$e.length;Q<he.length;Q++)$e.push(Ce);if(ce.barwidth=$e,ne===void 0){for(X=[],Q=0;Q<he.length;Q++)X.push(fe+(Ce-$e[Q])/2);ce.poffset=X}}else ye!==void 0&&(ce.barwidth=ye,ne===void 0&&(ce.poffset=fe+(Ce-ye)/2))}}function N(J,K){for(var ae=K.traces,Q=ee(J),he=0;he<ae.length;he++)for(var ge=ae[he],Se=ge[0].t,ce=Se.poffset,ne=Array.isArray(ce),fe=Se.barwidth,X=Array.isArray(fe),ye=0;ye<ge.length;ye++){var Ce=ge[ye],$e=Ce.w=X?fe[ye]:fe;Ce.p===void 0&&(Ce.p=Ce[Q],Ce["orig_"+Q]=Ce[Q]);var ke=(ne?ce[ye]:ce)+$e/2;Ce[Q]=Ce.p+ke}}function M(J,K,ae){var Q=K.traces,he=K.minDiff,ge=he/2;i.minDtick(J,K.minDiff,K.distinctPositions[0],ae);for(var Se=0;Se<Q.length;Se++){var ce=Q[Se],ne=ce[0],fe=ne.trace,X=[],ye,Ce,$e,ke;for(ke=0;ke<ce.length;ke++)ye=ce[ke],Ce=ye.p-ge,$e=ye.p+ge,X.push(Ce,$e);if(fe.width||fe.offset){var Ne=ne.t,Ve=Ne.poffset,Oe=Ne.barwidth,Fe=Array.isArray(Ve),ie=Array.isArray(Oe);for(ke=0;ke<ce.length;ke++){ye=ce[ke];var we=Fe?Ve[ke]:Ve,se=ie?Oe[ke]:Oe;Ce=ye.p+we,$e=Ce+se,X.push(Ce,$e)}}fe._extremes[J._id]=i.findExtremes(J,X,{padded:!1})}}function k(J,K){for(var ae=K.traces,Q=ee(J),he=0;he<ae.length;he++){for(var ge=ae[he],Se=ge[0].trace,ce=Se.type==="scatter",ne=Se.orientation==="v",fe=[],X=!1,ye=0;ye<ge.length;ye++){var Ce=ge[ye],$e=ce?0:Ce.b,ke=ce?ne?Ce.y:Ce.x:$e+Ce.s;Ce[Q]=ke,fe.push(ke),Ce.hasB&&fe.push($e),(!Ce.hasB||!Ce.b)&&(X=!0)}Se._extremes[J._id]=i.findExtremes(J,fe,{tozero:X,padded:!0})}}function R(J,K,ae){var Q=ee(J),he=K.traces,ge,Se,ce,ne,fe,X;for(ne=0;ne<he.length;ne++)if(ge=he[ne],Se=ge[0].trace,Se.type==="funnel")for(fe=0;fe<ge.length;fe++)X=ge[fe],X.s!==l&&K.put(X.p,-.5*X.s);for(ne=0;ne<he.length;ne++){ge=he[ne],Se=ge[0].trace,ce=Se.type==="funnel";var ye=[];for(fe=0;fe<ge.length;fe++)if(X=ge[fe],X.s!==l){var Ce;ce?Ce=X.s:Ce=X.s+X.b;var $e=K.put(X.p,Ce),ke=$e+Ce;X.b=$e,X[Q]=ke,ae.norm||(ye.push(ke),X.hasB&&ye.push($e))}ae.norm||(Se._extremes[J._id]=i.findExtremes(J,ye,{tozero:!0,padded:!0}))}}function F(J){for(var K=J.traces,ae=0;ae<K.length;ae++)for(var Q=K[ae],he=0;he<Q.length;he++){var ge=Q[he];ge.s!==l&&J.put(ge.p,ge.b+ge.s)}}function H(J,K){for(var ae=J.traces,Q=0;Q<ae.length;Q++){var he=ae[Q],ge=he[0].trace;if(ge.base===void 0)for(var Se=new d([he],{posAxis:K,sepNegVal:!0,overlapNoMerge:!0}),ce=0;ce<he.length;ce++){var ne=he[ce];if(ne.p!==l){var fe=Se.put(ne.p,ne.b+ne.s);fe&&(ne.b=fe)}}}}function j(J,K,ae){var Q=K.traces,he=ee(J),ge=ae.norm==="fraction"?1:100,Se=ge/1e9,ce=J.l2c(J.c2l(0)),ne=ae.mode==="stack"?ge:ce;function fe(se){return m(J.c2l(se))&&(se<ce-Se||se>ne+Se||!m(ce))}for(var X=0;X<Q.length;X++){for(var ye=Q[X],Ce=ye[0].trace,$e=[],ke=!1,Ne=!1,Ve=0;Ve<ye.length;Ve++){var Oe=ye[Ve];if(Oe.s!==l){var Fe=Math.abs(ge/K.get(Oe.p,Oe.s));Oe.b*=Fe,Oe.s*=Fe;var ie=Oe.b,we=ie+Oe.s;Oe[he]=we,$e.push(we),Ne=Ne||fe(we),Oe.hasB&&($e.push(ie),Ne=Ne||fe(ie)),(!Oe.hasB||!Oe.b)&&(ke=!0)}}Ce._extremes[J._id]=i.findExtremes(J,$e,{tozero:ke,padded:Ne})}}function P(J,K){var ae=ee(K),Q={},he,ge,Se,ce=1/0,ne=-1/0;for(he=0;he<J.length;he++)for(Se=J[he],ge=0;ge<Se.length;ge++){var fe=Se[ge].p;m(fe)&&(ce=Math.min(ce,fe),ne=Math.max(ne,fe))}var X=1e4/(ne-ce),ye=Q.round=function(Fe){return String(Math.round(X*(Fe-ce)))};for(he=0;he<J.length;he++){Se=J[he],Se[0].t.extents=Q;var Ce=Se[0].t.poffset,$e=Array.isArray(Ce);for(ge=0;ge<Se.length;ge++){var ke=Se[ge],Ne=ke[ae]-ke.w/2;if(m(Ne)){var Ve=ke[ae]+ke.w/2,Oe=ye(ke.p);Q[Oe]?Q[Oe]=[Math.min(Ne,Q[Oe][0]),Math.max(Ve,Q[Oe][1])]:Q[Oe]=[Ne,Ve]}ke.p0=ke.p+($e?Ce[ge]:Ce),ke.p1=ke.p0+ke.w,ke.s0=ke.b,ke.s1=ke.s0+ke.s}}}function ee(J){return J._id.charAt(0)}L.exports={crossTraceCalc:g,setGroupPositions:v}},769:function(L,A,s){var m=s(1828),h=s(7901),l=s(3972),c=s(7513),i=s(3927),u=s(8340),d=s(6125),g=s(1486),v=m.coerceFont;function x($,S,O,D){function N(H,j){return m.coerce($,S,g,H,j)}var M=c($,S,D,N);if(!M){S.visible=!1;return}i($,S,D,N),N("xhoverformat"),N("yhoverformat"),N("orientation",S.x&&!S.y?"h":"v"),N("base"),N("offset"),N("width"),N("text"),N("hovertext"),N("hovertemplate");var k=N("textposition");_($,S,D,N,k,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),u($,S,N,O,D);var R=(S.marker.line||{}).color,F=l.getComponentMethod("errorbars","supplyDefaults");F($,S,R||h.defaultLine,{axis:"y"}),F($,S,R||h.defaultLine,{axis:"x",inherit:"y"}),m.coerceSelectionMarkerOpacity(S,N)}function C($,S){var O,D;function N(k){return m.coerce(D._input,D,g,k)}if(S.barmode==="group")for(var M=0;M<$.length;M++)D=$[M],D.type==="bar"&&(O=D._input,d(O,D,S,N))}function _($,S,O,D,N,M){M=M||{};var k=M.moduleHasSelected!==!1,R=M.moduleHasUnselected!==!1,F=M.moduleHasConstrain!==!1,H=M.moduleHasCliponaxis!==!1,j=M.moduleHasTextangle!==!1,P=M.moduleHasInsideanchor!==!1,ee=!!M.hasPathbar,J=Array.isArray(N)||N==="auto",K=J||N==="inside",ae=J||N==="outside";if(K||ae){var Q=v(D,"textfont",O.font),he=m.extendFlat({},Q),ge=$.textfont&&$.textfont.color,Se=!ge;if(Se&&delete he.color,v(D,"insidetextfont",he),ee){var ce=m.extendFlat({},Q);Se&&delete ce.color,v(D,"pathbar.textfont",ce)}ae&&v(D,"outsidetextfont",Q),k&&D("selected.textfont.color"),R&&D("unselected.textfont.color"),F&&D("constraintext"),H&&D("cliponaxis"),j&&D("textangle"),D("texttemplate")}K&&P&&D("insidetextanchor")}L.exports={supplyDefaults:x,crossTraceDefaults:C,handleText:_}},8065:function(L){L.exports=function(s,m,h){return s.x="xVal"in m?m.xVal:m.x,s.y="yVal"in m?m.yVal:m.y,m.xa&&(s.xaxis=m.xa),m.ya&&(s.yaxis=m.ya),h.orientation==="h"?(s.label=s.y,s.value=s.x):(s.label=s.x,s.value=s.y),s}},9383:function(L,A,s){var m=s(2770),h=s(4267),l=s(1828).isArrayOrTypedArray;A.coerceString=function(c,i,u){if(typeof i=="string"){if(i||!c.noBlank)return i}else if((typeof i=="number"||i===!0)&&!c.strict)return String(i);return u!==void 0?u:c.dflt},A.coerceNumber=function(c,i,u){if(m(i)){i=+i;var d=c.min,g=c.max,v=d!==void 0&&i<d||g!==void 0&&i>g;if(!v)return i}return u!==void 0?u:c.dflt},A.coerceColor=function(c,i,u){return h(i).isValid()?i:u!==void 0?u:c.dflt},A.coerceEnumerated=function(c,i,u){return c.coerceNumber&&(i=+i),c.values.indexOf(i)!==-1?i:u!==void 0?u:c.dflt},A.getValue=function(c,i){var u;return Array.isArray(c)?i<c.length&&(u=c[i]):u=c,u},A.getLineWidth=function(c,i){var u=0<i.mlw?i.mlw:l(c.marker.line.width)?0:c.marker.line.width;return u}},5423:function(L,A,s){var m=s(211),h=s(3972),l=s(7901),c=s(1828).fillText,i=s(9383).getLineWidth,u=s(9298).hoverLabelText,d=s(606).BADNUM;function g(C,_,$,S,O){var D=v(C,_,$,S,O);if(D){var N=D.cd,M=N[0].trace,k=N[D.index];return D.color=x(M,k),h.getComponentMethod("errorbars","hoverInfo")(k,M,D),[D]}}function v(C,_,$,S,O){var D=C.cd,N=D[0].trace,M=D[0].t,k=S==="closest",R=N.type==="waterfall",F=C.maxHoverDistance,H=C.maxSpikeDistance,j,P,ee,J,K,ae,Q;N.orientation==="h"?(j=$,P=_,ee="y",J="x",K=Ve,ae=$e):(j=_,P=$,ee="x",J="y",ae=Ve,K=$e);var he=N[ee+"period"],ge=k||he;function Se(Me){return ne(Me,-1)}function ce(Me){return ne(Me,1)}function ne(Me,Re){var ze=Me.w;return Me[ee]+Re*ze/2}function fe(Me){return Me[ee+"End"]-Me[ee+"Start"]}var X=k?Se:he?function(Me){return Me.p-fe(Me)/2}:function(Me){return Math.min(Se(Me),Me.p-M.bardelta/2)},ye=k?ce:he?function(Me){return Me.p+fe(Me)/2}:function(Me){return Math.max(ce(Me),Me.p+M.bardelta/2)};function Ce(Me,Re,ze){return O.finiteRange&&(ze=0),m.inbox(Me-j,Re-j,ze+Math.min(1,Math.abs(Re-Me)/Q)-1)}function $e(Me){return Ce(X(Me),ye(Me),F)}function ke(Me){return Ce(Se(Me),ce(Me),H)}function Ne(Me){var Re=Me[J];if(R){var ze=Math.abs(Me.rawS)||0;P>0?Re+=ze:P<0&&(Re-=ze)}return Re}function Ve(Me){var Re=P,ze=Me.b,We=Ne(Me);return m.inbox(ze-Re,We-Re,F+(We-Re)/(We-ze)-1)}function Oe(Me){var Re=P,ze=Me.b,We=Ne(Me);return m.inbox(ze-Re,We-Re,H+(We-Re)/(We-ze)-1)}var Fe=C[ee+"a"],ie=C[J+"a"];Q=Math.abs(Fe.r2c(Fe.range[1])-Fe.r2c(Fe.range[0]));function we(Me){return(K(Me)+ae(Me))/2}var se=m.getDistanceFunction(S,K,ae,we);if(m.getClosest(D,se,C),C.index!==!1&&D[C.index].p!==d){ge||(X=function(Me){return Math.min(Se(Me),Me.p-M.bargroupwidth/2)},ye=function(Me){return Math.max(ce(Me),Me.p+M.bargroupwidth/2)});var ue=C.index,pe=D[ue],le=N.base?pe.b+pe.s:pe.s;C[J+"0"]=C[J+"1"]=ie.c2p(pe[J],!0),C[J+"LabelVal"]=le;var Te=M.extents[M.extents.round(pe.p)];C[ee+"0"]=Fe.c2p(k?X(pe):Te[0],!0),C[ee+"1"]=Fe.c2p(k?ye(pe):Te[1],!0);var de=pe.orig_p!==void 0;return C[ee+"LabelVal"]=de?pe.orig_p:pe.p,C.labelLabel=u(Fe,C[ee+"LabelVal"],N[ee+"hoverformat"]),C.valueLabel=u(ie,C[J+"LabelVal"],N[J+"hoverformat"]),C.baseLabel=u(ie,pe.b,N[J+"hoverformat"]),C.spikeDistance=(Oe(pe)+ke(pe))/2,C[ee+"Spike"]=Fe.c2p(pe.p,!0),c(pe,N,C),C.hovertemplate=N.hovertemplate,C}}function x(C,_){var $=_.mcc||C.marker.color,S=_.mlcc||C.marker.line.color,O=i(C,_);if(l.opacity($))return $;if(l.opacity(S)&&O)return S}L.exports={hoverPoints:g,hoverOnBars:v,getTraceColor:x}},822:function(L,A,s){L.exports={attributes:s(1486),layoutAttributes:s(3641),supplyDefaults:s(769).supplyDefaults,crossTraceDefaults:s(769).crossTraceDefaults,supplyLayoutDefaults:s(3957),calc:s(2290),crossTraceCalc:s(1661).crossTraceCalc,colorbar:s(4898),arraysToCalcdata:s(5341),plot:s(7295).plot,style:s(6688).style,styleOnSelect:s(6688).styleOnSelect,hoverPoints:s(5423).hoverPoints,eventData:s(8065),selectPoints:s(1974),moduleType:"trace",name:"bar",basePlotModule:s(3612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},3641:function(L){L.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},3957:function(L,A,s){var m=s(3972),h=s(9298),l=s(1828),c=s(3641);L.exports=function(i,u,d){function g(M,k){return l.coerce(i,u,c,M,k)}for(var v=!1,x=!1,C=!1,_={},$=g("barmode"),S=0;S<d.length;S++){var O=d[S];if(m.traceIs(O,"bar")&&O.visible)v=!0;else continue;if($==="group"){var D=O.xaxis+O.yaxis;_[D]&&(C=!0),_[D]=!0}if(O.visible&&O.type==="histogram"){var N=h.getFromId({_fullLayout:u},O[O.orientation==="v"?"xaxis":"yaxis"]);N.type!=="category"&&(x=!0)}}if(!v){delete u.barmode;return}$!=="overlay"&&g("barnorm"),g("bargap",x&&!C?0:.2),g("bargroupgap")}},7295:function(L,A,s){var m=s(9898),h=s(2770),l=s(1828),c=s(3893),i=s(7901),u=s(1424),d=s(3972),g=s(9298).tickText,v=s(2597),x=v.recordMinTextSize,C=v.clearMinTextSize,_=s(6688),$=s(9383),S=s(7313),O=s(1486),D=O.text,N=O.textposition,M=s(3469).appendArrayPointValue,k=S.TEXTPAD;function R(X){return X.id}function F(X){if(X.ids)return R}function H(X,ye){return X<ye?1:-1}function j(X,ye,Ce,$e){var ke=[],Ne=[],Ve=$e?ye:Ce,Oe=$e?Ce:ye;return ke[0]=Ve.c2p(X.s0,!0),Ne[0]=Oe.c2p(X.p0,!0),ke[1]=Ve.c2p(X.s1,!0),Ne[1]=Oe.c2p(X.p1,!0),$e?[ke,Ne]:[Ne,ke]}function P(X,ye,Ce,$e){if(!ye.uniformtext.mode&&ee(Ce)){var ke;return $e&&(ke=$e()),X.transition().duration(Ce.duration).ease(Ce.easing).each("end",function(){ke&&ke()}).each("interrupt",function(){ke&&ke()})}else return X}function ee(X){return X&&X.duration>0}function J(X,ye,Ce,$e,ke,Ne){var Ve=ye.xaxis,Oe=ye.yaxis,Fe=X._fullLayout,ie=X._context.staticPlot;ke||(ke={mode:Fe.barmode,norm:Fe.barmode,gap:Fe.bargap,groupgap:Fe.bargroupgap},C("bar",Fe));var we=l.makeTraceGroups($e,Ce,"trace bars").each(function(se){var ue=m.select(this),pe=se[0].trace,le=pe.type==="waterfall",Te=pe.type==="funnel",de=pe.type==="bar",Me=de||Te,Re=0;le&&pe.connector.visible&&pe.connector.mode==="between"&&(Re=pe.connector.line.width/2);var ze=pe.orientation==="h",We=ee(ke),ot=l.ensureSingle(ue,"g","points"),dt=F(pe),Ge=ot.selectAll("g.point").data(l.identity,dt);Ge.enter().append("g").classed("point",!0),Ge.exit().remove(),Ge.each(function(qe,gt){var ut=m.select(this),tt=j(qe,Ve,Oe,ze),Ct=tt[0][0],Gt=tt[0][1],Yt=tt[1][0],Nt=tt[1][1],Ft=(ze?Gt-Ct:Nt-Yt)===0;Ft&&Me&&$.getLineWidth(pe,qe)&&(Ft=!1),Ft||(Ft=!h(Ct)||!h(Gt)||!h(Yt)||!h(Nt)),qe.isBlank=Ft,Ft&&(ze?Gt=Ct:Nt=Yt),Re&&!Ft&&(ze?(Ct-=H(Ct,Gt)*Re,Gt+=H(Ct,Gt)*Re):(Yt-=H(Yt,Nt)*Re,Nt+=H(Yt,Nt)*Re));var pn,_n;if(pe.type==="waterfall"){if(!Ft){var sn=pe[qe.dir].marker;pn=sn.line.width,_n=sn.color}}else pn=$.getLineWidth(pe,qe),_n=qe.mc||pe.marker.color;function Zn(lt){var ft=m.round(pn/2%1,2);return ke.gap===0&&ke.groupgap===0?m.round(Math.round(lt)-ft,2):lt}function an(lt,ft,wt){return wt&&lt===ft?lt:Math.abs(lt-ft)>=2?Zn(lt):lt>ft?Math.ceil(lt):Math.floor(lt)}if(!X._context.staticPlot){var Cn=i.opacity(_n),jn=Cn<1||pn>.01?Zn:an;Ct=jn(Ct,Gt,ze),Gt=jn(Gt,Ct,ze),Yt=jn(Yt,Nt,!ze),Nt=jn(Nt,Yt,!ze)}var Wn=P(l.ensureSingle(ut,"path"),Fe,ke,Ne);if(Wn.style("vector-effect",ie?"none":"non-scaling-stroke").attr("d",isNaN((Gt-Ct)*(Nt-Yt))||Ft&&X._context.staticPlot?"M0,0Z":"M"+Ct+","+Yt+"V"+Nt+"H"+Gt+"V"+Yt+"Z").call(u.setClipUrl,ye.layerClipId,X),!Fe.uniformtext.mode&&We){var wn=u.makePointStyleFns(pe);u.singlePointStyle(qe,Wn,pe,wn,X)}K(X,ye,ut,se,gt,Ct,Gt,Yt,Nt,ke,Ne),ye.layerClipId&&u.hideOutsideRangePoint(qe,ut.select("text"),Ve,Oe,pe.xcalendar,pe.ycalendar)});var Xe=pe.cliponaxis===!1;u.setClipUrl(ue,Xe?null:ye.layerClipId,X)});d.getComponentMethod("errorbars","plot")(X,we,ye,ke)}function K(X,ye,Ce,$e,ke,Ne,Ve,Oe,Fe,ie,we){var se=ye.xaxis,ue=ye.yaxis,pe=X._fullLayout,le;function Te(lt,ft,wt){var vt=l.ensureSingle(lt,"text").text(ft).attr({class:"bartext bartext-"+le,"text-anchor":"middle","data-notex":1}).call(u.font,wt).call(c.convertToTspans,X);return vt}var de=$e[0].trace,Me=de.orientation==="h",Re=Se(pe,$e,ke,se,ue);le=ce(de,ke);var ze=ie.mode==="stack"||ie.mode==="relative",We=$e[ke],ot=!ze||We._outmost;if(!Re||le==="none"||(We.isBlank||Ne===Ve||Oe===Fe)&&(le==="auto"||le==="inside")){Ce.select("text").remove();return}var dt=pe.font,Ge=_.getBarColor($e[ke],de),Xe=_.getInsideTextFont(de,ke,dt,Ge),qe=_.getOutsideTextFont(de,ke,dt),gt=Ce.datum();Me?se.type==="log"&&gt.s0<=0&&(se.range[0]<se.range[1]?Ne=0:Ne=se._length):ue.type==="log"&&gt.s0<=0&&(ue.range[0]<ue.range[1]?Oe=ue._length:Oe=0);var ut=Math.abs(Ve-Ne)-2*k,tt=Math.abs(Fe-Oe)-2*k,Ct,Gt,Yt,Nt,Ft;if(le==="outside"&&!ot&&!We.hasB&&(le="inside"),le==="auto")if(ot){le="inside",Ft=l.ensureUniformFontSize(X,Xe),Ct=Te(Ce,Re,Ft),Gt=u.bBox(Ct.node()),Yt=Gt.width,Nt=Gt.height;var pn=Yt>0&&Nt>0,_n=Yt<=ut&&Nt<=tt,sn=Yt<=tt&&Nt<=ut,Zn=Me?ut>=Yt*(tt/Nt):tt>=Nt*(ut/Yt);pn&&(_n||sn||Zn)?le="inside":(le="outside",Ct.remove(),Ct=null)}else le="inside";if(!Ct){Ft=l.ensureUniformFontSize(X,le==="outside"?qe:Xe),Ct=Te(Ce,Re,Ft);var an=Ct.attr("transform");if(Ct.attr("transform",""),Gt=u.bBox(Ct.node()),Yt=Gt.width,Nt=Gt.height,Ct.attr("transform",an),Yt<=0||Nt<=0){Ct.remove();return}}var Cn=de.textangle,jn,Wn;le==="outside"?(Wn=de.constraintext==="both"||de.constraintext==="outside",jn=ge(Ne,Ve,Oe,Fe,Gt,{isHorizontal:Me,constrained:Wn,angle:Cn})):(Wn=de.constraintext==="both"||de.constraintext==="inside",jn=he(Ne,Ve,Oe,Fe,Gt,{isHorizontal:Me,constrained:Wn,angle:Cn,anchor:de.insidetextanchor})),jn.fontSize=Ft.size,x(de.type==="histogram"?"bar":de.type,jn,pe),We.transform=jn;var wn=P(Ct,pe,ie,we);l.setTransormAndDisplay(wn,jn)}function ae(X){return X==="auto"?0:X}function Q(X,ye){var Ce=Math.PI/180*ye,$e=Math.abs(Math.sin(Ce)),ke=Math.abs(Math.cos(Ce));return{x:X.width*ke+X.height*$e,y:X.width*$e+X.height*ke}}function he(X,ye,Ce,$e,ke,Ne){var Ve=!!Ne.isHorizontal,Oe=!!Ne.constrained,Fe=Ne.angle||0,ie=Ne.anchor||"end",we=ie==="end",se=ie==="start",ue=Ne.leftToRight||0,pe=(ue+1)/2,le=1-pe,Te=ke.width,de=ke.height,Me=Math.abs(ye-X),Re=Math.abs($e-Ce),ze=Me>2*k&&Re>2*k?k:0;Me-=2*ze,Re-=2*ze;var We=ae(Fe);Fe==="auto"&&!(Te<=Me&&de<=Re)&&(Te>Me||de>Re)&&(!(Te>Re||de>Me)||Te<de!=Me<Re)&&(We+=90);var ot=Q(ke,We),dt=1;Oe&&(dt=Math.min(1,Me/ot.x,Re/ot.y));var Ge=ke.left*le+ke.right*pe,Xe=(ke.top+ke.bottom)/2,qe=(X+k)*le+(ye-k)*pe,gt=(Ce+$e)/2,ut=0,tt=0;if(se||we){var Ct=(Ve?ot.x:ot.y)/2,Gt=Ve?H(X,ye):H(Ce,$e);Ve?se?(qe=X+Gt*ze,ut=-Gt*Ct):(qe=ye-Gt*ze,ut=Gt*Ct):se?(gt=Ce+Gt*ze,tt=-Gt*Ct):(gt=$e-Gt*ze,tt=Gt*Ct)}return{textX:Ge,textY:Xe,targetX:qe,targetY:gt,anchorX:ut,anchorY:tt,scale:dt,rotate:We}}function ge(X,ye,Ce,$e,ke,Ne){var Ve=!!Ne.isHorizontal,Oe=!!Ne.constrained,Fe=Ne.angle||0,ie=ke.width,we=ke.height,se=Math.abs(ye-X),ue=Math.abs($e-Ce),pe;Ve?pe=ue>2*k?k:0:pe=se>2*k?k:0;var le=1;Oe&&(le=Ve?Math.min(1,ue/we):Math.min(1,se/ie));var Te=ae(Fe),de=Q(ke,Te),Me=(Ve?de.x:de.y)/2,Re=(ke.left+ke.right)/2,ze=(ke.top+ke.bottom)/2,We=(X+ye)/2,ot=(Ce+$e)/2,dt=0,Ge=0,Xe=Ve?H(ye,X):H(Ce,$e);return Ve?(We=ye-Xe*pe,dt=Xe*Me):(ot=$e+Xe*pe,Ge=-Xe*Me),{textX:Re,textY:ze,targetX:We,targetY:ot,anchorX:dt,anchorY:Ge,scale:le,rotate:Te}}function Se(X,ye,Ce,$e,ke){var Ne=ye[0].trace,Ve=Ne.texttemplate,Oe;return Ve?Oe=ne(X,ye,Ce,$e,ke):Ne.textinfo?Oe=fe(ye,Ce,$e,ke):Oe=$.getValue(Ne.text,Ce),$.coerceString(D,Oe)}function ce(X,ye){var Ce=$.getValue(X.textposition,ye);return $.coerceEnumerated(N,Ce)}function ne(X,ye,Ce,$e,ke){var Ne=ye[0].trace,Ve=l.castOption(Ne,Ce,"texttemplate");if(!Ve)return"";var Oe=Ne.type==="histogram",Fe=Ne.type==="waterfall",ie=Ne.type==="funnel",we=Ne.orientation==="h",se,ue,pe,le;we?(se="y",ue=ke,pe="x",le=$e):(se="x",ue=$e,pe="y",le=ke);function Te(dt){return g(ue,ue.c2l(dt),!0).text}function de(dt){return g(le,le.c2l(dt),!0).text}var Me=ye[Ce],Re={};Re.label=Me.p,Re.labelLabel=Re[se+"Label"]=Te(Me.p);var ze=l.castOption(Ne,Me.i,"text");(ze===0||ze)&&(Re.text=ze),Re.value=Me.s,Re.valueLabel=Re[pe+"Label"]=de(Me.s);var We={};M(We,Ne,Me.i),(Oe||We.x===void 0)&&(We.x=we?Re.value:Re.label),(Oe||We.y===void 0)&&(We.y=we?Re.label:Re.value),(Oe||We.xLabel===void 0)&&(We.xLabel=we?Re.valueLabel:Re.labelLabel),(Oe||We.yLabel===void 0)&&(We.yLabel=we?Re.labelLabel:Re.valueLabel),Fe&&(Re.delta=+Me.rawS||Me.s,Re.deltaLabel=de(Re.delta),Re.final=Me.v,Re.finalLabel=de(Re.final),Re.initial=Re.final-Re.delta,Re.initialLabel=de(Re.initial)),ie&&(Re.value=Me.s,Re.valueLabel=de(Re.value),Re.percentInitial=Me.begR,Re.percentInitialLabel=l.formatPercent(Me.begR),Re.percentPrevious=Me.difR,Re.percentPreviousLabel=l.formatPercent(Me.difR),Re.percentTotal=Me.sumR,Re.percenTotalLabel=l.formatPercent(Me.sumR));var ot=l.castOption(Ne,Me.i,"customdata");return ot&&(Re.customdata=ot),l.texttemplateString(Ve,Re,X._d3locale,We,Re,Ne._meta||{})}function fe(X,ye,Ce,$e){var ke=X[0].trace,Ne=ke.orientation==="h",Ve=ke.type==="waterfall",Oe=ke.type==="funnel";function Fe(ot){var dt=Ne?$e:Ce;return g(dt,ot,!0).text}function ie(ot){var dt=Ne?Ce:$e;return g(dt,+ot,!0).text}var we=ke.textinfo,se=X[ye],ue=we.split("+"),pe=[],le,Te=function(ot){return ue.indexOf(ot)!==-1};if(Te("label")&&pe.push(Fe(X[ye].p)),Te("text")&&(le=l.castOption(ke,se.i,"text"),(le===0||le)&&pe.push(le)),Ve){var de=+se.rawS||se.s,Me=se.v,Re=Me-de;Te("initial")&&pe.push(ie(Re)),Te("delta")&&pe.push(ie(de)),Te("final")&&pe.push(ie(Me))}if(Oe){Te("value")&&pe.push(ie(se.s));var ze=0;Te("percent initial")&&ze++,Te("percent previous")&&ze++,Te("percent total")&&ze++;var We=ze>1;Te("percent initial")&&(le=l.formatPercent(se.begR),We&&(le+=" of initial"),pe.push(le)),Te("percent previous")&&(le=l.formatPercent(se.difR),We&&(le+=" of previous"),pe.push(le)),Te("percent total")&&(le=l.formatPercent(se.sumR),We&&(le+=" of total"),pe.push(le))}return pe.join("<br>")}L.exports={plot:J,toMoveInsideBar:he}},1974:function(L){L.exports=function(m,h){var l=m.cd,c=m.xaxis,i=m.yaxis,u=l[0].trace,d=u.type==="funnel",g=u.orientation==="h",v=[],x;if(h===!1)for(x=0;x<l.length;x++)l[x].selected=0;else for(x=0;x<l.length;x++){var C=l[x],_="ct"in C?C.ct:A(C,c,i,g,d);h.contains(_,!1,x,m)?(v.push({pointNumber:x,x:c.c2d(C.x),y:i.c2d(C.y)}),C.selected=1):C.selected=0}return v};function A(s,m,h,l,c){var i=m.c2p(l?s.s0:s.p0,!0),u=m.c2p(l?s.s1:s.p1,!0),d=h.c2p(l?s.p0:s.s0,!0),g=h.c2p(l?s.p1:s.s1,!0);return c?[(i+u)/2,(d+g)/2]:l?[u,(d+g)/2]:[(i+u)/2,g]}},1546:function(L,A,s){L.exports=h;var m=s(1828).distinctVals;function h(l,c){this.traces=l,this.sepNegVal=c.sepNegVal,this.overlapNoMerge=c.overlapNoMerge;for(var i=1/0,u=c.posAxis._id.charAt(0),d=[],g=0;g<l.length;g++){for(var v=l[g],x=0;x<v.length;x++){var C=v[x],_=C.p;_===void 0&&(_=C[u]),_!==void 0&&d.push(_)}v[0]&&v[0].width1&&(i=Math.min(v[0].width1,i))}this.positions=d;var $=m(d);this.distinctPositions=$.vals,$.vals.length===1&&i!==1/0?this.minDiff=i:this.minDiff=Math.min($.minDiff,i);var S=(c.posAxis||{}).type;(S==="category"||S==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}h.prototype.put=function(c,i){var u=this.getLabel(c,i),d=this.bins[u]||0;return this.bins[u]=d+i,d},h.prototype.get=function(c,i){var u=this.getLabel(c,i);return this.bins[u]||0},h.prototype.getLabel=function(c,i){var u=i<0&&this.sepNegVal?"v":"^",d=this.overlapNoMerge?c:Math.round(c/this.binWidth);return u+d}},6688:function(L,A,s){var m=s(9898),h=s(7901),l=s(1424),c=s(1828),i=s(3972),u=s(2597).resizeText,d=s(1486),g=d.textfont,v=d.insidetextfont,x=d.outsidetextfont,C=s(9383);function _(P){var ee=m.select(P).selectAll("g.barlayer").selectAll("g.trace");u(P,ee,"bar");var J=ee.size(),K=P._fullLayout;ee.style("opacity",function(ae){return ae[0].trace.opacity}).each(function(ae){(K.barmode==="stack"&&J>1||K.bargap===0&&K.bargroupgap===0&&!ae[0].trace.marker.line.width)&&m.select(this).attr("shape-rendering","crispEdges")}),ee.selectAll("g.points").each(function(ae){var Q=m.select(this),he=ae[0].trace;$(Q,he,P)}),i.getComponentMethod("errorbars","style")(ee)}function $(P,ee,J){l.pointStyle(P.selectAll("path"),ee,J),S(P,ee,J)}function S(P,ee,J){P.selectAll("text").each(function(K){var ae=m.select(this),Q=c.ensureUniformFontSize(J,M(ae,K,ee,J));l.font(ae,Q)})}function O(P,ee,J){var K=ee[0].trace;K.selectedpoints?D(J,K,P):($(J,K,P),i.getComponentMethod("errorbars","style")(J))}function D(P,ee,J){l.selectedPointStyle(P.selectAll("path"),ee),N(P.selectAll("text"),ee,J)}function N(P,ee,J){P.each(function(K){var ae=m.select(this),Q;if(K.selected){Q=c.ensureUniformFontSize(J,M(ae,K,ee,J));var he=ee.selected.textfont&&ee.selected.textfont.color;he&&(Q.color=he),l.font(ae,Q)}else l.selectedTextStyle(ae,ee)})}function M(P,ee,J,K){var ae=K._fullLayout.font,Q=J.textfont;if(P.classed("bartext-inside")){var he=j(ee,J);Q=R(J,ee.i,ae,he)}else P.classed("bartext-outside")&&(Q=F(J,ee.i,ae));return Q}function k(P,ee,J){return H(g,P.textfont,ee,J)}function R(P,ee,J,K){var ae=k(P,ee,J),Q=P._input.textfont===void 0||P._input.textfont.color===void 0||Array.isArray(P.textfont.color)&&P.textfont.color[ee]===void 0;return Q&&(ae={color:h.contrast(K),family:ae.family,size:ae.size}),H(v,P.insidetextfont,ee,ae)}function F(P,ee,J){var K=k(P,ee,J);return H(x,P.outsidetextfont,ee,K)}function H(P,ee,J,K){ee=ee||{};var ae=C.getValue(ee.family,J),Q=C.getValue(ee.size,J),he=C.getValue(ee.color,J);return{family:C.coerceString(P.family,ae,K.family),size:C.coerceNumber(P.size,Q,K.size),color:C.coerceColor(P.color,he,K.color)}}function j(P,ee){return ee.type==="waterfall"?ee[P.dir].marker.color:P.mcc||P.mc||ee.marker.color}L.exports={style:_,styleTextPoints:S,styleOnSelect:O,getInsideTextFont:R,getOutsideTextFont:F,getBarColor:j,resizeText:u}},8340:function(L,A,s){var m=s(7901),h=s(2869).hasColorscale,l=s(1586),c=s(1828).coercePattern;L.exports=function(u,d,g,v,x){var C=g("marker.color",v),_=h(u,"marker");_&&l(u,d,x,g,{prefix:"marker.",cLetter:"c"}),g("marker.line.color",m.defaultLine),h(u,"marker.line")&&l(u,d,x,g,{prefix:"marker.line.",cLetter:"c"}),g("marker.line.width"),g("marker.opacity"),c(g,"marker.pattern",C,_),g("selected.marker.color"),g("unselected.marker.color")}},2597:function(L,A,s){var m=s(9898),h=s(1828);function l(d,g,v){var x=d._fullLayout,C=x["_"+v+"Text_minsize"];if(C){var _=x.uniformtext.mode==="hide",$;switch(v){case"funnelarea":case"pie":case"sunburst":$="g.slice";break;case"treemap":case"icicle":$="g.slice, g.pathbar";break;default:$="g.points > g.point"}g.selectAll($).each(function(S){var O=S.transform;if(O){O.scale=_&&O.hide?0:C/O.fontSize;var D=m.select(this).select("text");h.setTransormAndDisplay(D,O)}})}}function c(d,g,v){if(v.uniformtext.mode){var x=u(d),C=v.uniformtext.minsize,_=g.scale*g.fontSize;g.hide=_<C,v[x]=v[x]||1/0,g.hide||(v[x]=Math.min(v[x],Math.max(_,C)))}}function i(d,g){var v=u(d);g[v]=void 0}function u(d){return"_"+d+"Text_minsize"}L.exports={recordMinTextSize:c,clearMinTextSize:i,resizeText:l}},4e3:function(L,A,s){var m=s(9012),h=s(7670).Y,l=s(1940),c=s(2399),i=s(5386).fF,u=s(5386).si,d=s(1426).extendFlat,g=s(9952).u,v=l({editType:"plot",arrayOk:!0,colorEditType:"plot"});L.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:c.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:g,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:d({},m.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:i({},{keys:["label","color","value","percent","text"]}),texttemplate:u({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:d({},v,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:d({},v,{}),outsidetextfont:d({},v,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:d({},v,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:h({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:d({},v,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},3584:function(L,A,s){var m=s(4875);A.name="pie",A.plot=function(h,l,c,i){m.plotBasePlot(A.name,h,l,c,i)},A.clean=function(h,l,c,i){m.cleanBasePlot(A.name,h,l,c,i)}},2354:function(L,A,s){var m=s(2770),h=s(4267),l=s(7901),c={};function i(v,x){var C=[],_=v._fullLayout,$=_.hiddenlabels||[],S=x.labels,O=x.marker.colors||[],D=x.values,N=x._length,M=x._hasValues&&N,k,R;if(x.dlabel)for(S=new Array(N),k=0;k<N;k++)S[k]=String(x.label0+k*x.dlabel);var F={},H=u(_["_"+x.type+"colormap"]),j=0,P=!1;for(k=0;k<N;k++){var ee,J,K;if(M){if(ee=D[k],!m(ee))continue;ee=+ee}else ee=1;J=S[k],(J===void 0||J==="")&&(J=k),J=String(J);var ae=F[J];ae===void 0?(F[J]=C.length,K=$.indexOf(J)!==-1,K||(j+=ee),C.push({v:ee,label:J,color:H(O[k],J),i:k,pts:[k],hidden:K})):(P=!0,R=C[ae],R.v+=ee,R.pts.push(k),R.hidden||(j+=ee),R.color===!1&&O[k]&&(R.color=H(O[k],J)))}C=C.filter(function(he){return he.v>=0});var Q=x.type==="funnelarea"?P:x.sort;return Q&&C.sort(function(he,ge){return ge.v-he.v}),C[0]&&(C[0].vTotal=j),C}function u(v){return function(C,_){return!C||(C=h(C),!C.isValid())?!1:(C=l.addOpacity(C,C.getAlpha()),v[_]||(v[_]=C),C)}}function d(v,x){var C=(x||{}).type;C||(C="pie");var _=v._fullLayout,$=v.calcdata,S=_[C+"colorway"],O=_["_"+C+"colormap"];_["extend"+C+"colors"]&&(S=g(S,c));for(var D=0,N=0;N<$.length;N++){var M=$[N],k=M[0].trace.type;if(k===C)for(var R=0;R<M.length;R++){var F=M[R];F.color===!1&&(O[F.label]?F.color=O[F.label]:(O[F.label]=F.color=S[D%S.length],D++))}}}function g(v,x){var C,_=JSON.stringify(v),$=x[_];if(!$){for($=v.slice(),C=0;C<v.length;C++)$.push(h(v[C]).lighten(20).toHexString());for(C=0;C<v.length;C++)$.push(h(v[C]).darken(20).toHexString());x[_]=$}return $}L.exports={calc:i,crossTraceCalc:d,makePullColorFn:u,generateExtendedColors:g}},7434:function(L,A,s){var m=s(2770),h=s(1828),l=s(4e3),c=s(7670).c,i=s(769).handleText,u=s(1828).coercePattern;function d(x,C){var _=Array.isArray(x),$=h.isArrayOrTypedArray(C),S=Math.min(_?x.length:1/0,$?C.length:1/0);if(isFinite(S)||(S=0),S&&$){for(var O,D=0;D<S;D++){var N=C[D];if(m(N)&&N>0){O=!0;break}}O||(S=0)}return{hasLabels:_,hasValues:$,len:S}}function g(x,C,_,$,S){var O=$("marker.line.width");O&&$("marker.line.color",S?void 0:_.paper_bgcolor);var D=$("marker.colors");u($,"marker.pattern",D),x.marker&&!C.marker.pattern.fgcolor&&(C.marker.pattern.fgcolor=x.marker.colors),C.marker.pattern.bgcolor||(C.marker.pattern.bgcolor=_.paper_bgcolor)}function v(x,C,_,$){function S(ae,Q){return h.coerce(x,C,l,ae,Q)}var O=S("labels"),D=S("values"),N=d(O,D),M=N.len;if(C._hasLabels=N.hasLabels,C._hasValues=N.hasValues,!C._hasLabels&&C._hasValues&&(S("label0"),S("dlabel")),!M){C.visible=!1;return}C._length=M,g(x,C,$,S,!0),S("scalegroup");var k=S("text"),R=S("texttemplate"),F;if(R||(F=S("textinfo",Array.isArray(k)?"text+percent":"percent")),S("hovertext"),S("hovertemplate"),R||F&&F!=="none"){var H=S("textposition");i(x,C,$,S,H,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var j=Array.isArray(H)||H==="auto",P=j||H==="outside";P&&S("automargin"),(H==="inside"||H==="auto"||Array.isArray(H))&&S("insidetextorientation")}c(C,$,S);var ee=S("hole"),J=S("title.text");if(J){var K=S("title.position",ee?"middle center":"top center");!ee&&K==="middle center"&&(C.title.position="top center"),h.coerceFont(S,"title.font",$.font)}S("sort"),S("direction"),S("rotation"),S("pull")}L.exports={handleLabelsAndValues:d,handleMarkerDefaults:g,supplyDefaults:v}},7:function(L,A,s){var m=s(3469).appendArrayMultiPointValues;L.exports=function(l,c){var i={curveNumber:c.index,pointNumbers:l.pts,data:c._input,fullData:c,label:l.label,color:l.color,value:l.v,percent:l.percent,text:l.text,bbox:l.bbox,v:l.v};return l.pts.length===1&&(i.pointNumber=i.i=l.pts[0]),m(i,c,l.pts),c.type==="funnelarea"&&(delete i.v,delete i.i),i}},2209:function(L,A,s){var m=s(1424),h=s(7901);L.exports=function(c,i,u,d){var g=u.marker.pattern;g&&g.shape?m.pointStyle(c,u,d,i):h.fill(c,i.color)}},3581:function(L,A,s){var m=s(1828);function h(l){return l.indexOf("e")!==-1?l.replace(/[.]?0+e/,"e"):l.indexOf(".")!==-1?l.replace(/[.]?0+$/,""):l}A.formatPiePercent=function(c,i){var u=h((c*100).toPrecision(3));return m.numSeparate(u,i)+"%"},A.formatPieValue=function(c,i){var u=h(c.toPrecision(10));return m.numSeparate(u,i)},A.getFirstFilled=function(c,i){if(Array.isArray(c))for(var u=0;u<i.length;u++){var d=c[i[u]];if(d||d===0||d==="")return d}},A.castOption=function(c,i){if(Array.isArray(c))return A.getFirstFilled(c,i);if(c)return c},A.getRotationAngle=function(l){return(l==="auto"?0:l)*Math.PI/180}},8810:function(L,A,s){L.exports={attributes:s(4e3),supplyDefaults:s(7434).supplyDefaults,supplyLayoutDefaults:s(2097),layoutAttributes:s(7550),calc:s(2354).calc,crossTraceCalc:s(2354).crossTraceCalc,plot:s(4575).plot,style:s(8357),styleOne:s(3463),moduleType:"trace",name:"pie",basePlotModule:s(3584),categories:["pie-like","pie","showLegend"],meta:{}}},7550:function(L){L.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},2097:function(L,A,s){var m=s(1828),h=s(7550);L.exports=function(c,i){function u(d,g){return m.coerce(c,i,h,d,g)}u("hiddenlabels"),u("piecolorway",i.colorway),u("extendpiecolors")}},4575:function(L,A,s){var m=s(9898),h=s(4875),l=s(211),c=s(7901),i=s(1424),u=s(1828),d=u.strScale,g=u.strTranslate,v=s(3893),x=s(2597),C=x.recordMinTextSize,_=x.clearMinTextSize,$=s(7313).TEXTPAD,S=s(3581),O=s(7),D=s(1828).isValidTextValue;function N(Fe,ie){var we=Fe._context.staticPlot,se=Fe._fullLayout,ue=se._size;_("pie",se),H(ie,Fe),Ce(ie,ue);var pe=u.makeTraceGroups(se._pielayer,ie,"trace").each(function(le){var Te=m.select(this),de=le[0],Me=de.trace;ke(le),Te.attr("stroke-linejoin","round"),Te.each(function(){var Re=m.select(this).selectAll("g.slice").data(le);Re.enter().append("g").classed("slice",!0),Re.exit().remove();var ze=[[[],[]],[[],[]]],We=!1;Re.each(function(tt,Ct){if(tt.hidden){m.select(this).selectAll("path,g").remove();return}tt.pointNumber=tt.i,tt.curveNumber=Me.index,ze[tt.pxmid[1]<0?0:1][tt.pxmid[0]<0?0:1].push(tt);var Gt=de.cx,Yt=de.cy,Nt=m.select(this),Ft=Nt.selectAll("path.surface").data([tt]);if(Ft.enter().append("path").classed("surface",!0).style({"pointer-events":we?"none":"all"}),Nt.call(k,Fe,le),Me.pull){var pn=+S.castOption(Me.pull,tt.pts)||0;pn>0&&(Gt+=pn*tt.pxmid[0],Yt+=pn*tt.pxmid[1])}tt.cxFinal=Gt,tt.cyFinal=Yt;function _n(wn,lt,ft,wt){var vt=wt*(lt[0]-wn[0]),$t=wt*(lt[1]-wn[1]);return"a"+wt*de.r+","+wt*de.r+" 0 "+tt.largeArc+(ft?" 1 ":" 0 ")+vt+","+$t}var sn=Me.hole;if(tt.v===de.vTotal){var Zn="M"+(Gt+tt.px0[0])+","+(Yt+tt.px0[1])+_n(tt.px0,tt.pxmid,!0,1)+_n(tt.pxmid,tt.px0,!0,1)+"Z";sn?Ft.attr("d","M"+(Gt+sn*tt.px0[0])+","+(Yt+sn*tt.px0[1])+_n(tt.px0,tt.pxmid,!1,sn)+_n(tt.pxmid,tt.px0,!1,sn)+"Z"+Zn):Ft.attr("d",Zn)}else{var an=_n(tt.px0,tt.px1,!0,1);if(sn){var Cn=1-sn;Ft.attr("d","M"+(Gt+sn*tt.px1[0])+","+(Yt+sn*tt.px1[1])+_n(tt.px1,tt.px0,!1,sn)+"l"+Cn*tt.px0[0]+","+Cn*tt.px0[1]+an+"Z")}else Ft.attr("d","M"+Gt+","+Yt+"l"+tt.px0[0]+","+tt.px0[1]+an+"Z")}Ve(Fe,tt,de);var jn=S.castOption(Me.textposition,tt.pts),Wn=Nt.selectAll("g.slicetext").data(tt.text&&jn!=="none"?[0]:[]);Wn.enter().append("g").classed("slicetext",!0),Wn.exit().remove(),Wn.each(function(){var wn=u.ensureSingle(m.select(this),"text","",function(ht){ht.attr("data-notex",1)}),lt=u.ensureUniformFontSize(Fe,jn==="outside"?R(Me,tt,se.font):F(Me,tt,se.font));wn.text(tt.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(i.font,lt).call(v.convertToTspans,Fe);var ft=i.bBox(wn.node()),wt;if(jn==="outside")wt=ge(ft,tt);else if(wt=j(ft,tt,de),jn==="auto"&&wt.scale<1){var vt=u.ensureUniformFontSize(Fe,Me.outsidetextfont);wn.call(i.font,vt),ft=i.bBox(wn.node()),wt=ge(ft,tt)}var $t=wt.textPosAngle,Ze=$t===void 0?tt.pxmid:Ne(de.r,$t);if(wt.targetX=Gt+Ze[0]*wt.rCenter+(wt.x||0),wt.targetY=Yt+Ze[1]*wt.rCenter+(wt.y||0),Oe(wt,ft),wt.outside){var it=wt.targetY;tt.yLabelMin=it-ft.height/2,tt.yLabelMid=it,tt.yLabelMax=it+ft.height/2,tt.labelExtraX=0,tt.labelExtraY=0,We=!0}wt.fontSize=lt.size,C(Me.type,wt,se),le[Ct].transform=wt,u.setTransormAndDisplay(wn,wt)})});var ot=m.select(this).selectAll("g.titletext").data(Me.title.text?[0]:[]);if(ot.enter().append("g").classed("titletext",!0),ot.exit().remove(),ot.each(function(){var tt=u.ensureSingle(m.select(this),"text","",function(Yt){Yt.attr("data-notex",1)}),Ct=Me.title.text;Me._meta&&(Ct=u.templateString(Ct,Me._meta)),tt.text(Ct).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(i.font,Me.title.font).call(v.convertToTspans,Fe);var Gt;Me.title.position==="middle center"?Gt=Se(de):Gt=ce(de,ue),tt.attr("transform",g(Gt.x,Gt.y)+d(Math.min(1,Gt.scale))+g(Gt.tx,Gt.ty))}),We&&ye(ze,Me),M(Re,Me),We&&Me.automargin){var dt=i.bBox(Te.node()),Ge=Me.domain,Xe=ue.w*(Ge.x[1]-Ge.x[0]),qe=ue.h*(Ge.y[1]-Ge.y[0]),gt=(.5*Xe-de.r)/ue.w,ut=(.5*qe-de.r)/ue.h;h.autoMargin(Fe,"pie."+Me.uid+".automargin",{xl:Ge.x[0]-gt,xr:Ge.x[1]+gt,yb:Ge.y[0]-ut,yt:Ge.y[1]+ut,l:Math.max(de.cx-de.r-dt.left,0),r:Math.max(dt.right-(de.cx+de.r),0),b:Math.max(dt.bottom-(de.cy+de.r),0),t:Math.max(de.cy-de.r-dt.top,0),pad:5})}})});setTimeout(function(){pe.selectAll("tspan").each(function(){var le=m.select(this);le.attr("dy")&&le.attr("dy",le.attr("dy"))})},0)}function M(Fe,ie){Fe.each(function(we){var se=m.select(this);if(!we.labelExtraX&&!we.labelExtraY){se.select("path.textline").remove();return}var ue=se.select("g.slicetext text");we.transform.targetX+=we.labelExtraX,we.transform.targetY+=we.labelExtraY,u.setTransormAndDisplay(ue,we.transform);var pe=we.cxFinal+we.pxmid[0],le=we.cyFinal+we.pxmid[1],Te="M"+pe+","+le,de=(we.yLabelMax-we.yLabelMin)*(we.pxmid[0]<0?-1:1)/4;if(we.labelExtraX){var Me=we.labelExtraX*we.pxmid[1]/we.pxmid[0],Re=we.yLabelMid+we.labelExtraY-(we.cyFinal+we.pxmid[1]);Math.abs(Me)>Math.abs(Re)?Te+="l"+Re*we.pxmid[0]/we.pxmid[1]+","+Re+"H"+(pe+we.labelExtraX+de):Te+="l"+we.labelExtraX+","+Me+"v"+(Re-Me)+"h"+de}else Te+="V"+(we.yLabelMid+we.labelExtraY)+"h"+de;u.ensureSingle(se,"path","textline").call(c.stroke,ie.outsidetextfont.color).attr({"stroke-width":Math.min(2,ie.outsidetextfont.size/8),d:Te,fill:"none"})})}function k(Fe,ie,we){var se=we[0],ue=se.cx,pe=se.cy,le=se.trace,Te=le.type==="funnelarea";"_hasHoverLabel"in le||(le._hasHoverLabel=!1),"_hasHoverEvent"in le||(le._hasHoverEvent=!1),Fe.on("mouseover",function(de){var Me=ie._fullLayout,Re=ie._fullData[le.index];if(!(ie._dragging||Me.hovermode===!1)){var ze=Re.hoverinfo;if(Array.isArray(ze)&&(ze=l.castHoverinfo({hoverinfo:[S.castOption(ze,de.pts)],_module:le._module},Me,0)),ze==="all"&&(ze="label+text+value+percent+name"),Re.hovertemplate||ze!=="none"&&ze!=="skip"&&ze){var We=de.rInscribed||0,ot=ue+de.pxmid[0]*(1-We),dt=pe+de.pxmid[1]*(1-We),Ge=Me.separators,Xe=[];if(ze&&ze.indexOf("label")!==-1&&Xe.push(de.label),de.text=S.castOption(Re.hovertext||Re.text,de.pts),ze&&ze.indexOf("text")!==-1){var qe=de.text;u.isValidTextValue(qe)&&Xe.push(qe)}de.value=de.v,de.valueLabel=S.formatPieValue(de.v,Ge),ze&&ze.indexOf("value")!==-1&&Xe.push(de.valueLabel),de.percent=de.v/se.vTotal,de.percentLabel=S.formatPiePercent(de.percent,Ge),ze&&ze.indexOf("percent")!==-1&&Xe.push(de.percentLabel);var gt=Re.hoverlabel,ut=gt.font,tt=[];l.loneHover({trace:le,x0:ot-We*se.r,x1:ot+We*se.r,y:dt,_x0:Te?ue+de.TL[0]:ot-We*se.r,_x1:Te?ue+de.TR[0]:ot+We*se.r,_y0:Te?pe+de.TL[1]:dt-We*se.r,_y1:Te?pe+de.BL[1]:dt+We*se.r,text:Xe.join("<br>"),name:Re.hovertemplate||ze.indexOf("name")!==-1?Re.name:void 0,idealAlign:de.pxmid[0]<0?"left":"right",color:S.castOption(gt.bgcolor,de.pts)||de.color,borderColor:S.castOption(gt.bordercolor,de.pts),fontFamily:S.castOption(ut.family,de.pts),fontSize:S.castOption(ut.size,de.pts),fontColor:S.castOption(ut.color,de.pts),nameLength:S.castOption(gt.namelength,de.pts),textAlign:S.castOption(gt.align,de.pts),hovertemplate:S.castOption(Re.hovertemplate,de.pts),hovertemplateLabels:de,eventData:[O(de,Re)]},{container:Me._hoverlayer.node(),outerContainer:Me._paper.node(),gd:ie,inOut_bbox:tt}),de.bbox=tt[0],le._hasHoverLabel=!0}le._hasHoverEvent=!0,ie.emit("plotly_hover",{points:[O(de,Re)],event:m.event})}}),Fe.on("mouseout",function(de){var Me=ie._fullLayout,Re=ie._fullData[le.index],ze=m.select(this).datum();le._hasHoverEvent&&(de.originalEvent=m.event,ie.emit("plotly_unhover",{points:[O(ze,Re)],event:m.event}),le._hasHoverEvent=!1),le._hasHoverLabel&&(l.loneUnhover(Me._hoverlayer.node()),le._hasHoverLabel=!1)}),Fe.on("click",function(de){var Me=ie._fullLayout,Re=ie._fullData[le.index];ie._dragging||Me.hovermode===!1||(ie._hoverdata=[O(de,Re)],l.click(ie,m.event))})}function R(Fe,ie,we){var se=S.castOption(Fe.outsidetextfont.color,ie.pts)||S.castOption(Fe.textfont.color,ie.pts)||we.color,ue=S.castOption(Fe.outsidetextfont.family,ie.pts)||S.castOption(Fe.textfont.family,ie.pts)||we.family,pe=S.castOption(Fe.outsidetextfont.size,ie.pts)||S.castOption(Fe.textfont.size,ie.pts)||we.size;return{color:se,family:ue,size:pe}}function F(Fe,ie,we){var se=S.castOption(Fe.insidetextfont.color,ie.pts);!se&&Fe._input.textfont&&(se=S.castOption(Fe._input.textfont.color,ie.pts));var ue=S.castOption(Fe.insidetextfont.family,ie.pts)||S.castOption(Fe.textfont.family,ie.pts)||we.family,pe=S.castOption(Fe.insidetextfont.size,ie.pts)||S.castOption(Fe.textfont.size,ie.pts)||we.size;return{color:se||c.contrast(ie.color),family:ue,size:pe}}function H(Fe,ie){for(var we,se,ue=0;ue<Fe.length;ue++)if(we=Fe[ue][0],se=we.trace,se.title.text){var pe=se.title.text;se._meta&&(pe=u.templateString(pe,se._meta));var le=i.tester.append("text").attr("data-notex",1).text(pe).call(i.font,se.title.font).call(v.convertToTspans,ie),Te=i.bBox(le.node(),!0);we.titleBox={width:Te.width,height:Te.height},le.remove()}}function j(Fe,ie,we){var se=we.r||ie.rpx1,ue=ie.rInscribed,pe=ie.startangle===ie.stopangle;if(pe)return{rCenter:1-ue,scale:0,rotate:0,textPosAngle:0};var le=ie.ring,Te=le===1&&Math.abs(ie.startangle-ie.stopangle)===Math.PI*2,de=ie.halfangle,Me=ie.midangle,Re=we.trace.insidetextorientation,ze=Re==="horizontal",We=Re==="tangential",ot=Re==="radial",dt=Re==="auto",Ge=[],Xe;if(!dt){var qe=function(Nt,Ft){if(P(ie,Nt)){var pn=Math.abs(Nt-ie.startangle),_n=Math.abs(Nt-ie.stopangle),sn=pn<_n?pn:_n;Ft==="tan"?Xe=J(Fe,se,le,sn,0):Xe=ee(Fe,se,le,sn,Math.PI/2),Xe.textPosAngle=Nt,Ge.push(Xe)}},gt;if(ze||We){for(gt=4;gt>=-4;gt-=2)qe(Math.PI*gt,"tan");for(gt=4;gt>=-4;gt-=2)qe(Math.PI*(gt+1),"tan")}if(ze||ot){for(gt=4;gt>=-4;gt-=2)qe(Math.PI*(gt+1.5),"rad");for(gt=4;gt>=-4;gt-=2)qe(Math.PI*(gt+.5),"rad")}}if(Te||dt||ze){var ut=Math.sqrt(Fe.width*Fe.width+Fe.height*Fe.height);if(Xe={scale:ue*se*2/ut,rCenter:1-ue,rotate:0},Xe.textPosAngle=(ie.startangle+ie.stopangle)/2,Xe.scale>=1)return Xe;Ge.push(Xe)}(dt||ot)&&(Xe=ee(Fe,se,le,de,Me),Xe.textPosAngle=(ie.startangle+ie.stopangle)/2,Ge.push(Xe)),(dt||We)&&(Xe=J(Fe,se,le,de,Me),Xe.textPosAngle=(ie.startangle+ie.stopangle)/2,Ge.push(Xe));for(var tt=0,Ct=0,Gt=0;Gt<Ge.length;Gt++){var Yt=Ge[Gt].scale;if(Ct<Yt&&(Ct=Yt,tt=Gt),!dt&&Ct>=1)break}return Ge[tt]}function P(Fe,ie){var we=Fe.startangle,se=Fe.stopangle;return we>ie&&ie>se||we<ie&&ie<se}function ee(Fe,ie,we,se,ue){ie=Math.max(0,ie-2*$);var pe=Fe.width/Fe.height,le=Q(pe,se,ie,we);return{scale:le*2/Fe.height,rCenter:K(pe,le/ie),rotate:ae(ue)}}function J(Fe,ie,we,se,ue){ie=Math.max(0,ie-2*$);var pe=Fe.height/Fe.width,le=Q(pe,se,ie,we);return{scale:le*2/Fe.width,rCenter:K(pe,le/ie),rotate:ae(ue+Math.PI/2)}}function K(Fe,ie){return Math.cos(ie)-Fe*ie}function ae(Fe){return(180/Math.PI*Fe+720)%180-90}function Q(Fe,ie,we,se){var ue=Fe+1/(2*Math.tan(ie));return we*Math.min(1/(Math.sqrt(ue*ue+.5)+ue),se/(Math.sqrt(Fe*Fe+se/2)+Fe))}function he(Fe,ie){return Fe.v===ie.vTotal&&!ie.trace.hole?1:Math.min(1/(1+1/Math.sin(Fe.halfangle)),Fe.ring/2)}function ge(Fe,ie){var we=ie.pxmid[0],se=ie.pxmid[1],ue=Fe.width/2,pe=Fe.height/2;return we<0&&(ue*=-1),se<0&&(pe*=-1),{scale:1,rCenter:1,rotate:0,x:ue+Math.abs(pe)*(ue>0?1:-1)/2,y:pe/(1+we*we/(se*se)),outside:!0}}function Se(Fe){var ie=Math.sqrt(Fe.titleBox.width*Fe.titleBox.width+Fe.titleBox.height*Fe.titleBox.height);return{x:Fe.cx,y:Fe.cy,scale:Fe.trace.hole*Fe.r*2/ie,tx:0,ty:-Fe.titleBox.height/2+Fe.trace.title.font.size}}function ce(Fe,ie){var we=1,se=1,ue,pe=Fe.trace,le={x:Fe.cx,y:Fe.cy},Te={tx:0,ty:0};Te.ty+=pe.title.font.size,ue=X(pe),pe.title.position.indexOf("top")!==-1?(le.y-=(1+ue)*Fe.r,Te.ty-=Fe.titleBox.height):pe.title.position.indexOf("bottom")!==-1&&(le.y+=(1+ue)*Fe.r);var de=ne(Fe.r,Fe.trace.aspectratio),Me=ie.w*(pe.domain.x[1]-pe.domain.x[0])/2;return pe.title.position.indexOf("left")!==-1?(Me=Me+de,le.x-=(1+ue)*de,Te.tx+=Fe.titleBox.width/2):pe.title.position.indexOf("center")!==-1?Me*=2:pe.title.position.indexOf("right")!==-1&&(Me=Me+de,le.x+=(1+ue)*de,Te.tx-=Fe.titleBox.width/2),we=Me/Fe.titleBox.width,se=fe(Fe,ie)/Fe.titleBox.height,{x:le.x,y:le.y,scale:Math.min(we,se),tx:Te.tx,ty:Te.ty}}function ne(Fe,ie){return Fe/(ie===void 0?1:ie)}function fe(Fe,ie){var we=Fe.trace,se=ie.h*(we.domain.y[1]-we.domain.y[0]);return Math.min(Fe.titleBox.height,se/2)}function X(Fe){var ie=Fe.pull;if(!ie)return 0;var we;if(Array.isArray(ie))for(ie=0,we=0;we<Fe.pull.length;we++)Fe.pull[we]>ie&&(ie=Fe.pull[we]);return ie}function ye(Fe,ie){var we,se,ue,pe,le,Te,de,Me,Re,ze,We,ot,dt;function Ge(ut,tt){return ut.pxmid[1]-tt.pxmid[1]}function Xe(ut,tt){return tt.pxmid[1]-ut.pxmid[1]}function qe(ut,tt){tt||(tt={});var Ct=tt.labelExtraY+(se?tt.yLabelMax:tt.yLabelMin),Gt=se?ut.yLabelMin:ut.yLabelMax,Yt=se?ut.yLabelMax:ut.yLabelMin,Nt=ut.cyFinal+le(ut.px0[1],ut.px1[1]),Ft=Ct-Gt,pn,_n,sn,Zn,an,Cn;if(Ft*de>0&&(ut.labelExtraY=Ft),!!Array.isArray(ie.pull))for(_n=0;_n<ze.length;_n++)sn=ze[_n],!(sn===ut||(S.castOption(ie.pull,ut.pts)||0)>=(S.castOption(ie.pull,sn.pts)||0))&&((ut.pxmid[1]-sn.pxmid[1])*de>0?(Zn=sn.cyFinal+le(sn.px0[1],sn.px1[1]),Ft=Zn-Gt-ut.labelExtraY,Ft*de>0&&(ut.labelExtraY+=Ft)):(Yt+ut.labelExtraY-Nt)*de>0&&(pn=3*Te*Math.abs(_n-ze.indexOf(ut)),an=sn.cxFinal+pe(sn.px0[0],sn.px1[0]),Cn=an+pn-(ut.cxFinal+ut.pxmid[0])-ut.labelExtraX,Cn*Te>0&&(ut.labelExtraX+=Cn)))}for(se=0;se<2;se++)for(ue=se?Ge:Xe,le=se?Math.max:Math.min,de=se?1:-1,we=0;we<2;we++){for(pe=we?Math.max:Math.min,Te=we?1:-1,Me=Fe[se][we],Me.sort(ue),Re=Fe[1-se][we],ze=Re.concat(Me),ot=[],We=0;We<Me.length;We++)Me[We].yLabelMid!==void 0&&ot.push(Me[We]);for(dt=!1,We=0;se&&We<Re.length;We++)if(Re[We].yLabelMid!==void 0){dt=Re[We];break}for(We=0;We<ot.length;We++){var gt=We&&ot[We-1];dt&&!We&&(gt=dt),qe(ot[We],gt)}}}function Ce(Fe,ie){for(var we=[],se=0;se<Fe.length;se++){var ue=Fe[se][0],pe=ue.trace,le=pe.domain,Te=ie.w*(le.x[1]-le.x[0]),de=ie.h*(le.y[1]-le.y[0]);pe.title.text&&pe.title.position!=="middle center"&&(de-=fe(ue,ie));var Me=Te/2,Re=de/2;pe.type==="funnelarea"&&!pe.scalegroup&&(Re/=pe.aspectratio),ue.r=Math.min(Me,Re)/(1+X(pe)),ue.cx=ie.l+ie.w*(pe.domain.x[1]+pe.domain.x[0])/2,ue.cy=ie.t+ie.h*(1-pe.domain.y[0])-de/2,pe.title.text&&pe.title.position.indexOf("bottom")!==-1&&(ue.cy-=fe(ue,ie)),pe.scalegroup&&we.indexOf(pe.scalegroup)===-1&&we.push(pe.scalegroup)}$e(Fe,we)}function $e(Fe,ie){for(var we,se,ue,pe=0;pe<ie.length;pe++){var le=1/0,Te=ie[pe];for(se=0;se<Fe.length;se++)if(we=Fe[se][0],ue=we.trace,ue.scalegroup===Te){var de;if(ue.type==="pie")de=we.r*we.r;else if(ue.type==="funnelarea"){var Me,Re;ue.aspectratio>1?(Me=we.r,Re=Me/ue.aspectratio):(Re=we.r,Me=Re*ue.aspectratio),Me*=(1+ue.baseratio)/2,de=Me*Re}le=Math.min(le,de/we.vTotal)}for(se=0;se<Fe.length;se++)if(we=Fe[se][0],ue=we.trace,ue.scalegroup===Te){var ze=le*we.vTotal;ue.type==="funnelarea"&&(ze/=(1+ue.baseratio)/2,ze/=ue.aspectratio),we.r=Math.sqrt(ze)}}}function ke(Fe){var ie=Fe[0],we=ie.r,se=ie.trace,ue=S.getRotationAngle(se.rotation),pe=2*Math.PI/ie.vTotal,le="px0",Te="px1",de,Me,Re;if(se.direction==="counterclockwise"){for(de=0;de<Fe.length&&Fe[de].hidden;de++);if(de===Fe.length)return;ue+=pe*Fe[de].v,pe*=-1,le="px1",Te="px0"}for(Re=Ne(we,ue),de=0;de<Fe.length;de++)Me=Fe[de],!Me.hidden&&(Me[le]=Re,Me.startangle=ue,ue+=pe*Me.v/2,Me.pxmid=Ne(we,ue),Me.midangle=ue,ue+=pe*Me.v/2,Re=Ne(we,ue),Me.stopangle=ue,Me[Te]=Re,Me.largeArc=Me.v>ie.vTotal/2?1:0,Me.halfangle=Math.PI*Math.min(Me.v/ie.vTotal,.5),Me.ring=1-se.hole,Me.rInscribed=he(Me,ie))}function Ne(Fe,ie){return[Fe*Math.sin(ie),-Fe*Math.cos(ie)]}function Ve(Fe,ie,we){var se=Fe._fullLayout,ue=we.trace,pe=ue.texttemplate,le=ue.textinfo;if(!pe&&le&&le!=="none"){var Te=le.split("+"),de=function(tt){return Te.indexOf(tt)!==-1},Me=de("label"),Re=de("text"),ze=de("value"),We=de("percent"),ot=se.separators,dt;if(dt=Me?[ie.label]:[],Re){var Ge=S.getFirstFilled(ue.text,ie.pts);D(Ge)&&dt.push(Ge)}ze&&dt.push(S.formatPieValue(ie.v,ot)),We&&dt.push(S.formatPiePercent(ie.v/we.vTotal,ot)),ie.text=dt.join("<br>")}function Xe(tt){return{label:tt.label,value:tt.v,valueLabel:S.formatPieValue(tt.v,se.separators),percent:tt.v/we.vTotal,percentLabel:S.formatPiePercent(tt.v/we.vTotal,se.separators),color:tt.color,text:tt.text,customdata:u.castOption(ue,tt.i,"customdata")}}if(pe){var qe=u.castOption(ue,ie.i,"texttemplate");if(!qe)ie.text="";else{var gt=Xe(ie),ut=S.getFirstFilled(ue.text,ie.pts);(D(ut)||ut==="")&&(gt.text=ut),ie.text=u.texttemplateString(qe,gt,Fe._fullLayout._d3locale,gt,ue._meta||{})}}}function Oe(Fe,ie){var we=Fe.rotate*Math.PI/180,se=Math.cos(we),ue=Math.sin(we),pe=(ie.left+ie.right)/2,le=(ie.top+ie.bottom)/2;Fe.textX=pe*se-le*ue,Fe.textY=pe*ue+le*se,Fe.noCenter=!0}L.exports={plot:N,formatSliceLabel:Ve,transformInsideText:j,determineInsideTextFont:F,positionTitleOutside:ce,prerenderTitles:H,layoutAreas:Ce,attachFxHandlers:k,computeTransform:Oe}},8357:function(L,A,s){var m=s(9898),h=s(3463),l=s(2597).resizeText;L.exports=function(i){var u=i._fullLayout._pielayer.selectAll(".trace");l(i,u,"pie"),u.each(function(d){var g=d[0],v=g.trace,x=m.select(this);x.style({opacity:v.opacity}),x.selectAll("path.surface").each(function(C){m.select(this).call(h,C,v,i)})})}},3463:function(L,A,s){var m=s(7901),h=s(3581).castOption,l=s(2209);L.exports=function(i,u,d,g){var v=d.marker.line,x=h(v.color,u.pts)||m.defaultLine,C=h(v.width,u.pts)||0;i.call(l,u,d,g).style("stroke-width",C).call(m.stroke,x)}},5225:function(L,A,s){var m=s(1828);L.exports=function(l,c){for(var i=0;i<l.length;i++)l[i].i=i;m.mergeArray(c.text,l,"tx"),m.mergeArray(c.texttemplate,l,"txt"),m.mergeArray(c.hovertext,l,"htx"),m.mergeArray(c.customdata,l,"data"),m.mergeArray(c.textposition,l,"tp"),c.textfont&&(m.mergeArrayCastPositive(c.textfont.size,l,"ts"),m.mergeArray(c.textfont.color,l,"tc"),m.mergeArray(c.textfont.family,l,"tf"));var u=c.marker;if(u){m.mergeArrayCastPositive(u.size,l,"ms"),m.mergeArrayCastPositive(u.opacity,l,"mo"),m.mergeArray(u.symbol,l,"mx"),m.mergeArray(u.angle,l,"ma"),m.mergeArray(u.standoff,l,"mf"),m.mergeArray(u.color,l,"mc");var d=u.line;u.line&&(m.mergeArray(d.color,l,"mlc"),m.mergeArrayCastPositive(d.width,l,"mlw"));var g=u.gradient;g&&g.type!=="none"&&(m.mergeArray(g.type,l,"mgt"),m.mergeArray(g.color,l,"mgc"))}}},2196:function(L,A,s){var m=s(2663).axisHoverFormat,h=s(5386).si,l=s(5386).fF,c=s(693),i=s(1940),u=s(9952).P,d=s(9952).u,g=s(1424),v=s(7581),x=s(1426).extendFlat;function C(S){return{valType:"any",dflt:0,editType:"calc"}}function _(S){return{valType:"any",editType:"calc"}}function $(S){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}L.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:C(),yperiod:C(),xperiod0:_(),yperiod0:_(),xperiodalignment:$(),yperiodalignment:$(),xhoverformat:m("x"),yhoverformat:m("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:h({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:l({},{keys:v.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:x({},u,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:d,marker:x({symbol:{valType:"enumerated",values:g.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:x({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},c("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},c("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:i({editType:"calc",colorEditType:"style",arrayOk:!0})}},7761:function(L,A,s){var m=s(2770),h=s(1828),l=s(9298),c=s(2973),i=s(606).BADNUM,u=s(4098),d=s(6922),g=s(5225),v=s(6279);function x(D,N){var M=D._fullLayout,k=N._xA=l.getFromId(D,N.xaxis||"x","x"),R=N._yA=l.getFromId(D,N.yaxis||"y","y"),F=k.makeCalcdata(N,"x"),H=R.makeCalcdata(N,"y"),j=c(N,k,"x",F),P=c(N,R,"y",H),ee=j.vals,J=P.vals,K=N._length,ae=new Array(K),Q=N.ids,he=O(N,M,k,R),ge=!1,Se,ce,ne,fe,X,ye;$(M,N);var Ce="x",$e="y",ke;if(he)h.pushUnique(he.traceIndices,N._expandedIndex),Se=he.orientation==="v",Se?($e="s",ke="x"):(Ce="s",ke="y"),X=he.stackgaps==="interpolate";else{var Ne=_(N,K);C(D,N,k,R,ee,J,Ne)}var Ve=!!N.xperiodalignment,Oe=!!N.yperiodalignment;for(ce=0;ce<K;ce++){var Fe=ae[ce]={},ie=m(ee[ce]),we=m(J[ce]);ie&&we?(Fe[Ce]=ee[ce],Fe[$e]=J[ce],Ve&&(Fe.orig_x=F[ce],Fe.xEnd=j.ends[ce],Fe.xStart=j.starts[ce]),Oe&&(Fe.orig_y=H[ce],Fe.yEnd=P.ends[ce],Fe.yStart=P.starts[ce])):he&&(Se?ie:we)?(Fe[ke]=Se?ee[ce]:J[ce],Fe.gap=!0,X?(Fe.s=i,ge=!0):Fe.s=0):Fe[Ce]=Fe[$e]=i,Q&&(Fe.id=String(Q[ce]))}if(g(ae,N),d(D,N),v(ae,N),he){for(ce=0;ce<ae.length;)ae[ce][ke]===i?ae.splice(ce,1):ce++;if(h.sort(ae,function(le,Te){return le[ke]-Te[ke]||le.i-Te.i}),ge){for(ce=0;ce<ae.length-1&&ae[ce].gap;)ce++;for(ye=ae[ce].s,ye||(ye=ae[ce].s=0),ne=0;ne<ce;ne++)ae[ne].s=ye;for(fe=ae.length-1;fe>ce&&ae[fe].gap;)fe--;for(ye=ae[fe].s,ne=ae.length-1;ne>fe;ne--)ae[ne].s=ye;for(;ce<fe;)if(ce++,ae[ce].gap){for(ne=ce+1;ae[ne].gap;)ne++;for(var se=ae[ce-1][ke],ue=ae[ce-1].s,pe=(ae[ne].s-ue)/(ae[ne][ke]-se);ce<ne;)ae[ce].s=ue+(ae[ce][ke]-se)*pe,ce++}}}return ae}function C(D,N,M,k,R,F,H){var j=N._length,P=D._fullLayout,ee=M._id,J=k._id,K=P._firstScatter[S(N)]===N.uid,ae=(O(N,P,M,k)||{}).orientation,Q=N.fill;M._minDtick=0,k._minDtick=0;var he={padded:!0},ge={padded:!0};H&&(he.ppad=ge.ppad=H);var Se=j<2||R[0]!==R[j-1]||F[0]!==F[j-1];Se&&(Q==="tozerox"||Q==="tonextx"&&(K||ae==="h"))?he.tozero=!0:!(N.error_y||{}).visible&&(Q==="tonexty"||Q==="tozeroy"||!u.hasMarkers(N)&&!u.hasText(N))&&(he.padded=!1,he.ppad=0),Se&&(Q==="tozeroy"||Q==="tonexty"&&(K||ae==="v"))?ge.tozero=!0:(Q==="tonextx"||Q==="tozerox")&&(ge.padded=!1),ee&&(N._extremes[ee]=l.findExtremes(M,R,he)),J&&(N._extremes[J]=l.findExtremes(k,F,ge))}function _(D,N){if(u.hasMarkers(D)){var M=D.marker,k=1.6*(D.marker.sizeref||1),R;if(D.marker.sizemode==="area"?R=function(ee){return Math.max(Math.sqrt((ee||0)/k),3)}:R=function(ee){return Math.max((ee||0)/k,3)},h.isArrayOrTypedArray(M.size)){var F={type:"linear"};l.setConvert(F);for(var H=F.makeCalcdata(D.marker,"size"),j=new Array(N),P=0;P<N;P++)j[P]=R(H[P]);return j}else return R(M.size)}}function $(D,N){var M=S(N),k=D._firstScatter;k[M]||(k[M]=N.uid)}function S(D){var N=D.stackgroup;return D.xaxis+D.yaxis+D.type+(N?"-"+N:"")}function O(D,N,M,k){var R=D.stackgroup;if(R){var F=N._scatterStackOpts[M._id+k._id][R],H=F.orientation==="v"?k:M;if(H.type==="linear"||H.type==="log")return F}}L.exports={calc:x,calcMarkerSize:_,calcAxisExpansion:C,setFirstScatter:$,getStackOpts:O}},6279:function(L,A,s){var m=s(1828);L.exports=function(l,c){m.isArrayOrTypedArray(c.selectedpoints)&&m.tagSelected(l,c)}},6922:function(L,A,s){var m=s(2869).hasColorscale,h=s(8803),l=s(4098);L.exports=function(i,u){l.hasLines(u)&&m(u,"line")&&h(i,u,{vals:u.line.color,containerStr:"line",cLetter:"c"}),l.hasMarkers(u)&&(m(u,"marker")&&h(i,u,{vals:u.marker.color,containerStr:"marker",cLetter:"c"}),m(u,"marker.line")&&h(i,u,{vals:u.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},7581:function(L){L.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},2626:function(L,A,s){var m=s(7761),h=s(1661).setGroupPositions;function l(u,d){for(var g=d.xaxis,v=d.yaxis,x=u._fullLayout,C=u._fullData,_=u.calcdata,$=[],S=[],O=0;O<C.length;O++){var D=C[O];D.visible===!0&&D.type==="scatter"&&D.xaxis===g._id&&D.yaxis===v._id&&(D.orientation==="h"?$.push(_[O]):D.orientation==="v"&&S.push(_[O]))}var N={mode:x.scattermode,gap:x.scattergap};h(u,g,v,S,N),h(u,v,g,$,N)}L.exports=function(d,g){d._fullLayout.scattermode==="group"&&l(d,g);var v=g.xaxis,x=g.yaxis,C=v._id+x._id,_=d._fullLayout._scatterStackOpts[C];if(_){var $=d.calcdata,S,O,D,N,M,k,R,F,H,j,P,ee,J,K,ae;for(var Q in _){j=_[Q];var he=j.traceIndices;if(he.length){for(P=j.stackgaps==="interpolate",ee=j.groupnorm,j.orientation==="v"?(J="x",K="y"):(J="y",K="x"),ae=new Array(he.length),S=0;S<ae.length;S++)ae[S]=!1;k=$[he[0]];var ge=new Array(k.length);for(S=0;S<k.length;S++)ge[S]=k[S][J];for(S=1;S<he.length;S++){for(M=$[he[S]],O=D=0;O<M.length;O++){for(R=M[O][J];R>ge[D]&&D<ge.length;D++)c(M,O,ge[D],S,ae,P,J),O++;if(R!==ge[D]){for(N=0;N<S;N++)c($[he[N]],D,R,N,ae,P,J);ge.splice(D,0,R)}D++}for(;D<ge.length;D++)c(M,O,ge[D],S,ae,P,J),O++}var Se=ge.length;for(O=0;O<k.length;O++){for(F=k[O][K]=k[O].s,S=1;S<he.length;S++)M=$[he[S]],M[0].trace._rawLength=M[0].trace._length,M[0].trace._length=Se,F+=M[O].s,M[O][K]=F;if(ee)for(H=(ee==="fraction"?F:F/100)||1,S=0;S<he.length;S++){var ce=$[he[S]][O];ce[K]/=H,ce.sNorm=ce.s/H}}for(S=0;S<he.length;S++){M=$[he[S]];var ne=M[0].trace,fe=m.calcMarkerSize(ne,ne._rawLength),X=Array.isArray(fe);if(fe&&ae[S]||X){var ye=fe;for(fe=new Array(Se),O=0;O<Se;O++)fe[O]=M[O].gap?0:X?ye[M[O].i]:ye}var Ce=new Array(Se),$e=new Array(Se);for(O=0;O<Se;O++)Ce[O]=M[O].x,$e[O]=M[O].y;m.calcAxisExpansion(d,ne,v,x,Ce,$e,fe),M[0].t.orientation=j.orientation}}}}};function c(u,d,g,v,x,C,_){x[v]=!0;var $={i:null,gap:!0,s:0};if($[_]=g,u.splice(d,0,$),d&&g===u[d-1][_]){var S=u[d-1];$.s=S.s,$.i=S.i,$.gap=S.gap}else C&&($.s=i(u,d,g,_));d||(u[0].t=u[1].t,u[0].trace=u[1].trace,delete u[1].t,delete u[1].trace)}function i(u,d,g,v){var x=u[d-1],C=u[d+1];return C?x?x.s+(C.s-x.s)*(g-x[v])/(C[v]-x[v]):C.s:x.s}},462:function(L,A,s){var m=s(1828),h=s(6125),l=s(2196);L.exports=function(i,u){var d,g,v;function x(O){return m.coerce(g._input,g,l,O)}if(u.scattermode==="group")for(v=0;v<i.length;v++)g=i[v],g.type==="scatter"&&(d=g._input,h(d,g,u,x));for(v=0;v<i.length;v++){var C=i[v];if(C.type==="scatter"){var _=C.fill;if(!(_==="none"||_==="toself")&&(C.opacity=void 0,_==="tonexty"||_==="tonextx"))for(var $=v-1;$>=0;$--){var S=i[$];if(S.type==="scatter"&&S.xaxis===C.xaxis&&S.yaxis===C.yaxis){S.opacity=void 0;break}}}}}},7438:function(L,A,s){var m=s(1828),h=s(3972),l=s(2196),c=s(7581),i=s(4098),u=s(7513),d=s(3927),g=s(565),v=s(9508),x=s(1058),C=s(4039),_=s(2410),$=s(8908),S=s(1828).coercePattern;L.exports=function(D,N,M,k){function R(ae,Q){return m.coerce(D,N,l,ae,Q)}var F=u(D,N,k,R);if(F||(N.visible=!1),!!N.visible){d(D,N,k,R),R("xhoverformat"),R("yhoverformat");var H=g(D,N,k,R);k.scattermode==="group"&&N.orientation===void 0&&R("orientation","v");var j=!H&&F<c.PTS_LINESONLY?"lines+markers":"lines";R("text"),R("hovertext"),R("mode",j),i.hasLines(N)&&(x(D,N,M,k,R,{backoff:!0}),C(D,N,R),R("connectgaps"),R("line.simplify")),i.hasMarkers(N)&&v(D,N,M,k,R,{gradient:!0}),i.hasText(N)&&(R("texttemplate"),_(D,N,k,R));var P=[];(i.hasMarkers(N)||i.hasText(N))&&(R("cliponaxis"),R("marker.maxdisplayed"),P.push("points")),R("fill",H?H.fillDflt:"none"),N.fill!=="none"&&($(D,N,M,R),i.hasLines(N)||C(D,N,R),S(R,"fillpattern",N.fillcolor,!1));var ee=(N.line||{}).color,J=(N.marker||{}).color;(N.fill==="tonext"||N.fill==="toself")&&P.push("fills"),R("hoveron",P.join("+")||"points"),N.hoveron!=="fills"&&R("hovertemplate");var K=h.getComponentMethod("errorbars","supplyDefaults");K(D,N,ee||J||M,{axis:"y"}),K(D,N,ee||J||M,{axis:"x",inherit:"y"}),m.coerceSelectionMarkerOpacity(N,R)}}},8908:function(L,A,s){var m=s(7901),h=s(1828).isArrayOrTypedArray;L.exports=function(c,i,u,d){var g=!1;if(i.marker){var v=i.marker.color,x=(i.marker.line||{}).color;v&&!h(v)?g=v:x&&!h(x)&&(g=x)}d("fillcolor",m.addOpacity((i.line||{}).color||g||u,.5))}},8225:function(L,A,s){var m=s(9298);L.exports=function(l,c,i){var u={},d={_fullLayout:i},g=m.getFromTrace(d,c,"x"),v=m.getFromTrace(d,c,"y"),x=l.orig_x;x===void 0&&(x=l.x);var C=l.orig_y;return C===void 0&&(C=l.y),u.xLabel=m.tickText(g,g.c2l(x),!0).text,u.yLabel=m.tickText(v,v.c2l(C),!0).text,u}},4603:function(L,A,s){var m=s(7901),h=s(4098);L.exports=function(c,i){var u,d;if(c.mode==="lines")return u=c.line.color,u&&m.opacity(u)?u:c.fillcolor;if(c.mode==="none")return c.fill?c.fillcolor:"";var g=i.mcc||(c.marker||{}).color,v=i.mlcc||((c.marker||{}).line||{}).color;return d=g&&m.opacity(g)?g:v&&m.opacity(v)&&(i.mlw||((c.marker||{}).line||{}).width)?v:"",d?m.opacity(d)<.3?m.addOpacity(d,.3):d:(u=(c.line||{}).color,u&&m.opacity(u)&&h.hasLines(c)&&c.line.width?u:c.fillcolor)}},6125:function(L,A,s){var m=s(9082).getAxisGroup;L.exports=function(l,c,i,u){var d=c.orientation,g=c[{v:"x",h:"y"}[d]+"axis"],v=m(i,g)+d,x=i._alignmentOpts||{},C=u("alignmentgroup"),_=x[v];_||(_=x[v]={});var $=_[C];$?$.traces.push(c):$=_[C]={traces:[c],alignmentIndex:Object.keys(_).length,offsetGroups:{}};var S=u("offsetgroup"),O=$.offsetGroups,D=O[S];S&&(D||(D=O[S]={offsetIndex:Object.keys(O).length}),c._offsetIndex=D.offsetIndex)}},3720:function(L,A,s){var m=s(1828),h=s(211),l=s(3972),c=s(4603),i=s(7901),u=m.fillText;L.exports=function(g,v,x,C){var _=g.cd,$=_[0].trace,S=g.xa,O=g.ya,D=S.c2p(v),N=O.c2p(x),M=[D,N],k=$.hoveron||"",R=$.mode.indexOf("markers")!==-1?3:.5,F=!!$.xperiodalignment,H=!!$.yperiodalignment;if(k.indexOf("points")!==-1){var j=function(Me){if(F){var Re=S.c2p(Me.xStart),ze=S.c2p(Me.xEnd);return D>=Math.min(Re,ze)&&D<=Math.max(Re,ze)?0:1/0}var We=Math.max(3,Me.mrc||0),ot=1-1/We,dt=Math.abs(S.c2p(Me.x)-D);return dt<We?ot*dt/We:dt-We+ot},P=function(Me){if(H){var Re=O.c2p(Me.yStart),ze=O.c2p(Me.yEnd);return N>=Math.min(Re,ze)&&N<=Math.max(Re,ze)?0:1/0}var We=Math.max(3,Me.mrc||0),ot=1-1/We,dt=Math.abs(O.c2p(Me.y)-N);return dt<We?ot*dt/We:dt-We+ot},ee=function(Me){var Re=Math.max(R,Me.mrc||0),ze=S.c2p(Me.x)-D,We=O.c2p(Me.y)-N;return Math.max(Math.sqrt(ze*ze+We*We)-Re,1-R/Re)},J=h.getDistanceFunction(C,j,P,ee);if(h.getClosest(_,J,g),g.index!==!1){var K=_[g.index],ae=S.c2p(K.x,!0),Q=O.c2p(K.y,!0),he=K.mrc||1;g.index=K.i;var ge=_[0].t.orientation,Se=ge&&(K.sNorm||K.s),ce=ge==="h"?Se:K.orig_x!==void 0?K.orig_x:K.x,ne=ge==="v"?Se:K.orig_y!==void 0?K.orig_y:K.y;return m.extendFlat(g,{color:c($,K),x0:ae-he,x1:ae+he,xLabelVal:ce,y0:Q-he,y1:Q+he,yLabelVal:ne,spikeDistance:ee(K),hovertemplate:$.hovertemplate}),u(K,$,g),l.getComponentMethod("errorbars","hoverInfo")(K,$,g),[g]}}if(k.indexOf("fills")!==-1&&$._polygons){var fe=$._polygons,X=[],ye=!1,Ce=1/0,$e=-1/0,ke=1/0,Ne=-1/0,Ve,Oe,Fe,ie,we,se,ue,pe,le;for(Ve=0;Ve<fe.length;Ve++)Fe=fe[Ve],Fe.contains(M)&&(ye=!ye,X.push(Fe),ke=Math.min(ke,Fe.ymin),Ne=Math.max(Ne,Fe.ymax));if(ye){ke=Math.max(ke,0),Ne=Math.min(Ne,O._length);var Te=(ke+Ne)/2;for(Ve=0;Ve<X.length;Ve++)for(ie=X[Ve].pts,Oe=1;Oe<ie.length;Oe++)pe=ie[Oe-1][1],le=ie[Oe][1],pe>Te!=le>=Te&&(se=ie[Oe-1][0],ue=ie[Oe][0],le-pe&&(we=se+(ue-se)*(Te-pe)/(le-pe),Ce=Math.min(Ce,we),$e=Math.max($e,we)));Ce=Math.max(Ce,0),$e=Math.min($e,S._length);var de=i.defaultLine;return i.opacity($.fillcolor)?de=$.fillcolor:i.opacity(($.line||{}).color)&&(de=$.line.color),m.extendFlat(g,{distance:g.maxHoverDistance,x0:Ce,x1:$e,y0:Te,y1:Te,color:de,hovertemplate:!1}),delete g.index,$.text&&!Array.isArray($.text)?g.text=String($.text):g.text=$.name,[g]}}}},7368:function(L,A,s){var m=s(4098);L.exports={hasLines:m.hasLines,hasMarkers:m.hasMarkers,hasText:m.hasText,isBubble:m.isBubble,attributes:s(2196),layoutAttributes:s(1479),supplyDefaults:s(7438),crossTraceDefaults:s(462),supplyLayoutDefaults:s(9334),calc:s(7761).calc,crossTraceCalc:s(2626),arraysToCalcdata:s(5225),plot:s(7399),colorbar:s(4898),formatLabels:s(8225),style:s(6296).style,styleOnSelect:s(6296).styleOnSelect,hoverPoints:s(3720),selectPoints:s(8002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:s(3612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},1479:function(L){L.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},9334:function(L,A,s){var m=s(1828),h=s(1479);L.exports=function(l,c){function i(d,g){return m.coerce(l,c,h,d,g)}var u=c.barmode==="group";c.scattermode==="group"&&i("scattergap",u?c.bargap:.2)}},1058:function(L,A,s){var m=s(1828).isArrayOrTypedArray,h=s(2869).hasColorscale,l=s(1586);L.exports=function(i,u,d,g,v,x){x||(x={});var C=(i.marker||{}).color;if(v("line.color",d),h(i,"line"))l(i,u,g,v,{prefix:"line.",cLetter:"c"});else{var _=(m(C)?!1:C)||d;v("line.color",_)}v("line.width"),x.noDash||v("line.dash"),x.backoff&&v("line.backoff")}},4621:function(L,A,s){var m=s(1424),h=s(606),l=h.BADNUM,c=h.LOG_CLIP,i=c+.5,u=c-.5,d=s(1828),g=d.segmentsIntersect,v=d.constrain,x=s(7581);L.exports=function(_,$){var S=$.trace||{},O=$.xaxis,D=$.yaxis,N=O.type==="log",M=D.type==="log",k=O._length,R=D._length,F=$.backoff,H=S.marker,j=$.connectGaps,P=$.baseTolerance,ee=$.shape,J=ee==="linear",K=S.fill&&S.fill!=="none",ae=[],Q=x.minTolerance,he=_.length,ge=new Array(he),Se=0,ce,ne,fe,X,ye,Ce,$e,ke,Ne,Ve,Oe,Fe,ie,we,se,ue;function pe(Tt){var Et=_[Tt];if(!Et)return!1;var fn=$.linearized?O.l2p(Et.x):O.c2p(Et.x),tn=$.linearized?D.l2p(Et.y):D.c2p(Et.y);if(fn===l){if(N&&(fn=O.c2p(Et.x,!0)),fn===l)return!1;M&&tn===l&&(fn*=Math.abs(O._m*R*(O._m>0?i:u)/(D._m*k*(D._m>0?i:u)))),fn*=1e3}if(tn===l){if(M&&(tn=D.c2p(Et.y,!0)),tn===l)return!1;tn*=1e3}return[fn,tn]}function le(Tt,Et,fn,tn){var Zt=fn-Tt,Dt=tn-Et,un=.5-Tt,Un=.5-Et,tr=Zt*Zt+Dt*Dt,Er=Zt*un+Dt*Un;if(Er>0&&Er<tr){var zt=un*Dt-Un*Zt;if(zt*zt<tr)return!0}}var Te,de;function Me(Tt,Et){var fn=Tt[0]/k,tn=Tt[1]/R,Zt=Math.max(0,-fn,fn-1,-tn,tn-1);return Zt&&Te!==void 0&&le(fn,tn,Te,de)&&(Zt=0),Zt&&Et&&le(fn,tn,Et[0]/k,Et[1]/R)&&(Zt=0),(1+x.toleranceGrowth*Zt)*P}function Re(Tt,Et){var fn=Tt[0]-Et[0],tn=Tt[1]-Et[1];return Math.sqrt(fn*fn+tn*tn)}var ze=x.maxScreensAway,We=-k*ze,ot=k*(1+ze),dt=-R*ze,Ge=R*(1+ze),Xe=[[We,dt,ot,dt],[ot,dt,ot,Ge],[ot,Ge,We,Ge],[We,Ge,We,dt]],qe,gt,ut,tt,Ct,Gt;function Yt(Tt,Et){for(var fn=[],tn=0,Zt=0;Zt<4;Zt++){var Dt=Xe[Zt],un=g(Tt[0],Tt[1],Et[0],Et[1],Dt[0],Dt[1],Dt[2],Dt[3]);un&&(!tn||Math.abs(un.x-fn[0][0])>1||Math.abs(un.y-fn[0][1])>1)&&(un=[un.x,un.y],tn&&Re(un,Tt)<Re(fn[0],Tt)?fn.unshift(un):fn.push(un),tn++)}return fn}function Nt(Tt){if(Tt[0]<We||Tt[0]>ot||Tt[1]<dt||Tt[1]>Ge)return[v(Tt[0],We,ot),v(Tt[1],dt,Ge)]}function Ft(Tt,Et){if(Tt[0]===Et[0]&&(Tt[0]===We||Tt[0]===ot)||Tt[1]===Et[1]&&(Tt[1]===dt||Tt[1]===Ge))return!0}function pn(Tt,Et){var fn=[],tn=Nt(Tt),Zt=Nt(Et);return tn&&Zt&&Ft(tn,Zt)||(tn&&fn.push(tn),Zt&&fn.push(Zt)),fn}function _n(Tt,Et,fn){return function(tn,Zt){var Dt=Nt(tn),un=Nt(Zt),Un=[];if(Dt&&un&&Ft(Dt,un))return Un;Dt&&Un.push(Dt),un&&Un.push(un);var tr=2*d.constrain((tn[Tt]+Zt[Tt])/2,Et,fn)-((Dt||tn)[Tt]+(un||Zt)[Tt]);if(tr){var Er;Dt&&un?Er=tr>0==Dt[Tt]>un[Tt]?Dt:un:Er=Dt||un,Er[Tt]+=tr}return Un}}var sn;ee==="linear"||ee==="spline"?sn=Yt:ee==="hv"||ee==="vh"?sn=pn:ee==="hvh"?sn=_n(0,We,ot):ee==="vhv"&&(sn=_n(1,dt,Ge));function Zn(Tt,Et){var fn=Et[0]-Tt[0],tn=(Et[1]-Tt[1])/fn,Zt=(Tt[1]*Et[0]-Et[1]*Tt[0])/fn;return Zt>0?[tn>0?We:ot,Ge]:[tn>0?ot:We,dt]}function an(Tt){var Et=Tt[0],fn=Tt[1],tn=Et===ge[Se-1][0],Zt=fn===ge[Se-1][1];if(!(tn&&Zt))if(Se>1){var Dt=Et===ge[Se-2][0],un=fn===ge[Se-2][1];tn&&(Et===We||Et===ot)&&Dt?un?Se--:ge[Se-1]=Tt:Zt&&(fn===dt||fn===Ge)&&un?Dt?Se--:ge[Se-1]=Tt:ge[Se++]=Tt}else ge[Se++]=Tt}function Cn(Tt){ge[Se-1][0]!==Tt[0]&&ge[Se-1][1]!==Tt[1]&&an([ut,tt]),an(Tt),Ct=null,ut=tt=0}var jn=d.isArrayOrTypedArray(H);function Wn(Tt){if(Tt&&F&&(Tt.i=ce,Tt.d=_,Tt.trace=S,Tt.marker=jn?H[Tt.i]:H,Tt.backoff=F),Te=Tt[0]/k,de=Tt[1]/R,qe=Tt[0]<We?We:Tt[0]>ot?ot:0,gt=Tt[1]<dt?dt:Tt[1]>Ge?Ge:0,qe||gt){if(!Se)ge[Se++]=[qe||Tt[0],gt||Tt[1]];else if(Ct){var Et=sn(Ct,Tt);Et.length>1&&(Cn(Et[0]),ge[Se++]=Et[1])}else Gt=sn(ge[Se-1],Tt)[0],ge[Se++]=Gt;var fn=ge[Se-1];qe&&gt&&(fn[0]!==qe||fn[1]!==gt)?(Ct&&(ut!==qe&&tt!==gt?an(ut&&tt?Zn(Ct,Tt):[ut||qe,tt||gt]):ut&&tt&&an([ut,tt])),an([qe,gt])):ut-qe&&tt-gt&&an([qe||ut,gt||tt]),Ct=Tt,ut=qe,tt=gt}else Ct&&Cn(sn(Ct,Tt)[0]),ge[Se++]=Tt}for(ce=0;ce<he;ce++)if(ne=pe(ce),!!ne){for(Se=0,Ct=null,Wn(ne),ce++;ce<he;ce++){if(X=pe(ce),!X){if(j)continue;break}if(!J||!$.simplify){Wn(X);continue}var wn=pe(ce+1);if(Ve=Re(X,ne),!(!(K&&(Se===0||Se===he-1))&&Ve<Me(X,wn)*Q)){for(ke=[(X[0]-ne[0])/Ve,(X[1]-ne[1])/Ve],ye=ne,Oe=Ve,Fe=we=se=0,$e=!1,fe=X,ce++;ce<_.length;ce++){if(Ce=wn,wn=pe(ce+1),!Ce){if(j)continue;break}if(Ne=[Ce[0]-ne[0],Ce[1]-ne[1]],ue=Ne[0]*ke[1]-Ne[1]*ke[0],we=Math.min(we,ue),se=Math.max(se,ue),se-we>Me(Ce,wn))break;fe=Ce,ie=Ne[0]*ke[0]+Ne[1]*ke[1],ie>Oe?(Oe=ie,X=Ce,$e=!1):ie<Fe&&(Fe=ie,ye=Ce,$e=!0)}if($e?(Wn(X),fe!==ye&&Wn(ye)):(ye!==ne&&Wn(ye),fe!==X&&Wn(X)),Wn(fe),ce>=_.length||!Ce)break;Wn(Ce),ne=Ce}}Ct&&an([ut||Ct[0],tt||Ct[1]]),ae.push(ge.slice(0,Se))}var lt=ee.slice(ee.length-1);if(F&&lt!=="h"&&lt!=="v"){for(var ft=!1,wt=-1,vt=[],$t=0;$t<ae.length;$t++)for(var Ze=0;Ze<ae[$t].length-1;Ze++){var it=ae[$t][Ze],ht=ae[$t][Ze+1],pt=m.applyBackoff(ht,it);(pt[0]!==ht[0]||pt[1]!==ht[1])&&(ft=!0),vt[wt+1]||(wt++,vt[wt]=[it,[pt[0],pt[1]]])}return ft?vt:ae}return ae}},4039:function(L){L.exports=function(s,m,h){var l=h("line.shape");l==="spline"&&h("line.smoothing")}},8687:function(L){var A={tonextx:1,tonexty:1,tonext:1};L.exports=function(m,h,l){var c,i,u,d,g,v={},x=!1,C=-1,_=0,$=-1;for(i=0;i<l.length;i++)c=l[i][0].trace,u=c.stackgroup||"",u?u in v?g=v[u]:(g=v[u]=_,_++):c.fill in A&&$>=0?g=$:(g=$=_,_++),g<C&&(x=!0),c._groupIndex=C=g;var S=l.slice();x&&S.sort(function(D,N){var M=D[0].trace,k=N[0].trace;return M._groupIndex-k._groupIndex||M.index-k.index});var O={};for(i=0;i<S.length;i++)c=S[i][0].trace,u=c.stackgroup||"",c.visible===!0?(c._nexttrace=null,c.fill in A&&(d=O[u],c._prevtrace=d||null,d&&(d._nexttrace=c)),c._ownfill=c.fill&&(c.fill.substr(0,6)==="tozero"||c.fill==="toself"||c.fill.substr(0,2)==="to"&&!c._prevtrace),O[u]=c):c._prevtrace=c._nexttrace=c._ownfill=null;return S}},9984:function(L,A,s){var m=s(2770);L.exports=function(l,c){c||(c=2);var i=l.marker,u=i.sizeref||1,d=i.sizemin||0,g=i.sizemode==="area"?function(v){return Math.sqrt(v/u)}:function(v){return v/u};return function(v){var x=g(v/c);return m(x)&&x>0?Math.max(x,d):0}}},4898:function(L){L.exports={container:"marker",min:"cmin",max:"cmax"}},9508:function(L,A,s){var m=s(7901),h=s(2869).hasColorscale,l=s(1586),c=s(4098);L.exports=function(u,d,g,v,x,C){var _=c.isBubble(u),$=(u.line||{}).color,S;if(C=C||{},$&&(g=$),x("marker.symbol"),x("marker.opacity",_?.7:1),x("marker.size"),C.noAngle||(x("marker.angle"),C.noAngleRef||x("marker.angleref"),C.noStandOff||x("marker.standoff")),x("marker.color",g),h(u,"marker")&&l(u,d,v,x,{prefix:"marker.",cLetter:"c"}),C.noSelect||(x("selected.marker.color"),x("unselected.marker.color"),x("selected.marker.size"),x("unselected.marker.size")),C.noLine||($&&!Array.isArray($)&&d.marker.color!==$?S=$:_?S=m.background:S=m.defaultLine,x("marker.line.color",S),h(u,"marker.line")&&l(u,d,v,x,{prefix:"marker.line.",cLetter:"c"}),x("marker.line.width",_?1:0)),_&&(x("marker.sizeref"),x("marker.sizemin"),x("marker.sizemode")),C.gradient){var O=x("marker.gradient.type");O!=="none"&&x("marker.gradient.color")}}},3927:function(L,A,s){var m=s(1828).dateTick0,h=s(606),l=h.ONEWEEK;function c(i,u){return i%l===0?m(u,1):m(u,0)}L.exports=function(u,d,g,v,x){if(x||(x={x:!0,y:!0}),x.x){var C=v("xperiod");C&&(v("xperiod0",c(C,d.xcalendar)),v("xperiodalignment"))}if(x.y){var _=v("yperiod");_&&(v("yperiod0",c(_,d.ycalendar)),v("yperiodalignment"))}}},7399:function(L,A,s){var m=s(9898),h=s(3972),l=s(1828),c=l.ensureSingle,i=l.identity,u=s(1424),d=s(4098),g=s(4621),v=s(8687),x=s(1082).tester;L.exports=function(O,D,N,M,k,R){var F,H,j=!k,P=!!k&&k.duration>0,ee=v(O,D,N);if(F=M.selectAll("g.trace").data(ee,function(K){return K[0].trace.uid}),F.enter().append("g").attr("class",function(K){return"trace scatter trace"+K[0].trace.uid}).style("stroke-miterlimit",2),F.order(),C(O,F,D),P){R&&(H=R());var J=m.transition().duration(k.duration).ease(k.easing).each("end",function(){H&&H()}).each("interrupt",function(){H&&H()});J.each(function(){M.selectAll("g.trace").each(function(K,ae){_(O,ae,D,K,ee,this,k)})})}else F.each(function(K,ae){_(O,ae,D,K,ee,this,k)});j&&F.exit().remove(),M.selectAll("path:not([d])").remove()};function C(S,O,D){O.each(function(N){var M=c(m.select(this),"g","fills");u.setClipUrl(M,D.layerClipId,S);var k=N[0].trace,R=[];k._ownfill&&R.push("_ownFill"),k._nexttrace&&R.push("_nextFill");var F=M.selectAll("g").data(R,i);F.enter().append("g"),F.exit().each(function(H){k[H]=null}).remove(),F.order().each(function(H){k[H]=c(m.select(this),"path","js-fill")})})}function _(S,O,D,N,M,k,R){var F=S._context.staticPlot,H;$(S,O,D,N,M);var j=!!R&&R.duration>0;function P(tt){return j?tt.transition():tt}var ee=D.xaxis,J=D.yaxis,K=N[0].trace,ae=K.line,Q=m.select(k),he=c(Q,"g","errorbars"),ge=c(Q,"g","lines"),Se=c(Q,"g","points"),ce=c(Q,"g","text");if(h.getComponentMethod("errorbars","plot")(S,he,D,R),K.visible!==!0)return;P(Q).style("opacity",K.opacity);var ne,fe,X=K.fill.charAt(K.fill.length-1);X!=="x"&&X!=="y"&&(X=""),N[0][D.isRangePlot?"nodeRangePlot3":"node3"]=Q;var ye="",Ce=[],$e=K._prevtrace;$e&&(ye=$e._prevRevpath||"",fe=$e._nextFill,Ce=$e._polygons);var ke,Ne,Ve="",Oe="",Fe,ie,we,se,ue,pe,le,Te=[],de=l.noop;if(ne=K._ownFill,d.hasLines(K)||K.fill!=="none"){for(fe&&fe.datum(N),["hv","vh","hvh","vhv"].indexOf(ae.shape)!==-1?(Fe=u.steps(ae.shape),ie=u.steps(ae.shape.split("").reverse().join(""))):ae.shape==="spline"?Fe=ie=function(tt){var Ct=tt[tt.length-1];return tt.length>1&&tt[0][0]===Ct[0]&&tt[0][1]===Ct[1]?u.smoothclosed(tt.slice(1),ae.smoothing):u.smoothopen(tt,ae.smoothing)}:Fe=ie=function(tt){return"M"+tt.join("L")},we=function(tt){return ie(tt.reverse())},Te=g(N,{xaxis:ee,yaxis:J,trace:K,connectGaps:K.connectgaps,baseTolerance:Math.max(ae.width||1,3)/4,shape:ae.shape,backoff:ae.backoff,simplify:ae.simplify,fill:K.fill}),le=K._polygons=new Array(Te.length),H=0;H<Te.length;H++)K._polygons[H]=x(Te[H]);Te.length&&(se=Te[0][0],ue=Te[Te.length-1],pe=ue[ue.length-1]),de=function(tt){return function(Ct){if(ke=Fe(Ct),Ne=we(Ct),Ve?X?(Ve+="L"+ke.substr(1),Oe=Ne+("L"+Oe.substr(1))):(Ve+="Z"+ke,Oe=Ne+"Z"+Oe):(Ve=ke,Oe=Ne),d.hasLines(K)){var Gt=m.select(this);if(Gt.datum(N),tt)P(Gt.style("opacity",0).attr("d",ke).call(u.lineGroupStyle)).style("opacity",1);else{var Yt=P(Gt);Yt.attr("d",ke),u.singleLineStyle(N,Yt)}}}}}var Me=ge.selectAll(".js-line").data(Te);P(Me.exit()).style("opacity",0).remove(),Me.each(de(!1)),Me.enter().append("path").classed("js-line",!0).style("vector-effect",F?"none":"non-scaling-stroke").call(u.lineGroupStyle).each(de(!0)),u.setClipUrl(Me,D.layerClipId,S);function Re(tt){P(tt).attr("d","M0,0Z")}Te.length?(ne?(ne.datum(N),se&&pe&&(X?(X==="y"?se[1]=pe[1]=J.c2p(0,!0):X==="x"&&(se[0]=pe[0]=ee.c2p(0,!0)),P(ne).attr("d","M"+pe+"L"+se+"L"+Ve.substr(1)).call(u.singleFillStyle,S)):P(ne).attr("d",Ve+"Z").call(u.singleFillStyle,S))):fe&&(K.fill.substr(0,6)==="tonext"&&Ve&&ye?(K.fill==="tonext"?P(fe).attr("d",Ve+"Z"+ye+"Z").call(u.singleFillStyle,S):P(fe).attr("d",Ve+"L"+ye.substr(1)+"Z").call(u.singleFillStyle,S),K._polygons=K._polygons.concat(Ce)):(Re(fe),K._polygons=null)),K._prevRevpath=Oe,K._prevPolygons=le):(ne?Re(ne):fe&&Re(fe),K._polygons=K._prevRevpath=K._prevPolygons=null);function ze(tt){return tt.filter(function(Ct){return!Ct.gap&&Ct.vis})}function We(tt){return tt.filter(function(Ct){return Ct.vis})}function ot(tt){return tt.filter(function(Ct){return!Ct.gap})}function dt(tt){return tt.id}function Ge(tt){if(tt.ids)return dt}function Xe(){return!1}function qe(tt,Ct,Gt){var Yt,Nt,Ft,pn=Gt[0].trace,_n=d.hasMarkers(pn),sn=d.hasText(pn),Zn=Ge(pn),an=Xe,Cn=Xe;if(_n||sn){var jn=i,Wn=pn.stackgroup,wn=Wn&&S._fullLayout._scatterStackOpts[ee._id+J._id][Wn].stackgaps==="infer zero";pn.marker.maxdisplayed||pn._needsCull?jn=wn?We:ze:Wn&&!wn&&(jn=ot),_n&&(an=jn),sn&&(Cn=jn)}Nt=tt.selectAll("path.point"),Yt=Nt.data(an,Zn);var lt=Yt.enter().append("path").classed("point",!0);j&&lt.call(u.pointStyle,pn,S).call(u.translatePoints,ee,J).style("opacity",0).transition().style("opacity",1),Yt.order();var ft;_n&&(ft=u.makePointStyleFns(pn)),Yt.each(function(wt){var vt=m.select(this),$t=P(vt);Ft=u.translatePoint(wt,$t,ee,J),Ft?(u.singlePointStyle(wt,$t,pn,ft,S),D.layerClipId&&u.hideOutsideRangePoint(wt,$t,ee,J,pn.xcalendar,pn.ycalendar),pn.customdata&&vt.classed("plotly-customdata",wt.data!==null&&wt.data!==void 0)):$t.remove()}),j?Yt.exit().transition().style("opacity",0).remove():Yt.exit().remove(),Nt=Ct.selectAll("g"),Yt=Nt.data(Cn,Zn),Yt.enter().append("g").classed("textpoint",!0).append("text"),Yt.order(),Yt.each(function(wt){var vt=m.select(this),$t=P(vt.select("text"));Ft=u.translatePoint(wt,$t,ee,J),Ft?D.layerClipId&&u.hideOutsideRangePoint(wt,vt,ee,J,pn.xcalendar,pn.ycalendar):vt.remove()}),Yt.selectAll("text").call(u.textPointStyle,pn,S).each(function(wt){var vt=ee.c2p(wt.x),$t=J.c2p(wt.y);m.select(this).selectAll("tspan.line").each(function(){P(m.select(this)).attr({x:vt,y:$t})})}),Yt.exit().remove()}Se.datum(N),ce.datum(N),qe(Se,ce,N);var gt=K.cliponaxis===!1,ut=gt?null:D.layerClipId;u.setClipUrl(Se,ut,S),u.setClipUrl(ce,ut,S)}function $(S,O,D,N,M){var k=D.xaxis,R=D.yaxis,F=m.extent(l.simpleMap(k.range,k.r2c)),H=m.extent(l.simpleMap(R.range,R.r2c)),j=N[0].trace;if(d.hasMarkers(j)){var P=j.marker.maxdisplayed;if(P!==0){var ee=N.filter(function(Q){return Q.x>=F[0]&&Q.x<=F[1]&&Q.y>=H[0]&&Q.y<=H[1]}),J=Math.ceil(ee.length/P),K=0;M.forEach(function(Q,he){var ge=Q[0].trace;d.hasMarkers(ge)&&ge.marker.maxdisplayed>0&&he<O&&K++});var ae=Math.round(K*J/3+Math.floor(K/3)*J/7.1);N.forEach(function(Q){delete Q.vis}),ee.forEach(function(Q,he){Math.round((he+ae)%J)===0&&(Q.vis=!0)})}}}},8002:function(L,A,s){var m=s(4098);L.exports=function(l,c){var i=l.cd,u=l.xaxis,d=l.yaxis,g=[],v=i[0].trace,x,C,_,$,S=!m.hasMarkers(v)&&!m.hasText(v);if(S)return[];if(c===!1)for(x=0;x<i.length;x++)i[x].selected=0;else for(x=0;x<i.length;x++)C=i[x],_=u.c2p(C.x),$=d.c2p(C.y),C.i!==null&&c.contains([_,$],!1,x,l)?(g.push({pointNumber:C.i,x:u.c2d(C.x),y:d.c2d(C.y)}),C.selected=1):C.selected=0;return g}},565:function(L){var A=["orientation","groupnorm","stackgaps"];L.exports=function(m,h,l,c){var i=l._scatterStackOpts,u=c("stackgroup");if(u){var d=h.xaxis+h.yaxis,g=i[d];g||(g=i[d]={});var v=g[u],x=!1;v?v.traces.push(h):(v=g[u]={traceIndices:[],traces:[h]},x=!0);for(var C={orientation:h.x&&!h.y?"h":"v"},_=0;_<A.length;_++){var $=A[_],S=$+"Found";if(!v[S]){var O=m[$]!==void 0,D=$==="orientation";if((O||x)&&(v[$]=c($,C[$]),D&&(v.fillDflt=v[$]==="h"?"tonextx":"tonexty"),O&&(v[S]=!0,!x&&(delete v.traces[0][$],D))))for(var N=0;N<v.traces.length-1;N++){var M=v.traces[N];M._input.fill!==M.fill&&(M.fill=v.fillDflt)}}}return v}}},6296:function(L,A,s){var m=s(9898),h=s(1424),l=s(3972);function c(g){var v=m.select(g).selectAll("g.trace.scatter");v.style("opacity",function(x){return x[0].trace.opacity}),v.selectAll("g.points").each(function(x){var C=m.select(this),_=x.trace||x[0].trace;i(C,_,g)}),v.selectAll("g.text").each(function(x){var C=m.select(this),_=x.trace||x[0].trace;u(C,_,g)}),v.selectAll("g.trace path.js-line").call(h.lineGroupStyle),v.selectAll("g.trace path.js-fill").call(h.fillGroupStyle,g),l.getComponentMethod("errorbars","style")(v)}function i(g,v,x){h.pointStyle(g.selectAll("path.point"),v,x)}function u(g,v,x){h.textPointStyle(g.selectAll("text"),v,x)}function d(g,v,x){var C=v[0].trace;C.selectedpoints?(h.selectedPointStyle(x.selectAll("path.point"),C),h.selectedTextStyle(x.selectAll("text"),C)):(i(x,C,g),u(x,C,g))}L.exports={style:c,stylePoints:i,styleText:u,styleOnSelect:d}},4098:function(L,A,s){var m=s(1828);L.exports={hasLines:function(h){return h.visible&&h.mode&&h.mode.indexOf("lines")!==-1},hasMarkers:function(h){return h.visible&&(h.mode&&h.mode.indexOf("markers")!==-1||h.type==="splom")},hasText:function(h){return h.visible&&h.mode&&h.mode.indexOf("text")!==-1},isBubble:function(h){return m.isPlainObject(h.marker)&&m.isArrayOrTypedArray(h.marker.size)}}},2410:function(L,A,s){var m=s(1828);L.exports=function(h,l,c,i,u){u=u||{},i("textposition"),m.coerceFont(i,"textfont",u.font||c.font),u.noSelect||(i("selected.textfont.color"),i("unselected.textfont.color"))}},7513:function(L,A,s){var m=s(1828),h=s(3972);L.exports=function(c,i,u,d){var g=d("x"),v=d("y"),x,C=h.getComponentMethod("calendars","handleTraceDefaults");if(C(c,i,["x","y"],u),g){var _=m.minRowLength(g);v?x=Math.min(_,m.minRowLength(v)):(x=_,d("y0"),d("dy"))}else{if(!v)return 0;x=m.minRowLength(v),d("x0"),d("dx")}return i._length=x,x}},2887:function(L,A,s){var m=s(9298),h=s(1828),l=s(6281),c=s(9344).p,i=s(606).BADNUM;A.moduleType="transform",A.name="aggregate";var u=A.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},d=u.aggregations;A.supplyDefaults=function($,S){var O={},D;function N(Q,he){return h.coerce($,O,u,Q,he)}var M=N("enabled");if(!M)return O;var k=l.findArrayAttributes(S),R={};for(D=0;D<k.length;D++)R[k[D]]=1;var F=N("groups");if(!Array.isArray(F)){if(!R[F])return O.enabled=!1,O;R[F]=0}var H=$.aggregations||[],j=O.aggregations=new Array(H.length),P;function ee(Q,he){return h.coerce(H[D],P,d,Q,he)}for(D=0;D<H.length;D++){P={_index:D};var J=ee("target"),K=ee("func"),ae=ee("enabled");ae&&J&&(R[J]||K==="count"&&R[J]===void 0)?(K==="stddev"&&ee("funcmode"),R[J]=0,j[D]=P):j[D]={enabled:!1,_index:D}}for(D=0;D<k.length;D++)R[k[D]]&&j.push({target:k[D],func:d.func.dflt,enabled:!0,_index:-1});return O},A.calcTransform=function($,S,O){if(O.enabled){var D=O.groups,N=h.getTargetArray(S,{target:D});if(N){var M,k,R,F,H={},j={},P=[],ee=c(S.transforms,O),J=N.length;for(S._length&&(J=Math.min(J,S._length)),M=0;M<J;M++)k=N[M],R=H[k],R===void 0?(H[k]=P.length,F=[M],P.push(F),j[H[k]]=ee(M)):(P[R].push(M),j[H[k]]=(j[H[k]]||[]).concat(ee(M)));O._indexToPoints=j;var K=O.aggregations;for(M=0;M<K.length;M++)g($,S,P,K[M]);typeof D=="string"&&g($,S,P,{target:D,func:"first",enabled:!0}),S._length=P.length}}};function g($,S,O,D){if(D.enabled){for(var N=D.target,M=h.nestedProperty(S,N),k=M.get(),R=m.getDataConversions($,S,N,k),F=v(D,R),H=new Array(O.length),j=0;j<O.length;j++)H[j]=F(k,O[j]);M.set(H),D.func==="count"&&h.pushUnique(S._arrayAttrs,N)}}function v($,S){var O=$.func,D=S.d2c,N=S.c2d;switch(O){case"count":return x;case"first":return C;case"last":return _;case"sum":return function(M,k){for(var R=0,F=0;F<k.length;F++){var H=D(M[k[F]]);H!==i&&(R+=H)}return N(R)};case"avg":return function(M,k){for(var R=0,F=0,H=0;H<k.length;H++){var j=D(M[k[H]]);j!==i&&(R+=j,F++)}return F?N(R/F):i};case"min":return function(M,k){for(var R=1/0,F=0;F<k.length;F++){var H=D(M[k[F]]);H!==i&&(R=Math.min(R,H))}return R===1/0?i:N(R)};case"max":return function(M,k){for(var R=-1/0,F=0;F<k.length;F++){var H=D(M[k[F]]);H!==i&&(R=Math.max(R,H))}return R===-1/0?i:N(R)};case"range":return function(M,k){for(var R=1/0,F=-1/0,H=0;H<k.length;H++){var j=D(M[k[H]]);j!==i&&(R=Math.min(R,j),F=Math.max(F,j))}return F===-1/0||R===1/0?i:N(F-R)};case"change":return function(M,k){var R=D(M[k[0]]),F=D(M[k[k.length-1]]);return R===i||F===i?i:N(F-R)};case"median":return function(M,k){for(var R=[],F=0;F<k.length;F++){var H=D(M[k[F]]);H!==i&&R.push(H)}if(!R.length)return i;R.sort(h.sorterAsc);var j=(R.length-1)/2;return N((R[Math.floor(j)]+R[Math.ceil(j)])/2)};case"mode":return function(M,k){for(var R={},F=0,H=i,j=0;j<k.length;j++){var P=D(M[k[j]]);if(P!==i){var ee=R[P]=(R[P]||0)+1;ee>F&&(F=ee,H=P)}}return F?N(H):i};case"rms":return function(M,k){for(var R=0,F=0,H=0;H<k.length;H++){var j=D(M[k[H]]);j!==i&&(R+=j*j,F++)}return F?N(Math.sqrt(R/F)):i};case"stddev":return function(M,k){var R=0,F=0,H=1,j=i,P;for(P=0;P<k.length&&j===i;P++)j=D(M[k[P]]);if(j===i)return i;for(;P<k.length;P++){var ee=D(M[k[P]]);if(ee!==i){var J=ee-j;R+=J,F+=J*J,H++}}var K=$.funcmode==="sample"?H-1:H;return K?Math.sqrt((F-R*R/H)/K):0}}}function x($,S){return S.length}function C($,S){return $[S[0]]}function _($,S){return $[S[S.length-1]]}},4382:function(L,A,s){var m=s(1828),h=s(3972),l=s(9298),c=s(9344).p,i=s(4808),u=i.COMPARISON_OPS,d=i.INTERVAL_OPS,g=i.SET_OPS;A.moduleType="transform",A.name="filter",A.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(u).concat(d).concat(g),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},A.supplyDefaults=function(x){var C={};function _(D,N){return m.coerce(x,C,A.attributes,D,N)}var $=_("enabled");if($){var S=_("target");if(m.isArrayOrTypedArray(S)&&S.length===0)return C.enabled=!1,C;_("preservegaps"),_("operation"),_("value");var O=h.getComponentMethod("calendars","handleDefaults");O(x,C,"valuecalendar",null),O(x,C,"targetcalendar",null)}return C},A.calcTransform=function(x,C,_){if(!_.enabled)return;var $=m.getTargetArray(C,_);if(!$)return;var S=_.target,O=$.length;C._length&&(O=Math.min(O,C._length));var D=_.targetcalendar,N=C._arrayAttrs,M=_.preservegaps;if(typeof S=="string"){var k=m.nestedProperty(C,S+"calendar").get();k&&(D=k)}var R=l.getDataToCoordFunc(x,C,S,$),F=v(_,R,D),H={},j={},P=0;function ee(ge,Se){for(var ce=0;ce<N.length;ce++){var ne=m.nestedProperty(C,N[ce]);ge(ne,Se)}}var J,K;M?(J=function(ge){H[ge.astr]=m.extendDeep([],ge.get()),ge.set(new Array(O))},K=function(ge,Se){var ce=H[ge.astr][Se];ge.get()[Se]=ce}):(J=function(ge){H[ge.astr]=m.extendDeep([],ge.get()),ge.set([])},K=function(ge,Se){var ce=H[ge.astr][Se];ge.get().push(ce)}),ee(J);for(var ae=c(C.transforms,_),Q=0;Q<O;Q++){var he=F($[Q]);he?(ee(K,Q),j[P++]=ae(Q)):M&&P++}_._indexToPoints=j,C._length=P};function v(x,C,_){var $=x.operation,S=x.value,O=Array.isArray(S);function D(R){return R.indexOf($)!==-1}var N=function(R){return C(R,0,x.valuecalendar)},M=function(R){return C(R,0,_)},k;switch(D(u)?k=N(O?S[0]:S):D(d)?k=O?[N(S[0]),N(S[1])]:[N(S),N(S)]:D(g)&&(k=O?S.map(N):[N(S)]),$){case"=":return function(R){return M(R)===k};case"!=":return function(R){return M(R)!==k};case"<":return function(R){return M(R)<k};case"<=":return function(R){return M(R)<=k};case">":return function(R){return M(R)>k};case">=":return function(R){return M(R)>=k};case"[]":return function(R){var F=M(R);return F>=k[0]&&F<=k[1]};case"()":return function(R){var F=M(R);return F>k[0]&&F<k[1]};case"[)":return function(R){var F=M(R);return F>=k[0]&&F<k[1]};case"(]":return function(R){var F=M(R);return F>k[0]&&F<=k[1]};case"][":return function(R){var F=M(R);return F<=k[0]||F>=k[1]};case")(":return function(R){var F=M(R);return F<k[0]||F>k[1]};case"](":return function(R){var F=M(R);return F<=k[0]||F>k[1]};case")[":return function(R){var F=M(R);return F<k[0]||F>=k[1]};case"{}":return function(R){return k.indexOf(M(R))!==-1};case"}{":return function(R){return k.indexOf(M(R))===-1}}}},3102:function(L,A,s){var m=s(1828),h=s(6281),l=s(4875),c=s(9344).p;A.moduleType="transform",A.name="groupby",A.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},A.supplyDefaults=function(u,d,g){var v,x={};function C(N,M){return m.coerce(u,x,A.attributes,N,M)}var _=C("enabled");if(!_)return x;C("groups"),C("nameformat",g._dataLength>1?"%{group} (%{trace})":"%{group}");var $=u.styles,S=x.styles=[];if($)for(v=0;v<$.length;v++){var O=S[v]={};m.coerce($[v],S[v],A.attributes.styles,"target");var D=m.coerce($[v],S[v],A.attributes.styles,"value");m.isPlainObject(D)?O.value=m.extendDeep({},D):D&&delete O.value}return x},A.transform=function(u,d){var g,v,x,C=[];for(v=0;v<u.length;v++)for(g=i(u[v],d),x=0;x<g.length;x++)C.push(g[x]);return C};function i(u,d){var g,v,x,C,_,$,S,O,D,N,M=d.transform,k=d.transformIndex,R=u.transforms[k].groups,F=c(u.transforms,M);if(!m.isArrayOrTypedArray(R)||R.length===0)return[u];var H=m.filterUnique(R),j=new Array(H.length),P=R.length,ee=h.findArrayAttributes(u),J=M.styles||[],K={};for(g=0;g<J.length;g++)K[J[g].target]=J[g].value;M.styles&&(N=m.keyedContainer(M,"styles","target","value.name"));var ae={},Q={};for(g=0;g<H.length;g++){$=H[g],ae[$]=g,Q[$]=0,S=j[g]=m.extendDeepNoArrays({},u),S._group=$,S.transforms[k]._indexToPoints={};var he=null;for(N&&(he=N.get($)),he||he===""?S.name=he:S.name=m.templateString(M.nameformat,{trace:u.name,group:$}),O=S.transforms,S.transforms=[],v=0;v<O.length;v++)S.transforms[v]=m.extendDeepNoArrays({},O[v]);for(v=0;v<ee.length;v++)m.nestedProperty(S,ee[v]).set([])}for(x=0;x<ee.length;x++){for(C=ee[x],v=0,D=[];v<H.length;v++)D[v]=m.nestedProperty(j[v],C).get();for(_=m.nestedProperty(u,C).get(),v=0;v<P;v++)D[ae[R[v]]].push(_[v])}for(v=0;v<P;v++){S=j[ae[R[v]]];var ge=S.transforms[k]._indexToPoints;ge[Q[R[v]]]=F(v),Q[R[v]]++}for(g=0;g<H.length;g++)$=H[g],S=j[g],l.clearExpandedTraceDefaultColors(S),S=m.extendDeepNoArrays(S,K[$]||{});return j}},9344:function(L,A){A.p=function(s,m){for(var h,l,c=0;c<s.length&&(h=s[c],h!==m);c++)!h._indexToPoints||h.enabled===!1||(l=h._indexToPoints);var i=l?function(u){return l[u]}:function(u){return[u]};return i}},2275:function(L,A,s){var m=s(1828),h=s(9298),l=s(9344).p,c=s(606).BADNUM;A.moduleType="transform",A.name="sort",A.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},A.supplyDefaults=function(d){var g={};function v(C,_){return m.coerce(d,g,A.attributes,C,_)}var x=v("enabled");return x&&(v("target"),v("order")),g},A.calcTransform=function(d,g,v){if(v.enabled){var x=m.getTargetArray(g,v);if(x){var C=v.target,_=x.length;g._length&&(_=Math.min(_,g._length));var $=g._arrayAttrs,S=h.getDataToCoordFunc(d,g,C,x),O=i(v,x,S,_),D=l(g.transforms,v),N={},M,k;for(M=0;M<$.length;M++){var R=m.nestedProperty(g,$[M]),F=R.get(),H=new Array(_);for(k=0;k<_;k++)H[k]=F[O[k]];R.set(H)}for(k=0;k<_;k++)N[k]=D(O[k]);v._indexToPoints=N,g._length=_}}};function i(d,g,v,x){var C=new Array(x),_=new Array(x),$;for($=0;$<x;$++)C[$]={v:g[$],i:$};for(C.sort(u(d,v)),$=0;$<x;$++)_[$]=C[$].i;return _}function u(d,g){switch(d.order){case"ascending":return function(v,x){var C=g(v.v),_=g(x.v);return C===c?1:_===c?-1:C-_};case"descending":return function(v,x){var C=g(v.v),_=g(x.v);return C===c?1:_===c?-1:_-C}}}},1506:function(L,A){A.version="2.26.2"},5791:function(L){L.exports=h,L.exports.isMobile=h,L.exports.default=h;var A=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,s=/CrOS/,m=/android|ipad|playbook|silk/i;function h(l){l||(l={});var c=l.ua;if(!c&&typeof navigator<"u"&&(c=navigator.userAgent),c&&c.headers&&typeof c.headers["user-agent"]=="string"&&(c=c.headers["user-agent"]),typeof c!="string")return!1;var i=A.test(c)&&!s.test(c)||!!l.tablet&&m.test(c);return!i&&l.tablet&&l.featureDetect&&navigator&&navigator.maxTouchPoints>1&&c.indexOf("Macintosh")!==-1&&c.indexOf("Safari")!==-1&&(i=!0),i}},9898:function(L,A,s){var m,h;(function(){var l={version:"3.8.0"},c=[].slice,i=function(U){return c.call(U)},u=self.document;function d(U){return U&&(U.ownerDocument||U.document||U).documentElement}function g(U){return U&&(U.ownerDocument&&U.ownerDocument.defaultView||U.document&&U||U.defaultView)}if(u)try{i(u.documentElement.childNodes)[0].nodeType}catch{i=function(q){for(var ve=q.length,Ae=new Array(ve);ve--;)Ae[ve]=q[ve];return Ae}}if(Date.now||(Date.now=function(){return+new Date}),u)try{u.createElement("DIV").style.setProperty("opacity",0,"")}catch{var v=this.Element.prototype,x=v.setAttribute,C=v.setAttributeNS,_=this.CSSStyleDeclaration.prototype,$=_.setProperty;v.setAttribute=function(q,ve){x.call(this,q,ve+"")},v.setAttributeNS=function(q,ve,Ae){C.call(this,q,ve,Ae+"")},_.setProperty=function(q,ve,Ae){$.call(this,q,ve+"",Ae)}}l.ascending=S;function S(U,q){return U<q?-1:U>q?1:U>=q?0:NaN}l.descending=function(U,q){return q<U?-1:q>U?1:q>=U?0:NaN},l.min=function(U,q){var ve=-1,Ae=U.length,_e,Ie;if(arguments.length===1){for(;++ve<Ae;)if((Ie=U[ve])!=null&&Ie>=Ie){_e=Ie;break}for(;++ve<Ae;)(Ie=U[ve])!=null&&_e>Ie&&(_e=Ie)}else{for(;++ve<Ae;)if((Ie=q.call(U,U[ve],ve))!=null&&Ie>=Ie){_e=Ie;break}for(;++ve<Ae;)(Ie=q.call(U,U[ve],ve))!=null&&_e>Ie&&(_e=Ie)}return _e},l.max=function(U,q){var ve=-1,Ae=U.length,_e,Ie;if(arguments.length===1){for(;++ve<Ae;)if((Ie=U[ve])!=null&&Ie>=Ie){_e=Ie;break}for(;++ve<Ae;)(Ie=U[ve])!=null&&Ie>_e&&(_e=Ie)}else{for(;++ve<Ae;)if((Ie=q.call(U,U[ve],ve))!=null&&Ie>=Ie){_e=Ie;break}for(;++ve<Ae;)(Ie=q.call(U,U[ve],ve))!=null&&Ie>_e&&(_e=Ie)}return _e},l.extent=function(U,q){var ve=-1,Ae=U.length,_e,Ie,Qe;if(arguments.length===1){for(;++ve<Ae;)if((Ie=U[ve])!=null&&Ie>=Ie){_e=Qe=Ie;break}for(;++ve<Ae;)(Ie=U[ve])!=null&&(_e>Ie&&(_e=Ie),Qe<Ie&&(Qe=Ie))}else{for(;++ve<Ae;)if((Ie=q.call(U,U[ve],ve))!=null&&Ie>=Ie){_e=Qe=Ie;break}for(;++ve<Ae;)(Ie=q.call(U,U[ve],ve))!=null&&(_e>Ie&&(_e=Ie),Qe<Ie&&(Qe=Ie))}return[_e,Qe]};function O(U){return U===null?NaN:+U}function D(U){return!isNaN(U)}l.sum=function(U,q){var ve=0,Ae=U.length,_e,Ie=-1;if(arguments.length===1)for(;++Ie<Ae;)D(_e=+U[Ie])&&(ve+=_e);else for(;++Ie<Ae;)D(_e=+q.call(U,U[Ie],Ie))&&(ve+=_e);return ve},l.mean=function(U,q){var ve=0,Ae=U.length,_e,Ie=-1,Qe=Ae;if(arguments.length===1)for(;++Ie<Ae;)D(_e=O(U[Ie]))?ve+=_e:--Qe;else for(;++Ie<Ae;)D(_e=O(q.call(U,U[Ie],Ie)))?ve+=_e:--Qe;if(Qe)return ve/Qe},l.quantile=function(U,q){var ve=(U.length-1)*q+1,Ae=Math.floor(ve),_e=+U[Ae-1],Ie=ve-Ae;return Ie?_e+Ie*(U[Ae]-_e):_e},l.median=function(U,q){var ve=[],Ae=U.length,_e,Ie=-1;if(arguments.length===1)for(;++Ie<Ae;)D(_e=O(U[Ie]))&&ve.push(_e);else for(;++Ie<Ae;)D(_e=O(q.call(U,U[Ie],Ie)))&&ve.push(_e);if(ve.length)return l.quantile(ve.sort(S),.5)},l.variance=function(U,q){var ve=U.length,Ae=0,_e,Ie,Qe=0,Ye=-1,rt=0;if(arguments.length===1)for(;++Ye<ve;)D(_e=O(U[Ye]))&&(Ie=_e-Ae,Ae+=Ie/++rt,Qe+=Ie*(_e-Ae));else for(;++Ye<ve;)D(_e=O(q.call(U,U[Ye],Ye)))&&(Ie=_e-Ae,Ae+=Ie/++rt,Qe+=Ie*(_e-Ae));if(rt>1)return Qe/(rt-1)},l.deviation=function(){var U=l.variance.apply(this,arguments);return U&&Math.sqrt(U)};function N(U){return{left:function(q,ve,Ae,_e){for(arguments.length<3&&(Ae=0),arguments.length<4&&(_e=q.length);Ae<_e;){var Ie=Ae+_e>>>1;U(q[Ie],ve)<0?Ae=Ie+1:_e=Ie}return Ae},right:function(q,ve,Ae,_e){for(arguments.length<3&&(Ae=0),arguments.length<4&&(_e=q.length);Ae<_e;){var Ie=Ae+_e>>>1;U(q[Ie],ve)>0?_e=Ie:Ae=Ie+1}return Ae}}}var M=N(S);l.bisectLeft=M.left,l.bisect=l.bisectRight=M.right,l.bisector=function(U){return N(U.length===1?function(q,ve){return S(U(q),ve)}:U)},l.shuffle=function(U,q,ve){(Ae=arguments.length)<3&&(ve=U.length,Ae<2&&(q=0));for(var Ae=ve-q,_e,Ie;Ae;)Ie=Math.random()*Ae--|0,_e=U[Ae+q],U[Ae+q]=U[Ie+q],U[Ie+q]=_e;return U},l.permute=function(U,q){for(var ve=q.length,Ae=new Array(ve);ve--;)Ae[ve]=U[q[ve]];return Ae},l.pairs=function(U){for(var q=0,ve=U.length-1,Ae=U[0],_e=new Array(ve<0?0:ve);q<ve;)_e[q]=[Ae,Ae=U[++q]];return _e},l.transpose=function(U){if(!(Ie=U.length))return[];for(var q=-1,ve=l.min(U,k),Ae=new Array(ve);++q<ve;)for(var _e=-1,Ie,Qe=Ae[q]=new Array(Ie);++_e<Ie;)Qe[_e]=U[_e][q];return Ae};function k(U){return U.length}l.zip=function(){return l.transpose(arguments)},l.keys=function(U){var q=[];for(var ve in U)q.push(ve);return q},l.values=function(U){var q=[];for(var ve in U)q.push(U[ve]);return q},l.entries=function(U){var q=[];for(var ve in U)q.push({key:ve,value:U[ve]});return q},l.merge=function(U){for(var q=U.length,ve,Ae=-1,_e=0,Ie,Qe;++Ae<q;)_e+=U[Ae].length;for(Ie=new Array(_e);--q>=0;)for(Qe=U[q],ve=Qe.length;--ve>=0;)Ie[--_e]=Qe[ve];return Ie};var R=Math.abs;l.range=function(U,q,ve){if(arguments.length<3&&(ve=1,arguments.length<2&&(q=U,U=0)),(q-U)/ve===1/0)throw new Error("infinite range");var Ae=[],_e=F(R(ve)),Ie=-1,Qe;if(U*=_e,q*=_e,ve*=_e,ve<0)for(;(Qe=U+ve*++Ie)>q;)Ae.push(Qe/_e);else for(;(Qe=U+ve*++Ie)<q;)Ae.push(Qe/_e);return Ae};function F(U){for(var q=1;U*q%1;)q*=10;return q}function H(U,q){for(var ve in q)Object.defineProperty(U.prototype,ve,{value:q[ve],enumerable:!1})}l.map=function(U,q){var ve=new j;if(U instanceof j)U.forEach(function(Ye,rt){ve.set(Ye,rt)});else if(Array.isArray(U)){var Ae=-1,_e=U.length,Ie;if(arguments.length===1)for(;++Ae<_e;)ve.set(Ae,U[Ae]);else for(;++Ae<_e;)ve.set(q.call(U,Ie=U[Ae],Ae),Ie)}else for(var Qe in U)ve.set(Qe,U[Qe]);return ve};function j(){this._=Object.create(null)}var P="__proto__",ee="\0";H(j,{has:ae,get:function(U){return this._[J(U)]},set:function(U,q){return this._[J(U)]=q},remove:Q,keys:he,values:function(){var U=[];for(var q in this._)U.push(this._[q]);return U},entries:function(){var U=[];for(var q in this._)U.push({key:K(q),value:this._[q]});return U},size:ge,empty:Se,forEach:function(U){for(var q in this._)U.call(this,K(q),this._[q])}});function J(U){return(U+="")===P||U[0]===ee?ee+U:U}function K(U){return(U+="")[0]===ee?U.slice(1):U}function ae(U){return J(U)in this._}function Q(U){return(U=J(U))in this._&&delete this._[U]}function he(){var U=[];for(var q in this._)U.push(K(q));return U}function ge(){var U=0;for(var q in this._)++U;return U}function Se(){for(var U in this._)return!1;return!0}l.nest=function(){var U={},q=[],ve=[],Ae,_e;function Ie(Ye,rt,yt){if(yt>=q.length)return _e?_e.call(U,rt):Ae?rt.sort(Ae):rt;for(var bt=-1,Vt=rt.length,Wt=q[yt++],mn,An,Kt,en=new j,dn;++bt<Vt;)(dn=en.get(mn=Wt(An=rt[bt])))?dn.push(An):en.set(mn,[An]);return Ye?(An=Ye(),Kt=function(Rn,Mn){An.set(Rn,Ie(Ye,Mn,yt))}):(An={},Kt=function(Rn,Mn){An[Rn]=Ie(Ye,Mn,yt)}),en.forEach(Kt),An}function Qe(Ye,rt){if(rt>=q.length)return Ye;var yt=[],bt=ve[rt++];return Ye.forEach(function(Vt,Wt){yt.push({key:Vt,values:Qe(Wt,rt)})}),bt?yt.sort(function(Vt,Wt){return bt(Vt.key,Wt.key)}):yt}return U.map=function(Ye,rt){return Ie(rt,Ye,0)},U.entries=function(Ye){return Qe(Ie(l.map,Ye,0),0)},U.key=function(Ye){return q.push(Ye),U},U.sortKeys=function(Ye){return ve[q.length-1]=Ye,U},U.sortValues=function(Ye){return Ae=Ye,U},U.rollup=function(Ye){return _e=Ye,U},U},l.set=function(U){var q=new ce;if(U)for(var ve=0,Ae=U.length;ve<Ae;++ve)q.add(U[ve]);return q};function ce(){this._=Object.create(null)}H(ce,{has:ae,add:function(U){return this._[J(U+="")]=!0,U},remove:Q,values:he,size:ge,empty:Se,forEach:function(U){for(var q in this._)U.call(this,K(q))}}),l.behavior={};function ne(U){return U}l.rebind=function(U,q){for(var ve=1,Ae=arguments.length,_e;++ve<Ae;)U[_e=arguments[ve]]=fe(U,q,q[_e]);return U};function fe(U,q,ve){return function(){var Ae=ve.apply(q,arguments);return Ae===q?U:Ae}}function X(U,q){if(q in U)return q;q=q.charAt(0).toUpperCase()+q.slice(1);for(var ve=0,Ae=ye.length;ve<Ae;++ve){var _e=ye[ve]+q;if(_e in U)return _e}}var ye=["webkit","ms","moz","Moz","o","O"];function Ce(){}l.dispatch=function(){for(var U=new $e,q=-1,ve=arguments.length;++q<ve;)U[arguments[q]]=ke(U);return U};function $e(){}$e.prototype.on=function(U,q){var ve=U.indexOf("."),Ae="";if(ve>=0&&(Ae=U.slice(ve+1),U=U.slice(0,ve)),U)return arguments.length<2?this[U].on(Ae):this[U].on(Ae,q);if(arguments.length===2){if(q==null)for(U in this)this.hasOwnProperty(U)&&this[U].on(Ae,null);return this}};function ke(U){var q=[],ve=new j;function Ae(){for(var _e=q,Ie=-1,Qe=_e.length,Ye;++Ie<Qe;)(Ye=_e[Ie].on)&&Ye.apply(this,arguments);return U}return Ae.on=function(_e,Ie){var Qe=ve.get(_e),Ye;return arguments.length<2?Qe&&Qe.on:(Qe&&(Qe.on=null,q=q.slice(0,Ye=q.indexOf(Qe)).concat(q.slice(Ye+1)),ve.remove(_e)),Ie&&q.push(ve.set(_e,{on:Ie})),U)},Ae}l.event=null;function Ne(){l.event.preventDefault()}function Ve(){for(var U=l.event,q;q=U.sourceEvent;)U=q;return U}function Oe(U){for(var q=new $e,ve=0,Ae=arguments.length;++ve<Ae;)q[arguments[ve]]=ke(q);return q.of=function(_e,Ie){return function(Qe){try{var Ye=Qe.sourceEvent=l.event;Qe.target=U,l.event=Qe,q[Qe.type].apply(_e,Ie)}finally{l.event=Ye}}},q}l.requote=function(U){return U.replace(Fe,"\\$&")};var Fe=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ie={}.__proto__?function(U,q){U.__proto__=q}:function(U,q){for(var ve in q)U[ve]=q[ve]};function we(U){return ie(U,le),U}var se=function(U,q){return q.querySelector(U)},ue=function(U,q){return q.querySelectorAll(U)},pe=function(U,q){var ve=U.matches||U[X(U,"matchesSelector")];return pe=function(Ae,_e){return ve.call(Ae,_e)},pe(U,q)};typeof Sizzle=="function"&&(se=function(U,q){return Sizzle(U,q)[0]||null},ue=Sizzle,pe=Sizzle.matchesSelector),l.selection=function(){return l.select(u.documentElement)};var le=l.selection.prototype=[];le.select=function(U){var q=[],ve,Ae,_e,Ie;U=Te(U);for(var Qe=-1,Ye=this.length;++Qe<Ye;){q.push(ve=[]),ve.parentNode=(_e=this[Qe]).parentNode;for(var rt=-1,yt=_e.length;++rt<yt;)(Ie=_e[rt])?(ve.push(Ae=U.call(Ie,Ie.__data__,rt,Qe)),Ae&&"__data__"in Ie&&(Ae.__data__=Ie.__data__)):ve.push(null)}return we(q)};function Te(U){return typeof U=="function"?U:function(){return se(U,this)}}le.selectAll=function(U){var q=[],ve,Ae;U=de(U);for(var _e=-1,Ie=this.length;++_e<Ie;)for(var Qe=this[_e],Ye=-1,rt=Qe.length;++Ye<rt;)(Ae=Qe[Ye])&&(q.push(ve=i(U.call(Ae,Ae.__data__,Ye,_e))),ve.parentNode=Ae);return we(q)};function de(U){return typeof U=="function"?U:function(){return ue(U,this)}}var Me="http://www.w3.org/1999/xhtml",Re={svg:"http://www.w3.org/2000/svg",xhtml:Me,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};l.ns={prefix:Re,qualify:function(U){var q=U.indexOf(":"),ve=U;return q>=0&&(ve=U.slice(0,q))!=="xmlns"&&(U=U.slice(q+1)),Re.hasOwnProperty(ve)?{space:Re[ve],local:U}:U}},le.attr=function(U,q){if(arguments.length<2){if(typeof U=="string"){var ve=this.node();return U=l.ns.qualify(U),U.local?ve.getAttributeNS(U.space,U.local):ve.getAttribute(U)}for(q in U)this.each(ze(q,U[q]));return this}return this.each(ze(U,q))};function ze(U,q){U=l.ns.qualify(U);function ve(){this.removeAttribute(U)}function Ae(){this.removeAttributeNS(U.space,U.local)}function _e(){this.setAttribute(U,q)}function Ie(){this.setAttributeNS(U.space,U.local,q)}function Qe(){var rt=q.apply(this,arguments);rt==null?this.removeAttribute(U):this.setAttribute(U,rt)}function Ye(){var rt=q.apply(this,arguments);rt==null?this.removeAttributeNS(U.space,U.local):this.setAttributeNS(U.space,U.local,rt)}return q==null?U.local?Ae:ve:typeof q=="function"?U.local?Ye:Qe:U.local?Ie:_e}function We(U){return U.trim().replace(/\s+/g," ")}le.classed=function(U,q){if(arguments.length<2){if(typeof U=="string"){var ve=this.node(),Ae=(U=dt(U)).length,_e=-1;if(q=ve.classList){for(;++_e<Ae;)if(!q.contains(U[_e]))return!1}else for(q=ve.getAttribute("class");++_e<Ae;)if(!ot(U[_e]).test(q))return!1;return!0}for(q in U)this.each(Ge(q,U[q]));return this}return this.each(Ge(U,q))};function ot(U){return new RegExp("(?:^|\\s+)"+l.requote(U)+"(?:\\s+|$)","g")}function dt(U){return(U+"").trim().split(/^|\s+/)}function Ge(U,q){U=dt(U).map(Xe);var ve=U.length;function Ae(){for(var Ie=-1;++Ie<ve;)U[Ie](this,q)}function _e(){for(var Ie=-1,Qe=q.apply(this,arguments);++Ie<ve;)U[Ie](this,Qe)}return typeof q=="function"?_e:Ae}function Xe(U){var q=ot(U);return function(ve,Ae){if(_e=ve.classList)return Ae?_e.add(U):_e.remove(U);var _e=ve.getAttribute("class")||"";Ae?(q.lastIndex=0,q.test(_e)||ve.setAttribute("class",We(_e+" "+U))):ve.setAttribute("class",We(_e.replace(q," ")))}}le.style=function(U,q,ve){var Ae=arguments.length;if(Ae<3){if(typeof U!="string"){Ae<2&&(q="");for(ve in U)this.each(qe(ve,U[ve],q));return this}if(Ae<2){var _e=this.node();return g(_e).getComputedStyle(_e,null).getPropertyValue(U)}ve=""}return this.each(qe(U,q,ve))};function qe(U,q,ve){function Ae(){this.style.removeProperty(U)}function _e(){this.style.setProperty(U,q,ve)}function Ie(){var Qe=q.apply(this,arguments);Qe==null?this.style.removeProperty(U):this.style.setProperty(U,Qe,ve)}return q==null?Ae:typeof q=="function"?Ie:_e}le.property=function(U,q){if(arguments.length<2){if(typeof U=="string")return this.node()[U];for(q in U)this.each(gt(q,U[q]));return this}return this.each(gt(U,q))};function gt(U,q){function ve(){delete this[U]}function Ae(){this[U]=q}function _e(){var Ie=q.apply(this,arguments);Ie==null?delete this[U]:this[U]=Ie}return q==null?ve:typeof q=="function"?_e:Ae}le.text=function(U){return arguments.length?this.each(typeof U=="function"?function(){var q=U.apply(this,arguments);this.textContent=q??""}:U==null?function(){this.textContent=""}:function(){this.textContent=U}):this.node().textContent},le.html=function(U){return arguments.length?this.each(typeof U=="function"?function(){var q=U.apply(this,arguments);this.innerHTML=q??""}:U==null?function(){this.innerHTML=""}:function(){this.innerHTML=U}):this.node().innerHTML},le.append=function(U){return U=ut(U),this.select(function(){return this.appendChild(U.apply(this,arguments))})};function ut(U){function q(){var Ae=this.ownerDocument,_e=this.namespaceURI;return _e===Me&&Ae.documentElement.namespaceURI===Me?Ae.createElement(U):Ae.createElementNS(_e,U)}function ve(){return this.ownerDocument.createElementNS(U.space,U.local)}return typeof U=="function"?U:(U=l.ns.qualify(U)).local?ve:q}le.insert=function(U,q){return U=ut(U),q=Te(q),this.select(function(){return this.insertBefore(U.apply(this,arguments),q.apply(this,arguments)||null)})},le.remove=function(){return this.each(tt)};function tt(){var U=this.parentNode;U&&U.removeChild(this)}le.data=function(U,q){var ve=-1,Ae=this.length,_e,Ie;if(!arguments.length){for(U=new Array(Ae=(_e=this[0]).length);++ve<Ae;)(Ie=_e[ve])&&(U[ve]=Ie.__data__);return U}function Qe(bt,Vt){var Wt,mn=bt.length,An=Vt.length,Kt=Math.min(mn,An),en=new Array(An),dn=new Array(An),Rn=new Array(mn),Mn,vn;if(q){var lr=new j,zr=new Array(mn),Jr;for(Wt=-1;++Wt<mn;)(Mn=bt[Wt])&&(lr.has(Jr=q.call(Mn,Mn.__data__,Wt))?Rn[Wt]=Mn:lr.set(Jr,Mn),zr[Wt]=Jr);for(Wt=-1;++Wt<An;)(Mn=lr.get(Jr=q.call(Vt,vn=Vt[Wt],Wt)))?Mn!==!0&&(en[Wt]=Mn,Mn.__data__=vn):dn[Wt]=Ct(vn),lr.set(Jr,!0);for(Wt=-1;++Wt<mn;)Wt in zr&&lr.get(zr[Wt])!==!0&&(Rn[Wt]=bt[Wt])}else{for(Wt=-1;++Wt<Kt;)Mn=bt[Wt],vn=Vt[Wt],Mn?(Mn.__data__=vn,en[Wt]=Mn):dn[Wt]=Ct(vn);for(;Wt<An;++Wt)dn[Wt]=Ct(Vt[Wt]);for(;Wt<mn;++Wt)Rn[Wt]=bt[Wt]}dn.update=en,dn.parentNode=en.parentNode=Rn.parentNode=bt.parentNode,Ye.push(dn),rt.push(en),yt.push(Rn)}var Ye=Ft([]),rt=we([]),yt=we([]);if(typeof U=="function")for(;++ve<Ae;)Qe(_e=this[ve],U.call(_e,_e.parentNode.__data__,ve));else for(;++ve<Ae;)Qe(_e=this[ve],U);return rt.enter=function(){return Ye},rt.exit=function(){return yt},rt};function Ct(U){return{__data__:U}}le.datum=function(U){return arguments.length?this.property("__data__",U):this.property("__data__")},le.filter=function(U){var q=[],ve,Ae,_e;typeof U!="function"&&(U=Gt(U));for(var Ie=0,Qe=this.length;Ie<Qe;Ie++){q.push(ve=[]),ve.parentNode=(Ae=this[Ie]).parentNode;for(var Ye=0,rt=Ae.length;Ye<rt;Ye++)(_e=Ae[Ye])&&U.call(_e,_e.__data__,Ye,Ie)&&ve.push(_e)}return we(q)};function Gt(U){return function(){return pe(this,U)}}le.order=function(){for(var U=-1,q=this.length;++U<q;)for(var ve=this[U],Ae=ve.length-1,_e=ve[Ae],Ie;--Ae>=0;)(Ie=ve[Ae])&&(_e&&_e!==Ie.nextSibling&&_e.parentNode.insertBefore(Ie,_e),_e=Ie);return this},le.sort=function(U){U=Yt.apply(this,arguments);for(var q=-1,ve=this.length;++q<ve;)this[q].sort(U);return this.order()};function Yt(U){return arguments.length||(U=S),function(q,ve){return q&&ve?U(q.__data__,ve.__data__):!q-!ve}}le.each=function(U){return Nt(this,function(q,ve,Ae){U.call(q,q.__data__,ve,Ae)})};function Nt(U,q){for(var ve=0,Ae=U.length;ve<Ae;ve++)for(var _e=U[ve],Ie=0,Qe=_e.length,Ye;Ie<Qe;Ie++)(Ye=_e[Ie])&&q(Ye,Ie,ve);return U}le.call=function(U){var q=i(arguments);return U.apply(q[0]=this,q),this},le.empty=function(){return!this.node()},le.node=function(){for(var U=0,q=this.length;U<q;U++)for(var ve=this[U],Ae=0,_e=ve.length;Ae<_e;Ae++){var Ie=ve[Ae];if(Ie)return Ie}return null},le.size=function(){var U=0;return Nt(this,function(){++U}),U};function Ft(U){return ie(U,pn),U}var pn=[];l.selection.enter=Ft,l.selection.enter.prototype=pn,pn.append=le.append,pn.empty=le.empty,pn.node=le.node,pn.call=le.call,pn.size=le.size,pn.select=function(U){for(var q=[],ve,Ae,_e,Ie,Qe,Ye=-1,rt=this.length;++Ye<rt;){_e=(Ie=this[Ye]).update,q.push(ve=[]),ve.parentNode=Ie.parentNode;for(var yt=-1,bt=Ie.length;++yt<bt;)(Qe=Ie[yt])?(ve.push(_e[yt]=Ae=U.call(Ie.parentNode,Qe.__data__,yt,Ye)),Ae.__data__=Qe.__data__):ve.push(null)}return we(q)},pn.insert=function(U,q){return arguments.length<2&&(q=_n(this)),le.insert.call(this,U,q)};function _n(U){var q,ve;return function(Ae,_e,Ie){var Qe=U[Ie].update,Ye=Qe.length,rt;for(Ie!=ve&&(ve=Ie,q=0),_e>=q&&(q=_e+1);!(rt=Qe[q])&&++q<Ye;);return rt}}l.select=function(U){var q;return typeof U=="string"?(q=[se(U,u)],q.parentNode=u.documentElement):(q=[U],q.parentNode=d(U)),we([q])},l.selectAll=function(U){var q;return typeof U=="string"?(q=i(ue(U,u)),q.parentNode=u.documentElement):(q=i(U),q.parentNode=null),we([q])},le.on=function(U,q,ve){var Ae=arguments.length;if(Ae<3){if(typeof U!="string"){Ae<2&&(q=!1);for(ve in U)this.each(sn(ve,U[ve],q));return this}if(Ae<2)return(Ae=this.node()["__on"+U])&&Ae._;ve=!1}return this.each(sn(U,q,ve))};function sn(U,q,ve){var Ae="__on"+U,_e=U.indexOf("."),Ie=an;_e>0&&(U=U.slice(0,_e));var Qe=Zn.get(U);Qe&&(U=Qe,Ie=Cn);function Ye(){var bt=this[Ae];bt&&(this.removeEventListener(U,bt,bt.$),delete this[Ae])}function rt(){var bt=Ie(q,i(arguments));Ye.call(this),this.addEventListener(U,this[Ae]=bt,bt.$=ve),bt._=q}function yt(){var bt=new RegExp("^__on([^.]+)"+l.requote(U)+"$"),Vt;for(var Wt in this)if(Vt=Wt.match(bt)){var mn=this[Wt];this.removeEventListener(Vt[1],mn,mn.$),delete this[Wt]}}return _e?q?rt:Ye:q?Ce:yt}var Zn=l.map({mouseenter:"mouseover",mouseleave:"mouseout"});u&&Zn.forEach(function(U){"on"+U in u&&Zn.remove(U)});function an(U,q){return function(ve){var Ae=l.event;l.event=ve,q[0]=this.__data__;try{U.apply(this,q)}finally{l.event=Ae}}}function Cn(U,q){var ve=an(U,q);return function(Ae){var _e=this,Ie=Ae.relatedTarget;(!Ie||Ie!==_e&&!(Ie.compareDocumentPosition(_e)&8))&&ve.call(_e,Ae)}}var jn,Wn=0;function wn(U){var q=".dragsuppress-"+ ++Wn,ve="click"+q,Ae=l.select(g(U)).on("touchmove"+q,Ne).on("dragstart"+q,Ne).on("selectstart"+q,Ne);if(jn==null&&(jn="onselectstart"in U?!1:X(U.style,"userSelect")),jn){var _e=d(U).style,Ie=_e[jn];_e[jn]="none"}return function(Qe){if(Ae.on(q,null),jn&&(_e[jn]=Ie),Qe){var Ye=function(){Ae.on(ve,null)};Ae.on(ve,function(){Ne(),Ye()},!0),setTimeout(Ye,0)}}}l.mouse=function(U){return ft(U,Ve())};var lt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function ft(U,q){q.changedTouches&&(q=q.changedTouches[0]);var ve=U.ownerSVGElement||U;if(ve.createSVGPoint){var Ae=ve.createSVGPoint();if(lt<0){var _e=g(U);if(_e.scrollX||_e.scrollY){ve=l.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var Ie=ve[0][0].getScreenCTM();lt=!(Ie.f||Ie.e),ve.remove()}}return lt?(Ae.x=q.pageX,Ae.y=q.pageY):(Ae.x=q.clientX,Ae.y=q.clientY),Ae=Ae.matrixTransform(U.getScreenCTM().inverse()),[Ae.x,Ae.y]}var Qe=U.getBoundingClientRect();return[q.clientX-Qe.left-U.clientLeft,q.clientY-Qe.top-U.clientTop]}l.touch=function(U,q,ve){if(arguments.length<3&&(ve=q,q=Ve().changedTouches),q){for(var Ae=0,_e=q.length,Ie;Ae<_e;++Ae)if((Ie=q[Ae]).identifier===ve)return ft(U,Ie)}},l.behavior.drag=function(){var U=Oe(_e,"drag","dragstart","dragend"),q=null,ve=Ie(Ce,l.mouse,g,"mousemove","mouseup"),Ae=Ie(wt,l.touch,ne,"touchmove","touchend");function _e(){this.on("mousedown.drag",ve).on("touchstart.drag",Ae)}function Ie(Qe,Ye,rt,yt,bt){return function(){var Vt=this,Wt=l.event.target.correspondingElement||l.event.target,mn=Vt.parentNode,An=U.of(Vt,arguments),Kt=0,en=Qe(),dn=".drag"+(en==null?"":"-"+en),Rn,Mn=l.select(rt(Wt)).on(yt+dn,zr).on(bt+dn,Jr),vn=wn(Wt),lr=Ye(mn,en);q?(Rn=q.apply(Vt,arguments),Rn=[Rn.x-lr[0],Rn.y-lr[1]]):Rn=[0,0],An({type:"dragstart"});function zr(){var kr=Ye(mn,en),eo,lo;kr&&(eo=kr[0]-lr[0],lo=kr[1]-lr[1],Kt|=eo|lo,lr=kr,An({type:"drag",x:kr[0]+Rn[0],y:kr[1]+Rn[1],dx:eo,dy:lo}))}function Jr(){Ye(mn,en)&&(Mn.on(yt+dn,null).on(bt+dn,null),vn(Kt),An({type:"dragend"}))}}}return _e.origin=function(Qe){return arguments.length?(q=Qe,_e):q},l.rebind(_e,U,"on")};function wt(){return l.event.changedTouches[0].identifier}l.touches=function(U,q){return arguments.length<2&&(q=Ve().touches),q?i(q).map(function(ve){var Ae=ft(U,ve);return Ae.identifier=ve.identifier,Ae}):[]};var vt=1e-6,$t=vt*vt,Ze=Math.PI,it=2*Ze,ht=it-vt,pt=Ze/2,Tt=Ze/180,Et=180/Ze;function fn(U,q,ve){return(q[0]-U[0])*(ve[1]-U[1])-(q[1]-U[1])*(ve[0]-U[0])}function tn(U){return U>1?pt:U<-1?-pt:Math.asin(U)}function Zt(U){return((U=Math.exp(U))-1/U)/2}function Dt(U){return((U=Math.exp(U))+1/U)/2}function un(U){return((U=Math.exp(2*U))-1)/(U+1)}var Un=Math.SQRT2,tr=2,Er=4;l.interpolateZoom=function(U,q){var ve=U[0],Ae=U[1],_e=U[2],Ie=q[0],Qe=q[1],Ye=q[2],rt=Ie-ve,yt=Qe-Ae,bt=rt*rt+yt*yt,Vt,Wt;if(bt<$t)Wt=Math.log(Ye/_e)/Un,Vt=function(Rn){return[ve+Rn*rt,Ae+Rn*yt,_e*Math.exp(Un*Rn*Wt)]};else{var mn=Math.sqrt(bt),An=(Ye*Ye-_e*_e+Er*bt)/(2*_e*tr*mn),Kt=(Ye*Ye-_e*_e-Er*bt)/(2*Ye*tr*mn),en=Math.log(Math.sqrt(An*An+1)-An),dn=Math.log(Math.sqrt(Kt*Kt+1)-Kt);Wt=(dn-en)/Un,Vt=function(Rn){var Mn=Rn*Wt,vn=Dt(en),lr=_e/(tr*mn)*(vn*un(Un*Mn+en)-Zt(en));return[ve+lr*rt,Ae+lr*yt,_e*vn/Dt(Un*Mn+en)]}}return Vt.duration=Wt*1e3,Vt},l.behavior.zoom=function(){var U={x:0,y:0,k:1},q,ve,Ae,_e=[960,500],Ie=zt,Qe=250,Ye=0,rt="mousedown.zoom",yt="mousemove.zoom",bt="mouseup.zoom",Vt,Wt="touchstart.zoom",mn,An=Oe(Mn,"zoomstart","zoom","zoomend"),Kt,en,dn,Rn;Gn||(Gn="onwheel"in u?(pr=function(){return-l.event.deltaY*(l.event.deltaMode?120:1)},"wheel"):"onmousewheel"in u?(pr=function(){return l.event.wheelDelta},"mousewheel"):(pr=function(){return-l.event.detail},"MozMousePixelScroll"));function Mn($r){$r.on(rt,fo).on(Gn+".zoom",Vs).on("dblclick.zoom",is).on(Wt,Ha)}Mn.event=function($r){$r.each(function(){var _o=An.of(this,arguments),sa=U;Zf?l.select(this).transition().each("start.zoom",function(){U=this.__chart__||{x:0,y:0,k:1},lo(_o)}).tween("zoom:zoom",function(){var Ca=_e[0],As=_e[1],qs=ve?ve[0]:Ca/2,Di=ve?ve[1]:As/2,xi=l.interpolateZoom([(qs-U.x)/U.k,(Di-U.y)/U.k,Ca/U.k],[(qs-sa.x)/sa.k,(Di-sa.y)/sa.k,Ca/sa.k]);return function(xc){var Ii=xi(xc),tc=Ca/Ii[2];this.__chart__=U={x:qs-Ii[0]*tc,y:Di-Ii[1]*tc,k:tc},Ko(_o)}}).each("interrupt.zoom",function(){yo(_o)}).each("end.zoom",function(){yo(_o)}):(this.__chart__=U,lo(_o),Ko(_o),yo(_o))})},Mn.translate=function($r){return arguments.length?(U={x:+$r[0],y:+$r[1],k:U.k},eo(),Mn):[U.x,U.y]},Mn.scale=function($r){return arguments.length?(U={x:U.x,y:U.y,k:null},zr(+$r),eo(),Mn):U.k},Mn.scaleExtent=function($r){return arguments.length?(Ie=$r==null?zt:[+$r[0],+$r[1]],Mn):Ie},Mn.center=function($r){return arguments.length?(Ae=$r&&[+$r[0],+$r[1]],Mn):Ae},Mn.size=function($r){return arguments.length?(_e=$r&&[+$r[0],+$r[1]],Mn):_e},Mn.duration=function($r){return arguments.length?(Qe=+$r,Mn):Qe},Mn.x=function($r){return arguments.length?(en=$r,Kt=$r.copy(),U={x:0,y:0,k:1},Mn):en},Mn.y=function($r){return arguments.length?(Rn=$r,dn=$r.copy(),U={x:0,y:0,k:1},Mn):Rn};function vn($r){return[($r[0]-U.x)/U.k,($r[1]-U.y)/U.k]}function lr($r){return[$r[0]*U.k+U.x,$r[1]*U.k+U.y]}function zr($r){U.k=Math.max(Ie[0],Math.min(Ie[1],$r))}function Jr($r,_o){_o=lr(_o),U.x+=$r[0]-_o[0],U.y+=$r[1]-_o[1]}function kr($r,_o,sa,Ca){$r.__chart__={x:U.x,y:U.y,k:U.k},zr(Math.pow(2,Ca)),Jr(ve=_o,sa),$r=l.select($r),Qe>0&&($r=$r.transition().duration(Qe)),$r.call(Mn.event)}function eo(){en&&en.domain(Kt.range().map(function($r){return($r-U.x)/U.k}).map(Kt.invert)),Rn&&Rn.domain(dn.range().map(function($r){return($r-U.y)/U.k}).map(dn.invert))}function lo($r){Ye++||$r({type:"zoomstart"})}function Ko($r){eo(),$r({type:"zoom",scale:U.k,translate:[U.x,U.y]})}function yo($r){--Ye||($r({type:"zoomend"}),ve=null)}function fo(){var $r=this,_o=An.of($r,arguments),sa=0,Ca=l.select(g($r)).on(yt,Di).on(bt,xi),As=vn(l.mouse($r)),qs=wn($r);Ol.call($r),lo(_o);function Di(){sa=1,Jr(l.mouse($r),As),Ko(_o)}function xi(){Ca.on(yt,null).on(bt,null),qs(sa),yo(_o)}}function Ha(){var $r=this,_o=An.of($r,arguments),sa={},Ca=0,As,qs=".zoom-"+l.event.changedTouches[0].identifier,Di="touchmove"+qs,xi="touchend"+qs,xc=[],Ii=l.select($r),tc=wn($r);Ga(),lo(_o),Ii.on(rt,null).on(Wt,Ga);function Cl(){var Sl=l.touches($r);return As=U.k,Sl.forEach(function(wi){wi.identifier in sa&&(sa[wi.identifier]=vn(wi))}),Sl}function Ga(){var Sl=l.event.target;l.select(Sl).on(Di,xu).on(xi,qu),xc.push(Sl);for(var wi=l.event.changedTouches,Tl=0,Ci=wi.length;Tl<Ci;++Tl)sa[wi[Tl].identifier]=null;var Za=Cl(),nc=Date.now();if(Za.length===1){if(nc-mn<500){var Yf=Za[0];kr($r,Yf,sa[Yf.identifier],Math.floor(Math.log(U.k)/Math.LN2)+1),Ne()}mn=nc}else if(Za.length>1){var Yf=Za[0],wu=Za[1],Th=Yf[0]-wu[0],Kf=Yf[1]-wu[1];Ca=Th*Th+Kf*Kf}}function xu(){var Sl=l.touches($r),wi,Tl,Ci,Za;Ol.call($r);for(var nc=0,Yf=Sl.length;nc<Yf;++nc,Za=null)if(Ci=Sl[nc],Za=sa[Ci.identifier]){if(Tl)break;wi=Ci,Tl=Za}if(Za){var wu=(wu=Ci[0]-wi[0])*wu+(wu=Ci[1]-wi[1])*wu,Th=Ca&&Math.sqrt(wu/Ca);wi=[(wi[0]+Ci[0])/2,(wi[1]+Ci[1])/2],Tl=[(Tl[0]+Za[0])/2,(Tl[1]+Za[1])/2],zr(Th*As)}mn=null,Jr(wi,Tl),Ko(_o)}function qu(){if(l.event.touches.length){for(var Sl=l.event.changedTouches,wi=0,Tl=Sl.length;wi<Tl;++wi)delete sa[Sl[wi].identifier];for(var Ci in sa)return void Cl()}l.selectAll(xc).on(qs,null),Ii.on(rt,fo).on(Wt,Ha),tc(),yo(_o)}}function Vs(){var $r=An.of(this,arguments);Vt?clearTimeout(Vt):(Ol.call(this),q=vn(ve=Ae||l.mouse(this)),lo($r)),Vt=setTimeout(function(){Vt=null,yo($r)},50),Ne(),zr(Math.pow(2,pr()*.002)*U.k),Jr(ve,q),Ko($r)}function is(){var $r=l.mouse(this),_o=Math.log(U.k)/Math.LN2;kr(this,$r,vn($r),l.event.shiftKey?Math.ceil(_o)-1:Math.floor(_o)+1)}return l.rebind(Mn,An,"on")};var zt=[0,1/0],pr,Gn;l.color=Ir;function Ir(){}Ir.prototype.toString=function(){return this.rgb()+""},l.hsl=Tr;function Tr(U,q,ve){return this instanceof Tr?(this.h=+U,this.s=+q,void(this.l=+ve)):arguments.length<2?U instanceof Tr?new Tr(U.h,U.s,U.l):Qt(""+U,nn,Tr):new Tr(U,q,ve)}var rr=Tr.prototype=new Ir;rr.brighter=function(U){return U=Math.pow(.7,arguments.length?U:1),new Tr(this.h,this.s,this.l/U)},rr.darker=function(U){return U=Math.pow(.7,arguments.length?U:1),new Tr(this.h,this.s,U*this.l)},rr.rgb=function(){return Yr(this.h,this.s,this.l)};function Yr(U,q,ve){var Ae,_e;U=isNaN(U)?0:(U%=360)<0?U+360:U,q=isNaN(q)||q<0?0:q>1?1:q,ve=ve<0?0:ve>1?1:ve,_e=ve<=.5?ve*(1+q):ve+q-ve*q,Ae=2*ve-_e;function Ie(Ye){return Ye>360?Ye-=360:Ye<0&&(Ye+=360),Ye<60?Ae+(_e-Ae)*Ye/60:Ye<180?_e:Ye<240?Ae+(_e-Ae)*(240-Ye)/60:Ae}function Qe(Ye){return Math.round(Ie(Ye)*255)}return new Ut(Qe(U+120),Qe(U),Qe(U-120))}l.hcl=_r;function _r(U,q,ve){return this instanceof _r?(this.h=+U,this.c=+q,void(this.l=+ve)):arguments.length<2?U instanceof _r?new _r(U.h,U.c,U.l):U instanceof or?St(U.l,U.a,U.b):St((U=Sn((U=l.rgb(U)).r,U.g,U.b)).l,U.a,U.b):new _r(U,q,ve)}var Ln=_r.prototype=new Ir;Ln.brighter=function(U){return new _r(this.h,this.c,Math.min(100,this.l+wr*(arguments.length?U:1)))},Ln.darker=function(U){return new _r(this.h,this.c,Math.max(0,this.l-wr*(arguments.length?U:1)))},Ln.rgb=function(){return xr(this.h,this.c,this.l).rgb()};function xr(U,q,ve){return isNaN(U)&&(U=0),isNaN(q)&&(q=0),new or(ve,Math.cos(U*=Tt)*q,Math.sin(U)*q)}l.lab=or;function or(U,q,ve){return this instanceof or?(this.l=+U,this.a=+q,void(this.b=+ve)):arguments.length<2?U instanceof or?new or(U.l,U.a,U.b):U instanceof _r?xr(U.h,U.c,U.l):Sn((U=Ut(U)).r,U.g,U.b):new or(U,q,ve)}var wr=18,ro=.95047,vo=1,Cr=1.08883,He=or.prototype=new Ir;He.brighter=function(U){return new or(Math.min(100,this.l+wr*(arguments.length?U:1)),this.a,this.b)},He.darker=function(U){return new or(Math.max(0,this.l-wr*(arguments.length?U:1)),this.a,this.b)},He.rgb=function(){return De(this.l,this.a,this.b)};function De(U,q,ve){var Ae=(U+16)/116,_e=Ae+q/500,Ie=Ae-ve/200;return _e=kt(_e)*ro,Ae=kt(Ae)*vo,Ie=kt(Ie)*Cr,new Ut(Bt(3.2404542*_e-1.5371385*Ae-.4985314*Ie),Bt(-.969266*_e+1.8760108*Ae+.041556*Ie),Bt(.0556434*_e-.2040259*Ae+1.0572252*Ie))}function St(U,q,ve){return U>0?new _r(Math.atan2(ve,q)*Et,Math.sqrt(q*q+ve*ve),U):new _r(NaN,NaN,U)}function kt(U){return U>.206893034?U*U*U:(U-.13793103448275862)/7.787037}function Pt(U){return U>.008856?Math.pow(U,.3333333333333333):7.787037*U+.13793103448275862}function Bt(U){return Math.round(255*(U<=.00304?12.92*U:1.055*Math.pow(U,.4166666666666667)-.055))}l.rgb=Ut;function Ut(U,q,ve){return this instanceof Ut?(this.r=~~U,this.g=~~q,void(this.b=~~ve)):arguments.length<2?U instanceof Ut?new Ut(U.r,U.g,U.b):Qt(""+U,Ut,Yr):new Ut(U,q,ve)}function Ot(U){return new Ut(U>>16,U>>8&255,U&255)}function _t(U){return Ot(U)+""}var qt=Ut.prototype=new Ir;qt.brighter=function(U){U=Math.pow(.7,arguments.length?U:1);var q=this.r,ve=this.g,Ae=this.b,_e=30;return!q&&!ve&&!Ae?new Ut(_e,_e,_e):(q&&q<_e&&(q=_e),ve&&ve<_e&&(ve=_e),Ae&&Ae<_e&&(Ae=_e),new Ut(Math.min(255,q/U),Math.min(255,ve/U),Math.min(255,Ae/U)))},qt.darker=function(U){return U=Math.pow(.7,arguments.length?U:1),new Ut(U*this.r,U*this.g,U*this.b)},qt.hsl=function(){return nn(this.r,this.g,this.b)},qt.toString=function(){return"#"+cn(this.r)+cn(this.g)+cn(this.b)};function cn(U){return U<16?"0"+Math.max(0,U).toString(16):Math.min(255,U).toString(16)}function Qt(U,q,ve){var Ae=0,_e=0,Ie=0,Qe,Ye,rt;if(Qe=/([a-z]+)\((.*)\)/.exec(U=U.toLowerCase()),Qe)switch(Ye=Qe[2].split(","),Qe[1]){case"hsl":return ve(parseFloat(Ye[0]),parseFloat(Ye[1])/100,parseFloat(Ye[2])/100);case"rgb":return q(gn(Ye[0]),gn(Ye[1]),gn(Ye[2]))}return(rt=Qn.get(U))?q(rt.r,rt.g,rt.b):(U!=null&&U.charAt(0)==="#"&&!isNaN(rt=parseInt(U.slice(1),16))&&(U.length===4?(Ae=(rt&3840)>>4,Ae=Ae>>4|Ae,_e=rt&240,_e=_e>>4|_e,Ie=rt&15,Ie=Ie<<4|Ie):U.length===7&&(Ae=(rt&16711680)>>16,_e=(rt&65280)>>8,Ie=rt&255)),q(Ae,_e,Ie))}function nn(U,q,ve){var Ae=Math.min(U/=255,q/=255,ve/=255),_e=Math.max(U,q,ve),Ie=_e-Ae,Qe,Ye,rt=(_e+Ae)/2;return Ie?(Ye=rt<.5?Ie/(_e+Ae):Ie/(2-_e-Ae),U==_e?Qe=(q-ve)/Ie+(q<ve?6:0):q==_e?Qe=(ve-U)/Ie+2:Qe=(U-q)/Ie+4,Qe*=60):(Qe=NaN,Ye=rt>0&&rt<1?0:Qe),new Tr(Qe,Ye,rt)}function Sn(U,q,ve){U=bn(U),q=bn(q),ve=bn(ve);var Ae=Pt((.4124564*U+.3575761*q+.1804375*ve)/ro),_e=Pt((.2126729*U+.7151522*q+.072175*ve)/vo),Ie=Pt((.0193339*U+.119192*q+.9503041*ve)/Cr);return or(116*_e-16,500*(Ae-_e),200*(_e-Ie))}function bn(U){return(U/=255)<=.04045?U/12.92:Math.pow((U+.055)/1.055,2.4)}function gn(U){var q=parseFloat(U);return U.charAt(U.length-1)==="%"?Math.round(q*2.55):q}var Qn=l.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Qn.forEach(function(U,q){Qn.set(U,Ot(q))});function Bn(U){return typeof U=="function"?U:function(){return U}}l.functor=Bn,l.xhr=Hr(ne);function Hr(U){return function(q,ve,Ae){return arguments.length===2&&typeof ve=="function"&&(Ae=ve,ve=null),fr(q,ve,U,Ae)}}function fr(U,q,ve,Ae){var _e={},Ie=l.dispatch("beforesend","progress","load","error"),Qe={},Ye=new XMLHttpRequest,rt=null;self.XDomainRequest&&!("withCredentials"in Ye)&&/^(http(s)?:)?\/\//.test(U)&&(Ye=new XDomainRequest),"onload"in Ye?Ye.onload=Ye.onerror=yt:Ye.onreadystatechange=function(){Ye.readyState>3&&yt()};function yt(){var bt=Ye.status,Vt;if(!bt&&ar(Ye)||bt>=200&&bt<300||bt===304){try{Vt=ve.call(_e,Ye)}catch(Wt){Ie.error.call(_e,Wt);return}Ie.load.call(_e,Vt)}else Ie.error.call(_e,Ye)}return Ye.onprogress=function(bt){var Vt=l.event;l.event=bt;try{Ie.progress.call(_e,Ye)}finally{l.event=Vt}},_e.header=function(bt,Vt){return bt=(bt+"").toLowerCase(),arguments.length<2?Qe[bt]:(Vt==null?delete Qe[bt]:Qe[bt]=Vt+"",_e)},_e.mimeType=function(bt){return arguments.length?(q=bt==null?null:bt+"",_e):q},_e.responseType=function(bt){return arguments.length?(rt=bt,_e):rt},_e.response=function(bt){return ve=bt,_e},["get","post"].forEach(function(bt){_e[bt]=function(){return _e.send.apply(_e,[bt].concat(i(arguments)))}}),_e.send=function(bt,Vt,Wt){if(arguments.length===2&&typeof Vt=="function"&&(Wt=Vt,Vt=null),Ye.open(bt,U,!0),q!=null&&!("accept"in Qe)&&(Qe.accept=q+",*/*"),Ye.setRequestHeader)for(var mn in Qe)Ye.setRequestHeader(mn,Qe[mn]);return q!=null&&Ye.overrideMimeType&&Ye.overrideMimeType(q),rt!=null&&(Ye.responseType=rt),Wt!=null&&_e.on("error",Wt).on("load",function(An){Wt(null,An)}),Ie.beforesend.call(_e,Ye),Ye.send(Vt??null),_e},_e.abort=function(){return Ye.abort(),_e},l.rebind(_e,Ie,"on"),Ae==null?_e:_e.get(Vr(Ae))}function Vr(U){return U.length===1?function(q,ve){U(q==null?ve:null)}:U}function ar(U){var q=U.responseType;return q&&q!=="text"?U.response:U.responseText}l.dsv=function(U,q){var ve=new RegExp('["'+U+`
]`),Ae=U.charCodeAt(0);function _e(yt,bt,Vt){arguments.length<3&&(Vt=bt,bt=null);var Wt=fr(yt,q,bt==null?Ie:Qe(bt),Vt);return Wt.row=function(mn){return arguments.length?Wt.response((bt=mn)==null?Ie:Qe(mn)):bt},Wt}function Ie(yt){return _e.parse(yt.responseText)}function Qe(yt){return function(bt){return _e.parse(bt.responseText,yt)}}_e.parse=function(yt,bt){var Vt;return _e.parseRows(yt,function(Wt,mn){if(Vt)return Vt(Wt,mn-1);var An=function(Kt){for(var en={},dn=Wt.length,Rn=0;Rn<dn;++Rn)en[Wt[Rn]]=Kt[Rn];return en};Vt=bt?function(Kt,en){return bt(An(Kt),en)}:An})},_e.parseRows=function(yt,bt){var Vt={},Wt={},mn=[],An=yt.length,Kt=0,en=0,dn,Rn;function Mn(){if(Kt>=An)return Wt;if(Rn)return Rn=!1,Vt;var lr=Kt;if(yt.charCodeAt(lr)===34){for(var zr=lr;zr++<An;)if(yt.charCodeAt(zr)===34){if(yt.charCodeAt(zr+1)!==34)break;++zr}Kt=zr+2;var Jr=yt.charCodeAt(zr+1);return Jr===13?(Rn=!0,yt.charCodeAt(zr+2)===10&&++Kt):Jr===10&&(Rn=!0),yt.slice(lr+1,zr).replace(/""/g,'"')}for(;Kt<An;){var Jr=yt.charCodeAt(Kt++),kr=1;if(Jr===10)Rn=!0;else if(Jr===13)Rn=!0,yt.charCodeAt(Kt)===10&&(++Kt,++kr);else if(Jr!==Ae)continue;return yt.slice(lr,Kt-kr)}return yt.slice(lr)}for(;(dn=Mn())!==Wt;){for(var vn=[];dn!==Vt&&dn!==Wt;)vn.push(dn),dn=Mn();bt&&(vn=bt(vn,en++))==null||mn.push(vn)}return mn},_e.format=function(yt){if(Array.isArray(yt[0]))return _e.formatRows(yt);var bt=new ce,Vt=[];return yt.forEach(function(Wt){for(var mn in Wt)bt.has(mn)||Vt.push(bt.add(mn))}),[Vt.map(rt).join(U)].concat(yt.map(function(Wt){return Vt.map(function(mn){return rt(Wt[mn])}).join(U)})).join(`
`)},_e.formatRows=function(yt){return yt.map(Ye).join(`
`)};function Ye(yt){return yt.map(rt).join(U)}function rt(yt){return ve.test(yt)?'"'+yt.replace(/\"/g,'""')+'"':yt}return _e},l.csv=l.dsv(",","text/csv"),l.tsv=l.dsv("	","text/tab-separated-values");var cr,Kr,qr,So,wa=this[X(this,"requestAnimationFrame")]||function(U){setTimeout(U,17)};l.timer=function(){bo.apply(this,arguments)};function bo(U,q,ve){var Ae=arguments.length;Ae<2&&(q=0),Ae<3&&(ve=Date.now());var _e=ve+q,Ie={c:U,t:_e,n:null};return Kr?Kr.n=Ie:cr=Ie,Kr=Ie,qr||(So=clearTimeout(So),qr=1,wa(Zo)),Ie}function Zo(){var U=oa(),q=Va()-U;q>24?(isFinite(q)&&(clearTimeout(So),So=setTimeout(Zo,q)),qr=0):(qr=1,wa(Zo))}l.timer.flush=function(){oa(),Va()};function oa(){for(var U=Date.now(),q=cr;q;)U>=q.t&&q.c(U-q.t)&&(q.c=null),q=q.n;return U}function Va(){for(var U,q=cr,ve=1/0;q;)q.c?(q.t<ve&&(ve=q.t),q=(U=q).n):q=U?U.n=q.n:cr=q.n;return Kr=U,ve}l.round=function(U,q){return q?Math.round(U*(q=Math.pow(10,q)))/q:Math.round(U)},l.geom={};function Yo(U){return U[0]}function Fa(U){return U[1]}l.geom.hull=function(U){var q=Yo,ve=Fa;if(arguments.length)return Ae(U);function Ae(_e){if(_e.length<3)return[];var Ie=Bn(q),Qe=Bn(ve),Ye,rt=_e.length,yt=[],bt=[];for(Ye=0;Ye<rt;Ye++)yt.push([+Ie.call(this,_e[Ye],Ye),+Qe.call(this,_e[Ye],Ye),Ye]);for(yt.sort(Zl),Ye=0;Ye<rt;Ye++)bt.push([yt[Ye][0],-yt[Ye][1]]);var Vt=Os(yt),Wt=Os(bt),mn=Wt[0]===Vt[0],An=Wt[Wt.length-1]===Vt[Vt.length-1],Kt=[];for(Ye=Vt.length-1;Ye>=0;--Ye)Kt.push(_e[yt[Vt[Ye]][2]]);for(Ye=+mn;Ye<Wt.length-An;++Ye)Kt.push(_e[yt[Wt[Ye]][2]]);return Kt}return Ae.x=function(_e){return arguments.length?(q=_e,Ae):q},Ae.y=function(_e){return arguments.length?(ve=_e,Ae):ve},Ae};function Os(U){for(var q=U.length,ve=[0,1],Ae=2,_e=2;_e<q;_e++){for(;Ae>1&&fn(U[ve[Ae-2]],U[ve[Ae-1]],U[_e])<=0;)--Ae;ve[Ae++]=_e}return ve.slice(0,Ae)}function Zl(U,q){return U[0]-q[0]||U[1]-q[1]}l.geom.polygon=function(U){return ie(U,Ys),U};var Ys=l.geom.polygon.prototype=[];Ys.area=function(){for(var U=-1,q=this.length,ve,Ae=this[q-1],_e=0;++U<q;)ve=Ae,Ae=this[U],_e+=ve[1]*Ae[0]-ve[0]*Ae[1];return _e*.5},Ys.centroid=function(U){var q=-1,ve=this.length,Ae=0,_e=0,Ie,Qe=this[ve-1],Ye;for(arguments.length||(U=-1/(6*this.area()));++q<ve;)Ie=Qe,Qe=this[q],Ye=Ie[0]*Qe[1]-Qe[0]*Ie[1],Ae+=(Ie[0]+Qe[0])*Ye,_e+=(Ie[1]+Qe[1])*Ye;return[Ae*U,_e*U]},Ys.clip=function(U){for(var q,ve=Wa(U),Ae=-1,_e=this.length-Wa(this),Ie,Qe,Ye=this[_e-1],rt,yt,bt;++Ae<_e;){for(q=U.slice(),U.length=0,rt=this[Ae],yt=q[(Qe=q.length-ve)-1],Ie=-1;++Ie<Qe;)bt=q[Ie],Ec(bt,Ye,rt)?(Ec(yt,Ye,rt)||U.push(ks(yt,bt,Ye,rt)),U.push(bt)):Ec(yt,Ye,rt)&&U.push(ks(yt,bt,Ye,rt)),yt=bt;ve&&U.push(U[0]),Ye=rt}return U};function Ec(U,q,ve){return(ve[0]-q[0])*(U[1]-q[1])<(ve[1]-q[1])*(U[0]-q[0])}function ks(U,q,ve,Ae){var _e=U[0],Ie=ve[0],Qe=q[0]-_e,Ye=Ae[0]-Ie,rt=U[1],yt=ve[1],bt=q[1]-rt,Vt=Ae[1]-yt,Wt=(Ye*(rt-yt)-Vt*(_e-Ie))/(Vt*Qe-Ye*bt);return[_e+Wt*Qe,rt+Wt*bt]}function Wa(U){var q=U[0],ve=U[U.length-1];return!(q[0]-ve[0]||q[1]-ve[1])}var ss,Ya,_c,Lr=[],jl,Ka,yi=[];function Hf(){Uf(this),this.edge=this.site=this.circle=null}function Xa(U){var q=Lr.pop()||new Hf;return q.site=U,q}function Zc(U){qi(U),_c.remove(U),Lr.push(U),Uf(U)}function zf(U){var q=U.circle,ve=q.x,Ae=q.cy,_e={x:ve,y:Ae},Ie=U.P,Qe=U.N,Ye=[U];Zc(U);for(var rt=Ie;rt.circle&&R(ve-rt.circle.x)<vt&&R(Ae-rt.circle.cy)<vt;)Ie=rt.P,Ye.unshift(rt),Zc(rt),rt=Ie;Ye.unshift(rt),qi(rt);for(var yt=Qe;yt.circle&&R(ve-yt.circle.x)<vt&&R(Ae-yt.circle.cy)<vt;)Qe=yt.N,Ye.push(yt),Zc(yt),yt=Qe;Ye.push(yt),qi(yt);var bt=Ye.length,Vt;for(Vt=1;Vt<bt;++Vt)yt=Ye[Vt],rt=Ye[Vt-1],uu(yt.edge,rt.site,yt.site,_e);rt=Ye[0],yt=Ye[bt-1],yt.edge=Ls(rt.site,yt.site,null,_e),Es(rt),Es(yt)}function jc(U){for(var q=U.x,ve=U.y,Ae,_e,Ie,Qe,Ye=_c._;Ye;)if(Ie=To(Ye,ve)-q,Ie>vt)Ye=Ye.L;else if(Qe=q-Mi(Ye,ve),Qe>vt){if(!Ye.R){Ae=Ye;break}Ye=Ye.R}else{Ie>-vt?(Ae=Ye.P,_e=Ye):Qe>-vt?(Ae=Ye,_e=Ye.N):Ae=_e=Ye;break}var rt=Xa(U);if(_c.insert(Ae,rt),!(!Ae&&!_e)){if(Ae===_e){qi(Ae),_e=Xa(Ae.site),_c.insert(rt,_e),rt.edge=_e.edge=Ls(Ae.site,rt.site),Es(Ae),Es(_e);return}if(!_e){rt.edge=Ls(Ae.site,rt.site);return}qi(Ae),qi(_e);var yt=Ae.site,bt=yt.x,Vt=yt.y,Wt=U.x-bt,mn=U.y-Vt,An=_e.site,Kt=An.x-bt,en=An.y-Vt,dn=2*(Wt*en-mn*Kt),Rn=Wt*Wt+mn*mn,Mn=Kt*Kt+en*en,vn={x:(en*Rn-mn*Mn)/dn+bt,y:(Wt*Mn-Kt*Rn)/dn+Vt};uu(_e.edge,yt,An,vn),rt.edge=Ls(yt,U,null,vn),_e.edge=Ls(U,An,null,vn),Es(Ae),Es(_e)}}function To(U,q){var ve=U.site,Ae=ve.x,_e=ve.y,Ie=_e-q;if(!Ie)return Ae;var Qe=U.P;if(!Qe)return-1/0;ve=Qe.site;var Ye=ve.x,rt=ve.y,yt=rt-q;if(!yt)return Ye;var bt=Ye-Ae,Vt=1/Ie-1/yt,Wt=bt/yt;return Vt?(-Wt+Math.sqrt(Wt*Wt-2*Vt*(bt*bt/(-2*yt)-rt+yt/2+_e-Ie/2)))/Vt+Ae:(Ae+Ye)/2}function Mi(U,q){var ve=U.N;if(ve)return To(ve,q);var Ae=U.site;return Ae.y===q?Ae.x:1/0}function ur(U){this.site=U,this.edges=[]}ur.prototype.prepare=function(){for(var U=this.edges,q=U.length,ve;q--;)ve=U[q].edge,(!ve.b||!ve.a)&&U.splice(q,1);return U.sort(li),U.length};function Ms(U){for(var q=U[0][0],ve=U[1][0],Ae=U[0][1],_e=U[1][1],Ie,Qe,Ye,rt,yt=Ya,bt=yt.length,Vt,Wt,mn,An,Kt,en;bt--;)if(Vt=yt[bt],!(!Vt||!Vt.prepare()))for(mn=Vt.edges,An=mn.length,Wt=0;Wt<An;)en=mn[Wt].end(),Ye=en.x,rt=en.y,Kt=mn[++Wt%An].start(),Ie=Kt.x,Qe=Kt.y,(R(Ye-Ie)>vt||R(rt-Qe)>vt)&&(mn.splice(Wt,0,new Vf(cu(Vt.site,en,R(Ye-q)<vt&&_e-rt>vt?{x:q,y:R(Ie-q)<vt?Qe:_e}:R(rt-_e)<vt&&ve-Ye>vt?{x:R(Qe-_e)<vt?Ie:ve,y:_e}:R(Ye-ve)<vt&&rt-Ae>vt?{x:ve,y:R(Ie-ve)<vt?Qe:Ae}:R(rt-Ae)<vt&&Ye-q>vt?{x:R(Qe-Ae)<vt?Ie:q,y:Ae}:null),Vt.site,null)),++An)}function li(U,q){return q.angle-U.angle}function Rs(){Uf(this),this.x=this.y=this.arc=this.site=this.cy=null}function Es(U){var q=U.P,ve=U.N;if(!(!q||!ve)){var Ae=q.site,_e=U.site,Ie=ve.site;if(Ae!==Ie){var Qe=_e.x,Ye=_e.y,rt=Ae.x-Qe,yt=Ae.y-Ye,bt=Ie.x-Qe,en=Ie.y-Ye,Vt=2*(rt*en-yt*bt);if(!(Vt>=-$t)){var Wt=rt*rt+yt*yt,mn=bt*bt+en*en,An=(en*Wt-yt*mn)/Vt,Kt=(rt*mn-bt*Wt)/Vt,en=Kt+Ye,dn=yi.pop()||new Rs;dn.arc=U,dn.site=_e,dn.x=An+Qe,dn.y=en+Math.sqrt(An*An+Kt*Kt),dn.cy=en,U.circle=dn;for(var Rn=null,Mn=Ka._;Mn;)if(dn.y<Mn.y||dn.y===Mn.y&&dn.x<=Mn.x)if(Mn.L)Mn=Mn.L;else{Rn=Mn.P;break}else if(Mn.R)Mn=Mn.R;else{Rn=Mn;break}Ka.insert(Rn,dn),Rn||(jl=dn)}}}}function qi(U){var q=U.circle;q&&(q.P||(jl=q.N),Ka.remove(q),yi.push(q),Uf(q),U.circle=null)}function Bo(U,q,ve,Ae){return function(_e){var Ie=_e.a,Qe=_e.b,Ye=Ie.x,rt=Ie.y,yt=Qe.x,bt=Qe.y,Vt=0,Wt=1,mn=yt-Ye,An=bt-rt,Kt;if(Kt=U-Ye,!(!mn&&Kt>0)){if(Kt/=mn,mn<0){if(Kt<Vt)return;Kt<Wt&&(Wt=Kt)}else if(mn>0){if(Kt>Wt)return;Kt>Vt&&(Vt=Kt)}if(Kt=ve-Ye,!(!mn&&Kt<0)){if(Kt/=mn,mn<0){if(Kt>Wt)return;Kt>Vt&&(Vt=Kt)}else if(mn>0){if(Kt<Vt)return;Kt<Wt&&(Wt=Kt)}if(Kt=q-rt,!(!An&&Kt>0)){if(Kt/=An,An<0){if(Kt<Vt)return;Kt<Wt&&(Wt=Kt)}else if(An>0){if(Kt>Wt)return;Kt>Vt&&(Vt=Kt)}if(Kt=Ae-rt,!(!An&&Kt<0)){if(Kt/=An,An<0){if(Kt>Wt)return;Kt>Vt&&(Vt=Kt)}else if(An>0){if(Kt<Vt)return;Kt<Wt&&(Wt=Kt)}return Vt>0&&(_e.a={x:Ye+Vt*mn,y:rt+Vt*An}),Wt<1&&(_e.b={x:Ye+Wt*mn,y:rt+Wt*An}),_e}}}}}}function Ks(U){for(var q=ss,ve=Bo(U[0][0],U[0][1],U[1][0],U[1][1]),Ae=q.length,_e;Ae--;)_e=q[Ae],(!Bs(_e,U)||!ve(_e)||R(_e.a.x-_e.b.x)<vt&&R(_e.a.y-_e.b.y)<vt)&&(_e.a=_e.b=null,q.splice(Ae,1))}function Bs(U,q){var ve=U.b;if(ve)return!0;var Ae=U.a,_e=q[0][0],Ie=q[1][0],Qe=q[0][1],Ye=q[1][1],rt=U.l,yt=U.r,bt=rt.x,Vt=rt.y,Wt=yt.x,mn=yt.y,An=(bt+Wt)/2,Kt=(Vt+mn)/2,en,dn;if(mn===Vt){if(An<_e||An>=Ie)return;if(bt>Wt){if(!Ae)Ae={x:An,y:Qe};else if(Ae.y>=Ye)return;ve={x:An,y:Ye}}else{if(!Ae)Ae={x:An,y:Ye};else if(Ae.y<Qe)return;ve={x:An,y:Qe}}}else if(en=(bt-Wt)/(mn-Vt),dn=Kt-en*An,en<-1||en>1)if(bt>Wt){if(!Ae)Ae={x:(Qe-dn)/en,y:Qe};else if(Ae.y>=Ye)return;ve={x:(Ye-dn)/en,y:Ye}}else{if(!Ae)Ae={x:(Ye-dn)/en,y:Ye};else if(Ae.y<Qe)return;ve={x:(Qe-dn)/en,y:Qe}}else if(Vt<mn){if(!Ae)Ae={x:_e,y:en*_e+dn};else if(Ae.x>=Ie)return;ve={x:Ie,y:en*Ie+dn}}else{if(!Ae)Ae={x:Ie,y:en*Ie+dn};else if(Ae.x<_e)return;ve={x:_e,y:en*_e+dn}}return U.a=Ae,U.b=ve,!0}function df(U,q){this.l=U,this.r=q,this.a=this.b=null}function Ls(U,q,ve,Ae){var _e=new df(U,q);return ss.push(_e),ve&&uu(_e,U,q,ve),Ae&&uu(_e,q,U,Ae),Ya[U.i].edges.push(new Vf(_e,U,q)),Ya[q.i].edges.push(new Vf(_e,q,U)),_e}function cu(U,q,ve){var Ae=new df(U,null);return Ae.a=q,Ae.b=ve,ss.push(Ae),Ae}function uu(U,q,ve,Ae){!U.a&&!U.b?(U.a=Ae,U.l=q,U.r=ve):U.l===ve?U.b=Ae:U.a=Ae}function Vf(U,q,ve){var Ae=U.a,_e=U.b;this.edge=U,this.site=q,this.angle=ve?Math.atan2(ve.y-q.y,ve.x-q.x):U.l===q?Math.atan2(_e.x-Ae.x,Ae.y-_e.y):Math.atan2(Ae.x-_e.x,_e.y-Ae.y)}Vf.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Ma(){this._=null}function Uf(U){U.U=U.C=U.L=U.R=U.P=U.N=null}Ma.prototype={insert:function(U,q){var ve,Ae,_e;if(U){if(q.P=U,q.N=U.N,U.N&&(U.N.P=q),U.N=q,U.R){for(U=U.R;U.L;)U=U.L;U.L=q}else U.R=q;ve=U}else this._?(U=wd(this._),q.P=null,q.N=U,U.P=U.L=q,ve=U):(q.P=q.N=null,this._=q,ve=null);for(q.L=q.R=null,q.U=ve,q.C=!0,U=q;ve&&ve.C;)Ae=ve.U,ve===Ae.L?(_e=Ae.R,_e&&_e.C?(ve.C=_e.C=!1,Ae.C=!0,U=Ae):(U===ve.R&&(gc(this,ve),U=ve,ve=U.U),ve.C=!1,Ae.C=!0,al(this,Ae))):(_e=Ae.L,_e&&_e.C?(ve.C=_e.C=!1,Ae.C=!0,U=Ae):(U===ve.L&&(al(this,ve),U=ve,ve=U.U),ve.C=!1,Ae.C=!0,gc(this,Ae))),ve=U.U;this._.C=!1},remove:function(U){U.N&&(U.N.P=U.P),U.P&&(U.P.N=U.N),U.N=U.P=null;var q=U.U,ve,Ae=U.L,_e=U.R,Ie,Qe;if(Ae?_e?Ie=wd(_e):Ie=Ae:Ie=_e,q?q.L===U?q.L=Ie:q.R=Ie:this._=Ie,Ae&&_e?(Qe=Ie.C,Ie.C=U.C,Ie.L=Ae,Ae.U=Ie,Ie!==_e?(q=Ie.U,Ie.U=U.U,U=Ie.R,q.L=U,Ie.R=_e,_e.U=Ie):(Ie.U=q,q=Ie,U=Ie.R)):(Qe=U.C,U=Ie),U&&(U.U=q),!Qe){if(U&&U.C){U.C=!1;return}do{if(U===this._)break;if(U===q.L){if(ve=q.R,ve.C&&(ve.C=!1,q.C=!0,gc(this,q),ve=q.R),ve.L&&ve.L.C||ve.R&&ve.R.C){(!ve.R||!ve.R.C)&&(ve.L.C=!1,ve.C=!0,al(this,ve),ve=q.R),ve.C=q.C,q.C=ve.R.C=!1,gc(this,q),U=this._;break}}else if(ve=q.L,ve.C&&(ve.C=!1,q.C=!0,al(this,q),ve=q.L),ve.L&&ve.L.C||ve.R&&ve.R.C){(!ve.L||!ve.L.C)&&(ve.R.C=!1,ve.C=!0,gc(this,ve),ve=q.L),ve.C=q.C,q.C=ve.L.C=!1,al(this,q),U=this._;break}ve.C=!0,U=q,q=q.U}while(!U.C);U&&(U.C=!1)}}};function gc(U,q){var ve=q,Ae=q.R,_e=ve.U;_e?_e.L===ve?_e.L=Ae:_e.R=Ae:U._=Ae,Ae.U=_e,ve.U=Ae,ve.R=Ae.L,ve.R&&(ve.R.U=ve),Ae.L=ve}function al(U,q){var ve=q,Ae=q.L,_e=ve.U;_e?_e.L===ve?_e.L=Ae:_e.R=Ae:U._=Ae,Ae.U=_e,ve.U=Ae,ve.L=Ae.R,ve.L&&(ve.L.U=ve),Ae.R=ve}function wd(U){for(;U.L;)U=U.L;return U}function dh(U,q){var ve=U.sort(La).pop(),Ae,_e,Ie;for(ss=[],Ya=new Array(U.length),_c=new Ma,Ka=new Ma;;)if(Ie=jl,ve&&(!Ie||ve.y<Ie.y||ve.y===Ie.y&&ve.x<Ie.x))(ve.x!==Ae||ve.y!==_e)&&(Ya[ve.i]=new ur(ve),jc(ve),Ae=ve.x,_e=ve.y),ve=U.pop();else if(Ie)zf(Ie.arc);else break;q&&(Ks(q),Ms(q));var Qe={cells:Ya,edges:ss};return _c=Ka=ss=Ya=null,Qe}function La(U,q){return q.y-U.y||q.x-U.x}l.geom.voronoi=function(U){var q=Yo,ve=Fa,Ae=q,_e=ve,Ie=ci;if(U)return Qe(U);function Qe(rt){var yt=new Array(rt.length),bt=Ie[0][0],Vt=Ie[0][1],Wt=Ie[1][0],mn=Ie[1][1];return dh(Ye(rt),Ie).cells.forEach(function(An,Kt){var en=An.edges,dn=An.site,Rn=yt[Kt]=en.length?en.map(function(Mn){var vn=Mn.start();return[vn.x,vn.y]}):dn.x>=bt&&dn.x<=Wt&&dn.y>=Vt&&dn.y<=mn?[[bt,mn],[Wt,mn],[Wt,Vt],[bt,Vt]]:[];Rn.point=rt[Kt]}),yt}function Ye(rt){return rt.map(function(yt,bt){return{x:Math.round(Ae(yt,bt)/vt)*vt,y:Math.round(_e(yt,bt)/vt)*vt,i:bt}})}return Qe.links=function(rt){return dh(Ye(rt)).edges.filter(function(yt){return yt.l&&yt.r}).map(function(yt){return{source:rt[yt.l.i],target:rt[yt.r.i]}})},Qe.triangles=function(rt){var yt=[];return dh(Ye(rt)).cells.forEach(function(bt,Vt){for(var Wt=bt.site,mn=bt.edges.sort(li),An=-1,Kt=mn.length,en,dn=mn[Kt-1].edge,Rn=dn.l===Wt?dn.r:dn.l;++An<Kt;)en=Rn,dn=mn[An].edge,Rn=dn.l===Wt?dn.r:dn.l,Vt<en.i&&Vt<Rn.i&&Wu(Wt,en,Rn)<0&&yt.push([rt[Vt],rt[en.i],rt[Rn.i]])}),yt},Qe.x=function(rt){return arguments.length?(Ae=Bn(q=rt),Qe):q},Qe.y=function(rt){return arguments.length?(_e=Bn(ve=rt),Qe):ve},Qe.clipExtent=function(rt){return arguments.length?(Ie=rt??ci,Qe):Ie===ci?null:Ie},Qe.size=function(rt){return arguments.length?Qe.clipExtent(rt&&[[0,0],rt]):Ie===ci?null:Ie&&Ie[1]},Qe};var ci=[[-1e6,-1e6],[1e6,1e6]];function Wu(U,q,ve){return(U.x-ve.x)*(q.y-U.y)-(U.x-q.x)*(ve.y-U.y)}l.geom.delaunay=function(U){return l.geom.voronoi().triangles(U)},l.geom.quadtree=function(U,q,ve,Ae,_e){var Ie=Yo,Qe=Fa,Ye;if(Ye=arguments.length)return Ie=P2,Qe=Ps,Ye===3&&(_e=ve,Ae=q,ve=q=0),rt(U);function rt(yt){var bt,Vt=Bn(Ie),Wt=Bn(Qe),mn,An,Kt,en,dn,Rn,Mn,vn;if(q!=null)dn=q,Rn=ve,Mn=Ae,vn=_e;else if(Mn=vn=-(dn=Rn=1/0),mn=[],An=[],en=yt.length,Ye)for(Kt=0;Kt<en;++Kt)bt=yt[Kt],bt.x<dn&&(dn=bt.x),bt.y<Rn&&(Rn=bt.y),bt.x>Mn&&(Mn=bt.x),bt.y>vn&&(vn=bt.y),mn.push(bt.x),An.push(bt.y);else for(Kt=0;Kt<en;++Kt){var lr=+Vt(bt=yt[Kt],Kt),zr=+Wt(bt,Kt);lr<dn&&(dn=lr),zr<Rn&&(Rn=zr),lr>Mn&&(Mn=lr),zr>vn&&(vn=zr),mn.push(lr),An.push(zr)}var Jr=Mn-dn,kr=vn-Rn;Jr>kr?vn=Rn+Jr:Mn=dn+kr;function eo(yo,fo,Ha,Vs,is,$r,_o,sa){if(!(isNaN(Ha)||isNaN(Vs)))if(yo.leaf){var Ca=yo.x,As=yo.y;if(Ca!=null)if(R(Ca-Ha)+R(As-Vs)<.01)lo(yo,fo,Ha,Vs,is,$r,_o,sa);else{var qs=yo.point;yo.x=yo.y=yo.point=null,lo(yo,qs,Ca,As,is,$r,_o,sa),lo(yo,fo,Ha,Vs,is,$r,_o,sa)}else yo.x=Ha,yo.y=Vs,yo.point=fo}else lo(yo,fo,Ha,Vs,is,$r,_o,sa)}function lo(yo,fo,Ha,Vs,is,$r,_o,sa){var Ca=(is+_o)*.5,As=($r+sa)*.5,qs=Ha>=Ca,Di=Vs>=As,xi=Di<<1|qs;yo.leaf=!1,yo=yo.nodes[xi]||(yo.nodes[xi]=sl()),qs?is=Ca:_o=Ca,Di?$r=As:sa=As,eo(yo,fo,Ha,Vs,is,$r,_o,sa)}var Ko=sl();if(Ko.add=function(yo){eo(Ko,yo,+Vt(yo,++Kt),+Wt(yo,Kt),dn,Rn,Mn,vn)},Ko.visit=function(yo){Ei(yo,Ko,dn,Rn,Mn,vn)},Ko.find=function(yo){return Zy(Ko,yo[0],yo[1],dn,Rn,Mn,vn)},Kt=-1,q==null){for(;++Kt<en;)eo(Ko,yt[Kt],mn[Kt],An[Kt],dn,Rn,Mn,vn);--Kt}else yt.forEach(Ko.add);return mn=An=yt=bt=null,Ko}return rt.x=function(yt){return arguments.length?(Ie=yt,rt):Ie},rt.y=function(yt){return arguments.length?(Qe=yt,rt):Qe},rt.extent=function(yt){return arguments.length?(yt==null?q=ve=Ae=_e=null:(q=+yt[0][0],ve=+yt[0][1],Ae=+yt[1][0],_e=+yt[1][1]),rt):q==null?null:[[q,ve],[Ae,_e]]},rt.size=function(yt){return arguments.length?(yt==null?q=ve=Ae=_e=null:(q=ve=0,Ae=+yt[0],_e=+yt[1]),rt):q==null?null:[Ae-q,_e-ve]},rt};function P2(U){return U.x}function Ps(U){return U.y}function sl(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Ei(U,q,ve,Ae,_e,Ie){if(!U(q,ve,Ae,_e,Ie)){var Qe=(ve+_e)*.5,Ye=(Ae+Ie)*.5,rt=q.nodes;rt[0]&&Ei(U,rt[0],ve,Ae,Qe,Ye),rt[1]&&Ei(U,rt[1],Qe,Ae,_e,Ye),rt[2]&&Ei(U,rt[2],ve,Ye,Qe,Ie),rt[3]&&Ei(U,rt[3],Qe,Ye,_e,Ie)}}function Zy(U,q,ve,Ae,_e,Ie,Qe){var Ye=1/0,rt;return function yt(bt,Vt,Wt,mn,An){if(!(Vt>Ie||Wt>Qe||mn<Ae||An<_e)){if(Kt=bt.point){var Kt,en=q-bt.x,dn=ve-bt.y,Rn=en*en+dn*dn;if(Rn<Ye){var Mn=Math.sqrt(Ye=Rn);Ae=q-Mn,_e=ve-Mn,Ie=q+Mn,Qe=ve+Mn,rt=Kt}}for(var vn=bt.nodes,lr=(Vt+mn)*.5,zr=(Wt+An)*.5,Jr=q>=lr,kr=ve>=zr,eo=kr<<1|Jr,lo=eo+4;eo<lo;++eo)if(bt=vn[eo&3])switch(eo&3){case 0:yt(bt,Vt,Wt,lr,zr);break;case 1:yt(bt,lr,Wt,mn,zr);break;case 2:yt(bt,Vt,zr,lr,An);break;case 3:yt(bt,lr,zr,mn,An);break}}}(U,Ae,_e,Ie,Qe),rt}l.interpolateRgb=Ag;function Ag(U,q){U=l.rgb(U),q=l.rgb(q);var ve=U.r,Ae=U.g,_e=U.b,Ie=q.r-ve,Qe=q.g-Ae,Ye=q.b-_e;return function(rt){return"#"+cn(Math.round(ve+Ie*rt))+cn(Math.round(Ae+Qe*rt))+cn(Math.round(_e+Ye*rt))}}l.interpolateObject=Yc;function Yc(U,q){var ve={},Ae={},_e;for(_e in U)_e in q?ve[_e]=Yl(U[_e],q[_e]):Ae[_e]=U[_e];for(_e in q)_e in U||(Ae[_e]=q[_e]);return function(Ie){for(_e in ve)Ae[_e]=ve[_e](Ie);return Ae}}l.interpolateNumber=fu;function fu(U,q){return U=+U,q=+q,function(ve){return U*(1-ve)+q*ve}}l.interpolateString=ws;function ws(U,q){var ve=Kc.lastIndex=il.lastIndex=0,Ae,_e,Ie,Qe=-1,Ye=[],rt=[];for(U=U+"",q=q+"";(Ae=Kc.exec(U))&&(_e=il.exec(q));)(Ie=_e.index)>ve&&(Ie=q.slice(ve,Ie),Ye[Qe]?Ye[Qe]+=Ie:Ye[++Qe]=Ie),(Ae=Ae[0])===(_e=_e[0])?Ye[Qe]?Ye[Qe]+=_e:Ye[++Qe]=_e:(Ye[++Qe]=null,rt.push({i:Qe,x:fu(Ae,_e)})),ve=il.lastIndex;return ve<q.length&&(Ie=q.slice(ve),Ye[Qe]?Ye[Qe]+=Ie:Ye[++Qe]=Ie),Ye.length<2?rt[0]?(q=rt[0].x,function(yt){return q(yt)+""}):function(){return q}:(q=rt.length,function(yt){for(var bt=0,Vt;bt<q;++bt)Ye[(Vt=rt[bt]).i]=Vt.x(yt);return Ye.join("")})}var Kc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,il=new RegExp(Kc.source,"g");l.interpolate=Yl;function Yl(U,q){for(var ve=l.interpolators.length,Ae;--ve>=0&&!(Ae=l.interpolators[ve](U,q)););return Ae}l.interpolators=[function(U,q){var ve=typeof q;return(ve==="string"?Qn.has(q.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(q)?Ag:ws:q instanceof Ir?Ag:Array.isArray(q)?Gu:ve==="object"&&isNaN(q)?Yc:fu)(U,q)}],l.interpolateArray=Gu;function Gu(U,q){var ve=[],Ae=[],_e=U.length,Ie=q.length,Qe=Math.min(U.length,q.length),Ye;for(Ye=0;Ye<Qe;++Ye)ve.push(Yl(U[Ye],q[Ye]));for(;Ye<_e;++Ye)Ae[Ye]=U[Ye];for(;Ye<Ie;++Ye)Ae[Ye]=q[Ye];return function(rt){for(Ye=0;Ye<Qe;++Ye)Ae[Ye]=ve[Ye](rt);return Ae}}var Xs=function(){return ne},Zu=l.map({linear:Xs,poly:$p,quad:function(){return ju},cubic:function(){return _g},sin:function(){return $0},exp:function(){return hh},circle:function(){return O0},elastic:mh,back:jy,bounce:function(){return Cd}}),Mg=l.map({in:ne,out:D0,"in-out":Dp,"out-in":function(U){return Dp(D0(U))}});l.ease=function(U){var q=U.indexOf("-"),ve=q>=0?U.slice(0,q):U,Ae=q>=0?U.slice(q+1):"in";return ve=Zu.get(ve)||Xs,Ae=Mg.get(Ae)||ne,Eg(Ae(ve.apply(null,c.call(arguments,1))))};function Eg(U){return function(q){return q<=0?0:q>=1?1:U(q)}}function D0(U){return function(q){return 1-U(1-q)}}function Dp(U){return function(q){return .5*(q<.5?U(2*q):2-U(2-2*q))}}function ju(U){return U*U}function _g(U){return U*U*U}function Kl(U){if(U<=0)return 0;if(U>=1)return 1;var q=U*U,ve=q*U;return 4*(U<.5?ve:3*(U-q)+ve-.75)}function $p(U){return function(q){return Math.pow(q,U)}}function $0(U){return 1-Math.cos(U*pt)}function hh(U){return Math.pow(2,10*(U-1))}function O0(U){return 1-Math.sqrt(1-U*U)}function mh(U,q){var ve;return arguments.length<2&&(q=.45),arguments.length?ve=q/it*Math.asin(1/U):(U=1,ve=q/4),function(Ae){return 1+U*Math.pow(2,-10*Ae)*Math.sin((Ae-ve)*it/q)}}function jy(U){return U||(U=1.70158),function(q){return q*q*((U+1)*q-U)}}function Cd(U){return U<.36363636363636365?7.5625*U*U:U<.7272727272727273?7.5625*(U-=.5454545454545454)*U+.75:U<.9090909090909091?7.5625*(U-=.8181818181818182)*U+.9375:7.5625*(U-=.9545454545454546)*U+.984375}l.interpolateHcl=Yy;function Yy(U,q){U=l.hcl(U),q=l.hcl(q);var ve=U.h,Ae=U.c,_e=U.l,Ie=q.h-ve,Qe=q.c-Ae,Ye=q.l-_e;return isNaN(Qe)&&(Qe=0,Ae=isNaN(Ae)?q.c:Ae),isNaN(Ie)?(Ie=0,ve=isNaN(ve)?q.h:ve):Ie>180?Ie-=360:Ie<-180&&(Ie+=360),function(rt){return xr(ve+Ie*rt,Ae+Qe*rt,_e+Ye*rt)+""}}l.interpolateHsl=Ky;function Ky(U,q){U=l.hsl(U),q=l.hsl(q);var ve=U.h,Ae=U.s,_e=U.l,Ie=q.h-ve,Qe=q.s-Ae,Ye=q.l-_e;return isNaN(Qe)&&(Qe=0,Ae=isNaN(Ae)?q.s:Ae),isNaN(Ie)?(Ie=0,ve=isNaN(ve)?q.h:ve):Ie>180?Ie-=360:Ie<-180&&(Ie+=360),function(rt){return Yr(ve+Ie*rt,Ae+Qe*rt,_e+Ye*rt)+""}}l.interpolateLab=Xy;function Xy(U,q){U=l.lab(U),q=l.lab(q);var ve=U.l,Ae=U.a,_e=U.b,Ie=q.l-ve,Qe=q.a-Ae,Ye=q.b-_e;return function(rt){return De(ve+Ie*rt,Ae+Qe*rt,_e+Ye*rt)+""}}l.interpolateRound=gh;function gh(U,q){return q-=U,function(ve){return Math.round(U+q*ve)}}l.transform=function(U){var q=u.createElementNS(l.ns.prefix.svg,"g");return(l.transform=function(ve){if(ve!=null){q.setAttribute("transform",ve);var Ae=q.transform.baseVal.consolidate()}return new P0(Ae?Ae.matrix:Op)})(U)};function P0(U){var q=[U.a,U.b],ve=[U.c,U.d],Ae=ph(q),_e=jt(q,ve),Ie=ph(du(ve,q,-_e))||0;q[0]*ve[1]<ve[0]*q[1]&&(q[0]*=-1,q[1]*=-1,Ae*=-1,_e*=-1),this.rotate=(Ae?Math.atan2(q[1],q[0]):Math.atan2(-ve[0],ve[1]))*Et,this.translate=[U.e,U.f],this.scale=[Ae,Ie],this.skew=Ie?Math.atan2(_e,Ie)*Et:0}P0.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function jt(U,q){return U[0]*q[0]+U[1]*q[1]}function ph(U){var q=Math.sqrt(jt(U,U));return q&&(U[0]/=q,U[1]/=q),q}function du(U,q,ve){return U[0]+=ve*q[0],U[1]+=ve*q[1],U}var Op={a:1,b:0,c:0,d:1,e:0,f:0};l.interpolateTransform=mf;function Rg(U){return U.length?U.pop()+",":""}function I2(U,q,ve,Ae){if(U[0]!==q[0]||U[1]!==q[1]){var _e=ve.push("translate(",null,",",null,")");Ae.push({i:_e-4,x:fu(U[0],q[0])},{i:_e-2,x:fu(U[1],q[1])})}else(q[0]||q[1])&&ve.push("translate("+q+")")}function Ba(U,q,ve,Ae){U!==q?(U-q>180?q+=360:q-U>180&&(U+=360),Ae.push({i:ve.push(Rg(ve)+"rotate(",null,")")-2,x:fu(U,q)})):q&&ve.push(Rg(ve)+"rotate("+q+")")}function Dl(U,q,ve,Ae){U!==q?Ae.push({i:ve.push(Rg(ve)+"skewX(",null,")")-2,x:fu(U,q)}):q&&ve.push(Rg(ve)+"skewX("+q+")")}function hf(U,q,ve,Ae){if(U[0]!==q[0]||U[1]!==q[1]){var _e=ve.push(Rg(ve)+"scale(",null,",",null,")");Ae.push({i:_e-4,x:fu(U[0],q[0])},{i:_e-2,x:fu(U[1],q[1])})}else(q[0]!==1||q[1]!==1)&&ve.push(Rg(ve)+"scale("+q+")")}function mf(U,q){var ve=[],Ae=[];return U=l.transform(U),q=l.transform(q),I2(U.translate,q.translate,ve,Ae),Ba(U.rotate,q.rotate,ve,Ae),Dl(U.skew,q.skew,ve,Ae),hf(U.scale,q.scale,ve,Ae),U=q=null,function(_e){for(var Ie=-1,Qe=Ae.length,Ye;++Ie<Qe;)ve[(Ye=Ae[Ie]).i]=Ye.x(_e);return ve.join("")}}function I0(U,q){return q=(q-=U=+U)||1/q,function(ve){return(ve-U)/q}}function mm(U,q){return q=(q-=U=+U)||1/q,function(ve){return Math.max(0,Math.min(1,(ve-U)/q))}}l.layout={},l.layout.bundle=function(){return function(U){for(var q=[],ve=-1,Ae=U.length;++ve<Ae;)q.push(Rc(U[ve]));return q}};function Rc(U){for(var q=U.source,ve=U.target,Ae=N0(q,ve),_e=[q];q!==Ae;)q=q.parent,_e.push(q);for(var Ie=_e.length;ve!==Ae;)_e.splice(Ie,0,ve),ve=ve.parent;return _e}function gm(U){for(var q=[],ve=U.parent;ve!=null;)q.push(U),U=ve,ve=ve.parent;return q.push(U),q}function N0(U,q){if(U===q)return U;for(var ve=gm(U),Ae=gm(q),_e=ve.pop(),Ie=Ae.pop(),Qe=null;_e===Ie;)Qe=_e,_e=ve.pop(),Ie=Ae.pop();return Qe}l.layout.chord=function(){var U={},q,ve,Ae,_e,Ie=0,Qe,Ye,rt;function yt(){var Vt={},Wt=[],mn=l.range(_e),An=[],Kt,en,dn,Rn,Mn;for(q=[],ve=[],Kt=0,Rn=-1;++Rn<_e;){for(en=0,Mn=-1;++Mn<_e;)en+=Ae[Rn][Mn];Wt.push(en),An.push(l.range(_e)),Kt+=en}for(Qe&&mn.sort(function(Ko,yo){return Qe(Wt[Ko],Wt[yo])}),Ye&&An.forEach(function(Ko,yo){Ko.sort(function(fo,Ha){return Ye(Ae[yo][fo],Ae[yo][Ha])})}),Kt=(it-Ie*_e)/Kt,en=0,Rn=-1;++Rn<_e;){for(dn=en,Mn=-1;++Mn<_e;){var vn=mn[Rn],lr=An[vn][Mn],zr=Ae[vn][lr],Jr=en,kr=en+=zr*Kt;Vt[vn+"-"+lr]={index:vn,subindex:lr,startAngle:Jr,endAngle:kr,value:zr}}ve[vn]={index:vn,startAngle:dn,endAngle:en,value:Wt[vn]},en+=Ie}for(Rn=-1;++Rn<_e;)for(Mn=Rn-1;++Mn<_e;){var eo=Vt[Rn+"-"+Mn],lo=Vt[Mn+"-"+Rn];(eo.value||lo.value)&&q.push(eo.value<lo.value?{source:lo,target:eo}:{source:eo,target:lo})}rt&&bt()}function bt(){q.sort(function(Vt,Wt){return rt((Vt.source.value+Vt.target.value)/2,(Wt.source.value+Wt.target.value)/2)})}return U.matrix=function(Vt){return arguments.length?(_e=(Ae=Vt)&&Ae.length,q=ve=null,U):Ae},U.padding=function(Vt){return arguments.length?(Ie=Vt,q=ve=null,U):Ie},U.sortGroups=function(Vt){return arguments.length?(Qe=Vt,q=ve=null,U):Qe},U.sortSubgroups=function(Vt){return arguments.length?(Ye=Vt,q=null,U):Ye},U.sortChords=function(Vt){return arguments.length?(rt=Vt,q&&bt(),U):rt},U.chords=function(){return q||yt(),q},U.groups=function(){return ve||yt(),ve},U},l.layout.force=function(){var U={},q=l.dispatch("start","tick","end"),ve,Ae=[1,1],_e,Ie,Qe=.9,Ye=zi,rt=Sd,yt=-30,bt=pm,Vt=.1,Wt=.64,mn=[],An=[],Kt,en,dn;function Rn(vn){return function(lr,zr,Jr,kr){if(lr.point!==vn){var eo=lr.cx-vn.x,lo=lr.cy-vn.y,Ko=kr-zr,yo=eo*eo+lo*lo;if(Ko*Ko/Wt<yo){if(yo<bt){var fo=lr.charge/yo;vn.px-=eo*fo,vn.py-=lo*fo}return!0}if(lr.point&&yo&&yo<bt){var fo=lr.pointCharge/yo;vn.px-=eo*fo,vn.py-=lo*fo}}return!lr.charge}}U.tick=function(){if((Ie*=.99)<.005)return ve=null,q.end({type:"end",alpha:Ie=0}),!0;var vn=mn.length,lr=An.length,zr,Jr,kr,eo,lo,Ko,yo,fo,Ha;for(Jr=0;Jr<lr;++Jr)kr=An[Jr],eo=kr.source,lo=kr.target,fo=lo.x-eo.x,Ha=lo.y-eo.y,(Ko=fo*fo+Ha*Ha)&&(Ko=Ie*en[Jr]*((Ko=Math.sqrt(Ko))-Kt[Jr])/Ko,fo*=Ko,Ha*=Ko,lo.x-=fo*(yo=eo.weight+lo.weight?eo.weight/(eo.weight+lo.weight):.5),lo.y-=Ha*yo,eo.x+=fo*(yo=1-yo),eo.y+=Ha*yo);if((yo=Ie*Vt)&&(fo=Ae[0]/2,Ha=Ae[1]/2,Jr=-1,yo))for(;++Jr<vn;)kr=mn[Jr],kr.x+=(fo-kr.x)*yo,kr.y+=(Ha-kr.y)*yo;if(yt)for(pc(zr=l.geom.quadtree(mn),Ie,dn),Jr=-1;++Jr<vn;)(kr=mn[Jr]).fixed||zr.visit(Rn(kr));for(Jr=-1;++Jr<vn;)kr=mn[Jr],kr.fixed?(kr.x=kr.px,kr.y=kr.py):(kr.x-=(kr.px-(kr.px=kr.x))*Qe,kr.y-=(kr.py-(kr.py=kr.y))*Qe);q.tick({type:"tick",alpha:Ie})},U.nodes=function(vn){return arguments.length?(mn=vn,U):mn},U.links=function(vn){return arguments.length?(An=vn,U):An},U.size=function(vn){return arguments.length?(Ae=vn,U):Ae},U.linkDistance=function(vn){return arguments.length?(Ye=typeof vn=="function"?vn:+vn,U):Ye},U.distance=U.linkDistance,U.linkStrength=function(vn){return arguments.length?(rt=typeof vn=="function"?vn:+vn,U):rt},U.friction=function(vn){return arguments.length?(Qe=+vn,U):Qe},U.charge=function(vn){return arguments.length?(yt=typeof vn=="function"?vn:+vn,U):yt},U.chargeDistance=function(vn){return arguments.length?(bt=vn*vn,U):Math.sqrt(bt)},U.gravity=function(vn){return arguments.length?(Vt=+vn,U):Vt},U.theta=function(vn){return arguments.length?(Wt=vn*vn,U):Math.sqrt(Wt)},U.alpha=function(vn){return arguments.length?(vn=+vn,Ie?vn>0?Ie=vn:(ve.c=null,ve.t=NaN,ve=null,q.end({type:"end",alpha:Ie=0})):vn>0&&(q.start({type:"start",alpha:Ie=vn}),ve=bo(U.tick)),U):Ie},U.start=function(){var vn,lr=mn.length,zr=An.length,Jr=Ae[0],kr=Ae[1],eo,lo;for(vn=0;vn<lr;++vn)(lo=mn[vn]).index=vn,lo.weight=0;for(vn=0;vn<zr;++vn)lo=An[vn],typeof lo.source=="number"&&(lo.source=mn[lo.source]),typeof lo.target=="number"&&(lo.target=mn[lo.target]),++lo.source.weight,++lo.target.weight;for(vn=0;vn<lr;++vn)lo=mn[vn],isNaN(lo.x)&&(lo.x=Ko("x",Jr)),isNaN(lo.y)&&(lo.y=Ko("y",kr)),isNaN(lo.px)&&(lo.px=lo.x),isNaN(lo.py)&&(lo.py=lo.y);if(Kt=[],typeof Ye=="function")for(vn=0;vn<zr;++vn)Kt[vn]=+Ye.call(this,An[vn],vn);else for(vn=0;vn<zr;++vn)Kt[vn]=Ye;if(en=[],typeof rt=="function")for(vn=0;vn<zr;++vn)en[vn]=+rt.call(this,An[vn],vn);else for(vn=0;vn<zr;++vn)en[vn]=rt;if(dn=[],typeof yt=="function")for(vn=0;vn<lr;++vn)dn[vn]=+yt.call(this,mn[vn],vn);else for(vn=0;vn<lr;++vn)dn[vn]=yt;function Ko(yo,fo){if(!eo){for(eo=new Array(lr),is=0;is<lr;++is)eo[is]=[];for(is=0;is<zr;++is){var Ha=An[is];eo[Ha.source.index].push(Ha.target),eo[Ha.target.index].push(Ha.source)}}for(var Vs=eo[vn],is=-1,$r=Vs.length,_o;++is<$r;)if(!isNaN(_o=Vs[is][yo]))return _o;return Math.random()*fo}return U.resume()},U.resume=function(){return U.alpha(.1)},U.stop=function(){return U.alpha(0)},U.drag=function(){if(_e||(_e=l.behavior.drag().origin(ne).on("dragstart.force",Jy).on("drag.force",Mn).on("dragend.force",hu)),!arguments.length)return _e;this.on("mouseover.force",Lg).on("mouseout.force",F0).call(_e)};function Mn(vn){vn.px=l.event.x,vn.py=l.event.y,U.resume()}return l.rebind(U,q,"on")};function Jy(U){U.fixed|=2}function hu(U){U.fixed&=-7}function Lg(U){U.fixed|=4,U.px=U.x,U.py=U.y}function F0(U){U.fixed&=-5}function pc(U,q,ve){var Ae=0,_e=0;if(U.charge=0,!U.leaf)for(var Ie=U.nodes,Qe=Ie.length,Ye=-1,rt;++Ye<Qe;)rt=Ie[Ye],rt!=null&&(pc(rt,q,ve),U.charge+=rt.charge,Ae+=rt.charge*rt.cx,_e+=rt.charge*rt.cy);if(U.point){U.leaf||(U.point.x+=Math.random()-.5,U.point.y+=Math.random()-.5);var yt=q*ve[U.point.index];U.charge+=U.pointCharge=yt,Ae+=yt*U.point.x,_e+=yt*U.point.y}U.cx=Ae/U.charge,U.cy=_e/U.charge}var zi=20,Sd=1,pm=1/0;l.layout.hierarchy=function(){var U=B0,q=Qy,ve=Dg;function Ae(_e){var Ie=[_e],Qe=[],Ye;for(_e.depth=0;(Ye=Ie.pop())!=null;)if(Qe.push(Ye),(yt=q.call(Ae,Ye,Ye.depth))&&(rt=yt.length)){for(var rt,yt,bt;--rt>=0;)Ie.push(bt=yt[rt]),bt.parent=Ye,bt.depth=Ye.depth+1;ve&&(Ye.value=0),Ye.children=yt}else ve&&(Ye.value=+ve.call(Ae,Ye,Ye.depth)||0),delete Ye.children;return mu(_e,function(Vt){var Wt,mn;U&&(Wt=Vt.children)&&Wt.sort(U),ve&&(mn=Vt.parent)&&(mn.value+=Vt.value)}),Qe}return Ae.sort=function(_e){return arguments.length?(U=_e,Ae):U},Ae.children=function(_e){return arguments.length?(q=_e,Ae):q},Ae.value=function(_e){return arguments.length?(ve=_e,Ae):ve},Ae.revalue=function(_e){return ve&&(ll(_e,function(Ie){Ie.children&&(Ie.value=0)}),mu(_e,function(Ie){var Qe;Ie.children||(Ie.value=+ve.call(Ae,Ie,Ie.depth)||0),(Qe=Ie.parent)&&(Qe.value+=Ie.value)})),_e},Ae};function Xl(U,q){return l.rebind(U,q,"sort","children","value"),U.nodes=U,U.links=Pp,U}function ll(U,q){for(var ve=[U];(U=ve.pop())!=null;)if(q(U),(_e=U.children)&&(Ae=_e.length))for(var Ae,_e;--Ae>=0;)ve.push(_e[Ae])}function mu(U,q){for(var ve=[U],Ae=[];(U=ve.pop())!=null;)if(Ae.push(U),(Qe=U.children)&&(Ie=Qe.length))for(var _e=-1,Ie,Qe;++_e<Ie;)ve.push(Qe[_e]);for(;(U=Ae.pop())!=null;)q(U)}function Qy(U){return U.children}function Dg(U){return U.value}function B0(U,q){return q.value-U.value}function Pp(U){return l.merge(U.map(function(q){return(q.children||[]).map(function(ve){return{source:q,target:ve}})}))}l.layout.partition=function(){var U=l.layout.hierarchy(),q=[1,1];function ve(Ie,Qe,Ye,rt){var yt=Ie.children;if(Ie.x=Qe,Ie.y=Ie.depth*rt,Ie.dx=Ye,Ie.dy=rt,yt&&(Vt=yt.length)){var bt=-1,Vt,Wt,mn;for(Ye=Ie.value?Ye/Ie.value:0;++bt<Vt;)ve(Wt=yt[bt],Qe,mn=Wt.value*Ye,rt),Qe+=mn}}function Ae(Ie){var Qe=Ie.children,Ye=0;if(Qe&&(yt=Qe.length))for(var rt=-1,yt;++rt<yt;)Ye=Math.max(Ye,Ae(Qe[rt]));return 1+Ye}function _e(Ie,Qe){var Ye=U.call(this,Ie,Qe);return ve(Ye[0],0,q[0],q[1]/Ae(Ye[0])),Ye}return _e.size=function(Ie){return arguments.length?(q=Ie,_e):q},Xl(_e,U)},l.layout.pie=function(){var U=Number,q=Yu,ve=0,Ae=it,_e=0;function Ie(Qe){var Ye=Qe.length,rt=Qe.map(function(Rn,Mn){return+U.call(Ie,Rn,Mn)}),yt=+(typeof ve=="function"?ve.apply(this,arguments):ve),bt=(typeof Ae=="function"?Ae.apply(this,arguments):Ae)-yt,Vt=Math.min(Math.abs(bt)/Ye,+(typeof _e=="function"?_e.apply(this,arguments):_e)),Wt=Vt*(bt<0?-1:1),mn=l.sum(rt),An=mn?(bt-Ye*Wt)/mn:0,Kt=l.range(Ye),en=[],dn;return q!=null&&Kt.sort(q===Yu?function(Rn,Mn){return rt[Mn]-rt[Rn]}:function(Rn,Mn){return q(Qe[Rn],Qe[Mn])}),Kt.forEach(function(Rn){en[Rn]={data:Qe[Rn],value:dn=rt[Rn],startAngle:yt,endAngle:yt+=dn*An+Wt,padAngle:Vt}}),en}return Ie.value=function(Qe){return arguments.length?(U=Qe,Ie):U},Ie.sort=function(Qe){return arguments.length?(q=Qe,Ie):q},Ie.startAngle=function(Qe){return arguments.length?(ve=Qe,Ie):ve},Ie.endAngle=function(Qe){return arguments.length?(Ae=Qe,Ie):Ae},Ie.padAngle=function(Qe){return arguments.length?(_e=Qe,Ie):_e},Ie};var Yu={};l.layout.stack=function(){var U=ne,q=Ip,ve=Td,Ae=R3,_e=qy,Ie=_3;function Qe(Ye,rt){if(!(An=Ye.length))return Ye;var yt=Ye.map(function(Rn,Mn){return U.call(Qe,Rn,Mn)}),bt=yt.map(function(Rn){return Rn.map(function(Mn,vn){return[_e.call(Qe,Mn,vn),Ie.call(Qe,Mn,vn)]})}),Vt=q.call(Qe,bt,rt);yt=l.permute(yt,Vt),bt=l.permute(bt,Vt);var Wt=ve.call(Qe,bt,rt),mn=yt[0].length,An,Kt,en,dn;for(en=0;en<mn;++en)for(Ae.call(Qe,yt[0][en],dn=Wt[en],bt[0][en][1]),Kt=1;Kt<An;++Kt)Ae.call(Qe,yt[Kt][en],dn+=bt[Kt-1][en][1],bt[Kt][en][1]);return Ye}return Qe.values=function(Ye){return arguments.length?(U=Ye,Qe):U},Qe.order=function(Ye){return arguments.length?(q=typeof Ye=="function"?Ye:N2.get(Ye)||Ip,Qe):q},Qe.offset=function(Ye){return arguments.length?(ve=typeof Ye=="function"?Ye:$g.get(Ye)||Td,Qe):ve},Qe.x=function(Ye){return arguments.length?(_e=Ye,Qe):_e},Qe.y=function(Ye){return arguments.length?(Ie=Ye,Qe):Ie},Qe.out=function(Ye){return arguments.length?(Ae=Ye,Qe):Ae},Qe};function qy(U){return U.x}function _3(U){return U.y}function R3(U,q,ve){U.y0=q,U.y=ve}var N2=l.map({"inside-out":function(U){var q=U.length,ve,Ae,_e=U.map(Hs),Ie=U.map(Js),Qe=l.range(q).sort(function(Vt,Wt){return _e[Vt]-_e[Wt]}),Ye=0,rt=0,yt=[],bt=[];for(ve=0;ve<q;++ve)Ae=Qe[ve],Ye<rt?(Ye+=Ie[Ae],yt.push(Ae)):(rt+=Ie[Ae],bt.push(Ae));return bt.reverse().concat(yt)},reverse:function(U){return l.range(U.length).reverse()},default:Ip}),$g=l.map({silhouette:function(U){var q=U.length,ve=U[0].length,Ae=[],_e=0,Ie,Qe,Ye,rt=[];for(Qe=0;Qe<ve;++Qe){for(Ie=0,Ye=0;Ie<q;Ie++)Ye+=U[Ie][Qe][1];Ye>_e&&(_e=Ye),Ae.push(Ye)}for(Qe=0;Qe<ve;++Qe)rt[Qe]=(_e-Ae[Qe])/2;return rt},wiggle:function(U){var q=U.length,ve=U[0],Ae=ve.length,_e,Ie,Qe,Ye,rt,yt,bt,Vt,Wt,mn=[];for(mn[0]=Vt=Wt=0,Ie=1;Ie<Ae;++Ie){for(_e=0,Ye=0;_e<q;++_e)Ye+=U[_e][Ie][1];for(_e=0,rt=0,bt=ve[Ie][0]-ve[Ie-1][0];_e<q;++_e){for(Qe=0,yt=(U[_e][Ie][1]-U[_e][Ie-1][1])/(2*bt);Qe<_e;++Qe)yt+=(U[Qe][Ie][1]-U[Qe][Ie-1][1])/bt;rt+=yt*U[_e][Ie][1]}mn[Ie]=Vt-=Ye?rt/Ye*bt:0,Vt<Wt&&(Wt=Vt)}for(Ie=0;Ie<Ae;++Ie)mn[Ie]-=Wt;return mn},expand:function(U){var q=U.length,ve=U[0].length,Ae=1/q,_e,Ie,Qe,Ye=[];for(Ie=0;Ie<ve;++Ie){for(_e=0,Qe=0;_e<q;_e++)Qe+=U[_e][Ie][1];if(Qe)for(_e=0;_e<q;_e++)U[_e][Ie][1]/=Qe;else for(_e=0;_e<q;_e++)U[_e][Ie][1]=Ae}for(Ie=0;Ie<ve;++Ie)Ye[Ie]=0;return Ye},zero:Td});function Ip(U){return l.range(U.length)}function Td(U){for(var q=-1,ve=U[0].length,Ae=[];++q<ve;)Ae[q]=0;return Ae}function Hs(U){for(var q=1,ve=0,Ae=U[0][1],_e,Ie=U.length;q<Ie;++q)(_e=U[q][1])>Ae&&(ve=q,Ae=_e);return ve}function Js(U){return U.reduce(Xc,0)}function Xc(U,q){return U+q[1]}l.layout.histogram=function(){var U=!0,q=Number,ve=bl,Ae=H0;function _e(Ie,Wt){for(var Ye=[],rt=Ie.map(q,this),yt=ve.call(this,rt,Wt),bt=Ae.call(this,yt,rt,Wt),Vt,Wt=-1,mn=rt.length,An=bt.length-1,Kt=U?1:1/mn,en;++Wt<An;)Vt=Ye[Wt]=[],Vt.dx=bt[Wt+1]-(Vt.x=bt[Wt]),Vt.y=0;if(An>0)for(Wt=-1;++Wt<mn;)en=rt[Wt],en>=yt[0]&&en<=yt[1]&&(Vt=Ye[l.bisect(bt,en,1,An)-1],Vt.y+=Kt,Vt.push(Ie[Wt]));return Ye}return _e.value=function(Ie){return arguments.length?(q=Ie,_e):q},_e.range=function(Ie){return arguments.length?(ve=Bn(Ie),_e):ve},_e.bins=function(Ie){return arguments.length?(Ae=typeof Ie=="number"?function(Qe){return eb(Qe,Ie)}:Bn(Ie),_e):Ae},_e.frequency=function(Ie){return arguments.length?(U=!!Ie,_e):U},_e};function H0(U,q){return eb(U,Math.ceil(Math.log(q.length)/Math.LN2+1))}function eb(U,q){for(var ve=-1,Ae=+U[0],_e=(U[1]-Ae)/q,Ie=[];++ve<=q;)Ie[ve]=_e*ve+Ae;return Ie}function bl(U){return[l.min(U),l.max(U)]}l.layout.pack=function(){var U=l.layout.hierarchy().sort(vm),q=0,ve=[1,1],Ae;function _e(Ie,Qe){var Ye=U.call(this,Ie,Qe),rt=Ye[0],yt=ve[0],bt=ve[1],Vt=Ae==null?Math.sqrt:typeof Ae=="function"?Ae:function(){return Ae};if(rt.x=rt.y=0,mu(rt,function(mn){mn.r=+Vt(mn.value)}),mu(rt,Wo),q){var Wt=q*(Ae?1:Math.max(2*rt.r/yt,2*rt.r/bt))/2;mu(rt,function(mn){mn.r+=Wt}),mu(rt,Wo),mu(rt,function(mn){mn.r-=Wt})}return vh(rt,yt/2,bt/2,Ae?1:1/Math.max(2*rt.r/yt,2*rt.r/bt)),Ye}return _e.size=function(Ie){return arguments.length?(ve=Ie,_e):ve},_e.radius=function(Ie){return arguments.length?(Ae=Ie==null||typeof Ie=="function"?Ie:+Ie,_e):Ae},_e.padding=function(Ie){return arguments.length?(q=+Ie,_e):q},Xl(_e,U)};function vm(U,q){return U.value-q.value}function Jl(U,q){var ve=U._pack_next;U._pack_next=q,q._pack_prev=U,q._pack_next=ve,ve._pack_prev=q}function Ku(U,q){U._pack_next=q,q._pack_prev=U}function z0(U,q){var ve=q.x-U.x,Ae=q.y-U.y,_e=U.r+q.r;return .999*_e*_e>ve*ve+Ae*Ae}function Wo(U){if(!(q=U.children)||!(Wt=q.length))return;var q,ve=1/0,Ae=-1/0,_e=1/0,Ie=-1/0,Qe,Ye,rt,yt,bt,Vt,Wt;function mn(vn){ve=Math.min(vn.x-vn.r,ve),Ae=Math.max(vn.x+vn.r,Ae),_e=Math.min(vn.y-vn.r,_e),Ie=Math.max(vn.y+vn.r,Ie)}if(q.forEach(vc),Qe=q[0],Qe.x=-Qe.r,Qe.y=0,mn(Qe),Wt>1&&(Ye=q[1],Ye.x=Ye.r,Ye.y=0,mn(Ye),Wt>2))for(rt=q[2],V0(Qe,Ye,rt),mn(rt),Jl(Qe,rt),Qe._pack_prev=rt,Jl(rt,Ye),Ye=Qe._pack_next,yt=3;yt<Wt;yt++){V0(Qe,Ye,rt=q[yt]);var An=0,Kt=1,en=1;for(bt=Ye._pack_next;bt!==Ye;bt=bt._pack_next,Kt++)if(z0(bt,rt)){An=1;break}if(An==1)for(Vt=Qe._pack_prev;Vt!==bt._pack_prev&&!z0(Vt,rt);Vt=Vt._pack_prev,en++);An?(Kt<en||Kt==en&&Ye.r<Qe.r?Ku(Qe,Ye=bt):Ku(Qe=Vt,Ye),yt--):(Jl(Qe,rt),Ye=rt,mn(rt))}var dn=(ve+Ae)/2,Rn=(_e+Ie)/2,Mn=0;for(yt=0;yt<Wt;yt++)rt=q[yt],rt.x-=dn,rt.y-=Rn,Mn=Math.max(Mn,rt.r+Math.sqrt(rt.x*rt.x+rt.y*rt.y));U.r=Mn,q.forEach(kd)}function vc(U){U._pack_next=U._pack_prev=U}function kd(U){delete U._pack_next,delete U._pack_prev}function vh(U,q,ve,Ae){var _e=U.children;if(U.x=q+=Ae*U.x,U.y=ve+=Ae*U.y,U.r*=Ae,_e)for(var Ie=-1,Qe=_e.length;++Ie<Qe;)vh(_e[Ie],q,ve,Ae)}function V0(U,q,ve){var Ae=U.r+ve.r,_e=q.x-U.x,Ie=q.y-U.y;if(Ae&&(_e||Ie)){var Qe=q.r+ve.r,Ye=_e*_e+Ie*Ie;Qe*=Qe,Ae*=Ae;var rt=.5+(Ae-Qe)/(2*Ye),yt=Math.sqrt(Math.max(0,2*Qe*(Ae+Ye)-(Ae-=Ye)*Ae-Qe*Qe))/(2*Ye);ve.x=U.x+rt*_e+yt*Ie,ve.y=U.y+rt*Ie-yt*_e}else ve.x=U.x+Ae,ve.y=U.y}l.layout.tree=function(){var U=l.layout.hierarchy().sort(null).value(null),q=U0,ve=[1,1],Ae=null;function _e(bt,Vt){var Wt=U.call(this,bt,Vt),mn=Wt[0],An=Ie(mn);if(mu(An,Qe),An.parent.m=-An.z,ll(An,Ye),Ae)ll(mn,yt);else{var Kt=mn,en=mn,dn=mn;ll(mn,function(lr){lr.x<Kt.x&&(Kt=lr),lr.x>en.x&&(en=lr),lr.depth>dn.depth&&(dn=lr)});var Rn=q(Kt,en)/2-Kt.x,Mn=ve[0]/(en.x+q(en,Kt)/2+Rn),vn=ve[1]/(dn.depth||1);ll(mn,function(lr){lr.x=(lr.x+Rn)*Mn,lr.y=lr.depth*vn})}return Wt}function Ie(bt){for(var Vt={A:null,children:[bt]},Wt=[Vt],mn;(mn=Wt.pop())!=null;)for(var An=mn.children,Kt,en=0,dn=An.length;en<dn;++en)Wt.push((An[en]=Kt={_:An[en],parent:mn,children:(Kt=An[en].children)&&Kt.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:en}).a=Kt);return Vt.children[0]}function Qe(bt){var Vt=bt.children,Wt=bt.parent.children,mn=bt.i?Wt[bt.i-1]:null;if(Vt.length){_i(bt);var An=(Vt[0].z+Vt[Vt.length-1].z)/2;mn?(bt.z=mn.z+q(bt._,mn._),bt.m=bt.z-An):bt.z=An}else mn&&(bt.z=mn.z+q(bt._,mn._));bt.parent.A=rt(bt,mn,bt.parent.A||Wt[0])}function Ye(bt){bt._.x=bt.z+bt.parent.m,bt.m+=bt.parent.m}function rt(bt,Vt,Wt){if(Vt){for(var mn=bt,An=bt,Kt=Vt,en=mn.parent.children[0],dn=mn.m,Rn=An.m,Mn=Kt.m,vn=en.m,lr;Kt=ui(Kt),mn=$l(mn),Kt&&mn;)en=$l(en),An=ui(An),An.a=bt,lr=Kt.z+Mn-mn.z-dn+q(Kt._,mn._),lr>0&&(Lc(W0(Kt,bt,Wt),bt,lr),dn+=lr,Rn+=lr),Mn+=Kt.m,dn+=mn.m,vn+=en.m,Rn+=An.m;Kt&&!ui(An)&&(An.t=Kt,An.m+=Mn-Rn),mn&&!$l(en)&&(en.t=mn,en.m+=dn-vn,Wt=bt)}return Wt}function yt(bt){bt.x*=ve[0],bt.y=bt.depth*ve[1]}return _e.separation=function(bt){return arguments.length?(q=bt,_e):q},_e.size=function(bt){return arguments.length?(Ae=(ve=bt)==null?yt:null,_e):Ae?null:ve},_e.nodeSize=function(bt){return arguments.length?(Ae=(ve=bt)==null?null:yt,_e):Ae?ve:null},Xl(_e,U)};function U0(U,q){return U.parent==q.parent?1:2}function $l(U){var q=U.children;return q.length?q[0]:U.t}function ui(U){var q=U.children,ve;return(ve=q.length)?q[ve-1]:U.t}function Lc(U,q,ve){var Ae=ve/(q.i-U.i);q.c-=Ae,q.s+=ve,U.c+=Ae,q.z+=ve,q.m+=ve}function _i(U){for(var q=0,ve=0,Ae=U.children,_e=Ae.length,Ie;--_e>=0;)Ie=Ae[_e],Ie.z+=q,Ie.m+=q,q+=Ie.s+(ve+=Ie.c)}function W0(U,q,ve){return U.a.parent===q.parent?U.a:ve}l.layout.cluster=function(){var U=l.layout.hierarchy().sort(null).value(null),q=U0,ve=[1,1],Ae=!1;function _e(Ie,Qe){var Ye=U.call(this,Ie,Qe),rt=Ye[0],yt,bt=0;mu(rt,function(Kt){var en=Kt.children;en&&en.length?(Kt.x=fi(en),Kt.y=Np(en)):(Kt.x=yt?bt+=q(Kt,yt):0,Kt.y=0,yt=Kt)});var Vt=Ri(rt),Wt=gu(rt),mn=Vt.x-q(Vt,Wt)/2,An=Wt.x+q(Wt,Vt)/2;return mu(rt,Ae?function(Kt){Kt.x=(Kt.x-rt.x)*ve[0],Kt.y=(rt.y-Kt.y)*ve[1]}:function(Kt){Kt.x=(Kt.x-mn)/(An-mn)*ve[0],Kt.y=(1-(rt.y?Kt.y/rt.y:1))*ve[1]}),Ye}return _e.separation=function(Ie){return arguments.length?(q=Ie,_e):q},_e.size=function(Ie){return arguments.length?(Ae=(ve=Ie)==null,_e):Ae?null:ve},_e.nodeSize=function(Ie){return arguments.length?(Ae=(ve=Ie)!=null,_e):Ae?ve:null},Xl(_e,U)};function Np(U){return 1+l.max(U,function(q){return q.y})}function fi(U){return U.reduce(function(q,ve){return q+ve.x},0)/U.length}function Ri(U){var q=U.children;return q&&q.length?Ri(q[0]):U}function gu(U){var q=U.children,ve;return q&&(ve=q.length)?gu(q[ve-1]):U}l.layout.treemap=function(){var U=l.layout.hierarchy(),q=Math.round,ve=[1,1],Ae=null,_e=yh,Ie=!1,Qe,Ye="squarify",rt=.5*(1+Math.sqrt(5));function yt(Kt,en){for(var dn=-1,Rn=Kt.length,Mn,vn;++dn<Rn;)vn=(Mn=Kt[dn]).value*(en<0?0:en),Mn.area=isNaN(vn)||vn<=0?0:vn}function bt(Kt){var en=Kt.children;if(en&&en.length){var dn=_e(Kt),Rn=[],Mn=en.slice(),vn,lr=1/0,zr,Jr=Ye==="slice"?dn.dx:Ye==="dice"?dn.dy:Ye==="slice-dice"?Kt.depth&1?dn.dy:dn.dx:Math.min(dn.dx,dn.dy),kr;for(yt(Mn,dn.dx*dn.dy/Kt.value),Rn.area=0;(kr=Mn.length)>0;)Rn.push(vn=Mn[kr-1]),Rn.area+=vn.area,Ye!=="squarify"||(zr=Wt(Rn,Jr))<=lr?(Mn.pop(),lr=zr):(Rn.area-=Rn.pop().area,mn(Rn,Jr,dn,!1),Jr=Math.min(dn.dx,dn.dy),Rn.length=Rn.area=0,lr=1/0);Rn.length&&(mn(Rn,Jr,dn,!0),Rn.length=Rn.area=0),en.forEach(bt)}}function Vt(Kt){var en=Kt.children;if(en&&en.length){var dn=_e(Kt),Rn=en.slice(),Mn,vn=[];for(yt(Rn,dn.dx*dn.dy/Kt.value),vn.area=0;Mn=Rn.pop();)vn.push(Mn),vn.area+=Mn.area,Mn.z!=null&&(mn(vn,Mn.z?dn.dx:dn.dy,dn,!Rn.length),vn.length=vn.area=0);en.forEach(Vt)}}function Wt(Kt,en){for(var dn=Kt.area,Rn,Mn=0,vn=1/0,lr=-1,zr=Kt.length;++lr<zr;)(Rn=Kt[lr].area)&&(Rn<vn&&(vn=Rn),Rn>Mn&&(Mn=Rn));return dn*=dn,en*=en,dn?Math.max(en*Mn*rt/dn,dn/(en*vn*rt)):1/0}function mn(Kt,en,dn,Rn){var Mn=-1,vn=Kt.length,lr=dn.x,zr=dn.y,Jr=en?q(Kt.area/en):0,kr;if(en==dn.dx){for((Rn||Jr>dn.dy)&&(Jr=dn.dy);++Mn<vn;)kr=Kt[Mn],kr.x=lr,kr.y=zr,kr.dy=Jr,lr+=kr.dx=Math.min(dn.x+dn.dx-lr,Jr?q(kr.area/Jr):0);kr.z=!0,kr.dx+=dn.x+dn.dx-lr,dn.y+=Jr,dn.dy-=Jr}else{for((Rn||Jr>dn.dx)&&(Jr=dn.dx);++Mn<vn;)kr=Kt[Mn],kr.x=lr,kr.y=zr,kr.dx=Jr,zr+=kr.dy=Math.min(dn.y+dn.dy-zr,Jr?q(kr.area/Jr):0);kr.z=!1,kr.dy+=dn.y+dn.dy-zr,dn.x+=Jr,dn.dx-=Jr}}function An(Kt){var en=Qe||U(Kt),dn=en[0];return dn.x=dn.y=0,dn.value?(dn.dx=ve[0],dn.dy=ve[1]):dn.dx=dn.dy=0,Qe&&U.revalue(dn),yt([dn],dn.dx*dn.dy/dn.value),(Qe?Vt:bt)(dn),Ie&&(Qe=en),en}return An.size=function(Kt){return arguments.length?(ve=Kt,An):ve},An.padding=function(Kt){if(!arguments.length)return Ae;function en(Mn){var vn=Kt.call(An,Mn,Mn.depth);return vn==null?yh(Mn):di(Mn,typeof vn=="number"?[vn,vn,vn,vn]:vn)}function dn(Mn){return di(Mn,Kt)}var Rn;return _e=(Ae=Kt)==null?yh:(Rn=typeof Kt)=="function"?en:(Rn==="number"&&(Kt=[Kt,Kt,Kt,Kt]),dn),An},An.round=function(Kt){return arguments.length?(q=Kt?Math.round:Number,An):q!=Number},An.sticky=function(Kt){return arguments.length?(Ie=Kt,Qe=null,An):Ie},An.ratio=function(Kt){return arguments.length?(rt=Kt,An):rt},An.mode=function(Kt){return arguments.length?(Ye=Kt+"",An):Ye},Xl(An,U)};function yh(U){return{x:U.x,y:U.y,dx:U.dx,dy:U.dy}}function di(U,q){var ve=U.x+q[3],Ae=U.y+q[0],_e=U.dx-q[1]-q[3],Ie=U.dy-q[0]-q[2];return _e<0&&(ve+=_e/2,_e=0),Ie<0&&(Ae+=Ie/2,Ie=0),{x:ve,y:Ae,dx:_e,dy:Ie}}l.random={normal:function(U,q){var ve=arguments.length;return ve<2&&(q=1),ve<1&&(U=0),function(){var Ae,_e,Ie;do Ae=Math.random()*2-1,_e=Math.random()*2-1,Ie=Ae*Ae+_e*_e;while(!Ie||Ie>1);return U+q*Ae*Math.sqrt(-2*Math.log(Ie)/Ie)}},logNormal:function(){var U=l.random.normal.apply(l,arguments);return function(){return Math.exp(U())}},bates:function(U){var q=l.random.irwinHall(U);return function(){return q()/U}},irwinHall:function(U){return function(){for(var q=0,ve=0;ve<U;ve++)q+=Math.random();return q}}},l.scale={};function ym(U){var q=U[0],ve=U[U.length-1];return q<ve?[q,ve]:[ve,q]}function Og(U){return U.rangeExtent?U.rangeExtent():ym(U.range())}function hs(U,q,ve,Ae){var _e=ve(U[0],U[1]),Ie=Ae(q[0],q[1]);return function(Qe){return Ie(_e(Qe))}}function Ad(U,q){var ve=0,Ae=U.length-1,_e=U[ve],Ie=U[Ae],Qe;return Ie<_e&&(Qe=ve,ve=Ae,Ae=Qe,Qe=_e,_e=Ie,Ie=Qe),U[ve]=q.floor(_e),U[Ae]=q.ceil(Ie),U}function Ua(U){return U?{floor:function(q){return Math.floor(q/U)*U},ceil:function(q){return Math.ceil(q/U)*U}}:Xu}var Xu={floor:ne,ceil:ne};function G0(U,q,ve,Ae){var _e=[],Ie=[],Qe=0,Ye=Math.min(U.length,q.length)-1;for(U[Ye]<U[0]&&(U=U.slice().reverse(),q=q.slice().reverse());++Qe<=Ye;)_e.push(ve(U[Qe-1],U[Qe])),Ie.push(Ae(q[Qe-1],q[Qe]));return function(rt){var yt=l.bisect(U,rt,1,Ye)-1;return Ie[yt](_e[yt](rt))}}l.scale.linear=function(){return Pg([0,1],[0,1],Yl,!1)};function Pg(U,q,ve,Ae){var _e,Ie;function Qe(){var rt=Math.min(U.length,q.length)>2?G0:hs,yt=Ae?mm:I0;return _e=rt(U,q,yt,ve),Ie=rt(q,U,yt,Yl),Ye}function Ye(rt){return _e(rt)}return Ye.invert=function(rt){return Ie(rt)},Ye.domain=function(rt){return arguments.length?(U=rt.map(Number),Qe()):U},Ye.range=function(rt){return arguments.length?(q=rt,Qe()):q},Ye.rangeRound=function(rt){return Ye.range(rt).interpolate(gh)},Ye.clamp=function(rt){return arguments.length?(Ae=rt,Qe()):Ae},Ye.interpolate=function(rt){return arguments.length?(ve=rt,Qe()):ve},Ye.ticks=function(rt){return Ig(U,rt)},Ye.tickFormat=function(rt,yt){return d3_scale_linearTickFormat(U,rt,yt)},Ye.nice=function(rt){return bh(U,rt),Qe()},Ye.copy=function(){return Pg(U,q,ve,Ae)},Qe()}function aa(U,q){return l.rebind(U,q,"range","rangeRound","interpolate","clamp")}function bh(U,q){return Ad(U,Ua(Fp(U,q)[2])),Ad(U,Ua(Fp(U,q)[2])),U}function Fp(U,q){q==null&&(q=10);var ve=ym(U),Ae=ve[1]-ve[0],_e=Math.pow(10,Math.floor(Math.log(Ae/q)/Math.LN10)),Ie=q/Ae*_e;return Ie<=.15?_e*=10:Ie<=.35?_e*=5:Ie<=.75&&(_e*=2),ve[0]=Math.ceil(ve[0]/_e)*_e,ve[1]=Math.floor(ve[1]/_e)*_e+_e*.5,ve[2]=_e,ve}function Ig(U,q){return l.range.apply(l,Fp(U,q))}l.scale.log=function(){return F2(l.scale.linear().domain([0,1]),10,!0,[1,10])};function F2(U,q,ve,Ae){function _e(Ye){return(ve?Math.log(Ye<0?0:Ye):-Math.log(Ye>0?0:-Ye))/Math.log(q)}function Ie(Ye){return ve?Math.pow(q,Ye):-Math.pow(q,-Ye)}function Qe(Ye){return U(_e(Ye))}return Qe.invert=function(Ye){return Ie(U.invert(Ye))},Qe.domain=function(Ye){return arguments.length?(ve=Ye[0]>=0,U.domain((Ae=Ye.map(Number)).map(_e)),Qe):Ae},Qe.base=function(Ye){return arguments.length?(q=+Ye,U.domain(Ae.map(_e)),Qe):q},Qe.nice=function(){var Ye=Ad(Ae.map(_e),ve?Math:B2);return U.domain(Ye),Ae=Ye.map(Ie),Qe},Qe.ticks=function(){var Ye=ym(Ae),rt=[],yt=Ye[0],bt=Ye[1],Vt=Math.floor(_e(yt)),Wt=Math.ceil(_e(bt)),mn=q%1?2:q;if(isFinite(Wt-Vt)){if(ve){for(;Vt<Wt;Vt++)for(var An=1;An<mn;An++)rt.push(Ie(Vt)*An);rt.push(Ie(Vt))}else for(rt.push(Ie(Vt));Vt++<Wt;)for(var An=mn-1;An>0;An--)rt.push(Ie(Vt)*An);for(Vt=0;rt[Vt]<yt;Vt++);for(Wt=rt.length;rt[Wt-1]>bt;Wt--);rt=rt.slice(Vt,Wt)}return rt},Qe.copy=function(){return F2(U.copy(),q,ve,Ae)},aa(Qe,U)}var B2={floor:function(U){return-Math.ceil(-U)},ceil:function(U){return-Math.floor(-U)}};l.scale.pow=function(){return Z0(l.scale.linear(),1,[0,1])};function Z0(U,q,ve){var Ae=xh(q),_e=xh(1/q);function Ie(Qe){return U(Ae(Qe))}return Ie.invert=function(Qe){return _e(U.invert(Qe))},Ie.domain=function(Qe){return arguments.length?(U.domain((ve=Qe.map(Number)).map(Ae)),Ie):ve},Ie.ticks=function(Qe){return Ig(ve,Qe)},Ie.tickFormat=function(Qe,Ye){return d3_scale_linearTickFormat(ve,Qe,Ye)},Ie.nice=function(Qe){return Ie.domain(bh(ve,Qe))},Ie.exponent=function(Qe){return arguments.length?(Ae=xh(q=Qe),_e=xh(1/q),U.domain(ve.map(Ae)),Ie):q},Ie.copy=function(){return Z0(U.copy(),q,ve)},aa(Ie,U)}function xh(U){return function(q){return q<0?-Math.pow(-q,U):Math.pow(q,U)}}l.scale.sqrt=function(){return l.scale.pow().exponent(.5)},l.scale.ordinal=function(){return Bp([],{t:"range",a:[[]]})};function Bp(U,q){var ve,Ae,_e;function Ie(Ye){return Ae[((ve.get(Ye)||(q.t==="range"?ve.set(Ye,U.push(Ye)):NaN))-1)%Ae.length]}function Qe(Ye,rt){return l.range(U.length).map(function(yt){return Ye+rt*yt})}return Ie.domain=function(Ye){if(!arguments.length)return U;U=[],ve=new j;for(var rt=-1,yt=Ye.length,bt;++rt<yt;)ve.has(bt=Ye[rt])||ve.set(bt,U.push(bt));return Ie[q.t].apply(Ie,q.a)},Ie.range=function(Ye){return arguments.length?(Ae=Ye,_e=0,q={t:"range",a:arguments},Ie):Ae},Ie.rangePoints=function(Ye,rt){arguments.length<2&&(rt=0);var yt=Ye[0],bt=Ye[1],Vt=U.length<2?(yt=(yt+bt)/2,0):(bt-yt)/(U.length-1+rt);return Ae=Qe(yt+Vt*rt/2,Vt),_e=0,q={t:"rangePoints",a:arguments},Ie},Ie.rangeRoundPoints=function(Ye,rt){arguments.length<2&&(rt=0);var yt=Ye[0],bt=Ye[1],Vt=U.length<2?(yt=bt=Math.round((yt+bt)/2),0):(bt-yt)/(U.length-1+rt)|0;return Ae=Qe(yt+Math.round(Vt*rt/2+(bt-yt-(U.length-1+rt)*Vt)/2),Vt),_e=0,q={t:"rangeRoundPoints",a:arguments},Ie},Ie.rangeBands=function(Ye,rt,yt){arguments.length<2&&(rt=0),arguments.length<3&&(yt=rt);var bt=Ye[1]<Ye[0],Vt=Ye[bt-0],Wt=Ye[1-bt],mn=(Wt-Vt)/(U.length-rt+2*yt);return Ae=Qe(Vt+mn*yt,mn),bt&&Ae.reverse(),_e=mn*(1-rt),q={t:"rangeBands",a:arguments},Ie},Ie.rangeRoundBands=function(Ye,rt,yt){arguments.length<2&&(rt=0),arguments.length<3&&(yt=rt);var bt=Ye[1]<Ye[0],Vt=Ye[bt-0],Wt=Ye[1-bt],mn=Math.floor((Wt-Vt)/(U.length-rt+2*yt));return Ae=Qe(Vt+Math.round((Wt-Vt-(U.length-rt)*mn)/2),mn),bt&&Ae.reverse(),_e=Math.round(mn*(1-rt)),q={t:"rangeRoundBands",a:arguments},Ie},Ie.rangeBand=function(){return _e},Ie.rangeExtent=function(){return ym(q.a[0])},Ie.copy=function(){return Bp(U,q)},Ie.domain(U)}l.scale.category10=function(){return l.scale.ordinal().range(wh)},l.scale.category20=function(){return l.scale.ordinal().range(bm)},l.scale.category20b=function(){return l.scale.ordinal().range(tb)},l.scale.category20c=function(){return l.scale.ordinal().range(pu)};var wh=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(_t),bm=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(_t),tb=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(_t),pu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(_t);l.scale.quantile=function(){return nb([],[])};function nb(U,q){var ve;function Ae(){var Ie=0,Qe=q.length;for(ve=[];++Ie<Qe;)ve[Ie-1]=l.quantile(U,Ie/Qe);return _e}function _e(Ie){if(!isNaN(Ie=+Ie))return q[l.bisect(ve,Ie)]}return _e.domain=function(Ie){return arguments.length?(U=Ie.map(O).filter(D).sort(S),Ae()):U},_e.range=function(Ie){return arguments.length?(q=Ie,Ae()):q},_e.quantiles=function(){return ve},_e.invertExtent=function(Ie){return Ie=q.indexOf(Ie),Ie<0?[NaN,NaN]:[Ie>0?ve[Ie-1]:U[0],Ie<ve.length?ve[Ie]:U[U.length-1]]},_e.copy=function(){return nb(U,q)},Ae()}l.scale.quantize=function(){return Ch(0,1,[0,1])};function Ch(U,q,ve){var Ae,_e;function Ie(Ye){return ve[Math.max(0,Math.min(_e,Math.floor(Ae*(Ye-U))))]}function Qe(){return Ae=ve.length/(q-U),_e=ve.length-1,Ie}return Ie.domain=function(Ye){return arguments.length?(U=+Ye[0],q=+Ye[Ye.length-1],Qe()):[U,q]},Ie.range=function(Ye){return arguments.length?(ve=Ye,Qe()):ve},Ie.invertExtent=function(Ye){return Ye=ve.indexOf(Ye),Ye=Ye<0?NaN:Ye/Ae+U,[Ye,Ye+1/Ae]},Ie.copy=function(){return Ch(U,q,ve)},Qe()}l.scale.threshold=function(){return Jc([.5],[0,1])};function Jc(U,q){function ve(Ae){if(Ae<=Ae)return q[l.bisect(U,Ae)]}return ve.domain=function(Ae){return arguments.length?(U=Ae,ve):U},ve.range=function(Ae){return arguments.length?(q=Ae,ve):q},ve.invertExtent=function(Ae){return Ae=q.indexOf(Ae),[U[Ae-1],U[Ae]]},ve.copy=function(){return Jc(U,q)},ve}l.scale.identity=function(){return Hp([0,1])};function Hp(U){function q(ve){return+ve}return q.invert=q,q.domain=q.range=function(ve){return arguments.length?(U=ve.map(q),q):U},q.ticks=function(ve){return Ig(U,ve)},q.tickFormat=function(ve,Ae){return d3_scale_linearTickFormat(U,ve,Ae)},q.copy=function(){return Hp(U)},q}l.svg={};function j0(){return 0}l.svg.arc=function(){var U=Y0,q=K0,ve=j0,Ae=xm,_e=X0,Ie=zp,Qe=Vi;function Ye(){var yt=Math.max(0,+U.apply(this,arguments)),bt=Math.max(0,+q.apply(this,arguments)),Vt=_e.apply(this,arguments)-pt,Wt=Ie.apply(this,arguments)-pt,mn=Math.abs(Wt-Vt),An=Vt>Wt?0:1;if(bt<yt&&(Kt=bt,bt=yt,yt=Kt),mn>=ht)return rt(bt,An)+(yt?rt(yt,1-An):"")+"Z";var Kt,en,dn,Rn,Mn=0,vn=0,lr,zr,Jr,kr,eo,lo,Ko,yo,fo=[];if((Rn=(+Qe.apply(this,arguments)||0)/2)&&(dn=Ae===xm?Math.sqrt(yt*yt+bt*bt):+Ae.apply(this,arguments),An||(vn*=-1),bt&&(vn=tn(dn/bt*Math.sin(Rn))),yt&&(Mn=tn(dn/yt*Math.sin(Rn)))),bt){lr=bt*Math.cos(Vt+vn),zr=bt*Math.sin(Vt+vn),Jr=bt*Math.cos(Wt-vn),kr=bt*Math.sin(Wt-vn);var Ha=Math.abs(Wt-Vt-2*vn)<=Ze?0:1;if(vn&&Ng(lr,zr,Jr,kr)===An^Ha){var Vs=(Vt+Wt)/2;lr=bt*Math.cos(Vs),zr=bt*Math.sin(Vs),Jr=kr=null}}else lr=zr=0;if(yt){eo=yt*Math.cos(Wt-Mn),lo=yt*Math.sin(Wt-Mn),Ko=yt*Math.cos(Vt+Mn),yo=yt*Math.sin(Vt+Mn);var is=Math.abs(Vt-Wt+2*Mn)<=Ze?0:1;if(Mn&&Ng(eo,lo,Ko,yo)===1-An^is){var $r=(Vt+Wt)/2;eo=yt*Math.cos($r),lo=yt*Math.sin($r),Ko=yo=null}}else eo=lo=0;if(mn>vt&&(Kt=Math.min(Math.abs(bt-yt)/2,+ve.apply(this,arguments)))>.001){en=yt<bt^An?0:1;var _o=Kt,sa=Kt;if(mn<Ze){var Ca=Ko==null?[eo,lo]:Jr==null?[lr,zr]:ks([lr,zr],[Ko,yo],[Jr,kr],[eo,lo]),As=lr-Ca[0],qs=zr-Ca[1],Di=Jr-Ca[0],xi=kr-Ca[1],xc=1/Math.sin(Math.acos((As*Di+qs*xi)/(Math.sqrt(As*As+qs*qs)*Math.sqrt(Di*Di+xi*xi)))/2),Ii=Math.sqrt(Ca[0]*Ca[0]+Ca[1]*Ca[1]);sa=Math.min(Kt,(yt-Ii)/(xc-1)),_o=Math.min(Kt,(bt-Ii)/(xc+1))}if(Jr!=null){var tc=es(Ko==null?[eo,lo]:[Ko,yo],[lr,zr],bt,_o,An),Cl=es([Jr,kr],[eo,lo],bt,_o,An);Kt===_o?fo.push("M",tc[0],"A",_o,",",_o," 0 0,",en," ",tc[1],"A",bt,",",bt," 0 ",1-An^Ng(tc[1][0],tc[1][1],Cl[1][0],Cl[1][1]),",",An," ",Cl[1],"A",_o,",",_o," 0 0,",en," ",Cl[0]):fo.push("M",tc[0],"A",_o,",",_o," 0 1,",en," ",Cl[0])}else fo.push("M",lr,",",zr);if(Ko!=null){var Ga=es([lr,zr],[Ko,yo],yt,-sa,An),xu=es([eo,lo],Jr==null?[lr,zr]:[Jr,kr],yt,-sa,An);Kt===sa?fo.push("L",xu[0],"A",sa,",",sa," 0 0,",en," ",xu[1],"A",yt,",",yt," 0 ",An^Ng(xu[1][0],xu[1][1],Ga[1][0],Ga[1][1]),",",1-An," ",Ga[1],"A",sa,",",sa," 0 0,",en," ",Ga[0]):fo.push("L",xu[0],"A",sa,",",sa," 0 0,",en," ",Ga[0])}else fo.push("L",eo,",",lo)}else fo.push("M",lr,",",zr),Jr!=null&&fo.push("A",bt,",",bt," 0 ",Ha,",",An," ",Jr,",",kr),fo.push("L",eo,",",lo),Ko!=null&&fo.push("A",yt,",",yt," 0 ",is,",",1-An," ",Ko,",",yo);return fo.push("Z"),fo.join("")}function rt(yt,bt){return"M0,"+yt+"A"+yt+","+yt+" 0 1,"+bt+" 0,"+-yt+"A"+yt+","+yt+" 0 1,"+bt+" 0,"+yt}return Ye.innerRadius=function(yt){return arguments.length?(U=Bn(yt),Ye):U},Ye.outerRadius=function(yt){return arguments.length?(q=Bn(yt),Ye):q},Ye.cornerRadius=function(yt){return arguments.length?(ve=Bn(yt),Ye):ve},Ye.padRadius=function(yt){return arguments.length?(Ae=yt==xm?xm:Bn(yt),Ye):Ae},Ye.startAngle=function(yt){return arguments.length?(_e=Bn(yt),Ye):_e},Ye.endAngle=function(yt){return arguments.length?(Ie=Bn(yt),Ye):Ie},Ye.padAngle=function(yt){return arguments.length?(Qe=Bn(yt),Ye):Qe},Ye.centroid=function(){var yt=(+U.apply(this,arguments)+ +q.apply(this,arguments))/2,bt=(+_e.apply(this,arguments)+ +Ie.apply(this,arguments))/2-pt;return[Math.cos(bt)*yt,Math.sin(bt)*yt]},Ye};var xm="auto";function Y0(U){return U.innerRadius}function K0(U){return U.outerRadius}function X0(U){return U.startAngle}function zp(U){return U.endAngle}function Vi(U){return U&&U.padAngle}function Ng(U,q,ve,Ae){return(U-ve)*q-(q-Ae)*U>0?0:1}function es(U,q,ve,Ae,_e){var Ie=U[0]-q[0],Qe=U[1]-q[1],Ye=(_e?Ae:-Ae)/Math.sqrt(Ie*Ie+Qe*Qe),rt=Ye*Qe,yt=-Ye*Ie,bt=U[0]+rt,Vt=U[1]+yt,Wt=q[0]+rt,mn=q[1]+yt,An=(bt+Wt)/2,Kt=(Vt+mn)/2,en=Wt-bt,dn=mn-Vt,Rn=en*en+dn*dn,Mn=ve-Ae,vn=bt*mn-Wt*Vt,lr=(dn<0?-1:1)*Math.sqrt(Math.max(0,Mn*Mn*Rn-vn*vn)),zr=(vn*dn-en*lr)/Rn,Jr=(-vn*en-dn*lr)/Rn,kr=(vn*dn+en*lr)/Rn,eo=(-vn*en+dn*lr)/Rn,lo=zr-An,Ko=Jr-Kt,yo=kr-An,fo=eo-Kt;return lo*lo+Ko*Ko>yo*yo+fo*fo&&(zr=kr,Jr=eo),[[zr-rt,Jr-yt],[zr*ve/Mn,Jr*ve/Mn]]}function io(){return!0}function vu(U){var q=Yo,ve=Fa,Ae=io,_e=xl,Ie=_e.key,Qe=.7;function Ye(rt){var yt=[],bt=[],Vt=-1,Wt=rt.length,mn,An=Bn(q),Kt=Bn(ve);function en(){yt.push("M",_e(U(bt),Qe))}for(;++Vt<Wt;)Ae.call(this,mn=rt[Vt],Vt)?bt.push([+An.call(this,mn,Vt),+Kt.call(this,mn,Vt)]):bt.length&&(en(),bt=[]);return bt.length&&en(),yt.length?yt.join(""):null}return Ye.x=function(rt){return arguments.length?(q=rt,Ye):q},Ye.y=function(rt){return arguments.length?(ve=rt,Ye):ve},Ye.defined=function(rt){return arguments.length?(Ae=rt,Ye):Ae},Ye.interpolate=function(rt){return arguments.length?(typeof rt=="function"?Ie=_e=rt:Ie=(_e=Gr.get(rt)||xl).key,Ye):Ie},Ye.tension=function(rt){return arguments.length?(Qe=rt,Ye):Qe},Ye}l.svg.line=function(){return vu(ne)};var Gr=l.map({linear:xl,"linear-closed":H2,step:Wf,"step-before":oi,"step-after":Gf,basis:J0,"basis-open":Vp,"basis-closed":ir,bundle:rb,cardinal:Ju,"cardinal-open":Fg,"cardinal-closed":Ui,monotone:Bg});Gr.forEach(function(U,q){q.key=U,q.closed=/-closed$/.test(U)});function xl(U){return U.length>1?U.join("L"):U+"Z"}function H2(U){return U.join("L")+"Z"}function Wf(U){for(var q=0,ve=U.length,Ae=U[0],_e=[Ae[0],",",Ae[1]];++q<ve;)_e.push("H",(Ae[0]+(Ae=U[q])[0])/2,"V",Ae[1]);return ve>1&&_e.push("H",Ae[0]),_e.join("")}function oi(U){for(var q=0,ve=U.length,Ae=U[0],_e=[Ae[0],",",Ae[1]];++q<ve;)_e.push("V",(Ae=U[q])[1],"H",Ae[0]);return _e.join("")}function Gf(U){for(var q=0,ve=U.length,Ae=U[0],_e=[Ae[0],",",Ae[1]];++q<ve;)_e.push("H",(Ae=U[q])[0],"V",Ae[1]);return _e.join("")}function Fg(U,q){return U.length<4?xl(U):U[1]+Sh(U.slice(1,-1),yu(U,q))}function Ui(U,q){return U.length<3?H2(U):U[0]+Sh((U.push(U[0]),U),yu([U[U.length-2]].concat(U,[U[1]]),q))}function Ju(U,q){return U.length<3?xl(U):U[0]+Sh(U,yu(U,q))}function Sh(U,q){if(q.length<1||U.length!=q.length&&U.length!=q.length+2)return xl(U);var ve=U.length!=q.length,Ae="",_e=U[0],Ie=U[1],Qe=q[0],Ye=Qe,rt=1;if(ve&&(Ae+="Q"+(Ie[0]-Qe[0]*2/3)+","+(Ie[1]-Qe[1]*2/3)+","+Ie[0]+","+Ie[1],_e=U[1],rt=2),q.length>1){Ye=q[1],Ie=U[rt],rt++,Ae+="C"+(_e[0]+Qe[0])+","+(_e[1]+Qe[1])+","+(Ie[0]-Ye[0])+","+(Ie[1]-Ye[1])+","+Ie[0]+","+Ie[1];for(var yt=2;yt<q.length;yt++,rt++)Ie=U[rt],Ye=q[yt],Ae+="S"+(Ie[0]-Ye[0])+","+(Ie[1]-Ye[1])+","+Ie[0]+","+Ie[1]}if(ve){var bt=U[rt];Ae+="Q"+(Ie[0]+Ye[0]*2/3)+","+(Ie[1]+Ye[1]*2/3)+","+bt[0]+","+bt[1]}return Ae}function yu(U,q){for(var ve=[],Ae=(1-q)/2,_e,Ie=U[0],Qe=U[1],Ye=1,rt=U.length;++Ye<rt;)_e=Ie,Ie=Qe,Qe=U[Ye],ve.push([Ae*(Qe[0]-_e[0]),Ae*(Qe[1]-_e[1])]);return ve}function J0(U){if(U.length<3)return xl(U);var q=1,ve=U.length,Ae=U[0],_e=Ae[0],Ie=Ae[1],Qe=[_e,_e,_e,(Ae=U[1])[0]],Ye=[Ie,Ie,Ie,Ae[1]],rt=[_e,",",Ie,"L",cl(ns,Qe),",",cl(ns,Ye)];for(U.push(U[ve-1]);++q<=ve;)Ae=U[q],Qe.shift(),Qe.push(Ae[0]),Ye.shift(),Ye.push(Ae[1]),Ja(rt,Qe,Ye);return U.pop(),rt.push("L",Ae),rt.join("")}function Vp(U){if(U.length<4)return xl(U);for(var q=[],ve=-1,Ae=U.length,_e,Ie=[0],Qe=[0];++ve<3;)_e=U[ve],Ie.push(_e[0]),Qe.push(_e[1]);for(q.push(cl(ns,Ie)+","+cl(ns,Qe)),--ve;++ve<Ae;)_e=U[ve],Ie.shift(),Ie.push(_e[0]),Qe.shift(),Qe.push(_e[1]),Ja(q,Ie,Qe);return q.join("")}function ir(U){for(var q,ve=-1,Ae=U.length,_e=Ae+4,Ie,Qe=[],Ye=[];++ve<4;)Ie=U[ve%Ae],Qe.push(Ie[0]),Ye.push(Ie[1]);for(q=[cl(ns,Qe),",",cl(ns,Ye)],--ve;++ve<_e;)Ie=U[ve%Ae],Qe.shift(),Qe.push(Ie[0]),Ye.shift(),Ye.push(Ie[1]),Ja(q,Qe,Ye);return q.join("")}function rb(U,q){var ve=U.length-1;if(ve)for(var Ae=U[0][0],_e=U[0][1],Ie=U[ve][0]-Ae,Qe=U[ve][1]-_e,Ye=-1,rt,yt;++Ye<=ve;)rt=U[Ye],yt=Ye/ve,rt[0]=q*rt[0]+(1-q)*(Ae+yt*Ie),rt[1]=q*rt[1]+(1-q)*(_e+yt*Qe);return J0(U)}function cl(U,q){return U[0]*q[0]+U[1]*q[1]+U[2]*q[2]+U[3]*q[3]}var gf=[0,2/3,1/3,0],wm=[0,1/3,2/3,0],ns=[0,1/6,2/3,1/6];function Ja(U,q,ve){U.push("C",cl(gf,q),",",cl(gf,ve),",",cl(wm,q),",",cl(wm,ve),",",cl(ns,q),",",cl(ns,ve))}function ul(U,q){return(q[1]-U[1])/(q[0]-U[0])}function wl(U){for(var q=0,ve=U.length-1,Ae=[],_e=U[0],Ie=U[1],Qe=Ae[0]=ul(_e,Ie);++q<ve;)Ae[q]=(Qe+(Qe=ul(_e=Ie,Ie=U[q+1])))/2;return Ae[q]=Qe,Ae}function fa(U){for(var q=[],ve,Ae,_e,Ie,Qe=wl(U),Ye=-1,rt=U.length-1;++Ye<rt;)ve=ul(U[Ye],U[Ye+1]),R(ve)<vt?Qe[Ye]=Qe[Ye+1]=0:(Ae=Qe[Ye]/ve,_e=Qe[Ye+1]/ve,Ie=Ae*Ae+_e*_e,Ie>9&&(Ie=ve*3/Math.sqrt(Ie),Qe[Ye]=Ie*Ae,Qe[Ye+1]=Ie*_e));for(Ye=-1;++Ye<=rt;)Ie=(U[Math.min(rt,Ye+1)][0]-U[Math.max(0,Ye-1)][0])/(6*(1+Qe[Ye]*Qe[Ye])),q.push([Ie||0,Qe[Ye]*Ie||0]);return q}function Bg(U){return U.length<3?xl(U):U[0]+Sh(U,fa(U))}l.svg.line.radial=function(){var U=vu(Wi);return U.radius=U.x,delete U.x,U.angle=U.y,delete U.y,U};function Wi(U){for(var q,ve=-1,Ae=U.length,_e,Ie;++ve<Ae;)q=U[ve],_e=q[0],Ie=q[1]-pt,q[0]=_e*Math.cos(Ie),q[1]=_e*Math.sin(Ie);return U}function zs(U){var q=Yo,ve=Yo,Ae=0,_e=Fa,Ie=io,Qe=xl,Ye=Qe.key,rt=Qe,yt="L",bt=.7;function Vt(Wt){var mn=[],An=[],Kt=[],en=-1,dn=Wt.length,Rn,Mn=Bn(q),vn=Bn(Ae),lr=q===ve?function(){return Jr}:Bn(ve),zr=Ae===_e?function(){return kr}:Bn(_e),Jr,kr;function eo(){mn.push("M",Qe(U(Kt),bt),yt,rt(U(An.reverse()),bt),"Z")}for(;++en<dn;)Ie.call(this,Rn=Wt[en],en)?(An.push([Jr=+Mn.call(this,Rn,en),kr=+vn.call(this,Rn,en)]),Kt.push([+lr.call(this,Rn,en),+zr.call(this,Rn,en)])):An.length&&(eo(),An=[],Kt=[]);return An.length&&eo(),mn.length?mn.join(""):null}return Vt.x=function(Wt){return arguments.length?(q=ve=Wt,Vt):ve},Vt.x0=function(Wt){return arguments.length?(q=Wt,Vt):q},Vt.x1=function(Wt){return arguments.length?(ve=Wt,Vt):ve},Vt.y=function(Wt){return arguments.length?(Ae=_e=Wt,Vt):_e},Vt.y0=function(Wt){return arguments.length?(Ae=Wt,Vt):Ae},Vt.y1=function(Wt){return arguments.length?(_e=Wt,Vt):_e},Vt.defined=function(Wt){return arguments.length?(Ie=Wt,Vt):Ie},Vt.interpolate=function(Wt){return arguments.length?(typeof Wt=="function"?Ye=Qe=Wt:Ye=(Qe=Gr.get(Wt)||xl).key,rt=Qe.reverse||Qe,yt=Qe.closed?"M":"L",Vt):Ye},Vt.tension=function(Wt){return arguments.length?(bt=Wt,Vt):bt},Vt}oi.reverse=Gf,Gf.reverse=oi,l.svg.area=function(){return zs(ne)},l.svg.area.radial=function(){var U=zs(Wi);return U.radius=U.x,delete U.x,U.innerRadius=U.x0,delete U.x0,U.outerRadius=U.x1,delete U.x1,U.angle=U.y,delete U.y,U.startAngle=U.y0,delete U.y0,U.endAngle=U.y1,delete U.y1,U};function Hg(U){return U.source}function qn(U){return U.target}l.svg.chord=function(){var U=Hg,q=qn,ve=yc,Ae=X0,_e=zp;function Ie(bt,Vt){var Wt=Qe(this,U,bt,Vt),mn=Qe(this,q,bt,Vt);return"M"+Wt.p0+rt(Wt.r,Wt.p1,Wt.a1-Wt.a0)+(Ye(Wt,mn)?yt(Wt.r,Wt.p1,Wt.r,Wt.p0):yt(Wt.r,Wt.p1,mn.r,mn.p0)+rt(mn.r,mn.p1,mn.a1-mn.a0)+yt(mn.r,mn.p1,Wt.r,Wt.p0))+"Z"}function Qe(bt,Vt,Wt,mn){var An=Vt.call(bt,Wt,mn),Kt=ve.call(bt,An,mn),en=Ae.call(bt,An,mn)-pt,dn=_e.call(bt,An,mn)-pt;return{r:Kt,a0:en,a1:dn,p0:[Kt*Math.cos(en),Kt*Math.sin(en)],p1:[Kt*Math.cos(dn),Kt*Math.sin(dn)]}}function Ye(bt,Vt){return bt.a0==Vt.a0&&bt.a1==Vt.a1}function rt(bt,Vt,Wt){return"A"+bt+","+bt+" 0 "+ +(Wt>Ze)+",1 "+Vt}function yt(bt,Vt,Wt,mn){return"Q 0,0 "+mn}return Ie.radius=function(bt){return arguments.length?(ve=Bn(bt),Ie):ve},Ie.source=function(bt){return arguments.length?(U=Bn(bt),Ie):U},Ie.target=function(bt){return arguments.length?(q=Bn(bt),Ie):q},Ie.startAngle=function(bt){return arguments.length?(Ae=Bn(bt),Ie):Ae},Ie.endAngle=function(bt){return arguments.length?(_e=Bn(bt),Ie):_e},Ie};function yc(U){return U.radius}l.svg.diagonal=function(){var U=Hg,q=qn,ve=Cm;function Ae(_e,Ie){var Qe=U.call(this,_e,Ie),Ye=q.call(this,_e,Ie),rt=(Qe.y+Ye.y)/2,yt=[Qe,{x:Qe.x,y:rt},{x:Ye.x,y:rt},Ye];return yt=yt.map(ve),"M"+yt[0]+"C"+yt[1]+" "+yt[2]+" "+yt[3]}return Ae.source=function(_e){return arguments.length?(U=Bn(_e),Ae):U},Ae.target=function(_e){return arguments.length?(q=Bn(_e),Ae):q},Ae.projection=function(_e){return arguments.length?(ve=_e,Ae):ve},Ae};function Cm(U){return[U.x,U.y]}l.svg.diagonal.radial=function(){var U=l.svg.diagonal(),q=Cm,ve=U.projection;return U.projection=function(Ae){return arguments.length?ve(Da(q=Ae)):q},U};function Da(U){return function(){var q=U.apply(this,arguments),ve=q[0],Ae=q[1]-pt;return[ve*Math.cos(Ae),ve*Math.sin(Ae)]}}l.svg.symbol=function(){var U=z2,q=Qu;function ve(Ae,_e){return(Up.get(U.call(this,Ae,_e))||bu)(q.call(this,Ae,_e))}return ve.type=function(Ae){return arguments.length?(U=Bn(Ae),ve):U},ve.size=function(Ae){return arguments.length?(q=Bn(Ae),ve):q},ve};function Qu(){return 64}function z2(){return"circle"}function bu(U){var q=Math.sqrt(U/Ze);return"M0,"+q+"A"+q+","+q+" 0 1,1 0,"+-q+"A"+q+","+q+" 0 1,1 0,"+q+"Z"}var Up=l.map({circle:bu,cross:function(U){var q=Math.sqrt(U/5)/2;return"M"+-3*q+","+-q+"H"+-q+"V"+-3*q+"H"+q+"V"+-q+"H"+3*q+"V"+q+"H"+q+"V"+3*q+"H"+-q+"V"+q+"H"+-3*q+"Z"},diamond:function(U){var q=Math.sqrt(U/(2*Wp)),ve=q*Wp;return"M0,"+-q+"L"+ve+",0 0,"+q+" "+-ve+",0Z"},square:function(U){var q=Math.sqrt(U)/2;return"M"+-q+","+-q+"L"+q+","+-q+" "+q+","+q+" "+-q+","+q+"Z"},"triangle-down":function(U){var q=Math.sqrt(U/Dc),ve=q*Dc/2;return"M0,"+ve+"L"+q+","+-ve+" "+-q+","+-ve+"Z"},"triangle-up":function(U){var q=Math.sqrt(U/Dc),ve=q*Dc/2;return"M0,"+-ve+"L"+q+","+ve+" "+-q+","+ve+"Z"}});l.svg.symbolTypes=Up.keys();var Dc=Math.sqrt(3),Wp=Math.tan(30*Tt);le.transition=function(U){for(var q=Zf||++Gi,ve=vf(U),Ae=[],_e,Ie,Qe=pf||{time:Date.now(),ease:Kl,delay:0,duration:250},Ye=-1,rt=this.length;++Ye<rt;){Ae.push(_e=[]);for(var yt=this[Ye],bt=-1,Vt=yt.length;++bt<Vt;)(Ie=yt[bt])&&En(Ie,bt,ve,q,Qe),_e.push(Ie)}return $c(Ae,ve,q)},le.interrupt=function(U){return this.each(U==null?Ol:Ia(vf(U)))};var Ol=Ia(vf());function Ia(U){return function(){var q,ve,Ae;(q=this[U])&&(Ae=q[ve=q.active])&&(Ae.timer.c=null,Ae.timer.t=NaN,--q.count?delete q[ve]:delete this[U],q.active+=.5,Ae.event&&Ae.event.interrupt.call(this,this.__data__,Ae.index))}}function $c(U,q,ve){return ie(U,Qs),U.namespace=q,U.id=ve,U}var Qs=[],Gi=0,Zf,pf;Qs.call=le.call,Qs.empty=le.empty,Qs.node=le.node,Qs.size=le.size,l.transition=function(U,q){return U&&U.transition?Zf?U.transition(q):U:l.selection().transition(U)},l.transition.prototype=Qs,Qs.select=function(U){var q=this.id,ve=this.namespace,Ae=[],_e,Ie,Qe;U=Te(U);for(var Ye=-1,rt=this.length;++Ye<rt;){Ae.push(_e=[]);for(var yt=this[Ye],bt=-1,Vt=yt.length;++bt<Vt;)(Qe=yt[bt])&&(Ie=U.call(Qe,Qe.__data__,bt,Ye))?("__data__"in Qe&&(Ie.__data__=Qe.__data__),En(Ie,bt,ve,q,Qe[ve][q]),_e.push(Ie)):_e.push(null)}return $c(Ae,ve,q)},Qs.selectAll=function(U){var q=this.id,ve=this.namespace,Ae=[],_e,Ie,Qe,Ye,rt;U=de(U);for(var yt=-1,bt=this.length;++yt<bt;)for(var Vt=this[yt],Wt=-1,mn=Vt.length;++Wt<mn;)if(Qe=Vt[Wt]){rt=Qe[ve][q],Ie=U.call(Qe,Qe.__data__,Wt,yt),Ae.push(_e=[]);for(var An=-1,Kt=Ie.length;++An<Kt;)(Ye=Ie[An])&&En(Ye,An,ve,q,rt),_e.push(Ye)}return $c(Ae,ve,q)},Qs.filter=function(U){var q=[],ve,Ae,_e;typeof U!="function"&&(U=Gt(U));for(var Ie=0,Qe=this.length;Ie<Qe;Ie++){q.push(ve=[]);for(var Ae=this[Ie],Ye=0,rt=Ae.length;Ye<rt;Ye++)(_e=Ae[Ye])&&U.call(_e,_e.__data__,Ye,Ie)&&ve.push(_e)}return $c(q,this.namespace,this.id)},Qs.tween=function(U,q){var ve=this.id,Ae=this.namespace;return arguments.length<2?this.node()[Ae][ve].tween.get(U):Nt(this,q==null?function(_e){_e[Ae][ve].tween.remove(U)}:function(_e){_e[Ae][ve].tween.set(U,q)})};function jf(U,q,ve,Ae){var _e=U.id,Ie=U.namespace;return Nt(U,typeof ve=="function"?function(Qe,Ye,rt){Qe[Ie][_e].tween.set(q,Ae(ve.call(Qe,Qe.__data__,Ye,rt)))}:(ve=Ae(ve),function(Qe){Qe[Ie][_e].tween.set(q,ve)}))}Qs.attr=function(U,q){if(arguments.length<2){for(q in U)this.attr(q,U[q]);return this}var ve=U=="transform"?mf:Yl,Ae=l.ns.qualify(U);function _e(){this.removeAttribute(Ae)}function Ie(){this.removeAttributeNS(Ae.space,Ae.local)}function Qe(rt){return rt==null?_e:(rt+="",function(){var yt=this.getAttribute(Ae),bt;return yt!==rt&&(bt=ve(yt,rt),function(Vt){this.setAttribute(Ae,bt(Vt))})})}function Ye(rt){return rt==null?Ie:(rt+="",function(){var yt=this.getAttributeNS(Ae.space,Ae.local),bt;return yt!==rt&&(bt=ve(yt,rt),function(Vt){this.setAttributeNS(Ae.space,Ae.local,bt(Vt))})})}return jf(this,"attr."+U,q,Ae.local?Ye:Qe)},Qs.attrTween=function(U,q){var ve=l.ns.qualify(U);function Ae(Ie,Qe){var Ye=q.call(this,Ie,Qe,this.getAttribute(ve));return Ye&&function(rt){this.setAttribute(ve,Ye(rt))}}function _e(Ie,Qe){var Ye=q.call(this,Ie,Qe,this.getAttributeNS(ve.space,ve.local));return Ye&&function(rt){this.setAttributeNS(ve.space,ve.local,Ye(rt))}}return this.tween("attr."+U,ve.local?_e:Ae)},Qs.style=function(U,q,ve){var Ae=arguments.length;if(Ae<3){if(typeof U!="string"){Ae<2&&(q="");for(ve in U)this.style(ve,U[ve],q);return this}ve=""}function _e(){this.style.removeProperty(U)}function Ie(Qe){return Qe==null?_e:(Qe+="",function(){var Ye=g(this).getComputedStyle(this,null).getPropertyValue(U),rt;return Ye!==Qe&&(rt=Yl(Ye,Qe),function(yt){this.style.setProperty(U,rt(yt),ve)})})}return jf(this,"style."+U,q,Ie)},Qs.styleTween=function(U,q,ve){arguments.length<3&&(ve="");function Ae(_e,Ie){var Qe=q.call(this,_e,Ie,g(this).getComputedStyle(this,null).getPropertyValue(U));return Qe&&function(Ye){this.style.setProperty(U,Qe(Ye),ve)}}return this.tween("style."+U,Ae)},Qs.text=function(U){return jf(this,"text",U,Ql)};function Ql(U){return U==null&&(U=""),function(){this.textContent=U}}Qs.remove=function(){var U=this.namespace;return this.each("end.transition",function(){var q;this[U].count<2&&(q=this.parentNode)&&q.removeChild(this)})},Qs.ease=function(U){var q=this.id,ve=this.namespace;return arguments.length<1?this.node()[ve][q].ease:(typeof U!="function"&&(U=l.ease.apply(l,arguments)),Nt(this,function(Ae){Ae[ve][q].ease=U}))},Qs.delay=function(U){var q=this.id,ve=this.namespace;return arguments.length<1?this.node()[ve][q].delay:Nt(this,typeof U=="function"?function(Ae,_e,Ie){Ae[ve][q].delay=+U.call(Ae,Ae.__data__,_e,Ie)}:(U=+U,function(Ae){Ae[ve][q].delay=U}))},Qs.duration=function(U){var q=this.id,ve=this.namespace;return arguments.length<1?this.node()[ve][q].duration:Nt(this,typeof U=="function"?function(Ae,_e,Ie){Ae[ve][q].duration=Math.max(1,U.call(Ae,Ae.__data__,_e,Ie))}:(U=Math.max(1,U),function(Ae){Ae[ve][q].duration=U}))},Qs.each=function(U,q){var ve=this.id,Ae=this.namespace;if(arguments.length<2){var _e=pf,Ie=Zf;try{Zf=ve,Nt(this,function(Qe,Ye,rt){pf=Qe[Ae][ve],U.call(Qe,Qe.__data__,Ye,rt)})}finally{pf=_e,Zf=Ie}}else Nt(this,function(Qe){var Ye=Qe[Ae][ve];(Ye.event||(Ye.event=l.dispatch("start","end","interrupt"))).on(U,q)});return this},Qs.transition=function(){for(var U=this.id,q=++Gi,ve=this.namespace,Ae=[],_e,Ie,Qe,Ye,rt=0,yt=this.length;rt<yt;rt++){Ae.push(_e=[]);for(var Ie=this[rt],bt=0,Vt=Ie.length;bt<Vt;bt++)(Qe=Ie[bt])&&(Ye=Qe[ve][U],En(Qe,bt,ve,q,{time:Ye.time,ease:Ye.ease,delay:Ye.delay+Ye.duration,duration:Ye.duration})),_e.push(Qe)}return $c(Ae,ve,q)};function vf(U){return U==null?"__transition__":"__transition_"+U+"__"}function En(U,q,ve,Ae,_e){var Ie=U[ve]||(U[ve]={active:0,count:0}),Qe=Ie[Ae],Ye,rt,yt,bt,Vt;function Wt(Kt){var en=Qe.delay;if(rt.t=en+Ye,en<=Kt)return mn(Kt-en);rt.c=mn}function mn(Kt){var en=Ie.active,dn=Ie[en];dn&&(dn.timer.c=null,dn.timer.t=NaN,--Ie.count,delete Ie[en],dn.event&&dn.event.interrupt.call(U,U.__data__,dn.index));for(var Rn in Ie)if(+Rn<Ae){var Mn=Ie[Rn];Mn.timer.c=null,Mn.timer.t=NaN,--Ie.count,delete Ie[Rn]}rt.c=An,bo(function(){return rt.c&&An(Kt||1)&&(rt.c=null,rt.t=NaN),1},0,Ye),Ie.active=Ae,Qe.event&&Qe.event.start.call(U,U.__data__,q),Vt=[],Qe.tween.forEach(function(vn,lr){(lr=lr.call(U,U.__data__,q))&&Vt.push(lr)}),bt=Qe.ease,yt=Qe.duration}function An(Kt){for(var en=Kt/yt,dn=bt(en),Rn=Vt.length;Rn>0;)Vt[--Rn].call(U,dn);if(en>=1)return Qe.event&&Qe.event.end.call(U,U.__data__,q),--Ie.count?delete Ie[Ae]:delete U[ve],1}Qe||(Ye=_e.time,rt=bo(Wt,0,Ye),Qe=Ie[Ae]={tween:new j,time:Ye,timer:rt,delay:_e.delay,duration:_e.duration,ease:_e.ease,index:q},_e=null,++Ie.count)}l.svg.axis=function(){var U=l.scale.linear(),q=ql,ve=6,Ae=6,_e=3,Ie=[10],Qe=null,Ye;function rt(yt){yt.each(function(){var bt=l.select(this),Vt=this.__chart__||U,Wt=this.__chart__=U.copy(),mn=Qe??(Wt.ticks?Wt.ticks.apply(Wt,Ie):Wt.domain()),An=Ye??(Wt.tickFormat?Wt.tickFormat.apply(Wt,Ie):ne),Kt=bt.selectAll(".tick").data(mn,Wt),en=Kt.enter().insert("g",".domain").attr("class","tick").style("opacity",vt),dn=l.transition(Kt.exit()).style("opacity",vt).remove(),Rn=l.transition(Kt.order()).style("opacity",1),Mn=Math.max(ve,0)+_e,vn,lr=Og(Wt),zr=bt.selectAll(".domain").data([0]),Jr=(zr.enter().append("path").attr("class","domain"),l.transition(zr));en.append("line"),en.append("text");var kr=en.select("line"),eo=Rn.select("line"),lo=Kt.select("text").text(An),Ko=en.select("text"),yo=Rn.select("text"),fo=q==="top"||q==="left"?-1:1,Ha,Vs,is,$r;if(q==="bottom"||q==="top"?(vn=bf,Ha="x",is="y",Vs="x2",$r="y2",lo.attr("dy",fo<0?"0em":".71em").style("text-anchor","middle"),Jr.attr("d","M"+lr[0]+","+fo*Ae+"V0H"+lr[1]+"V"+fo*Ae)):(vn=bc,Ha="y",is="x",Vs="y2",$r="x2",lo.attr("dy",".32em").style("text-anchor",fo<0?"end":"start"),Jr.attr("d","M"+fo*Ae+","+lr[0]+"H0V"+lr[1]+"H"+fo*Ae)),kr.attr($r,fo*ve),Ko.attr(is,fo*Mn),eo.attr(Vs,0).attr($r,fo*ve),yo.attr(Ha,0).attr(is,fo*Mn),Wt.rangeBand){var _o=Wt,sa=_o.rangeBand()/2;Vt=Wt=function(Ca){return _o(Ca)+sa}}else Vt.rangeBand?Vt=Wt:dn.call(vn,Wt,Vt);en.call(vn,Vt,Wt),Rn.call(vn,Wt,Wt)})}return rt.scale=function(yt){return arguments.length?(U=yt,rt):U},rt.orient=function(yt){return arguments.length?(q=yt in yf?yt+"":ql,rt):q},rt.ticks=function(){return arguments.length?(Ie=i(arguments),rt):Ie},rt.tickValues=function(yt){return arguments.length?(Qe=yt,rt):Qe},rt.tickFormat=function(yt){return arguments.length?(Ye=yt,rt):Ye},rt.tickSize=function(yt){var bt=arguments.length;return bt?(ve=+yt,Ae=+arguments[bt-1],rt):ve},rt.innerTickSize=function(yt){return arguments.length?(ve=+yt,rt):ve},rt.outerTickSize=function(yt){return arguments.length?(Ae=+yt,rt):Ae},rt.tickPadding=function(yt){return arguments.length?(_e=+yt,rt):_e},rt.tickSubdivide=function(){return arguments.length&&rt},rt};var ql="bottom",yf={top:1,right:1,bottom:1,left:1};function bf(U,q,ve){U.attr("transform",function(Ae){var _e=q(Ae);return"translate("+(isFinite(_e)?_e:ve(Ae))+",0)"})}function bc(U,q,ve){U.attr("transform",function(Ae){var _e=q(Ae);return"translate(0,"+(isFinite(_e)?_e:ve(Ae))+")"})}l.svg.brush=function(){var U=Oe(bt,"brushstart","brush","brushend"),q=null,ve=null,Ae=[0,0],_e=[0,0],Ie,Qe,Ye=!0,rt=!0,yt=bi[0];function bt(Kt){Kt.each(function(){var en=l.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",An).on("touchstart.brush",An),dn=en.selectAll(".background").data([0]);dn.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),en.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Rn=en.selectAll(".resize").data(yt,ne);Rn.exit().remove(),Rn.enter().append("g").attr("class",function(zr){return"resize "+zr}).style("cursor",function(zr){return Li[zr]}).append("rect").attr("x",function(zr){return/[ew]$/.test(zr)?-3:null}).attr("y",function(zr){return/^[ns]/.test(zr)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Rn.style("display",bt.empty()?"none":null);var Mn=l.transition(en),vn=l.transition(dn),lr;q&&(lr=Og(q),vn.attr("x",lr[0]).attr("width",lr[1]-lr[0]),Wt(Mn)),ve&&(lr=Og(ve),vn.attr("y",lr[0]).attr("height",lr[1]-lr[0]),mn(Mn)),Vt(Mn)})}bt.event=function(Kt){Kt.each(function(){var en=U.of(this,arguments),dn={x:Ae,y:_e,i:Ie,j:Qe},Rn=this.__chart__||dn;this.__chart__=dn,Zf?l.select(this).transition().each("start.brush",function(){Ie=Rn.i,Qe=Rn.j,Ae=Rn.x,_e=Rn.y,en({type:"brushstart"})}).tween("brush:brush",function(){var Mn=Gu(Ae,dn.x),vn=Gu(_e,dn.y);return Ie=Qe=null,function(lr){Ae=dn.x=Mn(lr),_e=dn.y=vn(lr),en({type:"brush",mode:"resize"})}}).each("end.brush",function(){Ie=dn.i,Qe=dn.j,en({type:"brush",mode:"resize"}),en({type:"brushend"})}):(en({type:"brushstart"}),en({type:"brush",mode:"resize"}),en({type:"brushend"}))})};function Vt(Kt){Kt.selectAll(".resize").attr("transform",function(en){return"translate("+Ae[+/e$/.test(en)]+","+_e[+/^s/.test(en)]+")"})}function Wt(Kt){Kt.select(".extent").attr("x",Ae[0]),Kt.selectAll(".extent,.n>rect,.s>rect").attr("width",Ae[1]-Ae[0])}function mn(Kt){Kt.select(".extent").attr("y",_e[0]),Kt.selectAll(".extent,.e>rect,.w>rect").attr("height",_e[1]-_e[0])}function An(){var Kt=this,en=l.select(l.event.target),dn=U.of(Kt,arguments),Rn=l.select(Kt),Mn=en.datum(),vn=!/^(n|s)$/.test(Mn)&&q,lr=!/^(e|w)$/.test(Mn)&&ve,zr=en.classed("extent"),Jr=wn(Kt),kr,eo=l.mouse(Kt),lo,Ko=l.select(g(Kt)).on("keydown.brush",Ha).on("keyup.brush",Vs);if(l.event.changedTouches?Ko.on("touchmove.brush",is).on("touchend.brush",_o):Ko.on("mousemove.brush",is).on("mouseup.brush",_o),Rn.interrupt().selectAll("*").interrupt(),zr)eo[0]=Ae[0]-eo[0],eo[1]=_e[0]-eo[1];else if(Mn){var yo=+/w$/.test(Mn),fo=+/^n/.test(Mn);lo=[Ae[1-yo]-eo[0],_e[1-fo]-eo[1]],eo[0]=Ae[yo],eo[1]=_e[fo]}else l.event.altKey&&(kr=eo.slice());Rn.style("pointer-events","none").selectAll(".resize").style("display",null),l.select("body").style("cursor",en.style("cursor")),dn({type:"brushstart"}),is();function Ha(){l.event.keyCode==32&&(zr||(kr=null,eo[0]-=Ae[1],eo[1]-=_e[1],zr=2),Ne())}function Vs(){l.event.keyCode==32&&zr==2&&(eo[0]+=Ae[1],eo[1]+=_e[1],zr=0,Ne())}function is(){var sa=l.mouse(Kt),Ca=!1;lo&&(sa[0]+=lo[0],sa[1]+=lo[1]),zr||(l.event.altKey?(kr||(kr=[(Ae[0]+Ae[1])/2,(_e[0]+_e[1])/2]),eo[0]=Ae[+(sa[0]<kr[0])],eo[1]=_e[+(sa[1]<kr[1])]):kr=null),vn&&$r(sa,q,0)&&(Wt(Rn),Ca=!0),lr&&$r(sa,ve,1)&&(mn(Rn),Ca=!0),Ca&&(Vt(Rn),dn({type:"brush",mode:zr?"move":"resize"}))}function $r(sa,Ca,As){var qs=Og(Ca),Di=qs[0],xi=qs[1],xc=eo[As],Ii=As?_e:Ae,tc=Ii[1]-Ii[0],Cl,Ga;if(zr&&(Di-=xc,xi-=tc+xc),Cl=(As?rt:Ye)?Math.max(Di,Math.min(xi,sa[As])):sa[As],zr?Ga=(Cl+=xc)+tc:(kr&&(xc=Math.max(Di,Math.min(xi,2*kr[As]-Cl))),xc<Cl?(Ga=Cl,Cl=xc):Ga=xc),Ii[0]!=Cl||Ii[1]!=Ga)return As?Qe=null:Ie=null,Ii[0]=Cl,Ii[1]=Ga,!0}function _o(){is(),Rn.style("pointer-events","all").selectAll(".resize").style("display",bt.empty()?"none":null),l.select("body").style("cursor",null),Ko.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Jr(),dn({type:"brushend"})}}return bt.x=function(Kt){return arguments.length?(q=Kt,yt=bi[!q<<1|!ve],bt):q},bt.y=function(Kt){return arguments.length?(ve=Kt,yt=bi[!q<<1|!ve],bt):ve},bt.clamp=function(Kt){return arguments.length?(q&&ve?(Ye=!!Kt[0],rt=!!Kt[1]):q?Ye=!!Kt:ve&&(rt=!!Kt),bt):q&&ve?[Ye,rt]:q?Ye:ve?rt:null},bt.extent=function(Kt){var en,dn,Rn,Mn,vn;return arguments.length?(q&&(en=Kt[0],dn=Kt[1],ve&&(en=en[0],dn=dn[0]),Ie=[en,dn],q.invert&&(en=q(en),dn=q(dn)),dn<en&&(vn=en,en=dn,dn=vn),(en!=Ae[0]||dn!=Ae[1])&&(Ae=[en,dn])),ve&&(Rn=Kt[0],Mn=Kt[1],q&&(Rn=Rn[1],Mn=Mn[1]),Qe=[Rn,Mn],ve.invert&&(Rn=ve(Rn),Mn=ve(Mn)),Mn<Rn&&(vn=Rn,Rn=Mn,Mn=vn),(Rn!=_e[0]||Mn!=_e[1])&&(_e=[Rn,Mn])),bt):(q&&(Ie?(en=Ie[0],dn=Ie[1]):(en=Ae[0],dn=Ae[1],q.invert&&(en=q.invert(en),dn=q.invert(dn)),dn<en&&(vn=en,en=dn,dn=vn))),ve&&(Qe?(Rn=Qe[0],Mn=Qe[1]):(Rn=_e[0],Mn=_e[1],ve.invert&&(Rn=ve.invert(Rn),Mn=ve.invert(Mn)),Mn<Rn&&(vn=Rn,Rn=Mn,Mn=vn))),q&&ve?[[en,Rn],[dn,Mn]]:q?[en,dn]:ve&&[Rn,Mn])},bt.clear=function(){return bt.empty()||(Ae=[0,0],_e=[0,0],Ie=Qe=null),bt},bt.empty=function(){return!!q&&Ae[0]==Ae[1]||!!ve&&_e[0]==_e[1]},l.rebind(bt,U,"on")};var Li={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},bi=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];l.text=Hr(function(U){return U.responseText}),l.json=function(U,q){return fr(U,"application/json",L3,q)};function L3(U){return JSON.parse(U.responseText)}l.html=function(U,q){return fr(U,"text/html",ec,q)};function ec(U){var q=u.createRange();return q.selectNode(u.body),q.createContextualFragment(U.responseText)}l.xml=Hr(function(U){return U.responseXML}),m=l,h=typeof m=="function"?m.call(A,s,A,L):m,h!==void 0&&(L.exports=h)}).apply(self)},721:function(L,A,s){s.d(A,{WU:function(){return k},FF:function(){return N}});function m(F){return Math.abs(F=Math.round(F))>=1e21?F.toLocaleString("en").replace(/,/g,""):F.toString(10)}function h(F,H){if((j=(F=H?F.toExponential(H-1):F.toExponential()).indexOf("e"))<0)return null;var j,P=F.slice(0,j);return[P.length>1?P[0]+P.slice(2):P,+F.slice(j+1)]}function l(F){return F=h(Math.abs(F)),F?F[1]:NaN}function c(F,H){return function(j,P){for(var ee=j.length,J=[],K=0,ae=F[0],Q=0;ee>0&&ae>0&&(Q+ae+1>P&&(ae=Math.max(1,P-Q)),J.push(j.substring(ee-=ae,ee+ae)),!((Q+=ae+1)>P));)ae=F[K=(K+1)%F.length];return J.reverse().join(H)}}function i(F){return function(H){return H.replace(/[0-9]/g,function(j){return F[+j]})}}var u=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function d(F){if(!(H=u.exec(F)))throw new Error("invalid format: "+F);var H;return new g({fill:H[1],align:H[2],sign:H[3],symbol:H[4],zero:H[5],width:H[6],comma:H[7],precision:H[8]&&H[8].slice(1),trim:H[9],type:H[10]})}d.prototype=g.prototype;function g(F){this.fill=F.fill===void 0?" ":F.fill+"",this.align=F.align===void 0?">":F.align+"",this.sign=F.sign===void 0?"-":F.sign+"",this.symbol=F.symbol===void 0?"":F.symbol+"",this.zero=!!F.zero,this.width=F.width===void 0?void 0:+F.width,this.comma=!!F.comma,this.precision=F.precision===void 0?void 0:+F.precision,this.trim=!!F.trim,this.type=F.type===void 0?"":F.type+""}g.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function v(F){e:for(var H=F.length,j=1,P=-1,ee;j<H;++j)switch(F[j]){case".":P=ee=j;break;case"0":P===0&&(P=j),ee=j;break;default:if(!+F[j])break e;P>0&&(P=0);break}return P>0?F.slice(0,P)+F.slice(ee+1):F}var x;function C(F,H){var j=h(F,H);if(!j)return F+"";var P=j[0],ee=j[1],J=ee-(x=Math.max(-8,Math.min(8,Math.floor(ee/3)))*3)+1,K=P.length;return J===K?P:J>K?P+new Array(J-K+1).join("0"):J>0?P.slice(0,J)+"."+P.slice(J):"0."+new Array(1-J).join("0")+h(F,Math.max(0,H+J-1))[0]}function _(F,H){var j=h(F,H);if(!j)return F+"";var P=j[0],ee=j[1];return ee<0?"0."+new Array(-ee).join("0")+P:P.length>ee+1?P.slice(0,ee+1)+"."+P.slice(ee+1):P+new Array(ee-P.length+2).join("0")}var $={"%":function(F,H){return(F*100).toFixed(H)},b:function(F){return Math.round(F).toString(2)},c:function(F){return F+""},d:m,e:function(F,H){return F.toExponential(H)},f:function(F,H){return F.toFixed(H)},g:function(F,H){return F.toPrecision(H)},o:function(F){return Math.round(F).toString(8)},p:function(F,H){return _(F*100,H)},r:_,s:C,X:function(F){return Math.round(F).toString(16).toUpperCase()},x:function(F){return Math.round(F).toString(16)}};function S(F){return F}var O=Array.prototype.map,D=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function N(F){var H=F.grouping===void 0||F.thousands===void 0?S:c(O.call(F.grouping,Number),F.thousands+""),j=F.currency===void 0?"":F.currency[0]+"",P=F.currency===void 0?"":F.currency[1]+"",ee=F.decimal===void 0?".":F.decimal+"",J=F.numerals===void 0?S:i(O.call(F.numerals,String)),K=F.percent===void 0?"%":F.percent+"",ae=F.minus===void 0?"-":F.minus+"",Q=F.nan===void 0?"NaN":F.nan+"";function he(Se){Se=d(Se);var ce=Se.fill,ne=Se.align,fe=Se.sign,X=Se.symbol,ye=Se.zero,Ce=Se.width,$e=Se.comma,ke=Se.precision,Ne=Se.trim,Ve=Se.type;Ve==="n"?($e=!0,Ve="g"):$[Ve]||(ke===void 0&&(ke=12),Ne=!0,Ve="g"),(ye||ce==="0"&&ne==="=")&&(ye=!0,ce="0",ne="=");var Oe=X==="$"?j:X==="#"&&/[boxX]/.test(Ve)?"0"+Ve.toLowerCase():"",Fe=X==="$"?P:/[%p]/.test(Ve)?K:"",ie=$[Ve],we=/[defgprs%]/.test(Ve);ke=ke===void 0?6:/[gprs]/.test(Ve)?Math.max(1,Math.min(21,ke)):Math.max(0,Math.min(20,ke));function se(ue){var pe=Oe,le=Fe,Te,de,Me;if(Ve==="c")le=ie(ue)+le,ue="";else{ue=+ue;var Re=ue<0||1/ue<0;if(ue=isNaN(ue)?Q:ie(Math.abs(ue),ke),Ne&&(ue=v(ue)),Re&&+ue==0&&fe!=="+"&&(Re=!1),pe=(Re?fe==="("?fe:ae:fe==="-"||fe==="("?"":fe)+pe,le=(Ve==="s"?D[8+x/3]:"")+le+(Re&&fe==="("?")":""),we){for(Te=-1,de=ue.length;++Te<de;)if(Me=ue.charCodeAt(Te),48>Me||Me>57){le=(Me===46?ee+ue.slice(Te+1):ue.slice(Te))+le,ue=ue.slice(0,Te);break}}}$e&&!ye&&(ue=H(ue,1/0));var ze=pe.length+ue.length+le.length,We=ze<Ce?new Array(Ce-ze+1).join(ce):"";switch($e&&ye&&(ue=H(We+ue,We.length?Ce-le.length:1/0),We=""),ne){case"<":ue=pe+ue+le+We;break;case"=":ue=pe+We+ue+le;break;case"^":ue=We.slice(0,ze=We.length>>1)+pe+ue+le+We.slice(ze);break;default:ue=We+pe+ue+le;break}return J(ue)}return se.toString=function(){return Se+""},se}function ge(Se,ce){var ne=he((Se=d(Se),Se.type="f",Se)),fe=Math.max(-8,Math.min(8,Math.floor(l(ce)/3)))*3,X=Math.pow(10,-fe),ye=D[8+fe/3];return function(Ce){return ne(X*Ce)+ye}}return{format:he,formatPrefix:ge}}var M,k;R({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function R(F){return M=N(F),k=M.format,M.formatPrefix,M}},4096:function(L,A,s){s.d(A,{i$:function(){return Wn},Dq:function(){return x},g0:function(){return wn}});var m=s(8176),h=s(8480),l=s(9879),c=s(2301),i=s(4823),u=s(9791);function d(ft){if(0<=ft.y&&ft.y<100){var wt=new Date(-1,ft.m,ft.d,ft.H,ft.M,ft.S,ft.L);return wt.setFullYear(ft.y),wt}return new Date(ft.y,ft.m,ft.d,ft.H,ft.M,ft.S,ft.L)}function g(ft){if(0<=ft.y&&ft.y<100){var wt=new Date(Date.UTC(-1,ft.m,ft.d,ft.H,ft.M,ft.S,ft.L));return wt.setUTCFullYear(ft.y),wt}return new Date(Date.UTC(ft.y,ft.m,ft.d,ft.H,ft.M,ft.S,ft.L))}function v(ft,wt,vt){return{y:ft,m:wt,d:vt,H:0,M:0,S:0,L:0}}function x(ft){var wt=ft.dateTime,vt=ft.date,$t=ft.time,Ze=ft.periods,it=ft.days,ht=ft.shortDays,pt=ft.months,Tt=ft.shortMonths,Et=N(Ze),fn=M(Ze),tn=N(it),Zt=M(it),Dt=N(ht),un=M(ht),Un=N(pt),tr=M(pt),Er=N(Tt),zt=M(Tt),pr={a:He,A:De,b:St,B:kt,c:null,d:$e,e:$e,f:Fe,H:ke,I:Ne,j:Ve,L:Oe,m:ie,M:we,p:Pt,q:Bt,Q:an,s:Cn,S:se,u:ue,U:pe,V:le,w:Te,W:de,x:null,X:null,y:Me,Y:Re,Z:ze,"%":Zn},Gn={a:Ut,A:Ot,b:_t,B:qt,c:null,d:We,e:We,f:qe,H:ot,I:dt,j:Ge,L:Xe,m:gt,M:ut,p:cn,q:Qt,Q:an,s:Cn,S:tt,u:Ct,U:Gt,V:Yt,w:Nt,W:Ft,x:null,X:null,y:pn,Y:_n,Z:sn,"%":Zn},Ir={a:Ln,A:xr,b:or,B:wr,c:ro,d:Q,e:Q,f:fe,H:ge,I:ge,j:he,L:ne,m:ae,M:Se,p:_r,q:K,Q:ye,s:Ce,S:ce,u:R,U:F,V:H,w:k,W:j,x:vo,X:Cr,y:ee,Y:P,Z:J,"%":X};pr.x=Tr(vt,pr),pr.X=Tr($t,pr),pr.c=Tr(wt,pr),Gn.x=Tr(vt,Gn),Gn.X=Tr($t,Gn),Gn.c=Tr(wt,Gn);function Tr(nn,Sn){return function(bn){var gn=[],Qn=-1,Bn=0,Hr=nn.length,fr,Vr,ar;for(bn instanceof Date||(bn=new Date(+bn));++Qn<Hr;)nn.charCodeAt(Qn)===37&&(gn.push(nn.slice(Bn,Qn)),(Vr=C[fr=nn.charAt(++Qn)])!=null?fr=nn.charAt(++Qn):Vr=fr==="e"?" ":"0",(ar=Sn[fr])&&(fr=ar(bn,Vr)),gn.push(fr),Bn=Qn+1);return gn.push(nn.slice(Bn,Qn)),gn.join("")}}function rr(nn,Sn){return function(bn){var gn=v(1900,void 0,1),Qn=Yr(gn,nn,bn+="",0),Bn,Hr;if(Qn!=bn.length)return null;if("Q"in gn)return new Date(gn.Q);if("s"in gn)return new Date(gn.s*1e3+("L"in gn?gn.L:0));if(Sn&&!("Z"in gn)&&(gn.Z=0),"p"in gn&&(gn.H=gn.H%12+gn.p*12),gn.m===void 0&&(gn.m="q"in gn?gn.q:0),"V"in gn){if(gn.V<1||gn.V>53)return null;"w"in gn||(gn.w=1),"Z"in gn?(Bn=g(v(gn.y,0,1)),Hr=Bn.getUTCDay(),Bn=Hr>4||Hr===0?m.l6.ceil(Bn):(0,m.l6)(Bn),Bn=h.Z.offset(Bn,(gn.V-1)*7),gn.y=Bn.getUTCFullYear(),gn.m=Bn.getUTCMonth(),gn.d=Bn.getUTCDate()+(gn.w+6)%7):(Bn=d(v(gn.y,0,1)),Hr=Bn.getDay(),Bn=Hr>4||Hr===0?l.wA.ceil(Bn):(0,l.wA)(Bn),Bn=c.Z.offset(Bn,(gn.V-1)*7),gn.y=Bn.getFullYear(),gn.m=Bn.getMonth(),gn.d=Bn.getDate()+(gn.w+6)%7)}else("W"in gn||"U"in gn)&&("w"in gn||(gn.w="u"in gn?gn.u%7:"W"in gn?1:0),Hr="Z"in gn?g(v(gn.y,0,1)).getUTCDay():d(v(gn.y,0,1)).getDay(),gn.m=0,gn.d="W"in gn?(gn.w+6)%7+gn.W*7-(Hr+5)%7:gn.w+gn.U*7-(Hr+6)%7);return"Z"in gn?(gn.H+=gn.Z/100|0,gn.M+=gn.Z%100,g(gn)):d(gn)}}function Yr(nn,Sn,bn,gn){for(var Qn=0,Bn=Sn.length,Hr=bn.length,fr,Vr;Qn<Bn;){if(gn>=Hr)return-1;if(fr=Sn.charCodeAt(Qn++),fr===37){if(fr=Sn.charAt(Qn++),Vr=Ir[fr in C?Sn.charAt(Qn++):fr],!Vr||(gn=Vr(nn,bn,gn))<0)return-1}else if(fr!=bn.charCodeAt(gn++))return-1}return gn}function _r(nn,Sn,bn){var gn=Et.exec(Sn.slice(bn));return gn?(nn.p=fn[gn[0].toLowerCase()],bn+gn[0].length):-1}function Ln(nn,Sn,bn){var gn=Dt.exec(Sn.slice(bn));return gn?(nn.w=un[gn[0].toLowerCase()],bn+gn[0].length):-1}function xr(nn,Sn,bn){var gn=tn.exec(Sn.slice(bn));return gn?(nn.w=Zt[gn[0].toLowerCase()],bn+gn[0].length):-1}function or(nn,Sn,bn){var gn=Er.exec(Sn.slice(bn));return gn?(nn.m=zt[gn[0].toLowerCase()],bn+gn[0].length):-1}function wr(nn,Sn,bn){var gn=Un.exec(Sn.slice(bn));return gn?(nn.m=tr[gn[0].toLowerCase()],bn+gn[0].length):-1}function ro(nn,Sn,bn){return Yr(nn,wt,Sn,bn)}function vo(nn,Sn,bn){return Yr(nn,vt,Sn,bn)}function Cr(nn,Sn,bn){return Yr(nn,$t,Sn,bn)}function He(nn){return ht[nn.getDay()]}function De(nn){return it[nn.getDay()]}function St(nn){return Tt[nn.getMonth()]}function kt(nn){return pt[nn.getMonth()]}function Pt(nn){return Ze[+(nn.getHours()>=12)]}function Bt(nn){return 1+~~(nn.getMonth()/3)}function Ut(nn){return ht[nn.getUTCDay()]}function Ot(nn){return it[nn.getUTCDay()]}function _t(nn){return Tt[nn.getUTCMonth()]}function qt(nn){return pt[nn.getUTCMonth()]}function cn(nn){return Ze[+(nn.getUTCHours()>=12)]}function Qt(nn){return 1+~~(nn.getUTCMonth()/3)}return{format:function(nn){var Sn=Tr(nn+="",pr);return Sn.toString=function(){return nn},Sn},parse:function(nn){var Sn=rr(nn+="",!1);return Sn.toString=function(){return nn},Sn},utcFormat:function(nn){var Sn=Tr(nn+="",Gn);return Sn.toString=function(){return nn},Sn},utcParse:function(nn){var Sn=rr(nn+="",!0);return Sn.toString=function(){return nn},Sn}}}var C={"-":"",_:" ",0:"0"},_=/^\s*\d+/,$=/^%/,S=/[\\^$*+?|[\]().{}]/g;function O(ft,wt,vt){var $t=ft<0?"-":"",Ze=($t?-ft:ft)+"",it=Ze.length;return $t+(it<vt?new Array(vt-it+1).join(wt)+Ze:Ze)}function D(ft){return ft.replace(S,"\\$&")}function N(ft){return new RegExp("^(?:"+ft.map(D).join("|")+")","i")}function M(ft){for(var wt={},vt=-1,$t=ft.length;++vt<$t;)wt[ft[vt].toLowerCase()]=vt;return wt}function k(ft,wt,vt){var $t=_.exec(wt.slice(vt,vt+1));return $t?(ft.w=+$t[0],vt+$t[0].length):-1}function R(ft,wt,vt){var $t=_.exec(wt.slice(vt,vt+1));return $t?(ft.u=+$t[0],vt+$t[0].length):-1}function F(ft,wt,vt){var $t=_.exec(wt.slice(vt,vt+2));return $t?(ft.U=+$t[0],vt+$t[0].length):-1}function H(ft,wt,vt){var $t=_.exec(wt.slice(vt,vt+2));return $t?(ft.V=+$t[0],vt+$t[0].length):-1}function j(ft,wt,vt){var $t=_.exec(wt.slice(vt,vt+2));return $t?(ft.W=+$t[0],vt+$t[0].length):-1}function P(ft,wt,vt){var $t=_.exec(wt.slice(vt,vt+4));return $t?(ft.y=+$t[0],vt+$t[0].length):-1}function ee(ft,wt,vt){var $t=_.exec(wt.slice(vt,vt+2));return $t?(ft.y=+$t[0]+(+$t[0]>68?1900:2e3),vt+$t[0].length):-1}function J(ft,wt,vt){var $t=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(wt.slice(vt,vt+6));return $t?(ft.Z=$t[1]?0:-($t[2]+($t[3]||"00")),vt+$t[0].length):-1}function K(ft,wt,vt){var $t=_.exec(wt.slice(vt,vt+1));return $t?(ft.q=$t[0]*3-3,vt+$t[0].length):-1}function ae(ft,wt,vt){var $t=_.exec(wt.slice(vt,vt+2));return $t?(ft.m=$t[0]-1,vt+$t[0].length):-1}function Q(ft,wt,vt){var $t=_.exec(wt.slice(vt,vt+2));return $t?(ft.d=+$t[0],vt+$t[0].length):-1}function he(ft,wt,vt){var $t=_.exec(wt.slice(vt,vt+3));return $t?(ft.m=0,ft.d=+$t[0],vt+$t[0].length):-1}function ge(ft,wt,vt){var $t=_.exec(wt.slice(vt,vt+2));return $t?(ft.H=+$t[0],vt+$t[0].length):-1}function Se(ft,wt,vt){var $t=_.exec(wt.slice(vt,vt+2));return $t?(ft.M=+$t[0],vt+$t[0].length):-1}function ce(ft,wt,vt){var $t=_.exec(wt.slice(vt,vt+2));return $t?(ft.S=+$t[0],vt+$t[0].length):-1}function ne(ft,wt,vt){var $t=_.exec(wt.slice(vt,vt+3));return $t?(ft.L=+$t[0],vt+$t[0].length):-1}function fe(ft,wt,vt){var $t=_.exec(wt.slice(vt,vt+6));return $t?(ft.L=Math.floor($t[0]/1e3),vt+$t[0].length):-1}function X(ft,wt,vt){var $t=$.exec(wt.slice(vt,vt+1));return $t?vt+$t[0].length:-1}function ye(ft,wt,vt){var $t=_.exec(wt.slice(vt));return $t?(ft.Q=+$t[0],vt+$t[0].length):-1}function Ce(ft,wt,vt){var $t=_.exec(wt.slice(vt));return $t?(ft.s=+$t[0],vt+$t[0].length):-1}function $e(ft,wt){return O(ft.getDate(),wt,2)}function ke(ft,wt){return O(ft.getHours(),wt,2)}function Ne(ft,wt){return O(ft.getHours()%12||12,wt,2)}function Ve(ft,wt){return O(1+c.Z.count((0,i.Z)(ft),ft),wt,3)}function Oe(ft,wt){return O(ft.getMilliseconds(),wt,3)}function Fe(ft,wt){return Oe(ft,wt)+"000"}function ie(ft,wt){return O(ft.getMonth()+1,wt,2)}function we(ft,wt){return O(ft.getMinutes(),wt,2)}function se(ft,wt){return O(ft.getSeconds(),wt,2)}function ue(ft){var wt=ft.getDay();return wt===0?7:wt}function pe(ft,wt){return O(l.OM.count((0,i.Z)(ft)-1,ft),wt,2)}function le(ft,wt){var vt=ft.getDay();return ft=vt>=4||vt===0?(0,l.bL)(ft):l.bL.ceil(ft),O(l.bL.count((0,i.Z)(ft),ft)+((0,i.Z)(ft).getDay()===4),wt,2)}function Te(ft){return ft.getDay()}function de(ft,wt){return O(l.wA.count((0,i.Z)(ft)-1,ft),wt,2)}function Me(ft,wt){return O(ft.getFullYear()%100,wt,2)}function Re(ft,wt){return O(ft.getFullYear()%1e4,wt,4)}function ze(ft){var wt=ft.getTimezoneOffset();return(wt>0?"-":(wt*=-1,"+"))+O(wt/60|0,"0",2)+O(wt%60,"0",2)}function We(ft,wt){return O(ft.getUTCDate(),wt,2)}function ot(ft,wt){return O(ft.getUTCHours(),wt,2)}function dt(ft,wt){return O(ft.getUTCHours()%12||12,wt,2)}function Ge(ft,wt){return O(1+h.Z.count((0,u.Z)(ft),ft),wt,3)}function Xe(ft,wt){return O(ft.getUTCMilliseconds(),wt,3)}function qe(ft,wt){return Xe(ft,wt)+"000"}function gt(ft,wt){return O(ft.getUTCMonth()+1,wt,2)}function ut(ft,wt){return O(ft.getUTCMinutes(),wt,2)}function tt(ft,wt){return O(ft.getUTCSeconds(),wt,2)}function Ct(ft){var wt=ft.getUTCDay();return wt===0?7:wt}function Gt(ft,wt){return O(m.Ox.count((0,u.Z)(ft)-1,ft),wt,2)}function Yt(ft,wt){var vt=ft.getUTCDay();return ft=vt>=4||vt===0?(0,m.hB)(ft):m.hB.ceil(ft),O(m.hB.count((0,u.Z)(ft),ft)+((0,u.Z)(ft).getUTCDay()===4),wt,2)}function Nt(ft){return ft.getUTCDay()}function Ft(ft,wt){return O(m.l6.count((0,u.Z)(ft)-1,ft),wt,2)}function pn(ft,wt){return O(ft.getUTCFullYear()%100,wt,2)}function _n(ft,wt){return O(ft.getUTCFullYear()%1e4,wt,4)}function sn(){return"+0000"}function Zn(){return"%"}function an(ft){return+ft}function Cn(ft){return Math.floor(+ft/1e3)}var jn,Wn,wn;lt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lt(ft){return jn=x(ft),Wn=jn.format,jn.parse,wn=jn.utcFormat,jn.utcParse,jn}},2301:function(L,A,s){s.d(A,{a:function(){return c}});var m=s(52),h=s(4263),l=(0,m.Z)(function(i){i.setHours(0,0,0,0)},function(i,u){i.setDate(i.getDate()+u)},function(i,u){return(u-i-(u.getTimezoneOffset()-i.getTimezoneOffset())*h.yB)/h.UD},function(i){return i.getDate()-1});A.Z=l;var c=l.range},4263:function(L,A,s){s.d(A,{UD:function(){return c},Y2:function(){return l},Ym:function(){return m},iM:function(){return i},yB:function(){return h}});var m=1e3,h=6e4,l=36e5,c=864e5,i=6048e5},1041:function(L,A,s){s.r(A),s.d(A,{timeDay:function(){return O.Z},timeDays:function(){return O.a},timeFriday:function(){return D.mC},timeFridays:function(){return D.b$},timeHour:function(){return $},timeHours:function(){return S},timeInterval:function(){return m.Z},timeMillisecond:function(){return l},timeMilliseconds:function(){return c},timeMinute:function(){return x},timeMinutes:function(){return C},timeMonday:function(){return D.wA},timeMondays:function(){return D.bJ},timeMonth:function(){return M},timeMonths:function(){return k},timeSaturday:function(){return D.EY},timeSaturdays:function(){return D.Ff},timeSecond:function(){return d},timeSeconds:function(){return g},timeSunday:function(){return D.OM},timeSundays:function(){return D.vm},timeThursday:function(){return D.bL},timeThursdays:function(){return D.$t},timeTuesday:function(){return D.sy},timeTuesdays:function(){return D.aU},timeWednesday:function(){return D.zg},timeWednesdays:function(){return D.Ld},timeWeek:function(){return D.OM},timeWeeks:function(){return D.vm},timeYear:function(){return R.Z},timeYears:function(){return R.g},utcDay:function(){return K.Z},utcDays:function(){return K.y},utcFriday:function(){return ae.QQ},utcFridays:function(){return ae.fz},utcHour:function(){return ee},utcHours:function(){return J},utcMillisecond:function(){return l},utcMilliseconds:function(){return c},utcMinute:function(){return H},utcMinutes:function(){return j},utcMonday:function(){return ae.l6},utcMondays:function(){return ae.$3},utcMonth:function(){return he},utcMonths:function(){return ge},utcSaturday:function(){return ae.g4},utcSaturdays:function(){return ae.Q_},utcSecond:function(){return d},utcSeconds:function(){return g},utcSunday:function(){return ae.Ox},utcSundays:function(){return ae.SU},utcThursday:function(){return ae.hB},utcThursdays:function(){return ae.xj},utcTuesday:function(){return ae.J1},utcTuesdays:function(){return ae.DK},utcWednesday:function(){return ae.b3},utcWednesdays:function(){return ae.uy},utcWeek:function(){return ae.Ox},utcWeeks:function(){return ae.SU},utcYear:function(){return Se.Z},utcYears:function(){return Se.D}});var m=s(52),h=(0,m.Z)(function(){},function(ce,ne){ce.setTime(+ce+ne)},function(ce,ne){return ne-ce});h.every=function(ce){return ce=Math.floor(ce),!isFinite(ce)||!(ce>0)?null:ce>1?(0,m.Z)(function(ne){ne.setTime(Math.floor(ne/ce)*ce)},function(ne,fe){ne.setTime(+ne+fe*ce)},function(ne,fe){return(fe-ne)/ce}):h};var l=h,c=h.range,i=s(4263),u=(0,m.Z)(function(ce){ce.setTime(ce-ce.getMilliseconds())},function(ce,ne){ce.setTime(+ce+ne*i.Ym)},function(ce,ne){return(ne-ce)/i.Ym},function(ce){return ce.getUTCSeconds()}),d=u,g=u.range,v=(0,m.Z)(function(ce){ce.setTime(ce-ce.getMilliseconds()-ce.getSeconds()*i.Ym)},function(ce,ne){ce.setTime(+ce+ne*i.yB)},function(ce,ne){return(ne-ce)/i.yB},function(ce){return ce.getMinutes()}),x=v,C=v.range,_=(0,m.Z)(function(ce){ce.setTime(ce-ce.getMilliseconds()-ce.getSeconds()*i.Ym-ce.getMinutes()*i.yB)},function(ce,ne){ce.setTime(+ce+ne*i.Y2)},function(ce,ne){return(ne-ce)/i.Y2},function(ce){return ce.getHours()}),$=_,S=_.range,O=s(2301),D=s(9879),N=(0,m.Z)(function(ce){ce.setDate(1),ce.setHours(0,0,0,0)},function(ce,ne){ce.setMonth(ce.getMonth()+ne)},function(ce,ne){return ne.getMonth()-ce.getMonth()+(ne.getFullYear()-ce.getFullYear())*12},function(ce){return ce.getMonth()}),M=N,k=N.range,R=s(4823),F=(0,m.Z)(function(ce){ce.setUTCSeconds(0,0)},function(ce,ne){ce.setTime(+ce+ne*i.yB)},function(ce,ne){return(ne-ce)/i.yB},function(ce){return ce.getUTCMinutes()}),H=F,j=F.range,P=(0,m.Z)(function(ce){ce.setUTCMinutes(0,0,0)},function(ce,ne){ce.setTime(+ce+ne*i.Y2)},function(ce,ne){return(ne-ce)/i.Y2},function(ce){return ce.getUTCHours()}),ee=P,J=P.range,K=s(8480),ae=s(8176),Q=(0,m.Z)(function(ce){ce.setUTCDate(1),ce.setUTCHours(0,0,0,0)},function(ce,ne){ce.setUTCMonth(ce.getUTCMonth()+ne)},function(ce,ne){return ne.getUTCMonth()-ce.getUTCMonth()+(ne.getUTCFullYear()-ce.getUTCFullYear())*12},function(ce){return ce.getUTCMonth()}),he=Q,ge=Q.range,Se=s(9791)},52:function(L,A,s){s.d(A,{Z:function(){return l}});var m=new Date,h=new Date;function l(c,i,u,d){function g(v){return c(v=arguments.length===0?new Date:new Date(+v)),v}return g.floor=function(v){return c(v=new Date(+v)),v},g.ceil=function(v){return c(v=new Date(v-1)),i(v,1),c(v),v},g.round=function(v){var x=g(v),C=g.ceil(v);return v-x<C-v?x:C},g.offset=function(v,x){return i(v=new Date(+v),x==null?1:Math.floor(x)),v},g.range=function(v,x,C){var _=[],$;if(v=g.ceil(v),C=C==null?1:Math.floor(C),!(v<x)||!(C>0))return _;do _.push($=new Date(+v)),i(v,C),c(v);while($<v&&v<x);return _},g.filter=function(v){return l(function(x){if(x>=x)for(;c(x),!v(x);)x.setTime(x-1)},function(x,C){if(x>=x)if(C<0)for(;++C<=0;)for(;i(x,-1),!v(x););else for(;--C>=0;)for(;i(x,1),!v(x););})},u&&(g.count=function(v,x){return m.setTime(+v),h.setTime(+x),c(m),c(h),Math.floor(u(m,h))},g.every=function(v){return v=Math.floor(v),!isFinite(v)||!(v>0)?null:v>1?g.filter(d?function(x){return d(x)%v===0}:function(x){return g.count(0,x)%v===0}):g}),g}},8480:function(L,A,s){s.d(A,{y:function(){return c}});var m=s(52),h=s(4263),l=(0,m.Z)(function(i){i.setUTCHours(0,0,0,0)},function(i,u){i.setUTCDate(i.getUTCDate()+u)},function(i,u){return(u-i)/h.UD},function(i){return i.getUTCDate()-1});A.Z=l;var c=l.range},8176:function(L,A,s){s.d(A,{$3:function(){return _},DK:function(){return $},J1:function(){return u},Ox:function(){return c},QQ:function(){return v},Q_:function(){return N},SU:function(){return C},b3:function(){return d},fz:function(){return D},g4:function(){return x},hB:function(){return g},l6:function(){return i},uy:function(){return S},xj:function(){return O}});var m=s(52),h=s(4263);function l(M){return(0,m.Z)(function(k){k.setUTCDate(k.getUTCDate()-(k.getUTCDay()+7-M)%7),k.setUTCHours(0,0,0,0)},function(k,R){k.setUTCDate(k.getUTCDate()+R*7)},function(k,R){return(R-k)/h.iM})}var c=l(0),i=l(1),u=l(2),d=l(3),g=l(4),v=l(5),x=l(6),C=c.range,_=i.range,$=u.range,S=d.range,O=g.range,D=v.range,N=x.range},9791:function(L,A,s){s.d(A,{D:function(){return l}});var m=s(52),h=(0,m.Z)(function(c){c.setUTCMonth(0,1),c.setUTCHours(0,0,0,0)},function(c,i){c.setUTCFullYear(c.getUTCFullYear()+i)},function(c,i){return i.getUTCFullYear()-c.getUTCFullYear()},function(c){return c.getUTCFullYear()});h.every=function(c){return!isFinite(c=Math.floor(c))||!(c>0)?null:(0,m.Z)(function(i){i.setUTCFullYear(Math.floor(i.getUTCFullYear()/c)*c),i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},function(i,u){i.setUTCFullYear(i.getUTCFullYear()+u*c)})},A.Z=h;var l=h.range},9879:function(L,A,s){s.d(A,{$t:function(){return O},EY:function(){return x},Ff:function(){return N},Ld:function(){return S},OM:function(){return c},aU:function(){return $},b$:function(){return D},bJ:function(){return _},bL:function(){return g},mC:function(){return v},sy:function(){return u},vm:function(){return C},wA:function(){return i},zg:function(){return d}});var m=s(52),h=s(4263);function l(M){return(0,m.Z)(function(k){k.setDate(k.getDate()-(k.getDay()+7-M)%7),k.setHours(0,0,0,0)},function(k,R){k.setDate(k.getDate()+R*7)},function(k,R){return(R-k-(R.getTimezoneOffset()-k.getTimezoneOffset())*h.yB)/h.iM})}var c=l(0),i=l(1),u=l(2),d=l(3),g=l(4),v=l(5),x=l(6),C=c.range,_=i.range,$=u.range,S=d.range,O=g.range,D=v.range,N=x.range},4823:function(L,A,s){s.d(A,{g:function(){return l}});var m=s(52),h=(0,m.Z)(function(c){c.setMonth(0,1),c.setHours(0,0,0,0)},function(c,i){c.setFullYear(c.getFullYear()+i)},function(c,i){return i.getFullYear()-c.getFullYear()},function(c){return c.getFullYear()});h.every=function(c){return!isFinite(c=Math.floor(c))||!(c>0)?null:(0,m.Z)(function(i){i.setFullYear(Math.floor(i.getFullYear()/c)*c),i.setMonth(0,1),i.setHours(0,0,0,0)},function(i,u){i.setFullYear(i.getFullYear()+u*c)})},A.Z=h;var l=h.range},5398:function(L){var A=typeof Reflect=="object"?Reflect:null,s=A&&typeof A.apply=="function"?A.apply:function(R,F,H){return Function.prototype.apply.call(R,F,H)},m;A&&typeof A.ownKeys=="function"?m=A.ownKeys:Object.getOwnPropertySymbols?m=function(R){return Object.getOwnPropertyNames(R).concat(Object.getOwnPropertySymbols(R))}:m=function(R){return Object.getOwnPropertyNames(R)};function h(k){console&&console.warn&&console.warn(k)}var l=Number.isNaN||function(R){return R!==R};function c(){c.init.call(this)}L.exports=c,L.exports.once=D,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var i=10;function u(k){if(typeof k!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof k)}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(k){if(typeof k!="number"||k<0||l(k))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+k+".");i=k}}),c.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(R){if(typeof R!="number"||R<0||l(R))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+R+".");return this._maxListeners=R,this};function d(k){return k._maxListeners===void 0?c.defaultMaxListeners:k._maxListeners}c.prototype.getMaxListeners=function(){return d(this)},c.prototype.emit=function(R){for(var F=[],H=1;H<arguments.length;H++)F.push(arguments[H]);var j=R==="error",P=this._events;if(P!==void 0)j=j&&P.error===void 0;else if(!j)return!1;if(j){var ee;if(F.length>0&&(ee=F[0]),ee instanceof Error)throw ee;var J=new Error("Unhandled error."+(ee?" ("+ee.message+")":""));throw J.context=ee,J}var K=P[R];if(K===void 0)return!1;if(typeof K=="function")s(K,this,F);else for(var ae=K.length,Q=$(K,ae),H=0;H<ae;++H)s(Q[H],this,F);return!0};function g(k,R,F,H){var j,P,ee;if(u(F),P=k._events,P===void 0?(P=k._events=Object.create(null),k._eventsCount=0):(P.newListener!==void 0&&(k.emit("newListener",R,F.listener?F.listener:F),P=k._events),ee=P[R]),ee===void 0)ee=P[R]=F,++k._eventsCount;else if(typeof ee=="function"?ee=P[R]=H?[F,ee]:[ee,F]:H?ee.unshift(F):ee.push(F),j=d(k),j>0&&ee.length>j&&!ee.warned){ee.warned=!0;var J=new Error("Possible EventEmitter memory leak detected. "+ee.length+" "+String(R)+" listeners added. Use emitter.setMaxListeners() to increase limit");J.name="MaxListenersExceededWarning",J.emitter=k,J.type=R,J.count=ee.length,h(J)}return k}c.prototype.addListener=function(R,F){return g(this,R,F,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(R,F){return g(this,R,F,!0)};function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function x(k,R,F){var H={fired:!1,wrapFn:void 0,target:k,type:R,listener:F},j=v.bind(H);return j.listener=F,H.wrapFn=j,j}c.prototype.once=function(R,F){return u(F),this.on(R,x(this,R,F)),this},c.prototype.prependOnceListener=function(R,F){return u(F),this.prependListener(R,x(this,R,F)),this},c.prototype.removeListener=function(R,F){var H,j,P,ee,J;if(u(F),j=this._events,j===void 0)return this;if(H=j[R],H===void 0)return this;if(H===F||H.listener===F)--this._eventsCount===0?this._events=Object.create(null):(delete j[R],j.removeListener&&this.emit("removeListener",R,H.listener||F));else if(typeof H!="function"){for(P=-1,ee=H.length-1;ee>=0;ee--)if(H[ee]===F||H[ee].listener===F){J=H[ee].listener,P=ee;break}if(P<0)return this;P===0?H.shift():S(H,P),H.length===1&&(j[R]=H[0]),j.removeListener!==void 0&&this.emit("removeListener",R,J||F)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(R){var F,H,j;if(H=this._events,H===void 0)return this;if(H.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):H[R]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete H[R]),this;if(arguments.length===0){var P=Object.keys(H),ee;for(j=0;j<P.length;++j)ee=P[j],ee!=="removeListener"&&this.removeAllListeners(ee);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(F=H[R],typeof F=="function")this.removeListener(R,F);else if(F!==void 0)for(j=F.length-1;j>=0;j--)this.removeListener(R,F[j]);return this};function C(k,R,F){var H=k._events;if(H===void 0)return[];var j=H[R];return j===void 0?[]:typeof j=="function"?F?[j.listener||j]:[j]:F?O(j):$(j,j.length)}c.prototype.listeners=function(R){return C(this,R,!0)},c.prototype.rawListeners=function(R){return C(this,R,!1)},c.listenerCount=function(k,R){return typeof k.listenerCount=="function"?k.listenerCount(R):_.call(k,R)},c.prototype.listenerCount=_;function _(k){var R=this._events;if(R!==void 0){var F=R[k];if(typeof F=="function")return 1;if(F!==void 0)return F.length}return 0}c.prototype.eventNames=function(){return this._eventsCount>0?m(this._events):[]};function $(k,R){for(var F=new Array(R),H=0;H<R;++H)F[H]=k[H];return F}function S(k,R){for(;R+1<k.length;R++)k[R]=k[R+1];k.pop()}function O(k){for(var R=new Array(k.length),F=0;F<R.length;++F)R[F]=k[F].listener||k[F];return R}function D(k,R){return new Promise(function(F,H){function j(ee){k.removeListener(R,P),H(ee)}function P(){typeof k.removeListener=="function"&&k.removeListener("error",j),F([].slice.call(arguments))}M(k,R,P,{once:!0}),R!=="error"&&N(k,j,{once:!0})})}function N(k,R,F){typeof k.on=="function"&&M(k,"error",R,F)}function M(k,R,F,H){if(typeof k.on=="function")H.once?k.once(R,F):k.on(R,F);else if(typeof k.addEventListener=="function")k.addEventListener(R,function j(P){H.once&&k.removeEventListener(R,j),F(P)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof k)}},2770:function(L,A,s){var m=s(8546);L.exports=function(h){var l=typeof h;if(l==="string"){var c=h;if(h=+h,h===0&&m(c))return!1}else if(l!=="number")return!1;return h-h<1}},5400:function(L){L.exports=A;function A(s,m){var h=m[0],l=m[1],c=m[2],i=m[3],u=m[4],d=m[5],g=m[6],v=m[7],x=m[8],C=m[9],_=m[10],$=m[11],S=m[12],O=m[13],D=m[14],N=m[15];return s[0]=d*(_*N-$*D)-C*(g*N-v*D)+O*(g*$-v*_),s[1]=-(l*(_*N-$*D)-C*(c*N-i*D)+O*(c*$-i*_)),s[2]=l*(g*N-v*D)-d*(c*N-i*D)+O*(c*v-i*g),s[3]=-(l*(g*$-v*_)-d*(c*$-i*_)+C*(c*v-i*g)),s[4]=-(u*(_*N-$*D)-x*(g*N-v*D)+S*(g*$-v*_)),s[5]=h*(_*N-$*D)-x*(c*N-i*D)+S*(c*$-i*_),s[6]=-(h*(g*N-v*D)-u*(c*N-i*D)+S*(c*v-i*g)),s[7]=h*(g*$-v*_)-u*(c*$-i*_)+x*(c*v-i*g),s[8]=u*(C*N-$*O)-x*(d*N-v*O)+S*(d*$-v*C),s[9]=-(h*(C*N-$*O)-x*(l*N-i*O)+S*(l*$-i*C)),s[10]=h*(d*N-v*O)-u*(l*N-i*O)+S*(l*v-i*d),s[11]=-(h*(d*$-v*C)-u*(l*$-i*C)+x*(l*v-i*d)),s[12]=-(u*(C*D-_*O)-x*(d*D-g*O)+S*(d*_-g*C)),s[13]=h*(C*D-_*O)-x*(l*D-c*O)+S*(l*_-c*C),s[14]=-(h*(d*D-g*O)-u*(l*D-c*O)+S*(l*g-c*d)),s[15]=h*(d*_-g*C)-u*(l*_-c*C)+x*(l*g-c*d),s}},2331:function(L){L.exports=A;function A(s){var m=new Float32Array(16);return m[0]=s[0],m[1]=s[1],m[2]=s[2],m[3]=s[3],m[4]=s[4],m[5]=s[5],m[6]=s[6],m[7]=s[7],m[8]=s[8],m[9]=s[9],m[10]=s[10],m[11]=s[11],m[12]=s[12],m[13]=s[13],m[14]=s[14],m[15]=s[15],m}},1042:function(L){L.exports=A;function A(s,m){return s[0]=m[0],s[1]=m[1],s[2]=m[2],s[3]=m[3],s[4]=m[4],s[5]=m[5],s[6]=m[6],s[7]=m[7],s[8]=m[8],s[9]=m[9],s[10]=m[10],s[11]=m[11],s[12]=m[12],s[13]=m[13],s[14]=m[14],s[15]=m[15],s}},1902:function(L){L.exports=A;function A(){var s=new Float32Array(16);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},9887:function(L){L.exports=A;function A(s){var m=s[0],h=s[1],l=s[2],c=s[3],i=s[4],u=s[5],d=s[6],g=s[7],v=s[8],x=s[9],C=s[10],_=s[11],$=s[12],S=s[13],O=s[14],D=s[15],N=m*u-h*i,M=m*d-l*i,k=m*g-c*i,R=h*d-l*u,F=h*g-c*u,H=l*g-c*d,j=v*S-x*$,P=v*O-C*$,ee=v*D-_*$,J=x*O-C*S,K=x*D-_*S,ae=C*D-_*O;return N*ae-M*K+k*J+R*ee-F*P+H*j}},7812:function(L){L.exports=A;function A(s,m){var h=m[0],l=m[1],c=m[2],i=m[3],u=h+h,d=l+l,g=c+c,v=h*u,x=l*u,C=l*d,_=c*u,$=c*d,S=c*g,O=i*u,D=i*d,N=i*g;return s[0]=1-C-S,s[1]=x+N,s[2]=_-D,s[3]=0,s[4]=x-N,s[5]=1-v-S,s[6]=$+O,s[7]=0,s[8]=_+D,s[9]=$-O,s[10]=1-v-C,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},4045:function(L){L.exports=A;function A(s,m,h){var l,c,i,u=h[0],d=h[1],g=h[2],v=Math.sqrt(u*u+d*d+g*g);return Math.abs(v)<1e-6?null:(v=1/v,u*=v,d*=v,g*=v,l=Math.sin(m),c=Math.cos(m),i=1-c,s[0]=u*u*i+c,s[1]=d*u*i+g*l,s[2]=g*u*i-d*l,s[3]=0,s[4]=u*d*i-g*l,s[5]=d*d*i+c,s[6]=g*d*i+u*l,s[7]=0,s[8]=u*g*i+d*l,s[9]=d*g*i-u*l,s[10]=g*g*i+c,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s)}},5973:function(L){L.exports=A;function A(s,m,h){var l=m[0],c=m[1],i=m[2],u=m[3],d=l+l,g=c+c,v=i+i,x=l*d,C=l*g,_=l*v,$=c*g,S=c*v,O=i*v,D=u*d,N=u*g,M=u*v;return s[0]=1-($+O),s[1]=C+M,s[2]=_-N,s[3]=0,s[4]=C-M,s[5]=1-(x+O),s[6]=S+D,s[7]=0,s[8]=_+N,s[9]=S-D,s[10]=1-(x+$),s[11]=0,s[12]=h[0],s[13]=h[1],s[14]=h[2],s[15]=1,s}},1472:function(L){L.exports=A;function A(s,m){return s[0]=m[0],s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=m[1],s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=m[2],s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},4669:function(L){L.exports=A;function A(s,m){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=m[0],s[13]=m[1],s[14]=m[2],s[15]=1,s}},5262:function(L){L.exports=A;function A(s,m){var h=Math.sin(m),l=Math.cos(m);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=l,s[6]=h,s[7]=0,s[8]=0,s[9]=-h,s[10]=l,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},331:function(L){L.exports=A;function A(s,m){var h=Math.sin(m),l=Math.cos(m);return s[0]=l,s[1]=0,s[2]=-h,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=h,s[9]=0,s[10]=l,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},1049:function(L){L.exports=A;function A(s,m){var h=Math.sin(m),l=Math.cos(m);return s[0]=l,s[1]=h,s[2]=0,s[3]=0,s[4]=-h,s[5]=l,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},5195:function(L){L.exports=A;function A(s,m,h,l,c,i,u){var d=1/(h-m),g=1/(c-l),v=1/(i-u);return s[0]=i*2*d,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=i*2*g,s[6]=0,s[7]=0,s[8]=(h+m)*d,s[9]=(c+l)*g,s[10]=(u+i)*v,s[11]=-1,s[12]=0,s[13]=0,s[14]=u*i*2*v,s[15]=0,s}},1551:function(L){L.exports=A;function A(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},9576:function(L,A,s){L.exports={create:s(1902),clone:s(2331),copy:s(1042),identity:s(1551),transpose:s(8654),invert:s(5874),adjoint:s(5400),determinant:s(9887),multiply:s(1362),translate:s(1283),scale:s(789),rotate:s(5074),rotateX:s(5545),rotateY:s(4918),rotateZ:s(5692),fromRotation:s(4045),fromRotationTranslation:s(5973),fromScaling:s(1472),fromTranslation:s(4669),fromXRotation:s(5262),fromYRotation:s(331),fromZRotation:s(1049),fromQuat:s(7812),frustum:s(5195),perspective:s(7864),perspectiveFromFieldOfView:s(5279),ortho:s(378),lookAt:s(5551),str:s(6726)}},5874:function(L){L.exports=A;function A(s,m){var h=m[0],l=m[1],c=m[2],i=m[3],u=m[4],d=m[5],g=m[6],v=m[7],x=m[8],C=m[9],_=m[10],$=m[11],S=m[12],O=m[13],D=m[14],N=m[15],M=h*d-l*u,k=h*g-c*u,R=h*v-i*u,F=l*g-c*d,H=l*v-i*d,j=c*v-i*g,P=x*O-C*S,ee=x*D-_*S,J=x*N-$*S,K=C*D-_*O,ae=C*N-$*O,Q=_*N-$*D,he=M*Q-k*ae+R*K+F*J-H*ee+j*P;return he?(he=1/he,s[0]=(d*Q-g*ae+v*K)*he,s[1]=(c*ae-l*Q-i*K)*he,s[2]=(O*j-D*H+N*F)*he,s[3]=(_*H-C*j-$*F)*he,s[4]=(g*J-u*Q-v*ee)*he,s[5]=(h*Q-c*J+i*ee)*he,s[6]=(D*R-S*j-N*k)*he,s[7]=(x*j-_*R+$*k)*he,s[8]=(u*ae-d*J+v*P)*he,s[9]=(l*J-h*ae-i*P)*he,s[10]=(S*H-O*R+N*M)*he,s[11]=(C*R-x*H-$*M)*he,s[12]=(d*ee-u*K-g*P)*he,s[13]=(h*K-l*ee+c*P)*he,s[14]=(O*k-S*F-D*M)*he,s[15]=(x*F-C*k+_*M)*he,s):null}},5551:function(L,A,s){var m=s(1551);L.exports=h;function h(l,c,i,u){var d,g,v,x,C,_,$,S,O,D,N=c[0],M=c[1],k=c[2],R=u[0],F=u[1],H=u[2],j=i[0],P=i[1],ee=i[2];return Math.abs(N-j)<1e-6&&Math.abs(M-P)<1e-6&&Math.abs(k-ee)<1e-6?m(l):($=N-j,S=M-P,O=k-ee,D=1/Math.sqrt($*$+S*S+O*O),$*=D,S*=D,O*=D,d=F*O-H*S,g=H*$-R*O,v=R*S-F*$,D=Math.sqrt(d*d+g*g+v*v),D?(D=1/D,d*=D,g*=D,v*=D):(d=0,g=0,v=0),x=S*v-O*g,C=O*d-$*v,_=$*g-S*d,D=Math.sqrt(x*x+C*C+_*_),D?(D=1/D,x*=D,C*=D,_*=D):(x=0,C=0,_=0),l[0]=d,l[1]=x,l[2]=$,l[3]=0,l[4]=g,l[5]=C,l[6]=S,l[7]=0,l[8]=v,l[9]=_,l[10]=O,l[11]=0,l[12]=-(d*N+g*M+v*k),l[13]=-(x*N+C*M+_*k),l[14]=-($*N+S*M+O*k),l[15]=1,l)}},1362:function(L){L.exports=A;function A(s,m,h){var l=m[0],c=m[1],i=m[2],u=m[3],d=m[4],g=m[5],v=m[6],x=m[7],C=m[8],_=m[9],$=m[10],S=m[11],O=m[12],D=m[13],N=m[14],M=m[15],k=h[0],R=h[1],F=h[2],H=h[3];return s[0]=k*l+R*d+F*C+H*O,s[1]=k*c+R*g+F*_+H*D,s[2]=k*i+R*v+F*$+H*N,s[3]=k*u+R*x+F*S+H*M,k=h[4],R=h[5],F=h[6],H=h[7],s[4]=k*l+R*d+F*C+H*O,s[5]=k*c+R*g+F*_+H*D,s[6]=k*i+R*v+F*$+H*N,s[7]=k*u+R*x+F*S+H*M,k=h[8],R=h[9],F=h[10],H=h[11],s[8]=k*l+R*d+F*C+H*O,s[9]=k*c+R*g+F*_+H*D,s[10]=k*i+R*v+F*$+H*N,s[11]=k*u+R*x+F*S+H*M,k=h[12],R=h[13],F=h[14],H=h[15],s[12]=k*l+R*d+F*C+H*O,s[13]=k*c+R*g+F*_+H*D,s[14]=k*i+R*v+F*$+H*N,s[15]=k*u+R*x+F*S+H*M,s}},378:function(L){L.exports=A;function A(s,m,h,l,c,i,u){var d=1/(m-h),g=1/(l-c),v=1/(i-u);return s[0]=-2*d,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*g,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*v,s[11]=0,s[12]=(m+h)*d,s[13]=(c+l)*g,s[14]=(u+i)*v,s[15]=1,s}},7864:function(L){L.exports=A;function A(s,m,h,l,c){var i=1/Math.tan(m/2),u=1/(l-c);return s[0]=i/h,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=i,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=(c+l)*u,s[11]=-1,s[12]=0,s[13]=0,s[14]=2*c*l*u,s[15]=0,s}},5279:function(L){L.exports=A;function A(s,m,h,l){var c=Math.tan(m.upDegrees*Math.PI/180),i=Math.tan(m.downDegrees*Math.PI/180),u=Math.tan(m.leftDegrees*Math.PI/180),d=Math.tan(m.rightDegrees*Math.PI/180),g=2/(u+d),v=2/(c+i);return s[0]=g,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=v,s[6]=0,s[7]=0,s[8]=-((u-d)*g*.5),s[9]=(c-i)*v*.5,s[10]=l/(h-l),s[11]=-1,s[12]=0,s[13]=0,s[14]=l*h/(h-l),s[15]=0,s}},5074:function(L){L.exports=A;function A(s,m,h,l){var c=l[0],i=l[1],u=l[2],d=Math.sqrt(c*c+i*i+u*u),g,v,x,C,_,$,S,O,D,N,M,k,R,F,H,j,P,ee,J,K,ae,Q,he,ge;return Math.abs(d)<1e-6?null:(d=1/d,c*=d,i*=d,u*=d,g=Math.sin(h),v=Math.cos(h),x=1-v,C=m[0],_=m[1],$=m[2],S=m[3],O=m[4],D=m[5],N=m[6],M=m[7],k=m[8],R=m[9],F=m[10],H=m[11],j=c*c*x+v,P=i*c*x+u*g,ee=u*c*x-i*g,J=c*i*x-u*g,K=i*i*x+v,ae=u*i*x+c*g,Q=c*u*x+i*g,he=i*u*x-c*g,ge=u*u*x+v,s[0]=C*j+O*P+k*ee,s[1]=_*j+D*P+R*ee,s[2]=$*j+N*P+F*ee,s[3]=S*j+M*P+H*ee,s[4]=C*J+O*K+k*ae,s[5]=_*J+D*K+R*ae,s[6]=$*J+N*K+F*ae,s[7]=S*J+M*K+H*ae,s[8]=C*Q+O*he+k*ge,s[9]=_*Q+D*he+R*ge,s[10]=$*Q+N*he+F*ge,s[11]=S*Q+M*he+H*ge,m!==s&&(s[12]=m[12],s[13]=m[13],s[14]=m[14],s[15]=m[15]),s)}},5545:function(L){L.exports=A;function A(s,m,h){var l=Math.sin(h),c=Math.cos(h),i=m[4],u=m[5],d=m[6],g=m[7],v=m[8],x=m[9],C=m[10],_=m[11];return m!==s&&(s[0]=m[0],s[1]=m[1],s[2]=m[2],s[3]=m[3],s[12]=m[12],s[13]=m[13],s[14]=m[14],s[15]=m[15]),s[4]=i*c+v*l,s[5]=u*c+x*l,s[6]=d*c+C*l,s[7]=g*c+_*l,s[8]=v*c-i*l,s[9]=x*c-u*l,s[10]=C*c-d*l,s[11]=_*c-g*l,s}},4918:function(L){L.exports=A;function A(s,m,h){var l=Math.sin(h),c=Math.cos(h),i=m[0],u=m[1],d=m[2],g=m[3],v=m[8],x=m[9],C=m[10],_=m[11];return m!==s&&(s[4]=m[4],s[5]=m[5],s[6]=m[6],s[7]=m[7],s[12]=m[12],s[13]=m[13],s[14]=m[14],s[15]=m[15]),s[0]=i*c-v*l,s[1]=u*c-x*l,s[2]=d*c-C*l,s[3]=g*c-_*l,s[8]=i*l+v*c,s[9]=u*l+x*c,s[10]=d*l+C*c,s[11]=g*l+_*c,s}},5692:function(L){L.exports=A;function A(s,m,h){var l=Math.sin(h),c=Math.cos(h),i=m[0],u=m[1],d=m[2],g=m[3],v=m[4],x=m[5],C=m[6],_=m[7];return m!==s&&(s[8]=m[8],s[9]=m[9],s[10]=m[10],s[11]=m[11],s[12]=m[12],s[13]=m[13],s[14]=m[14],s[15]=m[15]),s[0]=i*c+v*l,s[1]=u*c+x*l,s[2]=d*c+C*l,s[3]=g*c+_*l,s[4]=v*c-i*l,s[5]=x*c-u*l,s[6]=C*c-d*l,s[7]=_*c-g*l,s}},789:function(L){L.exports=A;function A(s,m,h){var l=h[0],c=h[1],i=h[2];return s[0]=m[0]*l,s[1]=m[1]*l,s[2]=m[2]*l,s[3]=m[3]*l,s[4]=m[4]*c,s[5]=m[5]*c,s[6]=m[6]*c,s[7]=m[7]*c,s[8]=m[8]*i,s[9]=m[9]*i,s[10]=m[10]*i,s[11]=m[11]*i,s[12]=m[12],s[13]=m[13],s[14]=m[14],s[15]=m[15],s}},6726:function(L){L.exports=A;function A(s){return"mat4("+s[0]+", "+s[1]+", "+s[2]+", "+s[3]+", "+s[4]+", "+s[5]+", "+s[6]+", "+s[7]+", "+s[8]+", "+s[9]+", "+s[10]+", "+s[11]+", "+s[12]+", "+s[13]+", "+s[14]+", "+s[15]+")"}},1283:function(L){L.exports=A;function A(s,m,h){var l=h[0],c=h[1],i=h[2],u,d,g,v,x,C,_,$,S,O,D,N;return m===s?(s[12]=m[0]*l+m[4]*c+m[8]*i+m[12],s[13]=m[1]*l+m[5]*c+m[9]*i+m[13],s[14]=m[2]*l+m[6]*c+m[10]*i+m[14],s[15]=m[3]*l+m[7]*c+m[11]*i+m[15]):(u=m[0],d=m[1],g=m[2],v=m[3],x=m[4],C=m[5],_=m[6],$=m[7],S=m[8],O=m[9],D=m[10],N=m[11],s[0]=u,s[1]=d,s[2]=g,s[3]=v,s[4]=x,s[5]=C,s[6]=_,s[7]=$,s[8]=S,s[9]=O,s[10]=D,s[11]=N,s[12]=u*l+x*c+S*i+m[12],s[13]=d*l+C*c+O*i+m[13],s[14]=g*l+_*c+D*i+m[14],s[15]=v*l+$*c+N*i+m[15]),s}},8654:function(L){L.exports=A;function A(s,m){if(s===m){var h=m[1],l=m[2],c=m[3],i=m[6],u=m[7],d=m[11];s[1]=m[4],s[2]=m[8],s[3]=m[12],s[4]=h,s[6]=m[9],s[7]=m[13],s[8]=l,s[9]=i,s[11]=m[14],s[12]=c,s[13]=u,s[14]=d}else s[0]=m[0],s[1]=m[4],s[2]=m[8],s[3]=m[12],s[4]=m[1],s[5]=m[5],s[6]=m[9],s[7]=m[13],s[8]=m[2],s[9]=m[6],s[10]=m[10],s[11]=m[14],s[12]=m[3],s[13]=m[7],s[14]=m[11],s[15]=m[15];return s}},7035:function(L,A,s){var m=s(4404),h;typeof s.g.matchMedia=="function"?h=!s.g.matchMedia("(hover: none)").matches:h=m,L.exports=h},8520:function(L,A,s){var m=s(4404);function h(){var l=!1;try{var c=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("test",null,c),window.removeEventListener("test",null,c)}catch{l=!1}return l}L.exports=m&&h()},4404:function(L){L.exports=!0},8546:function(L){L.exports=function(A){for(var s=A.length,m,h=0;h<s;h++)if(m=A.charCodeAt(h),(m<9||m>13)&&m!==32&&m!==133&&m!==160&&m!==5760&&m!==6158&&(m<8192||m>8205)&&m!==8232&&m!==8233&&m!==8239&&m!==8287&&m!==8288&&m!==12288&&m!==65279)return!1;return!0}},8956:function(L){var A={left:0,top:0};L.exports=s;function s(h,l,c){l=l||h.currentTarget||h.srcElement,Array.isArray(c)||(c=[0,0]);var i=h.clientX||0,u=h.clientY||0,d=m(l);return c[0]=i-d.left,c[1]=u-d.top,c}function m(h){return h===window||h===document||h===document.body?A:h.getBoundingClientRect()}},7417:function(L,A,s){var m;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(l,c,i){c[l]=c[l]||i(),L.exports?L.exports=c[l]:(m=(function(){return c[l]}).call(A,s,A,L),m!==void 0&&(L.exports=m))})("Promise",typeof s.g<"u"?s.g:this,function(){var l,c,i,u=Object.prototype.toString,d=typeof setImmediate<"u"?function(R){return setImmediate(R)}:setTimeout;try{Object.defineProperty({},"x",{}),l=function(R,F,H,j){return Object.defineProperty(R,F,{value:H,writable:!0,configurable:j!==!1})}}catch{l=function(F,H,j){return F[H]=j,F}}i=function(){var R,F,H;function j(P,ee){this.fn=P,this.self=ee,this.next=void 0}return{add:function(ee,J){H=new j(ee,J),F?F.next=H:R=H,F=H,H=void 0},drain:function(){var ee=R;for(R=F=c=void 0;ee;)ee.fn.call(ee.self),ee=ee.next}}}();function g(k,R){i.add(k,R),c||(c=d(i.drain))}function v(k){var R,F=typeof k;return k!=null&&(F=="object"||F=="function")&&(R=k.then),typeof R=="function"?R:!1}function x(){for(var k=0;k<this.chain.length;k++)C(this,this.state===1?this.chain[k].success:this.chain[k].failure,this.chain[k]);this.chain.length=0}function C(k,R,F){var H,j;try{R===!1?F.reject(k.msg):(R===!0?H=k.msg:H=R.call(void 0,k.msg),H===F.promise?F.reject(TypeError("Promise-chain cycle")):(j=v(H))?j.call(H,F.resolve,F.reject):F.resolve(H))}catch(P){F.reject(P)}}function _(k){var R,F=this;if(!F.triggered){F.triggered=!0,F.def&&(F=F.def);try{(R=v(k))?g(function(){var H=new O(F);try{R.call(k,function(){_.apply(H,arguments)},function(){$.apply(H,arguments)})}catch(j){$.call(H,j)}}):(F.msg=k,F.state=1,F.chain.length>0&&g(x,F))}catch(H){$.call(new O(F),H)}}}function $(k){var R=this;R.triggered||(R.triggered=!0,R.def&&(R=R.def),R.msg=k,R.state=2,R.chain.length>0&&g(x,R))}function S(k,R,F,H){for(var j=0;j<R.length;j++)(function(ee){k.resolve(R[ee]).then(function(K){F(ee,K)},H)})(j)}function O(k){this.def=k,this.triggered=!1}function D(k){this.promise=k,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function N(k){if(typeof k!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var R=new D(this);this.then=function(H,j){var P={success:typeof H=="function"?H:!0,failure:typeof j=="function"?j:!1};return P.promise=new this.constructor(function(J,K){if(typeof J!="function"||typeof K!="function")throw TypeError("Not a function");P.resolve=J,P.reject=K}),R.chain.push(P),R.state!==0&&g(x,R),P.promise},this.catch=function(H){return this.then(void 0,H)};try{k.call(void 0,function(H){_.call(R,H)},function(H){$.call(R,H)})}catch(F){$.call(R,F)}}var M=l({},"constructor",N,!1);return N.prototype=M,l(M,"__NPO__",0,!1),l(N,"resolve",function(R){var F=this;return R&&typeof R=="object"&&R.__NPO__===1?R:new F(function(j,P){if(typeof j!="function"||typeof P!="function")throw TypeError("Not a function");j(R)})}),l(N,"reject",function(R){return new this(function(H,j){if(typeof H!="function"||typeof j!="function")throw TypeError("Not a function");j(R)})}),l(N,"all",function(R){var F=this;return u.call(R)!="[object Array]"?F.reject(TypeError("Not an array")):R.length===0?F.resolve([]):new F(function(j,P){if(typeof j!="function"||typeof P!="function")throw TypeError("Not a function");var ee=R.length,J=Array(ee),K=0;S(F,R,function(Q,he){J[Q]=he,++K===ee&&j(J)},P)})}),l(N,"race",function(R){var F=this;return u.call(R)!="[object Array]"?F.reject(TypeError("Not an array")):new F(function(j,P){if(typeof j!="function"||typeof P!="function")throw TypeError("Not a function");S(F,R,function(J,K){j(K)},P)})}),N})},6131:function(L){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var A=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;function h(c){if(c==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(c)}function l(){try{if(!Object.assign)return!1;var c=new String("abc");if(c[5]="de",Object.getOwnPropertyNames(c)[0]==="5")return!1;for(var i={},u=0;u<10;u++)i["_"+String.fromCharCode(u)]=u;var d=Object.getOwnPropertyNames(i).map(function(v){return i[v]});if(d.join("")!=="0123456789")return!1;var g={};return"abcdefghijklmnopqrst".split("").forEach(function(v){g[v]=v}),Object.keys(Object.assign({},g)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}L.exports=l()?Object.assign:function(c,i){for(var u,d=h(c),g,v=1;v<arguments.length;v++){u=Object(arguments[v]);for(var x in u)s.call(u,x)&&(d[x]=u[x]);if(A){g=A(u);for(var C=0;C<g.length;C++)m.call(u,g[C])&&(d[g[C]]=u[g[C]])}}return d}},5616:function(L){L.exports=m;var A={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},s=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function m(c){var i=[];return c.replace(s,function(u,d,g){var v=d.toLowerCase();for(g=l(g),v=="m"&&g.length>2&&(i.push([d].concat(g.splice(0,2))),v="l",d=d=="m"?"l":"L");;){if(g.length==A[v])return g.unshift(d),i.push(g);if(g.length<A[v])throw new Error("malformed path data");i.push([d].concat(g.splice(0,A[v])))}}),i}var h=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function l(c){var i=c.match(h);return i?i.map(Number):[]}},8258:function(L){L.exports=function(s,m,h,l){var c=s[0],i=s[1],u=!1;h===void 0&&(h=0),l===void 0&&(l=m.length);for(var d=l-h,g=0,v=d-1;g<d;v=g++){var x=m[g+h][0],C=m[g+h][1],_=m[v+h][0],$=m[v+h][1],S=C>i!=$>i&&c<(_-x)*(i-C)/($-C)+x;S&&(u=!u)}return u}},2142:function(L,A,s){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var m=s(9444),h=s(9023),l=s(7263),c=s(1328),i=s(5968),u=s(670),d=!1,g=h(),v;v={buildLog:function(C){return C===!0?d=m():C===!1&&(d=!1),d===!1?!1:d.list},epsilon:function(C){return g.epsilon(C)},segments:function(C){var _=l(!0,g,d);return C.regions.forEach(_.addRegion),{segments:_.calculate(C.inverted),inverted:C.inverted}},combine:function(C,_){var $=l(!1,g,d);return{combined:$.calculate(C.segments,C.inverted,_.segments,_.inverted),inverted1:C.inverted,inverted2:_.inverted}},selectUnion:function(C){return{segments:i.union(C.combined,d),inverted:C.inverted1||C.inverted2}},selectIntersect:function(C){return{segments:i.intersect(C.combined,d),inverted:C.inverted1&&C.inverted2}},selectDifference:function(C){return{segments:i.difference(C.combined,d),inverted:C.inverted1&&!C.inverted2}},selectDifferenceRev:function(C){return{segments:i.differenceRev(C.combined,d),inverted:!C.inverted1&&C.inverted2}},selectXor:function(C){return{segments:i.xor(C.combined,d),inverted:C.inverted1!==C.inverted2}},polygon:function(C){return{regions:c(C.segments,g,d),inverted:C.inverted}},polygonFromGeoJSON:function(C){return u.toPolygon(v,C)},polygonToGeoJSON:function(C){return u.fromPolygon(v,g,C)},union:function(C,_){return x(C,_,v.selectUnion)},intersect:function(C,_){return x(C,_,v.selectIntersect)},difference:function(C,_){return x(C,_,v.selectDifference)},differenceRev:function(C,_){return x(C,_,v.selectDifferenceRev)},xor:function(C,_){return x(C,_,v.selectXor)}};function x(C,_,$){var S=v.segments(C),O=v.segments(_),D=v.combine(S,O),N=$(D);return v.polygon(N)}typeof window=="object"&&(window.PolyBool=v),L.exports=v},9444:function(L){function A(){var s,m=0,h=!1;function l(c,i){return s.list.push({type:c,data:i?JSON.parse(JSON.stringify(i)):void 0}),s}return s={list:[],segmentId:function(){return m++},checkIntersection:function(c,i){return l("check",{seg1:c,seg2:i})},segmentChop:function(c,i){return l("div_seg",{seg:c,pt:i}),l("chop",{seg:c,pt:i})},statusRemove:function(c){return l("pop_seg",{seg:c})},segmentUpdate:function(c){return l("seg_update",{seg:c})},segmentNew:function(c,i){return l("new_seg",{seg:c,primary:i})},segmentRemove:function(c){return l("rem_seg",{seg:c})},tempStatus:function(c,i,u){return l("temp_status",{seg:c,above:i,below:u})},rewind:function(c){return l("rewind",{seg:c})},status:function(c,i,u){return l("status",{seg:c,above:i,below:u})},vert:function(c){return c===h?s:(h=c,l("vert",{x:c}))},log:function(c){return typeof c!="string"&&(c=JSON.stringify(c,!1,"  ")),l("log",{txt:c})},reset:function(){return l("reset")},selected:function(c){return l("selected",{segs:c})},chainStart:function(c){return l("chain_start",{seg:c})},chainRemoveHead:function(c,i){return l("chain_rem_head",{index:c,pt:i})},chainRemoveTail:function(c,i){return l("chain_rem_tail",{index:c,pt:i})},chainNew:function(c,i){return l("chain_new",{pt1:c,pt2:i})},chainMatch:function(c){return l("chain_match",{index:c})},chainClose:function(c){return l("chain_close",{index:c})},chainAddHead:function(c,i){return l("chain_add_head",{index:c,pt:i})},chainAddTail:function(c,i){return l("chain_add_tail",{index:c,pt:i})},chainConnect:function(c,i){return l("chain_con",{index1:c,index2:i})},chainReverse:function(c){return l("chain_rev",{index:c})},chainJoin:function(c,i){return l("chain_join",{index1:c,index2:i})},done:function(){return l("done")}},s}L.exports=A},9023:function(L){function A(s){typeof s!="number"&&(s=1e-10);var m={epsilon:function(h){return typeof h=="number"&&(s=h),s},pointAboveOrOnLine:function(h,l,c){var i=l[0],u=l[1],d=c[0],g=c[1],v=h[0],x=h[1];return(d-i)*(x-u)-(g-u)*(v-i)>=-s},pointBetween:function(h,l,c){var i=h[1]-l[1],u=c[0]-l[0],d=h[0]-l[0],g=c[1]-l[1],v=d*u+i*g;if(v<s)return!1;var x=u*u+g*g;return!(v-x>-s)},pointsSameX:function(h,l){return Math.abs(h[0]-l[0])<s},pointsSameY:function(h,l){return Math.abs(h[1]-l[1])<s},pointsSame:function(h,l){return m.pointsSameX(h,l)&&m.pointsSameY(h,l)},pointsCompare:function(h,l){return m.pointsSameX(h,l)?m.pointsSameY(h,l)?0:h[1]<l[1]?-1:1:h[0]<l[0]?-1:1},pointsCollinear:function(h,l,c){var i=h[0]-l[0],u=h[1]-l[1],d=l[0]-c[0],g=l[1]-c[1];return Math.abs(i*g-d*u)<s},linesIntersect:function(h,l,c,i){var u=l[0]-h[0],d=l[1]-h[1],g=i[0]-c[0],v=i[1]-c[1],x=u*v-d*g;if(Math.abs(x)<s)return!1;var C=h[0]-c[0],_=h[1]-c[1],$=(g*_-v*C)/x,S=(u*_-d*C)/x,O={alongA:0,alongB:0,pt:[h[0]+$*u,h[1]+$*d]};return $<=-s?O.alongA=-2:$<s?O.alongA=-1:$-1<=-s?O.alongA=0:$-1<s?O.alongA=1:O.alongA=2,S<=-s?O.alongB=-2:S<s?O.alongB=-1:S-1<=-s?O.alongB=0:S-1<s?O.alongB=1:O.alongB=2,O},pointInsideRegion:function(h,l){for(var c=h[0],i=h[1],u=l[l.length-1][0],d=l[l.length-1][1],g=!1,v=0;v<l.length;v++){var x=l[v][0],C=l[v][1];C-i>s!=d-i>s&&(u-x)*(i-C)/(d-C)+x-c>s&&(g=!g),u=x,d=C}return g}};return m}L.exports=A},670:function(L){var A={toPolygon:function(s,m){function h(i){if(i.length<=0)return s.segments({inverted:!1,regions:[]});function u(v){var x=v.slice(0,v.length-1);return s.segments({inverted:!1,regions:[x]})}for(var d=u(i[0]),g=1;g<i.length;g++)d=s.selectDifference(s.combine(d,u(i[g])));return d}if(m.type==="Polygon")return s.polygon(h(m.coordinates));if(m.type==="MultiPolygon"){for(var l=s.segments({inverted:!1,regions:[]}),c=0;c<m.coordinates.length;c++)l=s.selectUnion(s.combine(l,h(m.coordinates[c])));return s.polygon(l)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(s,m,h){h=s.polygon(s.segments(h));function l($,S){return m.pointInsideRegion([($[0][0]+$[1][0])*.5,($[0][1]+$[1][1])*.5],S)}function c($){return{region:$,children:[]}}var i=c(null);function u($,S){for(var O=0;O<$.children.length;O++){var D=$.children[O];if(l(S,D.region)){u(D,S);return}}for(var N=c(S),O=0;O<$.children.length;O++){var D=$.children[O];l(D.region,S)&&(N.children.push(D),$.children.splice(O,1),O--)}$.children.push(N)}for(var d=0;d<h.regions.length;d++){var g=h.regions[d];g.length<3||u(i,g)}function v($,S){for(var O=0,D=$[$.length-1][0],N=$[$.length-1][1],M=[],k=0;k<$.length;k++){var R=$[k][0],F=$[k][1];M.push([R,F]),O+=F*D-R*N,D=R,N=F}var H=O<0;return H!==S&&M.reverse(),M.push([M[0][0],M[0][1]]),M}var x=[];function C($){var S=[v($.region,!1)];x.push(S);for(var O=0;O<$.children.length;O++)S.push(_($.children[O]))}function _($){for(var S=0;S<$.children.length;S++)C($.children[S]);return v($.region,!0)}for(var d=0;d<i.children.length;d++)C(i.children[d]);return x.length<=0?{type:"Polygon",coordinates:[]}:x.length==1?{type:"Polygon",coordinates:x[0]}:{type:"MultiPolygon",coordinates:x}}};L.exports=A},7263:function(L,A,s){var m=s(6859);function h(l,c,i){function u(N,M){return{id:i?i.segmentId():-1,start:N,end:M,myFill:{above:null,below:null},otherFill:null}}function d(N,M,k){return{id:i?i.segmentId():-1,start:N,end:M,myFill:{above:k.myFill.above,below:k.myFill.below},otherFill:null}}var g=m.create();function v(N,M,k,R,F,H){var j=c.pointsCompare(M,F);return j!==0?j:c.pointsSame(k,H)?0:N!==R?N?1:-1:c.pointAboveOrOnLine(k,R?F:H,R?H:F)?1:-1}function x(N,M){g.insertBefore(N,function(k){var R=v(N.isStart,N.pt,M,k.isStart,k.pt,k.other.pt);return R<0})}function C(N,M){var k=m.node({isStart:!0,pt:N.start,seg:N,primary:M,other:null,status:null});return x(k,N.end),k}function _(N,M,k){var R=m.node({isStart:!1,pt:M.end,seg:M,primary:k,other:N,status:null});N.other=R,x(R,N.pt)}function $(N,M){var k=C(N,M);return _(k,N,M),k}function S(N,M){i&&i.segmentChop(N.seg,M),N.other.remove(),N.seg.end=M,N.other.pt=M,x(N.other,N.pt)}function O(N,M){var k=d(M,N.seg.end,N.seg);return S(N,M),$(k,N.primary)}function D(N,M){var k=m.create();function R(ce,ne){var fe=ce.seg.start,X=ce.seg.end,ye=ne.seg.start,Ce=ne.seg.end;return c.pointsCollinear(fe,ye,Ce)?c.pointsCollinear(X,ye,Ce)||c.pointAboveOrOnLine(X,ye,Ce)?1:-1:c.pointAboveOrOnLine(fe,ye,Ce)?1:-1}function F(ce){return k.findTransition(function(ne){var fe=R(ce,ne.ev);return fe>0})}function H(ce,ne){var fe=ce.seg,X=ne.seg,ye=fe.start,Ce=fe.end,$e=X.start,ke=X.end;i&&i.checkIntersection(fe,X);var Ne=c.linesIntersect(ye,Ce,$e,ke);if(Ne===!1){if(!c.pointsCollinear(ye,Ce,$e)||c.pointsSame(ye,ke)||c.pointsSame(Ce,$e))return!1;var Ve=c.pointsSame(ye,$e),Oe=c.pointsSame(Ce,ke);if(Ve&&Oe)return ne;var Fe=!Ve&&c.pointBetween(ye,$e,ke),ie=!Oe&&c.pointBetween(Ce,$e,ke);if(Ve)return ie?O(ne,Ce):O(ce,ke),ne;Fe&&(Oe||(ie?O(ne,Ce):O(ce,ke)),O(ne,ye))}else Ne.alongA===0&&(Ne.alongB===-1?O(ce,$e):Ne.alongB===0?O(ce,Ne.pt):Ne.alongB===1&&O(ce,ke)),Ne.alongB===0&&(Ne.alongA===-1?O(ne,ye):Ne.alongA===0?O(ne,Ne.pt):Ne.alongA===1&&O(ne,Ce));return!1}for(var j=[];!g.isEmpty();){var P=g.getHead();if(i&&i.vert(P.pt[0]),P.isStart){let ce=function(){if(J){var ne=H(P,J);if(ne)return ne}return K?H(P,K):!1};i&&i.segmentNew(P.seg,P.primary);var ee=F(P),J=ee.before?ee.before.ev:null,K=ee.after?ee.after.ev:null;i&&i.tempStatus(P.seg,J?J.seg:!1,K?K.seg:!1);var ae=ce();if(ae){if(l){var Q;P.seg.myFill.below===null?Q=!0:Q=P.seg.myFill.above!==P.seg.myFill.below,Q&&(ae.seg.myFill.above=!ae.seg.myFill.above)}else ae.seg.otherFill=P.seg.myFill;i&&i.segmentUpdate(ae.seg),P.other.remove(),P.remove()}if(g.getHead()!==P){i&&i.rewind(P.seg);continue}if(l){var Q;P.seg.myFill.below===null?Q=!0:Q=P.seg.myFill.above!==P.seg.myFill.below,K?P.seg.myFill.below=K.seg.myFill.above:P.seg.myFill.below=N,Q?P.seg.myFill.above=!P.seg.myFill.below:P.seg.myFill.above=P.seg.myFill.below}else if(P.seg.otherFill===null){var he;K?P.primary===K.primary?he=K.seg.otherFill.above:he=K.seg.myFill.above:he=P.primary?M:N,P.seg.otherFill={above:he,below:he}}i&&i.status(P.seg,J?J.seg:!1,K?K.seg:!1),P.other.status=ee.insert(m.node({ev:P}))}else{var ge=P.status;if(ge===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(k.exists(ge.prev)&&k.exists(ge.next)&&H(ge.prev.ev,ge.next.ev),i&&i.statusRemove(ge.ev.seg),ge.remove(),!P.primary){var Se=P.seg.myFill;P.seg.myFill=P.seg.otherFill,P.seg.otherFill=Se}j.push(P.seg)}g.getHead().remove()}return i&&i.done(),j}return l?{addRegion:function(N){for(var M,k=N[N.length-1],R=0;R<N.length;R++){M=k,k=N[R];var F=c.pointsCompare(M,k);F!==0&&$(u(F<0?M:k,F<0?k:M),!0)}},calculate:function(N){return D(N,!1)}}:{calculate:function(N,M,k,R){return N.forEach(function(F){$(d(F.start,F.end,F),!0)}),k.forEach(function(F){$(d(F.start,F.end,F),!1)}),D(M,R)}}}L.exports=h},6859:function(L){var A={create:function(){var s={root:{root:!0,next:null},exists:function(m){return!(m===null||m===s.root)},isEmpty:function(){return s.root.next===null},getHead:function(){return s.root.next},insertBefore:function(m,h){for(var l=s.root,c=s.root.next;c!==null;){if(h(c)){m.prev=c.prev,m.next=c,c.prev.next=m,c.prev=m;return}l=c,c=c.next}l.next=m,m.prev=l,m.next=null},findTransition:function(m){for(var h=s.root,l=s.root.next;l!==null&&!m(l);)h=l,l=l.next;return{before:h===s.root?null:h,after:l,insert:function(c){return c.prev=h,c.next=l,h.next=c,l!==null&&(l.prev=c),c}}}};return s},node:function(s){return s.prev=null,s.next=null,s.remove=function(){s.prev.next=s.next,s.next&&(s.next.prev=s.prev),s.prev=null,s.next=null},s}};L.exports=A},1328:function(L){function A(s,m,h){var l=[],c=[];return s.forEach(function(i){var u=i.start,d=i.end;if(m.pointsSame(u,d)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}h&&h.chainStart(i);var g={index:0,matches_head:!1,matches_pt1:!1},v={index:0,matches_head:!1,matches_pt1:!1},x=g;function C(ae,Q,he){return x.index=ae,x.matches_head=Q,x.matches_pt1=he,x===g?(x=v,!1):(x=null,!0)}for(var _=0;_<l.length;_++){var $=l[_],S=$[0];$[1];var O=$[$.length-1];if($[$.length-2],m.pointsSame(S,u)){if(C(_,!0,!0))break}else if(m.pointsSame(S,d)){if(C(_,!0,!1))break}else if(m.pointsSame(O,u)){if(C(_,!1,!0))break}else if(m.pointsSame(O,d)&&C(_,!1,!1))break}if(x===g){l.push([u,d]),h&&h.chainNew(u,d);return}if(x===v){h&&h.chainMatch(g.index);var D=g.index,N=g.matches_pt1?d:u,M=g.matches_head,$=l[D],k=M?$[0]:$[$.length-1],R=M?$[1]:$[$.length-2],F=M?$[$.length-1]:$[0],H=M?$[$.length-2]:$[1];if(m.pointsCollinear(R,k,N)&&(M?(h&&h.chainRemoveHead(g.index,N),$.shift()):(h&&h.chainRemoveTail(g.index,N),$.pop()),k=R),m.pointsSame(F,N)){l.splice(D,1),m.pointsCollinear(H,F,k)&&(M?(h&&h.chainRemoveTail(g.index,k),$.pop()):(h&&h.chainRemoveHead(g.index,k),$.shift())),h&&h.chainClose(g.index),c.push($);return}M?(h&&h.chainAddHead(g.index,N),$.unshift(N)):(h&&h.chainAddTail(g.index,N),$.push(N));return}function j(ae){h&&h.chainReverse(ae),l[ae].reverse()}function P(ae,Q){var he=l[ae],ge=l[Q],Se=he[he.length-1],ce=he[he.length-2],ne=ge[0],fe=ge[1];m.pointsCollinear(ce,Se,ne)&&(h&&h.chainRemoveTail(ae,Se),he.pop(),Se=ce),m.pointsCollinear(Se,ne,fe)&&(h&&h.chainRemoveHead(Q,ne),ge.shift()),h&&h.chainJoin(ae,Q),l[ae]=he.concat(ge),l.splice(Q,1)}var ee=g.index,J=v.index;h&&h.chainConnect(ee,J);var K=l[ee].length<l[J].length;g.matches_head?v.matches_head?K?(j(ee),P(ee,J)):(j(J),P(J,ee)):P(J,ee):v.matches_head?P(ee,J):K?(j(ee),P(J,ee)):(j(J),P(ee,J))}),c}L.exports=A},5968:function(L){function A(m,h,l){var c=[];return m.forEach(function(i){var u=(i.myFill.above?8:0)+(i.myFill.below?4:0)+(i.otherFill&&i.otherFill.above?2:0)+(i.otherFill&&i.otherFill.below?1:0);h[u]!==0&&c.push({id:l?l.segmentId():-1,start:i.start,end:i.end,myFill:{above:h[u]===1,below:h[u]===2},otherFill:null})}),l&&l.selected(c),c}var s={union:function(m,h){return A(m,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],h)},intersect:function(m,h){return A(m,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],h)},difference:function(m,h){return A(m,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],h)},differenceRev:function(m,h){return A(m,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],h)},xor:function(m,h){return A(m,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],h)}};L.exports=s},4267:function(L,A,s){var m;(function(h){var l=/^\s+/,c=/\s+$/,i=0,u=h.round,d=h.min,g=h.max,v=h.random;function x(le,Te){if(le=le||"",Te=Te||{},le instanceof x)return le;if(!(this instanceof x))return new x(le,Te);var de=C(le);this._originalInput=le,this._r=de.r,this._g=de.g,this._b=de.b,this._a=de.a,this._roundA=u(100*this._a)/100,this._format=Te.format||de.format,this._gradientType=Te.gradientType,this._r<1&&(this._r=u(this._r)),this._g<1&&(this._g=u(this._g)),this._b<1&&(this._b=u(this._b)),this._ok=de.ok,this._tc_id=i++}x.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var le=this.toRgb();return(le.r*299+le.g*587+le.b*114)/1e3},getLuminance:function(){var le=this.toRgb(),Te,de,Me,Re,ze,We;return Te=le.r/255,de=le.g/255,Me=le.b/255,Te<=.03928?Re=Te/12.92:Re=h.pow((Te+.055)/1.055,2.4),de<=.03928?ze=de/12.92:ze=h.pow((de+.055)/1.055,2.4),Me<=.03928?We=Me/12.92:We=h.pow((Me+.055)/1.055,2.4),.2126*Re+.7152*ze+.0722*We},setAlpha:function(le){return this._a=X(le),this._roundA=u(100*this._a)/100,this},toHsv:function(){var le=O(this._r,this._g,this._b);return{h:le.h*360,s:le.s,v:le.v,a:this._a}},toHsvString:function(){var le=O(this._r,this._g,this._b),Te=u(le.h*360),de=u(le.s*100),Me=u(le.v*100);return this._a==1?"hsv("+Te+", "+de+"%, "+Me+"%)":"hsva("+Te+", "+de+"%, "+Me+"%, "+this._roundA+")"},toHsl:function(){var le=$(this._r,this._g,this._b);return{h:le.h*360,s:le.s,l:le.l,a:this._a}},toHslString:function(){var le=$(this._r,this._g,this._b),Te=u(le.h*360),de=u(le.s*100),Me=u(le.l*100);return this._a==1?"hsl("+Te+", "+de+"%, "+Me+"%)":"hsla("+Te+", "+de+"%, "+Me+"%, "+this._roundA+")"},toHex:function(le){return N(this._r,this._g,this._b,le)},toHexString:function(le){return"#"+this.toHex(le)},toHex8:function(le){return M(this._r,this._g,this._b,this._a,le)},toHex8String:function(le){return"#"+this.toHex8(le)},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(ye(this._r,255)*100)+"%",g:u(ye(this._g,255)*100)+"%",b:u(ye(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+u(ye(this._r,255)*100)+"%, "+u(ye(this._g,255)*100)+"%, "+u(ye(this._b,255)*100)+"%)":"rgba("+u(ye(this._r,255)*100)+"%, "+u(ye(this._g,255)*100)+"%, "+u(ye(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:ne[N(this._r,this._g,this._b,!0)]||!1},toFilter:function(le){var Te="#"+k(this._r,this._g,this._b,this._a),de=Te,Me=this._gradientType?"GradientType = 1, ":"";if(le){var Re=x(le);de="#"+k(Re._r,Re._g,Re._b,Re._a)}return"progid:DXImageTransform.Microsoft.gradient("+Me+"startColorstr="+Te+",endColorstr="+de+")"},toString:function(le){var Te=!!le;le=le||this._format;var de=!1,Me=this._a<1&&this._a>=0,Re=!Te&&Me&&(le==="hex"||le==="hex6"||le==="hex3"||le==="hex4"||le==="hex8"||le==="name");return Re?le==="name"&&this._a===0?this.toName():this.toRgbString():(le==="rgb"&&(de=this.toRgbString()),le==="prgb"&&(de=this.toPercentageRgbString()),(le==="hex"||le==="hex6")&&(de=this.toHexString()),le==="hex3"&&(de=this.toHexString(!0)),le==="hex4"&&(de=this.toHex8String(!0)),le==="hex8"&&(de=this.toHex8String()),le==="name"&&(de=this.toName()),le==="hsl"&&(de=this.toHslString()),le==="hsv"&&(de=this.toHsvString()),de||this.toHexString())},clone:function(){return x(this.toString())},_applyModification:function(le,Te){var de=le.apply(null,[this].concat([].slice.call(Te)));return this._r=de._r,this._g=de._g,this._b=de._b,this.setAlpha(de._a),this},lighten:function(){return this._applyModification(j,arguments)},brighten:function(){return this._applyModification(P,arguments)},darken:function(){return this._applyModification(ee,arguments)},desaturate:function(){return this._applyModification(R,arguments)},saturate:function(){return this._applyModification(F,arguments)},greyscale:function(){return this._applyModification(H,arguments)},spin:function(){return this._applyModification(J,arguments)},_applyCombination:function(le,Te){return le.apply(null,[this].concat([].slice.call(Te)))},analogous:function(){return this._applyCombination(ge,arguments)},complement:function(){return this._applyCombination(K,arguments)},monochromatic:function(){return this._applyCombination(Se,arguments)},splitcomplement:function(){return this._applyCombination(he,arguments)},triad:function(){return this._applyCombination(ae,arguments)},tetrad:function(){return this._applyCombination(Q,arguments)}},x.fromRatio=function(le,Te){if(typeof le=="object"){var de={};for(var Me in le)le.hasOwnProperty(Me)&&(Me==="a"?de[Me]=le[Me]:de[Me]=Oe(le[Me]));le=de}return x(le,Te)};function C(le){var Te={r:0,g:0,b:0},de=1,Me=null,Re=null,ze=null,We=!1,ot=!1;return typeof le=="string"&&(le=ue(le)),typeof le=="object"&&(se(le.r)&&se(le.g)&&se(le.b)?(Te=_(le.r,le.g,le.b),We=!0,ot=String(le.r).substr(-1)==="%"?"prgb":"rgb"):se(le.h)&&se(le.s)&&se(le.v)?(Me=Oe(le.s),Re=Oe(le.v),Te=D(le.h,Me,Re),We=!0,ot="hsv"):se(le.h)&&se(le.s)&&se(le.l)&&(Me=Oe(le.s),ze=Oe(le.l),Te=S(le.h,Me,ze),We=!0,ot="hsl"),le.hasOwnProperty("a")&&(de=le.a)),de=X(de),{ok:We,format:le.format||ot,r:d(255,g(Te.r,0)),g:d(255,g(Te.g,0)),b:d(255,g(Te.b,0)),a:de}}function _(le,Te,de){return{r:ye(le,255)*255,g:ye(Te,255)*255,b:ye(de,255)*255}}function $(le,Te,de){le=ye(le,255),Te=ye(Te,255),de=ye(de,255);var Me=g(le,Te,de),Re=d(le,Te,de),ze,We,ot=(Me+Re)/2;if(Me==Re)ze=We=0;else{var dt=Me-Re;switch(We=ot>.5?dt/(2-Me-Re):dt/(Me+Re),Me){case le:ze=(Te-de)/dt+(Te<de?6:0);break;case Te:ze=(de-le)/dt+2;break;case de:ze=(le-Te)/dt+4;break}ze/=6}return{h:ze,s:We,l:ot}}function S(le,Te,de){var Me,Re,ze;le=ye(le,360),Te=ye(Te,100),de=ye(de,100);function We(Ge,Xe,qe){return qe<0&&(qe+=1),qe>1&&(qe-=1),qe<.16666666666666666?Ge+(Xe-Ge)*6*qe:qe<.5?Xe:qe<.6666666666666666?Ge+(Xe-Ge)*(.6666666666666666-qe)*6:Ge}if(Te===0)Me=Re=ze=de;else{var ot=de<.5?de*(1+Te):de+Te-de*Te,dt=2*de-ot;Me=We(dt,ot,le+.3333333333333333),Re=We(dt,ot,le),ze=We(dt,ot,le-.3333333333333333)}return{r:Me*255,g:Re*255,b:ze*255}}function O(le,Te,de){le=ye(le,255),Te=ye(Te,255),de=ye(de,255);var Me=g(le,Te,de),Re=d(le,Te,de),ze,We,ot=Me,dt=Me-Re;if(We=Me===0?0:dt/Me,Me==Re)ze=0;else{switch(Me){case le:ze=(Te-de)/dt+(Te<de?6:0);break;case Te:ze=(de-le)/dt+2;break;case de:ze=(le-Te)/dt+4;break}ze/=6}return{h:ze,s:We,v:ot}}function D(le,Te,de){le=ye(le,360)*6,Te=ye(Te,100),de=ye(de,100);var Me=h.floor(le),Re=le-Me,ze=de*(1-Te),We=de*(1-Re*Te),ot=de*(1-(1-Re)*Te),dt=Me%6,Ge=[de,We,ze,ze,ot,de][dt],Xe=[ot,de,de,We,ze,ze][dt],qe=[ze,ze,ot,de,de,We][dt];return{r:Ge*255,g:Xe*255,b:qe*255}}function N(le,Te,de,Me){var Re=[Ve(u(le).toString(16)),Ve(u(Te).toString(16)),Ve(u(de).toString(16))];return Me&&Re[0].charAt(0)==Re[0].charAt(1)&&Re[1].charAt(0)==Re[1].charAt(1)&&Re[2].charAt(0)==Re[2].charAt(1)?Re[0].charAt(0)+Re[1].charAt(0)+Re[2].charAt(0):Re.join("")}function M(le,Te,de,Me,Re){var ze=[Ve(u(le).toString(16)),Ve(u(Te).toString(16)),Ve(u(de).toString(16)),Ve(Fe(Me))];return Re&&ze[0].charAt(0)==ze[0].charAt(1)&&ze[1].charAt(0)==ze[1].charAt(1)&&ze[2].charAt(0)==ze[2].charAt(1)&&ze[3].charAt(0)==ze[3].charAt(1)?ze[0].charAt(0)+ze[1].charAt(0)+ze[2].charAt(0)+ze[3].charAt(0):ze.join("")}function k(le,Te,de,Me){var Re=[Ve(Fe(Me)),Ve(u(le).toString(16)),Ve(u(Te).toString(16)),Ve(u(de).toString(16))];return Re.join("")}x.equals=function(le,Te){return!le||!Te?!1:x(le).toRgbString()==x(Te).toRgbString()},x.random=function(){return x.fromRatio({r:v(),g:v(),b:v()})};function R(le,Te){Te=Te===0?0:Te||10;var de=x(le).toHsl();return de.s-=Te/100,de.s=Ce(de.s),x(de)}function F(le,Te){Te=Te===0?0:Te||10;var de=x(le).toHsl();return de.s+=Te/100,de.s=Ce(de.s),x(de)}function H(le){return x(le).desaturate(100)}function j(le,Te){Te=Te===0?0:Te||10;var de=x(le).toHsl();return de.l+=Te/100,de.l=Ce(de.l),x(de)}function P(le,Te){Te=Te===0?0:Te||10;var de=x(le).toRgb();return de.r=g(0,d(255,de.r-u(255*-(Te/100)))),de.g=g(0,d(255,de.g-u(255*-(Te/100)))),de.b=g(0,d(255,de.b-u(255*-(Te/100)))),x(de)}function ee(le,Te){Te=Te===0?0:Te||10;var de=x(le).toHsl();return de.l-=Te/100,de.l=Ce(de.l),x(de)}function J(le,Te){var de=x(le).toHsl(),Me=(de.h+Te)%360;return de.h=Me<0?360+Me:Me,x(de)}function K(le){var Te=x(le).toHsl();return Te.h=(Te.h+180)%360,x(Te)}function ae(le){var Te=x(le).toHsl(),de=Te.h;return[x(le),x({h:(de+120)%360,s:Te.s,l:Te.l}),x({h:(de+240)%360,s:Te.s,l:Te.l})]}function Q(le){var Te=x(le).toHsl(),de=Te.h;return[x(le),x({h:(de+90)%360,s:Te.s,l:Te.l}),x({h:(de+180)%360,s:Te.s,l:Te.l}),x({h:(de+270)%360,s:Te.s,l:Te.l})]}function he(le){var Te=x(le).toHsl(),de=Te.h;return[x(le),x({h:(de+72)%360,s:Te.s,l:Te.l}),x({h:(de+216)%360,s:Te.s,l:Te.l})]}function ge(le,Te,de){Te=Te||6,de=de||30;var Me=x(le).toHsl(),Re=360/de,ze=[x(le)];for(Me.h=(Me.h-(Re*Te>>1)+720)%360;--Te;)Me.h=(Me.h+Re)%360,ze.push(x(Me));return ze}function Se(le,Te){Te=Te||6;for(var de=x(le).toHsv(),Me=de.h,Re=de.s,ze=de.v,We=[],ot=1/Te;Te--;)We.push(x({h:Me,s:Re,v:ze})),ze=(ze+ot)%1;return We}x.mix=function(le,Te,de){de=de===0?0:de||50;var Me=x(le).toRgb(),Re=x(Te).toRgb(),ze=de/100,We={r:(Re.r-Me.r)*ze+Me.r,g:(Re.g-Me.g)*ze+Me.g,b:(Re.b-Me.b)*ze+Me.b,a:(Re.a-Me.a)*ze+Me.a};return x(We)},x.readability=function(le,Te){var de=x(le),Me=x(Te);return(h.max(de.getLuminance(),Me.getLuminance())+.05)/(h.min(de.getLuminance(),Me.getLuminance())+.05)},x.isReadable=function(le,Te,de){var Me=x.readability(le,Te),Re,ze;switch(ze=!1,Re=pe(de),Re.level+Re.size){case"AAsmall":case"AAAlarge":ze=Me>=4.5;break;case"AAlarge":ze=Me>=3;break;case"AAAsmall":ze=Me>=7;break}return ze},x.mostReadable=function(le,Te,de){var Me=null,Re=0,ze,We,ot,dt;de=de||{},We=de.includeFallbackColors,ot=de.level,dt=de.size;for(var Ge=0;Ge<Te.length;Ge++)ze=x.readability(le,Te[Ge]),ze>Re&&(Re=ze,Me=x(Te[Ge]));return x.isReadable(le,Me,{level:ot,size:dt})||!We?Me:(de.includeFallbackColors=!1,x.mostReadable(le,["#fff","#000"],de))};var ce=x.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ne=x.hexNames=fe(ce);function fe(le){var Te={};for(var de in le)le.hasOwnProperty(de)&&(Te[le[de]]=de);return Te}function X(le){return le=parseFloat(le),(isNaN(le)||le<0||le>1)&&(le=1),le}function ye(le,Te){ke(le)&&(le="100%");var de=Ne(le);return le=d(Te,g(0,parseFloat(le))),de&&(le=parseInt(le*Te,10)/100),h.abs(le-Te)<1e-6?1:le%Te/parseFloat(Te)}function Ce(le){return d(1,g(0,le))}function $e(le){return parseInt(le,16)}function ke(le){return typeof le=="string"&&le.indexOf(".")!=-1&&parseFloat(le)===1}function Ne(le){return typeof le=="string"&&le.indexOf("%")!=-1}function Ve(le){return le.length==1?"0"+le:""+le}function Oe(le){return le<=1&&(le=le*100+"%"),le}function Fe(le){return h.round(parseFloat(le)*255).toString(16)}function ie(le){return $e(le)/255}var we=function(){var le="[-\\+]?\\d+%?",Te="[-\\+]?\\d*\\.\\d+%?",de="(?:"+Te+")|(?:"+le+")",Me="[\\s|\\(]+("+de+")[,|\\s]+("+de+")[,|\\s]+("+de+")\\s*\\)?",Re="[\\s|\\(]+("+de+")[,|\\s]+("+de+")[,|\\s]+("+de+")[,|\\s]+("+de+")\\s*\\)?";return{CSS_UNIT:new RegExp(de),rgb:new RegExp("rgb"+Me),rgba:new RegExp("rgba"+Re),hsl:new RegExp("hsl"+Me),hsla:new RegExp("hsla"+Re),hsv:new RegExp("hsv"+Me),hsva:new RegExp("hsva"+Re),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function se(le){return!!we.CSS_UNIT.exec(le)}function ue(le){le=le.replace(l,"").replace(c,"").toLowerCase();var Te=!1;if(ce[le])le=ce[le],Te=!0;else if(le=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var de;return(de=we.rgb.exec(le))?{r:de[1],g:de[2],b:de[3]}:(de=we.rgba.exec(le))?{r:de[1],g:de[2],b:de[3],a:de[4]}:(de=we.hsl.exec(le))?{h:de[1],s:de[2],l:de[3]}:(de=we.hsla.exec(le))?{h:de[1],s:de[2],l:de[3],a:de[4]}:(de=we.hsv.exec(le))?{h:de[1],s:de[2],v:de[3]}:(de=we.hsva.exec(le))?{h:de[1],s:de[2],v:de[3],a:de[4]}:(de=we.hex8.exec(le))?{r:$e(de[1]),g:$e(de[2]),b:$e(de[3]),a:ie(de[4]),format:Te?"name":"hex8"}:(de=we.hex6.exec(le))?{r:$e(de[1]),g:$e(de[2]),b:$e(de[3]),format:Te?"name":"hex"}:(de=we.hex4.exec(le))?{r:$e(de[1]+""+de[1]),g:$e(de[2]+""+de[2]),b:$e(de[3]+""+de[3]),a:ie(de[4]+""+de[4]),format:Te?"name":"hex8"}:(de=we.hex3.exec(le))?{r:$e(de[1]+""+de[1]),g:$e(de[2]+""+de[2]),b:$e(de[3]+""+de[3]),format:Te?"name":"hex"}:!1}function pe(le){var Te,de;return le=le||{level:"AA",size:"small"},Te=(le.level||"AA").toUpperCase(),de=(le.size||"small").toLowerCase(),Te!=="AA"&&Te!=="AAA"&&(Te="AA"),de!=="small"&&de!=="large"&&(de="small"),{level:Te,size:de}}L.exports?L.exports=x:(m=(function(){return x}).call(A,s,A,L),m!==void 0&&(L.exports=m))})(Math)},3961:function(L,A,s){var m=s(3489),h=s(6131),l=m.instance();function c($){this.local=this.regionalOptions[$||""]||this.regionalOptions[""]}c.prototype=new m.baseCalendar,h(c.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function($,S){if(typeof $=="string"){var O=$.match(u);return O?O[0]:""}var D=this._validateYear($),N=$.month(),M=""+this.toChineseMonth(D,N);return S&&M.length<2&&(M="0"+M),this.isIntercalaryMonth(D,N)&&(M+="i"),M},monthNames:function($){if(typeof $=="string"){var S=$.match(d);return S?S[0]:""}var O=this._validateYear($),D=$.month(),N=this.toChineseMonth(O,D),M=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][N-1];return this.isIntercalaryMonth(O,D)&&(M="闰"+M),M},monthNamesShort:function($){if(typeof $=="string"){var S=$.match(g);return S?S[0]:""}var O=this._validateYear($),D=$.month(),N=this.toChineseMonth(O,D),M=["一","二","三","四","五","六","七","八","九","十","十一","十二"][N-1];return this.isIntercalaryMonth(O,D)&&(M="闰"+M),M},parseMonth:function($,S){$=this._validateYear($);var O=parseInt(S),D;if(isNaN(O))S[0]==="闰"&&(D=!0,S=S.substring(1)),S[S.length-1]==="月"&&(S=S.substring(0,S.length-1)),O=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(S);else{var N=S[S.length-1];D=N==="i"||N==="I"}var M=this.toMonthIndex($,O,D);return M},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function($,S){if($.year&&($=$.year()),typeof $!="number"||$<1888||$>2111)throw S.replace(/\{0\}/,this.local.name);return $},toMonthIndex:function($,S,O){var D=this.intercalaryMonth($),N=O&&S!==D;if(N||S<1||S>12)throw m.local.invalidMonth.replace(/\{0\}/,this.local.name);var M;return D?!O&&S<=D?M=S-1:M=S:M=S-1,M},toChineseMonth:function($,S){$.year&&($=$.year(),S=$.month());var O=this.intercalaryMonth($),D=O?12:11;if(S<0||S>D)throw m.local.invalidMonth.replace(/\{0\}/,this.local.name);var N;return O?S<O?N=S+1:N=S:N=S+1,N},intercalaryMonth:function($){$=this._validateYear($);var S=v[$-v[0]],O=S>>13;return O},isIntercalaryMonth:function($,S){$.year&&($=$.year(),S=$.month());var O=this.intercalaryMonth($);return!!O&&O===S},leapYear:function($){return this.intercalaryMonth($)!==0},weekOfYear:function($,S,O){var D=this._validateYear($,m.local.invalidyear),N=x[D-x[0]],M=N>>9&4095,k=N>>5&15,R=N&31,F;F=l.newDate(M,k,R),F.add(4-(F.dayOfWeek()||7),"d");var H=this.toJD($,S,O)-F.toJD();return 1+Math.floor(H/7)},monthsInYear:function($){return this.leapYear($)?13:12},daysInMonth:function($,S){$.year&&(S=$.month(),$=$.year()),$=this._validateYear($);var O=v[$-v[0]],D=O>>13,N=D?12:11;if(S>N)throw m.local.invalidMonth.replace(/\{0\}/,this.local.name);var M=O&1<<12-S?30:29;return M},weekDay:function($,S,O){return(this.dayOfWeek($,S,O)||7)<6},toJD:function($,S,O){var D=this._validate($,M,O,m.local.invalidDate);$=this._validateYear(D.year()),S=D.month(),O=D.day();var N=this.isIntercalaryMonth($,S),M=this.toChineseMonth($,S),k=_($,M,O,N);return l.toJD(k.year,k.month,k.day)},fromJD:function($){var S=l.fromJD($),O=C(S.year(),S.month(),S.day()),D=this.toMonthIndex(O.year,O.month,O.isIntercalary);return this.newDate(O.year,D,O.day)},fromString:function($){var S=$.match(i),O=this._validateYear(+S[1]),D=+S[2],N=!!S[3],M=this.toMonthIndex(O,D,N),k=+S[4];return this.newDate(O,M,k)},add:function($,S,O){var D=$.year(),N=$.month(),M=this.isIntercalaryMonth(D,N),k=this.toChineseMonth(D,N),R=Object.getPrototypeOf(c.prototype).add.call(this,$,S,O);if(O==="y"){var F=R.year(),H=R.month(),j=this.isIntercalaryMonth(F,k),P=M&&j?this.toMonthIndex(F,k,!0):this.toMonthIndex(F,k,!1);P!==H&&R.month(P)}return R}});var i=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,u=/^\d?\d[iI]?/m,d=/^闰?十?[一二三四五六七八九]?月/m,g=/^闰?十?[一二三四五六七八九]?/m;m.calendars.chinese=c;var v=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],x=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function C($,S,O,D){var N,M;if(typeof $=="object")N=$,M=S||{};else{var k=typeof $=="number"&&$>=1888&&$<=2111;if(!k)throw new Error("Solar year outside range 1888-2111");var R=typeof S=="number"&&S>=1&&S<=12;if(!R)throw new Error("Solar month outside range 1 - 12");var F=typeof O=="number"&&O>=1&&O<=31;if(!F)throw new Error("Solar day outside range 1 - 31");N={year:$,month:S,day:O},M=D||{}}var H=x[N.year-x[0]],j=N.year<<9|N.month<<5|N.day;M.year=j>=H?N.year:N.year-1,H=x[M.year-x[0]];var P=H>>9&4095,ee=H>>5&15,J=H&31,K,ae=new Date(P,ee-1,J),Q=new Date(N.year,N.month-1,N.day);K=Math.round((Q-ae)/864e5);var he=v[M.year-v[0]],ge;for(ge=0;ge<13;ge++){var Se=he&1<<12-ge?30:29;if(K<Se)break;K-=Se}var ce=he>>13;return!ce||ge<ce?(M.isIntercalary=!1,M.month=1+ge):ge===ce?(M.isIntercalary=!0,M.month=ge):(M.isIntercalary=!1,M.month=ge),M.day=1+K,M}function _($,S,O,D,N){var M,k;if(typeof $=="object")k=$,M=S||{};else{var R=typeof $=="number"&&$>=1888&&$<=2111;if(!R)throw new Error("Lunar year outside range 1888-2111");var F=typeof S=="number"&&S>=1&&S<=12;if(!F)throw new Error("Lunar month outside range 1 - 12");var H=typeof O=="number"&&O>=1&&O<=30;if(!H)throw new Error("Lunar day outside range 1 - 30");var j;typeof D=="object"?(j=!1,M=D):(j=!!D,M=N||{}),k={year:$,month:S,day:O,isIntercalary:j}}var P;P=k.day-1;var ee=v[k.year-v[0]],J=ee>>13,K;J&&(k.month>J||k.isIntercalary)?K=k.month:K=k.month-1;for(var ae=0;ae<K;ae++){var Q=ee&1<<12-ae?30:29;P+=Q}var he=x[k.year-x[0]],ge=he>>9&4095,Se=he>>5&15,ce=he&31,ne=new Date(ge,Se-1,ce+P);return M.year=ne.getFullYear(),M.month=1+ne.getMonth(),M.day=ne.getDate(),M}},8751:function(L,A,s){var m=s(3489),h=s(6131);function l(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}l.prototype=new m.baseCalendar,h(l.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(u){var i=this._validate(u,this.minMonth,this.minDay,m.local.invalidYear),u=i.year()+(i.year()<0?1:0);return u%4===3||u%4===-1},monthsInYear:function(c){return this._validate(c,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear),13},weekOfYear:function(c,i,u){var d=this.newDate(c,i,u);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(c,i){var u=this._validate(c,i,this.minDay,m.local.invalidMonth);return this.daysPerMonth[u.month()-1]+(u.month()===13&&this.leapYear(u.year())?1:0)},weekDay:function(c,i,u){return(this.dayOfWeek(c,i,u)||7)<6},toJD:function(c,i,u){var d=this._validate(c,i,u,m.local.invalidDate);return c=d.year(),c<0&&c++,d.day()+(d.month()-1)*30+(c-1)*365+Math.floor(c/4)+this.jdEpoch-1},fromJD:function(c){var i=Math.floor(c)+.5-this.jdEpoch,u=Math.floor((i-Math.floor((i+366)/1461))/365)+1;u<=0&&u--,i=Math.floor(c)+.5-this.newDate(u,1,1).toJD();var d=Math.floor(i/30)+1,g=i-(d-1)*30+1;return this.newDate(u,d,g)}}),m.calendars.coptic=l},6825:function(L,A,s){var m=s(3489),h=s(6131);function l(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}l.prototype=new m.baseCalendar,h(l.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(i){return this._validate(i,this.minMonth,this.minDay,m.local.invalidYear),!1},monthsInYear:function(i){return this._validate(i,this.minMonth,this.minDay,m.local.invalidYear),13},daysInYear:function(i){return this._validate(i,this.minMonth,this.minDay,m.local.invalidYear),400},weekOfYear:function(i,u,d){var g=this.newDate(i,u,d);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/8)+1},daysInMonth:function(i,u){var d=this._validate(i,u,this.minDay,m.local.invalidMonth);return this.daysPerMonth[d.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(i,u,d){var g=this._validate(i,u,d,m.local.invalidDate);return(g.day()+1)%8},weekDay:function(i,u,d){var g=this.dayOfWeek(i,u,d);return g>=2&&g<=6},extraInfo:function(i,u,d){var g=this._validate(i,u,d,m.local.invalidDate);return{century:c[Math.floor((g.year()-1)/100)+1]||""}},toJD:function(i,u,d){var g=this._validate(i,u,d,m.local.invalidDate);return i=g.year()+(g.year()<0?1:0),u=g.month(),d=g.day(),d+(u>1?16:0)+(u>2?(u-2)*32:0)+(i-1)*400+this.jdEpoch-1},fromJD:function(i){i=Math.floor(i+.5)-Math.floor(this.jdEpoch)-1;var u=Math.floor(i/400)+1;i-=(u-1)*400,i+=i>15?16:0;var d=Math.floor(i/32)+1,g=i-(d-1)*32+1;return this.newDate(u<=0?u-1:u,d,g)}});var c={20:"Fruitbat",21:"Anchovy"};m.calendars.discworld=l},7715:function(L,A,s){var m=s(3489),h=s(6131);function l(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}l.prototype=new m.baseCalendar,h(l.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(u){var i=this._validate(u,this.minMonth,this.minDay,m.local.invalidYear),u=i.year()+(i.year()<0?1:0);return u%4===3||u%4===-1},monthsInYear:function(c){return this._validate(c,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear),13},weekOfYear:function(c,i,u){var d=this.newDate(c,i,u);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(c,i){var u=this._validate(c,i,this.minDay,m.local.invalidMonth);return this.daysPerMonth[u.month()-1]+(u.month()===13&&this.leapYear(u.year())?1:0)},weekDay:function(c,i,u){return(this.dayOfWeek(c,i,u)||7)<6},toJD:function(c,i,u){var d=this._validate(c,i,u,m.local.invalidDate);return c=d.year(),c<0&&c++,d.day()+(d.month()-1)*30+(c-1)*365+Math.floor(c/4)+this.jdEpoch-1},fromJD:function(c){var i=Math.floor(c)+.5-this.jdEpoch,u=Math.floor((i-Math.floor((i+366)/1461))/365)+1;u<=0&&u--,i=Math.floor(c)+.5-this.newDate(u,1,1).toJD();var d=Math.floor(i/30)+1,g=i-(d-1)*30+1;return this.newDate(u,d,g)}}),m.calendars.ethiopian=l},9384:function(L,A,s){var m=s(3489),h=s(6131);function l(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}l.prototype=new m.baseCalendar,h(l.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(i){var u=this._validate(i,this.minMonth,this.minDay,m.local.invalidYear);return this._leapYear(u.year())},_leapYear:function(i){return i=i<0?i+1:i,c(i*7+1,19)<7},monthsInYear:function(i){return this._validate(i,this.minMonth,this.minDay,m.local.invalidYear),this._leapYear(i.year?i.year():i)?13:12},weekOfYear:function(i,u,d){var g=this.newDate(i,u,d);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInYear:function(i){var u=this._validate(i,this.minMonth,this.minDay,m.local.invalidYear);return i=u.year(),this.toJD(i===-1?1:i+1,7,1)-this.toJD(i,7,1)},daysInMonth:function(i,u){return i.year&&(u=i.month(),i=i.year()),this._validate(i,u,this.minDay,m.local.invalidMonth),u===12&&this.leapYear(i)||u===8&&c(this.daysInYear(i),10)===5?30:u===9&&c(this.daysInYear(i),10)===3?29:this.daysPerMonth[u-1]},weekDay:function(i,u,d){return this.dayOfWeek(i,u,d)!==6},extraInfo:function(i,u,d){var g=this._validate(i,u,d,m.local.invalidDate);return{yearType:(this.leapYear(g)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(g)%10-3]}},toJD:function(i,u,d){var g=this._validate(i,u,d,m.local.invalidDate);i=g.year(),u=g.month(),d=g.day();var v=i<=0?i+1:i,x=this.jdEpoch+this._delay1(v)+this._delay2(v)+d+1;if(u<7){for(var C=7;C<=this.monthsInYear(i);C++)x+=this.daysInMonth(i,C);for(var C=1;C<u;C++)x+=this.daysInMonth(i,C)}else for(var C=7;C<u;C++)x+=this.daysInMonth(i,C);return x},_delay1:function(i){var u=Math.floor((235*i-234)/19),d=12084+13753*u,g=u*29+Math.floor(d/25920);return c(3*(g+1),7)<3&&g++,g},_delay2:function(i){var u=this._delay1(i-1),d=this._delay1(i),g=this._delay1(i+1);return g-d===356?2:d-u===382?1:0},fromJD:function(i){i=Math.floor(i)+.5;for(var u=Math.floor((i-this.jdEpoch)*98496/35975351)-1;i>=this.toJD(u===-1?1:u+1,7,1);)u++;for(var d=i<this.toJD(u,1,1)?7:1;i>this.toJD(u,d,this.daysInMonth(u,d));)d++;var g=i-this.toJD(u,d,1)+1;return this.newDate(u,d,g)}});function c(i,u){return i-u*Math.floor(i/u)}m.calendars.hebrew=l},3805:function(L,A,s){var m=s(3489),h=s(6131);function l(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}l.prototype=new m.baseCalendar,h(l.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(c){var i=this._validate(c,this.minMonth,this.minDay,m.local.invalidYear);return(i.year()*11+14)%30<11},weekOfYear:function(c,i,u){var d=this.newDate(c,i,u);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInYear:function(c){return this.leapYear(c)?355:354},daysInMonth:function(c,i){var u=this._validate(c,i,this.minDay,m.local.invalidMonth);return this.daysPerMonth[u.month()-1]+(u.month()===12&&this.leapYear(u.year())?1:0)},weekDay:function(c,i,u){return this.dayOfWeek(c,i,u)!==5},toJD:function(c,i,u){var d=this._validate(c,i,u,m.local.invalidDate);return c=d.year(),i=d.month(),u=d.day(),c=c<=0?c+1:c,u+Math.ceil(29.5*(i-1))+(c-1)*354+Math.floor((3+11*c)/30)+this.jdEpoch-1},fromJD:function(c){c=Math.floor(c)+.5;var i=Math.floor((30*(c-this.jdEpoch)+10646)/10631);i=i<=0?i-1:i;var u=Math.min(12,Math.ceil((c-29-this.toJD(i,1,1))/29.5)+1),d=c-this.toJD(i,u,1)+1;return this.newDate(i,u,d)}}),m.calendars.islamic=l},8874:function(L,A,s){var m=s(3489),h=s(6131);function l(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}l.prototype=new m.baseCalendar,h(l.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(u){var i=this._validate(u,this.minMonth,this.minDay,m.local.invalidYear),u=i.year()<0?i.year()+1:i.year();return u%4===0},weekOfYear:function(c,i,u){var d=this.newDate(c,i,u);return d.add(4-(d.dayOfWeek()||7),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(c,i){var u=this._validate(c,i,this.minDay,m.local.invalidMonth);return this.daysPerMonth[u.month()-1]+(u.month()===2&&this.leapYear(u.year())?1:0)},weekDay:function(c,i,u){return(this.dayOfWeek(c,i,u)||7)<6},toJD:function(c,i,u){var d=this._validate(c,i,u,m.local.invalidDate);return c=d.year(),i=d.month(),u=d.day(),c<0&&c++,i<=2&&(c--,i+=12),Math.floor(365.25*(c+4716))+Math.floor(30.6001*(i+1))+u-1524.5},fromJD:function(c){var i=Math.floor(c+.5),u=i+1524,d=Math.floor((u-122.1)/365.25),g=Math.floor(365.25*d),v=Math.floor((u-g)/30.6001),x=v-Math.floor(v<14?1:13),C=d-Math.floor(x>2?4716:4715),_=u-g-Math.floor(30.6001*v);return C<=0&&C--,this.newDate(C,x,_)}}),m.calendars.julian=l},3290:function(L,A,s){var m=s(3489),h=s(6131);function l(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}l.prototype=new m.baseCalendar,h(l.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(u){return this._validate(u,this.minMonth,this.minDay,m.local.invalidYear),!1},formatYear:function(u){var d=this._validate(u,this.minMonth,this.minDay,m.local.invalidYear);u=d.year();var g=Math.floor(u/400);u=u%400,u+=u<0?400:0;var v=Math.floor(u/20);return g+"."+v+"."+u%20},forYear:function(u){if(u=u.split("."),u.length<3)throw"Invalid Mayan year";for(var d=0,g=0;g<u.length;g++){var v=parseInt(u[g],10);if(Math.abs(v)>19||g>0&&v<0)throw"Invalid Mayan year";d=d*20+v}return d},monthsInYear:function(u){return this._validate(u,this.minMonth,this.minDay,m.local.invalidYear),18},weekOfYear:function(u,d,g){return this._validate(u,d,g,m.local.invalidDate),0},daysInYear:function(u){return this._validate(u,this.minMonth,this.minDay,m.local.invalidYear),360},daysInMonth:function(u,d){return this._validate(u,d,this.minDay,m.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(u,d,g){var v=this._validate(u,d,g,m.local.invalidDate);return v.day()},weekDay:function(u,d,g){return this._validate(u,d,g,m.local.invalidDate),!0},extraInfo:function(u,d,g){var v=this._validate(u,d,g,m.local.invalidDate),x=v.toJD(),C=this._toHaab(x),_=this._toTzolkin(x);return{haabMonthName:this.local.haabMonths[C[0]-1],haabMonth:C[0],haabDay:C[1],tzolkinDayName:this.local.tzolkinMonths[_[0]-1],tzolkinDay:_[0],tzolkinTrecena:_[1]}},_toHaab:function(u){u-=this.jdEpoch;var d=c(u+8+(18-1)*20,365);return[Math.floor(d/20)+1,c(d,20)]},_toTzolkin:function(u){return u-=this.jdEpoch,[i(u+20,20),i(u+4,13)]},toJD:function(u,d,g){var v=this._validate(u,d,g,m.local.invalidDate);return v.day()+v.month()*20+v.year()*360+this.jdEpoch},fromJD:function(u){u=Math.floor(u)+.5-this.jdEpoch;var d=Math.floor(u/360);u=u%360,u+=u<0?360:0;var g=Math.floor(u/20),v=u%20;return this.newDate(d,g,v)}});function c(u,d){return u-d*Math.floor(u/d)}function i(u,d){return c(u-1,d)+1}m.calendars.mayan=l},9108:function(L,A,s){var m=s(3489),h=s(6131);function l(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}l.prototype=new m.baseCalendar;var c=m.instance("gregorian");h(l.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(i){var u=this._validate(i,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear);return c.leapYear(u.year()+(u.year()<1?1:0)+1469)},weekOfYear:function(i,u,d){var g=this.newDate(i,u,d);return g.add(1-(g.dayOfWeek()||7),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(i,u){var d=this._validate(i,u,this.minDay,m.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===12&&this.leapYear(d.year())?1:0)},weekDay:function(i,u,d){return(this.dayOfWeek(i,u,d)||7)<6},toJD:function(v,u,d){var g=this._validate(v,u,d,m.local.invalidMonth),v=g.year();v<0&&v++;for(var x=g.day(),C=1;C<g.month();C++)x+=this.daysPerMonth[C-1];return x+c.toJD(v+1468,3,13)},fromJD:function(i){i=Math.floor(i+.5);for(var u=Math.floor((i-(this.jdEpoch-1))/366);i>=this.toJD(u+1,1,1);)u++;for(var d=i-Math.floor(this.toJD(u,1,1)+.5)+1,g=1;d>this.daysInMonth(u,g);)d-=this.daysInMonth(u,g),g++;return this.newDate(u,g,d)}}),m.calendars.nanakshahi=l},5422:function(L,A,s){var m=s(3489),h=s(6131);function l(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}l.prototype=new m.baseCalendar,h(l.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(c){return this.daysInYear(c)!==this.daysPerYear},weekOfYear:function(c,i,u){var d=this.newDate(c,i,u);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInYear:function(c){var i=this._validate(c,this.minMonth,this.minDay,m.local.invalidYear);if(c=i.year(),typeof this.NEPALI_CALENDAR_DATA[c]>"u")return this.daysPerYear;for(var u=0,d=this.minMonth;d<=12;d++)u+=this.NEPALI_CALENDAR_DATA[c][d];return u},daysInMonth:function(c,i){return c.year&&(i=c.month(),c=c.year()),this._validate(c,i,this.minDay,m.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[c]>"u"?this.daysPerMonth[i-1]:this.NEPALI_CALENDAR_DATA[c][i]},weekDay:function(c,i,u){return this.dayOfWeek(c,i,u)!==6},toJD:function(c,i,u){var d=this._validate(c,i,u,m.local.invalidDate);c=d.year(),i=d.month(),u=d.day();var g=m.instance(),v=0,x=i,C=c;this._createMissingCalendarData(c);var _=c-(x>9||x===9&&u>=this.NEPALI_CALENDAR_DATA[C][0]?56:57);for(i!==9&&(v=u,x--);x!==9;)x<=0&&(x=12,C--),v+=this.NEPALI_CALENDAR_DATA[C][x],x--;return i===9?(v+=u-this.NEPALI_CALENDAR_DATA[C][0],v<0&&(v+=g.daysInYear(_))):v+=this.NEPALI_CALENDAR_DATA[C][9]-this.NEPALI_CALENDAR_DATA[C][0],g.newDate(_,1,1).add(v,"d").toJD()},fromJD:function(c){var i=m.instance(),u=i.fromJD(c),d=u.year(),g=u.dayOfYear(),v=d+56;this._createMissingCalendarData(v);for(var x=9,C=this.NEPALI_CALENDAR_DATA[v][0],_=this.NEPALI_CALENDAR_DATA[v][x]-C+1;g>_;)x++,x>12&&(x=1,v++),_+=this.NEPALI_CALENDAR_DATA[v][x];var $=this.NEPALI_CALENDAR_DATA[v][x]-(_-g);return this.newDate(v,x,$)},_createMissingCalendarData:function(c){var i=this.daysPerMonth.slice(0);i.unshift(17);for(var u=c-1;u<c+2;u++)typeof this.NEPALI_CALENDAR_DATA[u]>"u"&&(this.NEPALI_CALENDAR_DATA[u]=i)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),m.calendars.nepali=l},4320:function(L,A,s){var m=s(3489),h=s(6131);function l(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}l.prototype=new m.baseCalendar,h(l.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(i){var u=this._validate(i,this.minMonth,this.minDay,m.local.invalidYear);return((u.year()-(u.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(i,u,d){var g=this.newDate(i,u,d);return g.add(-((g.dayOfWeek()+1)%7),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(i,u){var d=this._validate(i,u,this.minDay,m.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===12&&this.leapYear(d.year())?1:0)},weekDay:function(i,u,d){return this.dayOfWeek(i,u,d)!==5},toJD:function(i,u,d){var g=this._validate(i,u,d,m.local.invalidDate);i=g.year(),u=g.month(),d=g.day();var v=i-(i>=0?474:473),x=474+c(v,2820);return d+(u<=7?(u-1)*31:(u-1)*30+6)+Math.floor((x*682-110)/2816)+(x-1)*365+Math.floor(v/2820)*1029983+this.jdEpoch-1},fromJD:function(i){i=Math.floor(i)+.5;var u=i-this.toJD(475,1,1),d=Math.floor(u/1029983),g=c(u,1029983),v=2820;if(g!==1029982){var x=Math.floor(g/366),C=c(g,366);v=Math.floor((2134*x+2816*C+2815)/1028522)+x+1}var _=v+2820*d+474;_=_<=0?_-1:_;var $=i-this.toJD(_,1,1)+1,S=$<=186?Math.ceil($/31):Math.ceil(($-6)/30),O=i-this.toJD(_,S,1)+1;return this.newDate(_,S,O)}});function c(i,u){return i-u*Math.floor(i/u)}m.calendars.persian=l,m.calendars.jalali=l},1320:function(L,A,s){var m=s(3489),h=s(6131),l=m.instance();function c(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}c.prototype=new m.baseCalendar,h(c.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(d){var u=this._validate(d,this.minMonth,this.minDay,m.local.invalidYear),d=this._t2gYear(u.year());return l.leapYear(d)},weekOfYear:function(v,u,d){var g=this._validate(v,this.minMonth,this.minDay,m.local.invalidYear),v=this._t2gYear(g.year());return l.weekOfYear(v,g.month(),g.day())},daysInMonth:function(i,u){var d=this._validate(i,u,this.minDay,m.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===2&&this.leapYear(d.year())?1:0)},weekDay:function(i,u,d){return(this.dayOfWeek(i,u,d)||7)<6},toJD:function(v,u,d){var g=this._validate(v,u,d,m.local.invalidDate),v=this._t2gYear(g.year());return l.toJD(v,g.month(),g.day())},fromJD:function(i){var u=l.fromJD(i),d=this._g2tYear(u.year());return this.newDate(d,u.month(),u.day())},_t2gYear:function(i){return i+this.yearsOffset+(i>=-this.yearsOffset&&i<=-1?1:0)},_g2tYear:function(i){return i-this.yearsOffset-(i>=1&&i<=this.yearsOffset?1:0)}}),m.calendars.taiwan=c},1367:function(L,A,s){var m=s(3489),h=s(6131),l=m.instance();function c(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}c.prototype=new m.baseCalendar,h(c.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(d){var u=this._validate(d,this.minMonth,this.minDay,m.local.invalidYear),d=this._t2gYear(u.year());return l.leapYear(d)},weekOfYear:function(v,u,d){var g=this._validate(v,this.minMonth,this.minDay,m.local.invalidYear),v=this._t2gYear(g.year());return l.weekOfYear(v,g.month(),g.day())},daysInMonth:function(i,u){var d=this._validate(i,u,this.minDay,m.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===2&&this.leapYear(d.year())?1:0)},weekDay:function(i,u,d){return(this.dayOfWeek(i,u,d)||7)<6},toJD:function(v,u,d){var g=this._validate(v,u,d,m.local.invalidDate),v=this._t2gYear(g.year());return l.toJD(v,g.month(),g.day())},fromJD:function(i){var u=l.fromJD(i),d=this._g2tYear(u.year());return this.newDate(d,u.month(),u.day())},_t2gYear:function(i){return i-this.yearsOffset-(i>=1&&i<=this.yearsOffset?1:0)},_g2tYear:function(i){return i+this.yearsOffset+(i>=-this.yearsOffset&&i<=-1?1:0)}}),m.calendars.thai=c},1457:function(L,A,s){var m=s(3489),h=s(6131);function l(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}l.prototype=new m.baseCalendar,h(l.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(i){var u=this._validate(i,this.minMonth,this.minDay,m.local.invalidYear);return this.daysInYear(u.year())===355},weekOfYear:function(i,u,d){var g=this.newDate(i,u,d);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInYear:function(i){for(var u=0,d=1;d<=12;d++)u+=this.daysInMonth(i,d);return u},daysInMonth:function(i,u){for(var d=this._validate(i,u,this.minDay,m.local.invalidMonth),g=d.toJD()-24e5+.5,v=0,x=0;x<c.length;x++){if(c[x]>g)return c[v]-c[v-1];v++}return 30},weekDay:function(i,u,d){return this.dayOfWeek(i,u,d)!==5},toJD:function(i,u,d){var g=this._validate(i,u,d,m.local.invalidDate),v=12*(g.year()-1)+g.month()-15292,x=g.day()+c[v-1]-1;return x+24e5-.5},fromJD:function(i){for(var u=i-24e5+.5,d=0,g=0;g<c.length&&!(c[g]>u);g++)d++;var v=d+15292,x=Math.floor((v-1)/12),C=x+1,_=v-12*x,$=u-c[d-1]+1;return this.newDate(C,_,$)},isValid:function(i,u,d){var g=m.baseCalendar.prototype.isValid.apply(this,arguments);return g&&(i=i.year!=null?i.year:i,g=i>=1276&&i<=1500),g},_validate:function(i,u,d,g){var v=m.baseCalendar.prototype._validate.apply(this,arguments);if(v.year<1276||v.year>1500)throw g.replace(/\{0\}/,this.local.name);return v}}),m.calendars.ummalqura=l;var c=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},3489:function(L,A,s){var m=s(6131);function h(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}m(h.prototype,{instance:function(g,v){g=(g||"gregorian").toLowerCase(),v=v||"";var x=this._localCals[g+"-"+v];if(!x&&this.calendars[g]&&(x=new this.calendars[g](v),this._localCals[g+"-"+v]=x),!x)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,g);return x},newDate:function(g,v,x,C,_){return C=(g!=null&&g.year?g.calendar():typeof C=="string"?this.instance(C,_):C)||this.instance(),C.newDate(g,v,x)},substituteDigits:function(g){return function(v){return(v+"").replace(/[0-9]/g,function(x){return g[x]})}},substituteChineseDigits:function(g,v){return function(x){for(var C="",_=0;x>0;){var $=x%10;C=($===0?"":g[$]+v[_])+C,_++,x=Math.floor(x/10)}return C.indexOf(g[1]+v[1])===0&&(C=C.substr(1)),C||g[0]}}});function l(g,v,x,C){if(this._calendar=g,this._year=v,this._month=x,this._day=C,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function c(g,v){return g=""+g,"000000".substring(0,v-g.length)+g}m(l.prototype,{newDate:function(g,v,x){return this._calendar.newDate(g??this,v,x)},year:function(g){return arguments.length===0?this._year:this.set(g,"y")},month:function(g){return arguments.length===0?this._month:this.set(g,"m")},day:function(g){return arguments.length===0?this._day:this.set(g,"d")},date:function(g,v,x){if(!this._calendar.isValid(g,v,x))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=g,this._month=v,this._day=x,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(g,v){return this._calendar.add(this,g,v)},set:function(g,v){return this._calendar.set(this,g,v)},compareTo:function(g){if(this._calendar.name!==g._calendar.name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,g._calendar.local.name);var v=this._year!==g._year?this._year-g._year:this._month!==g._month?this.monthOfYear()-g.monthOfYear():this._day-g._day;return v===0?0:v<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(g){return this._calendar.fromJD(g)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(g){return this._calendar.fromJSDate(g)},toString:function(){return(this.year()<0?"-":"")+c(Math.abs(this.year()),4)+"-"+c(this.month(),2)+"-"+c(this.day(),2)}});function i(){this.shortYearCutoff="+10"}m(i.prototype,{_validateLevel:0,newDate:function(g,v,x){return g==null?this.today():(g.year&&(this._validate(g,v,x,d.local.invalidDate||d.regionalOptions[""].invalidDate),x=g.day(),v=g.month(),g=g.year()),new l(this,g,v,x))},today:function(){return this.fromJSDate(new Date)},epoch:function(g){var v=this._validate(g,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return v.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(g){var v=this._validate(g,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return(v.year()<0?"-":"")+c(Math.abs(v.year()),4)},monthsInYear:function(g){return this._validate(g,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear),12},monthOfYear:function(g,v){var x=this._validate(g,v,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return(x.month()+this.monthsInYear(x)-this.firstMonth)%this.monthsInYear(x)+this.minMonth},fromMonthOfYear:function(g,v){var x=(v+this.firstMonth-2*this.minMonth)%this.monthsInYear(g)+this.minMonth;return this._validate(g,x,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth),x},daysInYear:function(g){var v=this._validate(g,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return this.leapYear(v)?366:365},dayOfYear:function(g,v,x){var C=this._validate(g,v,x,d.local.invalidDate||d.regionalOptions[""].invalidDate);return C.toJD()-this.newDate(C.year(),this.fromMonthOfYear(C.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(g,v,x){var C=this._validate(g,v,x,d.local.invalidDate||d.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(C))+2)%this.daysInWeek()},extraInfo:function(g,v,x){return this._validate(g,v,x,d.local.invalidDate||d.regionalOptions[""].invalidDate),{}},add:function(g,v,x){return this._validate(g,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate),this._correctAdd(g,this._add(g,v,x),v,x)},_add:function(g,v,x){if(this._validateLevel++,x==="d"||x==="w"){var C=g.toJD()+v*(x==="w"?this.daysInWeek():1),_=g.calendar().fromJD(C);return this._validateLevel--,[_.year(),_.month(),_.day()]}try{var $=g.year()+(x==="y"?v:0),S=g.monthOfYear()+(x==="m"?v:0),_=g.day(),O=function(M){for(;S<M.minMonth;)$--,S+=M.monthsInYear($);for(var k=M.monthsInYear($);S>k-1+M.minMonth;)$++,S-=k,k=M.monthsInYear($)};x==="y"?(g.month()!==this.fromMonthOfYear($,S)&&(S=this.newDate($,g.month(),this.minDay).monthOfYear()),S=Math.min(S,this.monthsInYear($)),_=Math.min(_,this.daysInMonth($,this.fromMonthOfYear($,S)))):x==="m"&&(O(this),_=Math.min(_,this.daysInMonth($,this.fromMonthOfYear($,S))));var D=[$,this.fromMonthOfYear($,S),_];return this._validateLevel--,D}catch(N){throw this._validateLevel--,N}},_correctAdd:function(g,v,x,C){if(!this.hasYearZero&&(C==="y"||C==="m")&&(v[0]===0||g.year()>0!=v[0]>0)){var _={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[C],$=x<0?-1:1;v=this._add(g,x*_[0]+$*_[1],_[2])}return g.date(v[0],v[1],v[2])},set:function(g,v,x){this._validate(g,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate);var C=x==="y"?v:g.year(),_=x==="m"?v:g.month(),$=x==="d"?v:g.day();return(x==="y"||x==="m")&&($=Math.min($,this.daysInMonth(C,_))),g.date(C,_,$)},isValid:function(g,v,x){this._validateLevel++;var C=this.hasYearZero||g!==0;if(C){var _=this.newDate(g,v,this.minDay);C=v>=this.minMonth&&v-this.minMonth<this.monthsInYear(_)&&x>=this.minDay&&x-this.minDay<this.daysInMonth(_)}return this._validateLevel--,C},toJSDate:function(g,v,x){var C=this._validate(g,v,x,d.local.invalidDate||d.regionalOptions[""].invalidDate);return d.instance().fromJD(this.toJD(C)).toJSDate()},fromJSDate:function(g){return this.fromJD(d.instance().fromJSDate(g).toJD())},_validate:function(g,v,x,C){if(g.year){if(this._validateLevel===0&&this.name!==g.calendar().name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,g.calendar().local.name);return g}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(g,v,x))throw C.replace(/\{0\}/,this.local.name);var _=this.newDate(g,v,x);return this._validateLevel--,_}catch($){throw this._validateLevel--,$}}});function u(g){this.local=this.regionalOptions[g]||this.regionalOptions[""]}u.prototype=new i,m(u.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(x){var v=this._validate(x,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear),x=v.year()+(v.year()<0?1:0);return x%4===0&&(x%100!==0||x%400===0)},weekOfYear:function(g,v,x){var C=this.newDate(g,v,x);return C.add(4-(C.dayOfWeek()||7),"d"),Math.floor((C.dayOfYear()-1)/7)+1},daysInMonth:function(g,v){var x=this._validate(g,v,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return this.daysPerMonth[x.month()-1]+(x.month()===2&&this.leapYear(x.year())?1:0)},weekDay:function(g,v,x){return(this.dayOfWeek(g,v,x)||7)<6},toJD:function(g,v,x){var C=this._validate(g,v,x,d.local.invalidDate||d.regionalOptions[""].invalidDate);g=C.year(),v=C.month(),x=C.day(),g<0&&g++,v<3&&(v+=12,g--);var _=Math.floor(g/100),$=2-_+Math.floor(_/4);return Math.floor(365.25*(g+4716))+Math.floor(30.6001*(v+1))+x+$-1524.5},fromJD:function(g){var v=Math.floor(g+.5),x=Math.floor((v-186721625e-2)/36524.25);x=v+1+x-Math.floor(x/4);var C=x+1524,_=Math.floor((C-122.1)/365.25),$=Math.floor(365.25*_),S=Math.floor((C-$)/30.6001),O=C-$-Math.floor(S*30.6001),D=S-(S>13.5?13:1),N=_-(D>2.5?4716:4715);return N<=0&&N--,this.newDate(N,D,O)},toJSDate:function(g,v,x){var C=this._validate(g,v,x,d.local.invalidDate||d.regionalOptions[""].invalidDate),_=new Date(C.year(),C.month()-1,C.day());return _.setHours(0),_.setMinutes(0),_.setSeconds(0),_.setMilliseconds(0),_.setHours(_.getHours()>12?_.getHours()+2:0),_},fromJSDate:function(g){return this.newDate(g.getFullYear(),g.getMonth()+1,g.getDate())}});var d=L.exports=new h;d.cdate=l,d.baseCalendar=i,d.calendars.gregorian=u},4338:function(L,A,s){var m=s(6131),h=s(3489);m(h.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),h.local=h.regionalOptions[""],m(h.cdate.prototype,{formatDate:function(l,c){return typeof l!="string"&&(c=l,l=""),this._calendar.formatDate(l||"",this,c)}}),m(h.baseCalendar.prototype,{UNIX_EPOCH:h.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:h.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(l,c,i){if(typeof l!="string"&&(i=c,c=l,l=""),!c)return"";if(c.calendar()!==this)throw h.local.invalidFormat||h.regionalOptions[""].invalidFormat;l=l||this.local.dateFormat,i=i||{};var u=i.dayNamesShort||this.local.dayNamesShort,d=i.dayNames||this.local.dayNames,g=i.monthNumbers||this.local.monthNumbers,v=i.monthNamesShort||this.local.monthNamesShort,x=i.monthNames||this.local.monthNames;i.calculateWeek||this.local.calculateWeek;for(var C=function(H,j){for(var P=1;F+P<l.length&&l.charAt(F+P)===H;)P++;return F+=P-1,Math.floor(P/(j||1))>1},_=function(H,j,P,ee){var J=""+j;if(C(H,ee))for(;J.length<P;)J="0"+J;return J},$=function(H,j,P,ee){return C(H)?ee[j]:P[j]},S=this,O=function(H){return typeof g=="function"?g.call(S,H,C("m")):M(_("m",H.month(),2))},D=function(H,j){return j?typeof x=="function"?x.call(S,H):x[H.month()-S.minMonth]:typeof v=="function"?v.call(S,H):v[H.month()-S.minMonth]},N=this.local.digits,M=function(H){return i.localNumbers&&N?N(H):H},k="",R=!1,F=0;F<l.length;F++)if(R)l.charAt(F)==="'"&&!C("'")?R=!1:k+=l.charAt(F);else switch(l.charAt(F)){case"d":k+=M(_("d",c.day(),2));break;case"D":k+=$("D",c.dayOfWeek(),u,d);break;case"o":k+=_("o",c.dayOfYear(),3);break;case"w":k+=_("w",c.weekOfYear(),2);break;case"m":k+=O(c);break;case"M":k+=D(c,C("M"));break;case"y":k+=C("y",2)?c.year():(c.year()%100<10?"0":"")+c.year()%100;break;case"Y":C("Y",2),k+=c.formatYear();break;case"J":k+=c.toJD();break;case"@":k+=(c.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":k+=(c.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":C("'")?k+="'":R=!0;break;default:k+=l.charAt(F)}return k},parseDate:function(l,c,i){if(c==null)throw h.local.invalidArguments||h.regionalOptions[""].invalidArguments;if(c=typeof c=="object"?c.toString():c+"",c==="")return null;l=l||this.local.dateFormat,i=i||{};var u=i.shortYearCutoff||this.shortYearCutoff;u=typeof u!="string"?u:this.today().year()%100+parseInt(u,10);for(var d=i.dayNamesShort||this.local.dayNamesShort,g=i.dayNames||this.local.dayNames,v=i.parseMonth||this.local.parseMonth,x=i.monthNumbers||this.local.monthNumbers,C=i.monthNamesShort||this.local.monthNamesShort,_=i.monthNames||this.local.monthNames,$=-1,S=-1,O=-1,D=-1,N=-1,M=!1,k=!1,R=function(ge,Se){for(var ce=1;ae+ce<l.length&&l.charAt(ae+ce)===ge;)ce++;return ae+=ce-1,Math.floor(ce/(Se||1))>1},F=function(ge,Se){var ce=R(ge,Se),ne=[2,3,ce?4:2,ce?4:2,10,11,20]["oyYJ@!".indexOf(ge)+1],fe=new RegExp("^-?\\d{1,"+ne+"}"),X=c.substring(K).match(fe);if(!X)throw(h.local.missingNumberAt||h.regionalOptions[""].missingNumberAt).replace(/\{0\}/,K);return K+=X[0].length,parseInt(X[0],10)},H=this,j=function(){if(typeof x=="function"){R("m");var ge=x.call(H,c.substring(K));return K+=ge.length,ge}return F("m")},P=function(ge,Se,ce,ne){for(var fe=R(ge,ne)?ce:Se,X=0;X<fe.length;X++)if(c.substr(K,fe[X].length).toLowerCase()===fe[X].toLowerCase())return K+=fe[X].length,X+H.minMonth;throw(h.local.unknownNameAt||h.regionalOptions[""].unknownNameAt).replace(/\{0\}/,K)},ee=function(){if(typeof _=="function"){var ge=R("M")?_.call(H,c.substring(K)):C.call(H,c.substring(K));return K+=ge.length,ge}return P("M",C,_)},J=function(){if(c.charAt(K)!==l.charAt(ae))throw(h.local.unexpectedLiteralAt||h.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,K);K++},K=0,ae=0;ae<l.length;ae++)if(k)l.charAt(ae)==="'"&&!R("'")?k=!1:J();else switch(l.charAt(ae)){case"d":D=F("d");break;case"D":P("D",d,g);break;case"o":N=F("o");break;case"w":F("w");break;case"m":O=j();break;case"M":O=ee();break;case"y":var Q=ae;M=!R("y",2),ae=Q,S=F("y",2);break;case"Y":S=F("Y",2);break;case"J":$=F("J")+.5,c.charAt(K)==="."&&(K++,F("J"));break;case"@":$=F("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":$=F("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":K=c.length;break;case"'":R("'")?J():k=!0;break;default:J()}if(K<c.length)throw h.local.unexpectedText||h.regionalOptions[""].unexpectedText;if(S===-1?S=this.today().year():S<100&&M&&(S+=u===-1?1900:this.today().year()-this.today().year()%100-(S<=u?0:100)),typeof O=="string"&&(O=v.call(this,S,O)),N>-1){O=1,D=N;for(var he=this.daysInMonth(S,O);D>he;he=this.daysInMonth(S,O))O++,D-=he}return $>-1?this.fromJD($):this.newDate(S,O,D)},determineDate:function(l,c,i,u,d){i&&typeof i!="object"&&(d=u,u=i,i=null),typeof u!="string"&&(d=u,u="");var g=this,v=function(x){try{return g.parseDate(u,x,d)}catch{}x=x.toLowerCase();for(var C=(x.match(/^c/)&&i?i.newDate():null)||g.today(),_=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,$=_.exec(x);$;)C.add(parseInt($[1],10),$[2]||"d"),$=_.exec(x);return C};return c=c?c.newDate():null,l=l==null?c:typeof l=="string"?v(l):typeof l=="number"?isNaN(l)||l===1/0||l===-1/0?c:g.today().add(l,"d"):g.newDate(l),l}})}},T={};function G(L){var A=T[L];if(A!==void 0)return A.exports;var s=T[L]={exports:{}};return y[L].call(s.exports,s,s.exports,G),s.exports}(function(){G.d=function(L,A){for(var s in A)G.o(A,s)&&!G.o(L,s)&&Object.defineProperty(L,s,{enumerable:!0,get:A[s]})}})(),function(){G.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){G.o=function(L,A){return Object.prototype.hasOwnProperty.call(L,A)}}(),function(){G.r=function(L){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(L,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(L,"__esModule",{value:!0})}}();var V=G(2576);return V}()})})(hae);var jfe=hae.exports;const WJ=dae(jfe),Yfe=YB({props:{figure:{type:Object,required:!0},layout:{type:Object,required:!0},id:{type:String,required:!0}},setup(o){Cg(()=>{WJ.newPlot(o.id,o.figure.data,o.layout)}),ta(()=>o.figure,(b,y)=>{b!==y&&WJ.newPlot(o.id,b.data,o.layout)},{deep:!0}),ta(()=>o.layout,(b,y)=>{b!==y&&WJ.newPlot(o.id,o.figure.data,b)},{deep:!0})}}),Vy=(o,b)=>{const y=o.__vccOpts||o;for(const[T,G]of b)y[T]=G;return y},Kfe=["id"];function Xfe(o,b,y,T,G,V){return mo(),Ts("div",{id:o.id,style:{height:"100%",width:"100%"}},null,8,Kfe)}const mae=Vy(Yfe,[["render",Xfe]]);var gae={exports:{}};(function(o,b){(function(){var y="ace",T=function(){return this}();!T&&typeof window<"u"&&(T=window);var G=function(h,l,c){if(typeof h!="string"){G.original?G.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(c=l),G.modules[h]||(G.payloads[h]=c,G.modules[h]=null)};G.modules={},G.payloads={};var V=function(h,l,c){if(typeof l=="string"){var i=s(h,l);if(i!=null)return c&&c(),i}else if(Object.prototype.toString.call(l)==="[object Array]"){for(var u=[],d=0,g=l.length;d<g;++d){var v=s(h,l[d]);if(v==null&&L.original)return;u.push(v)}return c&&c.apply(null,u)||!0}},L=function(h,l){var c=V("",h,l);return c==null&&L.original?L.original.apply(this,arguments):c},A=function(h,l){if(l.indexOf("!")!==-1){var c=l.split("!");return A(h,c[0])+"!"+A(h,c[1])}if(l.charAt(0)=="."){var i=h.split("/").slice(0,-1).join("/");for(l=i+"/"+l;l.indexOf(".")!==-1&&u!=l;){var u=l;l=l.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return l},s=function(h,l){l=A(h,l);var c=G.modules[l];if(!c){if(c=G.payloads[l],typeof c=="function"){var i={},u={id:l,uri:"",exports:i,packaged:!0},d=function(v,x){return V(l,v,x)},g=c(d,i,u);i=g||u.exports,G.modules[l]=i,delete G.payloads[l]}c=G.modules[l]=i||c}return c};function m(h){var l=T;h&&(T[h]||(T[h]={}),l=T[h]),(!l.define||!l.define.packaged)&&(G.original=l.define,l.define=G,l.define.packaged=!0),(!l.require||!l.require.packaged)&&(L.original=l.require,l.require=L,l.require.packaged=!0)}m(y)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(y,T,G){function V(L,A,s){Object.defineProperty(L,A,{value:s,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||V(String.prototype,"startsWith",function(L,A){return A=A||0,this.lastIndexOf(L,A)===A}),String.prototype.endsWith||V(String.prototype,"endsWith",function(L,A){var s=this;(A===void 0||A>s.length)&&(A=s.length),A-=L.length;var m=s.indexOf(L,A);return m!==-1&&m===A}),String.prototype.repeat||V(String.prototype,"repeat",function(L){for(var A="",s=this;L>0;)L&1&&(A+=s),(L>>=1)&&(s+=s);return A}),String.prototype.includes||V(String.prototype,"includes",function(L,A){return this.indexOf(L,A)!=-1}),Object.assign||(Object.assign=function(L){if(L==null)throw new TypeError("Cannot convert undefined or null to object");for(var A=Object(L),s=1;s<arguments.length;s++){var m=arguments[s];m!=null&&Object.keys(m).forEach(function(h){A[h]=m[h]})}return A}),Object.values||(Object.values=function(L){return Object.keys(L).map(function(A){return L[A]})}),Array.prototype.find||V(Array.prototype,"find",function(L){for(var A=this.length,s=arguments[1],m=0;m<A;m++){var h=this[m];if(L.call(s,h,m,this))return h}}),Array.prototype.findIndex||V(Array.prototype,"findIndex",function(L){for(var A=this.length,s=arguments[1],m=0;m<A;m++){var h=this[m];if(L.call(s,h,m,this))return m}}),Array.prototype.includes||V(Array.prototype,"includes",function(L,A){return this.indexOf(L,A)!=-1}),Array.prototype.fill||V(Array.prototype,"fill",function(L){for(var A=this,s=A.length>>>0,m=arguments[1],h=m>>0,l=h<0?Math.max(s+h,0):Math.min(h,s),c=arguments[2],i=c===void 0?s:c>>0,u=i<0?Math.max(s+i,0):Math.min(i,s);l<u;)A[l]=L,l++;return A}),Array.of||V(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(y,T,G){y("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(y,T,G){T.deepCopy=function V(L){if(typeof L!="object"||!L)return L;var A;if(Array.isArray(L)){A=[];for(var s=0;s<L.length;s++)A[s]=V(L[s]);return A}if(Object.prototype.toString.call(L)!=="[object Object]")return L;A={};for(var s in L)A[s]=V(L[s]);return A}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(y,T,G){T.last=function(A){return A[A.length-1]},T.stringReverse=function(A){return A.split("").reverse().join("")},T.stringRepeat=function(A,s){for(var m="";s>0;)s&1&&(m+=A),(s>>=1)&&(A+=A);return m};var V=/^\s\s*/,L=/\s\s*$/;T.stringTrimLeft=function(A){return A.replace(V,"")},T.stringTrimRight=function(A){return A.replace(L,"")},T.copyObject=function(A){var s={};for(var m in A)s[m]=A[m];return s},T.copyArray=function(A){for(var s=[],m=0,h=A.length;m<h;m++)A[m]&&typeof A[m]=="object"?s[m]=this.copyObject(A[m]):s[m]=A[m];return s},T.deepCopy=y("./deep_copy").deepCopy,T.arrayToMap=function(A){for(var s={},m=0;m<A.length;m++)s[A[m]]=1;return s},T.createMap=function(A){var s=Object.create(null);for(var m in A)s[m]=A[m];return s},T.arrayRemove=function(A,s){for(var m=0;m<=A.length;m++)s===A[m]&&A.splice(m,1)},T.escapeRegExp=function(A){return A.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},T.escapeHTML=function(A){return(""+A).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},T.getMatchOffsets=function(A,s){var m=[];return A.replace(s,function(h){m.push({offset:arguments[arguments.length-2],length:h.length})}),m},T.deferredCall=function(A){var s=null,m=function(){s=null,A()},h=function(l){return h.cancel(),s=setTimeout(m,l||0),h};return h.schedule=h,h.call=function(){return this.cancel(),A(),h},h.cancel=function(){return clearTimeout(s),s=null,h},h.isPending=function(){return s},h},T.delayedCall=function(A,s){var m=null,h=function(){m=null,A()},l=function(c){m==null&&(m=setTimeout(h,c||s))};return l.delay=function(c){m&&clearTimeout(m),m=setTimeout(h,c||s)},l.schedule=l,l.call=function(){this.cancel(),A()},l.cancel=function(){m&&clearTimeout(m),m=null},l.isPending=function(){return m},l},T.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},T.supportsUnicodeFlag=function(){try{new RegExp("^.$","u")}catch{return!1}return!0}}),ace.define("ace/lib/useragent",["require","exports","module"],function(y,T,G){T.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},T.getOS=function(){return T.isMac?T.OS.MAC:T.isLinux?T.OS.LINUX:T.OS.WINDOWS};var V=typeof navigator=="object"?navigator:{},L=(/mac|win|linux/i.exec(V.platform)||["other"])[0].toLowerCase(),A=V.userAgent||"",s=V.appName||"";T.isWin=L=="win",T.isMac=L=="mac",T.isLinux=L=="linux",T.isIE=s=="Microsoft Internet Explorer"||s.indexOf("MSAppHost")>=0?parseFloat((A.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((A.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),T.isOldIE=T.isIE&&T.isIE<9,T.isGecko=T.isMozilla=A.match(/ Gecko\/\d+/),T.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",T.isWebKit=parseFloat(A.split("WebKit/")[1])||void 0,T.isChrome=parseFloat(A.split(" Chrome/")[1])||void 0,T.isEdge=parseFloat(A.split(" Edge/")[1])||void 0,T.isAIR=A.indexOf("AdobeAIR")>=0,T.isAndroid=A.indexOf("Android")>=0,T.isChromeOS=A.indexOf(" CrOS ")>=0,T.isIOS=/iPad|iPhone|iPod/.test(A)&&!window.MSStream,T.isIOS&&(T.isMac=!0),T.isMobile=T.isIOS||T.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(y,T,G){var V=y("./useragent"),L="http://www.w3.org/1999/xhtml";T.buildDom=function c(i,u,d){if(typeof i=="string"&&i){var g=document.createTextNode(i);return u&&u.appendChild(g),g}if(!Array.isArray(i))return i&&i.appendChild&&u&&u.appendChild(i),i;if(typeof i[0]!="string"||!i[0]){for(var v=[],x=0;x<i.length;x++){var C=c(i[x],u,d);C&&v.push(C)}return v}var _=document.createElement(i[0]),$=i[1],S=1;$&&typeof $=="object"&&!Array.isArray($)&&(S=2);for(var x=S;x<i.length;x++)c(i[x],_,d);return S==2&&Object.keys($).forEach(function(O){var D=$[O];O==="class"?_.className=Array.isArray(D)?D.join(" "):D:typeof D=="function"||O=="value"||O[0]=="$"?_[O]=D:O==="ref"?d&&(d[D]=_):O==="style"?typeof D=="string"&&(_.style.cssText=D):D!=null&&_.setAttribute(O,D)}),u&&u.appendChild(_),_},T.getDocumentHead=function(c){return c||(c=document),c.head||c.getElementsByTagName("head")[0]||c.documentElement},T.createElement=function(c,i){return document.createElementNS?document.createElementNS(i||L,c):document.createElement(c)},T.removeChildren=function(c){c.innerHTML=""},T.createTextNode=function(c,i){var u=i?i.ownerDocument:document;return u.createTextNode(c)},T.createFragment=function(c){var i=c?c.ownerDocument:document;return i.createDocumentFragment()},T.hasCssClass=function(c,i){var u=(c.className+"").split(/\s+/g);return u.indexOf(i)!==-1},T.addCssClass=function(c,i){T.hasCssClass(c,i)||(c.className+=" "+i)},T.removeCssClass=function(c,i){for(var u=c.className.split(/\s+/g);;){var d=u.indexOf(i);if(d==-1)break;u.splice(d,1)}c.className=u.join(" ")},T.toggleCssClass=function(c,i){for(var u=c.className.split(/\s+/g),d=!0;;){var g=u.indexOf(i);if(g==-1)break;d=!1,u.splice(g,1)}return d&&u.push(i),c.className=u.join(" "),d},T.setCssClass=function(c,i,u){u?T.addCssClass(c,i):T.removeCssClass(c,i)},T.hasCssString=function(c,i){var u=0,d;if(i=i||document,d=i.querySelectorAll("style")){for(;u<d.length;)if(d[u++].id===c)return!0}},T.removeElementById=function(c,i){i=i||document,i.getElementById(c)&&i.getElementById(c).remove()};var A,s=[];T.useStrictCSP=function(c){A=c,c==!1?m():s||(s=[])};function m(){var c=s;s=null,c&&c.forEach(function(i){h(i[0],i[1])})}function h(c,i,u){if(!(typeof document>"u")){if(s){if(u)m();else if(u===!1)return s.push([c,i])}if(!A){var d=u;!u||!u.getRootNode?d=document:(d=u.getRootNode(),(!d||d==u)&&(d=document));var g=d.ownerDocument||d;if(i&&T.hasCssString(i,d))return null;i&&(c+=`
/*# sourceURL=ace/css/`+i+" */");var v=T.createElement("style");v.appendChild(g.createTextNode(c)),i&&(v.id=i),d==g&&(d=T.getDocumentHead(g)),d.insertBefore(v,d.firstChild)}}}if(T.importCssString=h,T.importCssStylsheet=function(c,i){T.buildDom(["link",{rel:"stylesheet",href:c}],T.getDocumentHead(i))},T.scrollbarWidth=function(c){var i=T.createElement("ace_inner");i.style.width="100%",i.style.minWidth="0px",i.style.height="200px",i.style.display="block";var u=T.createElement("ace_outer"),d=u.style;d.position="absolute",d.left="-10000px",d.overflow="hidden",d.width="200px",d.minWidth="0px",d.height="150px",d.display="block",u.appendChild(i);var g=c&&c.documentElement||document&&document.documentElement;if(!g)return 0;g.appendChild(u);var v=i.offsetWidth;d.overflow="scroll";var x=i.offsetWidth;return v===x&&(x=u.clientWidth),g.removeChild(u),v-x},T.computedStyle=function(c,i){return window.getComputedStyle(c,"")||{}},T.setStyle=function(c,i,u){c[i]!==u&&(c[i]=u)},T.HAS_CSS_ANIMATION=!1,T.HAS_CSS_TRANSFORMS=!1,T.HI_DPI=V.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,V.isChromeOS&&(T.HI_DPI=!1),typeof document<"u"){var l=document.createElement("div");T.HI_DPI&&l.style.transform!==void 0&&(T.HAS_CSS_TRANSFORMS=!0),!V.isEdge&&typeof l.style.animationName<"u"&&(T.HAS_CSS_ANIMATION=!0),l=null}T.HAS_CSS_TRANSFORMS?T.translate=function(c,i,u){c.style.transform="translate("+Math.round(i)+"px, "+Math.round(u)+"px)"}:T.translate=function(c,i,u){c.style.top=Math.round(u)+"px",c.style.left=Math.round(i)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(y,T,G){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var V=y("./dom");T.get=function(L,A){var s=new XMLHttpRequest;s.open("GET",L,!0),s.onreadystatechange=function(){s.readyState===4&&A(s.responseText)},s.send(null)},T.loadScript=function(L,A){var s=V.getDocumentHead(),m=document.createElement("script");m.src=L,s.appendChild(m),m.onload=m.onreadystatechange=function(h,l){(l||!m.readyState||m.readyState=="loaded"||m.readyState=="complete")&&(m=m.onload=m.onreadystatechange=null,l||A())}},T.qualifyURL=function(L){var A=document.createElement("a");return A.href=L,A.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(y,T,G){T.inherits=function(V,L){V.super_=L,V.prototype=Object.create(L.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}})},T.mixin=function(V,L){for(var A in L)V[A]=L[A];return V},T.implement=function(V,L){T.mixin(V,L)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(y,T,G){var V={},L=function(){this.propagationStopped=!0},A=function(){this.defaultPrevented=!0};V._emit=V._dispatchEvent=function(s,m){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var h=this._eventRegistry[s]||[],l=this._defaultHandlers[s];if(!(!h.length&&!l)){(typeof m!="object"||!m)&&(m={}),m.type||(m.type=s),m.stopPropagation||(m.stopPropagation=L),m.preventDefault||(m.preventDefault=A),h=h.slice();for(var c=0;c<h.length&&(h[c](m,this),!m.propagationStopped);c++);if(l&&!m.defaultPrevented)return l(m,this)}},V._signal=function(s,m){var h=(this._eventRegistry||{})[s];if(h){h=h.slice();for(var l=0;l<h.length;l++)h[l](m,this)}},V.once=function(s,m){var h=this;if(this.on(s,function l(){h.off(s,l),m.apply(null,arguments)}),!m)return new Promise(function(l){m=l})},V.setDefaultHandler=function(s,m){var h=this._defaultHandlers;if(h||(h=this._defaultHandlers={_disabled_:{}}),h[s]){var l=h[s],c=h._disabled_[s];c||(h._disabled_[s]=c=[]),c.push(l);var i=c.indexOf(m);i!=-1&&c.splice(i,1)}h[s]=m},V.removeDefaultHandler=function(s,m){var h=this._defaultHandlers;if(h){var l=h._disabled_[s];if(h[s]==m)l&&this.setDefaultHandler(s,l.pop());else if(l){var c=l.indexOf(m);c!=-1&&l.splice(c,1)}}},V.on=V.addEventListener=function(s,m,h){this._eventRegistry=this._eventRegistry||{};var l=this._eventRegistry[s];return l||(l=this._eventRegistry[s]=[]),l.indexOf(m)==-1&&l[h?"unshift":"push"](m),m},V.off=V.removeListener=V.removeEventListener=function(s,m){this._eventRegistry=this._eventRegistry||{};var h=this._eventRegistry[s];if(h){var l=h.indexOf(m);l!==-1&&h.splice(l,1)}},V.removeAllListeners=function(s){s||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[s]=void 0),this._defaultHandlers&&(this._defaultHandlers[s]=void 0)},T.EventEmitter=V}),ace.define("ace/lib/report_error",["require","exports","module"],function(y,T,G){T.reportError=function(L,A){var s=new Error(L);s.data=A,typeof console=="object"&&console.error&&console.error(s),setTimeout(function(){throw s})}}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error"],function(y,T,G){"no use strict";var V=y("./oop"),L=y("./event_emitter").EventEmitter,A=y("./report_error").reportError,s={setOptions:function(c){Object.keys(c).forEach(function(i){this.setOption(i,c[i])},this)},getOptions:function(c){var i={};if(c)Array.isArray(c)||(i=c,c=Object.keys(i));else{var u=this.$options;c=Object.keys(u).filter(function(d){return!u[d].hidden})}return c.forEach(function(d){i[d]=this.getOption(d)},this),i},setOption:function(c,i){if(this["$"+c]!==i){var u=this.$options[c];if(!u)return m('misspelled option "'+c+'"');if(u.forwardTo)return this[u.forwardTo]&&this[u.forwardTo].setOption(c,i);u.handlesSet||(this["$"+c]=i),u&&u.set&&u.set.call(this,i)}},getOption:function(c){var i=this.$options[c];return i?i.forwardTo?this[i.forwardTo]&&this[i.forwardTo].getOption(c):i&&i.get?i.get.call(this):this["$"+c]:m('misspelled option "'+c+'"')}};function m(c){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var h,l=function(){function c(){this.$defaultOptions={}}return c.prototype.defineOptions=function(i,u,d){return i.$options||(this.$defaultOptions[u]=i.$options={}),Object.keys(d).forEach(function(g){var v=d[g];typeof v=="string"&&(v={forwardTo:v}),v.name||(v.name=g),i.$options[v.name]=v,"initialValue"in v&&(i["$"+v.name]=v.initialValue)}),V.implement(i,s),this},c.prototype.resetOptions=function(i){Object.keys(i.$options).forEach(function(u){var d=i.$options[u];"value"in d&&i.setOption(u,d.value)})},c.prototype.setDefaultValue=function(i,u,d){if(!i){for(i in this.$defaultOptions)if(this.$defaultOptions[i][u])break;if(!this.$defaultOptions[i][u])return!1}var g=this.$defaultOptions[i]||(this.$defaultOptions[i]={});g[u]&&(g.forwardTo?this.setDefaultValue(g.forwardTo,u,d):g[u].value=d)},c.prototype.setDefaultValues=function(i,u){Object.keys(u).forEach(function(d){this.setDefaultValue(i,d,u[d])},this)},c.prototype.setMessages=function(i){h=i},c.prototype.nls=function(i,u){h&&!h[i]&&m("No message found for '"+i+"' in the provided messages, falling back to default English message.");var d=h&&h[i]||i;return u&&(d=d.replace(/\$(\$|[\d]+)/g,function(g,v){return v=="$"?"$":u[v]})),d},c}();l.prototype.warn=m,l.prototype.reportError=A,V.implement(l.prototype,L),T.AppConfig=l}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(y,T,G){G.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(y,T,G){T.isDark=!1,T.cssClass="ace-tm",T.cssText=y("./textmate-css"),T.$id="ace/theme/textmate";var V=y("../lib/dom");V.importCssString(T.cssText,T.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(y,T,G){"no use strict";var V=y("./lib/lang"),L=y("./lib/net"),A=y("./lib/dom"),s=y("./lib/app_config").AppConfig;G.exports=T=new s;var m={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};T.get=function(i){if(!m.hasOwnProperty(i))throw new Error("Unknown config key: "+i);return m[i]},T.set=function(i,u){if(m.hasOwnProperty(i))m[i]=u;else if(this.setDefaultValue("",i,u)==!1)throw new Error("Unknown config key: "+i);i=="useStrictCSP"&&A.useStrictCSP(u)},T.all=function(){return V.copyObject(m)},T.$modes={},T.moduleUrl=function(i,u){if(m.$moduleUrls[i])return m.$moduleUrls[i];var d=i.split("/");u=u||d[d.length-2]||"";var g=u=="snippets"?"/":"-",v=d[d.length-1];if(u=="worker"&&g=="-"){var x=new RegExp("^"+u+"[\\-_]|[\\-_]"+u+"$","g");v=v.replace(x,"")}(!v||v==u)&&d.length>1&&(v=d[d.length-2]);var C=m[u+"Path"];return C==null?C=m.basePath:g=="/"&&(u=g=""),C&&C.slice(-1)!="/"&&(C+="/"),C+u+g+v+this.get("suffix")},T.setModuleUrl=function(i,u){return m.$moduleUrls[i]=u};var h=function(i,u){if(i==="ace/theme/textmate"||i==="./theme/textmate")return u(null,y("./theme/textmate"));if(l)return l(i,u);console.error("loader is not configured")},l;T.setLoader=function(i){l=i},T.dynamicModules=Object.create(null),T.$loading={},T.$loaded={},T.loadModule=function(i,u){var d,g;Array.isArray(i)&&(g=i[0],i=i[1]);var v=function(x){if(x&&!T.$loading[i])return u&&u(x);if(T.$loading[i]||(T.$loading[i]=[]),T.$loading[i].push(u),!(T.$loading[i].length>1)){var C=function(){h(i,function(_,$){$&&(T.$loaded[i]=$),T._emit("load.module",{name:i,module:$});var S=T.$loading[i];T.$loading[i]=null,S.forEach(function(O){O&&O($)})})};if(!T.get("packaged"))return C();L.loadScript(T.moduleUrl(i,g),C),c()}};if(T.dynamicModules[i])T.dynamicModules[i]().then(function(x){x.default?v(x.default):v(x)});else{try{d=this.$require(i)}catch{}v(d||T.$loaded[i])}},T.$require=function(i){if(typeof G.require=="function"){var u="require";return G[u](i)}},T.setModuleLoader=function(i,u){T.dynamicModules[i]=u};var c=function(){!m.basePath&&!m.workerPath&&!m.modePath&&!m.themePath&&!Object.keys(m.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),c=function(){})};T.version="1.28.0"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(y,T,G){y("./lib/fixoldbrowsers");var V=y("./config");V.setLoader(function(m,h){y([m],function(l){h(null,l)})});var L=function(){return this||typeof window<"u"&&window}();G.exports=function(m){V.init=A,V.$require=y,m.require=y},A(!0);function A(m){if(!(!L||!L.document)){V.set("packaged",m||y.packaged||G.packaged||L.define&&(void 0).packaged);var h={},l="",c=document.currentScript||document._currentScript,i=c&&c.ownerDocument||document;c&&c.src&&(l=c.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var u=i.getElementsByTagName("script"),d=0;d<u.length;d++){var g=u[d],v=g.src||g.getAttribute("src");if(v){for(var x=g.attributes,C=0,_=x.length;C<_;C++){var $=x[C];$.name.indexOf("data-ace-")===0&&(h[s($.name.replace(/^data-ace-/,""))]=$.value)}var S=v.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);S&&(l=S[1])}}l&&(h.base=h.base||l,h.packaged=!0),h.basePath=h.base,h.workerPath=h.workerPath||h.base,h.modePath=h.modePath||h.base,h.themePath=h.themePath||h.base,delete h.base;for(var O in h)typeof h[O]<"u"&&V.set(O,h[O])}}function s(m){return m.replace(/-(.)/g,function(h,l){return l.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(y,T,G){var V=function(A,s){return A.row-s.row||A.column-s.column},L=function(){function A(s,m,h,l){this.start={row:s,column:m},this.end={row:h,column:l}}return A.prototype.isEqual=function(s){return this.start.row===s.start.row&&this.end.row===s.end.row&&this.start.column===s.start.column&&this.end.column===s.end.column},A.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},A.prototype.contains=function(s,m){return this.compare(s,m)==0},A.prototype.compareRange=function(s){var m,h=s.end,l=s.start;return m=this.compare(h.row,h.column),m==1?(m=this.compare(l.row,l.column),m==1?2:m==0?1:0):m==-1?-2:(m=this.compare(l.row,l.column),m==-1?-1:m==1?42:0)},A.prototype.comparePoint=function(s){return this.compare(s.row,s.column)},A.prototype.containsRange=function(s){return this.comparePoint(s.start)==0&&this.comparePoint(s.end)==0},A.prototype.intersects=function(s){var m=this.compareRange(s);return m==-1||m==0||m==1},A.prototype.isEnd=function(s,m){return this.end.row==s&&this.end.column==m},A.prototype.isStart=function(s,m){return this.start.row==s&&this.start.column==m},A.prototype.setStart=function(s,m){typeof s=="object"?(this.start.column=s.column,this.start.row=s.row):(this.start.row=s,this.start.column=m)},A.prototype.setEnd=function(s,m){typeof s=="object"?(this.end.column=s.column,this.end.row=s.row):(this.end.row=s,this.end.column=m)},A.prototype.inside=function(s,m){return this.compare(s,m)==0?!(this.isEnd(s,m)||this.isStart(s,m)):!1},A.prototype.insideStart=function(s,m){return this.compare(s,m)==0?!this.isEnd(s,m):!1},A.prototype.insideEnd=function(s,m){return this.compare(s,m)==0?!this.isStart(s,m):!1},A.prototype.compare=function(s,m){return!this.isMultiLine()&&s===this.start.row?m<this.start.column?-1:m>this.end.column?1:0:s<this.start.row?-1:s>this.end.row?1:this.start.row===s?m>=this.start.column?0:-1:this.end.row===s?m<=this.end.column?0:1:0},A.prototype.compareStart=function(s,m){return this.start.row==s&&this.start.column==m?-1:this.compare(s,m)},A.prototype.compareEnd=function(s,m){return this.end.row==s&&this.end.column==m?1:this.compare(s,m)},A.prototype.compareInside=function(s,m){return this.end.row==s&&this.end.column==m?1:this.start.row==s&&this.start.column==m?-1:this.compare(s,m)},A.prototype.clipRows=function(s,m){if(this.end.row>m)var h={row:m+1,column:0};else if(this.end.row<s)var h={row:s,column:0};if(this.start.row>m)var l={row:m+1,column:0};else if(this.start.row<s)var l={row:s,column:0};return A.fromPoints(l||this.start,h||this.end)},A.prototype.extend=function(s,m){var h=this.compare(s,m);if(h==0)return this;if(h==-1)var l={row:s,column:m};else var c={row:s,column:m};return A.fromPoints(l||this.start,c||this.end)},A.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},A.prototype.isMultiLine=function(){return this.start.row!==this.end.row},A.prototype.clone=function(){return A.fromPoints(this.start,this.end)},A.prototype.collapseRows=function(){return this.end.column==0?new A(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new A(this.start.row,0,this.end.row,0)},A.prototype.toScreenRange=function(s){var m=s.documentToScreenPosition(this.start),h=s.documentToScreenPosition(this.end);return new A(m.row,m.column,h.row,h.column)},A.prototype.moveBy=function(s,m){this.start.row+=s,this.start.column+=m,this.end.row+=s,this.end.column+=m},A}();L.fromPoints=function(A,s){return new L(A.row,A.column,s.row,s.column)},L.comparePoints=V,L.comparePoints=function(A,s){return A.row-s.row||A.column-s.column},T.Range=L}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(y,T,G){/*! @license
	==========================================================================
	SproutCore -- JavaScript Application Framework
	copyright 2006-2009, Sprout Systems Inc., Apple Inc. and contributors.

	Permission is hereby granted, free of charge, to any person obtaining a
	copy of this software and associated documentation files (the "Software"),
	to deal in the Software without restriction, including without limitation
	the rights to use, copy, modify, merge, publish, distribute, sublicense,
	and/or sell copies of the Software, and to permit persons to whom the
	Software is furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
	FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
	DEALINGS IN THE SOFTWARE.

	SproutCore and the SproutCore logo are trademarks of Sprout Systems, Inc.

	For more information about SproutCore, visit http://www.sproutcore.com


	==========================================================================
	@license */var V=y("./oop"),L=function(){var A={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};A.PRINTABLE_KEYS[173]="-";var s,m;for(m in A.FUNCTION_KEYS)s=A.FUNCTION_KEYS[m].toLowerCase(),A[s]=parseInt(m,10);for(m in A.PRINTABLE_KEYS)s=A.PRINTABLE_KEYS[m].toLowerCase(),A[s]=parseInt(m,10);return V.mixin(A,A.MODIFIER_KEYS),V.mixin(A,A.PRINTABLE_KEYS),V.mixin(A,A.FUNCTION_KEYS),A.enter=A.return,A.escape=A.esc,A.del=A.delete,function(){for(var h=["cmd","ctrl","alt","shift"],l=Math.pow(2,h.length);l--;)A.KEY_MODS[l]=h.filter(function(c){return l&A.KEY_MODS[c]}).join("-")+"-"}(),A.KEY_MODS[0]="",A.KEY_MODS[-1]="input-",A}();V.mixin(T,L),T.default=T,T.keyCodeToString=function(A){var s=L[A];return typeof s!="string"&&(s=String.fromCharCode(A)),s.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(y,T,G){var V=y("./keys"),L=y("./useragent"),A=null,s=0,m;function h(){m=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){m={passive:!1}}})}catch{}}function l(){return m==null&&h(),m}function c(C,_,$){this.elem=C,this.type=_,this.callback=$}c.prototype.destroy=function(){u(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var i=T.addListener=function(C,_,$,S){C.addEventListener(_,$,l()),S&&S.$toDestroy.push(new c(C,_,$))},u=T.removeListener=function(C,_,$){C.removeEventListener(_,$,l())};T.stopEvent=function(C){return T.stopPropagation(C),T.preventDefault(C),!1},T.stopPropagation=function(C){C.stopPropagation&&C.stopPropagation()},T.preventDefault=function(C){C.preventDefault&&C.preventDefault()},T.getButton=function(C){return C.type=="dblclick"?0:C.type=="contextmenu"||L.isMac&&C.ctrlKey&&!C.altKey&&!C.shiftKey?2:C.button},T.capture=function(C,_,$){var S=C&&C.ownerDocument||document;function O(D){_&&_(D),$&&$(D),u(S,"mousemove",_),u(S,"mouseup",O),u(S,"dragstart",O)}return i(S,"mousemove",_),i(S,"mouseup",O),i(S,"dragstart",O),O},T.addMouseWheelListener=function(C,_,$){i(C,"wheel",function(S){var O=.15,D=S.deltaX||0,N=S.deltaY||0;switch(S.deltaMode){case S.DOM_DELTA_PIXEL:S.wheelX=D*O,S.wheelY=N*O;break;case S.DOM_DELTA_LINE:var M=15;S.wheelX=D*M,S.wheelY=N*M;break;case S.DOM_DELTA_PAGE:var k=150;S.wheelX=D*k,S.wheelY=N*k;break}_(S)},$)},T.addMultiMouseDownListener=function(C,_,$,S,O){var D=0,N,M,k,R={2:"dblclick",3:"tripleclick",4:"quadclick"};function F(H){if(T.getButton(H)!==0?D=0:H.detail>1?(D++,D>4&&(D=1)):D=1,L.isIE){var j=Math.abs(H.clientX-N)>5||Math.abs(H.clientY-M)>5;(!k||j)&&(D=1),k&&clearTimeout(k),k=setTimeout(function(){k=null},_[D-1]||600),D==1&&(N=H.clientX,M=H.clientY)}if(H._clicks=D,$[S]("mousedown",H),D>4)D=0;else if(D>1)return $[S](R[D],H)}Array.isArray(C)||(C=[C]),C.forEach(function(H){i(H,"mousedown",F,O)})};var d=function(C){return 0|(C.ctrlKey?1:0)|(C.altKey?2:0)|(C.shiftKey?4:0)|(C.metaKey?8:0)};T.getModifierString=function(C){return V.KEY_MODS[d(C)]};function g(C,_,$){var S=d(_);if(!L.isMac&&A){if(_.getModifierState&&(_.getModifierState("OS")||_.getModifierState("Win"))&&(S|=8),A.altGr)if((3&S)!=3)A.altGr=0;else return;if($===18||$===17){var O="location"in _?_.location:_.keyLocation;if($===17&&O===1)A[$]==1&&(s=_.timeStamp);else if($===18&&S===3&&O===2){var D=_.timeStamp-s;D<50&&(A.altGr=!0)}}}if($ in V.MODIFIER_KEYS&&($=-1),!S&&$===13){var O="location"in _?_.location:_.keyLocation;if(O===3&&(C(_,S,-$),_.defaultPrevented))return}if(L.isChromeOS&&S&8){if(C(_,S,$),_.defaultPrevented)return;S&=-9}return!S&&!($ in V.FUNCTION_KEYS)&&!($ in V.PRINTABLE_KEYS)?!1:C(_,S,$)}T.addCommandKeyListener=function(C,_,$){if(L.isOldGecko||L.isOpera&&!("KeyboardEvent"in window)){var S=null;i(C,"keydown",function(D){S=D.keyCode},$),i(C,"keypress",function(D){return g(_,D,S)},$)}else{var O=null;i(C,"keydown",function(D){A[D.keyCode]=(A[D.keyCode]||0)+1;var N=g(_,D,D.keyCode);return O=D.defaultPrevented,N},$),i(C,"keypress",function(D){O&&(D.ctrlKey||D.altKey||D.shiftKey||D.metaKey)&&(T.stopEvent(D),O=null)},$),i(C,"keyup",function(D){A[D.keyCode]=null},$),A||(v(),i(window,"focus",v))}};function v(){A=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!L.isOldIE){var x=1;T.nextTick=function(C,_){_=_||window;var $="zero-timeout-message-"+x++,S=function(O){O.data==$&&(T.stopPropagation(O),u(_,"message",S),C())};i(_,"message",S),_.postMessage($,"*")}}T.$idleBlocked=!1,T.onIdle=function(C,_){return setTimeout(function $(){T.$idleBlocked?setTimeout($,100):C()},_)},T.$idleBlockId=null,T.blockIdle=function(C){T.$idleBlockId&&clearTimeout(T.$idleBlockId),T.$idleBlocked=!0,T.$idleBlockId=setTimeout(function(){T.$idleBlocked=!1},C||100)},T.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),T.nextFrame?T.nextFrame=T.nextFrame.bind(window):T.nextFrame=function(C){setTimeout(C,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(y,T,G){var V;G.exports={lineMode:!1,pasteCancelled:function(){return V&&V>Date.now()-50?!0:V=!1},cancel:function(){V=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(y,T,G){var V=y("../lib/event"),L=y("../config").nls,A=y("../lib/useragent"),s=y("../lib/dom"),m=y("../lib/lang"),h=y("../clipboard"),l=A.isChrome<18,c=A.isIE,i=A.isChrome>63,u=400,d=y("../lib/keys"),g=d.KEY_MODS,v=A.isIOS,x=v?/\s/:/\n/,C=A.isMobile,_=function($,S){var O=s.createElement("textarea");O.className="ace_text-input",O.setAttribute("wrap","off"),O.setAttribute("autocorrect","off"),O.setAttribute("autocapitalize","off"),O.setAttribute("spellcheck",!1),O.style.opacity="0",$.insertBefore(O,$.firstChild);var D=!1,N=!1,M=!1,k=!1,R="";C||(O.style.fontSize="1px");var F=!1,H=!1,j="",P=0,ee=0,J=0,K=Number.MAX_SAFE_INTEGER,ae=Number.MIN_SAFE_INTEGER,Q=0;try{var he=document.activeElement===O}catch{}this.setNumberOfExtraLines=function(Re){if(K=Number.MAX_SAFE_INTEGER,ae=Number.MIN_SAFE_INTEGER,Re<0){Q=0;return}Q=Re},this.setAriaOptions=function(Re){if(Re.activeDescendant?(O.setAttribute("aria-haspopup","true"),O.setAttribute("aria-autocomplete",Re.inline?"both":"list"),O.setAttribute("aria-activedescendant",Re.activeDescendant)):(O.setAttribute("aria-haspopup","false"),O.setAttribute("aria-autocomplete","both"),O.removeAttribute("aria-activedescendant")),Re.role&&O.setAttribute("role",Re.role),Re.setLabel&&(O.setAttribute("aria-roledescription",L("editor")),S.session)){var ze=S.session.selection.cursor.row;O.setAttribute("aria-label",L("Cursor at row $0",[ze+1]))}},this.setAriaOptions({role:"textbox"}),V.addListener(O,"blur",function(Re){H||(S.onBlur(Re),he=!1)},S),V.addListener(O,"focus",function(Re){if(!H){if(he=!0,A.isEdge)try{if(!document.hasFocus())return}catch{}S.onFocus(Re),A.isEdge?setTimeout(Se):Se()}},S),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:S.renderer.enableKeyboardAccessibility}),R||i||this.$focusScroll=="browser")return O.focus({preventScroll:!0});var Re=O.style.top;O.style.position="fixed",O.style.top="0px";try{var ze=O.getBoundingClientRect().top!=0}catch{return}var We=[];if(ze)for(var ot=O.parentElement;ot&&ot.nodeType==1;)We.push(ot),ot.setAttribute("ace_nocontext",!0),!ot.parentElement&&ot.getRootNode?ot=ot.getRootNode().host:ot=ot.parentElement;O.focus({preventScroll:!0}),ze&&We.forEach(function(dt){dt.removeAttribute("ace_nocontext")}),setTimeout(function(){O.style.position="",O.style.top=="0px"&&(O.style.top=Re)},0)},this.blur=function(){O.blur()},this.isFocused=function(){return he},S.on("beforeEndOperation",function(){var Re=S.curOp,ze=Re&&Re.command&&Re.command.name;if(ze!="insertstring"){var We=ze&&(Re.docChanged||Re.selectionChanged);M&&We&&(j=O.value="",we()),Se()}});var ge=function(Re,ze){for(var We=ze,ot=1;ot<=Re-K&&ot<2*Q+1;ot++)We+=S.session.getLine(Re-ot).length+1;return We},Se=v?function(Re){if(!(!he||D&&!Re||k)){Re||(Re="");var ze=`
 ab`+Re+`cde fg
`;ze!=O.value&&(O.value=j=ze);var We=4,ot=4+(Re.length||(S.selection.isEmpty()?0:1));(P!=We||ee!=ot)&&O.setSelectionRange(We,ot),P=We,ee=ot}}:function(){if(!(M||k)&&!(!he&&!X)){M=!0;var Re=0,ze=0,We="";if(S.session){var ot=S.selection,dt=ot.getRange(),Ge=ot.cursor.row;Ge===ae+1?(K=ae+1,ae=K+2*Q):Ge===K-1?(ae=K-1,K=ae-2*Q):(Ge<K-1||Ge>ae+1)&&(K=Ge>Q?Ge-Q:0,ae=Ge>Q?Ge+Q:2*Q);for(var Xe=[],qe=K;qe<=ae;qe++)Xe.push(S.session.getLine(qe));if(We=Xe.join(`
`),Re=ge(dt.start.row,dt.start.column),ze=ge(dt.end.row,dt.end.column),dt.start.row<K){var gt=S.session.getLine(K-1);Re=dt.start.row<K-1?0:Re,ze+=gt.length+1,We=gt+`
`+We}else if(dt.end.row>ae){var ut=S.session.getLine(ae+1);ze=dt.end.row>ae+1?ut.length:dt.end.column,ze+=We.length+1,We=We+`
`+ut}else C&&Ge>0&&(We=`
`+We,ze+=1,Re+=1);We.length>u&&(Re<u&&ze<u?We=We.slice(0,u):(We=`
`,Re==ze?Re=ze=0:(Re=0,ze=1)));var tt=We+`

`;tt!=j&&(O.value=j=tt,P=ee=tt.length)}if(X&&(P=O.selectionStart,ee=O.selectionEnd),ee!=ze||P!=Re||O.selectionEnd!=ee)try{O.setSelectionRange(Re,ze),P=Re,ee=ze}catch{}M=!1}};this.resetSelection=Se,he&&S.onFocus();var ce=function(Re){return Re.selectionStart===0&&Re.selectionEnd>=j.length&&Re.value===j&&j&&Re.selectionEnd!==ee},ne=function(Re){M||(D?D=!1:ce(O)?(S.selectAll(),Se()):C&&O.selectionStart!=P&&Se())},fe=null;this.setInputHandler=function(Re){fe=Re},this.getInputHandler=function(){return fe};var X=!1,ye=function(Re,ze){if(X&&(X=!1),N)return Se(),Re&&S.onPaste(Re),N=!1,"";for(var We=O.selectionStart,ot=O.selectionEnd,dt=P,Ge=j.length-ee,Xe=Re,qe=Re.length-We,gt=Re.length-ot,ut=0;dt>0&&j[ut]==Re[ut];)ut++,dt--;for(Xe=Xe.slice(ut),ut=1;Ge>0&&j.length-ut>P-1&&j[j.length-ut]==Re[Re.length-ut];)ut++,Ge--;qe-=ut-1,gt-=ut-1;var tt=Xe.length-ut+1;if(tt<0&&(dt=-tt,tt=0),Xe=Xe.slice(0,tt),!ze&&!Xe&&!qe&&!dt&&!Ge&&!gt)return"";k=!0;var Ct=!1;return A.isAndroid&&Xe==". "&&(Xe="  ",Ct=!0),Xe&&!dt&&!Ge&&!qe&&!gt||F?S.onTextInput(Xe):S.onTextInput(Xe,{extendLeft:dt,extendRight:Ge,restoreStart:qe,restoreEnd:gt}),k=!1,j=Re,P=We,ee=ot,J=gt,Ct?`
`:Xe},Ce=function(Re){if(M)return ie();if(Re&&Re.inputType){if(Re.inputType=="historyUndo")return S.execCommand("undo");if(Re.inputType=="historyRedo")return S.execCommand("redo")}var ze=O.value,We=ye(ze,!0);(ze.length>u+100||x.test(We)||C&&P<1&&P==ee)&&Se()},$e=function(Re,ze,We){var ot=Re.clipboardData||window.clipboardData;if(!(!ot||l)){var dt=c||We?"Text":"text/plain";try{return ze?ot.setData(dt,ze)!==!1:ot.getData(dt)}catch(Ge){if(!We)return $e(Ge,ze,!0)}}},ke=function(Re,ze){var We=S.getCopyText();if(!We)return V.preventDefault(Re);$e(Re,We)?(v&&(Se(We),D=We,setTimeout(function(){D=!1},10)),ze?S.onCut():S.onCopy(),V.preventDefault(Re)):(D=!0,O.value=We,O.select(),setTimeout(function(){D=!1,Se(),ze?S.onCut():S.onCopy()}))},Ne=function(Re){ke(Re,!0)},Ve=function(Re){ke(Re,!1)},Oe=function(Re){var ze=$e(Re);h.pasteCancelled()||(typeof ze=="string"?(ze&&S.onPaste(ze,Re),A.isIE&&setTimeout(Se),V.preventDefault(Re)):(O.value="",N=!0))};V.addCommandKeyListener(O,S.onCommandKey.bind(S),S),V.addListener(O,"select",ne,S),V.addListener(O,"input",Ce,S),V.addListener(O,"cut",Ne,S),V.addListener(O,"copy",Ve,S),V.addListener(O,"paste",Oe,S),(!("oncut"in O)||!("oncopy"in O)||!("onpaste"in O))&&V.addListener($,"keydown",function(Re){if(!(A.isMac&&!Re.metaKey||!Re.ctrlKey))switch(Re.keyCode){case 67:Ve(Re);break;case 86:Oe(Re);break;case 88:Ne(Re);break}},S);var Fe=function(Re){if(!(M||!S.onCompositionStart||S.$readOnly)&&(M={},!F)){Re.data&&(M.useTextareaForIME=!1),setTimeout(ie,0),S._signal("compositionStart"),S.on("mousedown",se);var ze=S.getSelectionRange();ze.end.row=ze.start.row,ze.end.column=ze.start.column,M.markerRange=ze,M.selectionStart=P,S.onCompositionStart(M),M.useTextareaForIME?(j=O.value="",P=0,ee=0):(O.msGetInputContext&&(M.context=O.msGetInputContext()),O.getInputContext&&(M.context=O.getInputContext()))}},ie=function(){if(!(!M||!S.onCompositionUpdate||S.$readOnly)){if(F)return se();if(M.useTextareaForIME)S.onCompositionUpdate(O.value);else{var Re=O.value;ye(Re),M.markerRange&&(M.context&&(M.markerRange.start.column=M.selectionStart=M.context.compositionStartOffset),M.markerRange.end.column=M.markerRange.start.column+ee-M.selectionStart+J)}}},we=function(Re){!S.onCompositionEnd||S.$readOnly||(M=!1,S.onCompositionEnd(),S.off("mousedown",se),Re&&Ce())};function se(){H=!0,O.blur(),O.focus(),H=!1}var ue=m.delayedCall(ie,50).schedule.bind(null,null);function pe(Re){Re.keyCode==27&&O.value.length<O.selectionStart&&(M||(j=O.value),P=ee=-1,Se()),ue()}V.addListener(O,"compositionstart",Fe,S),V.addListener(O,"compositionupdate",ie,S),V.addListener(O,"keyup",pe,S),V.addListener(O,"keydown",ue,S),V.addListener(O,"compositionend",we,S),this.getElement=function(){return O},this.setCommandMode=function(Re){F=Re,O.readOnly=!1},this.setReadOnly=function(Re){F||(O.readOnly=Re)},this.setCopyWithEmptySelection=function(Re){},this.onContextMenu=function(Re){X=!0,Se(),S._emit("nativecontextmenu",{target:S,domEvent:Re}),this.moveToMouse(Re,!0)},this.moveToMouse=function(Re,ze){R||(R=O.style.cssText),O.style.cssText=(ze?"z-index:100000;":"")+(A.isIE?"opacity:0.1;":"")+"text-indent: -"+(P+ee)*S.renderer.characterWidth*.5+"px;";var We=S.container.getBoundingClientRect(),ot=s.computedStyle(S.container),dt=We.top+(parseInt(ot.borderTopWidth)||0),Ge=We.left+(parseInt(We.borderLeftWidth)||0),Xe=We.bottom-dt-O.clientHeight-2,qe=function(gt){s.translate(O,gt.clientX-Ge-2,Math.min(gt.clientY-dt-2,Xe))};qe(Re),Re.type=="mousedown"&&(S.renderer.$isMousePressed=!0,clearTimeout(le),A.isWin&&V.capture(S.container,qe,Te))},this.onContextMenuClose=Te;var le;function Te(){clearTimeout(le),le=setTimeout(function(){R&&(O.style.cssText=R,R=""),S.renderer.$isMousePressed=!1,S.renderer.$keepTextAreaAtCursor&&S.renderer.$moveTextAreaToCursor()},0)}var de=function(Re){S.textInput.onContextMenu(Re),Te()};V.addListener(O,"mouseup",de,S),V.addListener(O,"mousedown",function(Re){Re.preventDefault(),Te()},S),V.addListener(S.renderer.scroller,"contextmenu",de,S),V.addListener(O,"contextmenu",de,S),v&&Me($,S,O);function Me(Re,ze,We){var ot=null,dt=!1;We.addEventListener("keydown",function(Xe){ot&&clearTimeout(ot),dt=!0},!0),We.addEventListener("keyup",function(Xe){ot=setTimeout(function(){dt=!1},100)},!0);var Ge=function(Xe){if(document.activeElement===We&&!(dt||M||ze.$mouseHandler.isMousePressed)&&!D){var qe=We.selectionStart,gt=We.selectionEnd,ut=null,tt=0;if(qe==0?ut=d.up:qe==1?ut=d.home:gt>ee&&j[gt]==`
`?ut=d.end:qe<P&&j[qe-1]==" "?(ut=d.left,tt=g.option):qe<P||qe==P&&ee!=P&&qe==gt?ut=d.left:gt>ee&&j.slice(0,gt).split(`
`).length>2?ut=d.down:gt>ee&&j[gt-1]==" "?(ut=d.right,tt=g.option):(gt>ee||gt==ee&&ee!=P&&qe==gt)&&(ut=d.right),qe!==gt&&(tt|=g.shift),ut){var Ct=ze.onCommandKey({},tt,ut);if(!Ct&&ze.commands){ut=d.keyCodeToString(ut);var Gt=ze.commands.findKeyCommand(tt,ut);Gt&&ze.execCommand(Gt)}P=qe,ee=gt,Se("")}}};document.addEventListener("selectionchange",Ge),ze.on("destroy",function(){document.removeEventListener("selectionchange",Ge)})}this.destroy=function(){O.parentElement&&O.parentElement.removeChild(O)}};T.TextInput=_,T.$setUserAgentForTests=function($,S){C=$,v=S}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(y,T,G){var V=y("../lib/useragent"),L=0,A=550,s=function(){function l(c){c.$clickSelection=null;var i=c.editor;i.setDefaultHandler("mousedown",this.onMouseDown.bind(c)),i.setDefaultHandler("dblclick",this.onDoubleClick.bind(c)),i.setDefaultHandler("tripleclick",this.onTripleClick.bind(c)),i.setDefaultHandler("quadclick",this.onQuadClick.bind(c)),i.setDefaultHandler("mousewheel",this.onMouseWheel.bind(c));var u=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];u.forEach(function(d){c[d]=this[d]},this),c.selectByLines=this.extendSelectionBy.bind(c,"getLineRange"),c.selectByWords=this.extendSelectionBy.bind(c,"getWordRange")}return l.prototype.onMouseDown=function(c){var i=c.inSelection(),u=c.getDocumentPosition();this.mousedownEvent=c;var d=this.editor,g=c.getButton();if(g!==0){var v=d.getSelectionRange(),x=v.isEmpty();(x||g==1)&&d.selection.moveToPosition(u),g==2&&(d.textInput.onContextMenu(c.domEvent),V.isMozilla||c.preventDefault());return}if(this.mousedownEvent.time=Date.now(),i&&!d.isFocused()&&(d.focus(),this.$focusTimeout&&!this.$clickSelection&&!d.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(c);return}return this.captureMouse(c),this.startSelect(u,c.domEvent._clicks>1),c.preventDefault()},l.prototype.startSelect=function(c,i){c=c||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var u=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?u.selection.selectToPosition(c):i||u.selection.moveToPosition(c),i||this.select(),u.setStyle("ace_selecting"),this.setState("select"))},l.prototype.select=function(){var c,i=this.editor,u=i.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var d=this.$clickSelection.comparePoint(u);if(d==-1)c=this.$clickSelection.end;else if(d==1)c=this.$clickSelection.start;else{var g=h(this.$clickSelection,u);u=g.cursor,c=g.anchor}i.selection.setSelectionAnchor(c.row,c.column)}i.selection.selectToPosition(u),i.renderer.scrollCursorIntoView()},l.prototype.extendSelectionBy=function(c){var i,u=this.editor,d=u.renderer.screenToTextCoordinates(this.x,this.y),g=u.selection[c](d.row,d.column);if(this.$clickSelection){var v=this.$clickSelection.comparePoint(g.start),x=this.$clickSelection.comparePoint(g.end);if(v==-1&&x<=0)i=this.$clickSelection.end,(g.end.row!=d.row||g.end.column!=d.column)&&(d=g.start);else if(x==1&&v>=0)i=this.$clickSelection.start,(g.start.row!=d.row||g.start.column!=d.column)&&(d=g.end);else if(v==-1&&x==1)d=g.end,i=g.start;else{var C=h(this.$clickSelection,d);d=C.cursor,i=C.anchor}u.selection.setSelectionAnchor(i.row,i.column)}u.selection.selectToPosition(d),u.renderer.scrollCursorIntoView()},l.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},l.prototype.focusWait=function(){var c=m(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),i=Date.now();(c>L||i-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},l.prototype.onDoubleClick=function(c){var i=c.getDocumentPosition(),u=this.editor,d=u.session,g=d.getBracketRange(i);g?(g.isEmpty()&&(g.start.column--,g.end.column++),this.setState("select")):(g=u.selection.getWordRange(i.row,i.column),this.setState("selectByWords")),this.$clickSelection=g,this.select()},l.prototype.onTripleClick=function(c){var i=c.getDocumentPosition(),u=this.editor;this.setState("selectByLines");var d=u.getSelectionRange();d.isMultiLine()&&d.contains(i.row,i.column)?(this.$clickSelection=u.selection.getLineRange(d.start.row),this.$clickSelection.end=u.selection.getLineRange(d.end.row).end):this.$clickSelection=u.selection.getLineRange(i.row),this.select()},l.prototype.onQuadClick=function(c){var i=this.editor;i.selectAll(),this.$clickSelection=i.getSelectionRange(),this.setState("selectAll")},l.prototype.onMouseWheel=function(c){if(!c.getAccelKey()){c.getShiftKey()&&c.wheelY&&!c.wheelX&&(c.wheelX=c.wheelY,c.wheelY=0);var i=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var u=this.$lastScroll,d=c.domEvent.timeStamp,g=d-u.t,v=g?c.wheelX/g:u.vx,x=g?c.wheelY/g:u.vy;g<A&&(v=(v+u.vx)/2,x=(x+u.vy)/2);var C=Math.abs(v/x),_=!1;if(C>=1&&i.renderer.isScrollableBy(c.wheelX*c.speed,0)&&(_=!0),C<=1&&i.renderer.isScrollableBy(0,c.wheelY*c.speed)&&(_=!0),_)u.allowed=d;else if(d-u.allowed<A){var $=Math.abs(v)<=1.5*Math.abs(u.vx)&&Math.abs(x)<=1.5*Math.abs(u.vy);$?(_=!0,u.allowed=d):u.allowed=0}if(u.t=d,u.vx=v,u.vy=x,_)return i.renderer.scrollBy(c.wheelX*c.speed,c.wheelY*c.speed),c.stop()}},l}();s.prototype.selectEnd=s.prototype.selectByLinesEnd,s.prototype.selectAllEnd=s.prototype.selectByLinesEnd,s.prototype.selectByWordsEnd=s.prototype.selectByLinesEnd,T.DefaultHandlers=s;function m(l,c,i,u){return Math.sqrt(Math.pow(i-l,2)+Math.pow(u-c,2))}function h(l,c){if(l.start.row==l.end.row)var i=2*c.column-l.start.column-l.end.column;else if(l.start.row==l.end.row-1&&!l.start.column&&!l.end.column)var i=c.column-4;else var i=2*c.row-l.start.row-l.end.row;return i<0?{cursor:l.start,anchor:l.end}:{cursor:l.end,anchor:l.start}}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/range"],function(y,T,G){var V=this&&this.__extends||function(){var u=function(d,g){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,x){v.__proto__=x}||function(v,x){for(var C in x)Object.prototype.hasOwnProperty.call(x,C)&&(v[C]=x[C])},u(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");u(d,g);function v(){this.constructor=d}d.prototype=g===null?Object.create(g):(v.prototype=g.prototype,new v)}}(),L=this&&this.__values||function(u){var d=typeof Symbol=="function"&&Symbol.iterator,g=d&&u[d],v=0;if(g)return g.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&v>=u.length&&(u=void 0),{value:u&&u[v++],done:!u}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},A=y("./lib/dom"),s=y("./range").Range,m="ace_tooltip",h=function(){function u(d){this.isOpen=!1,this.$element=null,this.$parentNode=d}return u.prototype.$init=function(){return this.$element=A.createElement("div"),this.$element.className=m,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},u.prototype.getElement=function(){return this.$element||this.$init()},u.prototype.setText=function(d){this.getElement().textContent=d},u.prototype.setHtml=function(d){this.getElement().innerHTML=d},u.prototype.setPosition=function(d,g){this.getElement().style.left=d+"px",this.getElement().style.top=g+"px"},u.prototype.setClassName=function(d){A.addCssClass(this.getElement(),d)},u.prototype.setTheme=function(d){this.$element.className=m+" "+(d.isDark?"ace_dark ":"")+(d.cssClass||"")},u.prototype.show=function(d,g,v){d!=null&&this.setText(d),g!=null&&v!=null&&this.setPosition(g,v),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},u.prototype.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=m,this.isOpen=!1)},u.prototype.getHeight=function(){return this.getElement().offsetHeight},u.prototype.getWidth=function(){return this.getElement().offsetWidth},u.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},u}(),l=function(){function u(){this.popups=[]}return u.prototype.addPopup=function(d){this.popups.push(d),this.updatePopups()},u.prototype.removePopup=function(d){var g=this.popups.indexOf(d);g!==-1&&(this.popups.splice(g,1),this.updatePopups())},u.prototype.updatePopups=function(){var d,g,v,x;this.popups.sort(function(k,R){return R.priority-k.priority});var C=[];try{for(var _=L(this.popups),$=_.next();!$.done;$=_.next()){var S=$.value,O=!0;try{for(var D=(v=void 0,L(C)),N=D.next();!N.done;N=D.next()){var M=N.value;if(this.doPopupsOverlap(M,S)){O=!1;break}}}catch(k){v={error:k}}finally{try{N&&!N.done&&(x=D.return)&&x.call(D)}finally{if(v)throw v.error}}O?C.push(S):S.hide()}}catch(k){d={error:k}}finally{try{$&&!$.done&&(g=_.return)&&g.call(_)}finally{if(d)throw d.error}}},u.prototype.doPopupsOverlap=function(d,g){var v=d.getElement().getBoundingClientRect(),x=g.getElement().getBoundingClientRect();return v.left<x.right&&v.right>x.left&&v.top<x.bottom&&v.bottom>x.top},u}(),c=new l;T.popupManager=c,T.Tooltip=h;var i=function(u){V(d,u);function d(g){g===void 0&&(g=document.body);var v=u.call(this,g)||this;v.timeout=void 0,v.lastT=0,v.idleTime=350,v.lastEvent=void 0,v.onMouseOut=v.onMouseOut.bind(v),v.onMouseMove=v.onMouseMove.bind(v),v.waitForHover=v.waitForHover.bind(v),v.hide=v.hide.bind(v);var x=v.getElement();return x.style.whiteSpace="pre-wrap",x.style.pointerEvents="auto",x.addEventListener("mouseout",v.onMouseOut),x.tabIndex=-1,x.addEventListener("blur",(function(){x.contains(document.activeElement)||this.hide()}).bind(v)),v}return d.prototype.addToEditor=function(g){g.on("mousemove",this.onMouseMove),g.on("mousedown",this.hide),g.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},d.prototype.removeFromEditor=function(g){g.off("mousemove",this.onMouseMove),g.off("mousedown",this.hide),g.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},d.prototype.onMouseMove=function(g,v){this.lastEvent=g,this.lastT=Date.now();var x=v.$mouseHandler.isMousePressed;if(this.isOpen){var C=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(C.row,C.column)||x||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||x||(this.lastEvent=g,this.timeout=setTimeout(this.waitForHover,this.idleTime))},d.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var g=Date.now()-this.lastT;if(this.idleTime-g>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-g);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},d.prototype.isOutsideOfText=function(g){var v=g.editor,x=g.getDocumentPosition(),C=v.session.getLine(x.row);if(x.column==C.length){var _=v.renderer.pixelToScreenCoordinates(g.clientX,g.clientY),$=v.session.documentToScreenPosition(x.row,x.column);if($.column!=_.column||$.row!=_.row)return!0}return!1},d.prototype.setDataProvider=function(g){this.$gatherData=g},d.prototype.showForRange=function(g,v,x,C){if(!(C&&C!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var _=g.renderer;this.isOpen||(c.addPopup(this),this.$registerCloseEvents(),this.setTheme(_.theme)),this.isOpen=!0,this.addMarker(v,g.session),this.range=s.fromPoints(v.start,v.end);var $=this.getElement();$.innerHTML="",$.appendChild(x),$.style.display="block";var S=_.textToScreenCoordinates(v.start.row,v.start.column),O=$.clientHeight,D=_.scroller.getBoundingClientRect(),N=!0;S.pageY-O<0&&(N=!1),N?S.pageY-=O:S.pageY+=_.lineHeight,$.style.maxWidth=D.width-(S.pageX-D.left)+"px",this.setPosition(S.pageX,S.pageY)}},d.prototype.addMarker=function(g,v){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=v,this.marker=v&&v.addMarker(g,"ace_highlight-marker","text")},d.prototype.hide=function(g){!g&&document.activeElement==this.getElement()||g&&g.target&&(g.type!="keydown"||g.ctrlKey||g.metaKey)&&this.$element.contains(g.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,c.removePopup(this)))},d.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("mousewheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},d.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("mousewheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},d.prototype.onMouseOut=function(g){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!g.relatedTarget||g.relatedTarget==this.getElement()||g&&g.currentTarget.contains(g.relatedTarget)||g.relatedTarget.classList.contains("ace_content")||this.hide())},d}(h);T.HoverTooltip=i}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],function(y,T,G){var V=this&&this.__extends||function(){var i=function(u,d){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&(g[x]=v[x])},i(u,d)};return function(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");i(u,d);function g(){this.constructor=u}u.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}(),L=this&&this.__values||function(i){var u=typeof Symbol=="function"&&Symbol.iterator,d=u&&i[u],g=0;if(d)return d.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&g>=i.length&&(i=void 0),{value:i&&i[g++],done:!i}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")},A=y("../lib/dom"),s=y("../lib/event"),m=y("../tooltip").Tooltip,h=y("../config").nls;function l(i){var u=i.editor,d=u.renderer.$gutterLayer,g=new c(u);i.editor.setDefaultHandler("guttermousedown",function(S){if(!(!u.isFocused()||S.getButton()!=0)){var O=d.getRegion(S);if(O!="foldWidgets"){var D=S.getDocumentPosition().row,N=u.session.selection;if(S.getShiftKey())N.selectTo(D,0);else{if(S.domEvent.detail==2)return u.selectAll(),S.preventDefault();i.$clickSelection=u.selection.getLineRange(D)}return i.setState("selectByLines"),i.captureMouse(S),S.preventDefault()}}});var v,x;function C(){var S=x.getDocumentPosition().row,O=u.session.getLength();if(S==O){var D=u.renderer.pixelToScreenCoordinates(0,x.y).row,N=x.$pos;if(D>u.session.documentToScreenRow(N.row,N.column))return _()}if(g.showTooltip(S),!!g.isOpen)if(u.on("mousewheel",_),i.$tooltipFollowsMouse)$(x);else{var M=x.getGutterRow(),k=d.$lines.get(M);if(k){var R=k.element.querySelector(".ace_gutter_annotation"),F=R.getBoundingClientRect(),H=g.getElement().style;H.left=F.right+"px",H.top=F.bottom+"px"}else $(x)}}function _(){v&&(v=clearTimeout(v)),g.isOpen&&(g.hideTooltip(),u.off("mousewheel",_))}function $(S){g.setPosition(S.x,S.y)}i.editor.setDefaultHandler("guttermousemove",function(S){var O=S.domEvent.target||S.domEvent.srcElement;if(A.hasCssClass(O,"ace_fold-widget"))return _();g.isOpen&&i.$tooltipFollowsMouse&&$(S),x=S,!v&&(v=setTimeout(function(){v=null,x&&!i.isMousePressed?C():_()},50))}),s.addListener(u.renderer.$gutter,"mouseout",function(S){x=null,!(!g.isOpen||v)&&(v=setTimeout(function(){v=null,_()},50))},u),u.on("changeSession",_),u.on("input",_)}T.GutterHandler=l;var c=function(i){V(u,i);function u(d){var g=i.call(this,d.container)||this;return g.editor=d,g}return u.prototype.setPosition=function(d,g){var v=window.innerWidth||document.documentElement.clientWidth,x=window.innerHeight||document.documentElement.clientHeight,C=this.getWidth(),_=this.getHeight();d+=15,g+=15,d+C>v&&(d-=d+C-v),g+_>x&&(g-=20+_),m.prototype.setPosition.call(this,d,g)},Object.defineProperty(u,"annotationLabels",{get:function(){return{error:{singular:h("error"),plural:h("errors")},warning:{singular:h("warning"),plural:h("warnings")},info:{singular:h("information message"),plural:h("information messages")}}},enumerable:!1,configurable:!0}),u.prototype.showTooltip=function(d){var g=this.editor.renderer.$gutterLayer,v=g.$annotations[d],x;v?x={text:Array.from(v.text),type:Array.from(v.type)}:x={text:[],type:[]};var C=g.session.getFoldLine(d);if(C&&g.$showFoldedAnnotations){for(var _={error:[],warning:[],info:[]},$,S=d+1;S<=C.end.row;S++)if(g.$annotations[S])for(var O=0;O<g.$annotations[S].text.length;O++){var D=g.$annotations[S].type[O];if(_[D].push(g.$annotations[S].text[O]),D==="error"){$="error_fold";continue}if(D==="warning"){$="warning_fold";continue}}if($==="error_fold"||$==="warning_fold"){var N="".concat(u.annotationsToSummaryString(_)," in folded code.");x.text.push(N),x.type.push($)}}if(x.text.length===0)return this.hide();for(var M={error:[],warning:[],info:[]},k=g.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",S=0;S<x.text.length;S++){var R="<span class='ace_".concat(x.type[S]," ").concat(k,"' aria-label='").concat(u.annotationLabels[x.type[S].replace("_fold","")].singular,"' role=img> </span> ").concat(x.text[S]);M[x.type[S].replace("_fold","")].push(R)}var F=[].concat(M.error,M.warning,M.info).join("<br>");this.setHtml(F),this.$element.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},u.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},u.annotationsToSummaryString=function(d){var g,v,x=[],C=["error","warning","info"];try{for(var _=L(C),$=_.next();!$.done;$=_.next()){var S=$.value;if(d[S].length){var O=d[S].length===1?u.annotationLabels[S].singular:u.annotationLabels[S].plural;x.push("".concat(d[S].length," ").concat(O))}}}catch(D){g={error:D}}finally{try{$&&!$.done&&(v=_.return)&&v.call(_)}finally{if(g)throw g.error}}return x.join(", ")},u}(m);T.GutterTooltip=c}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(y,T,G){var V=y("../lib/event"),L=y("../lib/useragent"),A=function(){function s(m,h){this.domEvent=m,this.editor=h,this.x=this.clientX=m.clientX,this.y=this.clientY=m.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return s.prototype.stopPropagation=function(){V.stopPropagation(this.domEvent),this.propagationStopped=!0},s.prototype.preventDefault=function(){V.preventDefault(this.domEvent),this.defaultPrevented=!0},s.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},s.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},s.prototype.getGutterRow=function(){var m=this.getDocumentPosition().row,h=this.editor.session.documentToScreenRow(m,0),l=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return h-l},s.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var m=this.editor,h=m.getSelectionRange();if(h.isEmpty())this.$inSelection=!1;else{var l=this.getDocumentPosition();this.$inSelection=h.contains(l.row,l.column)}return this.$inSelection},s.prototype.getButton=function(){return V.getButton(this.domEvent)},s.prototype.getShiftKey=function(){return this.domEvent.shiftKey},s.prototype.getAccelKey=function(){return L.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},s}();T.MouseEvent=A}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(y,T,G){var V=y("../lib/dom"),L=y("../lib/event"),A=y("../lib/useragent"),s=200,m=200,h=5;function l(i){var u=i.editor,d=V.createElement("div");d.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",d.textContent=" ";var g=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];g.forEach(function(ge){i[ge]=this[ge]},this),u.on("mousedown",this.onMouseDown.bind(i));var v=u.container,x,C,_,$,S,O,D=0,N,M,k,R,F;this.onDragStart=function(ge){if(this.cancelDrag||!v.draggable){var Se=this;return setTimeout(function(){Se.startSelect(),Se.captureMouse(ge)},0),ge.preventDefault()}S=u.getSelectionRange();var ce=ge.dataTransfer;ce.effectAllowed=u.getReadOnly()?"copy":"copyMove",u.container.appendChild(d),ce.setDragImage&&ce.setDragImage(d,0,0),setTimeout(function(){u.container.removeChild(d)}),ce.clearData(),ce.setData("Text",u.session.getTextRange()),M=!0,this.setState("drag")},this.onDragEnd=function(ge){if(v.draggable=!1,M=!1,this.setState(null),!u.getReadOnly()){var Se=ge.dataTransfer.dropEffect;!N&&Se=="move"&&u.session.remove(u.getSelectionRange()),u.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(ge){if(!(u.getReadOnly()||!Q(ge.dataTransfer)))return C=ge.clientX,_=ge.clientY,x||ee(),D++,ge.dataTransfer.dropEffect=N=he(ge),L.preventDefault(ge)},this.onDragOver=function(ge){if(!(u.getReadOnly()||!Q(ge.dataTransfer)))return C=ge.clientX,_=ge.clientY,x||(ee(),D++),K!==null&&(K=null),ge.dataTransfer.dropEffect=N=he(ge),L.preventDefault(ge)},this.onDragLeave=function(ge){if(D--,D<=0&&x)return J(),N=null,L.preventDefault(ge)},this.onDrop=function(ge){if(O){var Se=ge.dataTransfer;if(M)switch(N){case"move":S.contains(O.row,O.column)?S={start:O,end:O}:S=u.moveText(S,O);break;case"copy":S=u.moveText(S,O,!0);break}else{var ce=Se.getData("Text");S={start:O,end:u.session.insert(O,ce)},u.focus(),N=null}return J(),L.preventDefault(ge)}},L.addListener(v,"dragstart",this.onDragStart.bind(i),u),L.addListener(v,"dragend",this.onDragEnd.bind(i),u),L.addListener(v,"dragenter",this.onDragEnter.bind(i),u),L.addListener(v,"dragover",this.onDragOver.bind(i),u),L.addListener(v,"dragleave",this.onDragLeave.bind(i),u),L.addListener(v,"drop",this.onDrop.bind(i),u);function H(ge,Se){var ce=Date.now(),ne=!Se||ge.row!=Se.row,fe=!Se||ge.column!=Se.column;if(!R||ne||fe)u.moveCursorToPosition(ge),R=ce,F={x:C,y:_};else{var X=c(F.x,F.y,C,_);X>h?R=null:ce-R>=m&&(u.renderer.scrollCursorIntoView(),R=null)}}function j(ge,Se){var ce=Date.now(),ne=u.renderer.layerConfig.lineHeight,fe=u.renderer.layerConfig.characterWidth,X=u.renderer.scroller.getBoundingClientRect(),ye={x:{left:C-X.left,right:X.right-C},y:{top:_-X.top,bottom:X.bottom-_}},Ce=Math.min(ye.x.left,ye.x.right),$e=Math.min(ye.y.top,ye.y.bottom),ke={row:ge.row,column:ge.column};Ce/fe<=2&&(ke.column+=ye.x.left<ye.x.right?-3:2),$e/ne<=1&&(ke.row+=ye.y.top<ye.y.bottom?-1:1);var Ne=ge.row!=ke.row,Ve=ge.column!=ke.column,Oe=!Se||ge.row!=Se.row;Ne||Ve&&!Oe?k?ce-k>=s&&u.renderer.scrollCursorIntoView(ke):k=ce:k=null}function P(){var ge=O;O=u.renderer.screenToTextCoordinates(C,_),H(O,ge),j(O,ge)}function ee(){S=u.selection.toOrientedRange(),x=u.session.addMarker(S,"ace_selection",u.getSelectionStyle()),u.clearSelection(),u.isFocused()&&u.renderer.$cursorLayer.setBlinking(!1),clearInterval($),P(),$=setInterval(P,20),D=0,L.addListener(document,"mousemove",ae)}function J(){clearInterval($),u.session.removeMarker(x),x=null,u.selection.fromOrientedRange(S),u.isFocused()&&!M&&u.$resetCursorStyle(),S=null,O=null,D=0,k=null,R=null,L.removeListener(document,"mousemove",ae)}var K=null;function ae(){K==null&&(K=setTimeout(function(){K!=null&&x&&J()},20))}function Q(ge){var Se=ge.types;return!Se||Array.prototype.some.call(Se,function(ce){return ce=="text/plain"||ce=="Text"})}function he(ge){var Se=["copy","copymove","all","uninitialized"],ce=["move","copymove","linkmove","all","uninitialized"],ne=A.isMac?ge.altKey:ge.ctrlKey,fe="uninitialized";try{fe=ge.dataTransfer.effectAllowed.toLowerCase()}catch{}var X="none";return ne&&Se.indexOf(fe)>=0?X="copy":ce.indexOf(fe)>=0?X="move":Se.indexOf(fe)>=0&&(X="copy"),X}}(function(){this.dragWait=function(){var i=Date.now()-this.mousedownEvent.time;i>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var i=this.editor.container;i.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(i){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var i=this.editor,u=i.container;u.draggable=!0,i.renderer.$cursorLayer.setBlinking(!1),i.setStyle("ace_dragging");var d=A.isWin?"default":"move";i.renderer.setCursorStyle(d),this.setState("dragReady")},this.onMouseDrag=function(i){var u=this.editor.container;if(A.isIE&&this.state=="dragReady"){var d=c(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);d>3&&u.dragDrop()}if(this.state==="dragWait"){var d=c(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);d>0&&(u.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(i){if(this.$dragEnabled){this.mousedownEvent=i;var u=this.editor,d=i.inSelection(),g=i.getButton(),v=i.domEvent.detail||1;if(v===1&&g===0&&d){if(i.editor.inMultiSelectMode&&(i.getAccelKey()||i.getShiftKey()))return;this.mousedownEvent.time=Date.now();var x=i.domEvent.target||i.domEvent.srcElement;if("unselectable"in x&&(x.unselectable="on"),u.getDragDelay()){if(A.isWebKit){this.cancelDrag=!0;var C=u.container;C.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(i,this.onMouseDrag.bind(this)),i.defaultPrevented=!0}}}}).call(l.prototype);function c(i,u,d,g){return Math.sqrt(Math.pow(d-i,2)+Math.pow(g-u,2))}T.DragdropHandler=l}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(y,T,G){var V=y("./mouse_event").MouseEvent,L=y("../lib/event"),A=y("../lib/dom");T.addTouchListeners=function(s,m){var h="scroll",l,c,i,u,d,g,v=0,x,C=0,_=0,$=0,S,O;function D(){var H=window.navigator&&window.navigator.clipboard,j=!1,P=function(){var J=m.getCopyText(),K=m.session.getUndoManager().hasUndo();O.replaceChild(A.buildDom(j?["span",!J&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],J&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],J&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],H&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],K&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),O.firstChild)},ee=function(J){var K=J.target.getAttribute("action");if(K=="more"||!j)return j=!j,P();K=="paste"?H.readText().then(function(ae){m.execCommand(K,ae)}):K&&((K=="cut"||K=="copy")&&(H?H.writeText(m.getCopyText()):document.execCommand("copy")),m.execCommand(K)),O.firstChild.style.display="none",j=!1,K!="openCommandPallete"&&m.focus()};O=A.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(J){h="menu",J.stopPropagation(),J.preventDefault(),m.textInput.focus()},ontouchend:function(J){J.stopPropagation(),J.preventDefault(),ee(J)},onclick:ee},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],m.container)}function N(){O||D();var H=m.selection.cursor,j=m.renderer.textToScreenCoordinates(H.row,H.column),P=m.renderer.textToScreenCoordinates(0,0).pageX,ee=m.renderer.scrollLeft,J=m.container.getBoundingClientRect();O.style.top=j.pageY-J.top-3+"px",j.pageX-J.left<J.width-70?(O.style.left="",O.style.right="10px"):(O.style.right="",O.style.left=P+ee-J.left+"px"),O.style.display="",O.firstChild.style.display="none",m.on("input",M)}function M(H){O&&(O.style.display="none"),m.off("input",M)}function k(){d=null,clearTimeout(d);var H=m.selection.getRange(),j=H.contains(x.row,x.column);(H.isEmpty()||!j)&&(m.selection.moveToPosition(x),m.selection.selectWord()),h="wait",N()}function R(){d=null,clearTimeout(d),m.selection.moveToPosition(x);var H=C>=2?m.selection.getLineRange(x.row):m.session.getBracketRange(x);H&&!H.isEmpty()?m.selection.setRange(H):m.selection.selectWord(),h="wait"}L.addListener(s,"contextmenu",function(H){if(S){var j=m.textInput.getElement();j.focus()}},m),L.addListener(s,"touchstart",function(H){var j=H.touches;if(d||j.length>1){clearTimeout(d),d=null,i=-1,h="zoom";return}S=m.$mouseHandler.isMousePressed=!0;var P=m.renderer.layerConfig.lineHeight,ee=m.renderer.layerConfig.lineHeight,J=H.timeStamp;u=J;var K=j[0],ae=K.clientX,Q=K.clientY;Math.abs(l-ae)+Math.abs(c-Q)>P&&(i=-1),l=H.clientX=ae,c=H.clientY=Q,_=$=0;var he=new V(H,m);if(x=he.getDocumentPosition(),J-i<500&&j.length==1&&!v)C++,H.preventDefault(),H.button=0,R();else{C=0;var ge=m.selection.cursor,Se=m.selection.isEmpty()?ge:m.selection.anchor,ce=m.renderer.$cursorLayer.getPixelPosition(ge,!0),ne=m.renderer.$cursorLayer.getPixelPosition(Se,!0),fe=m.renderer.scroller.getBoundingClientRect(),X=m.renderer.layerConfig.offset,ye=m.renderer.scrollLeft,Ce=function(Ne,Ve){return Ne=Ne/ee,Ve=Ve/P-.75,Ne*Ne+Ve*Ve};if(H.clientX<fe.left){h="zoom";return}var $e=Ce(H.clientX-fe.left-ce.left+ye,H.clientY-fe.top-ce.top+X),ke=Ce(H.clientX-fe.left-ne.left+ye,H.clientY-fe.top-ne.top+X);$e<3.5&&ke<3.5&&(h=$e>ke?"cursor":"anchor"),ke<3.5?h="anchor":$e<3.5?h="cursor":h="scroll",d=setTimeout(k,450)}i=J},m),L.addListener(s,"touchend",function(H){S=m.$mouseHandler.isMousePressed=!1,g&&clearInterval(g),h=="zoom"?(h="",v=0):d?(m.selection.moveToPosition(x),v=0,N()):h=="scroll"?(F(),M()):N(),clearTimeout(d),d=null},m),L.addListener(s,"touchmove",function(H){d&&(clearTimeout(d),d=null);var j=H.touches;if(!(j.length>1||h=="zoom")){var P=j[0],ee=l-P.clientX,J=c-P.clientY;if(h=="wait")if(ee*ee+J*J>4)h="cursor";else return H.preventDefault();l=P.clientX,c=P.clientY,H.clientX=P.clientX,H.clientY=P.clientY;var K=H.timeStamp,ae=K-u;if(u=K,h=="scroll"){var Q=new V(H,m);Q.speed=1,Q.wheelX=ee,Q.wheelY=J,10*Math.abs(ee)<Math.abs(J)&&(ee=0),10*Math.abs(J)<Math.abs(ee)&&(J=0),ae!=0&&(_=ee/ae,$=J/ae),m._emit("mousewheel",Q),Q.propagationStopped||(_=$=0)}else{var he=new V(H,m),ge=he.getDocumentPosition();h=="cursor"?m.selection.moveCursorToPosition(ge):h=="anchor"&&m.selection.setSelectionAnchor(ge.row,ge.column),m.renderer.scrollCursorIntoView(ge),H.preventDefault()}}},m);function F(){v+=60,g=setInterval(function(){v--<=0&&(clearInterval(g),g=null),Math.abs(_)<.01&&(_=0),Math.abs($)<.01&&($=0),v<20&&(_=.9*_),v<20&&($=.9*$);var H=m.session.getScrollTop();m.renderer.scrollBy(10*_,10*$),H==m.session.getScrollTop()&&(v=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(y,T,G){var V=y("../lib/event"),L=y("../lib/useragent"),A=y("./default_handlers").DefaultHandlers,s=y("./default_gutter_handler").GutterHandler,m=y("./mouse_event").MouseEvent,h=y("./dragdrop_handler").DragdropHandler,l=y("./touch_handler").addTouchListeners,c=y("../config"),i=function(){function u(d){var g=this;this.editor=d,new A(this),new s(this),new h(this);var v=function(_){var $=!document.hasFocus||!document.hasFocus()||!d.isFocused()&&document.activeElement==(d.textInput&&d.textInput.getElement());$&&window.focus(),d.focus(),setTimeout(function(){d.isFocused()||d.focus()})},x=d.renderer.getMouseEventTarget();V.addListener(x,"click",this.onMouseEvent.bind(this,"click"),d),V.addListener(x,"mousemove",this.onMouseMove.bind(this,"mousemove"),d),V.addMultiMouseDownListener([x,d.renderer.scrollBarV&&d.renderer.scrollBarV.inner,d.renderer.scrollBarH&&d.renderer.scrollBarH.inner,d.textInput&&d.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",d),V.addMouseWheelListener(d.container,this.onMouseWheel.bind(this,"mousewheel"),d),l(d.container,d);var C=d.renderer.$gutter;V.addListener(C,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),d),V.addListener(C,"click",this.onMouseEvent.bind(this,"gutterclick"),d),V.addListener(C,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),d),V.addListener(C,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),d),V.addListener(x,"mousedown",v,d),V.addListener(C,"mousedown",v,d),L.isIE&&d.renderer.scrollBarV&&(V.addListener(d.renderer.scrollBarV.element,"mousedown",v,d),V.addListener(d.renderer.scrollBarH.element,"mousedown",v,d)),d.on("mousemove",function(_){if(!(g.state||g.$dragDelay||!g.$dragEnabled)){var $=d.renderer.screenToTextCoordinates(_.x,_.y),S=d.session.selection.getRange(),O=d.renderer;!S.isEmpty()&&S.insideStart($.row,$.column)?O.setCursorStyle("default"):O.setCursorStyle("")}},d)}return u.prototype.onMouseEvent=function(d,g){this.editor.session&&this.editor._emit(d,new m(g,this.editor))},u.prototype.onMouseMove=function(d,g){var v=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!v||!v.length||this.editor._emit(d,new m(g,this.editor))},u.prototype.onMouseWheel=function(d,g){var v=new m(g,this.editor);v.speed=this.$scrollSpeed*2,v.wheelX=g.wheelX,v.wheelY=g.wheelY,this.editor._emit(d,v)},u.prototype.setState=function(d){this.state=d},u.prototype.captureMouse=function(d,g){this.x=d.x,this.y=d.y,this.isMousePressed=!0;var v=this.editor,x=this.editor.renderer;x.$isMousePressed=!0;var C=this,_=function(N){if(N){if(L.isWebKit&&!N.which&&C.releaseMouse)return C.releaseMouse();C.x=N.clientX,C.y=N.clientY,g&&g(N),C.mouseEvent=new m(N,C.editor),C.$mouseMoved=!0}},$=function(N){v.off("beforeEndOperation",O),clearInterval(D),v.session&&S(),C[C.state+"End"]&&C[C.state+"End"](N),C.state="",C.isMousePressed=x.$isMousePressed=!1,x.$keepTextAreaAtCursor&&x.$moveTextAreaToCursor(),C.$onCaptureMouseMove=C.releaseMouse=null,N&&C.onMouseEvent("mouseup",N),v.endOperation()},S=function(){C[C.state]&&C[C.state](),C.$mouseMoved=!1};if(L.isOldIE&&d.domEvent.type=="dblclick")return setTimeout(function(){$(d)});var O=function(N){C.releaseMouse&&v.curOp.command.name&&v.curOp.selectionChanged&&(C[C.state+"End"]&&C[C.state+"End"](),C.state="",C.releaseMouse())};v.on("beforeEndOperation",O),v.startOperation({command:{name:"mouse"}}),C.$onCaptureMouseMove=_,C.releaseMouse=V.capture(this.editor.container,_,$);var D=setInterval(S,20)},u.prototype.cancelContextMenu=function(){var d=(function(g){g&&g.domEvent&&g.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",d),g&&g.domEvent&&V.stopEvent(g.domEvent))}).bind(this);setTimeout(d,10),this.editor.on("nativecontextmenu",d)},u.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},u}();i.prototype.releaseMouse=null,c.defineOptions(i.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:L.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),T.MouseHandler=i}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(y,T,G){var V=y("../lib/dom"),L=function(){function A(s){s.on("click",function(m){var h=m.getDocumentPosition(),l=s.session,c=l.getFoldAt(h.row,h.column,1);c&&(m.getAccelKey()?l.removeFold(c):l.expandFold(c),m.stop());var i=m.domEvent&&m.domEvent.target;i&&V.hasCssClass(i,"ace_inline_button")&&V.hasCssClass(i,"ace_toggle_wrap")&&(l.setOption("wrap",!l.getUseWrapMode()),s.renderer.scrollCursorIntoView())}),s.on("gutterclick",function(m){var h=s.renderer.$gutterLayer.getRegion(m);if(h=="foldWidgets"){var l=m.getDocumentPosition().row,c=s.session;c.foldWidgets&&c.foldWidgets[l]&&s.session.onFoldWidgetClick(l,m),s.isFocused()||s.focus(),m.stop()}}),s.on("gutterdblclick",function(m){var h=s.renderer.$gutterLayer.getRegion(m);if(h=="foldWidgets"){var l=m.getDocumentPosition().row,c=s.session,i=c.getParentFoldRangeData(l,!0),u=i.range||i.firstRange;if(u){l=u.start.row;var d=c.getFoldAt(l,c.getLine(l).length,1);d?c.removeFold(d):(c.addFold("...",u),s.renderer.scrollCursorIntoView({row:u.start.row,column:0}))}m.stop()}})}return A}();T.FoldHandler=L}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(y,T,G){var V=y("../lib/keys"),L=y("../lib/event"),A=function(){function s(m){this.$editor=m,this.$data={editor:m},this.$handlers=[],this.setDefaultHandler(m.commands)}return s.prototype.setDefaultHandler=function(m){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=m,this.addKeyboardHandler(m,0)},s.prototype.setKeyboardHandler=function(m){var h=this.$handlers;if(h[h.length-1]!=m){for(;h[h.length-1]&&h[h.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(h[h.length-1]);this.addKeyboardHandler(m,1)}},s.prototype.addKeyboardHandler=function(m,h){if(m){typeof m=="function"&&!m.handleKeyboard&&(m.handleKeyboard=m);var l=this.$handlers.indexOf(m);l!=-1&&this.$handlers.splice(l,1),h==null?this.$handlers.push(m):this.$handlers.splice(h,0,m),l==-1&&m.attach&&m.attach(this.$editor)}},s.prototype.removeKeyboardHandler=function(m){var h=this.$handlers.indexOf(m);return h==-1?!1:(this.$handlers.splice(h,1),m.detach&&m.detach(this.$editor),!0)},s.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},s.prototype.getStatusText=function(){var m=this.$data,h=m.editor;return this.$handlers.map(function(l){return l.getStatusText&&l.getStatusText(h,m)||""}).filter(Boolean).join(" ")},s.prototype.$callKeyboardHandlers=function(m,h,l,c){for(var i,u=!1,d=this.$editor.commands,g=this.$handlers.length;g--&&(i=this.$handlers[g].handleKeyboard(this.$data,m,h,l,c),!(!(!i||!i.command)&&(i.command=="null"?u=!0:u=d.exec(i.command,this.$editor,i.args,c),u&&c&&m!=-1&&i.passEvent!=!0&&i.command.passEvent!=!0&&L.stopEvent(c),u))););return!u&&m==-1&&(i={command:"insertstring"},u=d.exec("insertstring",this.$editor,h)),u&&this.$editor._signal&&this.$editor._signal("keyboardActivity",i),u},s.prototype.onCommandKey=function(m,h,l){var c=V.keyCodeToString(l);return this.$callKeyboardHandlers(h,c,l,m)},s.prototype.onTextInput=function(m){return this.$callKeyboardHandlers(-1,m)},s}();T.KeyBinding=A}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(y,T,G){var V=0,L=0,A=!1,s=!1,m=!1,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],l=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],c=0,i=1,u=0,d=1,g=2,v=3,x=4,C=5,_=6,$=7,S=8,O=9,D=10,N=11,M=12,k=13,R=14,F=15,H=16,j=17,P=18,ee=[P,P,P,P,P,P,P,P,P,_,C,_,S,C,P,P,P,P,P,P,P,P,P,P,P,P,P,P,C,C,C,_,S,x,x,N,N,N,x,x,x,x,x,D,O,D,O,O,g,g,g,g,g,g,g,g,g,g,O,x,x,x,x,x,x,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,x,x,x,x,x,x,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,x,x,x,x,P,P,P,P,P,P,C,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,O,x,N,N,N,N,x,x,x,x,u,x,x,P,x,x,N,N,g,g,x,u,x,x,x,g,u,x,x,x,x,x],J=[S,S,S,S,S,S,S,S,S,S,S,P,P,P,u,d,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,S,C,k,R,F,H,j,O,N,N,N,N,N,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,O,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,S];function K(ge,Se,ce,ne){var fe=V?l:h,X=null,ye=null,Ce=null,$e=0,ke=null,Ne=null,Ve=-1,Oe=null,Fe=null,ie=[];if(!ne)for(Oe=0,ne=[];Oe<ce;Oe++)ne[Oe]=he(ge[Oe]);for(L=V,A=!1,s=!1,m=!1,Fe=0;Fe<ce;Fe++){if(X=$e,ie[Fe]=ye=Q(ge,ne,ie,Fe),$e=fe[X][ye],ke=$e&240,$e&=15,Se[Fe]=Ce=fe[$e][5],ke>0)if(ke==16){for(Oe=Ve;Oe<Fe;Oe++)Se[Oe]=1;Ve=-1}else Ve=-1;if(Ne=fe[$e][6],Ne)Ve==-1&&(Ve=Fe);else if(Ve>-1){for(Oe=Ve;Oe<Fe;Oe++)Se[Oe]=Ce;Ve=-1}ne[Fe]==C&&(Se[Fe]=0),L|=Ce}if(m){for(Oe=0;Oe<ce;Oe++)if(ne[Oe]==_){Se[Oe]=V;for(var we=Oe-1;we>=0&&ne[we]==S;we--)Se[we]=V}}}function ae(ge,Se,ce){if(!(L<ge)){if(ge==1&&V==i&&!s){ce.reverse();return}for(var ne=ce.length,fe=0,X,ye,Ce,$e;fe<ne;){if(Se[fe]>=ge){for(X=fe+1;X<ne&&Se[X]>=ge;)X++;for(ye=fe,Ce=X-1;ye<Ce;ye++,Ce--)$e=ce[ye],ce[ye]=ce[Ce],ce[Ce]=$e;fe=X}fe++}}}function Q(ge,Se,ce,ne){var fe=Se[ne],X,ye,Ce,$e;switch(fe){case u:case d:A=!1;case x:case v:return fe;case g:return A?v:g;case $:return A=!0,d;case S:return x;case O:return ne<1||ne+1>=Se.length||(X=ce[ne-1])!=g&&X!=v||(ye=Se[ne+1])!=g&&ye!=v?x:(A&&(ye=v),ye==X?ye:x);case D:return X=ne>0?ce[ne-1]:C,X==g&&ne+1<Se.length&&Se[ne+1]==g?g:x;case N:if(ne>0&&ce[ne-1]==g)return g;if(A)return x;for($e=ne+1,Ce=Se.length;$e<Ce&&Se[$e]==N;)$e++;return $e<Ce&&Se[$e]==g?g:x;case M:for(Ce=Se.length,$e=ne+1;$e<Ce&&Se[$e]==M;)$e++;if($e<Ce){var ke=ge[ne],Ne=ke>=1425&&ke<=2303||ke==64286;if(X=Se[$e],Ne&&(X==d||X==$))return d}return ne<1||(X=Se[ne-1])==C?x:ce[ne-1];case C:return A=!1,s=!0,V;case _:return m=!0,x;case k:case R:case H:case j:case F:A=!1;case P:return x}}function he(ge){var Se=ge.charCodeAt(0),ce=Se>>8;return ce==0?Se>191?u:ee[Se]:ce==5?/[\u0591-\u05f4]/.test(ge)?d:u:ce==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(ge)?M:/[\u0660-\u0669\u066b-\u066c]/.test(ge)?v:Se==1642?N:/[\u06f0-\u06f9]/.test(ge)?g:$:ce==32&&Se<=8287?J[Se&255]:ce==254&&Se>=65136?$:x}T.L=u,T.R=d,T.EN=g,T.ON_R=3,T.AN=4,T.R_H=5,T.B=6,T.RLE=7,T.DOT="·",T.doBidiReorder=function(ge,Se,ce){if(ge.length<2)return{};var ne=ge.split(""),fe=new Array(ne.length),X=new Array(ne.length),ye=[];V=ce?i:c,K(ne,ye,ne.length,Se);for(var Ce=0;Ce<fe.length;fe[Ce]=Ce,Ce++);ae(2,ye,fe),ae(1,ye,fe);for(var Ce=0;Ce<fe.length-1;Ce++)Se[Ce]===v?ye[Ce]=T.AN:ye[Ce]===d&&(Se[Ce]>$&&Se[Ce]<k||Se[Ce]===x||Se[Ce]===P)?ye[Ce]=T.ON_R:Ce>0&&ne[Ce-1]==="ل"&&/\u0622|\u0623|\u0625|\u0627/.test(ne[Ce])&&(ye[Ce-1]=ye[Ce]=T.R_H,Ce++);ne[ne.length-1]===T.DOT&&(ye[ne.length-1]=T.B),ne[0]==="‫"&&(ye[0]=T.RLE);for(var Ce=0;Ce<fe.length;Ce++)X[Ce]=ye[fe[Ce]];return{logicalFromVisual:fe,bidiLevels:X}},T.hasBidiCharacters=function(ge,Se){for(var ce=!1,ne=0;ne<ge.length;ne++)Se[ne]=he(ge.charAt(ne)),!ce&&(Se[ne]==d||Se[ne]==$||Se[ne]==v)&&(ce=!0);return ce},T.getVisualFromLogicalIdx=function(ge,Se){for(var ce=0;ce<Se.logicalFromVisual.length;ce++)if(Se.logicalFromVisual[ce]==ge)return ce;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(y,T,G){var V=y("./lib/bidiutil"),L=y("./lib/lang"),A=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,s=function(){function m(h){this.session=h,this.bidiMap={},this.currentRow=null,this.bidiUtil=V,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=A.test(h.getValue())}return m.prototype.isBidiRow=function(h,l,c){return this.seenBidi?(h!==this.currentRow&&(this.currentRow=h,this.updateRowLine(l,c),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},m.prototype.onChange=function(h){this.seenBidi?this.currentRow=null:h.action=="insert"&&A.test(h.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},m.prototype.getDocumentRow=function(){var h=0,l=this.session.$screenRowCache;if(l.length){var c=this.session.$getRowCacheIndex(l,this.currentRow);c>=0&&(h=this.session.$docRowCache[c])}return h},m.prototype.getSplitIndex=function(){var h=0,l=this.session.$screenRowCache;if(l.length)for(var c,i=this.session.$getRowCacheIndex(l,this.currentRow);this.currentRow-h>0&&(c=this.session.$getRowCacheIndex(l,this.currentRow-h-1),c===i);)i=c,h++;else h=this.currentRow;return h},m.prototype.updateRowLine=function(h,l){h===void 0&&(h=this.getDocumentRow());var c=h===this.session.getLength()-1,i=c?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(h),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var u=this.session.$wrapData[h];u&&(l===void 0&&(l=this.getSplitIndex()),l>0&&u.length?(this.wrapIndent=u.indent,this.wrapOffset=this.wrapIndent*this.charWidths[V.L],this.line=l<u.length?this.line.substring(u[l-1],u[l]):this.line.substring(u[u.length-1])):this.line=this.line.substring(0,u[l]),l==u.length&&(this.line+=this.showInvisibles?i:V.DOT))}else this.line+=this.showInvisibles?i:V.DOT;var d=this.session,g=0,v;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(x,C){return x==="	"||d.isFullWidth(x.charCodeAt(0))?(v=x==="	"?d.getScreenTabSize(C+g):2,g+=v-1,L.stringRepeat(V.DOT,v)):x}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==V.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},m.prototype.updateBidiMap=function(){var h=[];V.hasBidiCharacters(this.line,h)||this.isRtlDir?this.bidiMap=V.doBidiReorder(this.line,h,this.isRtlDir):this.bidiMap={}},m.prototype.markAsDirty=function(){this.currentRow=null},m.prototype.updateCharacterWidths=function(h){if(this.characterWidth!==h.$characterSize.width){this.fontMetrics=h;var l=this.characterWidth=h.$characterSize.width,c=h.$measureCharWidth("ה");this.charWidths[V.L]=this.charWidths[V.EN]=this.charWidths[V.ON_R]=l,this.charWidths[V.R]=this.charWidths[V.AN]=c,this.charWidths[V.R_H]=c*.45,this.charWidths[V.B]=this.charWidths[V.RLE]=0,this.currentRow=null}},m.prototype.setShowInvisibles=function(h){this.showInvisibles=h,this.currentRow=null},m.prototype.setEolChar=function(h){this.EOL=h},m.prototype.setContentWidth=function(h){this.contentWidth=h},m.prototype.isRtlLine=function(h){return this.$isRtl?!0:h!=null?this.session.getLine(h).charAt(0)==this.RLE:this.isRtlDir},m.prototype.setRtlDirection=function(h,l){for(var c=h.getCursorPosition(),i=h.selection.getSelectionAnchor().row;i<=c.row;i++)!l&&h.session.getLine(i).charAt(0)===h.session.$bidiHandler.RLE?h.session.doc.removeInLine(i,0,1):l&&h.session.getLine(i).charAt(0)!==h.session.$bidiHandler.RLE&&h.session.doc.insert({column:0,row:i},h.session.$bidiHandler.RLE)},m.prototype.getPosLeft=function(h){h-=this.wrapIndent;var l=this.line.charAt(0)===this.RLE?1:0,c=h>l?this.session.getOverwrite()?h:h-1:l,i=V.getVisualFromLogicalIdx(c,this.bidiMap),u=this.bidiMap.bidiLevels,d=0;!this.session.getOverwrite()&&h<=l&&u[i]%2!==0&&i++;for(var g=0;g<i;g++)d+=this.charWidths[u[g]];return!this.session.getOverwrite()&&h>l&&u[i]%2===0&&(d+=this.charWidths[u[i]]),this.wrapIndent&&(d+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(d+=this.rtlLineOffset),d},m.prototype.getSelections=function(h,l){var c=this.bidiMap,i=c.bidiLevels,u,d=[],g=0,v=Math.min(h,l)-this.wrapIndent,x=Math.max(h,l)-this.wrapIndent,C=!1,_=!1,$=0;this.wrapIndent&&(g+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var S,O=0;O<i.length;O++)S=c.logicalFromVisual[O],u=i[O],C=S>=v&&S<x,C&&!_?$=g:!C&&_&&d.push({left:$,width:g-$}),g+=this.charWidths[u],_=C;if(C&&O===i.length&&d.push({left:$,width:g-$}),this.isRtlDir)for(var D=0;D<d.length;D++)d[D].left+=this.rtlLineOffset;return d},m.prototype.offsetToCol=function(c){this.isRtlDir&&(c-=this.rtlLineOffset);var l=0,c=Math.max(c,0),i=0,u=0,d=this.bidiMap.bidiLevels,g=this.charWidths[d[u]];for(this.wrapIndent&&(c-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);c>i+g/2;){if(i+=g,u===d.length-1){g=0;break}g=this.charWidths[d[++u]]}return u>0&&d[u-1]%2!==0&&d[u]%2===0?(c<i&&u--,l=this.bidiMap.logicalFromVisual[u]):u>0&&d[u-1]%2===0&&d[u]%2!==0?l=1+(c>i?this.bidiMap.logicalFromVisual[u]:this.bidiMap.logicalFromVisual[u-1]):this.isRtlDir&&u===d.length-1&&g===0&&d[u-1]%2===0||!this.isRtlDir&&u===0&&d[u]%2!==0?l=1+this.bidiMap.logicalFromVisual[u]:(u>0&&d[u-1]%2!==0&&g!==0&&u--,l=this.bidiMap.logicalFromVisual[u]),l===0&&this.isRtlDir&&l++,l+this.wrapIndent},m}();T.BidiHandler=s}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(y,T,G){var V=y("./lib/oop"),L=y("./lib/lang"),A=y("./lib/event_emitter").EventEmitter,s=y("./range").Range,m=function(){function h(l){this.session=l,this.doc=l.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var c=this;this.cursor.on("change",function(i){c.$cursorChanged=!0,c.$silent||c._emit("changeCursor"),!c.$isEmpty&&!c.$silent&&c._emit("changeSelection"),!c.$keepDesiredColumnOnChange&&i.old.column!=i.value.column&&(c.$desiredColumn=null)}),this.anchor.on("change",function(){c.$anchorChanged=!0,!c.$isEmpty&&!c.$silent&&c._emit("changeSelection")})}return h.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},h.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},h.prototype.getCursor=function(){return this.lead.getPosition()},h.prototype.setAnchor=function(l,c){this.$isEmpty=!1,this.anchor.setPosition(l,c)},h.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},h.prototype.getSelectionLead=function(){return this.lead.getPosition()},h.prototype.isBackwards=function(){var l=this.anchor,c=this.lead;return l.row>c.row||l.row==c.row&&l.column>c.column},h.prototype.getRange=function(){var l=this.anchor,c=this.lead;return this.$isEmpty?s.fromPoints(c,c):this.isBackwards()?s.fromPoints(c,l):s.fromPoints(l,c)},h.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},h.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},h.prototype.setRange=function(l,c){var i=c?l.end:l.start,u=c?l.start:l.end;this.$setSelection(i.row,i.column,u.row,u.column)},h.prototype.$setSelection=function(l,c,i,u){if(!this.$silent){var d=this.$isEmpty,g=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(l,c),this.cursor.setPosition(i,u),this.$isEmpty=!s.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||d!=this.$isEmpty||g)&&this._emit("changeSelection")}},h.prototype.$moveSelection=function(l){var c=this.lead;this.$isEmpty&&this.setSelectionAnchor(c.row,c.column),l.call(this)},h.prototype.selectTo=function(l,c){this.$moveSelection(function(){this.moveCursorTo(l,c)})},h.prototype.selectToPosition=function(l){this.$moveSelection(function(){this.moveCursorToPosition(l)})},h.prototype.moveTo=function(l,c){this.clearSelection(),this.moveCursorTo(l,c)},h.prototype.moveToPosition=function(l){this.clearSelection(),this.moveCursorToPosition(l)},h.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},h.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},h.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},h.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},h.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},h.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},h.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},h.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},h.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},h.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},h.prototype.getWordRange=function(l,c){if(typeof c>"u"){var i=l||this.lead;l=i.row,c=i.column}return this.session.getWordRange(l,c)},h.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},h.prototype.selectAWord=function(){var l=this.getCursor(),c=this.session.getAWordRange(l.row,l.column);this.setSelectionRange(c)},h.prototype.getLineRange=function(l,c){var i=typeof l=="number"?l:this.lead.row,u,d=this.session.getFoldLine(i);return d?(i=d.start.row,u=d.end.row):u=i,c===!0?new s(i,0,u,this.session.getLine(u).length):new s(i,0,u+1,0)},h.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},h.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},h.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},h.prototype.wouldMoveIntoSoftTab=function(l,c,i){var u=l.column,d=l.column+c;return i<0&&(u=l.column-c,d=l.column),this.session.isTabStop(l)&&this.doc.getLine(l.row).slice(u,d).split(" ").length-1==c},h.prototype.moveCursorLeft=function(){var l=this.lead.getPosition(),c;if(c=this.session.getFoldAt(l.row,l.column,-1))this.moveCursorTo(c.start.row,c.start.column);else if(l.column===0)l.row>0&&this.moveCursorTo(l.row-1,this.doc.getLine(l.row-1).length);else{var i=this.session.getTabSize();this.wouldMoveIntoSoftTab(l,i,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-i):this.moveCursorBy(0,-1)}},h.prototype.moveCursorRight=function(){var l=this.lead.getPosition(),c;if(c=this.session.getFoldAt(l.row,l.column,1))this.moveCursorTo(c.end.row,c.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var i=this.session.getTabSize(),l=this.lead;this.wouldMoveIntoSoftTab(l,i,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,i):this.moveCursorBy(0,1)}},h.prototype.moveCursorLineStart=function(){var l=this.lead.row,c=this.lead.column,i=this.session.documentToScreenRow(l,c),u=this.session.screenToDocumentPosition(i,0),d=this.session.getDisplayLine(l,null,u.row,u.column),g=d.match(/^\s*/);g[0].length!=c&&!this.session.$useEmacsStyleLineStart&&(u.column+=g[0].length),this.moveCursorToPosition(u)},h.prototype.moveCursorLineEnd=function(){var l=this.lead,c=this.session.getDocumentLastRowColumnPosition(l.row,l.column);if(this.lead.column==c.column){var i=this.session.getLine(c.row);if(c.column==i.length){var u=i.search(/\s+$/);u>0&&(c.column=u)}}this.moveCursorTo(c.row,c.column)},h.prototype.moveCursorFileEnd=function(){var l=this.doc.getLength()-1,c=this.doc.getLine(l).length;this.moveCursorTo(l,c)},h.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},h.prototype.moveCursorLongWordRight=function(){var l=this.lead.row,c=this.lead.column,i=this.doc.getLine(l),u=i.substring(c);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var d=this.session.getFoldAt(l,c,1);if(d){this.moveCursorTo(d.end.row,d.end.column);return}if(this.session.nonTokenRe.exec(u)&&(c+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,u=i.substring(c)),c>=i.length){this.moveCursorTo(l,i.length),this.moveCursorRight(),l<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(u)&&(c+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(l,c)},h.prototype.moveCursorLongWordLeft=function(){var l=this.lead.row,c=this.lead.column,i;if(i=this.session.getFoldAt(l,c,-1)){this.moveCursorTo(i.start.row,i.start.column);return}var u=this.session.getFoldStringAt(l,c,-1);u==null&&(u=this.doc.getLine(l).substring(0,c));var d=L.stringReverse(u);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(d)&&(c-=this.session.nonTokenRe.lastIndex,d=d.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),c<=0){this.moveCursorTo(l,0),this.moveCursorLeft(),l>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(d)&&(c-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(l,c)},h.prototype.$shortWordEndIndex=function(l){var c=0,i,u=/\s/,d=this.session.tokenRe;if(d.lastIndex=0,this.session.tokenRe.exec(l))c=this.session.tokenRe.lastIndex;else{for(;(i=l[c])&&u.test(i);)c++;if(c<1){for(d.lastIndex=0;(i=l[c])&&!d.test(i);)if(d.lastIndex=0,c++,u.test(i))if(c>2){c--;break}else{for(;(i=l[c])&&u.test(i);)c++;if(c>2)break}}}return d.lastIndex=0,c},h.prototype.moveCursorShortWordRight=function(){var l=this.lead.row,c=this.lead.column,i=this.doc.getLine(l),u=i.substring(c),d=this.session.getFoldAt(l,c,1);if(d)return this.moveCursorTo(d.end.row,d.end.column);if(c==i.length){var g=this.doc.getLength();do l++,u=this.doc.getLine(l);while(l<g&&/^\s*$/.test(u));/^\s+/.test(u)||(u=""),c=0}var v=this.$shortWordEndIndex(u);this.moveCursorTo(l,c+v)},h.prototype.moveCursorShortWordLeft=function(){var l=this.lead.row,c=this.lead.column,i;if(i=this.session.getFoldAt(l,c,-1))return this.moveCursorTo(i.start.row,i.start.column);var u=this.session.getLine(l).substring(0,c);if(c===0){do l--,u=this.doc.getLine(l);while(l>0&&/^\s*$/.test(u));c=u.length,/\s+$/.test(u)||(u="")}var d=L.stringReverse(u),g=this.$shortWordEndIndex(d);return this.moveCursorTo(l,c-g)},h.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},h.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},h.prototype.moveCursorBy=function(l,c){var i=this.session.documentToScreenPosition(this.lead.row,this.lead.column),u;if(c===0&&(l!==0&&(this.session.$bidiHandler.isBidiRow(i.row,this.lead.row)?(u=this.session.$bidiHandler.getPosLeft(i.column),i.column=Math.round(u/this.session.$bidiHandler.charWidths[0])):u=i.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column),l!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var d=this.session.lineWidgets[this.lead.row];l<0?l-=d.rowsAbove||0:l>0&&(l+=d.rowCount-(d.rowsAbove||0))}var g=this.session.screenToDocumentPosition(i.row+l,i.column,u);l!==0&&c===0&&g.row===this.lead.row&&(g.column,this.lead.column),this.moveCursorTo(g.row,g.column+c,c===0)},h.prototype.moveCursorToPosition=function(l){this.moveCursorTo(l.row,l.column)},h.prototype.moveCursorTo=function(l,c,i){var u=this.session.getFoldAt(l,c,1);u&&(l=u.start.row,c=u.start.column),this.$keepDesiredColumnOnChange=!0;var d=this.session.getLine(l);/[\uDC00-\uDFFF]/.test(d.charAt(c))&&d.charAt(c-1)&&(this.lead.row==l&&this.lead.column==c+1?c=c-1:c=c+1),this.lead.setPosition(l,c),this.$keepDesiredColumnOnChange=!1,i||(this.$desiredColumn=null)},h.prototype.moveCursorToScreen=function(l,c,i){var u=this.session.screenToDocumentPosition(l,c);this.moveCursorTo(u.row,u.column,i)},h.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},h.prototype.fromOrientedRange=function(l){this.setSelectionRange(l,l.cursor==l.start),this.$desiredColumn=l.desiredColumn||this.$desiredColumn},h.prototype.toOrientedRange=function(l){var c=this.getRange();return l?(l.start.column=c.start.column,l.start.row=c.start.row,l.end.column=c.end.column,l.end.row=c.end.row):l=c,l.cursor=this.isBackwards()?l.start:l.end,l.desiredColumn=this.$desiredColumn,l},h.prototype.getRangeOfMovements=function(l){var c=this.getCursor();try{l(this);var i=this.getCursor();return s.fromPoints(c,i)}catch{return s.fromPoints(c,c)}finally{this.moveCursorToPosition(c)}},h.prototype.toJSON=function(){if(this.rangeCount)var l=this.ranges.map(function(c){var i=c.clone();return i.isBackwards=c.cursor==c.start,i});else{var l=this.getRange();l.isBackwards=this.isBackwards()}return l},h.prototype.fromJSON=function(l){if(l.start==null)if(this.rangeList&&l.length>1){this.toSingleRange(l[0]);for(var c=l.length;c--;){var i=s.fromPoints(l[c].start,l[c].end);l[c].isBackwards&&(i.cursor=i.start),this.addRange(i,!0)}return}else l=l[0];this.rangeList&&this.toSingleRange(l),this.setSelectionRange(l,l.isBackwards)},h.prototype.isEqual=function(l){if((l.length||this.rangeCount)&&l.length!=this.rangeCount)return!1;if(!l.length||!this.ranges)return this.getRange().isEqual(l);for(var c=this.ranges.length;c--;)if(!this.ranges[c].isEqual(l[c]))return!1;return!0},h}();m.prototype.setSelectionAnchor=m.prototype.setAnchor,m.prototype.getSelectionAnchor=m.prototype.getAnchor,m.prototype.setSelectionRange=m.prototype.setRange,V.implement(m.prototype,A),T.Selection=m}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(y,T,G){var V=y("./lib/report_error").reportError,L=2e3,A=function(){function s(m){this.states=m,this.regExps={},this.matchMappings={};for(var h in this.states){for(var l=this.states[h],c=[],i=0,u=this.matchMappings[h]={defaultToken:"text"},d="g",g=[],v=0;v<l.length;v++){var x=l[v];if(x.defaultToken&&(u.defaultToken=x.defaultToken),x.caseInsensitive&&d.indexOf("i")===-1&&(d+="i"),x.unicode&&d.indexOf("u")===-1&&(d+="u"),x.regex!=null){x.regex instanceof RegExp&&(x.regex=x.regex.toString().slice(1,-1));var C=x.regex,_=new RegExp("(?:("+C+")|(.))").exec("a").length-2;Array.isArray(x.token)?x.token.length==1||_==1?x.token=x.token[0]:_-1!=x.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:x,groupCount:_-1}),x.token=x.token[0]):(x.tokenArray=x.token,x.token=null,x.onMatch=this.$arrayTokens):typeof x.token=="function"&&!x.onMatch&&(_>1?x.onMatch=this.$applyToken:x.onMatch=x.token),_>1&&(/\\\d/.test(x.regex)?C=x.regex.replace(/\\([0-9]+)/g,function($,S){return"\\"+(parseInt(S,10)+i+1)}):(_=1,C=this.removeCapturingGroups(x.regex)),!x.splitRegex&&typeof x.token!="string"&&g.push(x)),u[i]=v,i+=_,c.push(C),x.onMatch||(x.onMatch=null)}}c.length||(u[0]=0,c.push("$")),g.forEach(function($){$.splitRegex=this.createSplitterRegexp($.regex,d)},this),this.regExps[h]=new RegExp("("+c.join(")|(")+")|($)",d)}}return s.prototype.$setMaxTokenCount=function(m){L=m|0},s.prototype.$applyToken=function(m){var h=this.splitRegex.exec(m).slice(1),l=this.token.apply(this,h);if(typeof l=="string")return[{type:l,value:m}];for(var c=[],i=0,u=l.length;i<u;i++)h[i]&&(c[c.length]={type:l[i],value:h[i]});return c},s.prototype.$arrayTokens=function(m){if(!m)return[];var h=this.splitRegex.exec(m);if(!h)return"text";for(var l=[],c=this.tokenArray,i=0,u=c.length;i<u;i++)h[i+1]&&(l[l.length]={type:c[i],value:h[i+1]});return l},s.prototype.removeCapturingGroups=function(m){var h=m.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(l,c){return c?"(?:":l});return h},s.prototype.createSplitterRegexp=function(m,h){if(m.indexOf("(?=")!=-1){var l=0,c=!1,i={};m.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(u,d,g,v,x,C){return c?c=x!="]":x?c=!0:v?(l==i.stack&&(i.end=C+1,i.stack=-1),l--):g&&(l++,g.length!=1&&(i.stack=l,i.start=C)),u}),i.end!=null&&/^\)*$/.test(m.substr(i.end))&&(m=m.substring(0,i.start)+m.substr(i.end))}return m.charAt(0)!="^"&&(m="^"+m),m.charAt(m.length-1)!="$"&&(m+="$"),new RegExp(m,(h||"").replace("g",""))},s.prototype.getLineTokens=function(m,h){if(h&&typeof h!="string"){var l=h.slice(0);h=l[0],h==="#tmp"&&(l.shift(),h=l.shift())}else var l=[];var c=h||"start",i=this.states[c];i||(c="start",i=this.states[c]);var u=this.matchMappings[c],d=this.regExps[c];d.lastIndex=0;for(var g,v=[],x=0,C=0,_={type:null,value:""};g=d.exec(m);){var $=u.defaultToken,S=null,O=g[0],D=d.lastIndex;if(D-O.length>x){var N=m.substring(x,D-O.length);_.type==$?_.value+=N:(_.type&&v.push(_),_={type:$,value:N})}for(var M=0;M<g.length-2;M++)if(g[M+1]!==void 0){S=i[u[M]],S.onMatch?$=S.onMatch(O,c,l,m):$=S.token,S.next&&(typeof S.next=="string"?c=S.next:c=S.next(c,l),i=this.states[c],i||(this.reportError("state doesn't exist",c),c="start",i=this.states[c]),u=this.matchMappings[c],x=D,d=this.regExps[c],d.lastIndex=D),S.consumeLineEnd&&(x=D);break}if(O){if(typeof $=="string")(!S||S.merge!==!1)&&_.type===$?_.value+=O:(_.type&&v.push(_),_={type:$,value:O});else if($){_.type&&v.push(_),_={type:null,value:""};for(var M=0;M<$.length;M++)v.push($[M])}}if(x==m.length)break;if(x=D,C++>L){for(C>2*m.length&&this.reportError("infinite loop with in ace tokenizer",{startState:h,line:m});x<m.length;)_.type&&v.push(_),_={value:m.substring(x,x+=500),type:"overflow"};c="start",l=[];break}}return _.type&&v.push(_),l.length>1&&l[0]!==c&&l.unshift("#tmp",c),{tokens:v,state:l.length?l:c}},s}();A.prototype.reportError=V,T.Tokenizer=A}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(y,T,G){var V=y("../lib/deep_copy").deepCopy,L=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(m,h){if(!h){for(var l in m)this.$rules[l]=m[l];return}for(var l in m){for(var c=m[l],i=0;i<c.length;i++){var u=c[i];(u.next||u.onMatch)&&(typeof u.next=="string"&&u.next.indexOf(h)!==0&&(u.next=h+u.next),u.nextState&&u.nextState.indexOf(h)!==0&&(u.nextState=h+u.nextState))}this.$rules[h+l]=c}},this.getRules=function(){return this.$rules},this.embedRules=function(m,h,l,c,i){var u=typeof m=="function"?new m().getRules():m;if(c)for(var d=0;d<c.length;d++)c[d]=h+c[d];else{c=[];for(var g in u)c.push(h+g)}if(this.addRules(u,h),l)for(var v=Array.prototype[i?"push":"unshift"],d=0;d<c.length;d++)v.apply(this.$rules[c[d]],V(l));this.$embeds||(this.$embeds=[]),this.$embeds.push(h)},this.getEmbeds=function(){return this.$embeds};var A=function(m,h){return(m!="start"||h.length)&&h.unshift(this.nextState,m),this.nextState},s=function(m,h){return h.shift(),h.shift()||"start"};this.normalizeRules=function(){var m=0,h=this.$rules;function l(c){var i=h[c];i.processed=!0;for(var u=0;u<i.length;u++){var d=i[u],g=null;Array.isArray(d)&&(g=d,d={}),!d.regex&&d.start&&(d.regex=d.start,d.next||(d.next=[]),d.next.push({defaultToken:d.token},{token:d.token+".end",regex:d.end||d.start,next:"pop"}),d.token=d.token+".start",d.push=!0);var v=d.next||d.push;if(v&&Array.isArray(v)){var x=d.stateName;x||(x=d.token,typeof x!="string"&&(x=x[0]||""),h[x]&&(x+=m++)),h[x]=v,d.next=x,l(x)}else v=="pop"&&(d.next=s);if(d.push&&(d.nextState=d.next||d.push,d.next=A,delete d.push),d.rules)for(var C in d.rules)h[C]?h[C].push&&h[C].push.apply(h[C],d.rules[C]):h[C]=d.rules[C];var _=typeof d=="string"?d:d.include;if(_&&(_==="$self"&&(_="start"),Array.isArray(_)?g=_.map(function(S){return h[S]}):g=h[_]),g){var $=[u,1].concat(g);d.noEscape&&($=$.filter(function(S){return!S.next})),i.splice.apply(i,$),u--}d.keywordMap&&(d.token=this.createKeywordMapper(d.keywordMap,d.defaultToken||"text",d.caseInsensitive),delete d.defaultToken)}}Object.keys(h).forEach(l,this)},this.createKeywordMapper=function(m,h,l,c){var i=Object.create(null);return this.$keywordList=[],Object.keys(m).forEach(function(u){for(var d=m[u],g=d.split(c||"|"),v=g.length;v--;){var x=g[v];this.$keywordList.push(x),l&&(x=x.toLowerCase()),i[x]=u}},this),m=null,l?function(u){return i[u.toLowerCase()]||h}:function(u){return i[u]||h}},this.getKeywords=function(){return this.$keywords}}).call(L.prototype),T.TextHighlightRules=L}),ace.define("ace/mode/behaviour",["require","exports","module"],function(y,T,G){var V=function(){this.$behaviours={}};(function(){this.add=function(L,A,s){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[L]:this.$behaviours[L]={}}this.$behaviours[L][A]=s},this.addBehaviours=function(L){for(var A in L)for(var s in L[A])this.add(A,s,L[A][s])},this.remove=function(L){this.$behaviours&&this.$behaviours[L]&&delete this.$behaviours[L]},this.inherit=function(L,A){if(typeof L=="function")var s=new L().getBehaviours(A);else var s=L.getBehaviours(A);this.addBehaviours(s)},this.getBehaviours=function(L){if(L){for(var A={},s=0;s<L.length;s++)this.$behaviours[L[s]]&&(A[L[s]]=this.$behaviours[L[s]]);return A}else return this.$behaviours}}).call(V.prototype),T.Behaviour=V}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(y,T,G){var V=y("./range").Range,L=function(){function A(s,m,h){this.$session=s,this.$row=m,this.$rowTokens=s.getTokens(m);var l=s.getTokenAt(m,h);this.$tokenIndex=l?l.index:-1}return A.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},A.prototype.stepForward=function(){this.$tokenIndex+=1;for(var s;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,s||(s=this.$session.getLength()),this.$row>=s)return this.$row=s-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},A.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},A.prototype.getCurrentTokenRow=function(){return this.$row},A.prototype.getCurrentTokenColumn=function(){var s=this.$rowTokens,m=this.$tokenIndex,h=s[m].start;if(h!==void 0)return h;for(h=0;m>0;)m-=1,h+=s[m].value.length;return h},A.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},A.prototype.getCurrentTokenRange=function(){var s=this.$rowTokens[this.$tokenIndex],m=this.getCurrentTokenColumn();return new V(this.$row,m,this.$row,m+s.value.length)},A}();T.TokenIterator=L}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(y,T,G){var V=y("../../lib/oop"),L=y("../behaviour").Behaviour,A=y("../../token_iterator").TokenIterator,s=y("../../lib/lang"),m=["text","paren.rparen","rparen","paren","punctuation.operator"],h=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],l,c={},i={'"':'"',"'":"'"},u=function(v){var x=-1;if(v.multiSelect&&(x=v.selection.index,c.rangeCount!=v.multiSelect.rangeCount&&(c={rangeCount:v.multiSelect.rangeCount})),c[x])return l=c[x];l=c[x]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},d=function(v,x,C,_){var $=v.end.row-v.start.row;return{text:C+x+_,selection:[0,v.start.column+1,$,v.end.column+($?0:1)]}},g=function(v){v=v||{},this.add("braces","insertion",function(x,C,_,$,S){var O=_.getCursorPosition(),D=$.doc.getLine(O.row);if(S=="{"){u(_);var N=_.getSelectionRange(),M=$.doc.getTextRange(N);if(M!==""&&M!=="{"&&_.getWrapBehavioursEnabled())return d(N,M,"{","}");if(g.isSaneInsertion(_,$))return/[\]\}\)]/.test(D[O.column])||_.inMultiSelectMode||v.braces?(g.recordAutoInsert(_,$,"}"),{text:"{}",selection:[1,1]}):(g.recordMaybeInsert(_,$,"{"),{text:"{",selection:[1,1]})}else if(S=="}"){u(_);var k=D.substring(O.column,O.column+1);if(k=="}"){var R=$.$findOpeningBracket("}",{column:O.column+1,row:O.row});if(R!==null&&g.isAutoInsertedClosing(O,D,S))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(S==`
`||S==`\r
`){u(_);var F="";g.isMaybeInsertedClosing(O,D)&&(F=s.stringRepeat("}",l.maybeInsertedBrackets),g.clearMaybeInsertedClosing());var k=D.substring(O.column,O.column+1);if(k==="}"){var H=$.findMatchingBracket({row:O.row,column:O.column+1},"}");if(!H)return null;var j=this.$getIndent($.getLine(H.row))}else if(F)var j=this.$getIndent(D);else{g.clearMaybeInsertedClosing();return}var P=j+$.getTabString();return{text:`
`+P+`
`+j+F,selection:[1,P.length,1,P.length]}}else g.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(x,C,_,$,S){var O=$.doc.getTextRange(S);if(!S.isMultiLine()&&O=="{"){u(_);var D=$.doc.getLine(S.start.row),N=D.substring(S.end.column,S.end.column+1);if(N=="}")return S.end.column++,S;l.maybeInsertedBrackets--}}),this.add("parens","insertion",function(x,C,_,$,S){if(S=="("){u(_);var O=_.getSelectionRange(),D=$.doc.getTextRange(O);if(D!==""&&_.getWrapBehavioursEnabled())return d(O,D,"(",")");if(g.isSaneInsertion(_,$))return g.recordAutoInsert(_,$,")"),{text:"()",selection:[1,1]}}else if(S==")"){u(_);var N=_.getCursorPosition(),M=$.doc.getLine(N.row),k=M.substring(N.column,N.column+1);if(k==")"){var R=$.$findOpeningBracket(")",{column:N.column+1,row:N.row});if(R!==null&&g.isAutoInsertedClosing(N,M,S))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(x,C,_,$,S){var O=$.doc.getTextRange(S);if(!S.isMultiLine()&&O=="("){u(_);var D=$.doc.getLine(S.start.row),N=D.substring(S.start.column+1,S.start.column+2);if(N==")")return S.end.column++,S}}),this.add("brackets","insertion",function(x,C,_,$,S){if(S=="["){u(_);var O=_.getSelectionRange(),D=$.doc.getTextRange(O);if(D!==""&&_.getWrapBehavioursEnabled())return d(O,D,"[","]");if(g.isSaneInsertion(_,$))return g.recordAutoInsert(_,$,"]"),{text:"[]",selection:[1,1]}}else if(S=="]"){u(_);var N=_.getCursorPosition(),M=$.doc.getLine(N.row),k=M.substring(N.column,N.column+1);if(k=="]"){var R=$.$findOpeningBracket("]",{column:N.column+1,row:N.row});if(R!==null&&g.isAutoInsertedClosing(N,M,S))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(x,C,_,$,S){var O=$.doc.getTextRange(S);if(!S.isMultiLine()&&O=="["){u(_);var D=$.doc.getLine(S.start.row),N=D.substring(S.start.column+1,S.start.column+2);if(N=="]")return S.end.column++,S}}),this.add("string_dquotes","insertion",function(x,C,_,$,S){var O=$.$mode.$quotes||i;if(S.length==1&&O[S]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(S)!=-1)return;u(_);var D=S,N=_.getSelectionRange(),M=$.doc.getTextRange(N);if(M!==""&&(M.length!=1||!O[M])&&_.getWrapBehavioursEnabled())return d(N,M,D,D);if(!M){var k=_.getCursorPosition(),R=$.doc.getLine(k.row),F=R.substring(k.column-1,k.column),H=R.substring(k.column,k.column+1),j=$.getTokenAt(k.row,k.column),P=$.getTokenAt(k.row,k.column+1);if(F=="\\"&&j&&/escape/.test(j.type))return null;var ee=j&&/string|escape/.test(j.type),J=!P||/string|escape/.test(P.type),K;if(H==D)K=ee!==J,K&&/string\.end/.test(P.type)&&(K=!1);else{if(ee&&!J||ee&&J)return null;var ae=$.$mode.tokenRe;ae.lastIndex=0;var Q=ae.test(F);ae.lastIndex=0;var he=ae.test(H),ge=$.$mode.$pairQuotesAfter,Se=ge&&ge[D]&&ge[D].test(F);if(!Se&&Q||he||H&&!/[\s;,.})\]\\]/.test(H))return null;var ce=R[k.column-2];if(F==D&&(ce==D||ae.test(ce)))return null;K=!0}return{text:K?D+D:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(x,C,_,$,S){var O=$.$mode.$quotes||i,D=$.doc.getTextRange(S);if(!S.isMultiLine()&&O.hasOwnProperty(D)){u(_);var N=$.doc.getLine(S.start.row),M=N.substring(S.start.column+1,S.start.column+2);if(M==D)return S.end.column++,S}}),v.closeDocComment!==!1&&this.add("doc comment end","insertion",function(x,C,_,$,S){if(x==="doc-start"&&(S===`
`||S===`\r
`)&&_.selection.isEmpty()){var O=_.getCursorPosition(),D=$.doc.getLine(O.row),N=$.doc.getLine(O.row+1),M=this.$getIndent(D);if(/\s*\*/.test(N))return/^\s*\*/.test(D)?{text:S+M+"* ",selection:[1,3+M.length,1,3+M.length]}:{text:S+M+" * ",selection:[1,3+M.length,1,3+M.length]};if(/\/\*\*/.test(D.substring(0,O.column)))return{text:S+M+" * "+S+" "+M+"*/",selection:[1,4+M.length,1,4+M.length]}}})};g.isSaneInsertion=function(v,x){var C=v.getCursorPosition(),_=new A(x,C.row,C.column);if(!this.$matchTokenType(_.getCurrentToken()||"text",m)){if(/[)}\]]/.test(v.session.getLine(C.row)[C.column]))return!0;var $=new A(x,C.row,C.column+1);if(!this.$matchTokenType($.getCurrentToken()||"text",m))return!1}return _.stepForward(),_.getCurrentTokenRow()!==C.row||this.$matchTokenType(_.getCurrentToken()||"text",h)},g.$matchTokenType=function(v,x){return x.indexOf(v.type||v)>-1},g.recordAutoInsert=function(v,x,C){var _=v.getCursorPosition(),$=x.doc.getLine(_.row);this.isAutoInsertedClosing(_,$,l.autoInsertedLineEnd[0])||(l.autoInsertedBrackets=0),l.autoInsertedRow=_.row,l.autoInsertedLineEnd=C+$.substr(_.column),l.autoInsertedBrackets++},g.recordMaybeInsert=function(v,x,C){var _=v.getCursorPosition(),$=x.doc.getLine(_.row);this.isMaybeInsertedClosing(_,$)||(l.maybeInsertedBrackets=0),l.maybeInsertedRow=_.row,l.maybeInsertedLineStart=$.substr(0,_.column)+C,l.maybeInsertedLineEnd=$.substr(_.column),l.maybeInsertedBrackets++},g.isAutoInsertedClosing=function(v,x,C){return l.autoInsertedBrackets>0&&v.row===l.autoInsertedRow&&C===l.autoInsertedLineEnd[0]&&x.substr(v.column)===l.autoInsertedLineEnd},g.isMaybeInsertedClosing=function(v,x){return l.maybeInsertedBrackets>0&&v.row===l.maybeInsertedRow&&x.substr(v.column)===l.maybeInsertedLineEnd&&x.substr(0,v.column)==l.maybeInsertedLineStart},g.popAutoInsertedClosing=function(){l.autoInsertedLineEnd=l.autoInsertedLineEnd.substr(1),l.autoInsertedBrackets--},g.clearMaybeInsertedClosing=function(){l&&(l.maybeInsertedBrackets=0,l.maybeInsertedRow=-1)},V.inherits(g,L),T.CstyleBehaviour=g}),ace.define("ace/unicode",["require","exports","module"],function(y,T,G){for(var V=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],L=0,A=[],s=0;s<V.length;s+=2)A.push(L+=V[s]),V[s+1]&&A.push(45,L+=V[s+1]);T.wordChars=String.fromCharCode.apply(null,A)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(y,T,G){var V=y("../config"),L=y("../tokenizer").Tokenizer,A=y("./text_highlight_rules").TextHighlightRules,s=y("./behaviour/cstyle").CstyleBehaviour,m=y("../unicode"),h=y("../lib/lang"),l=y("../token_iterator").TokenIterator,c=y("../range").Range,i=function(){this.HighlightRules=A};(function(){this.$defaultBehaviour=new s,this.tokenRe=new RegExp("^["+m.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+m.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new L(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(u,d,g,v){var x=d.doc,C=!0,_=!0,$=1/0,S=d.getTabSize(),O=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var M=this.lineCommentStart.map(h.escapeRegExp).join("|"),D=this.lineCommentStart[0];else var M=h.escapeRegExp(this.lineCommentStart),D=this.lineCommentStart;M=new RegExp("^(\\s*)(?:"+M+") ?"),O=d.getUseSoftTabs();var F=function(he,ge){var Se=he.match(M);if(Se){var ce=Se[1].length,ne=Se[0].length;!P(he,ce,ne)&&Se[0][ne-1]==" "&&ne--,x.removeInLine(ge,ce,ne)}},j=D+" ",R=function(he,ge){(!C||/\S/.test(he))&&(P(he,$,$)?x.insertInLine({row:ge,column:$},j):x.insertInLine({row:ge,column:$},D))},H=function(he,ge){return M.test(he)},P=function(he,ge,Se){for(var ce=0;ge--&&he.charAt(ge)==" ";)ce++;if(ce%S!=0)return!1;for(var ce=0;he.charAt(Se++)==" ";)ce++;return S>2?ce%S!=S-1:ce%S==0}}else{if(!this.blockComment)return!1;var D=this.blockComment.start,N=this.blockComment.end,M=new RegExp("^(\\s*)(?:"+h.escapeRegExp(D)+")"),k=new RegExp("(?:"+h.escapeRegExp(N)+")\\s*$"),R=function(K,ae){H(K,ae)||(!C||/\S/.test(K))&&(x.insertInLine({row:ae,column:K.length},N),x.insertInLine({row:ae,column:$},D))},F=function(K,ae){var Q;(Q=K.match(k))&&x.removeInLine(ae,K.length-Q[0].length,K.length),(Q=K.match(M))&&x.removeInLine(ae,Q[1].length,Q[0].length)},H=function(K,ae){if(M.test(K))return!0;for(var Q=d.getTokens(ae),he=0;he<Q.length;he++)if(Q[he].type==="comment")return!0}}function ee(K){for(var ae=g;ae<=v;ae++)K(x.getLine(ae),ae)}var J=1/0;ee(function(K,ae){var Q=K.search(/\S/);Q!==-1?(Q<$&&($=Q),_&&!H(K,ae)&&(_=!1)):J>K.length&&(J=K.length)}),$==1/0&&($=J,C=!1,_=!1),O&&$%S!=0&&($=Math.floor($/S)*S),ee(_?F:R)},this.toggleBlockComment=function(u,d,g,v){var x=this.blockComment;if(x){!x.start&&x[0]&&(x=x[0]);var C=new l(d,v.row,v.column),_=C.getCurrentToken();d.selection;var $=d.selection.toOrientedRange(),S,O;if(_&&/comment/.test(_.type)){for(var D,N;_&&/comment/.test(_.type);){var M=_.value.indexOf(x.start);if(M!=-1){var k=C.getCurrentTokenRow(),R=C.getCurrentTokenColumn()+M;D=new c(k,R,k,R+x.start.length);break}_=C.stepBackward()}for(var C=new l(d,v.row,v.column),_=C.getCurrentToken();_&&/comment/.test(_.type);){var M=_.value.indexOf(x.end);if(M!=-1){var k=C.getCurrentTokenRow(),R=C.getCurrentTokenColumn()+M;N=new c(k,R,k,R+x.end.length);break}_=C.stepForward()}N&&d.remove(N),D&&(d.remove(D),S=D.start.row,O=-x.start.length)}else O=x.start.length,S=g.start.row,d.insert(g.end,x.end),d.insert(g.start,x.start);$.start.row==S&&($.start.column+=O),$.end.row==S&&($.end.column+=O),d.selection.fromOrientedRange($)}},this.getNextLineIndent=function(u,d,g){return this.$getIndent(d)},this.checkOutdent=function(u,d,g){return!1},this.autoOutdent=function(u,d,g){},this.$getIndent=function(u){return u.match(/^\s*/)[0]},this.createWorker=function(u){return null},this.createModeDelegates=function(u){this.$embeds=[],this.$modes={};for(var d in u)if(u[d]){var g=u[d],v=g.prototype.$id,x=V.$modes[v];x||(V.$modes[v]=x=new g),V.$modes[d]||(V.$modes[d]=x),this.$embeds.push(d),this.$modes[d]=x}for(var C=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],d=0;d<C.length;d++)(function($){var S=C[d],O=$[S];$[C[d]]=function(){return this.$delegator(S,arguments,O)}})(this)},this.$delegator=function(u,d,g){var v=d[0]||"start";if(typeof v!="string"){if(Array.isArray(v[2])){var x=v[2][v[2].length-1],C=this.$modes[x];if(C)return C[u].apply(C,[v[1]].concat([].slice.call(d,1)))}v=v[0]||"start"}for(var _=0;_<this.$embeds.length;_++)if(this.$modes[this.$embeds[_]]){var $=v.split(this.$embeds[_]);if(!$[0]&&$[1]){d[0]=$[1];var C=this.$modes[this.$embeds[_]];return C[u].apply(C,d)}}var S=g.apply(this,d);return g?S:void 0},this.transformAction=function(u,d,g,v,x){if(this.$behaviour){var C=this.$behaviour.getBehaviours();for(var _ in C)if(C[_][d]){var $=C[_][d].apply(this,arguments);if($)return $}}},this.getKeywords=function(u){if(!this.completionKeywords){var d=this.$tokenizer.rules,g=[];for(var v in d)for(var x=d[v],C=0,_=x.length;C<_;C++)if(typeof x[C].token=="string")/keyword|support|storage/.test(x[C].token)&&g.push(x[C].regex);else if(typeof x[C].token=="object"){for(var $=0,S=x[C].token.length;$<S;$++)if(/keyword|support|storage/.test(x[C].token[$])){var v=x[C].regex.match(/\(.+?\)/g)[$];g.push(v.substr(1,v.length-2))}}this.completionKeywords=g}return u?g.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(u,d,g,v){var x=this.$keywordList||this.$createKeywordList();return x.map(function(C){return{name:C,value:C,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(i.prototype),T.Mode=i}),ace.define("ace/apply_delta",["require","exports","module"],function(y,T,G){T.applyDelta=function(V,L,A){var s=L.start.row,m=L.start.column,h=V[s]||"";switch(L.action){case"insert":var l=L.lines;if(l.length===1)V[s]=h.substring(0,m)+L.lines[0]+h.substring(m);else{var c=[s,1].concat(L.lines);V.splice.apply(V,c),V[s]=h.substring(0,m)+V[s],V[s+L.lines.length-1]+=h.substring(m)}break;case"remove":var i=L.end.column,u=L.end.row;s===u?V[s]=h.substring(0,m)+h.substring(i):V.splice(s,u-s+1,h.substring(0,m)+V[u].substring(i));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(y,T,G){var V=y("./lib/oop"),L=y("./lib/event_emitter").EventEmitter,A=function(){function h(l,c,i){this.$onChange=this.onChange.bind(this),this.attach(l),typeof i>"u"?this.setPosition(c.row,c.column):this.setPosition(c,i)}return h.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},h.prototype.getDocument=function(){return this.document},h.prototype.onChange=function(l){if(!(l.start.row==l.end.row&&l.start.row!=this.row)&&!(l.start.row>this.row)){var c=m(l,{row:this.row,column:this.column},this.$insertRight);this.setPosition(c.row,c.column,!0)}},h.prototype.setPosition=function(l,c,i){var u;if(i?u={row:l,column:c}:u=this.$clipPositionToDocument(l,c),!(this.row==u.row&&this.column==u.column)){var d={row:this.row,column:this.column};this.row=u.row,this.column=u.column,this._signal("change",{old:d,value:u})}},h.prototype.detach=function(){this.document.off("change",this.$onChange)},h.prototype.attach=function(l){this.document=l||this.document,this.document.on("change",this.$onChange)},h.prototype.$clipPositionToDocument=function(l,c){var i={};return l>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):l<0?(i.row=0,i.column=0):(i.row=l,i.column=Math.min(this.document.getLine(i.row).length,Math.max(0,c))),c<0&&(i.column=0),i},h}();A.prototype.$insertRight=!1,V.implement(A.prototype,L);function s(h,l,c){var i=c?h.column<=l.column:h.column<l.column;return h.row<l.row||h.row==l.row&&i}function m(h,l,c){var i=h.action=="insert",u=(i?1:-1)*(h.end.row-h.start.row),d=(i?1:-1)*(h.end.column-h.start.column),g=h.start,v=i?g:h.end;return s(l,g,c)?{row:l.row,column:l.column}:s(v,l,!c)?{row:l.row+u,column:l.column+(l.row==v.row?d:0)}:{row:g.row,column:g.column}}T.Anchor=A}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(y,T,G){var V=y("./lib/oop"),L=y("./apply_delta").applyDelta,A=y("./lib/event_emitter").EventEmitter,s=y("./range").Range,m=y("./anchor").Anchor,h=function(){function l(c){this.$lines=[""],c.length===0?this.$lines=[""]:Array.isArray(c)?this.insertMergedLines({row:0,column:0},c):this.insert({row:0,column:0},c)}return l.prototype.setValue=function(c){var i=this.getLength()-1;this.remove(new s(0,0,i,this.getLine(i).length)),this.insert({row:0,column:0},c||"")},l.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},l.prototype.createAnchor=function(c,i){return new m(this,c,i)},l.prototype.$detectNewLine=function(c){var i=c.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=i?i[1]:`
`,this._signal("changeNewLineMode")},l.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},l.prototype.setNewLineMode=function(c){this.$newLineMode!==c&&(this.$newLineMode=c,this._signal("changeNewLineMode"))},l.prototype.getNewLineMode=function(){return this.$newLineMode},l.prototype.isNewLine=function(c){return c==`\r
`||c=="\r"||c==`
`},l.prototype.getLine=function(c){return this.$lines[c]||""},l.prototype.getLines=function(c,i){return this.$lines.slice(c,i+1)},l.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},l.prototype.getLength=function(){return this.$lines.length},l.prototype.getTextRange=function(c){return this.getLinesForRange(c).join(this.getNewLineCharacter())},l.prototype.getLinesForRange=function(c){var i;if(c.start.row===c.end.row)i=[this.getLine(c.start.row).substring(c.start.column,c.end.column)];else{i=this.getLines(c.start.row,c.end.row),i[0]=(i[0]||"").substring(c.start.column);var u=i.length-1;c.end.row-c.start.row==u&&(i[u]=i[u].substring(0,c.end.column))}return i},l.prototype.insertLines=function(c,i){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(c,i)},l.prototype.removeLines=function(c,i){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(c,i)},l.prototype.insertNewLine=function(c){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(c,["",""])},l.prototype.insert=function(c,i){return this.getLength()<=1&&this.$detectNewLine(i),this.insertMergedLines(c,this.$split(i))},l.prototype.insertInLine=function(c,i){var u=this.clippedPos(c.row,c.column),d=this.pos(c.row,c.column+i.length);return this.applyDelta({start:u,end:d,action:"insert",lines:[i]},!0),this.clonePos(d)},l.prototype.clippedPos=function(c,i){var u=this.getLength();c===void 0?c=u:c<0?c=0:c>=u&&(c=u-1,i=void 0);var d=this.getLine(c);return i==null&&(i=d.length),i=Math.min(Math.max(i,0),d.length),{row:c,column:i}},l.prototype.clonePos=function(c){return{row:c.row,column:c.column}},l.prototype.pos=function(c,i){return{row:c,column:i}},l.prototype.$clipPosition=function(c){var i=this.getLength();return c.row>=i?(c.row=Math.max(0,i-1),c.column=this.getLine(i-1).length):(c.row=Math.max(0,c.row),c.column=Math.min(Math.max(c.column,0),this.getLine(c.row).length)),c},l.prototype.insertFullLines=function(c,i){c=Math.min(Math.max(c,0),this.getLength());var u=0;c<this.getLength()?(i=i.concat([""]),u=0):(i=[""].concat(i),c--,u=this.$lines[c].length),this.insertMergedLines({row:c,column:u},i)},l.prototype.insertMergedLines=function(c,i){var u=this.clippedPos(c.row,c.column),d={row:u.row+i.length-1,column:(i.length==1?u.column:0)+i[i.length-1].length};return this.applyDelta({start:u,end:d,action:"insert",lines:i}),this.clonePos(d)},l.prototype.remove=function(c){var i=this.clippedPos(c.start.row,c.start.column),u=this.clippedPos(c.end.row,c.end.column);return this.applyDelta({start:i,end:u,action:"remove",lines:this.getLinesForRange({start:i,end:u})}),this.clonePos(i)},l.prototype.removeInLine=function(c,i,u){var d=this.clippedPos(c,i),g=this.clippedPos(c,u);return this.applyDelta({start:d,end:g,action:"remove",lines:this.getLinesForRange({start:d,end:g})},!0),this.clonePos(d)},l.prototype.removeFullLines=function(c,i){c=Math.min(Math.max(0,c),this.getLength()-1),i=Math.min(Math.max(0,i),this.getLength()-1);var u=i==this.getLength()-1&&c>0,d=i<this.getLength()-1,g=u?c-1:c,v=u?this.getLine(g).length:0,x=d?i+1:i,C=d?0:this.getLine(x).length,_=new s(g,v,x,C),$=this.$lines.slice(c,i+1);return this.applyDelta({start:_.start,end:_.end,action:"remove",lines:this.getLinesForRange(_)}),$},l.prototype.removeNewLine=function(c){c<this.getLength()-1&&c>=0&&this.applyDelta({start:this.pos(c,this.getLine(c).length),end:this.pos(c+1,0),action:"remove",lines:["",""]})},l.prototype.replace=function(c,i){if(c instanceof s||(c=s.fromPoints(c.start,c.end)),i.length===0&&c.isEmpty())return c.start;if(i==this.getTextRange(c))return c.end;this.remove(c);var u;return i?u=this.insert(c.start,i):u=c.start,u},l.prototype.applyDeltas=function(c){for(var i=0;i<c.length;i++)this.applyDelta(c[i])},l.prototype.revertDeltas=function(c){for(var i=c.length-1;i>=0;i--)this.revertDelta(c[i])},l.prototype.applyDelta=function(c,i){var u=c.action=="insert";(u?c.lines.length<=1&&!c.lines[0]:!s.comparePoints(c.start,c.end))||(u&&c.lines.length>2e4?this.$splitAndapplyLargeDelta(c,2e4):(L(this.$lines,c,i),this._signal("change",c)))},l.prototype.$safeApplyDelta=function(c){var i=this.$lines.length;(c.action=="remove"&&c.start.row<i&&c.end.row<i||c.action=="insert"&&c.start.row<=i)&&this.applyDelta(c)},l.prototype.$splitAndapplyLargeDelta=function(c,i){for(var u=c.lines,d=u.length-i+1,g=c.start.row,v=c.start.column,x=0,C=0;x<d;x=C){C+=i-1;var _=u.slice(x,C);_.push(""),this.applyDelta({start:this.pos(g+x,v),end:this.pos(g+C,v=0),action:c.action,lines:_},!0)}c.lines=u.slice(x),c.start.row=g+x,c.start.column=v,this.applyDelta(c,!0)},l.prototype.revertDelta=function(c){this.$safeApplyDelta({start:this.clonePos(c.start),end:this.clonePos(c.end),action:c.action=="insert"?"remove":"insert",lines:c.lines.slice()})},l.prototype.indexToPosition=function(c,i){for(var u=this.$lines||this.getAllLines(),d=this.getNewLineCharacter().length,g=i||0,v=u.length;g<v;g++)if(c-=u[g].length+d,c<0)return{row:g,column:c+u[g].length+d};return{row:v-1,column:c+u[v-1].length+d}},l.prototype.positionToIndex=function(c,i){for(var u=this.$lines||this.getAllLines(),d=this.getNewLineCharacter().length,g=0,v=Math.min(c.row,u.length),x=i||0;x<v;++x)g+=u[x].length+d;return g+c.column},l.prototype.$split=function(c){return c.split(/\r\n|\r|\n/)},l}();h.prototype.$autoNewLine="",h.prototype.$newLineMode="auto",V.implement(h.prototype,A),T.Document=h}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(y,T,G){var V=y("./lib/oop"),L=y("./lib/event_emitter").EventEmitter,A=function(){function s(m,h){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=m;var l=this;this.$worker=function(){if(l.running){for(var c=new Date,i=l.currentLine,u=-1,d=l.doc,g=i;l.lines[i];)i++;var v=d.getLength(),x=0;for(l.running=!1;i<v;){l.$tokenizeRow(i),u=i;do i++;while(l.lines[i]);if(x++,x%5===0&&new Date-c>20){l.running=setTimeout(l.$worker,20);break}}l.currentLine=i,u==-1&&(u=i),g<=u&&l.fireUpdateEvent(g,u)}}}return s.prototype.setTokenizer=function(m){this.tokenizer=m,this.lines=[],this.states=[],this.start(0)},s.prototype.setDocument=function(m){this.doc=m,this.lines=[],this.states=[],this.stop()},s.prototype.fireUpdateEvent=function(m,h){var l={first:m,last:h};this._signal("update",{data:l})},s.prototype.start=function(m){this.currentLine=Math.min(m||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},s.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},s.prototype.$updateOnChange=function(m){var h=m.start.row,l=m.end.row-h;if(l===0)this.lines[h]=null;else if(m.action=="remove")this.lines.splice(h,l+1,null),this.states.splice(h,l+1,null);else{var c=Array(l+1);c.unshift(h,1),this.lines.splice.apply(this.lines,c),this.states.splice.apply(this.states,c)}this.currentLine=Math.min(h,this.currentLine,this.doc.getLength()),this.stop()},s.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},s.prototype.getTokens=function(m){return this.lines[m]||this.$tokenizeRow(m)},s.prototype.getState=function(m){return this.currentLine==m&&this.$tokenizeRow(m),this.states[m]||"start"},s.prototype.$tokenizeRow=function(m){var h=this.doc.getLine(m),l=this.states[m-1],c=this.tokenizer.getLineTokens(h,l,m);return this.states[m]+""!=c.state+""?(this.states[m]=c.state,this.lines[m+1]=null,this.currentLine>m+1&&(this.currentLine=m+1)):this.currentLine==m&&(this.currentLine=m+1),this.lines[m]=c.tokens},s.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},s}();V.implement(A.prototype,L),T.BackgroundTokenizer=A}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(y,T,G){var V=y("./lib/lang"),L=y("./range").Range,A=function(){function s(m,h,l){l===void 0&&(l="text"),this.setRegexp(m),this.clazz=h,this.type=l}return s.prototype.setRegexp=function(m){this.regExp+""!=m+""&&(this.regExp=m,this.cache=[])},s.prototype.update=function(m,h,l,c){if(this.regExp)for(var i=c.firstRow,u=c.lastRow,d={},g=i;g<=u;g++){var v=this.cache[g];v==null&&(v=V.getMatchOffsets(l.getLine(g),this.regExp),v.length>this.MAX_RANGES&&(v=v.slice(0,this.MAX_RANGES)),v=v.map(function($){return new L(g,$.offset,g,$.offset+$.length)}),this.cache[g]=v.length?v:"");for(var x=v.length;x--;){var C=v[x].toScreenRange(l),_=C.toString();d[_]||(d[_]=!0,h.drawSingleLineMarker(m,C,this.clazz,c))}}},s}();A.prototype.MAX_RANGES=500,T.SearchHighlight=A}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(y,T,G){var V=y("../range").Range,L=function(){function A(s,m){this.foldData=s,Array.isArray(m)?this.folds=m:m=this.folds=[m];var h=m[m.length-1];this.range=new V(m[0].start.row,m[0].start.column,h.end.row,h.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(l){l.setFoldLine(this)},this)}return A.prototype.shiftRow=function(s){this.start.row+=s,this.end.row+=s,this.folds.forEach(function(m){m.start.row+=s,m.end.row+=s})},A.prototype.addFold=function(s){if(s.sameRow){if(s.start.row<this.startRow||s.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(s),this.folds.sort(function(m,h){return-m.range.compareEnd(h.start.row,h.start.column)}),this.range.compareEnd(s.start.row,s.start.column)>0?(this.end.row=s.end.row,this.end.column=s.end.column):this.range.compareStart(s.end.row,s.end.column)<0&&(this.start.row=s.start.row,this.start.column=s.start.column)}else if(s.start.row==this.end.row)this.folds.push(s),this.end.row=s.end.row,this.end.column=s.end.column;else if(s.end.row==this.start.row)this.folds.unshift(s),this.start.row=s.start.row,this.start.column=s.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");s.foldLine=this},A.prototype.containsRow=function(s){return s>=this.start.row&&s<=this.end.row},A.prototype.walk=function(s,m,h){var l=0,c=this.folds,i,u,d,g=!0;m==null&&(m=this.end.row,h=this.end.column);for(var v=0;v<c.length;v++){if(i=c[v],u=i.range.compareStart(m,h),u==-1){s(null,m,h,l,g);return}if(d=s(null,i.start.row,i.start.column,l,g),d=!d&&s(i.placeholder,i.start.row,i.start.column,l),d||u===0)return;g=!i.sameRow,l=i.end.column}s(null,m,h,l,g)},A.prototype.getNextFoldTo=function(s,m){for(var h,l,c=0;c<this.folds.length;c++){if(h=this.folds[c],l=h.range.compareEnd(s,m),l==-1)return{fold:h,kind:"after"};if(l===0)return{fold:h,kind:"inside"}}return null},A.prototype.addRemoveChars=function(s,m,h){var l=this.getNextFoldTo(s,m),c,i;if(l){if(c=l.fold,l.kind=="inside"&&c.start.column!=m&&c.start.row!=s)window.console&&window.console.log(s,m,c);else if(c.start.row==s){i=this.folds;var u=i.indexOf(c);for(u===0&&(this.start.column+=h),u;u<i.length;u++){if(c=i[u],c.start.column+=h,!c.sameRow)return;c.end.column+=h}this.end.column+=h}}},A.prototype.split=function(s,m){var h=this.getNextFoldTo(s,m);if(!h||h.kind=="inside")return null;var l=h.fold,c=this.folds,i=this.foldData,u=c.indexOf(l),d=c[u-1];this.end.row=d.end.row,this.end.column=d.end.column,c=c.splice(u,c.length-u);var g=new A(i,c);return i.splice(i.indexOf(this)+1,0,g),g},A.prototype.merge=function(s){for(var m=s.folds,h=0;h<m.length;h++)this.addFold(m[h]);var l=this.foldData;l.splice(l.indexOf(s),1)},A.prototype.toString=function(){var s=[this.range.toString()+": ["];return this.folds.forEach(function(m){s.push("  "+m.toString())}),s.push("]"),s.join(`
`)},A.prototype.idxToPosition=function(s){for(var m=0,h=0;h<this.folds.length;h++){var l=this.folds[h];if(s-=l.start.column-m,s<0)return{row:l.start.row,column:l.start.column+s};if(s-=l.placeholder.length,s<0)return l.start;m=l.end.column}return{row:this.end.row,column:this.end.column+s}},A}();T.FoldLine=L}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(y,T,G){var V=y("./range").Range,L=V.comparePoints,A=function(){function s(){this.ranges=[],this.$bias=1}return s.prototype.pointIndex=function(m,h,l){for(var c=this.ranges,i=l||0;i<c.length;i++){var u=c[i],d=L(m,u.end);if(!(d>0)){var g=L(m,u.start);return d===0?h&&g!==0?-i-2:i:g>0||g===0&&!h?i:-i-1}}return-i-1},s.prototype.add=function(m){var h=!m.isEmpty(),l=this.pointIndex(m.start,h);l<0&&(l=-l-1);var c=this.pointIndex(m.end,h,l);return c<0?c=-c-1:c++,this.ranges.splice(l,c-l,m)},s.prototype.addList=function(m){for(var h=[],l=m.length;l--;)h.push.apply(h,this.add(m[l]));return h},s.prototype.substractPoint=function(m){var h=this.pointIndex(m);if(h>=0)return this.ranges.splice(h,1)},s.prototype.merge=function(){var m=[],h=this.ranges;h=h.sort(function(d,g){return L(d.start,g.start)});for(var l=h[0],c,i=1;i<h.length;i++){c=l,l=h[i];var u=L(c.end,l.start);u<0||u==0&&!c.isEmpty()&&!l.isEmpty()||(L(c.end,l.end)<0&&(c.end.row=l.end.row,c.end.column=l.end.column),h.splice(i,1),m.push(l),l=c,i--)}return this.ranges=h,m},s.prototype.contains=function(m,h){return this.pointIndex({row:m,column:h})>=0},s.prototype.containsPoint=function(m){return this.pointIndex(m)>=0},s.prototype.rangeAtPoint=function(m){var h=this.pointIndex(m);if(h>=0)return this.ranges[h]},s.prototype.clipRows=function(m,h){var l=this.ranges;if(l[0].start.row>h||l[l.length-1].start.row<m)return[];var c=this.pointIndex({row:m,column:0});c<0&&(c=-c-1);var i=this.pointIndex({row:h,column:0},c);i<0&&(i=-i-1);for(var u=[],d=c;d<i;d++)u.push(l[d]);return u},s.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},s.prototype.attach=function(m){this.session&&this.detach(),this.session=m,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},s.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},s.prototype.$onChange=function(m){for(var h=m.start,l=m.end,c=h.row,i=l.row,u=this.ranges,d=0,g=u.length;d<g;d++){var v=u[d];if(v.end.row>=c)break}if(m.action=="insert")for(var x=i-c,C=-h.column+l.column;d<g;d++){var v=u[d];if(v.start.row>c)break;if(v.start.row==c&&v.start.column>=h.column&&(v.start.column==h.column&&this.$bias<=0||(v.start.column+=C,v.start.row+=x)),v.end.row==c&&v.end.column>=h.column){if(v.end.column==h.column&&this.$bias<0)continue;v.end.column==h.column&&C>0&&d<g-1&&v.end.column>v.start.column&&v.end.column==u[d+1].start.column&&(v.end.column-=C),v.end.column+=C,v.end.row+=x}}else for(var x=c-i,C=h.column-l.column;d<g;d++){var v=u[d];if(v.start.row>i)break;v.end.row<i&&(c<v.end.row||c==v.end.row&&h.column<v.end.column)?(v.end.row=c,v.end.column=h.column):v.end.row==i?v.end.column<=l.column?(x||v.end.column>h.column)&&(v.end.column=h.column,v.end.row=h.row):(v.end.column+=C,v.end.row+=x):v.end.row>i&&(v.end.row+=x),v.start.row<i&&(c<v.start.row||c==v.start.row&&h.column<v.start.column)?(v.start.row=c,v.start.column=h.column):v.start.row==i?v.start.column<=l.column?(x||v.start.column>h.column)&&(v.start.column=h.column,v.start.row=h.row):(v.start.column+=C,v.start.row+=x):v.start.row>i&&(v.start.row+=x)}if(x!=0&&d<g)for(;d<g;d++){var v=u[d];v.start.row+=x,v.end.row+=x}},s}();A.prototype.comparePoints=L,T.RangeList=A}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(y,T,G){var V=this&&this.__extends||function(){var c=function(i,u){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(d[v]=g[v])},c(i,u)};return function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");c(i,u);function d(){this.constructor=i}i.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}}(),L=y("../range_list").RangeList,A=function(c){V(i,c);function i(u,d){var g=c.call(this)||this;return g.foldLine=null,g.placeholder=d,g.range=u,g.start=u.start,g.end=u.end,g.sameRow=u.start.row==u.end.row,g.subFolds=g.ranges=[],g}return i.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},i.prototype.setFoldLine=function(u){this.foldLine=u,this.subFolds.forEach(function(d){d.setFoldLine(u)})},i.prototype.clone=function(){var u=this.range.clone(),d=new i(u,this.placeholder);return this.subFolds.forEach(function(g){d.subFolds.push(g.clone())}),d.collapseChildren=this.collapseChildren,d},i.prototype.addSubFold=function(u){if(!this.range.isEqual(u)){m(u,this.start);for(var C=u.start.row,_=u.start.column,d=0,g=-1;d<this.subFolds.length&&(g=this.subFolds[d].range.compare(C,_),g==1);d++);var v=this.subFolds[d],x=0;if(g==0){if(v.range.containsRange(u))return v.addSubFold(u);x=1}for(var C=u.range.end.row,_=u.range.end.column,$=d,g=-1;$<this.subFolds.length&&(g=this.subFolds[$].range.compare(C,_),g==1);$++);g==0&&$++;for(var S=this.subFolds.splice(d,$-d,u),O=g==0?S.length-1:S.length,D=x;D<O;D++)u.addSubFold(S[D]);return u.setFoldLine(this.foldLine),u}},i.prototype.restoreRange=function(u){return l(u,this.start)},i}(L);function s(c,i){c.row-=i.row,c.row==0&&(c.column-=i.column)}function m(c,i){s(c.start,i),s(c.end,i)}function h(c,i){c.row==0&&(c.column+=i.column),c.row+=i.row}function l(c,i){h(c.start,i),h(c.end,i)}T.Fold=A}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(y,T,G){var V=y("../range").Range,L=y("./fold_line").FoldLine,A=y("./fold").Fold,s=y("../token_iterator").TokenIterator,m=y("../mouse/mouse_event").MouseEvent;function h(){this.getFoldAt=function(l,c,i){var u=this.getFoldLine(l);if(!u)return null;for(var d=u.folds,g=0;g<d.length;g++){var v=d[g].range;if(v.contains(l,c)){if(i==1&&v.isEnd(l,c)&&!v.isEmpty())continue;if(i==-1&&v.isStart(l,c)&&!v.isEmpty())continue;return d[g]}}},this.getFoldsInRange=function(l){var c=l.start,i=l.end,u=this.$foldData,d=[];c.column+=1,i.column-=1;for(var g=0;g<u.length;g++){var v=u[g].range.compareRange(l);if(v!=2){if(v==-2)break;for(var x=u[g].folds,C=0;C<x.length;C++){var _=x[C];if(v=_.range.compareRange(l),v==-2)break;if(v==2)continue;if(v==42)break;d.push(_)}}}return c.column-=1,i.column+=1,d},this.getFoldsInRangeList=function(l){if(Array.isArray(l)){var c=[];l.forEach(function(i){c=c.concat(this.getFoldsInRange(i))},this)}else var c=this.getFoldsInRange(l);return c},this.getAllFolds=function(){for(var l=[],c=this.$foldData,i=0;i<c.length;i++)for(var u=0;u<c[i].folds.length;u++)l.push(c[i].folds[u]);return l},this.getFoldStringAt=function(l,c,i,u){if(u=u||this.getFoldLine(l),!u)return null;for(var d={end:{column:0}},g,v,x=0;x<u.folds.length;x++){v=u.folds[x];var C=v.range.compareEnd(l,c);if(C==-1){g=this.getLine(v.start.row).substring(d.end.column,v.start.column);break}else if(C===0)return null;d=v}return g||(g=this.getLine(v.start.row).substring(d.end.column)),i==-1?g.substring(0,c-d.end.column):i==1?g.substring(c-d.end.column):g},this.getFoldLine=function(l,c){var i=this.$foldData,u=0;for(c&&(u=i.indexOf(c)),u==-1&&(u=0),u;u<i.length;u++){var d=i[u];if(d.start.row<=l&&d.end.row>=l)return d;if(d.end.row>l)return null}return null},this.getNextFoldLine=function(l,c){var i=this.$foldData,u=0;for(c&&(u=i.indexOf(c)),u==-1&&(u=0),u;u<i.length;u++){var d=i[u];if(d.end.row>=l)return d}return null},this.getFoldedRowCount=function(l,c){for(var i=this.$foldData,u=c-l+1,d=0;d<i.length;d++){var g=i[d],v=g.end.row,x=g.start.row;if(v>=c){x<c&&(x>=l?u-=c-x:u=0);break}else v>=l&&(x>=l?u-=v-x:u-=v-l+1)}return u},this.$addFoldLine=function(l){return this.$foldData.push(l),this.$foldData.sort(function(c,i){return c.start.row-i.start.row}),l},this.addFold=function(l,c){var i=this.$foldData,u=!1,d;l instanceof A?d=l:(d=new A(c,l),d.collapseChildren=c.collapseChildren),this.$clipRangeToDocument(d.range);var g=d.start.row,v=d.start.column,x=d.end.row,C=d.end.column,_=this.getFoldAt(g,v,1),$=this.getFoldAt(x,C,-1);if(_&&$==_)return _.addSubFold(d);_&&!_.range.isStart(g,v)&&this.removeFold(_),$&&!$.range.isEnd(x,C)&&this.removeFold($);var S=this.getFoldsInRange(d.range);S.length>0&&(this.removeFolds(S),d.collapseChildren||S.forEach(function(M){d.addSubFold(M)}));for(var O=0;O<i.length;O++){var D=i[O];if(x==D.start.row){D.addFold(d),u=!0;break}else if(g==D.end.row){if(D.addFold(d),u=!0,!d.sameRow){var N=i[O+1];if(N&&N.start.row==x){D.merge(N);break}}break}else if(x<=D.start.row)break}return u||(D=this.$addFoldLine(new L(this.$foldData,d))),this.$useWrapMode?this.$updateWrapData(D.start.row,D.start.row):this.$updateRowLengthCache(D.start.row,D.start.row),this.$modified=!0,this._signal("changeFold",{data:d,action:"add"}),d},this.addFolds=function(l){l.forEach(function(c){this.addFold(c)},this)},this.removeFold=function(l){var c=l.foldLine,i=c.start.row,u=c.end.row,d=this.$foldData,g=c.folds;if(g.length==1)d.splice(d.indexOf(c),1);else if(c.range.isEnd(l.end.row,l.end.column))g.pop(),c.end.row=g[g.length-1].end.row,c.end.column=g[g.length-1].end.column;else if(c.range.isStart(l.start.row,l.start.column))g.shift(),c.start.row=g[0].start.row,c.start.column=g[0].start.column;else if(l.sameRow)g.splice(g.indexOf(l),1);else{var v=c.split(l.start.row,l.start.column);g=v.folds,g.shift(),v.start.row=g[0].start.row,v.start.column=g[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(i,u):this.$updateRowLengthCache(i,u)),this.$modified=!0,this._signal("changeFold",{data:l,action:"remove"})},this.removeFolds=function(l){for(var c=[],i=0;i<l.length;i++)c.push(l[i]);c.forEach(function(u){this.removeFold(u)},this),this.$modified=!0},this.expandFold=function(l){this.removeFold(l),l.subFolds.forEach(function(c){l.restoreRange(c),this.addFold(c)},this),l.collapseChildren>0&&this.foldAll(l.start.row+1,l.end.row,l.collapseChildren-1),l.subFolds=[]},this.expandFolds=function(l){l.forEach(function(c){this.expandFold(c)},this)},this.unfold=function(l,c){var i,u;if(l==null)i=new V(0,0,this.getLength(),0),c==null&&(c=!0);else if(typeof l=="number")i=new V(l,0,l,this.getLine(l).length);else if("row"in l)i=V.fromPoints(l,l);else{if(Array.isArray(l))return u=[],l.forEach(function(g){u=u.concat(this.unfold(g))},this),u;i=l}u=this.getFoldsInRangeList(i);for(var d=u;u.length==1&&V.comparePoints(u[0].start,i.start)<0&&V.comparePoints(u[0].end,i.end)>0;)this.expandFolds(u),u=this.getFoldsInRangeList(i);if(c!=!1?this.removeFolds(u):this.expandFolds(u),d.length)return d},this.isRowFolded=function(l,c){return!!this.getFoldLine(l,c)},this.getRowFoldEnd=function(l,c){var i=this.getFoldLine(l,c);return i?i.end.row:l},this.getRowFoldStart=function(l,c){var i=this.getFoldLine(l,c);return i?i.start.row:l},this.getFoldDisplayLine=function(l,c,i,u,d){u==null&&(u=l.start.row),d==null&&(d=0),c==null&&(c=l.end.row),i==null&&(i=this.getLine(c).length);var g=this.doc,v="";return l.walk(function(x,C,_,$){if(!(C<u)){if(C==u){if(_<d)return;$=Math.max(d,$)}x!=null?v+=x:v+=g.getLine(C).substring($,_)}},c,i),v},this.getDisplayLine=function(l,c,i,u){var d=this.getFoldLine(l);if(d)return this.getFoldDisplayLine(d,l,c,i,u);var g;return g=this.doc.getLine(l),g.substring(u||0,c||g.length)},this.$cloneFoldData=function(){var l=[];return l=this.$foldData.map(function(c){var i=c.folds.map(function(u){return u.clone()});return new L(l,i)}),l},this.toggleFold=function(l){var c=this.selection,i=c.getRange(),u,d;if(i.isEmpty()){var g=i.start;if(u=this.getFoldAt(g.row,g.column),u){this.expandFold(u);return}else(d=this.findMatchingBracket(g))?i.comparePoint(d)==1?i.end=d:(i.start=d,i.start.column++,i.end.column--):(d=this.findMatchingBracket({row:g.row,column:g.column+1}))?(i.comparePoint(d)==1?i.end=d:i.start=d,i.start.column++):i=this.getCommentFoldRange(g.row,g.column)||i}else{var v=this.getFoldsInRange(i);if(l&&v.length){this.expandFolds(v);return}else v.length==1&&(u=v[0])}if(u||(u=this.getFoldAt(i.start.row,i.start.column)),u&&u.range.toString()==i.toString()){this.expandFold(u);return}var x="...";if(!i.isMultiLine()){if(x=this.getTextRange(i),x.length<4)return;x=x.trim().substring(0,2)+".."}this.addFold(x,i)},this.getCommentFoldRange=function(l,c,i){var u=new s(this,l,c),d=u.getCurrentToken(),g=d&&d.type;if(d&&/^comment|string/.test(g)){g=g.match(/comment|string/)[0],g=="comment"&&(g+="|doc-start|\\.doc");var v=new RegExp(g),x=new V;if(i!=1){do d=u.stepBackward();while(d&&v.test(d.type)&&!/^comment.end/.test(d.type));d=u.stepForward()}if(x.start.row=u.getCurrentTokenRow(),x.start.column=u.getCurrentTokenColumn()+(/^comment.start/.test(d.type)?d.value.length:2),u=new s(this,l,c),i!=-1){var C=-1;do if(d=u.stepForward(),C==-1){var _=this.getState(u.$row);v.test(_)||(C=u.$row)}else if(u.$row>C)break;while(d&&v.test(d.type)&&!/^comment.start/.test(d.type));d=u.stepBackward()}else d=u.getCurrentToken();return x.end.row=u.getCurrentTokenRow(),x.end.column=u.getCurrentTokenColumn(),/^comment.end/.test(d.type)||(x.end.column+=d.value.length-2),x}},this.foldAll=function(l,c,i,u){i==null&&(i=1e5);var d=this.foldWidgets;if(d){c=c||this.getLength(),l=l||0;for(var g=l;g<c;g++)if(d[g]==null&&(d[g]=this.getFoldWidget(g)),d[g]=="start"&&!(u&&!u(g))){var v=this.getFoldWidgetRange(g);v&&v.isMultiLine()&&v.end.row<=c&&v.start.row>=l&&(g=v.end.row,v.collapseChildren=i,this.addFold("...",v))}}},this.foldToLevel=function(l){for(this.foldAll();l-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var l=this;this.foldAll(null,null,null,function(c){for(var i=l.getTokens(c),u=0;u<i.length;u++){var d=i[u];if(!(d.type=="text"&&/^\s+$/.test(d.value)))return!!/comment/.test(d.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(l){if(!this.$foldStyles[l])throw new Error("invalid fold style: "+l+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=l){this.$foldStyle=l,l=="manual"&&this.unfold();var c=this.$foldMode;this.$setFolding(null),this.$setFolding(c)}},this.$setFolding=function(l){if(this.$foldMode!=l){if(this.$foldMode=l,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!l||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=l.getFoldWidget.bind(l,this,this.$foldStyle),this.getFoldWidgetRange=l.getFoldWidgetRange.bind(l,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(l,c){var i=this.foldWidgets;if(!i||c&&i[l])return{};for(var u=l-1,d;u>=0;){var g=i[u];if(g==null&&(g=i[u]=this.getFoldWidget(u)),g=="start"){var v=this.getFoldWidgetRange(u);if(d||(d=v),v&&v.end.row>=l)break}u--}return{range:u!==-1&&v,firstRange:d}},this.onFoldWidgetClick=function(l,c){c instanceof m&&(c=c.domEvent);var i={children:c.shiftKey,all:c.ctrlKey||c.metaKey,siblings:c.altKey},u=this.$toggleFoldWidget(l,i);if(!u){var d=c.target||c.srcElement;d&&/ace_fold-widget/.test(d.className)&&(d.className+=" ace_invalid")}},this.$toggleFoldWidget=function(l,c){if(this.getFoldWidget){var i=this.getFoldWidget(l),u=this.getLine(l),d=i==="end"?-1:1,g=this.getFoldAt(l,d===-1?0:u.length,d);if(g)return c.children||c.all?this.removeFold(g):this.expandFold(g),g;var v=this.getFoldWidgetRange(l,!0);if(v&&!v.isMultiLine()&&(g=this.getFoldAt(v.start.row,v.start.column,1),g&&v.isEqual(g.range)))return this.removeFold(g),g;if(c.siblings){var x=this.getParentFoldRangeData(l);if(x.range)var C=x.range.start.row+1,_=x.range.end.row;this.foldAll(C,_,c.all?1e4:0)}else c.children?(_=v?v.end.row:this.getLength(),this.foldAll(l+1,_,c.all?1e4:0)):v&&(c.all&&(v.collapseChildren=1e4),this.addFold("...",v));return v}},this.toggleFoldWidget=function(l){var c=this.selection.getCursor().row;c=this.getRowFoldStart(c);var i=this.$toggleFoldWidget(c,{});if(!i){var u=this.getParentFoldRangeData(c,!0);if(i=u.range||u.firstRange,i){c=i.start.row;var d=this.getFoldAt(c,this.getLine(c).length,1);d?this.removeFold(d):this.addFold("...",i)}}},this.updateFoldWidgets=function(l){var c=l.start.row,i=l.end.row-c;if(i===0)this.foldWidgets[c]=null;else if(l.action=="remove")this.foldWidgets.splice(c,i+1,null);else{var u=Array(i+1);u.unshift(c,1),this.foldWidgets.splice.apply(this.foldWidgets,u)}},this.tokenizerUpdateFoldWidgets=function(l){var c=l.data;c.first!=c.last&&this.foldWidgets.length>c.first&&this.foldWidgets.splice(c.first,this.foldWidgets.length)}}T.Folding=h}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(y,T,G){var V=y("../token_iterator").TokenIterator,L=y("../range").Range;function A(){this.findMatchingBracket=function(s,m){if(s.column==0)return null;var h=m||this.getLine(s.row).charAt(s.column-1);if(h=="")return null;var l=h.match(/([\(\[\{])|([\)\]\}])/);return l?l[1]?this.$findClosingBracket(l[1],s):this.$findOpeningBracket(l[2],s):null},this.getBracketRange=function(s){var m=this.getLine(s.row),h=!0,l,c=m.charAt(s.column-1),i=c&&c.match(/([\(\[\{])|([\)\]\}])/);if(i||(c=m.charAt(s.column),s={row:s.row,column:s.column+1},i=c&&c.match(/([\(\[\{])|([\)\]\}])/),h=!1),!i)return null;if(i[1]){var u=this.$findClosingBracket(i[1],s);if(!u)return null;l=L.fromPoints(s,u),h||(l.end.column++,l.start.column--),l.cursor=l.end}else{var u=this.$findOpeningBracket(i[2],s);if(!u)return null;l=L.fromPoints(u,s),h||(l.start.column++,l.end.column--),l.cursor=l.start}return l},this.getMatchingBracketRanges=function(s,m){var h=this.getLine(s.row),l=/([\(\[\{])|([\)\]\}])/,c=!m&&h.charAt(s.column-1),i=c&&c.match(l);if(i||(c=(m===void 0||m)&&h.charAt(s.column),s={row:s.row,column:s.column+1},i=c&&c.match(l)),!i)return null;var u=new L(s.row,s.column-1,s.row,s.column),d=i[1]?this.$findClosingBracket(i[1],s):this.$findOpeningBracket(i[2],s);if(!d)return[u];var g=new L(d.row,d.column,d.row,d.column+1);return[u,g]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(s,m,h){var l=this.$brackets[s],c=1,i=new V(this,m.row,m.column),u=i.getCurrentToken();if(u||(u=i.stepForward()),!!u){h||(h=new RegExp("(\\.?"+u.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var d=m.column-i.getCurrentTokenColumn()-2,g=u.value;;){for(;d>=0;){var v=g.charAt(d);if(v==l){if(c-=1,c==0)return{row:i.getCurrentTokenRow(),column:d+i.getCurrentTokenColumn()}}else v==s&&(c+=1);d-=1}do u=i.stepBackward();while(u&&!h.test(u.type));if(u==null)break;g=u.value,d=g.length-1}return null}},this.$findClosingBracket=function(s,m,h){var l=this.$brackets[s],c=1,i=new V(this,m.row,m.column),u=i.getCurrentToken();if(u||(u=i.stepForward()),!!u){h||(h=new RegExp("(\\.?"+u.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var d=m.column-i.getCurrentTokenColumn();;){for(var g=u.value,v=g.length;d<v;){var x=g.charAt(d);if(x==l){if(c-=1,c==0)return{row:i.getCurrentTokenRow(),column:d+i.getCurrentTokenColumn()}}else x==s&&(c+=1);d+=1}do u=i.stepForward();while(u&&!h.test(u.type));if(u==null)break;d=0}return null}},this.getMatchingTags=function(s){var m=new V(this,s.row,s.column),h=this.$findTagName(m);if(h){var l=m.stepBackward();return l.value==="<"?this.$findClosingTag(m,h):this.$findOpeningTag(m,h)}},this.$findTagName=function(s){var m=s.getCurrentToken(),h=!1,l=!1;if(m&&m.type.indexOf("tag-name")===-1)do l?m=s.stepBackward():m=s.stepForward(),m&&(m.value==="/>"?l=!0:m.type.indexOf("tag-name")!==-1&&(h=!0));while(m&&!h);return m},this.$findClosingTag=function(s,m){var h,l=m.value,c=m.value,i=0,u=new L(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);m=s.stepForward();var d=new L(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+m.value.length),g=!1;do if(h=m,m=s.stepForward(),m){if(m.value===">"&&!g){var v=new L(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);g=!0}if(m.type.indexOf("tag-name")!==-1){if(l=m.value,c===l){if(h.value==="<")i++;else if(h.value==="</"&&(i--,i<0)){s.stepBackward();var x=new L(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+2);m=s.stepForward();var C=new L(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+m.value.length);if(m=s.stepForward(),m&&m.value===">")var _=new L(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);else return}}}else if(c===l&&m.value==="/>"&&(i--,i<0))var x=new L(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+2),C=x,_=C,v=new L(d.end.row,d.end.column,d.end.row,d.end.column+1)}while(m&&i>=0);if(u&&v&&x&&_&&d&&C)return{openTag:new L(u.start.row,u.start.column,v.end.row,v.end.column),closeTag:new L(x.start.row,x.start.column,_.end.row,_.end.column),openTagName:d,closeTagName:C}},this.$findOpeningTag=function(s,m){var h=s.getCurrentToken(),l=m.value,c=0,i=s.getCurrentTokenRow(),u=s.getCurrentTokenColumn(),d=u+2,g=new L(i,u,i,d);s.stepForward();var v=new L(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+m.value.length);if(m=s.stepForward(),!(!m||m.value!==">")){var x=new L(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);s.stepBackward(),s.stepBackward();do if(m=h,i=s.getCurrentTokenRow(),u=s.getCurrentTokenColumn(),d=u+m.value.length,h=s.stepBackward(),m){if(m.type.indexOf("tag-name")!==-1){if(l===m.value)if(h.value==="<"){if(c++,c>0){var C=new L(i,u,i,d),_=new L(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);do m=s.stepForward();while(m&&m.value!==">");var $=new L(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1)}}else h.value==="</"&&c--}else if(m.value==="/>"){for(var S=0,O=h;O;){if(O.type.indexOf("tag-name")!==-1&&O.value===l){c--;break}else if(O.value==="<")break;O=s.stepBackward(),S++}for(var D=0;D<S;D++)s.stepForward()}}while(h&&c<=0);if(_&&$&&g&&x&&C&&v)return{openTag:new L(_.start.row,_.start.column,$.end.row,$.end.column),closeTag:new L(g.start.row,g.start.column,x.end.row,x.end.column),openTagName:C,closeTagName:v}}}}T.BracketMatch=A}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(y,T,G){var V=y("./lib/oop"),L=y("./lib/lang"),A=y("./bidihandler").BidiHandler,s=y("./config"),m=y("./lib/event_emitter").EventEmitter,h=y("./selection").Selection,l=y("./mode/text").Mode,c=y("./range").Range,i=y("./document").Document,u=y("./background_tokenizer").BackgroundTokenizer,d=y("./search_highlight").SearchHighlight,g=function(){function M(k,R){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++M.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new u(new l().getTokenizer(),this);var F=this;this.bgTokenizer.on("update",function(H){F._signal("tokenizerUpdate",H)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof k!="object"||!k.getLine)&&(k=new i(k)),this.setDocument(k),this.selection=new h(this),this.$bidiHandler=new A(this),s.resetOptions(this),this.setMode(R),s._signal("session",this),this.destroyed=!1}return M.prototype.setDocument=function(k){this.doc&&this.doc.off("change",this.$onChange),this.doc=k,k.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},M.prototype.getDocument=function(){return this.doc},M.prototype.$resetRowCache=function(k){if(!k){this.$docRowCache=[],this.$screenRowCache=[];return}var R=this.$docRowCache.length,F=this.$getRowCacheIndex(this.$docRowCache,k)+1;R>F&&(this.$docRowCache.splice(F,R),this.$screenRowCache.splice(F,R))},M.prototype.$getRowCacheIndex=function(k,R){for(var F=0,H=k.length-1;F<=H;){var j=F+H>>1,P=k[j];if(R>P)F=j+1;else if(R<P)H=j-1;else return j}return F-1},M.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},M.prototype.onChangeFold=function(k){var R=k.data;this.$resetRowCache(R.start.row)},M.prototype.onChange=function(k){this.$modified=!0,this.$bidiHandler.onChange(k),this.$resetRowCache(k.start.row);var R=this.$updateInternalDataOnChange(k);!this.$fromUndo&&this.$undoManager&&(R&&R.length&&(this.$undoManager.add({action:"removeFolds",folds:R},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(k,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(k),this._signal("change",k)},M.prototype.setValue=function(k){this.doc.setValue(k),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},M.prototype.toString=function(){return this.doc.getValue()},M.prototype.getSelection=function(){return this.selection},M.prototype.getState=function(k){return this.bgTokenizer.getState(k)},M.prototype.getTokens=function(k){return this.bgTokenizer.getTokens(k)},M.prototype.getTokenAt=function(k,R){var F=this.bgTokenizer.getTokens(k),H,j=0;if(R==null){var P=F.length-1;j=this.getLine(k).length}else for(var P=0;P<F.length&&(j+=F[P].value.length,!(j>=R));P++);return H=F[P],H?(H.index=P,H.start=j-H.value.length,H):null},M.prototype.setUndoManager=function(k){if(this.$undoManager=k,this.$informUndoManager&&this.$informUndoManager.cancel(),k){var R=this;k.addSession(this),this.$syncInformUndoManager=function(){R.$informUndoManager.cancel(),R.mergeUndoDeltas=!1},this.$informUndoManager=L.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},M.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},M.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},M.prototype.getTabString=function(){return this.getUseSoftTabs()?L.stringRepeat(" ",this.getTabSize()):"	"},M.prototype.setUseSoftTabs=function(k){this.setOption("useSoftTabs",k)},M.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},M.prototype.setTabSize=function(k){this.setOption("tabSize",k)},M.prototype.getTabSize=function(){return this.$tabSize},M.prototype.isTabStop=function(k){return this.$useSoftTabs&&k.column%this.$tabSize===0},M.prototype.setNavigateWithinSoftTabs=function(k){this.setOption("navigateWithinSoftTabs",k)},M.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},M.prototype.setOverwrite=function(k){this.setOption("overwrite",k)},M.prototype.getOverwrite=function(){return this.$overwrite},M.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},M.prototype.addGutterDecoration=function(k,R){this.$decorations[k]||(this.$decorations[k]=""),this.$decorations[k]+=" "+R,this._signal("changeBreakpoint",{})},M.prototype.removeGutterDecoration=function(k,R){this.$decorations[k]=(this.$decorations[k]||"").replace(" "+R,""),this._signal("changeBreakpoint",{})},M.prototype.getBreakpoints=function(){return this.$breakpoints},M.prototype.setBreakpoints=function(k){this.$breakpoints=[];for(var R=0;R<k.length;R++)this.$breakpoints[k[R]]="ace_breakpoint";this._signal("changeBreakpoint",{})},M.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},M.prototype.setBreakpoint=function(k,R){R===void 0&&(R="ace_breakpoint"),R?this.$breakpoints[k]=R:delete this.$breakpoints[k],this._signal("changeBreakpoint",{})},M.prototype.clearBreakpoint=function(k){delete this.$breakpoints[k],this._signal("changeBreakpoint",{})},M.prototype.addMarker=function(k,R,F,H){var j=this.$markerId++,P={range:k,type:F||"line",renderer:typeof F=="function"?F:null,clazz:R,inFront:!!H,id:j};return H?(this.$frontMarkers[j]=P,this._signal("changeFrontMarker")):(this.$backMarkers[j]=P,this._signal("changeBackMarker")),j},M.prototype.addDynamicMarker=function(k,R){if(k.update){var F=this.$markerId++;return k.id=F,k.inFront=!!R,R?(this.$frontMarkers[F]=k,this._signal("changeFrontMarker")):(this.$backMarkers[F]=k,this._signal("changeBackMarker")),k}},M.prototype.removeMarker=function(k){var R=this.$frontMarkers[k]||this.$backMarkers[k];if(R){var F=R.inFront?this.$frontMarkers:this.$backMarkers;delete F[k],this._signal(R.inFront?"changeFrontMarker":"changeBackMarker")}},M.prototype.getMarkers=function(k){return k?this.$frontMarkers:this.$backMarkers},M.prototype.highlight=function(k){if(!this.$searchHighlight){var R=new d(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(R)}this.$searchHighlight.setRegexp(k)},M.prototype.highlightLines=function(k,R,F,H){typeof R!="number"&&(F=R,R=k),F||(F="ace_step");var j=new c(k,0,R,1/0);return j.id=this.addMarker(j,F,"fullLine",H),j},M.prototype.setAnnotations=function(k){this.$annotations=k,this._signal("changeAnnotation",{})},M.prototype.getAnnotations=function(){return this.$annotations||[]},M.prototype.clearAnnotations=function(){this.setAnnotations([])},M.prototype.$detectNewLine=function(k){var R=k.match(/^.*?(\r?\n)/m);R?this.$autoNewLine=R[1]:this.$autoNewLine=`
`},M.prototype.getWordRange=function(k,R){var F=this.getLine(k),H=!1;if(R>0&&(H=!!F.charAt(R-1).match(this.tokenRe)),H||(H=!!F.charAt(R).match(this.tokenRe)),H)var j=this.tokenRe;else if(/^\s+$/.test(F.slice(R-1,R+1)))var j=/\s/;else var j=this.nonTokenRe;var P=R;if(P>0){do P--;while(P>=0&&F.charAt(P).match(j));P++}for(var ee=R;ee<F.length&&F.charAt(ee).match(j);)ee++;return new c(k,P,k,ee)},M.prototype.getAWordRange=function(k,R){for(var F=this.getWordRange(k,R),H=this.getLine(F.end.row);H.charAt(F.end.column).match(/[ \t]/);)F.end.column+=1;return F},M.prototype.setNewLineMode=function(k){this.doc.setNewLineMode(k)},M.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},M.prototype.setUseWorker=function(k){this.setOption("useWorker",k)},M.prototype.getUseWorker=function(){return this.$useWorker},M.prototype.onReloadTokenizer=function(k){var R=k.data;this.bgTokenizer.start(R.first),this._signal("tokenizerUpdate",k)},M.prototype.setMode=function(k,R){if(k&&typeof k=="object"){if(k.getTokenizer)return this.$onChangeMode(k);var F=k,H=F.path}else H=k||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new l),this.$modes[H]&&!F){this.$onChangeMode(this.$modes[H]),R&&R();return}this.$modeId=H,s.loadModule(["mode",H],(function(j){if(this.$modeId!==H)return R&&R();this.$modes[H]&&!F?this.$onChangeMode(this.$modes[H]):j&&j.Mode&&(j=new j.Mode(F),F||(this.$modes[H]=j,j.$id=H),this.$onChangeMode(j)),R&&R()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},M.prototype.$onChangeMode=function(k,R){if(R||(this.$modeId=k.$id),this.$mode!==k){var F=this.$mode;this.$mode=k,this.$stopWorker(),this.$useWorker&&this.$startWorker();var H=k.getTokenizer();if(H.on!==void 0){var j=this.onReloadTokenizer.bind(this);H.on("update",j)}this.bgTokenizer.setTokenizer(H),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=k.tokenRe,this.nonTokenRe=k.nonTokenRe,R||(k.attachToSession&&k.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(k.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:F,mode:k}))}},M.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},M.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(k){s.warn("Could not load worker",k),this.$worker=null}},M.prototype.getMode=function(){return this.$mode},M.prototype.setScrollTop=function(k){this.$scrollTop===k||isNaN(k)||(this.$scrollTop=k,this._signal("changeScrollTop",k))},M.prototype.getScrollTop=function(){return this.$scrollTop},M.prototype.setScrollLeft=function(k){this.$scrollLeft===k||isNaN(k)||(this.$scrollLeft=k,this._signal("changeScrollLeft",k))},M.prototype.getScrollLeft=function(){return this.$scrollLeft},M.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},M.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var k=0;return this.lineWidgets.forEach(function(R){R&&R.screenWidth>k&&(k=R.screenWidth)}),this.lineWidgetWidth=k},M.prototype.$computeWidth=function(k){if(this.$modified||k){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var R=this.doc.getAllLines(),F=this.$rowLengthCache,H=0,j=0,P=this.$foldData[j],ee=P?P.start.row:1/0,J=R.length,K=0;K<J;K++){if(K>ee){if(K=P.end.row+1,K>=J)break;P=this.$foldData[j++],ee=P?P.start.row:1/0}F[K]==null&&(F[K]=this.$getStringScreenWidth(R[K])[0]),F[K]>H&&(H=F[K])}this.screenWidth=H}},M.prototype.getLine=function(k){return this.doc.getLine(k)},M.prototype.getLines=function(k,R){return this.doc.getLines(k,R)},M.prototype.getLength=function(){return this.doc.getLength()},M.prototype.getTextRange=function(k){return this.doc.getTextRange(k||this.selection.getRange())},M.prototype.insert=function(k,R){return this.doc.insert(k,R)},M.prototype.remove=function(k){return this.doc.remove(k)},M.prototype.removeFullLines=function(k,R){return this.doc.removeFullLines(k,R)},M.prototype.undoChanges=function(k,R){if(k.length){this.$fromUndo=!0;for(var F=k.length-1;F!=-1;F--){var H=k[F];H.action=="insert"||H.action=="remove"?this.doc.revertDelta(H):H.folds&&this.addFolds(H.folds)}!R&&this.$undoSelect&&(k.selectionBefore?this.selection.fromJSON(k.selectionBefore):this.selection.setRange(this.$getUndoSelection(k,!0))),this.$fromUndo=!1}},M.prototype.redoChanges=function(k,R){if(k.length){this.$fromUndo=!0;for(var F=0;F<k.length;F++){var H=k[F];(H.action=="insert"||H.action=="remove")&&this.doc.$safeApplyDelta(H)}!R&&this.$undoSelect&&(k.selectionAfter?this.selection.fromJSON(k.selectionAfter):this.selection.setRange(this.$getUndoSelection(k,!1))),this.$fromUndo=!1}},M.prototype.setUndoSelect=function(k){this.$undoSelect=k},M.prototype.$getUndoSelection=function(k,R){function F(J){return R?J.action!=="insert":J.action==="insert"}for(var H,j,P=0;P<k.length;P++){var ee=k[P];if(ee.start){if(!H){F(ee)?H=c.fromPoints(ee.start,ee.end):H=c.fromPoints(ee.start,ee.start);continue}F(ee)?(j=ee.start,H.compare(j.row,j.column)==-1&&H.setStart(j),j=ee.end,H.compare(j.row,j.column)==1&&H.setEnd(j)):(j=ee.start,H.compare(j.row,j.column)==-1&&(H=c.fromPoints(ee.start,ee.start)))}}return H},M.prototype.replace=function(k,R){return this.doc.replace(k,R)},M.prototype.moveText=function(k,R,F){var H=this.getTextRange(k),j=this.getFoldsInRange(k),P=c.fromPoints(R,R);if(!F){this.remove(k);var ee=k.start.row-k.end.row,J=ee?-k.end.column:k.start.column-k.end.column;J&&(P.start.row==k.end.row&&P.start.column>k.end.column&&(P.start.column+=J),P.end.row==k.end.row&&P.end.column>k.end.column&&(P.end.column+=J)),ee&&P.start.row>=k.end.row&&(P.start.row+=ee,P.end.row+=ee)}if(P.end=this.insert(P.start,H),j.length){var K=k.start,ae=P.start,ee=ae.row-K.row,J=ae.column-K.column;this.addFolds(j.map(function(ge){return ge=ge.clone(),ge.start.row==K.row&&(ge.start.column+=J),ge.end.row==K.row&&(ge.end.column+=J),ge.start.row+=ee,ge.end.row+=ee,ge}))}return P},M.prototype.indentRows=function(k,R,F){F=F.replace(/\t/g,this.getTabString());for(var H=k;H<=R;H++)this.doc.insertInLine({row:H,column:0},F)},M.prototype.outdentRows=function(k){for(var R=k.collapseRows(),F=new c(0,0,0,0),H=this.getTabSize(),j=R.start.row;j<=R.end.row;++j){var P=this.getLine(j);F.start.row=j,F.end.row=j;for(var ee=0;ee<H&&P.charAt(ee)==" ";++ee);ee<H&&P.charAt(ee)=="	"?(F.start.column=ee,F.end.column=ee+1):(F.start.column=0,F.end.column=ee),this.remove(F)}},M.prototype.$moveLines=function(k,R,F){if(k=this.getRowFoldStart(k),R=this.getRowFoldEnd(R),F<0){var H=this.getRowFoldStart(k+F);if(H<0)return 0;var j=H-k}else if(F>0){var H=this.getRowFoldEnd(R+F);if(H>this.doc.getLength()-1)return 0;var j=H-R}else{k=this.$clipRowToDocument(k),R=this.$clipRowToDocument(R);var j=R-k+1}var P=new c(k,0,R,Number.MAX_VALUE),ee=this.getFoldsInRange(P).map(function(K){return K=K.clone(),K.start.row+=j,K.end.row+=j,K}),J=F==0?this.doc.getLines(k,R):this.doc.removeFullLines(k,R);return this.doc.insertFullLines(k+j,J),ee.length&&this.addFolds(ee),j},M.prototype.moveLinesUp=function(k,R){return this.$moveLines(k,R,-1)},M.prototype.moveLinesDown=function(k,R){return this.$moveLines(k,R,1)},M.prototype.duplicateLines=function(k,R){return this.$moveLines(k,R,0)},M.prototype.$clipRowToDocument=function(k){return Math.max(0,Math.min(k,this.doc.getLength()-1))},M.prototype.$clipColumnToRow=function(k,R){return R<0?0:Math.min(this.doc.getLine(k).length,R)},M.prototype.$clipPositionToDocument=function(k,R){if(R=Math.max(0,R),k<0)k=0,R=0;else{var F=this.doc.getLength();k>=F?(k=F-1,R=this.doc.getLine(F-1).length):R=Math.min(this.doc.getLine(k).length,R)}return{row:k,column:R}},M.prototype.$clipRangeToDocument=function(k){k.start.row<0?(k.start.row=0,k.start.column=0):k.start.column=this.$clipColumnToRow(k.start.row,k.start.column);var R=this.doc.getLength()-1;return k.end.row>R?(k.end.row=R,k.end.column=this.doc.getLine(R).length):k.end.column=this.$clipColumnToRow(k.end.row,k.end.column),k},M.prototype.setUseWrapMode=function(k){if(k!=this.$useWrapMode){if(this.$useWrapMode=k,this.$modified=!0,this.$resetRowCache(0),k){var R=this.getLength();this.$wrapData=Array(R),this.$updateWrapData(0,R-1)}this._signal("changeWrapMode")}},M.prototype.getUseWrapMode=function(){return this.$useWrapMode},M.prototype.setWrapLimitRange=function(k,R){(this.$wrapLimitRange.min!==k||this.$wrapLimitRange.max!==R)&&(this.$wrapLimitRange={min:k,max:R},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},M.prototype.adjustWrapLimit=function(k,R){var F=this.$wrapLimitRange;F.max<0&&(F={min:R,max:R});var H=this.$constrainWrapLimit(k,F.min,F.max);return H!=this.$wrapLimit&&H>1?(this.$wrapLimit=H,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},M.prototype.$constrainWrapLimit=function(k,R,F){return R&&(k=Math.max(R,k)),F&&(k=Math.min(F,k)),k},M.prototype.getWrapLimit=function(){return this.$wrapLimit},M.prototype.setWrapLimit=function(k){this.setWrapLimitRange(k,k)},M.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},M.prototype.$updateInternalDataOnChange=function(k){var R=this.$useWrapMode,F=k.action,H=k.start,j=k.end,P=H.row,ee=j.row,J=ee-P,K=null;if(this.$updating=!0,J!=0)if(F==="remove"){this[R?"$wrapData":"$rowLengthCache"].splice(P,J);var ae=this.$foldData;K=this.getFoldsInRange(k),this.removeFolds(K);var Q=this.getFoldLine(j.row),he=0;if(Q){Q.addRemoveChars(j.row,j.column,H.column-j.column),Q.shiftRow(-J);var ge=this.getFoldLine(P);ge&&ge!==Q&&(ge.merge(Q),Q=ge),he=ae.indexOf(Q)+1}for(he;he<ae.length;he++){var Q=ae[he];Q.start.row>=j.row&&Q.shiftRow(-J)}ee=P}else{var Se=Array(J);Se.unshift(P,0);var ce=R?this.$wrapData:this.$rowLengthCache;ce.splice.apply(ce,Se);var ae=this.$foldData,Q=this.getFoldLine(P),he=0;if(Q){var ne=Q.range.compareInside(H.row,H.column);ne==0?(Q=Q.split(H.row,H.column),Q&&(Q.shiftRow(J),Q.addRemoveChars(ee,0,j.column-H.column))):ne==-1&&(Q.addRemoveChars(P,0,j.column-H.column),Q.shiftRow(J)),he=ae.indexOf(Q)+1}for(he;he<ae.length;he++){var Q=ae[he];Q.start.row>=P&&Q.shiftRow(J)}}else{J=Math.abs(k.start.column-k.end.column),F==="remove"&&(K=this.getFoldsInRange(k),this.removeFolds(K),J=-J);var Q=this.getFoldLine(P);Q&&Q.addRemoveChars(P,H.column,J)}return R&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,R?this.$updateWrapData(P,ee):this.$updateRowLengthCache(P,ee),K},M.prototype.$updateRowLengthCache=function(k,R,F){this.$rowLengthCache[k]=null,this.$rowLengthCache[R]=null},M.prototype.$updateWrapData=function(k,R){var F=this.doc.getAllLines(),H=this.getTabSize(),j=this.$wrapData,P=this.$wrapLimit,ee,J,K=k;for(R=Math.min(R,F.length-1);K<=R;)J=this.getFoldLine(K,J),J?(ee=[],J.walk((function(ae,Q,he,ge){var Se;if(ae!=null){Se=this.$getDisplayTokens(ae,ee.length),Se[0]=C;for(var ce=1;ce<Se.length;ce++)Se[ce]=_}else Se=this.$getDisplayTokens(F[Q].substring(ge,he),ee.length);ee=ee.concat(Se)}).bind(this),J.end.row,F[J.end.row].length+1),j[J.start.row]=this.$computeWrapSplits(ee,P,H),K=J.end.row+1):(ee=this.$getDisplayTokens(F[K]),j[K]=this.$computeWrapSplits(ee,P,H),K++)},M.prototype.$computeWrapSplits=function(k,R,F){if(k.length==0)return[];var H=[],j=k.length,P=0,ee=0,J=this.$wrapAsCode,K=this.$indentedSoftWrap,ae=R<=Math.max(2*F,8)||K===!1?0:Math.floor(R/2);function Q(){var ne=0;if(ae===0)return ne;if(K)for(var fe=0;fe<k.length;fe++){var X=k[fe];if(X==S)ne+=1;else if(X==O)ne+=F;else{if(X==D)continue;break}}return J&&K!==!1&&(ne+=F),Math.min(ne,ae)}function he(ne){for(var fe=ne-P,X=P;X<ne;X++){var ye=k[X];(ye===12||ye===2)&&(fe-=1)}H.length||(ge=Q(),H.indent=ge),ee+=fe,H.push(ee),P=ne}for(var ge=0;j-P>R-ge;){var Se=P+R-ge;if(k[Se-1]>=S&&k[Se]>=S){he(Se);continue}if(k[Se]==C||k[Se]==_){for(Se;Se!=P-1&&k[Se]!=C;Se--);if(Se>P){he(Se);continue}for(Se=P+R,Se;Se<k.length&&k[Se]==_;Se++);if(Se==k.length)break;he(Se);continue}for(var ce=Math.max(Se-(R-(R>>2)),P-1);Se>ce&&k[Se]<C;)Se--;if(J){for(;Se>ce&&k[Se]<C;)Se--;for(;Se>ce&&k[Se]==$;)Se--}else for(;Se>ce&&k[Se]<S;)Se--;if(Se>ce){he(++Se);continue}Se=P+R,k[Se]==x&&Se--,he(Se-ge)}return H},M.prototype.$getDisplayTokens=function(k,R){var F=[],H;R=R||0;for(var j=0;j<k.length;j++){var P=k.charCodeAt(j);if(P==9){H=this.getScreenTabSize(F.length+R),F.push(O);for(var ee=1;ee<H;ee++)F.push(D)}else P==32?F.push(S):P>39&&P<48||P>57&&P<64?F.push($):P>=4352&&N(P)?F.push(v,x):F.push(v)}return F},M.prototype.$getStringScreenWidth=function(k,R,F){if(R==0)return[0,0];R==null&&(R=1/0),F=F||0;var H,j;for(j=0;j<k.length&&(H=k.charCodeAt(j),H==9?F+=this.getScreenTabSize(F):H>=4352&&N(H)?F+=2:F+=1,!(F>R));j++);return[F,j]},M.prototype.getRowLength=function(k){var R=1;return this.lineWidgets&&(R+=this.lineWidgets[k]&&this.lineWidgets[k].rowCount||0),!this.$useWrapMode||!this.$wrapData[k]?R:this.$wrapData[k].length+R},M.prototype.getRowLineCount=function(k){return!this.$useWrapMode||!this.$wrapData[k]?1:this.$wrapData[k].length+1},M.prototype.getRowWrapIndent=function(k){if(this.$useWrapMode){var R=this.screenToDocumentPosition(k,Number.MAX_VALUE),F=this.$wrapData[R.row];return F.length&&F[0]<R.column?F.indent:0}else return 0},M.prototype.getScreenLastRowColumn=function(k){var R=this.screenToDocumentPosition(k,Number.MAX_VALUE);return this.documentToScreenColumn(R.row,R.column)},M.prototype.getDocumentLastRowColumn=function(k,R){var F=this.documentToScreenRow(k,R);return this.getScreenLastRowColumn(F)},M.prototype.getDocumentLastRowColumnPosition=function(k,R){var F=this.documentToScreenRow(k,R);return this.screenToDocumentPosition(F,Number.MAX_VALUE/10)},M.prototype.getRowSplitData=function(k){if(this.$useWrapMode)return this.$wrapData[k]},M.prototype.getScreenTabSize=function(k){return this.$tabSize-(k%this.$tabSize|0)},M.prototype.screenToDocumentRow=function(k,R){return this.screenToDocumentPosition(k,R).row},M.prototype.screenToDocumentColumn=function(k,R){return this.screenToDocumentPosition(k,R).column},M.prototype.screenToDocumentPosition=function(k,R,F){if(k<0)return{row:0,column:0};var H,j=0,P=0,ee,J=0,K=0,ae=this.$screenRowCache,Q=this.$getRowCacheIndex(ae,k),he=ae.length;if(he&&Q>=0)var J=ae[Q],j=this.$docRowCache[Q],ge=k>ae[he-1];else var ge=!he;for(var Se=this.getLength()-1,ce=this.getNextFoldLine(j),ne=ce?ce.start.row:1/0;J<=k&&(K=this.getRowLength(j),!(J+K>k||j>=Se));)J+=K,j++,j>ne&&(j=ce.end.row+1,ce=this.getNextFoldLine(j,ce),ne=ce?ce.start.row:1/0),ge&&(this.$docRowCache.push(j),this.$screenRowCache.push(J));if(ce&&ce.start.row<=j)H=this.getFoldDisplayLine(ce),j=ce.start.row;else{if(J+K<=k||j>Se)return{row:Se,column:this.getLine(Se).length};H=this.getLine(j),ce=null}var fe=0,X=Math.floor(k-J);if(this.$useWrapMode){var ye=this.$wrapData[j];ye&&(ee=ye[X],X>0&&ye.length&&(fe=ye.indent,P=ye[X-1]||ye[ye.length-1],H=H.substring(P)))}return F!==void 0&&this.$bidiHandler.isBidiRow(J+X,j,X)&&(R=this.$bidiHandler.offsetToCol(F)),P+=this.$getStringScreenWidth(H,R-fe)[1],this.$useWrapMode&&P>=ee&&(P=ee-1),ce?ce.idxToPosition(P):{row:j,column:P}},M.prototype.documentToScreenPosition=function(k,R){if(typeof R>"u")var F=this.$clipPositionToDocument(k.row,k.column);else F=this.$clipPositionToDocument(k,R);k=F.row,R=F.column;var H=0,j=null,P=null;P=this.getFoldAt(k,R,1),P&&(k=P.start.row,R=P.start.column);var ee,J=0,K=this.$docRowCache,ae=this.$getRowCacheIndex(K,k),Q=K.length;if(Q&&ae>=0)var J=K[ae],H=this.$screenRowCache[ae],he=k>K[Q-1];else var he=!Q;for(var ge=this.getNextFoldLine(J),Se=ge?ge.start.row:1/0;J<k;){if(J>=Se){if(ee=ge.end.row+1,ee>k)break;ge=this.getNextFoldLine(ee,ge),Se=ge?ge.start.row:1/0}else ee=J+1;H+=this.getRowLength(J),J=ee,he&&(this.$docRowCache.push(J),this.$screenRowCache.push(H))}var ce="";ge&&J>=Se?(ce=this.getFoldDisplayLine(ge,k,R),j=ge.start.row):(ce=this.getLine(k).substring(0,R),j=k);var ne=0;if(this.$useWrapMode){var fe=this.$wrapData[j];if(fe){for(var X=0;ce.length>=fe[X];)H++,X++;ce=ce.substring(fe[X-1]||0,ce.length),ne=X>0?fe.indent:0}}return this.lineWidgets&&this.lineWidgets[J]&&this.lineWidgets[J].rowsAbove&&(H+=this.lineWidgets[J].rowsAbove),{row:H,column:ne+this.$getStringScreenWidth(ce)[0]}},M.prototype.documentToScreenColumn=function(k,R){return this.documentToScreenPosition(k,R).column},M.prototype.documentToScreenRow=function(k,R){return this.documentToScreenPosition(k,R).row},M.prototype.getScreenLength=function(){var k=0,R=null;if(this.$useWrapMode)for(var j=this.$wrapData.length,P=0,H=0,R=this.$foldData[H++],ee=R?R.start.row:1/0;P<j;){var J=this.$wrapData[P];k+=J?J.length+1:1,P++,P>ee&&(P=R.end.row+1,R=this.$foldData[H++],ee=R?R.start.row:1/0)}else{k=this.getLength();for(var F=this.$foldData,H=0;H<F.length;H++)R=F[H],k-=R.end.row-R.start.row}return this.lineWidgets&&(k+=this.$getWidgetScreenLength()),k},M.prototype.$setFontMetrics=function(k){this.$enableVarChar&&(this.$getStringScreenWidth=function(R,F,H){if(F===0)return[0,0];F||(F=1/0),H=H||0;var j,P;for(P=0;P<R.length&&(j=R.charAt(P),j==="	"?H+=this.getScreenTabSize(H):H+=k.getCharacterWidth(j),!(H>F));P++);return[H,P]})},M.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},M}();g.$uid=0,g.prototype.$modes=s.$modes,g.prototype.getValue=g.prototype.toString,g.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},g.prototype.$overwrite=!1,g.prototype.$mode=null,g.prototype.$modeId=null,g.prototype.$scrollTop=0,g.prototype.$scrollLeft=0,g.prototype.$wrapLimit=80,g.prototype.$useWrapMode=!1,g.prototype.$wrapLimitRange={min:null,max:null},g.prototype.lineWidgets=null,g.prototype.isFullWidth=N,V.implement(g.prototype,m);var v=1,x=2,C=3,_=4,$=9,S=10,O=11,D=12;function N(M){return M<4352?!1:M>=4352&&M<=4447||M>=4515&&M<=4519||M>=4602&&M<=4607||M>=9001&&M<=9002||M>=11904&&M<=11929||M>=11931&&M<=12019||M>=12032&&M<=12245||M>=12272&&M<=12283||M>=12288&&M<=12350||M>=12353&&M<=12438||M>=12441&&M<=12543||M>=12549&&M<=12589||M>=12593&&M<=12686||M>=12688&&M<=12730||M>=12736&&M<=12771||M>=12784&&M<=12830||M>=12832&&M<=12871||M>=12880&&M<=13054||M>=13056&&M<=19903||M>=19968&&M<=42124||M>=42128&&M<=42182||M>=43360&&M<=43388||M>=44032&&M<=55203||M>=55216&&M<=55238||M>=55243&&M<=55291||M>=63744&&M<=64255||M>=65040&&M<=65049||M>=65072&&M<=65106||M>=65108&&M<=65126||M>=65128&&M<=65131||M>=65281&&M<=65376||M>=65504&&M<=65510}y("./edit_session/folding").Folding.call(g.prototype),y("./edit_session/bracket_match").BracketMatch.call(g.prototype),s.defineOptions(g.prototype,"session",{wrap:{set:function(M){if(!M||M=="off"?M=!1:M=="free"?M=!0:M=="printMargin"?M=-1:typeof M=="string"&&(M=parseInt(M,10)||!1),this.$wrap!=M)if(this.$wrap=M,!M)this.setUseWrapMode(!1);else{var k=typeof M=="number"?M:null;this.setWrapLimitRange(k,k),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(M){M=M=="auto"?this.$mode.type!="text":M!="text",M!=this.$wrapAsCode&&(this.$wrapAsCode=M,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(M){this.$useWorker=M,this.$stopWorker(),M&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(M){M=parseInt(M),M>0&&this.$tabSize!==M&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=M,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(M){this.setFoldStyle(M)},handlesSet:!0},overwrite:{set:function(M){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(M){this.doc.setNewLineMode(M)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(M){this.setMode(M)},get:function(){return this.$modeId},handlesSet:!0}}),T.EditSession=g}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(y,T,G){var V=y("./lib/lang"),L=y("./lib/oop"),A=y("./range").Range,s=function(){function h(){this.$options={}}return h.prototype.set=function(l){return L.mixin(this.$options,l),this},h.prototype.getOptions=function(){return V.copyObject(this.$options)},h.prototype.setOptions=function(l){this.$options=l},h.prototype.find=function(l){var c=this.$options,i=this.$matchIterator(l,c);if(!i)return!1;var u=null;return i.forEach(function(d,g,v,x){return u=new A(d,g,v,x),g==x&&c.start&&c.start.start&&c.skipCurrent!=!1&&u.isEqual(c.start)?(u=null,!1):!0}),u},h.prototype.findAll=function(l){var c=this.$options;if(!c.needle)return[];this.$assembleRegExp(c);var i=c.range,u=i?l.getLines(i.start.row,i.end.row):l.doc.getAllLines(),d=[],g=c.re;if(c.$isMultiLine){var v=g.length,x=u.length-v,C;e:for(var _=g.offset||0;_<=x;_++){for(var $=0;$<v;$++)if(u[_+$].search(g[$])==-1)continue e;var S=u[_],O=u[_+v-1],D=S.length-S.match(g[0])[0].length,N=O.match(g[v-1])[0].length;C&&C.end.row===_&&C.end.column>D||(d.push(C=new A(_,D,_+v-1,N)),v>2&&(_=_+v-2))}}else for(var M=0;M<u.length;M++)for(var k=V.getMatchOffsets(u[M],g),$=0;$<k.length;$++){var R=k[$];d.push(new A(M,R.offset,M,R.offset+R.length))}if(i){for(var F=i.start.column,H=i.end.column,M=0,$=d.length-1;M<$&&d[M].start.column<F&&d[M].start.row==0;)M++;for(var j=i.end.row-i.start.row;M<$&&d[$].end.column>H&&d[$].end.row==j;)$--;for(d=d.slice(M,$+1),M=0,$=d.length;M<$;M++)d[M].start.row+=i.start.row,d[M].end.row+=i.start.row}return d},h.prototype.replace=function(l,c){var i=this.$options,u=this.$assembleRegExp(i);if(i.$isMultiLine)return c;if(u){var d=u.exec(l);if(!d||d[0].length!=l.length)return null;if(c=l.replace(u,c),i.preserveCase){c=c.split("");for(var g=Math.min(l.length,l.length);g--;){var v=l[g];v&&v.toLowerCase()!=v?c[g]=c[g].toUpperCase():c[g]=c[g].toLowerCase()}c=c.join("")}return c}},h.prototype.$assembleRegExp=function(l,c){if(l.needle instanceof RegExp)return l.re=l.needle;var i=l.needle;if(!l.needle)return l.re=!1;l.$supportsUnicodeFlag===void 0&&(l.$supportsUnicodeFlag=V.supportsUnicodeFlag());try{new RegExp(i,"u")}catch{l.$supportsUnicodeFlag=!1}l.regExp||(i=V.escapeRegExp(i)),l.wholeWord&&(i=m(i,l));var u=l.caseSensitive?"gm":"gmi";if(l.$supportsUnicodeFlag&&(u+="u"),l.$isMultiLine=!c&&/[\n\r]/.test(i),l.$isMultiLine)return l.re=this.$assembleMultilineRegExp(i,u);try{var d=new RegExp(i,u)}catch{d=!1}return l.re=d},h.prototype.$assembleMultilineRegExp=function(l,c){for(var i=l.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),u=[],d=0;d<i.length;d++)try{u.push(new RegExp(i[d],c))}catch{return!1}return u},h.prototype.$matchIterator=function(l,c){var i=this.$assembleRegExp(c);if(!i)return!1;var u=c.backwards==!0,d=c.skipCurrent!=!1,g=c.range,v=c.start;v||(v=g?g[u?"end":"start"]:l.selection.getRange()),v.start&&(v=v[d!=u?"end":"start"]);var x=g?g.start.row:0,C=g?g.end.row:l.getLength()-1;if(u)var _=function(O){var D=v.row;if(!S(D,v.column,O)){for(D--;D>=x;D--)if(S(D,Number.MAX_VALUE,O))return;if(c.wrap!=!1){for(D=C,x=v.row;D>=x;D--)if(S(D,Number.MAX_VALUE,O))return}}};else var _=function(D){var N=v.row;if(!S(N,v.column,D)){for(N=N+1;N<=C;N++)if(S(N,0,D))return;if(c.wrap!=!1){for(N=x,C=v.row;N<=C;N++)if(S(N,0,D))return}}};if(c.$isMultiLine)var $=i.length,S=function(O,D,N){var M=u?O-$+1:O;if(!(M<0||M+$>l.getLength())){var k=l.getLine(M),R=k.search(i[0]);if(!(!u&&R<D||R===-1)){for(var F=1;F<$;F++)if(k=l.getLine(M+F),k.search(i[F])==-1)return;var H=k.match(i[$-1])[0].length;if(!(u&&H>D)&&N(M,R,M+$-1,H))return!0}}};else if(u)var S=function(D,N,M){var k=l.getLine(D),R=[],F,H=0;for(i.lastIndex=0;F=i.exec(k);){var j=F[0].length;if(H=F.index,!j){if(H>=k.length)break;i.lastIndex=H+=1}if(F.index+j>N)break;R.push(F.index,j)}for(var P=R.length-1;P>=0;P-=2){var ee=R[P-1],j=R[P];if(M(D,ee,D,ee+j))return!0}};else var S=function(D,N,M){var k=l.getLine(D),R,F;for(i.lastIndex=N;F=i.exec(k);){var H=F[0].length;if(R=F.index,M(D,R,D,R+H))return!0;if(!H&&(i.lastIndex=R+=1,R>=k.length))return!1}};return{forEach:_}},h}();function m(h,l){var c=V.supportsLookbehind();function i(v,x){x===void 0&&(x=!0);var C=c&&l.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return C.test(v)||l.regExp?c&&l.$supportsUnicodeFlag?x?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var u=Array.from(h),d=u[0],g=u[u.length-1];return i(d)+h+i(g,!1)}T.Search=s}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(y,T,G){var V=this&&this.__extends||function(){var c=function(i,u){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(d[v]=g[v])},c(i,u)};return function(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");c(i,u);function d(){this.constructor=i}i.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}}(),L=y("../lib/keys"),A=y("../lib/useragent"),s=L.KEY_MODS,m=function(){function c(i,u){this.$init(i,u,!1)}return c.prototype.$init=function(i,u,d){this.platform=u||(A.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(i),this.$singleCommand=d},c.prototype.addCommand=function(i){this.commands[i.name]&&this.removeCommand(i),this.commands[i.name]=i,i.bindKey&&this._buildKeyHash(i)},c.prototype.removeCommand=function(i,u){var d=i&&(typeof i=="string"?i:i.name);i=this.commands[d],u||delete this.commands[d];var g=this.commandKeyBinding;for(var v in g){var x=g[v];if(x==i)delete g[v];else if(Array.isArray(x)){var C=x.indexOf(i);C!=-1&&(x.splice(C,1),x.length==1&&(g[v]=x[0]))}}},c.prototype.bindKey=function(i,u,d){if(typeof i=="object"&&i&&(d==null&&(d=i.position),i=i[this.platform]),!!i){if(typeof u=="function")return this.addCommand({exec:u,bindKey:i,name:u.name||i});i.split("|").forEach(function(g){var v="";if(g.indexOf(" ")!=-1){var x=g.split(/\s+/);g=x.pop(),x.forEach(function($){var S=this.parseKeys($),O=s[S.hashId]+S.key;v+=(v?" ":"")+O,this._addCommandToBinding(v,"chainKeys")},this),v+=" "}var C=this.parseKeys(g),_=s[C.hashId]+C.key;this._addCommandToBinding(v+_,u,d)},this)}},c.prototype._addCommandToBinding=function(i,u,d){var g=this.commandKeyBinding,v;if(!u)delete g[i];else if(!g[i]||this.$singleCommand)g[i]=u;else{Array.isArray(g[i])?(v=g[i].indexOf(u))!=-1&&g[i].splice(v,1):g[i]=[g[i]],typeof d!="number"&&(d=h(u));var x=g[i];for(v=0;v<x.length;v++){var C=x[v],_=h(C);if(_>d)break}x.splice(v,0,u)}},c.prototype.addCommands=function(i){i&&Object.keys(i).forEach(function(u){var d=i[u];if(d){if(typeof d=="string")return this.bindKey(d,u);typeof d=="function"&&(d={exec:d}),typeof d=="object"&&(d.name||(d.name=u),this.addCommand(d))}},this)},c.prototype.removeCommands=function(i){Object.keys(i).forEach(function(u){this.removeCommand(i[u])},this)},c.prototype.bindKeys=function(i){Object.keys(i).forEach(function(u){this.bindKey(u,i[u])},this)},c.prototype._buildKeyHash=function(i){this.bindKey(i.bindKey,i)},c.prototype.parseKeys=function(i){var u=i.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(_){return _}),d=u.pop(),g=L[d];if(L.FUNCTION_KEYS[g])d=L.FUNCTION_KEYS[g].toLowerCase();else if(u.length){if(u.length==1&&u[0]=="shift")return{key:d.toUpperCase(),hashId:-1}}else return{key:d,hashId:-1};for(var v=0,x=u.length;x--;){var C=L.KEY_MODS[u[x]];if(C==null)return typeof console<"u"&&console.error("invalid modifier "+u[x]+" in "+i),!1;v|=C}return{key:d,hashId:v}},c.prototype.findKeyCommand=function(i,u){var d=s[i]+u;return this.commandKeyBinding[d]},c.prototype.handleKeyboard=function(i,u,d,g){if(!(g<0)){var v=s[u]+d,x=this.commandKeyBinding[v];return i.$keyChain&&(i.$keyChain+=" "+v,x=this.commandKeyBinding[i.$keyChain]||x),x&&(x=="chainKeys"||x[x.length-1]=="chainKeys")?(i.$keyChain=i.$keyChain||v,{command:"null"}):(i.$keyChain&&((!u||u==4)&&d.length==1?i.$keyChain=i.$keyChain.slice(0,-v.length-1):(u==-1||g>0)&&(i.$keyChain="")),{command:x})}},c.prototype.getStatusText=function(i,u){return u.$keyChain||""},c}();function h(c){return typeof c=="object"&&c.bindKey&&c.bindKey.position||(c.isDefault?-100:0)}var l=function(c){V(i,c);function i(u,d){var g=c.call(this,u,d)||this;return g.$singleCommand=!0,g}return i}(m);l.call=function(c,i,u){m.prototype.$init.call(c,i,u,!0)},m.call=function(c,i,u){m.prototype.$init.call(c,i,u,!1)},T.HashHandler=l,T.MultiHashHandler=m}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(y,T,G){var V=this&&this.__extends||function(){var h=function(l,c){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,u){i.__proto__=u}||function(i,u){for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(i[d]=u[d])},h(l,c)};return function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");h(l,c);function i(){this.constructor=l}l.prototype=c===null?Object.create(c):(i.prototype=c.prototype,new i)}}(),L=y("../lib/oop"),A=y("../keyboard/hash_handler").MultiHashHandler,s=y("../lib/event_emitter").EventEmitter,m=function(h){V(l,h);function l(c,i){var u=h.call(this,i,c)||this;return u.byName=u.commands,u.setDefaultHandler("exec",function(d){return d.args?d.command.exec(d.editor,d.args,d.event,!1):d.command.exec(d.editor,{},d.event,!0)}),u}return l.prototype.exec=function(c,i,u){if(Array.isArray(c)){for(var d=c.length;d--;)if(this.exec(c[d],i,u))return!0;return!1}if(typeof c=="string"&&(c=this.commands[c]),!c||i&&i.$readOnly&&!c.readOnly||this.$checkCommandState!=!1&&c.isAvailable&&!c.isAvailable(i))return!1;var g={editor:i,command:c,args:u};return g.returnValue=this._emit("exec",g),this._signal("afterExec",g),g.returnValue!==!1},l.prototype.toggleRecording=function(c){if(!this.$inReplay)return c&&c._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(i){this.macro.push([i.command,i.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},l.prototype.replay=function(c){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(c);try{this.$inReplay=!0,this.macro.forEach(function(i){typeof i=="string"?this.exec(i,c):this.exec(i[0],c,i[1])},this)}finally{this.$inReplay=!1}}},l.prototype.trimMacro=function(c){return c.map(function(i){return typeof i[0]!="string"&&(i[0]=i[0].name),i[1]||(i=i[0]),i})},l}(A);L.implement(m.prototype,s),T.CommandManager=m}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(y,T,G){var V=y("../lib/lang"),L=y("../config"),A=y("../range").Range;function s(h,l){return{win:h,mac:l}}T.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:s("Ctrl-,","Command-,"),exec:function(h){L.loadModule("ace/ext/settings_menu",function(l){l.init(h),h.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:s("Alt-E","F4"),exec:function(h){L.loadModule("ace/ext/error_marker",function(l){l.showErrorMarker(h,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:s("Alt-Shift-E","Shift-F4"),exec:function(h){L.loadModule("ace/ext/error_marker",function(l){l.showErrorMarker(h,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:s("Ctrl-A","Command-A"),exec:function(h){h.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:s(null,"Ctrl-L"),exec:function(h){h.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:s("Ctrl-L","Command-L"),exec:function(h,l){typeof l=="number"&&!isNaN(l)&&h.gotoLine(l),h.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:s("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(h){h.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:s("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(h){h.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:s("F2","F2"),exec:function(h){h.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:s("Alt-F2","Alt-F2"),exec:function(h){h.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(h){h.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(h){h.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:s("Alt-0","Command-Option-0"),exec:function(h){h.session.foldAll(),h.session.unfold(h.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:s("Alt-Shift-0","Command-Option-Shift-0"),exec:function(h){h.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:s("Ctrl-K","Command-G"),exec:function(h){h.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:s("Ctrl-Shift-K","Command-Shift-G"),exec:function(h){h.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:s("Alt-K","Ctrl-G"),exec:function(h){h.selection.isEmpty()?h.selection.selectWord():h.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:s("Alt-Shift-K","Ctrl-Shift-G"),exec:function(h){h.selection.isEmpty()?h.selection.selectWord():h.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:s("Ctrl-F","Command-F"),exec:function(h){L.loadModule("ace/ext/searchbox",function(l){l.Search(h)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(h){h.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:s("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(h){h.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:s("Ctrl-Home","Command-Home|Command-Up"),exec:function(h){h.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:s("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(h){h.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:s("Up","Up|Ctrl-P"),exec:function(h,l){h.navigateUp(l.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:s("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(h){h.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:s("Ctrl-End","Command-End|Command-Down"),exec:function(h){h.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:s("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(h){h.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:s("Down","Down|Ctrl-N"),exec:function(h,l){h.navigateDown(l.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:s("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(h){h.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:s("Ctrl-Left","Option-Left"),exec:function(h){h.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:s("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(h){h.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:s("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(h){h.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:s("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(h){h.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:s("Left","Left|Ctrl-B"),exec:function(h,l){h.navigateLeft(l.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:s("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(h){h.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:s("Ctrl-Right","Option-Right"),exec:function(h){h.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:s("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(h){h.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:s("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(h){h.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:s("Shift-Right","Shift-Right"),exec:function(h){h.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:s("Right","Right|Ctrl-F"),exec:function(h,l){h.navigateRight(l.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(h){h.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:s(null,"Option-PageDown"),exec:function(h){h.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:s("PageDown","PageDown|Ctrl-V"),exec:function(h){h.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(h){h.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:s(null,"Option-PageUp"),exec:function(h){h.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(h){h.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:s("Ctrl-Up",null),exec:function(h){h.renderer.scrollBy(0,-2*h.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:s("Ctrl-Down",null),exec:function(h){h.renderer.scrollBy(0,2*h.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(h){h.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(h){h.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:s("Ctrl-Alt-E","Command-Option-E"),exec:function(h){h.commands.toggleRecording(h)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:s("Ctrl-Shift-E","Command-Shift-E"),exec:function(h){h.commands.replay(h)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:s("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(h){h.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:s("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(h){h.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:s("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(h){h.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:s(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(h){},readOnly:!0},{name:"cut",description:"Cut",exec:function(h){var l=h.$copyWithEmptySelection&&h.selection.isEmpty(),c=l?h.selection.getLineRange():h.selection.getRange();h._emit("cut",c),c.isEmpty()||h.session.remove(c),h.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(h,l){h.$handlePaste(l)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:s("Ctrl-D","Command-D"),exec:function(h){h.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:s("Ctrl-Shift-D","Command-Shift-D"),exec:function(h){h.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:s("Ctrl-Alt-S","Command-Alt-S"),exec:function(h){h.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:s("Ctrl-/","Command-/"),exec:function(h){h.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:s("Ctrl-Shift-/","Command-Shift-/"),exec:function(h){h.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:s("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(h){h.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:s("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(h){h.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:s("Ctrl-H","Command-Option-F"),exec:function(h){L.loadModule("ace/ext/searchbox",function(l){l.Search(h,!0)})}},{name:"undo",description:"Undo",bindKey:s("Ctrl-Z","Command-Z"),exec:function(h){h.undo()}},{name:"redo",description:"Redo",bindKey:s("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(h){h.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:s("Alt-Shift-Up","Command-Option-Up"),exec:function(h){h.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:s("Alt-Up","Option-Up"),exec:function(h){h.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:s("Alt-Shift-Down","Command-Option-Down"),exec:function(h){h.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:s("Alt-Down","Option-Down"),exec:function(h){h.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:s("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(h){h.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:s("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(h){h.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:s("Shift-Delete",null),exec:function(h){if(h.selection.isEmpty())h.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:s("Alt-Backspace","Command-Backspace"),exec:function(h){h.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:s("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(h){h.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:s("Ctrl-Shift-Backspace",null),exec:function(h){var l=h.selection.getRange();l.start.column=0,h.session.remove(l)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:s("Ctrl-Shift-Delete",null),exec:function(h){var l=h.selection.getRange();l.end.column=Number.MAX_VALUE,h.session.remove(l)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:s("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(h){h.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:s("Ctrl-Delete","Alt-Delete"),exec:function(h){h.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:s("Shift-Tab","Shift-Tab"),exec:function(h){h.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:s("Tab","Tab"),exec:function(h){h.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:s("Ctrl-[","Ctrl-["),exec:function(h){h.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:s("Ctrl-]","Ctrl-]"),exec:function(h){h.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(h,l){h.insert(l)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(h,l){h.insert(V.stringRepeat(l.text||"",l.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:s(null,"Ctrl-O"),exec:function(h){h.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:s("Alt-Shift-X","Ctrl-T"),exec:function(h){h.transposeLetters()},multiSelectAction:function(h){h.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:s("Ctrl-U","Ctrl-U"),exec:function(h){h.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:s("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(h){h.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:s(null,null),exec:function(h){h.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:s("Ctrl-Shift-L","Command-Shift-L"),exec:function(h){var l=h.selection.getRange();l.start.column=l.end.column=0,l.end.row++,h.selection.setRange(l,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:s("Ctrl+F3","F3"),exec:function(h){h.openLink()}},{name:"joinlines",description:"Join lines",bindKey:s(null,null),exec:function(h){for(var l=h.selection.isBackwards(),c=l?h.selection.getSelectionLead():h.selection.getSelectionAnchor(),i=l?h.selection.getSelectionAnchor():h.selection.getSelectionLead(),u=h.session.doc.getLine(c.row).length,d=h.session.doc.getTextRange(h.selection.getRange()),g=d.replace(/\n\s*/," ").length,v=h.session.doc.getLine(c.row),x=c.row+1;x<=i.row+1;x++){var C=V.stringTrimLeft(V.stringTrimRight(h.session.doc.getLine(x)));C.length!==0&&(C=" "+C),v+=C}i.row+1<h.session.doc.getLength()-1&&(v+=h.session.doc.getNewLineCharacter()),h.clearSelection(),h.session.doc.replace(new A(c.row,0,i.row+2,0),v),g>0?(h.selection.moveCursorTo(c.row,c.column),h.selection.selectTo(c.row,c.column+g)):(u=h.session.doc.getLine(c.row).length>u?u+1:u,h.selection.moveCursorTo(c.row,u))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:s(null,null),exec:function(h){var l=h.session.doc.getLength()-1,c=h.session.doc.getLine(l).length,i=h.selection.rangeList.ranges,u=[];i.length<1&&(i=[h.selection.getRange()]);for(var d=0;d<i.length;d++)d==i.length-1&&(i[d].end.row===l&&i[d].end.column===c||u.push(new A(i[d].end.row,i[d].end.column,l,c))),d===0?i[d].start.row===0&&i[d].start.column===0||u.push(new A(0,0,i[d].start.row,i[d].start.column)):u.push(new A(i[d-1].end.row,i[d-1].end.column,i[d].start.row,i[d].start.column));h.exitMultiSelectMode(),h.clearSelection();for(var d=0;d<u.length;d++)h.selection.addRange(u[d],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(h){h.selection.clearSelection(),h.navigateLineEnd(),h.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(h){h.selection.clearSelection();var l=h.getCursorPosition();h.selection.moveTo(l.row-1,Number.MAX_VALUE),h.insert(`
`),l.row===0&&h.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:s("F1","F1"),exec:function(h){h.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:s(null,null),exec:function(h){h.prompt({$type:"modes"})},readOnly:!0}];for(var m=1;m<9;m++)T.commands.push({name:"foldToLevel"+m,description:"Fold To Level "+m,level:m,exec:function(h){h.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(y,T,G){var V=y("./lib/dom"),L=function(){function A(s){this.session=s,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return A.prototype.getRowLength=function(s){var m;return this.lineWidgets?m=this.lineWidgets[s]&&this.lineWidgets[s].rowCount||0:m=0,!this.$useWrapMode||!this.$wrapData[s]?1+m:this.$wrapData[s].length+1+m},A.prototype.$getWidgetScreenLength=function(){var s=0;return this.lineWidgets.forEach(function(m){m&&m.rowCount&&!m.hidden&&(s+=m.rowCount)}),s},A.prototype.$onChangeEditor=function(s){this.attach(s.editor)},A.prototype.attach=function(s){s&&s.widgetManager&&s.widgetManager!=this&&s.widgetManager.detach(),this.editor!=s&&(this.detach(),this.editor=s,s&&(s.widgetManager=this,s.renderer.on("beforeRender",this.measureWidgets),s.renderer.on("afterRender",this.renderWidgets)))},A.prototype.detach=function(s){var m=this.editor;if(m){this.editor=null,m.widgetManager=null,m.renderer.off("beforeRender",this.measureWidgets),m.renderer.off("afterRender",this.renderWidgets);var h=this.session.lineWidgets;h&&h.forEach(function(l){l&&l.el&&l.el.parentNode&&(l._inDocument=!1,l.el.parentNode.removeChild(l.el))})}},A.prototype.updateOnFold=function(s,m){var h=m.lineWidgets;if(!(!h||!s.action)){for(var l=s.data,c=l.start.row,i=l.end.row,u=s.action=="add",d=c+1;d<i;d++)h[d]&&(h[d].hidden=u);h[i]&&(u?h[c]?h[i].hidden=u:h[c]=h[i]:(h[c]==h[i]&&(h[c]=void 0),h[i].hidden=u))}},A.prototype.updateOnChange=function(s){var m=this.session.lineWidgets;if(m){var h=s.start.row,l=s.end.row-h;if(l!==0)if(s.action=="remove"){var c=m.splice(h+1,l);!m[h]&&c[c.length-1]&&(m[h]=c.pop()),c.forEach(function(u){u&&this.removeLineWidget(u)},this),this.$updateRows()}else{var i=new Array(l);m[h]&&m[h].column!=null&&s.start.column>m[h].column&&h++,i.unshift(h,0),m.splice.apply(m,i),this.$updateRows()}}},A.prototype.$updateRows=function(){var s=this.session.lineWidgets;if(s){var m=!0;s.forEach(function(h,l){if(h)for(m=!1,h.row=l;h.$oldWidget;)h.$oldWidget.row=l,h=h.$oldWidget}),m&&(this.session.lineWidgets=null)}},A.prototype.$registerLineWidget=function(s){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var m=this.session.lineWidgets[s.row];return m&&(s.$oldWidget=m,m.el&&m.el.parentNode&&(m.el.parentNode.removeChild(m.el),m._inDocument=!1)),this.session.lineWidgets[s.row]=s,s},A.prototype.addLineWidget=function(s){if(this.$registerLineWidget(s),s.session=this.session,!this.editor)return s;var m=this.editor.renderer;s.html&&!s.el&&(s.el=V.createElement("div"),s.el.innerHTML=s.html),s.text&&!s.el&&(s.el=V.createElement("div"),s.el.textContent=s.text),s.el&&(V.addCssClass(s.el,"ace_lineWidgetContainer"),s.className&&V.addCssClass(s.el,s.className),s.el.style.position="absolute",s.el.style.zIndex=5,m.container.appendChild(s.el),s._inDocument=!0,s.coverGutter||(s.el.style.zIndex=3),s.pixelHeight==null&&(s.pixelHeight=s.el.offsetHeight)),s.rowCount==null&&(s.rowCount=s.pixelHeight/m.layerConfig.lineHeight);var h=this.session.getFoldAt(s.row,0);if(s.$fold=h,h){var l=this.session.lineWidgets;s.row==h.end.row&&!l[h.start.row]?l[h.start.row]=s:s.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:s.row}}}),this.$updateRows(),this.renderWidgets(null,m),this.onWidgetChanged(s),s},A.prototype.removeLineWidget=function(s){if(s._inDocument=!1,s.session=null,s.el&&s.el.parentNode&&s.el.parentNode.removeChild(s.el),s.editor&&s.editor.destroy)try{s.editor.destroy()}catch{}if(this.session.lineWidgets){var m=this.session.lineWidgets[s.row];if(m==s)this.session.lineWidgets[s.row]=s.$oldWidget,s.$oldWidget&&this.onWidgetChanged(s.$oldWidget);else for(;m;){if(m.$oldWidget==s){m.$oldWidget=s.$oldWidget;break}m=m.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:s.row}}}),this.$updateRows()},A.prototype.getWidgetsAtRow=function(s){for(var m=this.session.lineWidgets,h=m&&m[s],l=[];h;)l.push(h),h=h.$oldWidget;return l},A.prototype.onWidgetChanged=function(s){this.session._changedWidgets.push(s),this.editor&&this.editor.renderer.updateFull()},A.prototype.measureWidgets=function(s,m){var h=this.session._changedWidgets,l=m.layerConfig;if(!(!h||!h.length)){for(var c=1/0,i=0;i<h.length;i++){var u=h[i];if(!(!u||!u.el)&&u.session==this.session){if(!u._inDocument){if(this.session.lineWidgets[u.row]!=u)continue;u._inDocument=!0,m.container.appendChild(u.el)}u.h=u.el.offsetHeight,u.fixedWidth||(u.w=u.el.offsetWidth,u.screenWidth=Math.ceil(u.w/l.characterWidth));var d=u.h/l.lineHeight;u.coverLine&&(d-=this.session.getRowLineCount(u.row),d<0&&(d=0)),u.rowCount!=d&&(u.rowCount=d,u.row<c&&(c=u.row))}}c!=1/0&&(this.session._emit("changeFold",{data:{start:{row:c}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},A.prototype.renderWidgets=function(s,m){var h=m.layerConfig,l=this.session.lineWidgets;if(l){for(var c=Math.min(this.firstRow,h.firstRow),i=Math.max(this.lastRow,h.lastRow,l.length);c>0&&!l[c];)c--;this.firstRow=h.firstRow,this.lastRow=h.lastRow,m.$cursorLayer.config=h;for(var u=c;u<=i;u++){var d=l[u];if(!(!d||!d.el)){if(d.hidden){d.el.style.top=-100-(d.pixelHeight||0)+"px";continue}d._inDocument||(d._inDocument=!0,m.container.appendChild(d.el));var g=m.$cursorLayer.getPixelPosition({row:u,column:0},!0).top;d.coverLine||(g+=h.lineHeight*this.session.getRowLineCount(d.row)),d.el.style.top=g-h.offset+"px";var v=d.coverGutter?0:m.gutterWidth;d.fixedWidth||(v-=m.scrollLeft),d.el.style.left=v+"px",d.fullWidth&&d.screenWidth&&(d.el.style.minWidth=h.width+2*h.padding+"px"),d.fixedWidth?d.el.style.right=m.scrollBar.getWidth()+"px":d.el.style.right=""}}}},A}();T.LineWidgets=L}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(y,T,G){var V=y("../lib/keys"),L=y("../mouse/default_gutter_handler").GutterTooltip,A=function(){function m(h){this.editor=h,this.gutterLayer=h.renderer.$gutterLayer,this.element=h.renderer.$gutter,this.lines=h.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new L(this.editor)}return m.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},m.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},m.prototype.$onGutterKeyDown=function(h){if(this.annotationTooltip.isOpen){h.preventDefault(),h.keyCode===V.escape&&this.annotationTooltip.hideTooltip();return}if(h.target===this.element){if(h.keyCode!=V.enter)return;h.preventDefault();var l=this.editor.getCursorPosition().row;this.editor.isRowVisible(l)||this.editor.scrollToLine(l,!0,!0),setTimeout((function(){var c=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),i=this.$findNearestFoldWidget(c),u=this.$findNearestAnnotation(c);if(!(i===null&&u===null)){if(i===null&&u!==null){this.activeRowIndex=u,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(i!==null&&u===null){this.activeRowIndex=i,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(u-c)<Math.abs(i-c)){this.activeRowIndex=u,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=i,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(h),setTimeout((function(){this.editor._signal("gutterkeydown",new s(h,this))}).bind(this),10)},m.prototype.$handleGutterKeyboardInteraction=function(h){if(h.keyCode===V.tab){h.preventDefault();return}if(h.keyCode===V.escape){h.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(h.keyCode===V.up){switch(h.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(h.keyCode===V.down){switch(h.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(h.keyCode===V.left){h.preventDefault(),this.$switchLane("annotation");return}if(h.keyCode===V.right){h.preventDefault(),this.$switchLane("fold");return}if(h.keyCode===V.enter||h.keyCode===V.space){switch(h.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var l=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),h),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==l&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(l),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var c=this.lines.cells[this.activeRowIndex].element.childNodes[2],i=c.getBoundingClientRect(),u=this.annotationTooltip.getElement().style;u.left=i.right+"px",u.top=i.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},m.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},m.prototype.$isFoldWidgetVisible=function(h){var l=this.editor.isRowFullyVisible(this.$rowIndexToRow(h)),c=this.$getFoldWidget(h).style.display!=="none";return l&&c},m.prototype.$isAnnotationVisible=function(h){var l=this.editor.isRowFullyVisible(this.$rowIndexToRow(h)),c=this.$getAnnotation(h).style.display!=="none";return l&&c},m.prototype.$getFoldWidget=function(h){var l=this.lines.get(h),c=l.element;return c.childNodes[1]},m.prototype.$getAnnotation=function(h){var l=this.lines.get(h),c=l.element;return c.childNodes[2]},m.prototype.$findNearestFoldWidget=function(h){if(this.$isFoldWidgetVisible(h))return h;for(var l=0;h-l>0||h+l<this.lines.getLength()-1;){if(l++,h-l>=0&&this.$isFoldWidgetVisible(h-l))return h-l;if(h+l<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(h+l))return h+l}return null},m.prototype.$findNearestAnnotation=function(h){if(this.$isAnnotationVisible(h))return h;for(var l=0;h-l>0||h+l<this.lines.getLength()-1;){if(l++,h-l>=0&&this.$isAnnotationVisible(h-l))return h-l;if(h+l<=this.lines.getLength()-1&&this.$isAnnotationVisible(h+l))return h+l}return null},m.prototype.$focusFoldWidget=function(h){if(h!=null){var l=this.$getFoldWidget(h);l.classList.add(this.editor.renderer.keyboardFocusClassName),l.focus()}},m.prototype.$focusAnnotation=function(h){if(h!=null){var l=this.$getAnnotation(h);l.classList.add(this.editor.renderer.keyboardFocusClassName),l.focus()}},m.prototype.$blurFoldWidget=function(h){var l=this.$getFoldWidget(h);l.classList.remove(this.editor.renderer.keyboardFocusClassName),l.blur()},m.prototype.$blurAnnotation=function(h){var l=this.$getAnnotation(h);l.classList.remove(this.editor.renderer.keyboardFocusClassName),l.blur()},m.prototype.$moveFoldWidgetUp=function(){for(var h=this.activeRowIndex;h>0;)if(h--,this.$isFoldWidgetVisible(h)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=h,this.$focusFoldWidget(this.activeRowIndex);return}},m.prototype.$moveFoldWidgetDown=function(){for(var h=this.activeRowIndex;h<this.lines.getLength()-1;)if(h++,this.$isFoldWidgetVisible(h)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=h,this.$focusFoldWidget(this.activeRowIndex);return}},m.prototype.$moveAnnotationUp=function(){for(var h=this.activeRowIndex;h>0;)if(h--,this.$isAnnotationVisible(h)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=h,this.$focusAnnotation(this.activeRowIndex);return}},m.prototype.$moveAnnotationDown=function(){for(var h=this.activeRowIndex;h<this.lines.getLength()-1;)if(h++,this.$isAnnotationVisible(h)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=h,this.$focusAnnotation(this.activeRowIndex);return}},m.prototype.$switchLane=function(h){switch(h){case"annotation":if(this.activeLane==="annotation")break;var l=this.$findNearestAnnotation(this.activeRowIndex);if(l==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=l,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var c=this.$findNearestFoldWidget(this.activeRowIndex);if(c==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=c,this.$focusFoldWidget(this.activeRowIndex);break}},m.prototype.$rowIndexToRow=function(h){var l=this.lines.get(h);return l?l.row:null},m.prototype.$rowToRowIndex=function(h){for(var l=0;l<this.lines.getLength();l++){var c=this.lines.get(l);if(c.row==h)return l}return null},m}();T.GutterKeyboardHandler=A;var s=function(){function m(h,l){this.gutterKeyboardHandler=l,this.domEvent=h}return m.prototype.getKey=function(){return V.keyCodeToString(this.domEvent.keyCode)},m.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},m.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},m.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},m}();T.GutterKeyboardEvent=s}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(y,T,G){var V=this&&this.__values||function(F){var H=typeof Symbol=="function"&&Symbol.iterator,j=H&&F[H],P=0;if(j)return j.call(F);if(F&&typeof F.length=="number")return{next:function(){return F&&P>=F.length&&(F=void 0),{value:F&&F[P++],done:!F}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")},L=y("./lib/oop"),A=y("./lib/dom"),s=y("./lib/lang"),m=y("./lib/useragent"),h=y("./keyboard/textinput").TextInput,l=y("./mouse/mouse_handler").MouseHandler,c=y("./mouse/fold_handler").FoldHandler,i=y("./keyboard/keybinding").KeyBinding,u=y("./edit_session").EditSession,d=y("./search").Search,g=y("./range").Range,v=y("./lib/event_emitter").EventEmitter,x=y("./commands/command_manager").CommandManager,C=y("./commands/default_commands").commands,_=y("./config"),$=y("./token_iterator").TokenIterator,S=y("./line_widgets").LineWidgets,O=y("./keyboard/gutter_handler").GutterKeyboardHandler,D=y("./config").nls,N=y("./clipboard"),M=y("./lib/keys"),k=function(){function F(H,j,P){this.$toDestroy=[];var ee=H.getContainerElement();this.container=ee,this.renderer=H,this.id="editor"+ ++F.$uid,this.commands=new x(m.isMac?"mac":"win",C),typeof document=="object"&&(this.textInput=new h(H.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new c(this)),this.keyBinding=new i(this),this.$search=new d().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=s.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(J,K){K._$emitInputEvent.schedule(31)}),this.setSession(j||P&&P.session||new u("")),_.resetOptions(this),P&&this.setOptions(P),_._signal("editor",this)}return F.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=s.delayedCall(this.endOperation.bind(this,!0)),this.on("change",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}).bind(this),!0),this.on("changeSelection",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}).bind(this),!0)},F.prototype.startOperation=function(H){if(this.curOp){if(!H||this.curOp.command)return;this.prevOp=this.curOp}H||(this.previousCommand=null,H={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:H.command||{},args:H.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},F.prototype.endOperation=function(H){if(this.curOp&&this.session){if(H&&H.returnValue===!1||!this.session)return this.curOp=null;if(H==!0&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var j=this.curOp.command,P=j&&j.scrollIntoView;if(P){switch(P){case"center-animate":P="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var ee=this.selection.getRange(),J=this.renderer.layerConfig;(ee.start.row>=J.lastRow||ee.end.row<=J.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}P=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var K=this.selection.toJSON();this.curOp.selectionAfter=K,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(K),this.prevOp=this.curOp,this.curOp=null}},F.prototype.$historyTracker=function(H){if(this.$mergeUndoDeltas){var j=this.prevOp,P=this.$mergeableCommands,ee=j.command&&H.command.name==j.command.name;if(H.command.name=="insertstring"){var J=H.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),ee=ee&&this.mergeNextCommand&&(!/\s/.test(J)||/\s/.test(j.args)),this.mergeNextCommand=!0}else ee=ee&&P.indexOf(H.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(ee=!1),ee?this.session.mergeUndoDeltas=!0:P.indexOf(H.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},F.prototype.setKeyboardHandler=function(H,j){if(H&&typeof H=="string"&&H!="ace"){this.$keybindingId=H;var P=this;_.loadModule(["keybinding",H],function(ee){P.$keybindingId==H&&P.keyBinding.setKeyboardHandler(ee&&ee.handler),j&&j()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(H),j&&j()},F.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},F.prototype.setSession=function(H){if(this.session!=H){this.curOp&&this.endOperation(),this.curOp={};var j=this.session;if(j){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var P=this.session.getSelection();P.off("changeCursor",this.$onCursorChange),P.off("changeSelection",this.$onSelectionChange)}this.session=H,H?(this.$onDocumentChange=this.onDocumentChange.bind(this),H.on("change",this.$onDocumentChange),this.renderer.setSession(H),this.$onChangeMode=this.onChangeMode.bind(this),H.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),H.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),H.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),H.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),H.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),H.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=H.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(H)),this._signal("changeSession",{session:H,oldSession:j}),this.curOp=null,j&&j._signal("changeEditor",{oldEditor:this}),H&&H._signal("changeEditor",{editor:this}),H&&!H.destroyed&&H.bgTokenizer.scheduleStart()}},F.prototype.getSession=function(){return this.session},F.prototype.setValue=function(H,j){return this.session.doc.setValue(H),j?j==1?this.navigateFileEnd():j==-1&&this.navigateFileStart():this.selectAll(),H},F.prototype.getValue=function(){return this.session.getValue()},F.prototype.getSelection=function(){return this.selection},F.prototype.resize=function(H){this.renderer.onResize(H)},F.prototype.setTheme=function(H,j){this.renderer.setTheme(H,j)},F.prototype.getTheme=function(){return this.renderer.getTheme()},F.prototype.setStyle=function(H){this.renderer.setStyle(H)},F.prototype.unsetStyle=function(H){this.renderer.unsetStyle(H)},F.prototype.getFontSize=function(){return this.getOption("fontSize")||A.computedStyle(this.container).fontSize},F.prototype.setFontSize=function(H){this.setOption("fontSize",H)},F.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var H=this;this.$highlightPending=!0,setTimeout(function(){H.$highlightPending=!1;var j=H.session;if(!(!j||j.destroyed)){j.$bracketHighlight&&(j.$bracketHighlight.markerIds.forEach(function(Se){j.removeMarker(Se)}),j.$bracketHighlight=null);var P=H.getCursorPosition(),ee=H.getKeyboardHandler(),J=ee&&ee.$getDirectionForHighlight&&ee.$getDirectionForHighlight(H),K=j.getMatchingBracketRanges(P,J);if(!K){var ae=new $(j,P.row,P.column),Q=ae.getCurrentToken();if(Q&&/\b(?:tag-open|tag-name)/.test(Q.type)){var he=j.getMatchingTags(P);he&&(K=[he.openTagName,he.closeTagName])}}if(!K&&j.$mode.getMatching&&(K=j.$mode.getMatching(H.session)),!K){H.getHighlightIndentGuides()&&H.renderer.$textLayer.$highlightIndentGuide();return}var ge="ace_bracket";Array.isArray(K)?K.length==1&&(ge="ace_error_bracket"):K=[K],K.length==2&&(g.comparePoints(K[0].end,K[1].start)==0?K=[g.fromPoints(K[0].start,K[1].end)]:g.comparePoints(K[0].start,K[1].end)==0&&(K=[g.fromPoints(K[1].start,K[0].end)])),j.$bracketHighlight={ranges:K,markerIds:K.map(function(Se){return j.addMarker(Se,ge,"text")})},H.getHighlightIndentGuides()&&H.renderer.$textLayer.$highlightIndentGuide()}},50)}},F.prototype.focus=function(){this.textInput.focus()},F.prototype.isFocused=function(){return this.textInput.isFocused()},F.prototype.blur=function(){this.textInput.blur()},F.prototype.onFocus=function(H){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",H))},F.prototype.onBlur=function(H){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",H))},F.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},F.prototype.onDocumentChange=function(H){var j=this.session.$useWrapMode,P=H.start.row==H.end.row?H.end.row:1/0;this.renderer.updateLines(H.start.row,P,j),this._signal("change",H),this.$cursorChange()},F.prototype.onTokenizerUpdate=function(H){var j=H.data;this.renderer.updateLines(j.first,j.last)},F.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},F.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},F.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},F.prototype.$updateHighlightActiveLine=function(){var H=this.getSession(),j;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(j=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(j=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(j=!1)),H.$highlightLineMarker&&!j)H.removeMarker(H.$highlightLineMarker.id),H.$highlightLineMarker=null;else if(!H.$highlightLineMarker&&j){var P=new g(j.row,j.column,j.row,1/0);P.id=H.addMarker(P,"ace_active-line","screenLine"),H.$highlightLineMarker=P}else j&&(H.$highlightLineMarker.start.row=j.row,H.$highlightLineMarker.end.row=j.row,H.$highlightLineMarker.start.column=j.column,H._signal("changeBackMarker"))},F.prototype.onSelectionChange=function(H){var j=this.session;if(j.$selectionMarker&&j.removeMarker(j.$selectionMarker),j.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var P=this.selection.getRange(),ee=this.getSelectionStyle();j.$selectionMarker=j.addMarker(P,"ace_selection",ee)}var J=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(J),this._signal("changeSelection")},F.prototype.$getSelectionHighLightRegexp=function(){var H=this.session,j=this.getSelectionRange();if(!(j.isEmpty()||j.isMultiLine())){var P=j.start.column,ee=j.end.column,J=H.getLine(j.start.row),K=J.substring(P,ee);if(!(K.length>5e3||!/[\w\d]/.test(K))){var ae=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:K}),Q=J.substring(P-1,ee+1);if(ae.test(Q))return ae}}},F.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},F.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},F.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},F.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},F.prototype.onChangeMode=function(H){this.renderer.updateText(),this._emit("changeMode",H)},F.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},F.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},F.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},F.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},F.prototype.getCopyText=function(){var H=this.getSelectedText(),j=this.session.doc.getNewLineCharacter(),P=!1;if(!H&&this.$copyWithEmptySelection){P=!0;for(var ee=this.selection.getAllRanges(),J=0;J<ee.length;J++){var K=ee[J];J&&ee[J-1].start.row==K.start.row||(H+=this.session.getLine(K.start.row)+j)}}var ae={text:H};return this._signal("copy",ae),N.lineMode=P?ae.text:!1,ae.text},F.prototype.onCopy=function(){this.commands.exec("copy",this)},F.prototype.onCut=function(){this.commands.exec("cut",this)},F.prototype.onPaste=function(H,j){var P={text:H,event:j};this.commands.exec("paste",this,P)},F.prototype.$handlePaste=function(H){typeof H=="string"&&(H={text:H}),this._signal("paste",H);var j=H.text,P=j===N.lineMode,ee=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)P?ee.insert({row:this.selection.lead.row,column:0},j):this.insert(j);else if(P)this.selection.rangeList.ranges.forEach(function(ge){ee.insert({row:ge.start.row,column:0},j)});else{var J=j.split(/\r\n|\r|\n/),K=this.selection.rangeList.ranges,ae=J.length==2&&(!J[0]||!J[1]);if(J.length!=K.length||ae)return this.commands.exec("insertstring",this,j);for(var Q=K.length;Q--;){var he=K[Q];he.isEmpty()||ee.remove(he),ee.insert(he.start,J[Q])}}},F.prototype.execCommand=function(H,j){return this.commands.exec(H,this,j)},F.prototype.insert=function(H,j){var P=this.session,ee=P.getMode(),J=this.getCursorPosition();if(this.getBehavioursEnabled()&&!j){var K=ee.transformAction(P.getState(J.row),"insertion",this,P,H);K&&(H!==K.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),H=K.text)}if(H=="	"&&(H=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&H.indexOf(`
`)==-1){var ae=new g.fromPoints(J,J);ae.end.column+=H.length,this.session.remove(ae)}}else{var ae=this.getSelectionRange();J=this.session.remove(ae),this.clearSelection()}if(H==`
`||H==`\r
`){var Se=P.getLine(J.row);if(J.column>Se.search(/\S|$/)){var Q=Se.substr(J.column).search(/\S|$/);P.doc.removeInLine(J.row,J.column,J.column+Q)}}this.clearSelection();var he=J.column,ge=P.getState(J.row),Se=P.getLine(J.row),ce=ee.checkOutdent(ge,Se,H);if(P.insert(J,H),K&&K.selection&&(K.selection.length==2?this.selection.setSelectionRange(new g(J.row,he+K.selection[0],J.row,he+K.selection[1])):this.selection.setSelectionRange(new g(J.row+K.selection[0],K.selection[1],J.row+K.selection[2],K.selection[3]))),this.$enableAutoIndent){if(P.getDocument().isNewLine(H)){var ne=ee.getNextLineIndent(ge,Se.slice(0,J.column),P.getTabString());P.insert({row:J.row+1,column:0},ne)}ce&&ee.autoOutdent(ge,P,J.row)}},F.prototype.autoIndent=function(){var H=this.session,j=H.getMode(),P,ee;if(this.selection.isEmpty())P=0,ee=H.doc.getLength()-1;else{var J=this.getSelectionRange();P=J.start.row,ee=J.end.row}for(var K="",ae="",Q="",he,ge,Se,ce=H.getTabString(),ne=P;ne<=ee;ne++)ne>0&&(K=H.getState(ne-1),ae=H.getLine(ne-1),Q=j.getNextLineIndent(K,ae,ce)),he=H.getLine(ne),ge=j.$getIndent(he),Q!==ge&&(ge.length>0&&(Se=new g(ne,0,ne,ge.length),H.remove(Se)),Q.length>0&&H.insert({row:ne,column:0},Q)),j.autoOutdent(K,H,ne)},F.prototype.onTextInput=function(H,j){if(!j)return this.keyBinding.onTextInput(H);this.startOperation({command:{name:"insertstring"}});var P=this.applyComposition.bind(this,H,j);this.selection.rangeCount?this.forEachSelection(P):P(),this.endOperation()},F.prototype.applyComposition=function(H,j){if(j.extendLeft||j.extendRight){var P=this.selection.getRange();P.start.column-=j.extendLeft,P.end.column+=j.extendRight,P.start.column<0&&(P.start.row--,P.start.column+=this.session.getLine(P.start.row).length+1),this.selection.setRange(P),!H&&!P.isEmpty()&&this.remove()}if((H||!this.selection.isEmpty())&&this.insert(H,!0),j.restoreStart||j.restoreEnd){var P=this.selection.getRange();P.start.column-=j.restoreStart,P.end.column-=j.restoreEnd,this.selection.setRange(P)}},F.prototype.onCommandKey=function(H,j,P){return this.keyBinding.onCommandKey(H,j,P)},F.prototype.setOverwrite=function(H){this.session.setOverwrite(H)},F.prototype.getOverwrite=function(){return this.session.getOverwrite()},F.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},F.prototype.setScrollSpeed=function(H){this.setOption("scrollSpeed",H)},F.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},F.prototype.setDragDelay=function(H){this.setOption("dragDelay",H)},F.prototype.getDragDelay=function(){return this.getOption("dragDelay")},F.prototype.setSelectionStyle=function(H){this.setOption("selectionStyle",H)},F.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},F.prototype.setHighlightActiveLine=function(H){this.setOption("highlightActiveLine",H)},F.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},F.prototype.setHighlightGutterLine=function(H){this.setOption("highlightGutterLine",H)},F.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},F.prototype.setHighlightSelectedWord=function(H){this.setOption("highlightSelectedWord",H)},F.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},F.prototype.setAnimatedScroll=function(H){this.renderer.setAnimatedScroll(H)},F.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},F.prototype.setShowInvisibles=function(H){this.renderer.setShowInvisibles(H)},F.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},F.prototype.setDisplayIndentGuides=function(H){this.renderer.setDisplayIndentGuides(H)},F.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},F.prototype.setHighlightIndentGuides=function(H){this.renderer.setHighlightIndentGuides(H)},F.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},F.prototype.setShowPrintMargin=function(H){this.renderer.setShowPrintMargin(H)},F.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},F.prototype.setPrintMarginColumn=function(H){this.renderer.setPrintMarginColumn(H)},F.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},F.prototype.setReadOnly=function(H){this.setOption("readOnly",H)},F.prototype.getReadOnly=function(){return this.getOption("readOnly")},F.prototype.setBehavioursEnabled=function(H){this.setOption("behavioursEnabled",H)},F.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},F.prototype.setWrapBehavioursEnabled=function(H){this.setOption("wrapBehavioursEnabled",H)},F.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},F.prototype.setShowFoldWidgets=function(H){this.setOption("showFoldWidgets",H)},F.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},F.prototype.setFadeFoldWidgets=function(H){this.setOption("fadeFoldWidgets",H)},F.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},F.prototype.remove=function(H){this.selection.isEmpty()&&(H=="left"?this.selection.selectLeft():this.selection.selectRight());var j=this.getSelectionRange();if(this.getBehavioursEnabled()){var P=this.session,ee=P.getState(j.start.row),J=P.getMode().transformAction(ee,"deletion",this,P,j);if(j.end.column===0){var K=P.getTextRange(j);if(K[K.length-1]==`
`){var ae=P.getLine(j.end.row);/^\s+$/.test(ae)&&(j.end.column=ae.length)}}J&&(j=J)}this.session.remove(j),this.clearSelection()},F.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},F.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},F.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},F.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var H=this.getSelectionRange();H.start.column==H.end.column&&H.start.row==H.end.row&&(H.end.column=0,H.end.row++),this.session.remove(H),this.clearSelection()},F.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var H=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(H)},F.prototype.setGhostText=function(H,j){this.session.widgetManager||(this.session.widgetManager=new S(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(H,j)},F.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},F.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var H=this.getCursorPosition(),j=H.column;if(j!==0){var P=this.session.getLine(H.row),ee,J;j<P.length?(ee=P.charAt(j)+P.charAt(j-1),J=new g(H.row,j-1,H.row,j+1)):(ee=P.charAt(j-1)+P.charAt(j-2),J=new g(H.row,j-2,H.row,j)),this.session.replace(J,ee),this.session.selection.moveToPosition(J.end)}}},F.prototype.toLowerCase=function(){var H=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var j=this.getSelectionRange(),P=this.session.getTextRange(j);this.session.replace(j,P.toLowerCase()),this.selection.setSelectionRange(H)},F.prototype.toUpperCase=function(){var H=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var j=this.getSelectionRange(),P=this.session.getTextRange(j);this.session.replace(j,P.toUpperCase()),this.selection.setSelectionRange(H)},F.prototype.indent=function(){var H=this.session,j=this.getSelectionRange();if(j.start.row<j.end.row){var P=this.$getSelectedRows();H.indentRows(P.first,P.last,"	");return}else if(j.start.column<j.end.column){var ee=H.getTextRange(j);if(!/^\s+$/.test(ee)){var P=this.$getSelectedRows();H.indentRows(P.first,P.last,"	");return}}var J=H.getLine(j.start.row),K=j.start,ae=H.getTabSize(),Q=H.documentToScreenColumn(K.row,K.column);if(this.session.getUseSoftTabs())var he=ae-Q%ae,ge=s.stringRepeat(" ",he);else{for(var he=Q%ae;J[j.start.column-1]==" "&&he;)j.start.column--,he--;this.selection.setSelectionRange(j),ge="	"}return this.insert(ge)},F.prototype.blockIndent=function(){var H=this.$getSelectedRows();this.session.indentRows(H.first,H.last,"	")},F.prototype.blockOutdent=function(){var H=this.session.getSelection();this.session.outdentRows(H.getRange())},F.prototype.sortLines=function(){for(var H=this.$getSelectedRows(),j=this.session,P=[],ee=H.first;ee<=H.last;ee++)P.push(j.getLine(ee));P.sort(function(ae,Q){return ae.toLowerCase()<Q.toLowerCase()?-1:ae.toLowerCase()>Q.toLowerCase()?1:0});for(var J=new g(0,0,0,0),ee=H.first;ee<=H.last;ee++){var K=j.getLine(ee);J.start.row=ee,J.end.row=ee,J.end.column=K.length,j.replace(J,P[ee-H.first])}},F.prototype.toggleCommentLines=function(){var H=this.session.getState(this.getCursorPosition().row),j=this.$getSelectedRows();this.session.getMode().toggleCommentLines(H,this.session,j.first,j.last)},F.prototype.toggleBlockComment=function(){var H=this.getCursorPosition(),j=this.session.getState(H.row),P=this.getSelectionRange();this.session.getMode().toggleBlockComment(j,this.session,P,H)},F.prototype.getNumberAt=function(H,j){var P=/[\-]?[0-9]+(?:\.[0-9]+)?/g;P.lastIndex=0;for(var ee=this.session.getLine(H);P.lastIndex<j;){var J=P.exec(ee);if(J.index<=j&&J.index+J[0].length>=j){var K={value:J[0],start:J.index,end:J.index+J[0].length};return K}}return null},F.prototype.modifyNumber=function(H){var j=this.selection.getCursor().row,P=this.selection.getCursor().column,ee=new g(j,P-1,j,P),J=this.session.getTextRange(ee);if(!isNaN(parseFloat(J))&&isFinite(J)){var K=this.getNumberAt(j,P);if(K){var ae=K.value.indexOf(".")>=0?K.start+K.value.indexOf(".")+1:K.end,Q=K.start+K.value.length-ae,he=parseFloat(K.value);he*=Math.pow(10,Q),ae!==K.end&&P<ae?H*=Math.pow(10,K.end-P-1):H*=Math.pow(10,K.end-P),he+=H,he/=Math.pow(10,Q);var ge=he.toFixed(Q),Se=new g(j,K.start,j,K.end);this.session.replace(Se,ge),this.moveCursorTo(j,Math.max(K.start+1,P+ge.length-K.value.length))}}else this.toggleWord()},F.prototype.toggleWord=function(){var H=this.selection.getCursor().row,j=this.selection.getCursor().column;this.selection.selectWord();var P=this.getSelectedText(),ee=this.selection.getWordRange().start.column,J=P.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),K=j-ee-1;K<0&&(K=0);var ae=0,Q=0,he=this;P.match(/[A-Za-z0-9_]+/)&&J.forEach(function($e,ke){Q=ae+$e.length,K>=ae&&K<=Q&&(P=$e,he.selection.clearSelection(),he.moveCursorTo(H,ae+ee),he.selection.selectTo(H,Q+ee)),ae=Q});for(var ge=this.$toggleWordPairs,Se,ce=0;ce<ge.length;ce++)for(var ne=ge[ce],fe=0;fe<=1;fe++){var X=+!fe,ye=P.match(new RegExp("^\\s?_?("+s.escapeRegExp(ne[fe])+")\\s?$","i"));if(ye){var Ce=P.match(new RegExp("([_]|^|\\s)("+s.escapeRegExp(ye[1])+")($|\\s)","g"));Ce&&(Se=P.replace(new RegExp(s.escapeRegExp(ne[fe]),"i"),function($e){var ke=ne[X];return $e.toUpperCase()==$e?ke=ke.toUpperCase():$e.charAt(0).toUpperCase()==$e.charAt(0)&&(ke=ke.substr(0,0)+ne[X].charAt(0).toUpperCase()+ke.substr(1)),ke}),this.insert(Se),Se="")}}},F.prototype.findLinkAt=function(H,j){var P,ee,J=this.session.getLine(H),K=J.split(/((?:https?|ftp):\/\/[\S]+)/),ae=j;ae<0&&(ae=0);var Q=0,he=0,ge;try{for(var Se=V(K),ce=Se.next();!ce.done;ce=Se.next()){var ne=ce.value;if(he=Q+ne.length,ae>=Q&&ae<=he&&ne.match(/((?:https?|ftp):\/\/[\S]+)/)){ge=ne.replace(/[\s:.,'";}\]]+$/,"");break}Q=he}}catch(fe){P={error:fe}}finally{try{ce&&!ce.done&&(ee=Se.return)&&ee.call(Se)}finally{if(P)throw P.error}}return ge},F.prototype.openLink=function(){var H=this.selection.getCursor(),j=this.findLinkAt(H.row,H.column);return j&&window.open(j,"_blank"),j!=null},F.prototype.removeLines=function(){var H=this.$getSelectedRows();this.session.removeFullLines(H.first,H.last),this.clearSelection()},F.prototype.duplicateSelection=function(){var H=this.selection,j=this.session,P=H.getRange(),ee=H.isBackwards();if(P.isEmpty()){var J=P.start.row;j.duplicateLines(J,J)}else{var K=ee?P.start:P.end,ae=j.insert(K,j.getTextRange(P),!1);P.start=K,P.end=ae,H.setSelectionRange(P,ee)}},F.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},F.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},F.prototype.moveText=function(H,j,P){return this.session.moveText(H,j,P)},F.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},F.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},F.prototype.$moveLines=function(H,j){var P,ee,J=this.selection;if(!J.inMultiSelectMode||this.inVirtualSelectionMode){var K=J.toOrientedRange();P=this.$getSelectedRows(K),ee=this.session.$moveLines(P.first,P.last,j?0:H),j&&H==-1&&(ee=0),K.moveBy(ee,0),J.fromOrientedRange(K)}else{var ae=J.rangeList.ranges;J.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var Q=0,he=0,ge=ae.length,Se=0;Se<ge;Se++){var ce=Se;ae[Se].moveBy(Q,0),P=this.$getSelectedRows(ae[Se]);for(var ne=P.first,fe=P.last;++Se<ge;){he&&ae[Se].moveBy(he,0);var X=this.$getSelectedRows(ae[Se]);if(j&&X.first!=fe)break;if(!j&&X.first>fe+1)break;fe=X.last}for(Se--,Q=this.session.$moveLines(ne,fe,j?0:H),j&&H==-1&&(ce=Se+1);ce<=Se;)ae[ce].moveBy(Q,0),ce++;j||(Q=0),he+=Q}J.fromOrientedRange(J.ranges[0]),J.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},F.prototype.$getSelectedRows=function(H){return H=(H||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(H.start.row),last:this.session.getRowFoldEnd(H.end.row)}},F.prototype.onCompositionStart=function(H){this.renderer.showComposition(H)},F.prototype.onCompositionUpdate=function(H){this.renderer.setCompositionText(H)},F.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},F.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},F.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},F.prototype.isRowVisible=function(H){return H>=this.getFirstVisibleRow()&&H<=this.getLastVisibleRow()},F.prototype.isRowFullyVisible=function(H){return H>=this.renderer.getFirstFullyVisibleRow()&&H<=this.renderer.getLastFullyVisibleRow()},F.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},F.prototype.$moveByPage=function(H,j){var P=this.renderer,ee=this.renderer.layerConfig,J=H*Math.floor(ee.height/ee.lineHeight);j===!0?this.selection.$moveSelection(function(){this.moveCursorBy(J,0)}):j===!1&&(this.selection.moveCursorBy(J,0),this.selection.clearSelection());var K=P.scrollTop;P.scrollBy(0,J*ee.lineHeight),j!=null&&P.scrollCursorIntoView(null,.5),P.animateScrolling(K)},F.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},F.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},F.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},F.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},F.prototype.scrollPageDown=function(){this.$moveByPage(1)},F.prototype.scrollPageUp=function(){this.$moveByPage(-1)},F.prototype.scrollToRow=function(H){this.renderer.scrollToRow(H)},F.prototype.scrollToLine=function(H,j,P,ee){this.renderer.scrollToLine(H,j,P,ee)},F.prototype.centerSelection=function(){var H=this.getSelectionRange(),j={row:Math.floor(H.start.row+(H.end.row-H.start.row)/2),column:Math.floor(H.start.column+(H.end.column-H.start.column)/2)};this.renderer.alignCursor(j,.5)},F.prototype.getCursorPosition=function(){return this.selection.getCursor()},F.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},F.prototype.getSelectionRange=function(){return this.selection.getRange()},F.prototype.selectAll=function(){this.selection.selectAll()},F.prototype.clearSelection=function(){this.selection.clearSelection()},F.prototype.moveCursorTo=function(H,j){this.selection.moveCursorTo(H,j)},F.prototype.moveCursorToPosition=function(H){this.selection.moveCursorToPosition(H)},F.prototype.jumpToMatching=function(H,j){var P=this.getCursorPosition(),ee=new $(this.session,P.row,P.column),J=ee.getCurrentToken(),K=0;J&&J.type.indexOf("tag-name")!==-1&&(J=ee.stepBackward());var ae=J||ee.stepForward();if(ae){var Q,he=!1,ge={},Se=P.column-ae.start,ce,ne={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(ae.value.match(/[{}()\[\]]/g)){for(;Se<ae.value.length&&!he;Se++)if(ne[ae.value[Se]])switch(ce=ne[ae.value[Se]]+"."+ae.type.replace("rparen","lparen"),isNaN(ge[ce])&&(ge[ce]=0),ae.value[Se]){case"(":case"[":case"{":ge[ce]++;break;case")":case"]":case"}":ge[ce]--,ge[ce]===-1&&(Q="bracket",he=!0);break}}else ae.type.indexOf("tag-name")!==-1&&(isNaN(ge[ae.value])&&(ge[ae.value]=0),J.value==="<"&&K>1?ge[ae.value]++:J.value==="</"&&ge[ae.value]--,ge[ae.value]===-1&&(Q="tag",he=!0));he||(J=ae,K++,ae=ee.stepForward(),Se=0)}while(ae&&!he);if(Q){var fe,X;if(Q==="bracket")fe=this.session.getBracketRange(P),fe||(fe=new g(ee.getCurrentTokenRow(),ee.getCurrentTokenColumn()+Se-1,ee.getCurrentTokenRow(),ee.getCurrentTokenColumn()+Se-1),X=fe.start,(j||X.row===P.row&&Math.abs(X.column-P.column)<2)&&(fe=this.session.getBracketRange(X)));else if(Q==="tag"){if(!ae||ae.type.indexOf("tag-name")===-1)return;if(fe=new g(ee.getCurrentTokenRow(),ee.getCurrentTokenColumn()-2,ee.getCurrentTokenRow(),ee.getCurrentTokenColumn()-2),fe.compare(P.row,P.column)===0){var ye=this.session.getMatchingTags(P);ye&&(ye.openTag.contains(P.row,P.column)?(fe=ye.closeTag,X=fe.start):(fe=ye.openTag,ye.closeTag.start.row===P.row&&ye.closeTag.start.column===P.column?X=fe.end:X=fe.start))}X=X||fe.start}X=fe&&fe.cursor||X,X&&(H?fe&&j?this.selection.setRange(fe):fe&&fe.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(X.row,X.column):this.selection.moveTo(X.row,X.column))}}},F.prototype.gotoLine=function(H,j,P){this.selection.clearSelection(),this.session.unfold({row:H-1,column:j||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(H-1,j||0),this.isRowFullyVisible(H-1)||this.scrollToLine(H-1,!0,P)},F.prototype.navigateTo=function(H,j){this.selection.moveTo(H,j)},F.prototype.navigateUp=function(H){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var j=this.selection.anchor.getPosition();return this.moveCursorToPosition(j)}this.selection.clearSelection(),this.selection.moveCursorBy(-H||-1,0)},F.prototype.navigateDown=function(H){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var j=this.selection.anchor.getPosition();return this.moveCursorToPosition(j)}this.selection.clearSelection(),this.selection.moveCursorBy(H||1,0)},F.prototype.navigateLeft=function(H){if(this.selection.isEmpty())for(H=H||1;H--;)this.selection.moveCursorLeft();else{var j=this.getSelectionRange().start;this.moveCursorToPosition(j)}this.clearSelection()},F.prototype.navigateRight=function(H){if(this.selection.isEmpty())for(H=H||1;H--;)this.selection.moveCursorRight();else{var j=this.getSelectionRange().end;this.moveCursorToPosition(j)}this.clearSelection()},F.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},F.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},F.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},F.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},F.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},F.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},F.prototype.replace=function(H,j){j&&this.$search.set(j);var P=this.$search.find(this.session),ee=0;return P&&(this.$tryReplace(P,H)&&(ee=1),this.selection.setSelectionRange(P),this.renderer.scrollSelectionIntoView(P.start,P.end)),ee},F.prototype.replaceAll=function(H,j){j&&this.$search.set(j);var P=this.$search.findAll(this.session),ee=0;if(!P.length)return ee;var J=this.getSelectionRange();this.selection.moveTo(0,0);for(var K=P.length-1;K>=0;--K)this.$tryReplace(P[K],H)&&ee++;return this.selection.setSelectionRange(J),ee},F.prototype.$tryReplace=function(H,j){var P=this.session.getTextRange(H);return j=this.$search.replace(P,j),j!==null?(H.end=this.session.replace(H,j),H):null},F.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},F.prototype.find=function(H,j,P){j||(j={}),typeof H=="string"||H instanceof RegExp?j.needle=H:typeof H=="object"&&L.mixin(j,H);var ee=this.selection.getRange();j.needle==null&&(H=this.session.getTextRange(ee)||this.$search.$options.needle,H||(ee=this.session.getWordRange(ee.start.row,ee.start.column),H=this.session.getTextRange(ee)),this.$search.set({needle:H})),this.$search.set(j),j.start||this.$search.set({start:ee});var J=this.$search.find(this.session);if(j.preventScroll)return J;if(J)return this.revealRange(J,P),J;j.backwards?ee.start=ee.end:ee.end=ee.start,this.selection.setRange(ee)},F.prototype.findNext=function(H,j){this.find({skipCurrent:!0,backwards:!1},H,j)},F.prototype.findPrevious=function(H,j){this.find(H,{skipCurrent:!0,backwards:!0},j)},F.prototype.revealRange=function(H,j){this.session.unfold(H),this.selection.setSelectionRange(H);var P=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(H.start,H.end,.5),j!==!1&&this.renderer.animateScrolling(P)},F.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},F.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},F.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(H){H.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},F.prototype.setAutoScrollEditorIntoView=function(H){if(H){var j,P=this,ee=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var J=this.$scrollAnchor;J.style.cssText="position:absolute",this.container.insertBefore(J,this.container.firstChild);var K=this.on("changeSelection",function(){ee=!0}),ae=this.renderer.on("beforeRender",function(){ee&&(j=P.renderer.container.getBoundingClientRect())}),Q=this.renderer.on("afterRender",function(){if(ee&&j&&(P.isFocused()||P.searchBox&&P.searchBox.isFocused())){var he=P.renderer,ge=he.$cursorLayer.$pixelPos,Se=he.layerConfig,ce=ge.top-Se.offset;ge.top>=0&&ce+j.top<0?ee=!0:ge.top<Se.height&&ge.top+j.top+Se.lineHeight>window.innerHeight?ee=!1:ee=null,ee!=null&&(J.style.top=ce+"px",J.style.left=ge.left+"px",J.style.height=Se.lineHeight+"px",J.scrollIntoView(ee)),ee=j=null}});this.setAutoScrollEditorIntoView=function(he){he||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",K),this.renderer.off("afterRender",Q),this.renderer.off("beforeRender",ae))}}},F.prototype.$resetCursorStyle=function(){var H=this.$cursorStyle||"ace",j=this.renderer.$cursorLayer;j&&(j.setSmoothBlinking(/smooth/.test(H)),j.isBlinking=!this.$readOnly&&H!="wide",A.setCssClass(j.element,"ace_slim-cursors",/slim/.test(H)))},F.prototype.prompt=function(H,j,P){var ee=this;_.loadModule("ace/ext/prompt",function(J){J.prompt(ee,H,j,P)})},F}();k.$uid=0,k.prototype.curOp=null,k.prototype.prevOp={},k.prototype.$mergeableCommands=["backspace","del","insertstring"],k.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],L.implement(k.prototype,v),_.defineOptions(k.prototype,"editor",{selectionStyle:{set:function(F){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:F})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(F){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(F){this.textInput.setReadOnly(F),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(F){this.textInput.setCopyWithEmptySelection(F)},initialValue:!1},cursorStyle:{set:function(F){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(F){this.setAutoScrollEditorIntoView(F)}},keyboardHandler:{set:function(F){this.setKeyboardHandler(F)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(F){this.session.setValue(F)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(F){this.setSession(F)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(F){this.renderer.$gutterLayer.setShowLineNumbers(F),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),F&&this.$relativeLineNumbers?R.attach(this):R.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(F){this.$showLineNumbers&&F?R.attach(this):R.detach(this)}},placeholder:{set:function(F){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var H=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(H&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),A.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!H&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),A.addCssClass(this.container,"ace_hasPlaceholder");var j=A.createElement("div");j.className="ace_placeholder",j.textContent=this.$placeholder||"",this.renderer.placeholderNode=j,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!H&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(F){var H={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(ee){ee.blur(),ee.renderer.scroller.focus()},readOnly:!0},j=function(ee){if(ee.target==this.renderer.scroller&&ee.keyCode===M.enter){ee.preventDefault();var J=this.getCursorPosition().row;this.isRowVisible(J)||this.scrollToLine(J,!0,!0),this.focus()}},P;F?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(m.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",D("editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",D("Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",j.bind(this)),this.commands.addCommand(H),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",D("editor")),this.renderer.$gutter.setAttribute("aria-label",D("Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),P||(P=new O(this)),P.addListener()):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",j.bind(this)),this.commands.removeCommand(H),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),P&&P.removeListener())},initialValue:!1},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var R={getText:function(F,H){return(Math.abs(F.selection.lead.row-H)||H+1+(H<9?"·":""))+""},getWidth:function(F,H,j){return Math.max(H.toString().length,(j.lastRow+1).toString().length,2)*j.characterWidth},update:function(F,H){H.renderer.$loop.schedule(H.renderer.CHANGE_GUTTER)},attach:function(F){F.renderer.$gutterLayer.$renderer=this,F.on("changeSelection",this.update),this.update(null,F)},detach:function(F){F.renderer.$gutterLayer.$renderer==this&&(F.renderer.$gutterLayer.$renderer=null),F.off("changeSelection",this.update),this.update(null,F)}};T.Editor=k}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(y,T,G){var V=function(){function $(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return $.prototype.addSession=function(S){this.$session=S},$.prototype.add=function(S,O,D){if(!this.$fromUndo&&S!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),O===!1||!this.lastDeltas){this.lastDeltas=[];var N=this.$undoStack.length;N>this.$undoDepth-1&&this.$undoStack.splice(0,N-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),S.id=this.$rev=++this.$maxRev}(S.action=="remove"||S.action=="insert")&&(this.$lastDelta=S),this.lastDeltas.push(S)}},$.prototype.addSelection=function(S,O){this.selections.push({value:S,rev:O||this.$rev})},$.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},$.prototype.markIgnored=function(S,O){O==null&&(O=this.$rev+1);for(var D=this.$undoStack,N=D.length;N--;){var M=D[N][0];if(M.id<=S)break;M.id<O&&(M.ignore=!0)}this.lastDeltas=null},$.prototype.getSelection=function(S,O){for(var D=this.selections,N=D.length;N--;){var M=D[N];if(M.rev<S)return O&&(M=D[N+1]),M}},$.prototype.getRevision=function(){return this.$rev},$.prototype.getDeltas=function(S,O){O==null&&(O=this.$rev+1);for(var D=this.$undoStack,N=null,M=0,k=D.length;k--;){var R=D[k][0];if(R.id<O&&!N&&(N=k+1),R.id<=S){M=k+1;break}}return D.slice(M,N)},$.prototype.getChangedRanges=function(S,O){O==null&&(O=this.$rev+1)},$.prototype.getChangedLines=function(S,O){O==null&&(O=this.$rev+1)},$.prototype.undo=function(S,O){this.lastDeltas=null;var D=this.$undoStack;if(L(D,D.length)){S||(S=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var N=D.pop(),M=null;return N&&(M=S.undoChanges(N,O),this.$redoStack.push(N),this.$syncRev()),this.$fromUndo=!1,M}},$.prototype.redo=function(S,O){if(this.lastDeltas=null,S||(S=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var D=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);_(this.$redoStack,D),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(k){k[0].id=++this.$maxRev},this)}var N=this.$redoStack.pop(),M=null;return N&&(M=S.redoChanges(N,O),this.$undoStack.push(N),this.$syncRev()),this.$fromUndo=!1,M},$.prototype.$syncRev=function(){var S=this.$undoStack,O=S[S.length-1],D=O&&O[0].id||0;this.$redoStackBaseRev=D,this.$rev=D},$.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},$.prototype.canUndo=function(){return this.$undoStack.length>0},$.prototype.canRedo=function(){return this.$redoStack.length>0},$.prototype.bookmark=function(S){S==null&&(S=this.$rev),this.mark=S},$.prototype.isAtBookmark=function(){return this.$rev===this.mark},$.prototype.toJSON=function(){},$.prototype.fromJSON=function(){},$.prototype.$prettyPrint=function(S){return S?l(S):l(this.$undoStack)+`
---
`+l(this.$redoStack)},$}();V.prototype.hasUndo=V.prototype.canUndo,V.prototype.hasRedo=V.prototype.canRedo,V.prototype.isClean=V.prototype.isAtBookmark,V.prototype.markClean=V.prototype.bookmark;function L($,S){for(var O=S;O--;){var D=$[O];if(D&&!D[0].ignore){for(;O<S-1;){var N=u($[O],$[O+1]);$[O]=N[0],$[O+1]=N[1],O++}return!0}}}var A=y("./range").Range,s=A.comparePoints;A.comparePoints;function m($){return{row:$.row,column:$.column}}function h($){return{start:m($.start),end:m($.end),action:$.action,lines:$.lines.slice()}}function l($){if($=$||this,Array.isArray($))return $.map(l).join(`
`);var S="";return $.action?(S=$.action=="insert"?"+":"-",S+="["+$.lines+"]"):$.value&&(Array.isArray($.value)?S=$.value.map(c).join(`
`):S=c($.value)),$.start&&(S+=c($)),($.id||$.rev)&&(S+="	("+($.id||$.rev)+")"),S}function c($){return $.start.row+":"+$.start.column+"=>"+$.end.row+":"+$.end.column}function i($,S){var O=$.action=="insert",D=S.action=="insert";if(O&&D)if(s(S.start,$.end)>=0)g(S,$,-1);else if(s(S.start,$.start)<=0)g($,S,1);else return null;else if(O&&!D)if(s(S.start,$.end)>=0)g(S,$,-1);else if(s(S.end,$.start)<=0)g($,S,-1);else return null;else if(!O&&D)if(s(S.start,$.start)>=0)g(S,$,1);else if(s(S.start,$.start)<=0)g($,S,1);else return null;else if(!O&&!D)if(s(S.start,$.start)>=0)g(S,$,1);else if(s(S.end,$.start)<=0)g($,S,-1);else return null;return[S,$]}function u($,S){for(var O=$.length;O--;)for(var D=0;D<S.length;D++)if(!i($[O],S[D])){for(;O<$.length;){for(;D--;)i(S[D],$[O]);D=S.length,O++}return[$,S]}return $.selectionBefore=S.selectionBefore=$.selectionAfter=S.selectionAfter=null,[S,$]}function d($,S){var O=$.action=="insert",D=S.action=="insert";if(O&&D)s($.start,S.start)<0?g(S,$,1):g($,S,1);else if(O&&!D)s($.start,S.end)>=0?g($,S,-1):(s($.start,S.start)<=0||g($,A.fromPoints(S.start,$.start),-1),g(S,$,1));else if(!O&&D)s(S.start,$.end)>=0?g(S,$,-1):(s(S.start,$.start)<=0||g(S,A.fromPoints($.start,S.start),-1),g($,S,1));else if(!O&&!D)if(s(S.start,$.end)>=0)g(S,$,-1);else if(s(S.end,$.start)<=0)g($,S,-1);else{var N,M;return s($.start,S.start)<0&&(N=$,$=x($,S.start)),s($.end,S.end)>0&&(M=x($,S.end)),v(S.end,$.start,$.end,-1),M&&!N&&($.lines=M.lines,$.start=M.start,$.end=M.end,M=$),[S,N,M].filter(Boolean)}return[S,$]}function g($,S,O){v($.start,S.start,S.end,O),v($.end,S.start,S.end,O)}function v($,S,O,D){$.row==(D==1?S:O).row&&($.column+=D*(O.column-S.column)),$.row+=D*(O.row-S.row)}function x($,S){var O=$.lines,D=$.end;$.end=m(S);var N=$.end.row-$.start.row,M=O.splice(N,O.length),k=N?S.column:S.column-$.start.column;O.push(M[0].substring(0,k)),M[0]=M[0].substr(k);var R={start:m(S),end:D,lines:M,action:$.action};return R}function C($,S){S=h(S);for(var O=$.length;O--;){for(var D=$[O],N=0;N<D.length;N++){var M=D[N],k=d(M,S);S=k[0],k.length!=2&&(k[2]?(D.splice(N+1,1,k[1],k[2]),N++):k[1]||(D.splice(N,1),N--))}D.length||$.splice(O,1)}return $}function _($,S){for(var O=0;O<S.length;O++)for(var D=S[O],N=0;N<D.length;N++)C($,D[N])}T.UndoManager=V}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(y,T,G){var V=y("../lib/dom"),L=function(){function A(s,m){this.element=s,this.canvasHeight=m||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return A.prototype.moveContainer=function(s){V.translate(this.element,0,-(s.firstRowScreen*s.lineHeight%this.canvasHeight)-s.offset*this.$offsetCoefficient)},A.prototype.pageChanged=function(s,m){return Math.floor(s.firstRowScreen*s.lineHeight/this.canvasHeight)!==Math.floor(m.firstRowScreen*m.lineHeight/this.canvasHeight)},A.prototype.computeLineTop=function(s,m,h){var l=m.firstRowScreen*m.lineHeight,c=Math.floor(l/this.canvasHeight),i=h.documentToScreenRow(s,0)*m.lineHeight;return i-c*this.canvasHeight},A.prototype.computeLineHeight=function(s,m,h){return m.lineHeight*h.getRowLineCount(s)},A.prototype.getLength=function(){return this.cells.length},A.prototype.get=function(s){return this.cells[s]},A.prototype.shift=function(){this.$cacheCell(this.cells.shift())},A.prototype.pop=function(){this.$cacheCell(this.cells.pop())},A.prototype.push=function(s){if(Array.isArray(s)){this.cells.push.apply(this.cells,s);for(var m=V.createFragment(this.element),h=0;h<s.length;h++)m.appendChild(s[h].element);this.element.appendChild(m)}else this.cells.push(s),this.element.appendChild(s.element)},A.prototype.unshift=function(s){if(Array.isArray(s)){this.cells.unshift.apply(this.cells,s);for(var m=V.createFragment(this.element),h=0;h<s.length;h++)m.appendChild(s[h].element);this.element.firstChild?this.element.insertBefore(m,this.element.firstChild):this.element.appendChild(m)}else this.cells.unshift(s),this.element.insertAdjacentElement("afterbegin",s.element)},A.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},A.prototype.$cacheCell=function(s){s&&(s.element.remove(),this.cellCache.push(s))},A.prototype.createCell=function(s,m,h,l){var c=this.cellCache.pop();if(!c){var i=V.createElement("div");l&&l(i),this.element.appendChild(i),c={element:i,text:"",row:s}}return c.row=s,c},A}();T.Lines=L}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(y,T,G){var V=y("../lib/dom"),L=y("../lib/oop"),A=y("../lib/lang"),s=y("../lib/event_emitter").EventEmitter,m=y("./lines").Lines,h=y("../config").nls,l=function(){function i(u){this.element=V.createElement("div"),this.element.className="ace_layer ace_gutter-layer",u.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new m(this.element),this.$lines.$offsetCoefficient=1}return i.prototype.setSession=function(u){this.session&&this.session.off("change",this.$updateAnnotations),this.session=u,u&&u.on("change",this.$updateAnnotations)},i.prototype.addGutterDecoration=function(u,d){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(u,d)},i.prototype.removeGutterDecoration=function(u,d){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(u,d)},i.prototype.setAnnotations=function(u){this.$annotations=[];for(var d=0;d<u.length;d++){var g=u[d],v=g.row,x=this.$annotations[v];x||(x=this.$annotations[v]={text:[],type:[]});var C=g.text,_=g.type;C=C?A.escapeHTML(C):g.html||"",x.text.indexOf(C)===-1&&(x.text.push(C),x.type.push(_));var $=g.className;$?x.className=$:_=="error"?x.className=" ace_error":_=="warning"&&x.className!=" ace_error"?x.className=" ace_warning":_=="info"&&!x.className&&(x.className=" ace_info")}},i.prototype.$updateAnnotations=function(u){if(this.$annotations.length){var d=u.start.row,g=u.end.row-d;if(g!==0)if(u.action=="remove")this.$annotations.splice(d,g+1,null);else{var v=new Array(g+1);v.unshift(d,1),this.$annotations.splice.apply(this.$annotations,v)}}},i.prototype.update=function(u){this.config=u;var d=this.session,g=u.firstRow,v=Math.min(u.lastRow+u.gutterOffset,d.getLength()-1);this.oldLastRow=v,this.config=u,this.$lines.moveContainer(u),this.$updateCursorRow();for(var x=d.getNextFoldLine(g),C=x?x.start.row:1/0,_=null,$=-1,S=g;;){if(S>C&&(S=x.end.row+1,x=d.getNextFoldLine(S,x),C=x?x.start.row:1/0),S>v){for(;this.$lines.getLength()>$+1;)this.$lines.pop();break}_=this.$lines.get(++$),_?_.row=S:(_=this.$lines.createCell(S,u,this.session,c),this.$lines.push(_)),this.$renderCell(_,u,x,S),S++}this._signal("afterRender"),this.$updateGutterWidth(u)},i.prototype.$updateGutterWidth=function(u){var d=this.session,g=d.gutterRenderer||this.$renderer,v=d.$firstLineNumber,x=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||d.$useWrapMode)&&(x=d.getLength()+v-1);var C=g?g.getWidth(d,x,u):x.toString().length*u.characterWidth,_=this.$padding||this.$computePadding();C+=_.left+_.right,C!==this.gutterWidth&&!isNaN(C)&&(this.gutterWidth=C,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",C))},i.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var u=this.session.selection.getCursor();this.$cursorRow!==u.row&&(this.$cursorRow=u.row)}},i.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var u=this.session.selection.cursor.row;if(this.$cursorRow=u,!(this.$cursorCell&&this.$cursorCell.row==u)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var d=this.$lines.cells;this.$cursorCell=null;for(var g=0;g<d.length;g++){var v=d[g];if(v.row>=this.$cursorRow){if(v.row>this.$cursorRow){var x=this.session.getFoldLine(this.$cursorRow);if(g>0&&x&&x.start.row==d[g-1].row)v=d[g-1];else break}v.element.className="ace_gutter-active-line "+v.element.className,this.$cursorCell=v;break}}}}},i.prototype.scrollLines=function(u){var d=this.config;if(this.config=u,this.$updateCursorRow(),this.$lines.pageChanged(d,u))return this.update(u);this.$lines.moveContainer(u);var g=Math.min(u.lastRow+u.gutterOffset,this.session.getLength()-1),v=this.oldLastRow;if(this.oldLastRow=g,!d||v<u.firstRow)return this.update(u);if(g<d.firstRow)return this.update(u);if(d.firstRow<u.firstRow)for(var x=this.session.getFoldedRowCount(d.firstRow,u.firstRow-1);x>0;x--)this.$lines.shift();if(v>g)for(var x=this.session.getFoldedRowCount(g+1,v);x>0;x--)this.$lines.pop();u.firstRow<d.firstRow&&this.$lines.unshift(this.$renderLines(u,u.firstRow,d.firstRow-1)),g>v&&this.$lines.push(this.$renderLines(u,v+1,g)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(u)},i.prototype.$renderLines=function(u,d,g){for(var v=[],x=d,C=this.session.getNextFoldLine(x),_=C?C.start.row:1/0;x>_&&(x=C.end.row+1,C=this.session.getNextFoldLine(x,C),_=C?C.start.row:1/0),!(x>g);){var $=this.$lines.createCell(x,u,this.session,c);this.$renderCell($,u,C,x),v.push($),x++}return v},i.prototype.$renderCell=function(u,d,g,v){var x=u.element,C=this.session,_=x.childNodes[0],$=x.childNodes[1],S=x.childNodes[2],O=S.firstChild,D=C.$firstLineNumber,N=C.$breakpoints,M=C.$decorations,k=C.gutterRenderer||this.$renderer,R=this.$showFoldWidgets&&C.foldWidgets,F=g?g.start.row:Number.MAX_VALUE,H=d.lineHeight+"px",j=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",P=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",ee=(k?k.getText(C,v):v+D).toString();if(this.$highlightGutterLine&&(v==this.$cursorRow||g&&v<this.$cursorRow&&v>=F&&this.$cursorRow<=g.end.row)&&(j+="ace_gutter-active-line ",this.$cursorCell!=u&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=u)),N[v]&&(j+=N[v]),M[v]&&(j+=M[v]),this.$annotations[v]&&v!==F&&(j+=this.$annotations[v].className),R){var J=R[v];J==null&&(J=R[v]=C.getFoldWidget(v))}if(J){var K="ace_fold-widget ace_"+J,ae=J=="start"&&v==F&&v<g.end.row;if(ae){K+=" ace_closed";for(var Q="",he=!1,ge=v+1;ge<=g.end.row;ge++)if(this.$annotations[ge]){if(this.$annotations[ge].className===" ace_error"){he=!0,Q=" ace_error_fold";break}if(this.$annotations[ge].className===" ace_warning"){he=!0,Q=" ace_warning_fold";continue}}j+=Q}else K+=" ace_open";$.className!=K&&($.className=K),V.setStyle($.style,"height",H),V.setStyle($.style,"display","inline-block"),$.setAttribute("role","button"),$.setAttribute("tabindex","-1");var Se=C.getFoldWidgetRange(v);Se?$.setAttribute("aria-label",h("Toggle code folding, rows $0 through $1",[Se.start.row+1,Se.end.row+1])):g?$.setAttribute("aria-label",h("Toggle code folding, rows $0 through $1",[g.start.row+1,g.end.row+1])):$.setAttribute("aria-label",h("Toggle code folding, row $0",[v+1])),ae?($.setAttribute("aria-expanded","false"),$.setAttribute("title",h("Unfold code"))):($.setAttribute("aria-expanded","true"),$.setAttribute("title",h("Fold code")))}else $&&(V.setStyle($.style,"display","none"),$.setAttribute("tabindex","0"),$.removeAttribute("role"),$.removeAttribute("aria-label"));return he&&this.$showFoldedAnnotations?(S.className="ace_gutter_annotation",O.className=P,O.className+=Q,V.setStyle(O.style,"height",H),V.setStyle(S.style,"display","block"),V.setStyle(S.style,"height",H),S.setAttribute("aria-label",h("Read annotations row $0",[ee])),S.setAttribute("tabindex","-1"),S.setAttribute("role","button")):this.$annotations[v]?(S.className="ace_gutter_annotation",O.className=P,this.$useSvgGutterIcons?O.className+=this.$annotations[v].className:x.classList.add(this.$annotations[v].className.replace(" ","")),V.setStyle(O.style,"height",H),V.setStyle(S.style,"display","block"),V.setStyle(S.style,"height",H),S.setAttribute("aria-label",h("Read annotations row $0",[ee])),S.setAttribute("tabindex","-1"),S.setAttribute("role","button")):(V.setStyle(S.style,"display","none"),S.removeAttribute("aria-label"),S.removeAttribute("role"),S.setAttribute("tabindex","0")),ee!==_.data&&(_.data=ee),x.className!=j&&(x.className=j),V.setStyle(u.element.style,"height",this.$lines.computeLineHeight(v,d,C)+"px"),V.setStyle(u.element.style,"top",this.$lines.computeLineTop(v,d,C)+"px"),u.text=ee,S.style.display==="none"&&$.style.display==="none"?u.element.setAttribute("aria-hidden",!0):u.element.setAttribute("aria-hidden",!1),u},i.prototype.setHighlightGutterLine=function(u){this.$highlightGutterLine=u},i.prototype.setShowLineNumbers=function(u){this.$renderer=!u&&{getWidth:function(){return 0},getText:function(){return""}}},i.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},i.prototype.setShowFoldWidgets=function(u){u?V.addCssClass(this.element,"ace_folding-enabled"):V.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=u,this.$padding=null},i.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},i.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var u=V.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(u.borderLeftWidth)||0)+(parseInt(u.paddingLeft)||0)+1,this.$padding.right=(parseInt(u.borderRightWidth)||0)+(parseInt(u.paddingRight)||0),this.$padding},i.prototype.getRegion=function(u){var d=this.$padding||this.$computePadding(),g=this.element.getBoundingClientRect();if(u.x<d.left+g.left)return"markers";if(this.$showFoldWidgets&&u.x>g.right-d.right)return"foldWidgets"},i}();l.prototype.$fixedWidth=!1,l.prototype.$highlightGutterLine=!0,l.prototype.$renderer="",l.prototype.$showLineNumbers=!0,l.prototype.$showFoldWidgets=!0,L.implement(l.prototype,s);function c(i){var u=document.createTextNode("");i.appendChild(u);var d=V.createElement("span");i.appendChild(d);var g=V.createElement("span");i.appendChild(g);var v=V.createElement("span");return g.appendChild(v),i}T.Gutter=l}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(y,T,G){var V=y("../range").Range,L=y("../lib/dom"),A=function(){function m(h){this.element=L.createElement("div"),this.element.className="ace_layer ace_marker-layer",h.appendChild(this.element)}return m.prototype.setPadding=function(h){this.$padding=h},m.prototype.setSession=function(h){this.session=h},m.prototype.setMarkers=function(h){this.markers=h},m.prototype.elt=function(h,l){var c=this.i!=-1&&this.element.childNodes[this.i];c?this.i++:(c=document.createElement("div"),this.element.appendChild(c),this.i=-1),c.style.cssText=l,c.className=h},m.prototype.update=function(h){if(h){this.config=h,this.i=0;var l;for(var c in this.markers){var i=this.markers[c];if(!i.range){i.update(l,this,this.session,h);continue}var u=i.range.clipRows(h.firstRow,h.lastRow);if(!u.isEmpty())if(u=u.toScreenRange(this.session),i.renderer){var d=this.$getTop(u.start.row,h),g=this.$padding+u.start.column*h.characterWidth;i.renderer(l,u,g,d,h)}else i.type=="fullLine"?this.drawFullLineMarker(l,u,i.clazz,h):i.type=="screenLine"?this.drawScreenLineMarker(l,u,i.clazz,h):u.isMultiLine()?i.type=="text"?this.drawTextMarker(l,u,i.clazz,h):this.drawMultiLineMarker(l,u,i.clazz,h):this.drawSingleLineMarker(l,u,i.clazz+" ace_start ace_br15",h)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},m.prototype.$getTop=function(h,l){return(h-l.firstRowScreen)*l.lineHeight},m.prototype.drawTextMarker=function(h,l,c,i,u){for(var d=this.session,g=l.start.row,v=l.end.row,x=g,C=0,_=0,$=d.getScreenLastRowColumn(x),S=new V(x,l.start.column,x,_);x<=v;x++)S.start.row=S.end.row=x,S.start.column=x==g?l.start.column:d.getRowWrapIndent(x),S.end.column=$,C=_,_=$,$=x+1<v?d.getScreenLastRowColumn(x+1):x==v?0:l.end.column,this.drawSingleLineMarker(h,S,c+(x==g?" ace_start":"")+" ace_br"+s(x==g||x==g+1&&l.start.column,C<_,_>$,x==v),i,x==v?0:1,u)},m.prototype.drawMultiLineMarker=function(h,l,c,i,u){var d=this.$padding,g=i.lineHeight,v=this.$getTop(l.start.row,i),x=d+l.start.column*i.characterWidth;if(u=u||"",this.session.$bidiHandler.isBidiRow(l.start.row)){var C=l.clone();C.end.row=C.start.row,C.end.column=this.session.getLine(C.start.row).length,this.drawBidiSingleLineMarker(h,C,c+" ace_br1 ace_start",i,null,u)}else this.elt(c+" ace_br1 ace_start","height:"+g+"px;right:0;top:"+v+"px;left:"+x+"px;"+(u||""));if(this.session.$bidiHandler.isBidiRow(l.end.row)){var C=l.clone();C.start.row=C.end.row,C.start.column=0,this.drawBidiSingleLineMarker(h,C,c+" ace_br12",i,null,u)}else{v=this.$getTop(l.end.row,i);var _=l.end.column*i.characterWidth;this.elt(c+" ace_br12","height:"+g+"px;width:"+_+"px;top:"+v+"px;left:"+d+"px;"+(u||""))}if(g=(l.end.row-l.start.row-1)*i.lineHeight,!(g<=0)){v=this.$getTop(l.start.row+1,i);var $=(l.start.column?1:0)|(l.end.column?0:8);this.elt(c+($?" ace_br"+$:""),"height:"+g+"px;right:0;top:"+v+"px;left:"+d+"px;"+(u||""))}},m.prototype.drawSingleLineMarker=function(h,l,c,i,u,d){if(this.session.$bidiHandler.isBidiRow(l.start.row))return this.drawBidiSingleLineMarker(h,l,c,i,u,d);var g=i.lineHeight,v=(l.end.column+(u||0)-l.start.column)*i.characterWidth,x=this.$getTop(l.start.row,i),C=this.$padding+l.start.column*i.characterWidth;this.elt(c,"height:"+g+"px;width:"+v+"px;top:"+x+"px;left:"+C+"px;"+(d||""))},m.prototype.drawBidiSingleLineMarker=function(h,l,c,i,u,d){var g=i.lineHeight,v=this.$getTop(l.start.row,i),x=this.$padding,C=this.session.$bidiHandler.getSelections(l.start.column,l.end.column);C.forEach(function(_){this.elt(c,"height:"+g+"px;width:"+(_.width+(u||0))+"px;top:"+v+"px;left:"+(x+_.left)+"px;"+(d||""))},this)},m.prototype.drawFullLineMarker=function(h,l,c,i,u){var d=this.$getTop(l.start.row,i),g=i.lineHeight;l.start.row!=l.end.row&&(g+=this.$getTop(l.end.row,i)-d),this.elt(c,"height:"+g+"px;top:"+d+"px;left:0;right:0;"+(u||""))},m.prototype.drawScreenLineMarker=function(h,l,c,i,u){var d=this.$getTop(l.start.row,i),g=i.lineHeight;this.elt(c,"height:"+g+"px;top:"+d+"px;left:0;right:0;"+(u||""))},m}();A.prototype.$padding=0;function s(m,h,l,c){return(m?1:0)|(h?2:0)|(l?4:0)|(c?8:0)}T.Marker=A}),ace.define("ace/layer/text_util",["require","exports","module"],function(y,T,G){var V=new Set(["text","rparen","lparen"]);T.isTextToken=function(L){return V.has(L)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(y,T,G){var V=y("../lib/oop"),L=y("../lib/dom"),A=y("../lib/lang"),s=y("./lines").Lines,m=y("../lib/event_emitter").EventEmitter,h=y("../config").nls,l=y("./text_util").isTextToken,c=function(){function i(u){this.dom=L,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",u.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new s(this.element)}return i.prototype.$updateEolChar=function(){var u=this.session.doc,d=u.getNewLineCharacter()==`
`&&u.getNewLineMode()!="windows",g=d?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=g)return this.EOL_CHAR=g,!0},i.prototype.setPadding=function(u){this.$padding=u,this.element.style.margin="0 "+u+"px"},i.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},i.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},i.prototype.$setFontMetrics=function(u){this.$fontMetrics=u,this.$fontMetrics.on("changeCharacterSize",(function(d){this._signal("changeCharacterSize",d)}).bind(this)),this.$pollSizeChanges()},i.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},i.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},i.prototype.setSession=function(u){this.session=u,u&&this.$computeTabString()},i.prototype.setShowInvisibles=function(u){return this.showInvisibles==u?!1:(this.showInvisibles=u,typeof u=="string"?(this.showSpaces=/tab/i.test(u),this.showTabs=/space/i.test(u),this.showEOL=/eol/i.test(u)):this.showSpaces=this.showTabs=this.showEOL=u,this.$computeTabString(),!0)},i.prototype.setDisplayIndentGuides=function(u){return this.displayIndentGuides==u?!1:(this.displayIndentGuides=u,this.$computeTabString(),!0)},i.prototype.setHighlightIndentGuides=function(u){return this.$highlightIndentGuides===u?!1:(this.$highlightIndentGuides=u,u)},i.prototype.$computeTabString=function(){var u=this.session.getTabSize();this.tabSize=u;for(var d=this.$tabStrings=[0],g=1;g<u+1;g++)if(this.showTabs){var v=this.dom.createElement("span");v.className="ace_invisible ace_invisible_tab",v.textContent=A.stringRepeat(this.TAB_CHAR,g),d.push(v)}else d.push(this.dom.createTextNode(A.stringRepeat(" ",g),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var x="ace_indent-guide",C=this.showSpaces?" ace_invisible ace_invisible_space":"",_=this.showSpaces?A.stringRepeat(this.SPACE_CHAR,this.tabSize):A.stringRepeat(" ",this.tabSize),$=this.showTabs?" ace_invisible ace_invisible_tab":"",S=this.showTabs?A.stringRepeat(this.TAB_CHAR,this.tabSize):_,v=this.dom.createElement("span");v.className=x+C,v.textContent=_,this.$tabStrings[" "]=v;var v=this.dom.createElement("span");v.className=x+$,v.textContent=S,this.$tabStrings["	"]=v}},i.prototype.updateLines=function(u,d,g){if(this.config.lastRow!=u.lastRow||this.config.firstRow!=u.firstRow)return this.update(u);this.config=u;for(var v=Math.max(d,u.firstRow),x=Math.min(g,u.lastRow),C=this.element.childNodes,_=0,S=u.firstRow;S<v;S++){var O=this.session.getFoldLine(S);if(O)if(O.containsRow(v)){v=O.start.row;break}else S=O.end.row;_++}for(var $=!1,S=v,O=this.session.getNextFoldLine(S),D=O?O.start.row:1/0;S>D&&(S=O.end.row+1,O=this.session.getNextFoldLine(S,O),D=O?O.start.row:1/0),!(S>x);){var N=C[_++];if(N){this.dom.removeChildren(N),this.$renderLine(N,S,S==D?O:!1),$&&(N.style.top=this.$lines.computeLineTop(S,u,this.session)+"px");var M=u.lineHeight*this.session.getRowLength(S)+"px";N.style.height!=M&&($=!0,N.style.height=M)}S++}if($)for(;_<this.$lines.cells.length;){var k=this.$lines.cells[_++];k.element.style.top=this.$lines.computeLineTop(k.row,u,this.session)+"px"}},i.prototype.scrollLines=function(u){var d=this.config;if(this.config=u,this.$lines.pageChanged(d,u))return this.update(u);this.$lines.moveContainer(u);var g=u.lastRow,v=d?d.lastRow:-1;if(!d||v<u.firstRow)return this.update(u);if(g<d.firstRow)return this.update(u);if(!d||d.lastRow<u.firstRow)return this.update(u);if(u.lastRow<d.firstRow)return this.update(u);if(d.firstRow<u.firstRow)for(var x=this.session.getFoldedRowCount(d.firstRow,u.firstRow-1);x>0;x--)this.$lines.shift();if(d.lastRow>u.lastRow)for(var x=this.session.getFoldedRowCount(u.lastRow+1,d.lastRow);x>0;x--)this.$lines.pop();u.firstRow<d.firstRow&&this.$lines.unshift(this.$renderLinesFragment(u,u.firstRow,d.firstRow-1)),u.lastRow>d.lastRow&&this.$lines.push(this.$renderLinesFragment(u,d.lastRow+1,u.lastRow)),this.$highlightIndentGuide()},i.prototype.$renderLinesFragment=function(u,d,g){for(var v=[],x=d,C=this.session.getNextFoldLine(x),_=C?C.start.row:1/0;x>_&&(x=C.end.row+1,C=this.session.getNextFoldLine(x,C),_=C?C.start.row:1/0),!(x>g);){var $=this.$lines.createCell(x,u,this.session),S=$.element;this.dom.removeChildren(S),L.setStyle(S.style,"height",this.$lines.computeLineHeight(x,u,this.session)+"px"),L.setStyle(S.style,"top",this.$lines.computeLineTop(x,u,this.session)+"px"),this.$renderLine(S,x,x==_?C:!1),this.$useLineGroups()?S.className="ace_line_group":S.className="ace_line",v.push($),x++}return v},i.prototype.update=function(u){this.$lines.moveContainer(u),this.config=u;for(var d=u.firstRow,g=u.lastRow,v=this.$lines;v.getLength();)v.pop();v.push(this.$renderLinesFragment(u,d,g))},i.prototype.$renderToken=function(u,d,g,v){for(var x=this,C=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,_=this.dom.createFragment(this.element),$,S=0;$=C.exec(v);){var O=$[1],D=$[2],N=$[3],M=$[4],k=$[5];if(!(!x.showSpaces&&D)){var R=S!=$.index?v.slice(S,$.index):"";if(S=$.index+$[0].length,R&&_.appendChild(this.dom.createTextNode(R,this.element)),O){var F=x.session.getScreenTabSize(d+$.index);_.appendChild(x.$tabStrings[F].cloneNode(!0)),d+=F-1}else if(D)if(x.showSpaces){var H=this.dom.createElement("span");H.className="ace_invisible ace_invisible_space",H.textContent=A.stringRepeat(x.SPACE_CHAR,D.length),_.appendChild(H)}else _.appendChild(this.dom.createTextNode(D,this.element));else if(N){var H=this.dom.createElement("span");H.className="ace_invisible ace_invisible_space ace_invalid",H.textContent=A.stringRepeat(x.SPACE_CHAR,N.length),_.appendChild(H)}else if(M){d+=1;var H=this.dom.createElement("span");H.style.width=x.config.characterWidth*2+"px",H.className=x.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",H.textContent=x.showSpaces?x.SPACE_CHAR:M,_.appendChild(H)}else if(k){d+=1;var H=this.dom.createElement("span");H.style.width=x.config.characterWidth*2+"px",H.className="ace_cjk",H.textContent=k,_.appendChild(H)}}}if(_.appendChild(this.dom.createTextNode(S?v.slice(S):v,this.element)),l(g.type))u.appendChild(_);else{var j="ace_"+g.type.replace(/\./g," ace_"),H=this.dom.createElement("span");g.type=="fold"&&(H.style.width=g.value.length*this.config.characterWidth+"px",H.setAttribute("title",h("Unfold code"))),H.className=j,H.appendChild(_),u.appendChild(H)}return d+v.length},i.prototype.renderIndentGuide=function(u,d,g){var v=d.search(this.$indentGuideRe);if(v<=0||v>=g)return d;if(d[0]==" "){v-=v%this.tabSize;for(var x=v/this.tabSize,C=0;C<x;C++)u.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),d.substr(v)}else if(d[0]=="	"){for(var C=0;C<v;C++)u.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),d.substr(v)}return this.$highlightIndentGuide(),d},i.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var u=this.session.doc.$lines;if(u){var d=this.session.selection.getCursor(),g=/^\s*/.exec(this.session.doc.getLine(d.row))[0].length,v=Math.floor(g/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:v,start:d.row};var x=this.session.$bracketHighlight;if(x){for(var C=this.session.$bracketHighlight.ranges,_=0;_<C.length;_++)if(d.row!==C[_].start.row){this.$highlightIndentGuideMarker.end=C[_].start.row,d.row>C[_].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&u[d.row]!==""&&d.column===u[d.row].length){this.$highlightIndentGuideMarker.dir=1;for(var _=d.row+1;_<u.length;_++){var $=u[_],S=/^\s*/.exec($)[0].length;if($!==""&&(this.$highlightIndentGuideMarker.end=_,S<=g))break}}this.$renderHighlightIndentGuide()}}},i.prototype.$clearActiveIndentGuide=function(){for(var u=this.$lines.cells,d=0;d<u.length;d++){var g=u[d],v=g.element.childNodes;if(v.length>0){for(var x=0;x<v.length;x++)if(v[x].classList&&v[x].classList.contains("ace_indent-guide-active")){v[x].classList.remove("ace_indent-guide-active");break}}}},i.prototype.$setIndentGuideActive=function(u,d){var g=this.session.doc.getLine(u.row);if(g!==""){var v=u.element.childNodes;if(v){var x=v[d-1];x&&x.classList&&x.classList.contains("ace_indent-guide")&&x.classList.add("ace_indent-guide-active")}}},i.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var u=this.$lines.cells;this.$clearActiveIndentGuide();var d=this.$highlightIndentGuideMarker.indentLevel;if(d!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var g=0;g<u.length;g++){var v=u[g];if(this.$highlightIndentGuideMarker.end&&v.row>=this.$highlightIndentGuideMarker.start+1){if(v.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(v,d)}}else for(var g=u.length-1;g>=0;g--){var v=u[g];if(this.$highlightIndentGuideMarker.end&&v.row<this.$highlightIndentGuideMarker.start){if(v.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(v,d)}}}},i.prototype.$createLineElement=function(u){var d=this.dom.createElement("div");return d.className="ace_line",d.style.height=this.config.lineHeight+"px",d},i.prototype.$renderWrappedLine=function(u,d,g){var v=0,x=0,C=g[0],_=0,$=this.$createLineElement();u.appendChild($);for(var S=0;S<d.length;S++){var O=d[S],D=O.value;if(S==0&&this.displayIndentGuides){if(v=D.length,D=this.renderIndentGuide($,D,C),!D)continue;v-=D.length}if(v+D.length<C)_=this.$renderToken($,_,O,D),v+=D.length;else{for(;v+D.length>=C;)_=this.$renderToken($,_,O,D.substring(0,C-v)),D=D.substring(C-v),v=C,$=this.$createLineElement(),u.appendChild($),$.appendChild(this.dom.createTextNode(A.stringRepeat(" ",g.indent),this.element)),x++,_=0,C=g[x]||Number.MAX_VALUE;D.length!=0&&(v+=D.length,_=this.$renderToken($,_,O,D))}}g[g.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage($,_,null,"",!0)},i.prototype.$renderSimpleLine=function(u,d){for(var g=0,v=0;v<d.length;v++){var x=d[v],C=x.value;if(!(v==0&&this.displayIndentGuides&&(C=this.renderIndentGuide(u,C),!C))){if(g+C.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(u,g,x,C);g=this.$renderToken(u,g,x,C)}}},i.prototype.$renderOverflowMessage=function(u,d,g,v,x){g&&this.$renderToken(u,d,g,v.slice(0,this.MAX_LINE_LENGTH-d));var C=this.dom.createElement("span");C.className="ace_inline_button ace_keyword ace_toggle_wrap",C.textContent=x?"<hide>":"<click to see more...>",u.appendChild(C)},i.prototype.$renderLine=function(u,d,g){if(!g&&g!=!1&&(g=this.session.getFoldLine(d)),g)var v=this.$getFoldLineTokens(d,g);else var v=this.session.getTokens(d);var x=u;if(v.length){var C=this.session.getRowSplitData(d);if(C&&C.length){this.$renderWrappedLine(u,v,C);var x=u.lastChild}else{var x=u;this.$useLineGroups()&&(x=this.$createLineElement(),u.appendChild(x)),this.$renderSimpleLine(x,v)}}else this.$useLineGroups()&&(x=this.$createLineElement(),u.appendChild(x));if(this.showEOL&&x){g&&(d=g.end.row);var _=this.dom.createElement("span");_.className="ace_invisible ace_invisible_eol",_.textContent=d==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,x.appendChild(_)}},i.prototype.$getFoldLineTokens=function(u,d){var g=this.session,v=[];function x(_,$,S){for(var O=0,D=0;D+_[O].value.length<$;)if(D+=_[O].value.length,O++,O==_.length)return;if(D!=$){var N=_[O].value.substring($-D);N.length>S-$&&(N=N.substring(0,S-$)),v.push({type:_[O].type,value:N}),D=$+N.length,O+=1}for(;D<S&&O<_.length;){var N=_[O].value;N.length+D>S?v.push({type:_[O].type,value:N.substring(0,S-D)}):v.push(_[O]),D+=N.length,O+=1}}var C=g.getTokens(u);return d.walk(function(_,$,S,O,D){_!=null?v.push({type:"fold",value:_}):(D&&(C=g.getTokens($)),C.length&&x(C,O,S))},d.end.row,this.session.getLine(d.end.row).length),v},i.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},i}();c.prototype.EOF_CHAR="¶",c.prototype.EOL_CHAR_LF="¬",c.prototype.EOL_CHAR_CRLF="¤",c.prototype.EOL_CHAR=c.prototype.EOL_CHAR_LF,c.prototype.TAB_CHAR="—",c.prototype.SPACE_CHAR="·",c.prototype.$padding=0,c.prototype.MAX_LINE_LENGTH=1e4,c.prototype.showInvisibles=!1,c.prototype.showSpaces=!1,c.prototype.showTabs=!1,c.prototype.showEOL=!1,c.prototype.displayIndentGuides=!0,c.prototype.$highlightIndentGuides=!0,c.prototype.$tabStrings=[],c.prototype.destroy={},c.prototype.onChangeTabSize=c.prototype.$computeTabString,V.implement(c.prototype,m),T.Text=c}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(y,T,G){var V=y("../lib/dom"),L=function(){function A(s){this.element=V.createElement("div"),this.element.className="ace_layer ace_cursor-layer",s.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),V.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return A.prototype.$updateOpacity=function(s){for(var m=this.cursors,h=m.length;h--;)V.setStyle(m[h].style,"opacity",s?"":"0")},A.prototype.$startCssAnimation=function(){for(var s=this.cursors,m=s.length;m--;)s[m].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&V.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},A.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,V.removeCssClass(this.element,"ace_animate-blinking")},A.prototype.setPadding=function(s){this.$padding=s},A.prototype.setSession=function(s){this.session=s},A.prototype.setBlinking=function(s){s!=this.isBlinking&&(this.isBlinking=s,this.restartTimer())},A.prototype.setBlinkInterval=function(s){s!=this.blinkInterval&&(this.blinkInterval=s,this.restartTimer())},A.prototype.setSmoothBlinking=function(s){s!=this.smoothBlinking&&(this.smoothBlinking=s,V.setCssClass(this.element,"ace_smooth-blinking",s),this.$updateCursors(!0),this.restartTimer())},A.prototype.addCursor=function(){var s=V.createElement("div");return s.className="ace_cursor",this.element.appendChild(s),this.cursors.push(s),s},A.prototype.removeCursor=function(){if(this.cursors.length>1){var s=this.cursors.pop();return s.parentNode.removeChild(s),s}},A.prototype.hideCursor=function(){this.isVisible=!1,V.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},A.prototype.showCursor=function(){this.isVisible=!0,V.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},A.prototype.restartTimer=function(){var s=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,V.removeCssClass(this.element,"ace_smooth-blinking")),s(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&V.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),V.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var m=(function(){this.timeoutId=setTimeout(function(){s(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){s(!0),m()},this.blinkInterval),m()}},A.prototype.getPixelPosition=function(s,m){if(!this.config||!this.session)return{left:0,top:0};s||(s=this.session.selection.getCursor());var h=this.session.documentToScreenPosition(s),l=this.$padding+(this.session.$bidiHandler.isBidiRow(h.row,s.row)?this.session.$bidiHandler.getPosLeft(h.column):h.column*this.config.characterWidth),c=(h.row-(m?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:l,top:c}},A.prototype.isCursorInView=function(s,m){return s.top>=0&&s.top<m.maxHeight},A.prototype.update=function(s){this.config=s;var m=this.session.$selectionMarkers,h=0,l=0;(m===void 0||m.length===0)&&(m=[{cursor:null}]);for(var h=0,c=m.length;h<c;h++){var i=this.getPixelPosition(m[h].cursor,!0);if(!((i.top>s.height+s.offset||i.top<0)&&h>1)){var u=this.cursors[l++]||this.addCursor(),d=u.style;this.drawCursor?this.drawCursor(u,i,s,m[h],this.session):this.isCursorInView(i,s)?(V.setStyle(d,"display","block"),V.translate(u,i.left,i.top),V.setStyle(d,"width",Math.round(s.characterWidth)+"px"),V.setStyle(d,"height",s.lineHeight+"px")):V.setStyle(d,"display","none")}}for(;this.cursors.length>l;)this.removeCursor();var g=this.session.getOverwrite();this.$setOverwrite(g),this.$pixelPos=i,this.restartTimer()},A.prototype.$setOverwrite=function(s){s!=this.overwrite&&(this.overwrite=s,s?V.addCssClass(this.element,"ace_overwrite-cursors"):V.removeCssClass(this.element,"ace_overwrite-cursors"))},A.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},A}();L.prototype.$padding=0,L.prototype.drawCursor=null,T.Cursor=L}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(y,T,G){var V=this&&this.__extends||function(){var u=function(d,g){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,x){v.__proto__=x}||function(v,x){for(var C in x)Object.prototype.hasOwnProperty.call(x,C)&&(v[C]=x[C])},u(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");u(d,g);function v(){this.constructor=d}d.prototype=g===null?Object.create(g):(v.prototype=g.prototype,new v)}}(),L=y("./lib/oop"),A=y("./lib/dom"),s=y("./lib/event"),m=y("./lib/event_emitter").EventEmitter,h=32768,l=function(){function u(d,g){this.element=A.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+g,this.inner=A.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),d.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),s.addListener(this.element,"mousedown",s.preventDefault)}return u.prototype.setVisible=function(d){this.element.style.display=d?"":"none",this.isVisible=d,this.coeff=1},u}();L.implement(l.prototype,m);var c=function(u){V(d,u);function d(g,v){var x=u.call(this,g,"-v")||this;return x.scrollTop=0,x.scrollHeight=0,v.$scrollbarWidth=x.width=A.scrollbarWidth(g.ownerDocument),x.inner.style.width=x.element.style.width=(x.width||15)+5+"px",x.$minWidth=0,x}return d.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var g=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-g)/(this.coeff-g)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},d.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},d.prototype.setHeight=function(g){this.element.style.height=g+"px"},d.prototype.setScrollHeight=function(g){this.scrollHeight=g,g>h?(this.coeff=h/g,g=h):this.coeff!=1&&(this.coeff=1),this.inner.style.height=g+"px"},d.prototype.setScrollTop=function(g){this.scrollTop!=g&&(this.skipEvent=!0,this.scrollTop=g,this.element.scrollTop=g*this.coeff)},d}(l);c.prototype.setInnerHeight=c.prototype.setScrollHeight;var i=function(u){V(d,u);function d(g,v){var x=u.call(this,g,"-h")||this;return x.scrollLeft=0,x.height=v.$scrollbarWidth,x.inner.style.height=x.element.style.height=(x.height||15)+5+"px",x}return d.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},d.prototype.getHeight=function(){return this.isVisible?this.height:0},d.prototype.setWidth=function(g){this.element.style.width=g+"px"},d.prototype.setInnerWidth=function(g){this.inner.style.width=g+"px"},d.prototype.setScrollWidth=function(g){this.inner.style.width=g+"px"},d.prototype.setScrollLeft=function(g){this.scrollLeft!=g&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=g)},d}(l);T.ScrollBar=c,T.ScrollBarV=c,T.ScrollBarH=i,T.VScrollBar=c,T.HScrollBar=i}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(y,T,G){var V=this&&this.__extends||function(){var i=function(u,d){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&(g[x]=v[x])},i(u,d)};return function(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");i(u,d);function g(){this.constructor=u}u.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}(),L=y("./lib/oop"),A=y("./lib/dom"),s=y("./lib/event"),m=y("./lib/event_emitter").EventEmitter;A.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var h=function(){function i(u,d){this.element=A.createElement("div"),this.element.className="ace_sb"+d,this.inner=A.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,u.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return i.prototype.setVisible=function(u){this.element.style.display=u?"":"none",this.isVisible=u,this.coeff=1},i}();L.implement(h.prototype,m);var l=function(i){V(u,i);function u(d,g){var v=i.call(this,d,"-v")||this;return v.scrollTop=0,v.scrollHeight=0,v.parent=d,v.width=v.VScrollWidth,v.renderer=g,v.inner.style.width=v.element.style.width=(v.width||15)+"px",v.$minWidth=0,v}return u.prototype.onMouseDown=function(d,g){if(d==="mousedown"&&!(s.getButton(g)!==0||g.detail===2)){if(g.target===this.inner){var v=this,x=g.clientY,C=function(M){x=M.clientY},_=function(){clearInterval(D)},$=g.clientY,S=this.thumbTop,O=function(){if(x!==void 0){var M=v.scrollTopFromThumbTop(S+x-$);M!==v.scrollTop&&v._emit("scroll",{data:M})}};s.capture(this.inner,C,_);var D=setInterval(O,20);return s.preventDefault(g)}var N=g.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(N)}),s.preventDefault(g)}},u.prototype.getHeight=function(){return this.height},u.prototype.scrollTopFromThumbTop=function(d){var g=d*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return g=g>>0,g<0?g=0:g>this.pageHeight-this.viewHeight&&(g=this.pageHeight-this.viewHeight),g},u.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},u.prototype.setHeight=function(d){this.height=Math.max(0,d),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},u.prototype.setScrollHeight=function(d,g){this.pageHeight===d&&!g||(this.pageHeight=d,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},u.prototype.setScrollTop=function(d){this.scrollTop=d,d<0&&(d=0),this.thumbTop=d*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},u}(h);l.prototype.setInnerHeight=l.prototype.setScrollHeight;var c=function(i){V(u,i);function u(d,g){var v=i.call(this,d,"-h")||this;return v.scrollLeft=0,v.scrollWidth=0,v.height=v.HScrollHeight,v.inner.style.height=v.element.style.height=(v.height||12)+"px",v.renderer=g,v}return u.prototype.onMouseDown=function(d,g){if(d==="mousedown"&&!(s.getButton(g)!==0||g.detail===2)){if(g.target===this.inner){var v=this,x=g.clientX,C=function(M){x=M.clientX},_=function(){clearInterval(D)},$=g.clientX,S=this.thumbLeft,O=function(){if(x!==void 0){var M=v.scrollLeftFromThumbLeft(S+x-$);M!==v.scrollLeft&&v._emit("scroll",{data:M})}};s.capture(this.inner,C,_);var D=setInterval(O,20);return s.preventDefault(g)}var N=g.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(N)}),s.preventDefault(g)}},u.prototype.getHeight=function(){return this.isVisible?this.height:0},u.prototype.scrollLeftFromThumbLeft=function(d){var g=d*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return g=g>>0,g<0?g=0:g>this.pageWidth-this.viewWidth&&(g=this.pageWidth-this.viewWidth),g},u.prototype.setWidth=function(d){this.width=Math.max(0,d),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},u.prototype.setScrollWidth=function(d,g){this.pageWidth===d&&!g||(this.pageWidth=d,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},u.prototype.setScrollLeft=function(d){this.scrollLeft=d,d<0&&(d=0),this.thumbLeft=d*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},u}(h);c.prototype.setInnerWidth=c.prototype.setScrollWidth,T.ScrollBar=l,T.ScrollBarV=l,T.ScrollBarH=c,T.VScrollBar=l,T.HScrollBar=c}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(y,T,G){var V=y("./lib/event"),L=function(){function A(s,m){this.onRender=s,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=m||window;var h=this;this._flush=function(l){h.pending=!1;var c=h.changes;if(c&&(V.blockIdle(100),h.changes=0,h.onRender(c)),h.changes){if(h.$recursionLimit--<0)return;h.schedule()}else h.$recursionLimit=2}}return A.prototype.schedule=function(s){this.changes=this.changes|s,this.changes&&!this.pending&&(V.nextFrame(this._flush),this.pending=!0)},A.prototype.clear=function(s){var m=this.changes;return this.changes=0,m},A}();T.RenderLoop=L}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(y,T,G){var V=y("../lib/oop"),L=y("../lib/dom"),A=y("../lib/lang"),s=y("../lib/event"),m=y("../lib/useragent"),h=y("../lib/event_emitter").EventEmitter,l=512,c=typeof ResizeObserver=="function",i=200,u=function(){function d(g){this.el=L.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=L.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=L.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),g.appendChild(this.el),this.$measureNode.textContent=A.stringRepeat("X",l),this.$characterSize={width:0,height:0},c?this.$addObserver():this.checkForSizeChanges()}return d.prototype.$setMeasureNodeStyles=function(g,v){g.width=g.height="auto",g.left=g.top="0px",g.visibility="hidden",g.position="absolute",g.whiteSpace="pre",m.isIE<8?g["font-family"]="inherit":g.font="inherit",g.overflow=v?"hidden":"visible"},d.prototype.checkForSizeChanges=function(g){if(g===void 0&&(g=this.$measureSizes()),g&&(this.$characterSize.width!==g.width||this.$characterSize.height!==g.height)){this.$measureNode.style.fontWeight="bold";var v=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=g,this.charSizes=Object.create(null),this.allowBoldFonts=v&&v.width===g.width&&v.height===g.height,this._emit("changeCharacterSize",{data:g})}},d.prototype.$addObserver=function(){var g=this;this.$observer=new window.ResizeObserver(function(v){g.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},d.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var g=this;return this.$pollSizeChangesTimer=s.onIdle(function v(){g.checkForSizeChanges(),s.onIdle(v,500)},500)},d.prototype.setPolling=function(g){g?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},d.prototype.$measureSizes=function(g){var v={height:(g||this.$measureNode).clientHeight,width:(g||this.$measureNode).clientWidth/l};return v.width===0||v.height===0?null:v},d.prototype.$measureCharWidth=function(g){this.$main.textContent=A.stringRepeat(g,l);var v=this.$main.getBoundingClientRect();return v.width/l},d.prototype.getCharacterWidth=function(g){var v=this.charSizes[g];return v===void 0&&(v=this.charSizes[g]=this.$measureCharWidth(g)/this.$characterSize.width),v},d.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},d.prototype.$getZoom=function(g){return!g||!g.parentElement?1:(window.getComputedStyle(g).zoom||1)*this.$getZoom(g.parentElement)},d.prototype.$initTransformMeasureNodes=function(){var g=function(v,x){return["div",{style:"position: absolute;top:"+v+"px;left:"+x+"px;"}]};this.els=L.buildDom([g(0,0),g(i,0),g(0,i),g(i,i)],this.el)},d.prototype.transformCoordinates=function(g,v){if(g){var x=this.$getZoom(this.el);g=S(1/x,g)}function C(ae,Q,he){var ge=ae[1]*Q[0]-ae[0]*Q[1];return[(-Q[1]*he[0]+Q[0]*he[1])/ge,(+ae[1]*he[0]-ae[0]*he[1])/ge]}function _(ae,Q){return[ae[0]-Q[0],ae[1]-Q[1]]}function $(ae,Q){return[ae[0]+Q[0],ae[1]+Q[1]]}function S(ae,Q){return[ae*Q[0],ae*Q[1]]}this.els||this.$initTransformMeasureNodes();function O(ae){var Q=ae.getBoundingClientRect();return[Q.left,Q.top]}var D=O(this.els[0]),N=O(this.els[1]),M=O(this.els[2]),k=O(this.els[3]),R=C(_(k,N),_(k,M),_($(N,M),$(k,D))),F=S(1+R[0],_(N,D)),H=S(1+R[1],_(M,D));if(v){var j=v,P=R[0]*j[0]/i+R[1]*j[1]/i+1,ee=$(S(j[0],F),S(j[1],H));return $(S(1/P/i,ee),D)}var J=_(g,D),K=C(_(F,S(R[0],J)),_(H,S(R[1],J)),J);return S(i,K)},d}();u.prototype.$characterSize={width:0,height:0},V.implement(u.prototype,h),T.FontMetrics=u}),ace.define("ace/css/editor-css",["require","exports","module"],function(y,T,G){G.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}
.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
    white-space: pre;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(y,T,G){var V=y("../lib/dom"),L=y("../lib/oop"),A=y("../lib/event_emitter").EventEmitter,s=function(){function m(h,l){this.canvas=V.createElement("canvas"),this.renderer=l,this.pixelRatio=1,this.maxHeight=l.layerConfig.maxHeight,this.lineHeight=l.layerConfig.lineHeight,this.canvasHeight=h.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=h.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},h.element.appendChild(this.canvas)}return m.prototype.$updateDecorators=function(h){var l=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(h){this.maxHeight=h.maxHeight,this.lineHeight=h.lineHeight,this.canvasHeight=h.height;var c=(h.lastRow+1)*this.lineHeight;c<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var i=this.canvas.getContext("2d");function u(k,R){return k.priority<R.priority?-1:k.priority>R.priority?1:0}var d=this.renderer.session.$annotations;if(i.clearRect(0,0,this.canvas.width,this.canvas.height),d){var g={info:1,warning:2,error:3};d.forEach(function(k){k.priority=g[k.type]||null}),d=d.sort(u);for(var v=this.renderer.session.$foldData,x=0;x<d.length;x++){var C=d[x].row,_=this.compensateFoldRows(C,v),$=Math.round((C-_)*this.lineHeight*this.heightRatio),S=Math.round((C-_)*this.lineHeight*this.heightRatio),O=Math.round(((C-_)*this.lineHeight+this.lineHeight)*this.heightRatio),D=O-S;if(D<this.minDecorationHeight){var N=(S+O)/2|0;N<this.halfMinDecorationHeight?N=this.halfMinDecorationHeight:N+this.halfMinDecorationHeight>this.canvasHeight&&(N=this.canvasHeight-this.halfMinDecorationHeight),S=Math.round(N-this.halfMinDecorationHeight),O=Math.round(N+this.halfMinDecorationHeight)}i.fillStyle=l[d[x].type]||null,i.fillRect(0,$,this.canvasWidth,O-S)}}var M=this.renderer.session.selection.getCursor();if(M){var _=this.compensateFoldRows(M.row,v),$=Math.round((M.row-_)*this.lineHeight*this.heightRatio);i.fillStyle="rgba(0, 0, 0, 0.5)",i.fillRect(0,$,this.canvasWidth,2)}},m.prototype.compensateFoldRows=function(h,l){var c=0;if(l&&l.length>0)for(var i=0;i<l.length;i++)h>l[i].start.row&&h<l[i].end.row?c+=h-l[i].start.row:h>=l[i].end.row&&(c+=l[i].end.row-l[i].start.row);return c},m}();L.implement(s.prototype,A),T.Decorator=s}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent"],function(y,T,G){var V=y("./lib/oop"),L=y("./lib/dom"),A=y("./lib/lang"),s=y("./config"),m=y("./layer/gutter").Gutter,h=y("./layer/marker").Marker,l=y("./layer/text").Text,c=y("./layer/cursor").Cursor,i=y("./scrollbar").HScrollBar,u=y("./scrollbar").VScrollBar,d=y("./scrollbar_custom").HScrollBar,g=y("./scrollbar_custom").VScrollBar,v=y("./renderloop").RenderLoop,x=y("./layer/font_metrics").FontMetrics,C=y("./lib/event_emitter").EventEmitter,_=y("./css/editor-css"),$=y("./layer/decorators").Decorator,S=y("./lib/useragent");L.importCssString(_,"ace_editor.css",!1);var O=function(){function D(N,M){var k=this;this.container=N||L.createElement("div"),L.addCssClass(this.container,"ace_editor"),L.HI_DPI&&L.addCssClass(this.container,"ace_hidpi"),this.setTheme(M),s.get("useStrictCSP")==null&&s.set("useStrictCSP",!1),this.$gutter=L.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=L.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=L.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new m(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new h(this.content);var R=this.$textLayer=new l(this.content);this.canvas=R.element,this.$markerFront=new h(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new u(this.container,this),this.scrollBarH=new i(this.container,this),this.scrollBarV.on("scroll",function(F){k.$scrollAnimation||k.session.setScrollTop(F.data-k.scrollMargin.top)}),this.scrollBarH.on("scroll",function(F){k.$scrollAnimation||k.session.setScrollLeft(F.data-k.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new x(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(F){k.updateCharacterSize(),k.onResize(!0,k.gutterWidth,k.$size.width,k.$size.height),k._signal("changeCharacterSize",F)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!S.isIOS,this.$loop=new v(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),s.resetOptions(this),s._signal("renderer",this)}return D.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),L.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},D.prototype.setSession=function(N){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=N,N&&this.scrollMargin.top&&N.getScrollTop()<=0&&N.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(N),this.$markerBack.setSession(N),this.$markerFront.setSession(N),this.$gutterLayer.setSession(N),this.$textLayer.setSession(N),N&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},D.prototype.updateLines=function(N,M,k){if(M===void 0&&(M=1/0),this.$changedLines?(this.$changedLines.firstRow>N&&(this.$changedLines.firstRow=N),this.$changedLines.lastRow<M&&(this.$changedLines.lastRow=M)):this.$changedLines={firstRow:N,lastRow:M},this.$changedLines.lastRow<this.layerConfig.firstRow)if(k)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},D.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},D.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},D.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},D.prototype.updateFull=function(N){N?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},D.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},D.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},D.prototype.onResize=function(N,M,k,R){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=N?1:0;var F=this.container;R||(R=F.clientHeight||F.scrollHeight),k||(k=F.clientWidth||F.scrollWidth);var H=this.$updateCachedSize(N,M,k,R);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!k&&!R)return this.resizing=0;N&&(this.$gutterLayer.$padding=null),N?this.$renderChanges(H|this.$changes,!0):this.$loop.schedule(H|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},D.prototype.$updateCachedSize=function(N,M,k,R){R-=this.$extraHeight||0;var F=0,H=this.$size,j={width:H.width,height:H.height,scrollerHeight:H.scrollerHeight,scrollerWidth:H.scrollerWidth};if(R&&(N||H.height!=R)&&(H.height=R,F|=this.CHANGE_SIZE,H.scrollerHeight=H.height,this.$horizScroll&&(H.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(H.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",F=F|this.CHANGE_SCROLL),k&&(N||H.width!=k)){F|=this.CHANGE_SIZE,H.width=k,M==null&&(M=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=M,L.setStyle(this.scrollBarH.element.style,"left",M+"px"),L.setStyle(this.scroller.style,"left",M+this.margin.left+"px"),H.scrollerWidth=Math.max(0,k-M-this.scrollBarV.getWidth()-this.margin.h),L.setStyle(this.$gutter.style,"left",this.margin.left+"px");var P=this.scrollBarV.getWidth()+"px";L.setStyle(this.scrollBarH.element.style,"right",P),L.setStyle(this.scroller.style,"right",P),L.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(H.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||N)&&(F|=this.CHANGE_FULL)}return H.$dirty=!k||!R,F&&this._signal("resize",j),F},D.prototype.onGutterResize=function(N){var M=this.$showGutter?N:0;M!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,M,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},D.prototype.adjustWrapLimit=function(){var N=this.$size.scrollerWidth-this.$padding*2,M=Math.floor(N/this.characterWidth);return this.session.adjustWrapLimit(M,this.$showPrintMargin&&this.$printMarginColumn)},D.prototype.setAnimatedScroll=function(N){this.setOption("animatedScroll",N)},D.prototype.getAnimatedScroll=function(){return this.$animatedScroll},D.prototype.setShowInvisibles=function(N){this.setOption("showInvisibles",N),this.session.$bidiHandler.setShowInvisibles(N)},D.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},D.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},D.prototype.setDisplayIndentGuides=function(N){this.setOption("displayIndentGuides",N)},D.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},D.prototype.setHighlightIndentGuides=function(N){this.setOption("highlightIndentGuides",N)},D.prototype.setShowPrintMargin=function(N){this.setOption("showPrintMargin",N)},D.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},D.prototype.setPrintMarginColumn=function(N){this.setOption("printMarginColumn",N)},D.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},D.prototype.getShowGutter=function(){return this.getOption("showGutter")},D.prototype.setShowGutter=function(N){return this.setOption("showGutter",N)},D.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},D.prototype.setFadeFoldWidgets=function(N){this.setOption("fadeFoldWidgets",N)},D.prototype.setHighlightGutterLine=function(N){this.setOption("highlightGutterLine",N)},D.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},D.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var N=L.createElement("div");N.className="ace_layer ace_print-margin-layer",this.$printMarginEl=L.createElement("div"),this.$printMarginEl.className="ace_print-margin",N.appendChild(this.$printMarginEl),this.content.insertBefore(N,this.content.firstChild)}var M=this.$printMarginEl.style;M.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",M.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},D.prototype.getContainerElement=function(){return this.container},D.prototype.getMouseEventTarget=function(){return this.scroller},D.prototype.getTextAreaContainer=function(){return this.container},D.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var N=this.textarea.style,M=this.$composition;if(!this.$keepTextAreaAtCursor&&!M){L.translate(this.textarea,-100,0);return}var k=this.$cursorLayer.$pixelPos;if(k){M&&M.markerRange&&(k=this.$cursorLayer.getPixelPosition(M.markerRange.start,!0));var R=this.layerConfig,F=k.top,H=k.left;F-=R.offset;var j=M&&M.useTextareaForIME||S.isMobile?this.lineHeight:1;if(F<0||F>R.height-j){L.translate(this.textarea,0,0);return}var P=1,ee=this.$size.height-j;if(!M)F+=this.lineHeight;else if(M.useTextareaForIME){var J=this.textarea.value;P=this.characterWidth*this.session.$getStringScreenWidth(J)[0]}else F+=this.lineHeight+2;H-=this.scrollLeft,H>this.$size.scrollerWidth-P&&(H=this.$size.scrollerWidth-P),H+=this.gutterWidth+this.margin.left,L.setStyle(N,"height",j+"px"),L.setStyle(N,"width",P+"px"),L.translate(this.textarea,Math.min(H,this.$size.scrollerWidth-P),Math.min(F,ee))}}},D.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},D.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},D.prototype.getLastFullyVisibleRow=function(){var N=this.layerConfig,M=N.lastRow,k=this.session.documentToScreenRow(M,0)*N.lineHeight;return k-this.session.getScrollTop()>N.height-N.lineHeight?M-1:M},D.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},D.prototype.setPadding=function(N){this.$padding=N,this.$textLayer.setPadding(N),this.$cursorLayer.setPadding(N),this.$markerFront.setPadding(N),this.$markerBack.setPadding(N),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},D.prototype.setScrollMargin=function(N,M,k,R){var F=this.scrollMargin;F.top=N|0,F.bottom=M|0,F.right=R|0,F.left=k|0,F.v=F.top+F.bottom,F.h=F.left+F.right,F.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-F.top),this.updateFull()},D.prototype.setMargin=function(N,M,k,R){var F=this.margin;F.top=N|0,F.bottom=M|0,F.right=R|0,F.left=k|0,F.v=F.top+F.bottom,F.h=F.left+F.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},D.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},D.prototype.setHScrollBarAlwaysVisible=function(N){this.setOption("hScrollBarAlwaysVisible",N)},D.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},D.prototype.setVScrollBarAlwaysVisible=function(N){this.setOption("vScrollBarAlwaysVisible",N)},D.prototype.$updateScrollBarV=function(){var N=this.layerConfig.maxHeight,M=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(N-=(M-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>N-M&&(N=this.scrollTop+M,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(N+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},D.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},D.prototype.freeze=function(){this.$frozen=!0},D.prototype.unfreeze=function(){this.$frozen=!1},D.prototype.$renderChanges=function(N,M){if(this.$changes&&(N|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!N&&!M){this.$changes|=N;return}if(this.$size.$dirty)return this.$changes|=N,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",N),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var k=this.layerConfig;if(N&this.CHANGE_FULL||N&this.CHANGE_SIZE||N&this.CHANGE_TEXT||N&this.CHANGE_LINES||N&this.CHANGE_SCROLL||N&this.CHANGE_H_SCROLL){if(N|=this.$computeLayerConfig()|this.$loop.clear(),k.firstRow!=this.layerConfig.firstRow&&k.firstRowScreen==this.layerConfig.firstRowScreen){var R=this.scrollTop+(k.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;R>0&&(this.scrollTop=R,N=N|this.CHANGE_SCROLL,N|=this.$computeLayerConfig()|this.$loop.clear())}k=this.layerConfig,this.$updateScrollBarV(),N&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),L.translate(this.content,-this.scrollLeft,-k.offset);var F=k.width+2*this.$padding+"px",H=k.minHeight+"px";L.setStyle(this.content.style,"width",F),L.setStyle(this.content.style,"height",H)}if(N&this.CHANGE_H_SCROLL&&(L.translate(this.content,-this.scrollLeft,-k.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),N&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(k),this.$showGutter&&this.$gutterLayer.update(k),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k),this.$markerBack.update(k),this.$markerFront.update(k),this.$cursorLayer.update(k),this.$moveTextAreaToCursor(),this._signal("afterRender",N);return}if(N&this.CHANGE_SCROLL){this.$changedLines=null,N&this.CHANGE_TEXT||N&this.CHANGE_LINES?this.$textLayer.update(k):this.$textLayer.scrollLines(k),this.$showGutter&&(N&this.CHANGE_GUTTER||N&this.CHANGE_LINES?this.$gutterLayer.update(k):this.$gutterLayer.scrollLines(k)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k),this.$markerBack.update(k),this.$markerFront.update(k),this.$cursorLayer.update(k),this.$moveTextAreaToCursor(),this._signal("afterRender",N);return}N&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(k),this.$showGutter&&this.$gutterLayer.update(k),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k)):N&this.CHANGE_LINES?((this.$updateLines()||N&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(k),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k)):N&this.CHANGE_TEXT||N&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(k),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k)):N&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(k),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k)),N&this.CHANGE_CURSOR&&(this.$cursorLayer.update(k),this.$moveTextAreaToCursor()),N&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(k),N&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(k),this._signal("afterRender",N)},D.prototype.$autosize=function(){var N=this.session.getScreenLength()*this.lineHeight,M=this.$maxLines*this.lineHeight,k=Math.min(M,Math.max((this.$minLines||1)*this.lineHeight,N))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(k+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&k>this.$maxPixelHeight&&(k=this.$maxPixelHeight);var R=k<=2*this.lineHeight,F=!R&&N>M;if(k!=this.desiredHeight||this.$size.height!=this.desiredHeight||F!=this.$vScroll){F!=this.$vScroll&&(this.$vScroll=F,this.scrollBarV.setVisible(F));var H=this.container.clientWidth;this.container.style.height=k+"px",this.$updateCachedSize(!0,this.$gutterWidth,H,k),this.desiredHeight=k,this._signal("autosize")}},D.prototype.$computeLayerConfig=function(){var N=this.session,M=this.$size,k=M.height<=2*this.lineHeight,R=this.session.getScreenLength(),F=R*this.lineHeight,H=this.$getLongestLine(),j=!k&&(this.$hScrollBarAlwaysVisible||M.scrollerWidth-H-2*this.$padding<0),P=this.$horizScroll!==j;P&&(this.$horizScroll=j,this.scrollBarH.setVisible(j));var ee=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var J=M.scrollerHeight+this.lineHeight,K=!this.$maxLines&&this.$scrollPastEnd?(M.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;F+=K;var ae=this.scrollMargin;this.session.setScrollTop(Math.max(-ae.top,Math.min(this.scrollTop,F-M.scrollerHeight+ae.bottom))),this.session.setScrollLeft(Math.max(-ae.left,Math.min(this.scrollLeft,H+2*this.$padding-M.scrollerWidth+ae.right)));var Q=!k&&(this.$vScrollBarAlwaysVisible||M.scrollerHeight-F+K<0||this.scrollTop>ae.top),he=ee!==Q;he&&(this.$vScroll=Q,this.scrollBarV.setVisible(Q));var ge=this.scrollTop%this.lineHeight,Se=Math.ceil(J/this.lineHeight)-1,ce=Math.max(0,Math.round((this.scrollTop-ge)/this.lineHeight)),ne=ce+Se,fe,X,ye=this.lineHeight;ce=N.screenToDocumentRow(ce,0);var Ce=N.getFoldLine(ce);Ce&&(ce=Ce.start.row),fe=N.documentToScreenRow(ce,0),X=N.getRowLength(ce)*ye,ne=Math.min(N.screenToDocumentRow(ne,0),N.getLength()-1),J=M.scrollerHeight+N.getRowLength(ne)*ye+X,ge=this.scrollTop-fe*ye;var $e=0;return(this.layerConfig.width!=H||P)&&($e=this.CHANGE_H_SCROLL),(P||he)&&($e|=this.$updateCachedSize(!0,this.gutterWidth,M.width,M.height),this._signal("scrollbarVisibilityChanged"),he&&(H=this.$getLongestLine())),this.layerConfig={width:H,padding:this.$padding,firstRow:ce,firstRowScreen:fe,lastRow:ne,lineHeight:ye,characterWidth:this.characterWidth,minHeight:J,maxHeight:F,offset:ge,gutterOffset:ye?Math.max(0,Math.ceil((ge+M.height-M.scrollerHeight)/ye)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(H-this.$padding),$e},D.prototype.$updateLines=function(){if(this.$changedLines){var N=this.$changedLines.firstRow,M=this.$changedLines.lastRow;this.$changedLines=null;var k=this.layerConfig;if(!(N>k.lastRow+1)&&!(M<k.firstRow)){if(M===1/0){this.$showGutter&&this.$gutterLayer.update(k),this.$textLayer.update(k);return}return this.$textLayer.updateLines(k,N,M),!0}}},D.prototype.$getLongestLine=function(){var N=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(N+=1),this.$textLayer&&N>this.$textLayer.MAX_LINE_LENGTH&&(N=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(N*this.characterWidth))},D.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},D.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},D.prototype.addGutterDecoration=function(N,M){this.$gutterLayer.addGutterDecoration(N,M)},D.prototype.removeGutterDecoration=function(N,M){this.$gutterLayer.removeGutterDecoration(N,M)},D.prototype.updateBreakpoints=function(N){this.$loop.schedule(this.CHANGE_GUTTER)},D.prototype.setAnnotations=function(N){this.$gutterLayer.setAnnotations(N),this.$loop.schedule(this.CHANGE_GUTTER)},D.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},D.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},D.prototype.showCursor=function(){this.$cursorLayer.showCursor()},D.prototype.scrollSelectionIntoView=function(N,M,k){this.scrollCursorIntoView(N,k),this.scrollCursorIntoView(M,k)},D.prototype.scrollCursorIntoView=function(N,M,k){if(this.$size.scrollerHeight!==0){var R=this.$cursorLayer.getPixelPosition(N),F=R.left,H=R.top,j=k&&k.top||0,P=k&&k.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var ee=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;ee+j>H?(M&&ee+j>H+this.lineHeight&&(H-=M*this.$size.scrollerHeight),H===0&&(H=-this.scrollMargin.top),this.session.setScrollTop(H)):ee+this.$size.scrollerHeight-P<H+this.lineHeight&&(M&&ee+this.$size.scrollerHeight-P<H-this.lineHeight&&(H+=M*this.$size.scrollerHeight),this.session.setScrollTop(H+this.lineHeight+P-this.$size.scrollerHeight));var J=this.scrollLeft,K=2*this.layerConfig.characterWidth;F-K<J?(F-=K,F<this.$padding+K&&(F=-this.scrollMargin.left),this.session.setScrollLeft(F)):(F+=K,J+this.$size.scrollerWidth<F+this.characterWidth?this.session.setScrollLeft(Math.round(F+this.characterWidth-this.$size.scrollerWidth)):J<=this.$padding&&F-J<this.characterWidth&&this.session.setScrollLeft(0))}},D.prototype.getScrollTop=function(){return this.session.getScrollTop()},D.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},D.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},D.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},D.prototype.scrollToRow=function(N){this.session.setScrollTop(N*this.lineHeight)},D.prototype.alignCursor=function(N,M){typeof N=="number"&&(N={row:N,column:0});var k=this.$cursorLayer.getPixelPosition(N),R=this.$size.scrollerHeight-this.lineHeight,F=k.top-R*(M||0);return this.session.setScrollTop(F),F},D.prototype.$calcSteps=function(N,M){var k=0,R=this.STEPS,F=[],H=function(j,P,ee){return ee*(Math.pow(j-1,3)+1)+P};for(k=0;k<R;++k)F.push(H(k/this.STEPS,N,M-N));return F},D.prototype.scrollToLine=function(N,M,k,R){var F=this.$cursorLayer.getPixelPosition({row:N,column:0}),H=F.top;M&&(H-=this.$size.scrollerHeight/2);var j=this.scrollTop;this.session.setScrollTop(H),k!==!1&&this.animateScrolling(j,R)},D.prototype.animateScrolling=function(N,M){var k=this.scrollTop;if(!this.$animatedScroll)return;var R=this;if(N==k)return;if(this.$scrollAnimation){var F=this.$scrollAnimation.steps;if(F.length&&(N=F[0],N==k))return}var H=R.$calcSteps(N,k);this.$scrollAnimation={from:N,to:k,steps:H},clearInterval(this.$timer),R.session.setScrollTop(H.shift()),R.session.$scrollTop=k;function j(){R.$timer=clearInterval(R.$timer),R.$scrollAnimation=null,R.$stopAnimation=!1,M&&M()}this.$timer=setInterval(function(){if(R.$stopAnimation){j();return}if(!R.session)return clearInterval(R.$timer);H.length?(R.session.setScrollTop(H.shift()),R.session.$scrollTop=k):k!=null?(R.session.$scrollTop=-1,R.session.setScrollTop(k),k=null):j()},10)},D.prototype.scrollToY=function(N){this.scrollTop!==N&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=N)},D.prototype.scrollToX=function(N){this.scrollLeft!==N&&(this.scrollLeft=N),this.$loop.schedule(this.CHANGE_H_SCROLL)},D.prototype.scrollTo=function(N,M){this.session.setScrollTop(M),this.session.setScrollLeft(N)},D.prototype.scrollBy=function(N,M){M&&this.session.setScrollTop(this.session.getScrollTop()+M),N&&this.session.setScrollLeft(this.session.getScrollLeft()+N)},D.prototype.isScrollableBy=function(N,M){if(M<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||M>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||N<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||N>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},D.prototype.pixelToScreenCoordinates=function(N,M){var k;if(this.$hasCssTransforms){k={top:0,left:0};var R=this.$fontMetrics.transformCoordinates([N,M]);N=R[1]-this.gutterWidth-this.margin.left,M=R[0]}else k=this.scroller.getBoundingClientRect();var F=N+this.scrollLeft-k.left-this.$padding,H=F/this.characterWidth,j=Math.floor((M+this.scrollTop-k.top)/this.lineHeight),P=this.$blockCursor?Math.floor(H):Math.round(H);return{row:j,column:P,side:H-P>0?1:-1,offsetX:F}},D.prototype.screenToTextCoordinates=function(N,M){var k;if(this.$hasCssTransforms){k={top:0,left:0};var R=this.$fontMetrics.transformCoordinates([N,M]);N=R[1]-this.gutterWidth-this.margin.left,M=R[0]}else k=this.scroller.getBoundingClientRect();var F=N+this.scrollLeft-k.left-this.$padding,H=F/this.characterWidth,j=this.$blockCursor?Math.floor(H):Math.round(H),P=Math.floor((M+this.scrollTop-k.top)/this.lineHeight);return this.session.screenToDocumentPosition(P,Math.max(j,0),F)},D.prototype.textToScreenCoordinates=function(N,M){var k=this.scroller.getBoundingClientRect(),R=this.session.documentToScreenPosition(N,M),F=this.$padding+(this.session.$bidiHandler.isBidiRow(R.row,N)?this.session.$bidiHandler.getPosLeft(R.column):Math.round(R.column*this.characterWidth)),H=R.row*this.lineHeight;return{pageX:k.left+F-this.scrollLeft,pageY:k.top+H-this.scrollTop}},D.prototype.visualizeFocus=function(){L.addCssClass(this.container,"ace_focus")},D.prototype.visualizeBlur=function(){L.removeCssClass(this.container,"ace_focus")},D.prototype.showComposition=function(N){this.$composition=N,N.cssText||(N.cssText=this.textarea.style.cssText),N.useTextareaForIME==null&&(N.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(L.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):N.markerId=this.session.addMarker(N.markerRange,"ace_composition_marker","text")},D.prototype.setCompositionText=function(N){var M=this.session.selection.cursor;this.addToken(N,"composition_placeholder",M.row,M.column),this.$moveTextAreaToCursor()},D.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),L.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var N=this.session.selection.cursor;this.removeExtraToken(N.row,N.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},D.prototype.setGhostText=function(N,M){var k=this.session.selection.cursor,R=M||{row:k.row,column:k.column};this.removeGhostText();var F=N.split(`
`);this.addToken(F[0],"ghost_text",R.row,R.column),this.$ghostText={text:N,position:{row:R.row,column:R.column}},F.length>1&&(this.$ghostTextWidget={text:F.slice(1).join(`
`),row:R.row,column:R.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget))},D.prototype.removeGhostText=function(){if(this.$ghostText){var N=this.$ghostText.position;this.removeExtraToken(N.row,N.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},D.prototype.addToken=function(N,M,k,R){var F=this.session;F.bgTokenizer.lines[k]=null;var H={type:M,value:N},j=F.getTokens(k);if(R==null||!j.length)j.push(H);else for(var P=0,ee=0;ee<j.length;ee++){var J=j[ee];if(P+=J.value.length,R<=P){var K=J.value.length-(P-R),ae=J.value.slice(0,K),Q=J.value.slice(K);j.splice(ee,1,{type:J.type,value:ae},H,{type:J.type,value:Q});break}}this.updateLines(k,k)},D.prototype.removeExtraToken=function(N,M){this.session.bgTokenizer.lines[N]=null,this.updateLines(N,N)},D.prototype.setTheme=function(N,M){var k=this;if(this.$themeId=N,k._dispatchEvent("themeChange",{theme:N}),!N||typeof N=="string"){var R=N||this.$options.theme.initialValue;s.loadModule(["theme",R],F)}else F(N);function F(H){if(k.$themeId!=N)return M&&M();if(!H||!H.cssClass)throw new Error("couldn't load module "+N+" or it didn't call define");H.$id&&(k.$themeId=H.$id),L.importCssString(H.cssText,H.cssClass,k.container),k.theme&&L.removeCssClass(k.container,k.theme.cssClass);var j="padding"in H?H.padding:"padding"in(k.theme||{})?4:k.$padding;k.$padding&&j!=k.$padding&&k.setPadding(j),k.$theme=H.cssClass,k.theme=H,L.addCssClass(k.container,H.cssClass),L.setCssClass(k.container,"ace_dark",H.isDark),k.$size&&(k.$size.width=0,k.$updateSizeAsync()),k._dispatchEvent("themeLoaded",{theme:H}),M&&M()}},D.prototype.getTheme=function(){return this.$themeId},D.prototype.setStyle=function(N,M){L.setCssClass(this.container,N,M!==!1)},D.prototype.unsetStyle=function(N){L.removeCssClass(this.container,N)},D.prototype.setCursorStyle=function(N){L.setStyle(this.scroller.style,"cursor",N)},D.prototype.setMouseCursor=function(N){L.setStyle(this.scroller.style,"cursor",N)},D.prototype.attachToShadowRoot=function(){L.importCssString(_,"ace_editor.css",this.container)},D.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},D.prototype.$updateCustomScrollbar=function(N){var M=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,N===!0?(this.scrollBarV=new g(this.container,this),this.scrollBarH=new d(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(k){M.$scrollAnimation||M.session.setScrollTop(k.data-M.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(k){M.$scrollAnimation||M.session.setScrollLeft(k.data-M.scrollMargin.left)}),this.$scrollDecorator=new $(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new u(this.container,this),this.scrollBarH=new i(this.container,this),this.scrollBarV.addEventListener("scroll",function(k){M.$scrollAnimation||M.session.setScrollTop(k.data-M.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(k){M.$scrollAnimation||M.session.setScrollLeft(k.data-M.scrollMargin.left)}))},D.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var N=this;this.$resizeTimer=A.delayedCall(function(){N.destroyed||N.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(M){var k=M[0].contentRect.width,R=M[0].contentRect.height;Math.abs(N.$size.width-k)>1||Math.abs(N.$size.height-R)>1?N.$resizeTimer.delay():N.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},D}();O.prototype.CHANGE_CURSOR=1,O.prototype.CHANGE_MARKER=2,O.prototype.CHANGE_GUTTER=4,O.prototype.CHANGE_SCROLL=8,O.prototype.CHANGE_LINES=16,O.prototype.CHANGE_TEXT=32,O.prototype.CHANGE_SIZE=64,O.prototype.CHANGE_MARKER_BACK=128,O.prototype.CHANGE_MARKER_FRONT=256,O.prototype.CHANGE_FULL=512,O.prototype.CHANGE_H_SCROLL=1024,O.prototype.$changes=0,O.prototype.$padding=null,O.prototype.$frozen=!1,O.prototype.STEPS=8,V.implement(O.prototype,C),s.defineOptions(O.prototype,"renderer",{useResizeObserver:{set:function(D){!D&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):D&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(D){this.$textLayer.setShowInvisibles(D)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(D){typeof D=="number"&&(this.$printMarginColumn=D),this.$showPrintMargin=!!D,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(D){this.$gutter.style.display=D?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(D){this.$gutterLayer.$useSvgGutterIcons=D},initialValue:!1},showFoldedAnnotations:{set:function(D){this.$gutterLayer.$showFoldedAnnotations=D},initialValue:!1},fadeFoldWidgets:{set:function(D){L.setCssClass(this.$gutter,"ace_fade-fold-widgets",D)},initialValue:!1},showFoldWidgets:{set:function(D){this.$gutterLayer.setShowFoldWidgets(D),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(D){this.$textLayer.setDisplayIndentGuides(D)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(D){this.$textLayer.setHighlightIndentGuides(D)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(D){this.$gutterLayer.setHighlightGutterLine(D),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(D){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(D){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(D){typeof D=="number"&&(D=D+"px"),this.container.style.fontSize=D,this.updateFontSize()},initialValue:12},fontFamily:{set:function(D){this.container.style.fontFamily=D,this.updateFontSize()}},maxLines:{set:function(D){this.updateFull()}},minLines:{set:function(D){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(D){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(D){D=+D||0,this.$scrollPastEnd!=D&&(this.$scrollPastEnd=D,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(D){this.$gutterLayer.$fixedWidth=!!D,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(D){this.$updateCustomScrollbar(D)},initialValue:!1},theme:{set:function(D){this.setTheme(D)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!S.isMobile&&!S.isIE}}),T.VirtualRenderer=O}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(y,T,G){var V=y("../lib/oop"),L=y("../lib/net"),A=y("../lib/event_emitter").EventEmitter,s=y("../config");function m(i){var u="importScripts('"+L.qualifyURL(i)+"');";try{return new Blob([u],{type:"application/javascript"})}catch{var d=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,g=new d;return g.append(u),g.getBlob("application/javascript")}}function h(i){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(s.get("loadWorkerFromBlob")){var u=m(i),d=window.URL||window.webkitURL,g=d.createObjectURL(u);return new Worker(g)}return new Worker(i)}var l=function(i){i.postMessage||(i=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=i,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){V.implement(this,A),this.$createWorkerFromOldConfig=function(i,u,d,g,v){if(y.nameToUrl&&!y.toUrl&&(y.toUrl=y.nameToUrl),s.get("packaged")||!y.toUrl)g=g||s.moduleUrl(u,"worker");else{var x=this.$normalizePath;g=g||x(y.toUrl("ace/worker/worker.js",null,"_"));var C={};i.forEach(function(_){C[_]=x(y.toUrl(_,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=h(g),v&&this.send("importScripts",v),this.$worker.postMessage({init:!0,tlns:C,module:u,classname:d}),this.$worker},this.onMessage=function(i){var u=i.data;switch(u.type){case"event":this._signal(u.name,{data:u.data});break;case"call":var d=this.callbacks[u.id];d&&(d(u.data),delete this.callbacks[u.id]);break;case"error":this.reportError(u.data);break;case"log":window.console&&console.log&&console.log.apply(console,u.data);break}},this.reportError=function(i){window.console&&console.error&&console.error(i)},this.$normalizePath=function(i){return L.qualifyURL(i)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(i){i.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(i,u){this.$worker.postMessage({command:i,args:u})},this.call=function(i,u,d){if(d){var g=this.callbackId++;this.callbacks[g]=d,u.push(g)}this.send(i,u)},this.emit=function(i,u){try{u.data&&u.data.err&&(u.data.err={message:u.data.err.message,stack:u.data.err.stack,code:u.data.err.code}),this.$worker&&this.$worker.postMessage({event:i,data:{data:u.data}})}catch(d){console.error(d.stack)}},this.attachToDocument=function(i){this.$doc&&this.terminate(),this.$doc=i,this.call("setValue",[i.getValue()]),i.on("change",this.changeListener,!0)},this.changeListener=function(i){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),i.action=="insert"?this.deltaQueue.push(i.start,i.lines):this.deltaQueue.push(i.start,i.end)},this.$sendDeltaQueue=function(){var i=this.deltaQueue;i&&(this.deltaQueue=null,i.length>50&&i.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:i}))}}).call(l.prototype);var c=function(i,u,d){var g=null,v=!1,x=Object.create(A),C=[],_=new l({messageBuffer:C,terminate:function(){},postMessage:function(S){C.push(S),g&&(v?setTimeout($):$())}});_.setEmitSync=function(S){v=S};var $=function(){var S=C.shift();S.command?g[S.command].apply(g,S.args):S.event&&x._signal(S.event,S.data)};return x.postMessage=function(S){_.onMessage({data:S})},x.callback=function(S,O){this.postMessage({type:"call",id:O,data:S})},x.emit=function(S,O){this.postMessage({type:"event",name:S,data:O})},s.loadModule(["worker",u],function(S){for(g=new S[d](x);C.length;)$()}),_};T.UIWorkerClient=c,T.WorkerClient=l,T.createWorker=h}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(y,T,G){var V=y("./range").Range,L=y("./lib/event_emitter").EventEmitter,A=y("./lib/oop"),s=function(){function m(h,l,c,i,u,d){var g=this;this.length=l,this.session=h,this.doc=h.getDocument(),this.mainClass=u,this.othersClass=d,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=i,this.$onCursorChange=function(){setTimeout(function(){g.onCursorChange()})},this.$pos=c;var v=h.getUndoManager().$undoStack||h.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=v.length,this.setup(),h.selection.on("changeCursor",this.$onCursorChange)}return m.prototype.setup=function(){var h=this,l=this.doc,c=this.session;this.selectionBefore=c.selection.toJSON(),c.selection.inMultiSelectMode&&c.selection.toSingleRange(),this.pos=l.createAnchor(this.$pos.row,this.$pos.column);var i=this.pos;i.$insertRight=!0,i.detach(),i.markerId=c.addMarker(new V(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(u){var d=l.createAnchor(u.row,u.column);d.$insertRight=!0,d.detach(),h.others.push(d)}),c.setUndoSelect(!1)},m.prototype.showOtherMarkers=function(){if(!this.othersActive){var h=this.session,l=this;this.othersActive=!0,this.others.forEach(function(c){c.markerId=h.addMarker(new V(c.row,c.column,c.row,c.column+l.length),l.othersClass,null,!1)})}},m.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var h=0;h<this.others.length;h++)this.session.removeMarker(this.others[h].markerId)}},m.prototype.onUpdate=function(h){if(this.$updating)return this.updateAnchors(h);var l=h;if(l.start.row===l.end.row&&l.start.row===this.pos.row){this.$updating=!0;var c=h.action==="insert"?l.end.column-l.start.column:l.start.column-l.end.column,i=l.start.column>=this.pos.column&&l.start.column<=this.pos.column+this.length+1,u=l.start.column-this.pos.column;if(this.updateAnchors(h),i&&(this.length+=c),i&&!this.session.$fromUndo){if(h.action==="insert")for(var d=this.others.length-1;d>=0;d--){var g=this.others[d],v={row:g.row,column:g.column+u};this.doc.insertMergedLines(v,h.lines)}else if(h.action==="remove")for(var d=this.others.length-1;d>=0;d--){var g=this.others[d],v={row:g.row,column:g.column+u};this.doc.remove(new V(v.row,v.column,v.row,v.column-c))}}this.$updating=!1,this.updateMarkers()}},m.prototype.updateAnchors=function(h){this.pos.onChange(h);for(var l=this.others.length;l--;)this.others[l].onChange(h);this.updateMarkers()},m.prototype.updateMarkers=function(){if(!this.$updating){var h=this,l=this.session,c=function(u,d){l.removeMarker(u.markerId),u.markerId=l.addMarker(new V(u.row,u.column,u.row,u.column+h.length),d,null,!1)};c(this.pos,this.mainClass);for(var i=this.others.length;i--;)c(this.others[i],this.othersClass)}},m.prototype.onCursorChange=function(h){if(!(this.$updating||!this.session)){var l=this.session.selection.getCursor();l.row===this.pos.row&&l.column>=this.pos.column&&l.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",h)):(this.hideOtherMarkers(),this._emit("cursorLeave",h))}},m.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},m.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var h=this.session.getUndoManager(),l=(h.$undoStack||h.$undostack).length-this.$undoStackDepth,c=0;c<l;c++)h.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},m}();A.implement(s.prototype,L),T.PlaceHolder=s}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(y,T,G){var V=y("../lib/event"),L=y("../lib/useragent");function A(m,h){return m.row==h.row&&m.column==h.column}function s(m){var h=m.domEvent,l=h.altKey,c=h.shiftKey,i=h.ctrlKey,u=m.getAccelKey(),d=m.getButton();if(i&&L.isMac&&(d=h.button),m.editor.inMultiSelectMode&&d==2){m.editor.textInput.onContextMenu(m.domEvent);return}if(!i&&!l&&!u){d===0&&m.editor.inMultiSelectMode&&m.editor.exitMultiSelectMode();return}if(d===0){var g=m.editor,v=g.selection,x=g.inMultiSelectMode,C=m.getDocumentPosition(),_=v.getCursor(),$=m.inSelection()||v.isEmpty()&&A(C,_),S=m.x,O=m.y,D=function(Q){S=Q.clientX,O=Q.clientY},N=g.session,M=g.renderer.pixelToScreenCoordinates(S,O),k=M,R;if(g.$mouseHandler.$enableJumpToDef)i&&l||u&&l?R=c?"block":"add":l&&g.$blockSelectEnabled&&(R="block");else if(u&&!l){if(R="add",!x&&c)return}else l&&g.$blockSelectEnabled&&(R="block");if(R&&L.isMac&&h.ctrlKey&&g.$mouseHandler.cancelContextMenu(),R=="add"){if(!x&&$)return;if(!x){var F=v.toOrientedRange();g.addSelectionMarker(F)}var H=v.rangeList.rangeAtPoint(C);g.inVirtualSelectionMode=!0,c&&(H=null,F=v.ranges[0]||F,g.removeSelectionMarker(F)),g.once("mouseup",function(){var Q=v.toOrientedRange();H&&Q.isEmpty()&&A(H.cursor,Q.cursor)?v.substractPoint(Q.cursor):(c?v.substractPoint(F.cursor):F&&(g.removeSelectionMarker(F),v.addRange(F)),v.addRange(Q)),g.inVirtualSelectionMode=!1})}else if(R=="block"){m.stop(),g.inVirtualSelectionMode=!0;var j,P=[],ee=function(){var Q=g.renderer.pixelToScreenCoordinates(S,O),he=N.screenToDocumentPosition(Q.row,Q.column,Q.offsetX);A(k,Q)&&A(he,v.lead)||(k=Q,g.selection.moveToPosition(he),g.renderer.scrollCursorIntoView(),g.removeSelectionMarkers(P),P=v.rectangularRangeBlock(k,M),g.$mouseHandler.$clickSelection&&P.length==1&&P[0].isEmpty()&&(P[0]=g.$mouseHandler.$clickSelection.clone()),P.forEach(g.addSelectionMarker,g),g.updateSelectionMarkers())};x&&!u?v.toSingleRange():!x&&u&&(j=v.toOrientedRange(),g.addSelectionMarker(j)),c?M=N.documentToScreenPosition(v.lead):v.moveToPosition(C),k={row:-1,column:-1};var J=function(Q){ee(),clearInterval(ae),g.removeSelectionMarkers(P),P.length||(P=[v.toOrientedRange()]),j&&(g.removeSelectionMarker(j),v.toSingleRange(j));for(var he=0;he<P.length;he++)v.addRange(P[he]);g.inVirtualSelectionMode=!1,g.$mouseHandler.$clickSelection=null},K=ee;V.capture(g.container,D,J);var ae=setInterval(function(){K()},20);return m.preventDefault()}}}T.onMouseDown=s}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(y,T,G){T.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(L){L.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(L){L.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(L){L.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(L){L.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(L){L.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(L){L.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(L){L.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(L){L.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(L){L.multiSelect.rangeCount>1?L.multiSelect.joinSelections():L.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(L){L.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(L){L.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(L){L.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],T.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(L){L.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(L){return L&&L.inMultiSelectMode}}];var V=y("../keyboard/hash_handler").HashHandler;T.keyboardHandler=new V(T.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(y,T,G){var V=y("./range_list").RangeList,L=y("./range").Range,A=y("./selection").Selection,s=y("./mouse/multi_select_handler").onMouseDown,m=y("./lib/event"),h=y("./lib/lang"),l=y("./commands/multi_select_commands");T.commands=l.defaultCommands.concat(l.multiSelectCommands);var c=y("./search").Search,i=new c;function u(_,$,S){return i.$options.wrap=!0,i.$options.needle=$,i.$options.backwards=S==-1,i.find(_)}var d=y("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(d.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(_,$){if(_){if(!this.inMultiSelectMode&&this.rangeCount===0){var S=this.toOrientedRange();if(this.rangeList.add(S),this.rangeList.add(_),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),$||this.fromOrientedRange(_);this.rangeList.removeAll(),this.rangeList.add(S),this.$onAddRange(S)}_.cursor||(_.cursor=_.end);var O=this.rangeList.add(_);return this.$onAddRange(_),O.length&&this.$onRemoveRange(O),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),$||this.fromOrientedRange(_)}},this.toSingleRange=function(_){_=_||this.ranges[0];var $=this.rangeList.removeAll();$.length&&this.$onRemoveRange($),_&&this.fromOrientedRange(_)},this.substractPoint=function(_){var $=this.rangeList.substractPoint(_);if($)return this.$onRemoveRange($),$[0]},this.mergeOverlappingRanges=function(){var _=this.rangeList.merge();_.length&&this.$onRemoveRange(_)},this.$onAddRange=function(_){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(_),this._signal("addRange",{range:_})},this.$onRemoveRange=function(_){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var $=this.rangeList.ranges.pop();_.push($),this.rangeCount=0}for(var S=_.length;S--;){var O=this.ranges.indexOf(_[S]);this.ranges.splice(O,1)}this._signal("removeRange",{ranges:_}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),$=$||this.ranges[0],$&&!$.isEqual(this.getRange())&&this.fromOrientedRange($)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new V,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var _=this.ranges.length?this.ranges:[this.getRange()],$=[],S=0;S<_.length;S++){var O=_[S],D=O.start.row,N=O.end.row;if(D===N)$.push(O.clone());else{for($.push(new L(D,O.start.column,D,this.session.getLine(D).length));++D<N;)$.push(this.getLineRange(D,!0));$.push(new L(N,0,N,O.end.column))}S==0&&!this.isBackwards()&&($=$.reverse())}this.toSingleRange();for(var S=$.length;S--;)this.addRange($[S])},this.joinSelections=function(){var _=this.rangeList.ranges,$=_[_.length-1],S=L.fromPoints(_[0].start,$.end);this.toSingleRange(),this.setSelectionRange(S,$.cursor==$.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var _=this.rangeList.ranges,$=_[_.length-1],S=L.fromPoints(_[0].start,$.end);this.toSingleRange(),this.setSelectionRange(S,$.cursor==$.start)}else{var O=this.session.documentToScreenPosition(this.cursor),D=this.session.documentToScreenPosition(this.anchor),N=this.rectangularRangeBlock(O,D);N.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(_,$,S){var O=[],D=_.column<$.column;if(D)var N=_.column,M=$.column,k=_.offsetX,R=$.offsetX;else var N=$.column,M=_.column,k=$.offsetX,R=_.offsetX;var F=_.row<$.row;if(F)var H=_.row,j=$.row;else var H=$.row,j=_.row;N<0&&(N=0),H<0&&(H=0),H==j&&(S=!0);for(var P,ee=H;ee<=j;ee++){var J=L.fromPoints(this.session.screenToDocumentPosition(ee,N,k),this.session.screenToDocumentPosition(ee,M,R));if(J.isEmpty()){if(P&&v(J.end,P))break;P=J.end}J.cursor=D?J.start:J.end,O.push(J)}if(F&&O.reverse(),!S){for(var K=O.length-1;O[K].isEmpty()&&K>0;)K--;if(K>0)for(var ae=0;O[ae].isEmpty();)ae++;for(var Q=K;Q>=ae;Q--)O[Q].isEmpty()&&O.splice(Q,1)}return O}}).call(A.prototype);var g=y("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(_){_.cursor||(_.cursor=_.end);var $=this.getSelectionStyle();return _.marker=this.session.addMarker(_,"ace_selection",$),this.session.$selectionMarkers.push(_),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,_},this.removeSelectionMarker=function(_){if(_.marker){this.session.removeMarker(_.marker);var $=this.session.$selectionMarkers.indexOf(_);$!=-1&&this.session.$selectionMarkers.splice($,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(_){for(var $=this.session.$selectionMarkers,S=_.length;S--;){var O=_[S];if(O.marker){this.session.removeMarker(O.marker);var D=$.indexOf(O);D!=-1&&$.splice(D,1)}}this.session.selectionMarkerCount=$.length},this.$onAddRange=function(_){this.addSelectionMarker(_.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(_){this.removeSelectionMarkers(_.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(_){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(l.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(_){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(l.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(_){var $=_.command,S=_.editor;if(S.multiSelect){if($.multiSelectAction)$.multiSelectAction=="forEach"?O=S.forEachSelection($,_.args):$.multiSelectAction=="forEachLine"?O=S.forEachSelection($,_.args,!0):$.multiSelectAction=="single"?(S.exitMultiSelectMode(),O=$.exec(S,_.args||{})):O=$.multiSelectAction(S,_.args||{});else{var O=$.exec(S,_.args||{});S.multiSelect.addRange(S.multiSelect.toOrientedRange()),S.multiSelect.mergeOverlappingRanges()}return O}},this.forEachSelection=function(_,$,S){if(!this.inVirtualSelectionMode){var O=S&&S.keepOrder,D=S==!0||S&&S.$byLines,N=this.session,M=this.selection,k=M.rangeList,R=(O?M:k).ranges,F;if(!R.length)return _.exec?_.exec(this,$||{}):_(this,$||{});var H=M._eventRegistry;M._eventRegistry={};var j=new A(N);this.inVirtualSelectionMode=!0;for(var P=R.length;P--;){if(D)for(;P>0&&R[P].start.row==R[P-1].end.row;)P--;j.fromOrientedRange(R[P]),j.index=P,this.selection=N.selection=j;var ee=_.exec?_.exec(this,$||{}):_(this,$||{});!F&&ee!==void 0&&(F=ee),j.toOrientedRange(R[P])}j.detach(),this.selection=N.selection=M,this.inVirtualSelectionMode=!1,M._eventRegistry=H,M.mergeOverlappingRanges(),M.ranges[0]&&M.fromOrientedRange(M.ranges[0]);var J=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),J&&J.from==J.to&&this.renderer.animateScrolling(J.from),F}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var _="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var $=this.multiSelect.rangeList.ranges,S=[],O=0;O<$.length;O++)S.push(this.session.getTextRange($[O]));var D=this.session.getDocument().getNewLineCharacter();_=S.join(D),_.length==(S.length-1)*D.length&&(_="")}else this.selection.isEmpty()||(_=this.session.getTextRange(this.getSelectionRange()));return _},this.$checkMultiselectChange=function(_,$){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var S=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&$==this.multiSelect.anchor)return;var O=$==this.multiSelect.anchor?S.cursor==S.start?S.end:S.start:S.cursor;O.row!=$.row||this.session.$clipPositionToDocument(O.row,O.column).column!=$.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(_,$,S){if($=$||{},$.needle=_||$.needle,$.needle==null){var O=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();$.needle=this.session.getTextRange(O)}this.$search.set($);var D=this.$search.findAll(this.session);if(!D.length)return 0;var N=this.multiSelect;S||N.toSingleRange(D[0]);for(var M=D.length;M--;)N.addRange(D[M],!0);return O&&N.rangeList.rangeAtPoint(O.start)&&N.addRange(O,!0),D.length},this.selectMoreLines=function(_,$){var S=this.selection.toOrientedRange(),O=S.cursor==S.end,D=this.session.documentToScreenPosition(S.cursor);this.selection.$desiredColumn&&(D.column=this.selection.$desiredColumn);var N=this.session.screenToDocumentPosition(D.row+_,D.column);if(S.isEmpty())var k=N;else var M=this.session.documentToScreenPosition(O?S.end:S.start),k=this.session.screenToDocumentPosition(M.row+_,M.column);if(O){var R=L.fromPoints(N,k);R.cursor=R.start}else{var R=L.fromPoints(k,N);R.cursor=R.end}if(R.desiredColumn=D.column,!this.selection.inMultiSelectMode)this.selection.addRange(S);else if($)var F=S.cursor;this.selection.addRange(R),F&&this.selection.substractPoint(F)},this.transposeSelections=function(_){for(var $=this.session,S=$.multiSelect,O=S.ranges,D=O.length;D--;){var N=O[D];if(N.isEmpty()){var M=$.getWordRange(N.start.row,N.start.column);N.start.row=M.start.row,N.start.column=M.start.column,N.end.row=M.end.row,N.end.column=M.end.column}}S.mergeOverlappingRanges();for(var k=[],D=O.length;D--;){var N=O[D];k.unshift($.getTextRange(N))}_<0?k.unshift(k.pop()):k.push(k.shift());for(var D=O.length;D--;){var N=O[D],M=N.clone();$.replace(N,k[D]),N.start.row=M.start.row,N.start.column=M.start.column}S.fromOrientedRange(S.ranges[0])},this.selectMore=function(_,$,S){var O=this.session,D=O.multiSelect,N=D.toOrientedRange();if(!(N.isEmpty()&&(N=O.getWordRange(N.start.row,N.start.column),N.cursor=_==-1?N.start:N.end,this.multiSelect.addRange(N),S))){var M=O.getTextRange(N),k=u(O,M,_);k&&(k.cursor=_==-1?k.start:k.end,this.session.unfold(k),this.multiSelect.addRange(k),this.renderer.scrollCursorIntoView(null,.5)),$&&this.multiSelect.substractPoint(N.cursor)}},this.alignCursors=function(){var _=this.session,$=_.multiSelect,S=$.ranges,O=-1,D=S.filter(function(K){if(K.cursor.row==O)return!0;O=K.cursor.row});if(!S.length||D.length==S.length-1){var N=this.selection.getRange(),M=N.start.row,k=N.end.row,R=M==k;if(R){var F=this.session.getLength(),H;do H=this.session.getLine(k);while(/[=:]/.test(H)&&++k<F);do H=this.session.getLine(M);while(/[=:]/.test(H)&&--M>0);M<0&&(M=0),k>=F&&(k=F-1)}var j=this.session.removeFullLines(M,k);j=this.$reAlignText(j,R),this.session.insert({row:M,column:0},j.join(`
`)+`
`),R||(N.start.column=0,N.end.column=j[j.length-1].length),this.selection.setRange(N)}else{D.forEach(function(K){$.substractPoint(K.cursor)});var P=0,ee=1/0,J=S.map(function(K){var ae=K.cursor,Q=_.getLine(ae.row),he=Q.substr(ae.column).search(/\S/g);return he==-1&&(he=0),ae.column>P&&(P=ae.column),he<ee&&(ee=he),he});S.forEach(function(K,ae){var Q=K.cursor,he=P-Q.column,ge=J[ae]-ee;he>ge?_.insert(Q,h.stringRepeat(" ",he-ge)):_.remove(new L(Q.row,Q.column,Q.row,Q.column-he+ge)),K.start.column=K.end.column=P,K.start.row=K.end.row=Q.row,K.cursor=K.end}),$.fromOrientedRange(S[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(_,$){var S=!0,O=!0,D,N,M;return _.map(function(j){var P=j.match(/(\s*)(.*?)(\s*)([=:].*)/);return P?D==null?(D=P[1].length,N=P[2].length,M=P[3].length,P):(D+N+M!=P[1].length+P[2].length+P[3].length&&(O=!1),D!=P[1].length&&(S=!1),D>P[1].length&&(D=P[1].length),N<P[2].length&&(N=P[2].length),M>P[3].length&&(M=P[3].length),P):[j]}).map($?R:S?O?F:R:H);function k(j){return h.stringRepeat(" ",j)}function R(j){return j[2]?k(D)+j[2]+k(N-j[2].length+M)+j[4].replace(/^([=:])\s+/,"$1 "):j[0]}function F(j){return j[2]?k(D+N-j[2].length)+j[2]+k(M)+j[4].replace(/^([=:])\s+/,"$1 "):j[0]}function H(j){return j[2]?k(D)+j[2]+k(M)+j[4].replace(/^([=:])\s+/,"$1 "):j[0]}}}).call(g.prototype);function v(_,$){return _.row==$.row&&_.column==$.column}T.onSessionChange=function(_){var $=_.session;$&&!$.multiSelect&&($.$selectionMarkers=[],$.selection.$initRangeList(),$.multiSelect=$.selection),this.multiSelect=$&&$.multiSelect;var S=_.oldSession;S&&(S.multiSelect.off("addRange",this.$onAddRange),S.multiSelect.off("removeRange",this.$onRemoveRange),S.multiSelect.off("multiSelect",this.$onMultiSelect),S.multiSelect.off("singleSelect",this.$onSingleSelect),S.multiSelect.lead.off("change",this.$checkMultiselectChange),S.multiSelect.anchor.off("change",this.$checkMultiselectChange)),$&&($.multiSelect.on("addRange",this.$onAddRange),$.multiSelect.on("removeRange",this.$onRemoveRange),$.multiSelect.on("multiSelect",this.$onMultiSelect),$.multiSelect.on("singleSelect",this.$onSingleSelect),$.multiSelect.lead.on("change",this.$checkMultiselectChange),$.multiSelect.anchor.on("change",this.$checkMultiselectChange)),$&&this.inMultiSelectMode!=$.selection.inMultiSelectMode&&($.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function x(_){_.$multiselectOnSessionChange||(_.$onAddRange=_.$onAddRange.bind(_),_.$onRemoveRange=_.$onRemoveRange.bind(_),_.$onMultiSelect=_.$onMultiSelect.bind(_),_.$onSingleSelect=_.$onSingleSelect.bind(_),_.$multiselectOnSessionChange=T.onSessionChange.bind(_),_.$checkMultiselectChange=_.$checkMultiselectChange.bind(_),_.$multiselectOnSessionChange(_),_.on("changeSession",_.$multiselectOnSessionChange),_.on("mousedown",s),_.commands.addCommands(l.defaultCommands),C(_))}function C(_){if(!_.textInput)return;var $=_.textInput.getElement(),S=!1;m.addListener($,"keydown",function(D){var N=D.keyCode==18&&!(D.ctrlKey||D.shiftKey||D.metaKey);_.$blockSelectEnabled&&N?S||(_.renderer.setMouseCursor("crosshair"),S=!0):S&&O()},_),m.addListener($,"keyup",O,_),m.addListener($,"blur",O,_);function O(D){S&&(_.renderer.setMouseCursor(""),S=!1)}}T.MultiSelect=x,y("./config").defineOptions(g.prototype,"editor",{enableMultiselect:{set:function(_){x(this),_?this.on("mousedown",s):this.off("mousedown",s)},value:!0},enableBlockSelect:{set:function(_){this.$blockSelectEnabled=_},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(y,T,G){var V=y("../../range").Range,L=T.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(A,s,m){var h=A.getLine(m);return this.foldingStartMarker.test(h)?"start":s=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(h)?"end":""},this.getFoldWidgetRange=function(A,s,m){return null},this.indentationBlock=function(A,s,m){var h=/\S/,l=A.getLine(s),c=l.search(h);if(c!=-1){for(var i=m||l.length,u=A.getLength(),d=s,g=s;++s<u;){var v=A.getLine(s).search(h);if(v!=-1){if(v<=c){var x=A.getTokenAt(s,0);if(!x||x.type!=="string")break}g=s}}if(g>d){var C=A.getLine(g).length;return new V(d,i,g,C)}}},this.openingBracketBlock=function(A,s,m,h,l){var c={row:m,column:h+1},i=A.$findClosingBracket(s,c,l);if(i){var u=A.foldWidgets[i.row];return u==null&&(u=A.getFoldWidget(i.row)),u=="start"&&i.row>c.row&&(i.row--,i.column=A.getLine(i.row).length),V.fromPoints(c,i)}},this.closingBracketBlock=function(A,s,m,h,l){var c={row:m,column:h},i=A.$findOpeningBracket(s,c);if(i)return i.column++,c.column--,V.fromPoints(i,c)}}).call(L.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],function(y,T,G){var V=y("../line_widgets").LineWidgets,L=y("../lib/dom"),A=y("../range").Range,s=y("../config").nls;function m(l,c,i){for(var u=0,d=l.length-1;u<=d;){var g=u+d>>1,v=i(c,l[g]);if(v>0)u=g+1;else if(v<0)d=g-1;else return g}return-(u+1)}function h(l,c,i){var u=l.getAnnotations().sort(A.comparePoints);if(u.length){var d=m(u,{row:c,column:-1},A.comparePoints);d<0&&(d=-d-1),d>=u.length?d=i>0?0:u.length-1:d===0&&i<0&&(d=u.length-1);var g=u[d];if(!(!g||!i)){if(g.row===c){do g=u[d+=i];while(g&&g.row===c);if(!g)return u.slice()}var v=[];c=g.row;do v[i<0?"unshift":"push"](g),g=u[d+=i];while(g&&g.row==c);return v.length&&v}}}T.showErrorMarker=function(l,c){var i=l.session;i.widgetManager||(i.widgetManager=new V(i),i.widgetManager.attach(l));var u=l.getCursorPosition(),d=u.row,g=i.widgetManager.getWidgetsAtRow(d).filter(function(N){return N.type=="errorMarker"})[0];g?g.destroy():d-=c;var v=h(i,d,c),x;if(v){var C=v[0];u.column=(C.pos&&typeof C.column!="number"?C.pos.sc:C.column)||0,u.row=C.row,x=l.renderer.$gutterLayer.$annotations[u.row]}else{if(g)return;x={text:[s("Looks good!")],className:"ace_ok"}}l.session.unfold(u.row),l.selection.moveToPosition(u);var _={row:u.row,fixedWidth:!0,coverGutter:!0,el:L.createElement("div"),type:"errorMarker"},$=_.el.appendChild(L.createElement("div")),S=_.el.appendChild(L.createElement("div"));S.className="error_widget_arrow "+x.className;var O=l.renderer.$cursorLayer.getPixelPosition(u).left;S.style.left=O+l.renderer.gutterWidth-5+"px",_.el.className="error_widget_wrapper",$.className="error_widget "+x.className,$.innerHTML=x.text.join("<br>"),$.appendChild(L.createElement("div"));var D=function(N,M,k){if(M===0&&(k==="esc"||k==="return"))return _.destroy(),{command:"null"}};_.destroy=function(){l.$mouseHandler.isMousePressed||(l.keyBinding.removeKeyboardHandler(D),i.widgetManager.removeLineWidget(_),l.off("changeSelection",_.destroy),l.off("changeSession",_.destroy),l.off("mouseup",_.destroy),l.off("change",_.destroy))},l.keyBinding.addKeyboardHandler(D),l.on("changeSelection",_.destroy),l.on("changeSession",_.destroy),l.on("mouseup",_.destroy),l.on("change",_.destroy),l.session.widgetManager.addLineWidget(_),_.el.onmousedown=l.focus.bind(l),l.renderer.scrollCursorIntoView(null,.5,{bottom:_.el.offsetHeight})},L.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(y,T,G){y("./loader_build")(T);var V=y("./lib/dom"),L=y("./range").Range,A=y("./editor").Editor,s=y("./edit_session").EditSession,m=y("./undomanager").UndoManager,h=y("./virtual_renderer").VirtualRenderer;y("./worker/worker_client"),y("./keyboard/hash_handler"),y("./placeholder"),y("./multi_select"),y("./mode/folding/fold_mode"),y("./theme/textmate"),y("./ext/error_marker"),T.config=y("./config"),T.edit=function(l,c){if(typeof l=="string"){var i=l;if(l=document.getElementById(i),!l)throw new Error("ace.edit can't find div #"+i)}if(l&&l.env&&l.env.editor instanceof A)return l.env.editor;var u="";if(l&&/input|textarea/i.test(l.tagName)){var d=l;u=d.value,l=V.createElement("pre"),d.parentNode.replaceChild(l,d)}else l&&(u=l.textContent,l.innerHTML="");var g=T.createEditSession(u),v=new A(new h(l),g,c),x={document:g,editor:v,onResize:v.resize.bind(v,null)};return d&&(x.textarea=d),v.on("destroy",function(){x.editor.container.env=null}),v.container.env=v.env=x,v},T.createEditSession=function(l,c){var i=new s(l,c);return i.setUndoManager(new m),i},T.Range=L,T.Editor=A,T.EditSession=s,T.UndoManager=m,T.VirtualRenderer=h,T.version=T.config.version}),function(){ace.require(["ace/ace"],function(y){y&&(y.config.init(!0),y.define=ace.define);var T=function(){return this}();!T&&typeof window<"u"&&(T=window),!T&&typeof self<"u"&&(T=self),T.ace||(T.ace=y);for(var G in y)y.hasOwnProperty(G)&&(T.ace[G]=y[G]);T.ace.default=T.ace,o&&(o.exports=T.ace)})}()})(gae);var Jfe=gae.exports;const Qfe=dae(Jfe);var pae=function(){if(typeof Map<"u")return Map;function o(b,y){var T=-1;return b.some(function(G,V){return G[0]===y?(T=V,!0):!1}),T}return function(){function b(){this.__entries__=[]}return Object.defineProperty(b.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),b.prototype.get=function(y){var T=o(this.__entries__,y),G=this.__entries__[T];return G&&G[1]},b.prototype.set=function(y,T){var G=o(this.__entries__,y);~G?this.__entries__[G][1]=T:this.__entries__.push([y,T])},b.prototype.delete=function(y){var T=this.__entries__,G=o(T,y);~G&&T.splice(G,1)},b.prototype.has=function(y){return!!~o(this.__entries__,y)},b.prototype.clear=function(){this.__entries__.splice(0)},b.prototype.forEach=function(y,T){T===void 0&&(T=null);for(var G=0,V=this.__entries__;G<V.length;G++){var L=V[G];y.call(T,L[1],L[0])}},b}()}(),xQ=typeof window<"u"&&typeof document<"u"&&window.document===document,yB=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),qfe=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(yB):function(o){return setTimeout(function(){return o(Date.now())},1e3/60)}}(),ede=2;function tde(o,b){var y=!1,T=!1,G=0;function V(){y&&(y=!1,o()),T&&A()}function L(){qfe(V)}function A(){var s=Date.now();if(y){if(s-G<ede)return;T=!0}else y=!0,T=!1,setTimeout(L,b);G=s}return A}var nde=20,rde=["top","right","bottom","left","width","height","size","weight"],ode=typeof MutationObserver<"u",ade=function(){function o(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=tde(this.refresh.bind(this),nde)}return o.prototype.addObserver=function(b){~this.observers_.indexOf(b)||this.observers_.push(b),this.connected_||this.connect_()},o.prototype.removeObserver=function(b){var y=this.observers_,T=y.indexOf(b);~T&&y.splice(T,1),!y.length&&this.connected_&&this.disconnect_()},o.prototype.refresh=function(){var b=this.updateObservers_();b&&this.refresh()},o.prototype.updateObservers_=function(){var b=this.observers_.filter(function(y){return y.gatherActive(),y.hasActive()});return b.forEach(function(y){return y.broadcastActive()}),b.length>0},o.prototype.connect_=function(){!xQ||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ode?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},o.prototype.disconnect_=function(){!xQ||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},o.prototype.onTransitionEnd_=function(b){var y=b.propertyName,T=y===void 0?"":y,G=rde.some(function(V){return!!~T.indexOf(V)});G&&this.refresh()},o.getInstance=function(){return this.instance_||(this.instance_=new o),this.instance_},o.instance_=null,o}(),vae=function(o,b){for(var y=0,T=Object.keys(b);y<T.length;y++){var G=T[y];Object.defineProperty(o,G,{value:b[G],enumerable:!1,writable:!1,configurable:!0})}return o},kE=function(o){var b=o&&o.ownerDocument&&o.ownerDocument.defaultView;return b||yB},yae=qB(0,0,0,0);function bB(o){return parseFloat(o)||0}function $ne(o){for(var b=[],y=1;y<arguments.length;y++)b[y-1]=arguments[y];return b.reduce(function(T,G){var V=o["border-"+G+"-width"];return T+bB(V)},0)}function sde(o){for(var b=["top","right","bottom","left"],y={},T=0,G=b;T<G.length;T++){var V=G[T],L=o["padding-"+V];y[V]=bB(L)}return y}function ide(o){var b=o.getBBox();return qB(0,0,b.width,b.height)}function lde(o){var b=o.clientWidth,y=o.clientHeight;if(!b&&!y)return yae;var T=kE(o).getComputedStyle(o),G=sde(T),V=G.left+G.right,L=G.top+G.bottom,A=bB(T.width),s=bB(T.height);if(T.boxSizing==="border-box"&&(Math.round(A+V)!==b&&(A-=$ne(T,"left","right")+V),Math.round(s+L)!==y&&(s-=$ne(T,"top","bottom")+L)),!ude(o)){var m=Math.round(A+V)-b,h=Math.round(s+L)-y;Math.abs(m)!==1&&(A-=m),Math.abs(h)!==1&&(s-=h)}return qB(G.left,G.top,A,s)}var cde=function(){return typeof SVGGraphicsElement<"u"?function(o){return o instanceof kE(o).SVGGraphicsElement}:function(o){return o instanceof kE(o).SVGElement&&typeof o.getBBox=="function"}}();function ude(o){return o===kE(o).document.documentElement}function fde(o){return xQ?cde(o)?ide(o):lde(o):yae}function dde(o){var b=o.x,y=o.y,T=o.width,G=o.height,V=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,L=Object.create(V.prototype);return vae(L,{x:b,y,width:T,height:G,top:y,right:b+T,bottom:G+y,left:b}),L}function qB(o,b,y,T){return{x:o,y:b,width:y,height:T}}var hde=function(){function o(b){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=qB(0,0,0,0),this.target=b}return o.prototype.isActive=function(){var b=fde(this.target);return this.contentRect_=b,b.width!==this.broadcastWidth||b.height!==this.broadcastHeight},o.prototype.broadcastRect=function(){var b=this.contentRect_;return this.broadcastWidth=b.width,this.broadcastHeight=b.height,b},o}(),mde=function(){function o(b,y){var T=dde(y);vae(this,{target:b,contentRect:T})}return o}(),gde=function(){function o(b,y,T){if(this.activeObservations_=[],this.observations_=new pae,typeof b!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=b,this.controller_=y,this.callbackCtx_=T}return o.prototype.observe=function(b){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(b instanceof kE(b).Element))throw new TypeError('parameter 1 is not of type "Element".');var y=this.observations_;y.has(b)||(y.set(b,new hde(b)),this.controller_.addObserver(this),this.controller_.refresh())}},o.prototype.unobserve=function(b){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(b instanceof kE(b).Element))throw new TypeError('parameter 1 is not of type "Element".');var y=this.observations_;y.has(b)&&(y.delete(b),y.size||this.controller_.removeObserver(this))}},o.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},o.prototype.gatherActive=function(){var b=this;this.clearActive(),this.observations_.forEach(function(y){y.isActive()&&b.activeObservations_.push(y)})},o.prototype.broadcastActive=function(){if(this.hasActive()){var b=this.callbackCtx_,y=this.activeObservations_.map(function(T){return new mde(T.target,T.broadcastRect())});this.callback_.call(b,y,b),this.clearActive()}},o.prototype.clearActive=function(){this.activeObservations_.splice(0)},o.prototype.hasActive=function(){return this.activeObservations_.length>0},o}(),bae=typeof WeakMap<"u"?new WeakMap:new pae,xae=function(){function o(b){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var y=ade.getInstance(),T=new gde(b,y,this);bae.set(this,T)}return o}();["observe","unobserve","disconnect"].forEach(function(o){xae.prototype[o]=function(){var b;return(b=bae.get(this))[o].apply(b,arguments)}});var pde=function(){return typeof yB.ResizeObserver<"u"?yB.ResizeObserver:xae}();const One=["blur","input","change","changeSelectionStyle","changeSession","copy","focus","paste"],eH=YB({props:{value:{type:String,required:!0},lang:{type:String,default:"text"},theme:{type:String,default:"chrome"},options:Object,placeholder:String,readonly:Boolean,wrap:Boolean,printMargin:{type:[Boolean,Number],default:!0},minLines:Number,maxLines:Number},emits:["update:value","init",...One],render(){return um("div")},mounted(){const o=this._editor=rq(Qfe.edit(this.$el,{placeholder:this.placeholder,readOnly:this.readonly,value:this.value,mode:"ace/mode/"+this.lang,theme:"ace/theme/"+this.theme,wrap:this.wrap,printMargin:this.printMargin,useWorker:!1,minLines:this.minLines,maxLines:this.maxLines,...this.options}));this._contentBackup=this.value,this._isSettingContent=!1,o.on("change",()=>{if(this._isSettingContent)return;const b=o.getValue();this._contentBackup=b,this.$emit("update:value",b)}),One.forEach(b=>{const y="on"+_0(b);typeof this.$.vnode.props[y]=="function"&&o.on(b,this.$emit.bind(this,b))}),this._ro=new pde(()=>o.resize()),this._ro.observe(this.$el),this.$emit("init",o)},beforeUnmount(){var o,b;(o=this._ro)===null||o===void 0||o.disconnect(),(b=this._editor)===null||b===void 0||b.destroy()},methods:{focus(){this._editor.focus()},blur(){this._editor.blur()},selectAll(){this._editor.selectAll()}},watch:{value(o){if(this._contentBackup!==o){try{this._isSettingContent=!0,this._editor.setValue(o,1)}finally{this._isSettingContent=!1}this._contentBackup=o}},theme(o){this._editor.setTheme("ace/theme/"+o)},options(o){this._editor.setOptions(o)},readonly(o){this._editor.setReadOnly(o)},placeholder(o){this._editor.setOption("placeholder",o)},wrap(o){this._editor.setWrapBehavioursEnabled(o)},printMargin(o){this._editor.setOption("printMargin",o)},lang(o){this._editor.setOption("mode","ace/mode/"+o)},minLines(o){this._editor.setOption("minLines",o)},maxLines(o){this._editor.setOption("maxLines",o)}}});var vde={exports:{}};(function(o,b){ace.define("ace/mode/python_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(y,T,G){var V=y("../lib/oop"),L=y("./text_highlight_rules").TextHighlightRules,A=function(){var s="and|as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while|with|yield|async|await|nonlocal",m="True|False|None|NotImplemented|Ellipsis|__debug__",h="abs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|binfile|bin|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|apply|delattr|help|next|setattr|set|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern|ascii|breakpoint|bytes",l=this.createKeywordMapper({"invalid.deprecated":"debugger","support.function":h,"variable.language":"self|cls","constant.language":m,keyword:s},"identifier"),c="[uU]?",i="[rR]",u="[fF]",d="(?:[rR][fF]|[fF][rR])",g="(?:(?:[1-9]\\d*)|(?:0))",v="(?:0[oO]?[0-7]+)",x="(?:0[xX][\\dA-Fa-f]+)",C="(?:0[bB][01]+)",_="(?:"+g+"|"+v+"|"+x+"|"+C+")",$="(?:[eE][+-]?\\d+)",S="(?:\\.\\d+)",O="(?:\\d+)",D="(?:(?:"+O+"?"+S+")|(?:"+O+"\\.))",N="(?:(?:"+D+"|"+O+")"+$+")",M="(?:"+N+"|"+D+")",k=`\\\\(x[0-9A-Fa-f]{2}|[0-7]{3}|[\\\\abfnrtv'"]|U[0-9A-Fa-f]{8}|u[0-9A-Fa-f]{4})`;this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:c+'"{3}',next:"qqstring3"},{token:"string",regex:c+'"(?=.)',next:"qqstring"},{token:"string",regex:c+"'{3}",next:"qstring3"},{token:"string",regex:c+"'(?=.)",next:"qstring"},{token:"string",regex:i+'"{3}',next:"rawqqstring3"},{token:"string",regex:i+'"(?=.)',next:"rawqqstring"},{token:"string",regex:i+"'{3}",next:"rawqstring3"},{token:"string",regex:i+"'(?=.)",next:"rawqstring"},{token:"string",regex:u+'"{3}',next:"fqqstring3"},{token:"string",regex:u+'"(?=.)',next:"fqqstring"},{token:"string",regex:u+"'{3}",next:"fqstring3"},{token:"string",regex:u+"'(?=.)",next:"fqstring"},{token:"string",regex:d+'"{3}',next:"rfqqstring3"},{token:"string",regex:d+'"(?=.)',next:"rfqqstring"},{token:"string",regex:d+"'{3}",next:"rfqstring3"},{token:"string",regex:d+"'(?=.)",next:"rfqstring"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|@|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"punctuation",regex:",|:|;|\\->|\\+=|\\-=|\\*=|\\/=|\\/\\/=|%=|@=|&=|\\|=|^=|>>=|<<=|\\*\\*="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:["keyword","text","entity.name.function"],regex:"(def|class)(\\s+)([\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w]+)"},{token:"text",regex:"\\s+"},{include:"constants"}],qqstring3:[{token:"constant.language.escape",regex:k},{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],qstring3:[{token:"constant.language.escape",regex:k},{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],qqstring:[{token:"constant.language.escape",regex:k},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:k},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],rawqqstring3:[{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],rawqstring3:[{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],rawqqstring:[{token:"string",regex:"\\\\$",next:"rawqqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],rawqstring:[{token:"string",regex:"\\\\$",next:"rawqstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],fqqstring3:[{token:"constant.language.escape",regex:k},{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring3:[{token:"constant.language.escape",regex:k},{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqqstring:[{token:"constant.language.escape",regex:k},{token:"string",regex:"\\\\$",next:"fqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring:[{token:"constant.language.escape",regex:k},{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring3:[{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring3:[{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring:[{token:"string",regex:"\\\\$",next:"rfqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring:[{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstringParRules:[{token:"paren.lparen",regex:"[\\[\\(]"},{token:"paren.rparen",regex:"[\\]\\)]"},{token:"string",regex:"\\s+"},{token:"string",regex:"'[^']*'"},{token:"string",regex:'"[^"]*"'},{token:"function.support",regex:"(!s|!r|!a)"},{include:"constants"},{token:"paren.rparen",regex:"}",next:"pop"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"}],constants:[{token:"constant.numeric",regex:"(?:"+M+"|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:M},{token:"constant.numeric",regex:_+"[lL]\\b"},{token:"constant.numeric",regex:_+"\\b"},{token:["punctuation","function.support"],regex:"(\\.)([a-zA-Z_]+)\\b"},{token:l,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"}]},this.normalizeRules()};V.inherits(A,L),T.PythonHighlightRules=A}),ace.define("ace/mode/folding/pythonic",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(y,T,G){var V=y("../../lib/oop"),L=y("./fold_mode").FoldMode,A=T.FoldMode=function(s){this.foldingStartMarker=new RegExp("([\\[{])(?:\\s*)$|("+s+")(?:\\s*)(?:#.*)?$")};V.inherits(A,L),(function(){this.getFoldWidgetRange=function(s,m,h){var l=s.getLine(h),c=l.match(this.foldingStartMarker);if(c)return c[1]?this.openingBracketBlock(s,c[1],h,c.index):c[2]?this.indentationBlock(s,h,c.index+c[2].length):this.indentationBlock(s,h)}}).call(A.prototype)}),ace.define("ace/mode/python",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/python_highlight_rules","ace/mode/folding/pythonic","ace/range"],function(y,T,G){var V=y("../lib/oop"),L=y("./text").Mode,A=y("./python_highlight_rules").PythonHighlightRules,s=y("./folding/pythonic").FoldMode,m=y("../range").Range,h=function(){this.HighlightRules=A,this.foldingRules=new s("\\:"),this.$behaviour=this.$defaultBehaviour};V.inherits(h,L),(function(){this.lineCommentStart="#",this.$pairQuotesAfter={"'":/[ruf]/i,'"':/[ruf]/i},this.getNextLineIndent=function(c,i,u){var d=this.$getIndent(i),g=this.getTokenizer().getLineTokens(i,c),v=g.tokens;if(v.length&&v[v.length-1].type=="comment")return d;if(c=="start"){var x=i.match(/^.*[\{\(\[:]\s*$/);x&&(d+=u)}return d};var l={pass:1,return:1,raise:1,break:1,continue:1};this.checkOutdent=function(c,i,u){if(u!==`\r
`&&u!=="\r"&&u!==`
`)return!1;var d=this.getTokenizer().getLineTokens(i.trim(),c).tokens;if(!d)return!1;do var g=d.pop();while(g&&(g.type=="comment"||g.type=="text"&&g.value.match(/^\s+$/)));return g?g.type=="keyword"&&l[g.value]:!1},this.autoOutdent=function(c,i,u){u+=1;var d=this.$getIndent(i.getLine(u)),g=i.getTabString();d.slice(-g.length)==g&&i.remove(new m(u,d.length-g.length,u,d.length))},this.$id="ace/mode/python",this.snippetFileId="ace/snippets/python"}).call(h.prototype),T.Mode=h}),function(){ace.require(["ace/mode/python"],function(y){o&&(o.exports=y)})}()})(vde);var yde={exports:{}};(function(o,b){ace.define("ace/snippets/python.snippets",["require","exports","module"],function(y,T,G){G.exports=`snippet #!
	#!/usr/bin/env python
snippet imp
	import \${1:module}
snippet from
	from \${1:package} import \${2:module}
# Module Docstring
snippet docs
	'''
	File: \${1:FILENAME:file_name}
	Author: \${2:author}
	Description: \${3}
	'''
snippet wh
	while \${1:condition}:
		\${2:# TODO: write code...}
# dowh - does the same as do...while in other languages
snippet dowh
	while True:
		\${1:# TODO: write code...}
		if \${2:condition}:
			break
snippet with
	with \${1:expr} as \${2:var}:
		\${3:# TODO: write code...}
# New Class
snippet cl
	class \${1:ClassName}(\${2:object}):
		"""\${3:docstring for $1}"""
		def __init__(self, \${4:arg}):
			\${5:super($1, self).__init__()}
			self.$4 = $4
			\${6}
# New Function
snippet def
	def \${1:fname}(\${2:\`indent('.') ? 'self' : ''\`}):
		"""\${3:docstring for $1}"""
		\${4:# TODO: write code...}
snippet deff
	def \${1:fname}(\${2:\`indent('.') ? 'self' : ''\`}):
		\${3:# TODO: write code...}
# New Method
snippet defs
	def \${1:mname}(self, \${2:arg}):
		\${3:# TODO: write code...}
# New Property
snippet property
	def \${1:foo}():
		doc = "\${2:The $1 property.}"
		def fget(self):
			\${3:return self._$1}
		def fset(self, value):
			\${4:self._$1 = value}
# Ifs
snippet if
	if \${1:condition}:
		\${2:# TODO: write code...}
snippet el
	else:
		\${1:# TODO: write code...}
snippet ei
	elif \${1:condition}:
		\${2:# TODO: write code...}
# For
snippet for
	for \${1:item} in \${2:items}:
		\${3:# TODO: write code...}
# Encodes
snippet cutf8
	# -*- coding: utf-8 -*-
snippet clatin1
	# -*- coding: latin-1 -*-
snippet cascii
	# -*- coding: ascii -*-
# Lambda
snippet ld
	\${1:var} = lambda \${2:vars} : \${3:action}
snippet .
	self.
snippet try Try/Except
	try:
		\${1:# TODO: write code...}
	except \${2:Exception}, \${3:e}:
		\${4:raise $3}
snippet try Try/Except/Else
	try:
		\${1:# TODO: write code...}
	except \${2:Exception}, \${3:e}:
		\${4:raise $3}
	else:
		\${5:# TODO: write code...}
snippet try Try/Except/Finally
	try:
		\${1:# TODO: write code...}
	except \${2:Exception}, \${3:e}:
		\${4:raise $3}
	finally:
		\${5:# TODO: write code...}
snippet try Try/Except/Else/Finally
	try:
		\${1:# TODO: write code...}
	except \${2:Exception}, \${3:e}:
		\${4:raise $3}
	else:
		\${5:# TODO: write code...}
	finally:
		\${6:# TODO: write code...}
# if __name__ == '__main__':
snippet ifmain
	if __name__ == '__main__':
		\${1:main()}
# __magic__
snippet _
	__\${1:init}__\${2}
# python debugger (pdb)
snippet pdb
	import pdb; pdb.set_trace()
# ipython debugger (ipdb)
snippet ipdb
	import ipdb; ipdb.set_trace()
# ipython debugger (pdbbb)
snippet pdbbb
	import pdbpp; pdbpp.set_trace()
snippet pprint
	import pprint; pprint.pprint(\${1})\${2}
snippet "
	"""
	\${1:doc}
	"""
# test function/method
snippet test
	def test_\${1:description}(\${2:self}):
		\${3:# TODO: write code...}
# test case
snippet testcase
	class \${1:ExampleCase}(unittest.TestCase):
		
		def test_\${2:description}(self):
			\${3:# TODO: write code...}
snippet fut
	from __future__ import \${1}
#getopt
snippet getopt
	try:
		# Short option syntax: "hv:"
		# Long option syntax: "help" or "verbose="
		opts, args = getopt.getopt(sys.argv[1:], "\${1:short_options}", [\${2:long_options}])
	
	except getopt.GetoptError, err:
		# Print debug info
		print str(err)
		\${3:error_action}

	for option, argument in opts:
		if option in ("-h", "--help"):
			\${4}
		elif option in ("-v", "--verbose"):
			verbose = argument
`}),ace.define("ace/snippets/python",["require","exports","module","ace/snippets/python.snippets"],function(y,T,G){T.snippetText=y("./python.snippets"),T.scope="python"}),function(){ace.require(["ace/snippets/python"],function(y){o&&(o.exports=y)})}()})(yde);var bde={exports:{}};(function(o,b){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(y,T,G){var V=y("./lib/dom"),L=y("./lib/oop"),A=y("./lib/event_emitter").EventEmitter,s=y("./lib/lang"),m=y("./range").Range,h=y("./range_list").RangeList,l=y("./keyboard/hash_handler").HashHandler,c=y("./tokenizer").Tokenizer,i=y("./clipboard"),u={CURRENT_WORD:function(S){return S.session.getTextRange(S.session.getWordRange())},SELECTION:function(S,O,D){var N=S.session.getTextRange();return D?N.replace(/\n\r?([ \t]*\S)/g,`
`+D+"$1"):N},CURRENT_LINE:function(S){return S.session.getLine(S.getCursorPosition().row)},PREV_LINE:function(S){return S.session.getLine(S.getCursorPosition().row-1)},LINE_INDEX:function(S){return S.getCursorPosition().row},LINE_NUMBER:function(S){return S.getCursorPosition().row+1},SOFT_TABS:function(S){return S.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(S){return S.session.getTabSize()},CLIPBOARD:function(S){return i.getText&&i.getText()},FILENAME:function(S){return/[^/\\]*$/.exec(this.FILEPATH(S))[0]},FILENAME_BASE:function(S){return/[^/\\]*$/.exec(this.FILEPATH(S))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(S){return this.FILEPATH(S).replace(/[^/\\]*$/,"")},FILEPATH:function(S){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(S){var O=S.session.$mode||{};return O.blockComment&&O.blockComment.start||""},BLOCK_COMMENT_END:function(S){var O=S.session.$mode||{};return O.blockComment&&O.blockComment.end||""},LINE_COMMENT:function(S){var O=S.session.$mode||{};return O.lineCommentStart||""},CURRENT_YEAR:d.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:d.bind(null,{year:"2-digit"}),CURRENT_MONTH:d.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:d.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:d.bind(null,{month:"short"}),CURRENT_DATE:d.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:d.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:d.bind(null,{weekday:"short"}),CURRENT_HOUR:d.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:d.bind(null,{minute:"2-digit"}),CURRENT_SECOND:d.bind(null,{second:"2-digit"})};u.SELECTED_TEXT=u.SELECTION;function d(S){var O=new Date().toLocaleString("en-us",S);return O.length==1?"0"+O:O}var g=function(){function S(){this.snippetMap={},this.snippetNameMap={},this.variables=u}return S.prototype.getTokenizer=function(){return S.$tokenizer||this.createTokenizer()},S.prototype.createTokenizer=function(){function O(M){return M=M.substr(1),/^\d+$/.test(M)?[{tabstopId:parseInt(M,10)}]:[{text:M}]}function D(M){return"(?:[^\\\\"+M+"]|\\\\.)"}var N={regex:"/("+D("/")+"+)/",onMatch:function(M,k,R){var F=R[0];return F.fmtString=!0,F.guard=M.slice(1,-1),F.flag="",""},next:"formatString"};return S.$tokenizer=new c({start:[{regex:/\\./,onMatch:function(M,k,R){var F=M[1];return(F=="}"&&R.length||"`$\\".indexOf(F)!=-1)&&(M=F),[M]}},{regex:/}/,onMatch:function(M,k,R){return[R.length?R.shift():M]}},{regex:/\$(?:\d+|\w+)/,onMatch:O},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(M,k,R){var F=O(M.substr(1));return R.unshift(F[0]),F},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+D("\\|")+"*\\|",onMatch:function(M,k,R){var F=M.slice(1,-1).replace(/\\[,|\\]|,/g,function(H){return H.length==2?H[1]:"\0"}).split("\0").map(function(H){return{value:H}});return R[0].choices=F,[F[0]]},next:"start"},N,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(M,k,R){return R.length&&R[0].expectElse?(R[0].expectElse=!1,R[0].ifEnd={elseEnd:R[0]},[R[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(M,k,R){var F=M[1];return F=="}"&&R.length||"`$\\".indexOf(F)!=-1?M=F:F=="n"?M=`
`:F=="t"?M="	":"ulULE".indexOf(F)!=-1&&(M={changeCase:F,local:F>"a"}),[M]}},{regex:"/\\w*}",onMatch:function(M,k,R){var F=R.shift();return F&&(F.flag=M.slice(1,-1)),this.next=F&&F.tabstopId?"start":"",[F||M]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(M,k,R){return[{text:M.slice(1)}]}},{regex:/\${\w+/,onMatch:function(M,k,R){var F={text:M.slice(2)};return R.unshift(F),[F]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(M,k,R){var F=R.shift();return this.next=F&&F.tabstopId?"start":"",[F||M]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(M,k,R){var F=R[0];return F.formatFunction=M.slice(2,-1),[R.shift()]},next:"formatString"},N,{regex:/:[\?\-+]?/,onMatch:function(M,k,R){M[1]=="+"&&(R[0].ifEnd=R[0]),M[1]=="?"&&(R[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),S.$tokenizer},S.prototype.tokenizeTmSnippet=function(O,D){return this.getTokenizer().getLineTokens(O,D).tokens.map(function(N){return N.value||N})},S.prototype.getVariableValue=function(O,D,N){if(/^\d+$/.test(D))return(this.variables.__||{})[D]||"";if(/^[A-Z]\d+$/.test(D))return(this.variables[D[0]+"__"]||{})[D.substr(1)]||"";if(D=D.replace(/^TM_/,""),!this.variables.hasOwnProperty(D))return"";var M=this.variables[D];return typeof M=="function"&&(M=this.variables[D](O,D,N)),M??""},S.prototype.tmStrFormat=function(O,D,N){if(!D.fmt)return O;var M=D.flag||"",k=D.guard;k=new RegExp(k,M.replace(/[^gim]/g,""));var R=typeof D.fmt=="string"?this.tokenizeTmSnippet(D.fmt,"formatString"):D.fmt,F=this,H=O.replace(k,function(){var j=F.variables.__;F.variables.__=[].slice.call(arguments);for(var P=F.resolveVariables(R,N),ee="E",J=0;J<P.length;J++){var K=P[J];if(typeof K=="object")if(P[J]="",K.changeCase&&K.local){var ae=P[J+1];ae&&typeof ae=="string"&&(K.changeCase=="u"?P[J]=ae[0].toUpperCase():P[J]=ae[0].toLowerCase(),P[J+1]=ae.substr(1))}else K.changeCase&&(ee=K.changeCase);else ee=="U"?P[J]=K.toUpperCase():ee=="L"&&(P[J]=K.toLowerCase())}return F.variables.__=j,P.join("")});return H},S.prototype.tmFormatFunction=function(O,D,N){return D.formatFunction=="upcase"?O.toUpperCase():D.formatFunction=="downcase"?O.toLowerCase():O},S.prototype.resolveVariables=function(O,D){for(var N=[],M="",k=!0,R=0;R<O.length;R++){var F=O[R];if(typeof F=="string"){N.push(F),F==`
`?(k=!0,M=""):k&&(M=/^\t*/.exec(F)[0],k=/\S/.test(F));continue}if(F){if(k=!1,F.fmtString){var H=O.indexOf(F,R+1);H==-1&&(H=O.length),F.fmt=O.slice(R+1,H),R=H}if(F.text){var j=this.getVariableValue(D,F.text,M)+"";F.fmtString&&(j=this.tmStrFormat(j,F,D)),F.formatFunction&&(j=this.tmFormatFunction(j,F,D)),j&&!F.ifEnd?(N.push(j),P(F)):!j&&F.ifEnd&&P(F.ifEnd)}else F.elseEnd?P(F.elseEnd):(F.tabstopId!=null||F.changeCase!=null)&&N.push(F)}}function P(ee){var J=O.indexOf(ee,R+1);J!=-1&&(R=J)}return N},S.prototype.getDisplayTextForSnippet=function(O,D){var N=v.call(this,O,D);return N.text},S.prototype.insertSnippetForSelection=function(O,D,N){N===void 0&&(N={});var M=v.call(this,O,D,N),k=O.getSelectionRange(),R=O.session.replace(k,M.text),F=new x(O),H=O.inVirtualSelectionMode&&O.selection.index;F.addTabstops(M.tabstops,k.start,R,H)},S.prototype.insertSnippet=function(O,D,N){N===void 0&&(N={});var M=this;if(O.inVirtualSelectionMode)return M.insertSnippetForSelection(O,D,N);O.forEachSelection(function(){M.insertSnippetForSelection(O,D,N)},null,{keepOrder:!0}),O.tabstopManager&&O.tabstopManager.tabNext()},S.prototype.$getScope=function(O){var D=O.session.$mode.$id||"";if(D=D.split("/").pop(),D==="html"||D==="php"){D==="php"&&!O.session.$mode.inlinePhp&&(D="html");var N=O.getCursorPosition(),M=O.session.getState(N.row);typeof M=="object"&&(M=M[0]),M.substring&&(M.substring(0,3)=="js-"?D="javascript":M.substring(0,4)=="css-"?D="css":M.substring(0,4)=="php-"&&(D="php"))}return D},S.prototype.getActiveScopes=function(O){var D=this.$getScope(O),N=[D],M=this.snippetMap;return M[D]&&M[D].includeScopes&&N.push.apply(N,M[D].includeScopes),N.push("_"),N},S.prototype.expandWithTab=function(O,D){var N=this,M=O.forEachSelection(function(){return N.expandSnippetForSelection(O,D)},null,{keepOrder:!0});return M&&O.tabstopManager&&O.tabstopManager.tabNext(),M},S.prototype.expandSnippetForSelection=function(O,D){var N=O.getCursorPosition(),M=O.session.getLine(N.row),k=M.substring(0,N.column),R=M.substr(N.column),F=this.snippetMap,H;return this.getActiveScopes(O).some(function(j){var P=F[j];return P&&(H=this.findMatchingSnippet(P,k,R)),!!H},this),H?(D&&D.dryRun||(O.session.doc.removeInLine(N.row,N.column-H.replaceBefore.length,N.column+H.replaceAfter.length),this.variables.M__=H.matchBefore,this.variables.T__=H.matchAfter,this.insertSnippetForSelection(O,H.content),this.variables.M__=this.variables.T__=null),!0):!1},S.prototype.findMatchingSnippet=function(O,D,N){for(var M=O.length;M--;){var k=O[M];if(!(k.startRe&&!k.startRe.test(D))&&!(k.endRe&&!k.endRe.test(N))&&!(!k.startRe&&!k.endRe))return k.matchBefore=k.startRe?k.startRe.exec(D):[""],k.matchAfter=k.endRe?k.endRe.exec(N):[""],k.replaceBefore=k.triggerRe?k.triggerRe.exec(D)[0]:"",k.replaceAfter=k.endTriggerRe?k.endTriggerRe.exec(N)[0]:"",k}},S.prototype.register=function(O,D){var N=this.snippetMap,M=this.snippetNameMap,k=this;O||(O=[]);function R(j){return j&&!/^\^?\(.*\)\$?$|^\\b$/.test(j)&&(j="(?:"+j+")"),j||""}function F(j,P,ee){return j=R(j),P=R(P),ee?(j=P+j,j&&j[j.length-1]!="$"&&(j=j+"$")):(j=j+P,j&&j[0]!="^"&&(j="^"+j)),new RegExp(j)}function H(j){j.scope||(j.scope=D||"_"),D=j.scope,N[D]||(N[D]=[],M[D]={});var P=M[D];if(j.name){var ee=P[j.name];ee&&k.unregister(ee),P[j.name]=j}N[D].push(j),j.prefix&&(j.tabTrigger=j.prefix),!j.content&&j.body&&(j.content=Array.isArray(j.body)?j.body.join(`
`):j.body),j.tabTrigger&&!j.trigger&&(!j.guard&&/^\w/.test(j.tabTrigger)&&(j.guard="\\b"),j.trigger=s.escapeRegExp(j.tabTrigger)),!(!j.trigger&&!j.guard&&!j.endTrigger&&!j.endGuard)&&(j.startRe=F(j.trigger,j.guard,!0),j.triggerRe=new RegExp(j.trigger),j.endRe=F(j.endTrigger,j.endGuard,!0),j.endTriggerRe=new RegExp(j.endTrigger))}Array.isArray(O)?O.forEach(H):Object.keys(O).forEach(function(j){H(O[j])}),this._signal("registerSnippets",{scope:D})},S.prototype.unregister=function(O,D){var N=this.snippetMap,M=this.snippetNameMap;function k(R){var F=M[R.scope||D];if(F&&F[R.name]){delete F[R.name];var H=N[R.scope||D],j=H&&H.indexOf(R);j>=0&&H.splice(j,1)}}O.content?k(O):Array.isArray(O)&&O.forEach(k)},S.prototype.parseSnippetFile=function(O){O=O.replace(/\r/g,"");for(var D=[],N={},M=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,k;k=M.exec(O);){if(k[1])try{N=JSON.parse(k[1]),D.push(N)}catch{}if(k[4])N.content=k[4].replace(/^\t/gm,""),D.push(N),N={};else{var R=k[2],F=k[3];if(R=="regex"){var H=/\/((?:[^\/\\]|\\.)*)|$/g;N.guard=H.exec(F)[1],N.trigger=H.exec(F)[1],N.endTrigger=H.exec(F)[1],N.endGuard=H.exec(F)[1]}else R=="snippet"?(N.tabTrigger=F.match(/^\S*/)[0],N.name||(N.name=F)):R&&(N[R]=F)}}return D},S.prototype.getSnippetByName=function(O,D){var N=this.snippetNameMap,M;return this.getActiveScopes(D).some(function(k){var R=N[k];return R&&(M=R[O]),!!M},this),M},S}();L.implement(g.prototype,A);var v=function(S,O,D){D===void 0&&(D={});var N=S.getCursorPosition(),M=S.session.getLine(N.row),k=S.session.getTabString(),R=M.match(/^\s*/)[0];N.column<R.length&&(R=R.slice(0,N.column)),O=O.replace(/\r/g,"");var F=this.tokenizeTmSnippet(O);F=this.resolveVariables(F,S),F=F.map(function(ne){return ne==`
`&&!D.excludeExtraIndent?ne+R:typeof ne=="string"?ne.replace(/\t/g,k):ne});var H=[];F.forEach(function(ne,fe){if(typeof ne=="object"){var X=ne.tabstopId,ye=H[X];if(ye||(ye=H[X]=[],ye.index=X,ye.value="",ye.parents={}),ye.indexOf(ne)===-1){ne.choices&&!ye.choices&&(ye.choices=ne.choices),ye.push(ne);var Ce=F.indexOf(ne,fe+1);if(Ce!==-1){var $e=F.slice(fe+1,Ce),ke=$e.some(function(Ne){return typeof Ne=="object"});ke&&!ye.value?ye.value=$e:$e.length&&(!ye.value||typeof ye.value!="string")&&(ye.value=$e.join(""))}}}}),H.forEach(function(ne){ne.length=0});var j={};function P(ne){for(var fe=[],X=0;X<ne.length;X++){var ye=ne[X];if(typeof ye=="object"){if(j[ye.tabstopId])continue;var Ce=ne.lastIndexOf(ye,X-1);ye=fe[Ce]||{tabstopId:ye.tabstopId}}fe[X]=ye}return fe}for(var ee=0;ee<F.length;ee++){var J=F[ee];if(typeof J=="object"){var K=J.tabstopId,ae=H[K],Q=F.indexOf(J,ee+1);if(j[K]){j[K]===J&&(delete j[K],Object.keys(j).forEach(function(ne){ae.parents[ne]=!0}));continue}j[K]=J;var he=ae.value;typeof he!="string"?he=P(he):J.fmt&&(he=this.tmStrFormat(he,J,S)),F.splice.apply(F,[ee+1,Math.max(0,Q-ee)].concat(he,J)),ae.indexOf(J)===-1&&ae.push(J)}}var ge=0,Se=0,ce="";return F.forEach(function(ne){if(typeof ne=="string"){var fe=ne.split(`
`);fe.length>1?(Se=fe[fe.length-1].length,ge+=fe.length-1):Se+=ne.length,ce+=ne}else ne&&(ne.start?ne.end={row:ge,column:Se}:ne.start={row:ge,column:Se})}),{text:ce,tabstops:H,tokens:F}},x=function(){function S(O){if(this.index=0,this.ranges=[],this.tabstops=[],O.tabstopManager)return O.tabstopManager;O.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=s.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(O)}return S.prototype.attach=function(O){this.$openTabstops=null,this.selectedTabstop=null,this.editor=O,this.session=O.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},S.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},S.prototype.onChange=function(O){for(var D=O.action[0]=="r",N=this.selectedTabstop||{},M=N.parents||{},k=this.tabstops.slice(),R=0;R<k.length;R++){var F=k[R],H=F==N||M[F.index];if(F.rangeList.$bias=H?0:1,O.action=="remove"&&F!==N){var j=F.parents&&F.parents[N.index],P=F.rangeList.pointIndex(O.start,j);P=P<0?-P-1:P+1;var ee=F.rangeList.pointIndex(O.end,j);ee=ee<0?-ee-1:ee-1;for(var J=F.rangeList.ranges.slice(P,ee),K=0;K<J.length;K++)this.removeRange(J[K])}F.rangeList.$onChange(O)}var ae=this.session;!this.$inChange&&D&&ae.getLength()==1&&!ae.getValue()&&this.detach()},S.prototype.updateLinkedFields=function(){var O=this.selectedTabstop;if(!(!O||!O.hasLinkedRanges||!O.firstNonLinked)){this.$inChange=!0;for(var D=this.session,N=D.getTextRange(O.firstNonLinked),M=0;M<O.length;M++){var k=O[M];if(k.linked){var R=k.original,F=T.snippetManager.tmStrFormat(N,R,this.editor);D.replace(k,F)}}this.$inChange=!1}},S.prototype.onAfterExec=function(O){O.command&&!O.command.readOnly&&this.updateLinkedFields()},S.prototype.onChangeSelection=function(){if(this.editor){for(var O=this.editor.selection.lead,D=this.editor.selection.anchor,N=this.editor.selection.isEmpty(),M=0;M<this.ranges.length;M++)if(!this.ranges[M].linked){var k=this.ranges[M].contains(O.row,O.column),R=N||this.ranges[M].contains(D.row,D.column);if(k&&R)return}this.detach()}},S.prototype.onChangeSession=function(){this.detach()},S.prototype.tabNext=function(O){var D=this.tabstops.length,N=this.index+(O||1);N=Math.min(Math.max(N,1),D),N==D&&(N=0),this.selectTabstop(N),N===0&&this.detach()},S.prototype.selectTabstop=function(O){this.$openTabstops=null;var D=this.tabstops[this.index];if(D&&this.addTabstopMarkers(D),this.index=O,D=this.tabstops[this.index],!(!D||!D.length)){this.selectedTabstop=D;var N=D.firstNonLinked||D;if(D.choices&&(N.cursor=N.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(N);else{var M=this.editor.multiSelect;M.toSingleRange(N);for(var k=0;k<D.length;k++)D.hasLinkedRanges&&D[k].linked||M.addRange(D[k].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},S.prototype.addTabstops=function(O,D,N){var M=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!O[0]){var k=m.fromPoints(N,N);_(k.start,D),_(k.end,D),O[0]=[k],O[0].index=0}var R=this.index,F=[R+1,0],H=this.ranges;O.forEach(function(j,P){for(var ee=this.$openTabstops[P]||j,J=0;J<j.length;J++){var K=j[J],ae=m.fromPoints(K.start,K.end||K.start);C(ae.start,D),C(ae.end,D),ae.original=K,ae.tabstop=ee,H.push(ae),ee!=j?ee.unshift(ae):ee[J]=ae,K.fmtString||ee.firstNonLinked&&M?(ae.linked=!0,ee.hasLinkedRanges=!0):ee.firstNonLinked||(ee.firstNonLinked=ae)}ee.firstNonLinked||(ee.hasLinkedRanges=!1),ee===j&&(F.push(ee),this.$openTabstops[P]=ee),this.addTabstopMarkers(ee),ee.rangeList=ee.rangeList||new h,ee.rangeList.$bias=0,ee.rangeList.addList(ee)},this),F.length>2&&(this.tabstops.length&&F.push(F.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,F))},S.prototype.addTabstopMarkers=function(O){var D=this.session;O.forEach(function(N){N.markerId||(N.markerId=D.addMarker(N,"ace_snippet-marker","text"))})},S.prototype.removeTabstopMarkers=function(O){var D=this.session;O.forEach(function(N){D.removeMarker(N.markerId),N.markerId=null})},S.prototype.removeRange=function(O){var D=O.tabstop.indexOf(O);D!=-1&&O.tabstop.splice(D,1),D=this.ranges.indexOf(O),D!=-1&&this.ranges.splice(D,1),D=O.tabstop.rangeList.ranges.indexOf(O),D!=-1&&O.tabstop.splice(D,1),this.session.removeMarker(O.markerId),O.tabstop.length||(D=this.tabstops.indexOf(O.tabstop),D!=-1&&this.tabstops.splice(D,1),this.tabstops.length||this.detach())},S}();x.prototype.keyboardHandler=new l,x.prototype.keyboardHandler.bindKeys({Tab:function(S){T.snippetManager&&T.snippetManager.expandWithTab(S)||(S.tabstopManager.tabNext(1),S.renderer.scrollCursorIntoView())},"Shift-Tab":function(S){S.tabstopManager.tabNext(-1),S.renderer.scrollCursorIntoView()},Esc:function(S){S.tabstopManager.detach()}});var C=function(S,O){S.row==0&&(S.column+=O.column),S.row+=O.row},_=function(S,O){S.row==O.row&&(S.column-=O.column),S.row-=O.row};V.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),T.snippetManager=new g;var $=y("./editor").Editor;(function(){this.insertSnippet=function(S,O){return T.snippetManager.insertSnippet(this,S,O)},this.expandSnippet=function(S){return T.snippetManager.expandWithTab(this,S)}}).call($.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config"],function(y,T,G){var V=y("../virtual_renderer").VirtualRenderer,L=y("../editor").Editor,A=y("../range").Range,s=y("../lib/event"),m=y("../lib/lang"),h=y("../lib/dom"),l=y("../config").nls,c=function(d){return"suggest-aria-id:".concat(d)},i=function(d){var g=new V(d);g.$maxLines=4;var v=new L(g);return v.setHighlightActiveLine(!1),v.setShowPrintMargin(!1),v.renderer.setShowGutter(!1),v.renderer.setHighlightGutterLine(!1),v.$mouseHandler.$focusTimeout=0,v.$highlightTagPending=!0,v},u=function(){function d(g){var v=h.createElement("div"),x=new i(v);g&&g.appendChild(v),v.style.display="none",x.renderer.content.style.cursor="default",x.renderer.setStyle("ace_autocomplete"),x.renderer.$textLayer.element.setAttribute("role","listbox"),x.renderer.$textLayer.element.setAttribute("aria-label",l("Autocomplete suggestions")),x.renderer.textarea.setAttribute("aria-hidden","true"),x.setOption("displayIndentGuides",!1),x.setOption("dragDelay",150);var C=function(){};x.focus=C,x.$isFocused=!0,x.renderer.$cursorLayer.restartTimer=C,x.renderer.$cursorLayer.element.style.opacity=0,x.renderer.$maxLines=8,x.renderer.$keepTextAreaAtCursor=!1,x.setHighlightActiveLine(!1),x.session.highlight(""),x.session.$searchHighlight.clazz="ace_highlight-marker",x.on("mousedown",function(M){var k=M.getDocumentPosition();x.selection.moveToPosition(k),S.start.row=S.end.row=k.row,M.stop()});var _,$=new A(-1,0,-1,1/0),S=new A(-1,0,-1,1/0);S.id=x.session.addMarker(S,"ace_active-line","fullLine"),x.setSelectOnHover=function(M){M?$.id&&(x.session.removeMarker($.id),$.id=null):$.id=x.session.addMarker($,"ace_line-hover","fullLine")},x.setSelectOnHover(!1),x.on("mousemove",function(M){if(!_){_=M;return}if(!(_.x==M.x&&_.y==M.y)){_=M,_.scrollTop=x.renderer.scrollTop;var k=_.getDocumentPosition().row;$.start.row!=k&&($.id||x.setRow(k),D(k))}}),x.renderer.on("beforeRender",function(){if(_&&$.start.row!=-1){_.$pos=null;var M=_.getDocumentPosition().row;$.id||x.setRow(M),D(M,!0)}}),x.renderer.on("afterRender",function(){var M=x.getRow(),k=x.renderer.$textLayer,R=k.element.childNodes[M-k.config.firstRow],F=document.activeElement;if(R!==k.selectedNode&&k.selectedNode&&(h.removeCssClass(k.selectedNode,"ace_selected"),F.removeAttribute("aria-activedescendant"),k.selectedNode.removeAttribute("id")),k.selectedNode=R,R){h.addCssClass(R,"ace_selected");var H=c(M);R.id=H,k.element.setAttribute("aria-activedescendant",H),F.setAttribute("aria-activedescendant",H),R.setAttribute("role","option"),R.setAttribute("aria-label",x.getData(M).value),R.setAttribute("aria-setsize",x.data.length),R.setAttribute("aria-posinset",M+1),R.setAttribute("aria-describedby","doc-tooltip")}});var O=function(){D(-1)},D=function(M,k){M!==$.start.row&&($.start.row=$.end.row=M,k||x.session._emit("changeBackMarker"),x._emit("changeHoverMarker"))};x.getHoveredRow=function(){return $.start.row},s.addListener(x.container,"mouseout",O),x.on("hide",O),x.on("changeSelection",O),x.session.doc.getLength=function(){return x.data.length},x.session.doc.getLine=function(M){var k=x.data[M];return typeof k=="string"?k:k&&k.value||""};var N=x.session.bgTokenizer;return N.$tokenizeRow=function(M){var k=x.data[M],R=[];if(!k)return R;typeof k=="string"&&(k={value:k});var F=k.caption||k.value||k.name;function H(he,ge){he&&R.push({type:(k.className||"")+(ge||""),value:he})}for(var j=F.toLowerCase(),P=(x.filterText||"").toLowerCase(),ee=0,J=0,K=0;K<=P.length;K++)if(K!=J&&(k.matchMask&1<<K||K==P.length)){var ae=P.slice(J,K);J=K;var Q=j.indexOf(ae,ee);if(Q==-1)continue;H(F.slice(ee,Q),""),ee=Q+ae.length,H(F.slice(Q,ee),"completion-highlight")}return H(F.slice(ee,F.length),""),R.push({type:"completion-spacer",value:" "}),k.meta&&R.push({type:"completion-meta",value:k.meta}),k.message&&R.push({type:"completion-message",value:k.message}),R},N.$updateOnChange=C,N.start=C,x.session.$computeWidth=function(){return this.screenWidth=0},x.isOpen=!1,x.isTopdown=!1,x.autoSelect=!0,x.filterText="",x.data=[],x.setData=function(M,k){x.filterText=k||"",x.setValue(m.stringRepeat(`
`,M.length),-1),x.data=M||[],x.setRow(0)},x.getData=function(M){return x.data[M]},x.getRow=function(){return S.start.row},x.setRow=function(M){M=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,M)),S.start.row!=M&&(x.selection.clearSelection(),S.start.row=S.end.row=M||0,x.session._emit("changeBackMarker"),x.moveCursorTo(M||0,0),x.isOpen&&x._signal("select"))},x.on("changeSelection",function(){x.isOpen&&x.setRow(x.selection.lead.row),x.renderer.scrollCursorIntoView()}),x.hide=function(){this.container.style.display="none",x.anchorPos=null,x.anchor=null,x.isOpen&&(x.isOpen=!1,this._signal("hide"))},x.tryShow=function(M,k,R,F){if(!F&&x.isOpen&&x.anchorPos&&x.anchor&&x.anchorPos.top===M.top&&x.anchorPos.left===M.left&&x.anchor===R)return!0;var H=this.container,j=window.innerHeight,P=window.innerWidth,ee=this.renderer,J=ee.$maxLines*k*1.4,K={top:0,bottom:0,left:0},ae=j-M.top-3*this.$borderSize-k,Q=M.top-3*this.$borderSize;R||(Q<=ae||ae>=J?R="bottom":R="top"),R==="top"?(K.bottom=M.top-this.$borderSize,K.top=K.bottom-J):R==="bottom"&&(K.top=M.top+k+this.$borderSize,K.bottom=K.top+J);var he=K.top>=0&&K.bottom<=j;if(!F&&!he)return!1;he?ee.$maxPixelHeight=null:R==="top"?ee.$maxPixelHeight=Q:ee.$maxPixelHeight=ae,R==="top"?(H.style.top="",H.style.bottom=j-K.bottom+"px",x.isTopdown=!1):(H.style.top=K.top+"px",H.style.bottom="",x.isTopdown=!0),H.style.display="";var ge=M.left;return ge+H.offsetWidth>P&&(ge=P-H.offsetWidth),H.style.left=ge+"px",H.style.right="",x.isOpen||(x.isOpen=!0,this._signal("show"),_=null),x.anchorPos=M,x.anchor=R,!0},x.show=function(M,k,R){this.tryShow(M,k,R?"bottom":void 0,!0)},x.goTo=function(M){var k=this.getRow(),R=this.session.getLength()-1;switch(M){case"up":k=k<=0?R:k-1;break;case"down":k=k>=R?-1:k+1;break;case"start":k=0;break;case"end":k=R;break}this.setRow(k)},x.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},x.$imageSize=0,x.$borderSize=1,x}return d}();h.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
`,"autocompletion.css",!1),T.AcePopup=u,T.$singleLineEditor=i,T.getAriaId=c}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets"],function(y,T,G){var V=y("../snippets").snippetManager,L=function(){function A(){this.editor=null}return A.prototype.show=function(s,m,h){if(h=h||"",s&&this.editor&&this.editor!==s&&(this.hide(),this.editor=null),!s||!m)return!1;var l=m.snippet?V.getDisplayTextForSnippet(s,m.snippet):m.value;return m.hideInlinePreview||!l||!l.startsWith(h)?!1:(this.editor=s,l=l.slice(h.length),l===""?s.removeGhostText():s.setGhostText(l),!0)},A.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},A.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},A.prototype.destroy=function(){this.hide(),this.editor=null},A}();T.AceInline=L}),ace.define("ace/autocomplete/util",["require","exports","module"],function(y,T,G){T.parForEach=function(L,A,s){var m=0,h=L.length;h===0&&s();for(var l=0;l<h;l++)A(L[l],function(c,i){m++,m===h&&s(c,i)})};var V=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;T.retrievePrecedingIdentifier=function(L,A,s){s=s||V;for(var m=[],h=A-1;h>=0&&s.test(L[h]);h--)m.push(L[h]);return m.reverse().join("")},T.retrieveFollowingIdentifier=function(L,A,s){s=s||V;for(var m=[],h=A;h<L.length&&s.test(L[h]);h++)m.push(L[h]);return m},T.getCompletionPrefix=function(L){var A=L.getCursorPosition(),s=L.session.getLine(A.row),m;return L.completers.forEach((function(h){h.identifierRegexps&&h.identifierRegexps.forEach((function(l){!m&&l&&(m=this.retrievePrecedingIdentifier(s,A.column,l))}).bind(this))}).bind(this)),m||this.retrievePrecedingIdentifier(s,A.column)},T.triggerAutocomplete=function(L){var A=L.getCursorPosition(),s=L.session.getLine(A.row),m=A.column===0?0:A.column-1,h=s[m];return L.completers.some(function(l){if(l.triggerCharacters&&Array.isArray(l.triggerCharacters))return l.triggerCharacters.includes(h)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config"],function(y,T,G){var V=y("./keyboard/hash_handler").HashHandler,L=y("./autocomplete/popup").AcePopup,A=y("./autocomplete/inline").AceInline,s=y("./autocomplete/popup").getAriaId,m=y("./autocomplete/util"),h=y("./lib/lang"),l=y("./lib/dom"),c=y("./snippets").snippetManager,i=y("./config"),u=function(x,C){C.completer&&C.completer.destroy()},d=function(){function x(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new V,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=h.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=h.delayedCall(this.updateDocTooltip.bind(this),50),this.stickySelectionTimer=h.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay)}return x.prototype.$init=function(){return this.popup=new L(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(C){this.insertMatch(),C.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},x.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new A,this.inlineRenderer},x.prototype.getPopup=function(){return this.popup||this.$init()},x.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.stickySelection=!1},x.prototype.$onPopupChange=function(C){if(this.inlineRenderer&&this.inlineEnabled){var _=C?null:this.popup.getData(this.popup.getRow()),$=m.getCompletionPrefix(this.editor);this.inlineRenderer.show(this.editor,_,$)||this.inlineRenderer.hide(),this.$updatePopupPosition()}this.tooltipTimer.call(null,null)},x.prototype.$onPopupShow=function(C){this.$onPopupChange(C),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},x.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var C=this.editor.container.parentNode,_=[];C;)_.push(C),C.addEventListener("scroll",this.onLayoutChange,{passive:!0}),C=C.parentNode;this.$elements=_}},x.prototype.unObserveLayoutChanges=function(){var C=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(_){_.removeEventListener("scroll",C.onLayoutChange,{passive:!0})}),this.$elements=null},x.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},x.prototype.$updatePopupPosition=function(){var C=this.editor,_=C.renderer,$=_.layerConfig.lineHeight,S=_.$cursorLayer.getPixelPosition(this.base,!0);S.left-=this.popup.getTextLeftOffset();var O=C.container.getBoundingClientRect();S.top+=O.top-_.layerConfig.offset,S.left+=O.left-C.renderer.scrollLeft,S.left+=_.gutterWidth;var D={top:S.top,left:S.left};_.$ghostText&&_.$ghostTextWidget&&this.base.row===_.$ghostText.position.row&&(D.top+=_.$ghostTextWidget.el.offsetHeight),!this.popup.tryShow(D,$,"bottom")&&(this.popup.tryShow(S,$,"top")||this.popup.show(S,$))},x.prototype.openPopup=function(C,_,$){this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var S=this.popup.data[this.popup.getRow()];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:s(this.popup.getRow()),inline:this.inlineEnabled}),C.keyBinding.addKeyboardHandler(this.keyboardHandler);var O=this.popup.data.indexOf(S);O&&this.stickySelection?this.popup.setRow(this.autoSelect?O:-1):this.popup.setRow(this.autoSelect?0:-1),$?$&&!_&&this.detach():(this.popup.setTheme(C.getTheme()),this.popup.setFontSize(C.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},x.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},x.prototype.changeListener=function(C){var _=this.editor.selection.lead;(_.row!=this.base.row||_.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},x.prototype.blurListener=function(C){var _=document.activeElement,$=this.editor.textInput.getElement(),S=C.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(C.relatedTarget),O=this.popup&&this.popup.container;_!=$&&_.parentNode!=O&&!S&&_!=this.tooltipNode&&C.relatedTarget!=$&&this.detach()},x.prototype.mousedownListener=function(C){this.detach()},x.prototype.mousewheelListener=function(C){this.detach()},x.prototype.goTo=function(C){this.popup.goTo(C)},x.prototype.insertMatch=function(C,_){if(C||(C=this.popup.getData(this.popup.getRow())),!C)return!1;if(C.value==="")return this.detach();var $=this.completions,S=this.getCompletionProvider().insertMatch(this.editor,C,$.filterText,_);return this.completions==$&&this.detach(),S},x.prototype.showPopup=function(C,_){this.editor&&this.detach(),this.activated=!0,this.editor=C,C.completer!=this&&(C.completer&&C.completer.detach(),C.completer=this),C.on("changeSelection",this.changeListener),C.on("blur",this.blurListener),C.on("mousedown",this.mousedownListener),C.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,_)},x.prototype.getCompletionProvider=function(C){return this.completionProvider||(this.completionProvider=new g(C)),this.completionProvider},x.prototype.gatherCompletions=function(C,_){return this.getCompletionProvider().gatherCompletions(C,_)},x.prototype.updateCompletions=function(C,_){if(C&&this.base&&this.completions){var S=this.editor.getCursorPosition(),O=this.editor.session.getTextRange({start:this.base,end:S});if(O==this.completions.filterText)return;if(this.completions.setFilter(O),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==O&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,O,C);return}if(_&&_.matches){var S=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(S.row,S.column),this.base.$insertRight=!0,this.completions=new v(_.matches),this.openPopup(this.editor,"",C)}var $=this.editor.getSession(),S=this.editor.getCursorPosition(),O=m.getCompletionPrefix(this.editor);this.base=$.doc.createAnchor(S.row,S.column-O.length),this.base.$insertRight=!0;var D={exactMatch:this.exactMatch};this.getCompletionProvider({prefix:O,pos:S}).provideCompletions(this.editor,D,(function(N,M,k){var R=M.filtered,F=m.getCompletionPrefix(this.editor);if(k){if(!R.length){var H=!this.autoShown&&this.emptyMessage;if(typeof H=="function"&&(H=this.emptyMessage(F)),H){var j=[{caption:this.emptyMessage(F),value:""}];this.completions=new v(j),this.openPopup(this.editor,F,C);return}return this.detach()}if(R.length==1&&R[0].value==F&&!R[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&R.length==1)return this.insertMatch(R[0])}this.completions=M,this.openPopup(this.editor,F,C)}).bind(this))},x.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},x.prototype.updateDocTooltip=function(){var C=this.popup,_=C.data,$=_&&(_[C.getHoveredRow()]||_[C.getRow()]),S=null;if(!$||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var O=this.editor.completers.length,D=0;D<O;D++){var N=this.editor.completers[D];if(N.getDocTooltip&&$.completerId===N.id){S=N.getDocTooltip($);break}}if(!S&&typeof $!="string"&&(S=$),typeof S=="string"&&(S={docText:S}),!S||!(S.docHTML||S.docText))return this.hideDocTooltip();this.showDocTooltip(S)},x.prototype.showDocTooltip=function(C){this.tooltipNode||(this.tooltipNode=l.createElement("div"),this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"));var _=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(_.isDark?"ace_dark ":"")+(_.cssClass||"");var $=this.tooltipNode;C.docHTML?$.innerHTML=C.docHTML:C.docText&&($.textContent=C.docText),$.parentNode||this.popup.container.appendChild(this.tooltipNode);var S=this.popup,O=S.container.getBoundingClientRect();$.style.top=S.container.style.top,$.style.bottom=S.container.style.bottom,$.style.display="block",window.innerWidth-O.right<320?O.left<320?S.isTopdown?($.style.top=O.bottom+"px",$.style.left=O.left+"px",$.style.right="",$.style.bottom=""):($.style.top=S.container.offsetTop-$.offsetHeight+"px",$.style.left=O.left+"px",$.style.right="",$.style.bottom=""):($.style.right=window.innerWidth-O.left+"px",$.style.left=""):($.style.left=O.right+1+"px",$.style.right="")},x.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var C=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==C&&this.editor.focus(),this.tooltipNode=null,C.parentNode&&C.parentNode.removeChild(C)}},x.prototype.onTooltipClick=function(C){for(var _=C.target;_&&_!=this.tooltipNode;){if(_.nodeName=="A"&&_.href){_.rel="noreferrer",_.target="_blank";break}_=_.parentNode}},x.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var C=this.popup.container;C&&C.parentNode&&C.parentNode.removeChild(C)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",u),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},x}();d.prototype.commands={Up:function(x){x.completer.goTo("up")},Down:function(x){x.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(x){x.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(x){x.completer.goTo("end")},Esc:function(x){x.completer.detach()},Return:function(x){return x.completer.insertMatch()},"Shift-Return":function(x){x.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(x){var C=x.completer.insertMatch();if(!C&&!x.tabstopManager)x.completer.goTo("down");else return C},PageUp:function(x){x.completer.popup.gotoPageUp()},PageDown:function(x){x.completer.popup.gotoPageDown()}},d.for=function(x){return x.completer instanceof d||(x.completer&&(x.completer.destroy(),x.completer=null),i.get("sharedPopups")?(d.$sharedInstance||(d.$sharedInstance=new d),x.completer=d.$sharedInstance):(x.completer=new d,x.once("destroy",u))),x.completer},d.startCommand={name:"startAutocomplete",exec:function(x,C){var _=d.for(x);_.autoInsert=!1,_.autoSelect=!0,_.autoShown=!1,_.showPopup(x,C),_.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var g=function(){function x(C){this.initialPosition=C,this.active=!0}return x.prototype.insertByIndex=function(C,_,$){return!this.completions||!this.completions.filtered?!1:this.insertMatch(C,this.completions.filtered[_],$)},x.prototype.insertMatch=function(C,_,$){if(!_)return!1;if(C.startOperation({command:{name:"insertMatch"}}),_.completer&&_.completer.insertMatch)_.completer.insertMatch(C,_);else{if(!this.completions)return!1;var S=this.completions.filterText.length,O=0;if(_.range&&_.range.start.row===_.range.end.row&&(S-=this.initialPosition.prefix.length,S+=this.initialPosition.pos.column-_.range.start.column,O+=_.range.end.column-this.initialPosition.pos.column),S||O){var D;C.selection.getAllRanges?D=C.selection.getAllRanges():D=[C.getSelectionRange()];for(var N=0,M;M=D[N];N++)M.start.column-=S,M.end.column+=O,C.session.remove(M)}_.snippet?c.insertSnippet(C,_.snippet):this.$insertString(C,_),_.command&&_.command==="startAutocomplete"&&C.execCommand(_.command)}return C.endOperation(),!0},x.prototype.$insertString=function(C,_){var $=_.value||_;C.execCommand("insertstring",$)},x.prototype.gatherCompletions=function(C,_){var $=C.getSession(),S=C.getCursorPosition(),O=m.getCompletionPrefix(C),D=[];this.completers=C.completers;var N=C.completers.length;return C.completers.forEach(function(M,k){M.getCompletions(C,$,S,O,function(R,F){M.hideInlinePreview&&(F=F.map(function(H){return Object.assign(H,{hideInlinePreview:M.hideInlinePreview})})),!R&&F&&(D=D.concat(F)),_(null,{prefix:m.getCompletionPrefix(C),matches:D,finished:--N===0})})}),!0},x.prototype.provideCompletions=function(C,_,$){var S=(function(M){var k=M.prefix,R=M.matches;this.completions=new v(R),_.exactMatch&&(this.completions.exactMatch=!0),_.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(k),(M.finished||this.completions.filtered.length)&&$(null,this.completions,M.finished)}).bind(this),O=!0,D=null;if(this.gatherCompletions(C,(function(M,k){if(this.active){M&&($(M,[],!0),this.detach());var R=k.prefix;if(R.indexOf(k.prefix)===0){if(O){D=k;return}S(k)}}}).bind(this)),O=!1,D){var N=D;D=null,S(N)}},x.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(C){typeof C.cancel=="function"&&C.cancel()})},x}(),v=function(){function x(C,_){this.all=C,this.filtered=C,this.filterText=_||"",this.exactMatch=!1,this.ignoreCaption=!1}return x.prototype.setFilter=function(C){if(C.length>this.filterText&&C.lastIndexOf(this.filterText,0)===0)var _=this.filtered;else var _=this.all;this.filterText=C,_=this.filterCompletions(_,this.filterText),_=_.sort(function(S,O){return O.exactMatch-S.exactMatch||O.$score-S.$score||(S.caption||S.value).localeCompare(O.caption||O.value)});var $=null;_=_.filter(function(S){var O=S.snippet||S.caption||S.value;return O===$?!1:($=O,!0)}),this.filtered=_},x.prototype.filterCompletions=function(C,_){var $=[],S=_.toUpperCase(),O=_.toLowerCase();e:for(var D=0,N;N=C[D];D++){var M=!this.ignoreCaption&&N.caption||N.value||N.snippet;if(M){var k=-1,R=0,F=0,H,j;if(this.exactMatch){if(_!==M.substr(0,_.length))continue e}else{var P=M.toLowerCase().indexOf(O);if(P>-1)F=P;else for(var ee=0;ee<_.length;ee++){var J=M.indexOf(O[ee],k+1),K=M.indexOf(S[ee],k+1);if(H=J>=0&&(K<0||J<K)?J:K,H<0)continue e;j=H-k-1,j>0&&(k===-1&&(F+=10),F+=j,R=R|1<<ee),k=H}}N.matchMask=R,N.exactMatch=F?0:1,N.$score=(N.score||0)-F,$.push(N)}}return $},x}();T.Autocomplete=d,T.CompletionProvider=g,T.FilteredList=v}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(y,T,G){var V=y("../range").Range,L=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function A(m,h){var l=m.getTextRange(V.fromPoints({row:0,column:0},h));return l.split(L).length-1}function s(m,h){var l=A(m,h),c=m.getValue().split(L),i=Object.create(null),u=c[l];return c.forEach(function(d,g){if(!(!d||d===u)){var v=Math.abs(l-g),x=c.length-v;i[d]?i[d]=Math.max(x,i[d]):i[d]=x}}),i}T.getCompletions=function(m,h,l,c,i){var u=s(h,l),d=Object.keys(u);i(null,d.map(function(g){return{caption:g,value:g,score:u[g],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(y,T,G){var V=y("../snippets").snippetManager,L=y("../autocomplete").Autocomplete,A=y("../config"),s=y("../lib/lang"),m=y("../autocomplete/util"),h=y("../autocomplete/text_completer"),l={getCompletions:function(D,N,M,k,R){if(N.$mode.completer)return N.$mode.completer.getCompletions(D,N,M,k,R);var F=D.session.getState(M.row),H=N.$mode.getCompletions(F,N,M,k);H=H.map(function(j){return j.completerId=l.id,j}),R(null,H)},id:"keywordCompleter"},c=function(D){var N={};return D.replace(/\${(\d+)(:(.*?))?}/g,function(M,k,R,F){return N[k]=F||""}).replace(/\$(\d+?)/g,function(M,k){return N[k]})},i={getCompletions:function(D,N,M,k,R){var F=[],H=N.getTokenAt(M.row,M.column);H&&H.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?F.push("html-tag"):F=V.getActiveScopes(D);var j=V.snippetMap,P=[];F.forEach(function(ee){for(var J=j[ee]||[],K=J.length;K--;){var ae=J[K],Q=ae.name||ae.tabTrigger;Q&&P.push({caption:Q,snippet:ae.content,meta:ae.tabTrigger&&!ae.name?ae.tabTrigger+"⇥ ":"snippet",completerId:i.id})}},this),R(null,P)},getDocTooltip:function(D){D.snippet&&!D.docHTML&&(D.docHTML=["<b>",s.escapeHTML(D.caption),"</b>","<hr></hr>",s.escapeHTML(c(D.snippet))].join(""))},id:"snippetCompleter"},u=[i,h,l];T.setCompleters=function(D){u.length=0,D&&u.push.apply(u,D)},T.addCompleter=function(D){u.push(D)},T.textCompleter=h,T.keyWordCompleter=l,T.snippetCompleter=i;var d={name:"expandSnippet",exec:function(D){return V.expandWithTab(D)},bindKey:"Tab"},g=function(D,N){v(N.session.$mode)},v=function(D){typeof D=="string"&&(D=A.$modes[D]),D&&(V.files||(V.files={}),x(D.$id,D.snippetFileId),D.modes&&D.modes.forEach(v))},x=function(D,N){!N||!D||V.files[D]||(V.files[D]={},A.loadModule(N,function(M){M&&(V.files[D]=M,!M.snippets&&M.snippetText&&(M.snippets=V.parseSnippetFile(M.snippetText)),V.register(M.snippets||[],M.scope),M.includeScopes&&(V.snippetMap[M.scope].includeScopes=M.includeScopes,M.includeScopes.forEach(function(k){v("ace/mode/"+k)})))}))},C=function(D){var N=D.editor,M=N.completer&&N.completer.activated;if(D.command.name==="backspace")M&&!m.getCompletionPrefix(N)&&N.completer.detach();else if(D.command.name==="insertstring"&&!M){_=D;var k=D.editor.$liveAutocompletionDelay;k?$.delay(k):S(D)}},_,$=s.delayedCall(function(){S(_)},0),S=function(D){var N=D.editor,M=m.getCompletionPrefix(N),k=m.triggerAutocomplete(N);if(M&&M.length>=N.$liveAutocompletionThreshold||k){var R=L.for(N);R.autoShown=!0,R.showPopup(N)}},O=y("../editor").Editor;y("../config").defineOptions(O.prototype,"editor",{enableBasicAutocompletion:{set:function(D){D?(this.completers||(this.completers=Array.isArray(D)?D:u),this.commands.addCommand(L.startCommand)):this.commands.removeCommand(L.startCommand)},value:!1},enableLiveAutocompletion:{set:function(D){D?(this.completers||(this.completers=Array.isArray(D)?D:u),this.commands.on("afterExec",C)):this.commands.off("afterExec",C)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(D){D?(this.commands.addCommand(d),this.on("changeMode",g),g(null,this)):(this.commands.removeCommand(d),this.off("changeMode",g))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(y){o&&(o.exports=y)})}()})(bde);var xde={exports:{}};(function(o,b){ace.define("ace/theme/dracula-css",["require","exports","module"],function(y,T,G){G.exports=`/*
 * Copyright © 2017 Zeno Rocha <hi@zenorocha.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

.ace-dracula .ace_gutter {
  background: #282a36;
  color: rgb(144,145,148)
}

.ace-dracula .ace_print-margin {
  width: 1px;
  background: #44475a
}

.ace-dracula {
  background-color: #282a36;
  color: #f8f8f2
}

.ace-dracula .ace_cursor {
  color: #f8f8f0
}

.ace-dracula .ace_marker-layer .ace_selection {
  background: #44475a
}

.ace-dracula.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #282a36;
  border-radius: 2px
}

.ace-dracula .ace_marker-layer .ace_step {
  background: rgb(198, 219, 174)
}

.ace-dracula .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #a29709
}

.ace-dracula .ace_marker-layer .ace_active-line {
  background: #44475a
}

.ace-dracula .ace_gutter-active-line {
  background-color: #44475a
}

.ace-dracula .ace_marker-layer .ace_selected-word {
  box-shadow: 0px 0px 0px 1px #a29709;
  border-radius: 3px;
}

.ace-dracula .ace_fold {
  background-color: #50fa7b;
  border-color: #f8f8f2
}

.ace-dracula .ace_keyword {
  color: #ff79c6
}

.ace-dracula .ace_constant.ace_language {
  color: #bd93f9
}

.ace-dracula .ace_constant.ace_numeric {
  color: #bd93f9
}

.ace-dracula .ace_constant.ace_character {
  color: #bd93f9
}

.ace-dracula .ace_constant.ace_character.ace_escape {
  color: #ff79c6
}

.ace-dracula .ace_constant.ace_other {
  color: #bd93f9
}

.ace-dracula .ace_support.ace_function {
  color: #8be9fd
}

.ace-dracula .ace_support.ace_constant {
  color: #6be5fd
}

.ace-dracula .ace_support.ace_class {
  font-style: italic;
  color: #66d9ef
}

.ace-dracula .ace_support.ace_type {
  font-style: italic;
  color: #66d9ef
}

.ace-dracula .ace_storage {
  color: #ff79c6
}

.ace-dracula .ace_storage.ace_type {
  font-style: italic;
  color: #8be9fd
}

.ace-dracula .ace_invalid {
  color: #F8F8F0;
  background-color: #ff79c6
}

.ace-dracula .ace_invalid.ace_deprecated {
  color: #F8F8F0;
  background-color: #bd93f9
}

.ace-dracula .ace_string {
  color: #f1fa8c
}

.ace-dracula .ace_comment {
  color: #6272a4
}

.ace-dracula .ace_variable {
  color: #50fa7b
}

.ace-dracula .ace_variable.ace_parameter {
  font-style: italic;
  color: #ffb86c
}

.ace-dracula .ace_entity.ace_other.ace_attribute-name {
  color: #50fa7b
}

.ace-dracula .ace_entity.ace_name.ace_function {
  color: #50fa7b
}

.ace-dracula .ace_entity.ace_name.ace_tag {
  color: #ff79c6
}
.ace-dracula .ace_invisible {
  color: #626680;
}

.ace-dracula .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHB3d/8PAAOIAdULw8qMAAAAAElFTkSuQmCC) right repeat-y
}

.ace-dracula .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACAQMAAACjTyRkAAAABlBMVEUAAADCwsK76u2xAAAAAXRSTlMAQObYZgAAAAxJREFUCNdjYGBoAAAAhACBGFbxzQAAAABJRU5ErkJggg==") right repeat-y;
}
`}),ace.define("ace/theme/dracula",["require","exports","module","ace/theme/dracula-css","ace/lib/dom"],function(y,T,G){T.isDark=!0,T.cssClass="ace-dracula",T.cssText=y("./dracula-css"),T.$selectionColorConflict=!0;var V=y("../lib/dom");V.importCssString(T.cssText,T.cssClass,!1)}),function(){ace.require(["ace/theme/dracula"],function(y){o&&(o.exports=y)})}()})(xde);function Br(o,b){return y=>Object.keys(o).reduce((T,G)=>{const L=typeof o[G]=="object"&&o[G]!=null&&!Array.isArray(o[G])?o[G]:{type:o[G]};return y&&G in y?T[G]={...L,default:y[G]}:T[G]=L,b&&!T[G].source&&(T[G].source=b),T},{})}const ts=Br({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component"),yl=typeof window<"u",xq=yl&&"IntersectionObserver"in window,wde=yl&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function wae(o,b,y){const T=b.length-1;if(T<0)return o===void 0?y:o;for(let G=0;G<T;G++){if(o==null)return y;o=o[b[G]]}return o==null||o[b[T]]===void 0?y:o[b[T]]}function b3(o,b){if(o===b)return!0;if(o instanceof Date&&b instanceof Date&&o.getTime()!==b.getTime()||o!==Object(o)||b!==Object(b))return!1;const y=Object.keys(o);return y.length!==Object.keys(b).length?!1:y.every(T=>b3(o[T],b[T]))}function v3(o,b,y){return o==null||!b||typeof b!="string"?y:o[b]!==void 0?o[b]:(b=b.replace(/\[(\w+)\]/g,".$1"),b=b.replace(/^\./,""),wae(o,b.split("."),y))}function lh(o,b,y){if(b===!0)return o===void 0?y:o;if(b==null||typeof b=="boolean")return y;if(o!==Object(o)){if(typeof b!="function")return y;const G=b(o,y);return typeof G>"u"?y:G}if(typeof b=="string")return v3(o,b,y);if(Array.isArray(b))return wae(o,b,y);if(typeof b!="function")return y;const T=b(o,y);return typeof T>"u"?y:T}function AE(o){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:o},(y,T)=>b+T)}function ra(o){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(o==null||o===""))return isNaN(+o)?String(o):isFinite(+o)?`${Number(o)}${b}`:void 0}function wQ(o){return o!==null&&typeof o=="object"&&!Array.isArray(o)}function CQ(o){return o&&"$el"in o?o.$el:o}const Pne=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),Cde=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function GJ(o,b){return b.every(y=>o.hasOwnProperty(y))}function ME(o,b,y){const T=Object.create(null),G=Object.create(null);for(const V in o)b.some(L=>L instanceof RegExp?L.test(V):L===V)&&!(y!=null&&y.some(L=>L===V))?T[V]=o[V]:G[V]=o[V];return[T,G]}function PE(o,b){const y={...o};return b.forEach(T=>delete y[T]),y}const Cae=/^on[^a-z]/,wq=o=>Cae.test(o),Sde=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function Cq(o){const[b,y]=ME(o,[Cae]),T=PE(b,Sde),[G,V]=ME(y,["class","style","id",/^data-/]);return Object.assign(G,b),Object.assign(V,T),[G,V]}function xd(o){return o==null?[]:Array.isArray(o)?o:[o]}function yg(o){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(b,Math.min(y,o))}function Ine(o){const b=o.toString().trim();return b.includes(".")?b.length-b.indexOf(".")-1:0}function Nne(o,b){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return o+y.repeat(Math.max(0,b-o.length))}function Tde(o){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const y=[];let T=0;for(;T<o.length;)y.push(o.substr(T,b)),T+=b;return y}function gg(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments.length>2?arguments[2]:void 0;const T={};for(const G in o)T[G]=o[G];for(const G in b){const V=o[G],L=b[G];if(wQ(V)&&wQ(L)){T[G]=gg(V,L,y);continue}if(Array.isArray(V)&&Array.isArray(L)&&y){T[G]=y(V,L);continue}T[G]=L}return T}function Sae(o){return o.map(b=>b.type===Uo?Sae(b.children):b).flat()}function p3(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(p3.cache.has(o))return p3.cache.get(o);const b=o.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return p3.cache.set(o,b),b}p3.cache=new Map;function A6(o,b){if(!b||typeof b!="object")return[];if(Array.isArray(b))return b.map(y=>A6(o,y)).flat(1);if(Array.isArray(b.children))return b.children.map(y=>A6(o,y)).flat(1);if(b.component){if(Object.getOwnPropertySymbols(b.component.provides).includes(o))return[b.component];if(b.component.subTree)return A6(o,b.component.subTree).flat(1)}return[]}function Sq(o){const b=ih({}),y=on(o);return fh(()=>{for(const T in y.value)b[T]=y.value[T]},{flush:"sync"}),GB(b)}function xB(o,b){return o.includes(b)}function Tae(o){return o[2].toLowerCase()+o.slice(3)}const M0=()=>[Function,Array];function Fne(o,b){return b="on"+_0(b),!!(o[b]||o[`${b}Once`]||o[`${b}Capture`]||o[`${b}OnceCapture`]||o[`${b}CaptureOnce`])}function kae(o){for(var b=arguments.length,y=new Array(b>1?b-1:0),T=1;T<b;T++)y[T-1]=arguments[T];if(Array.isArray(o))for(const G of o)G(...y);else typeof o=="function"&&o(...y)}function wB(o){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const y=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(T=>`${T}${b?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...o.querySelectorAll(y)]}function Aae(o,b,y){let T,G=o.indexOf(document.activeElement);const V=b==="next"?1:-1;do G+=V,T=o[G];while((!T||T.offsetParent==null||!((y==null?void 0:y(T))??!0))&&G<o.length&&G>=0);return T}function CB(o,b){var T,G,V,L;const y=wB(o);if(!b)(o===document.activeElement||!o.contains(document.activeElement))&&((T=y[0])==null||T.focus());else if(b==="first")(G=y[0])==null||G.focus();else if(b==="last")(V=y.at(-1))==null||V.focus();else if(typeof b=="number")(L=y[b])==null||L.focus();else{const A=Aae(y,b);A?A.focus():CB(o,b==="next"?"first":"last")}}function KF(o){return o==null||typeof o=="string"&&o.trim()===""}function Mae(){}function EE(o,b){if(!(yl&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${b})`)))return null;try{return!!o&&o.matches(b)}catch{return null}}const Eae=["top","bottom"],kde=["start","end","left","right"];function SQ(o,b){let[y,T]=o.split(" ");return T||(T=xB(Eae,y)?"start":xB(kde,y)?"top":"center"),{side:Bne(y,b),align:Bne(T,b)}}function Bne(o,b){return o==="start"?b?"right":"left":o==="end"?b?"left":"right":o}function ZJ(o){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[o.side],align:o.align}}function jJ(o){return{side:o.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[o.align]}}function Hne(o){return{side:o.align,align:o.side}}function zne(o){return xB(Eae,o.side)?"y":"x"}class xE{constructor(b){let{x:y,y:T,width:G,height:V}=b;this.x=y,this.y=T,this.width=G,this.height=V}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function Vne(o,b){return{x:{before:Math.max(0,b.left-o.left),after:Math.max(0,o.right-b.right)},y:{before:Math.max(0,b.top-o.top),after:Math.max(0,o.bottom-b.bottom)}}}function Tq(o){const b=o.getBoundingClientRect(),y=getComputedStyle(o),T=y.transform;if(T){let G,V,L,A,s;if(T.startsWith("matrix3d("))G=T.slice(9,-1).split(/, /),V=+G[0],L=+G[5],A=+G[12],s=+G[13];else if(T.startsWith("matrix("))G=T.slice(7,-1).split(/, /),V=+G[0],L=+G[3],A=+G[4],s=+G[5];else return new xE(b);const m=y.transformOrigin,h=b.x-A-(1-V)*parseFloat(m),l=b.y-s-(1-L)*parseFloat(m.slice(m.indexOf(" ")+1)),c=V?b.width/V:o.offsetWidth+1,i=L?b.height/L:o.offsetHeight+1;return new xE({x:h,y:l,width:c,height:i})}else return new xE(b)}function gE(o,b,y){if(typeof o.animate>"u")return{finished:Promise.resolve()};let T;try{T=o.animate(b,y)}catch{return{finished:Promise.resolve()}}return typeof T.finished>"u"&&(T.finished=new Promise(G=>{T.onfinish=()=>{G(T)}})),T}const lB=new WeakMap;function Ade(o,b){Object.keys(b).forEach(y=>{if(wq(y)){const T=Tae(y),G=lB.get(o);if(b[y]==null)G==null||G.forEach(V=>{const[L,A]=V;L===T&&(o.removeEventListener(T,A),G.delete(V))});else if(!G||![...G].some(V=>V[0]===T&&V[1]===b[y])){o.addEventListener(T,b[y]);const V=G||new Set;V.add([T,b[y]]),lB.has(o)||lB.set(o,V)}}else b[y]==null?o.removeAttribute(y):o.setAttribute(y,b[y])})}function Mde(o,b){Object.keys(b).forEach(y=>{if(wq(y)){const T=Tae(y),G=lB.get(o);G==null||G.forEach(V=>{const[L,A]=V;L===T&&(o.removeEventListener(T,A),G.delete(V))})}else o.removeAttribute(y)})}const dE=2.4,Une=.2126729,Wne=.7151522,Gne=.072175,Ede=.55,_de=.58,Rde=.57,Lde=.62,XF=.03,Zne=1.45,Dde=5e-4,$de=1.25,Ode=1.25,jne=.078,Yne=12.82051282051282,JF=.06,Kne=.001;function Xne(o,b){const y=(o.r/255)**dE,T=(o.g/255)**dE,G=(o.b/255)**dE,V=(b.r/255)**dE,L=(b.g/255)**dE,A=(b.b/255)**dE;let s=y*Une+T*Wne+G*Gne,m=V*Une+L*Wne+A*Gne;if(s<=XF&&(s+=(XF-s)**Zne),m<=XF&&(m+=(XF-m)**Zne),Math.abs(m-s)<Dde)return 0;let h;if(m>s){const l=(m**Ede-s**_de)*$de;h=l<Kne?0:l<jne?l-l*Yne*JF:l-JF}else{const l=(m**Lde-s**Rde)*Ode;h=l>-Kne?0:l>-jne?l-l*Yne*JF:l+JF}return h*100}function Pde(o,b){b=Array.isArray(b)?b.slice(0,-1).map(y=>`'${y}'`).join(", ")+` or '${b.at(-1)}'`:`'${b}'`}const SB=.20689655172413793,Ide=o=>o>SB**3?Math.cbrt(o):o/(3*SB**2)+4/29,Nde=o=>o>SB?o**3:3*SB**2*(o-4/29);function _ae(o){const b=Ide,y=b(o[1]);return[116*y-16,500*(b(o[0]/.95047)-y),200*(y-b(o[2]/1.08883))]}function Rae(o){const b=Nde,y=(o[0]+16)/116;return[b(y+o[1]/500)*.95047,b(y),b(y-o[2]/200)*1.08883]}const Fde=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],Bde=o=>o<=.0031308?o*12.92:1.055*o**(1/2.4)-.055,Hde=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],zde=o=>o<=.04045?o/12.92:((o+.055)/1.055)**2.4;function Lae(o){const b=Array(3),y=Bde,T=Fde;for(let G=0;G<3;++G)b[G]=Math.round(yg(y(T[G][0]*o[0]+T[G][1]*o[1]+T[G][2]*o[2]))*255);return{r:b[0],g:b[1],b:b[2]}}function kq(o){let{r:b,g:y,b:T}=o;const G=[0,0,0],V=zde,L=Hde;b=V(b/255),y=V(y/255),T=V(T/255);for(let A=0;A<3;++A)G[A]=L[A][0]*b+L[A][1]*y+L[A][2]*T;return G}function Jne(o){return!!o&&/^(#|var\(--|(rgb|hsl)a?\()/.test(o)}const Qne=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,Vde={rgb:(o,b,y,T)=>({r:o,g:b,b:y,a:T}),rgba:(o,b,y,T)=>({r:o,g:b,b:y,a:T}),hsl:(o,b,y,T)=>qne({h:o,s:b,l:y,a:T}),hsla:(o,b,y,T)=>qne({h:o,s:b,l:y,a:T}),hsv:(o,b,y,T)=>N6({h:o,s:b,v:y,a:T}),hsva:(o,b,y,T)=>N6({h:o,s:b,v:y,a:T})};function S0(o){if(typeof o=="number")return{r:(o&16711680)>>16,g:(o&65280)>>8,b:o&255};if(typeof o=="string"&&Qne.test(o)){const{groups:b}=o.match(Qne),{fn:y,values:T}=b,G=T.split(/,\s*/).map(V=>V.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(y)?parseFloat(V)/100:parseFloat(V));return Vde[y](...G)}else if(typeof o=="string"){let b=o.startsWith("#")?o.slice(1):o;return[3,4].includes(b.length)?b=b.split("").map(y=>y+y).join(""):[6,8].includes(b.length),Wde(b)}else if(typeof o=="object"){if(GJ(o,["r","g","b"]))return o;if(GJ(o,["h","s","l"]))return N6(Dae(o));if(GJ(o,["h","s","v"]))return N6(o)}throw new TypeError(`Invalid color: ${o==null?o:String(o)||o.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function N6(o){const{h:b,s:y,v:T,a:G}=o,V=A=>{const s=(A+b/60)%6;return T-T*y*Math.max(Math.min(s,4-s,1),0)},L=[V(5),V(3),V(1)].map(A=>Math.round(A*255));return{r:L[0],g:L[1],b:L[2],a:G}}function qne(o){return N6(Dae(o))}function Dae(o){const{h:b,s:y,l:T,a:G}=o,V=T+y*Math.min(T,1-T),L=V===0?0:2-2*T/V;return{h:b,s:L,v:V,a:G}}function QF(o){const b=Math.round(o).toString(16);return("00".substr(0,2-b.length)+b).toUpperCase()}function Ude(o){let{r:b,g:y,b:T,a:G}=o;return`#${[QF(b),QF(y),QF(T),G!==void 0?QF(Math.round(G*255)):""].join("")}`}function Wde(o){o=Gde(o);let[b,y,T,G]=Tde(o,2).map(V=>parseInt(V,16));return G=G===void 0?G:G/255,{r:b,g:y,b:T,a:G}}function Gde(o){return o.startsWith("#")&&(o=o.slice(1)),o=o.replace(/([^0-9a-f])/gi,"F"),(o.length===3||o.length===4)&&(o=o.split("").map(b=>b+b).join("")),o.length!==6&&(o=Nne(Nne(o,6),8,"F")),o}function Zde(o,b){const y=_ae(kq(o));return y[0]=y[0]+b*10,Lae(Rae(y))}function jde(o,b){const y=_ae(kq(o));return y[0]=y[0]-b*10,Lae(Rae(y))}function Yde(o){const b=S0(o);return kq(b)[1]}function $ae(o){const b=Math.abs(Xne(S0(0),S0(o)));return Math.abs(Xne(S0(16777215),S0(o)))>Math.min(b,50)?"#fff":"#000"}const _E=Symbol.for("vuetify:defaults");function Kde(o){return No(o)}function Aq(){const o=ni(_E);if(!o)throw new Error("[Vuetify] Could not find defaults instance");return o}function R0(o,b){const y=Aq(),T=No(o),G=on(()=>{if(im(b==null?void 0:b.disabled))return y.value;const L=im(b==null?void 0:b.scoped),A=im(b==null?void 0:b.reset),s=im(b==null?void 0:b.root);if(T.value==null&&!(L||A||s))return y.value;let m=gg(T.value,{prev:y.value});if(L)return m;if(A||s){const h=Number(A||1/0);for(let l=0;l<=h&&!(!m||!("prev"in m));l++)m=m.prev;return m&&typeof s=="string"&&s in m&&(m=gg(gg(m,{prev:m}),m[s])),m}return m.prev?gg(m.prev,m):m});return Gl(_E,G),G}function Xde(o,b){var y,T;return typeof((y=o.props)==null?void 0:y[b])<"u"||typeof((T=o.props)==null?void 0:T[p3(b)])<"u"}function Jde(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=arguments.length>1?arguments[1]:void 0,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Aq();const T=Vu("useDefaults");if(b=b??T.type.name??T.type.__name,!b)throw new Error("[Vuetify] Could not determine component name");const G=on(()=>{var s;return(s=y.value)==null?void 0:s[o._as??b]}),V=new Proxy(o,{get(s,m){var l,c,i,u;const h=Reflect.get(s,m);return m==="class"||m==="style"?[(l=G.value)==null?void 0:l[m],h].filter(d=>d!=null):typeof m=="string"&&!Xde(T.vnode,m)?((c=G.value)==null?void 0:c[m])??((u=(i=y.value)==null?void 0:i.global)==null?void 0:u[m])??h:h}}),L=xa();fh(()=>{if(G.value){const s=Object.entries(G.value).filter(m=>{let[h]=m;return h.startsWith(h[0].toUpperCase())});L.value=s.length?Object.fromEntries(s):void 0}else L.value=void 0});function A(){const s=nhe(_E,T);Gl(_E,on(()=>L.value?gg((s==null?void 0:s.value)??{},L.value):s==null?void 0:s.value))}return{props:V,provideSubDefaults:A}}function IE(o){if(o._setup=o._setup??o.setup,!o.name)return o;if(o._setup){o.props=Br(o.props??{},o.name)();const b=Object.keys(o.props);o.filterProps=function(T){return ME(T,b,["class","style"])},o.props._as=String,o.setup=function(T,G){const V=Aq();if(!V.value)return o._setup(T,G);const{props:L,provideSubDefaults:A}=Jde(T,T._as??o.name,V),s=o._setup(L,G);return A(),s}}return o}function Go(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return b=>(o?IE:YB)(b)}function Qde(o,b){return b.props=o,b}function NE(o){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",y=arguments.length>2?arguments[2]:void 0;return Go()({name:y??_0(bg(o.replace(/__/g,"-"))),props:{tag:{type:String,default:b},...ts()},setup(T,G){let{slots:V}=G;return()=>{var L;return um(T.tag,{class:[o,T.class],style:T.style},(L=V.default)==null?void 0:L.call(V))}}})}function Oae(o){if(typeof o.getRootNode!="function"){for(;o.parentNode;)o=o.parentNode;return o!==document?null:document}const b=o.getRootNode();return b!==document&&b.getRootNode({composed:!0})!==document?null:b}const TB="cubic-bezier(0.4, 0, 0.2, 1)",qde="cubic-bezier(0.0, 0, 0.2, 1)",ehe="cubic-bezier(0.4, 0, 1, 1)";function Vu(o,b){const y=yq();if(!y)throw new Error(`[Vuetify] ${o} ${b||"must be called from inside a setup function"}`);return y}function Uy(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const b=Vu(o).type;return p3((b==null?void 0:b.aliasName)||(b==null?void 0:b.name))}let Pae=0,cB=new WeakMap;function Rp(){const o=Vu("getUid");if(cB.has(o))return cB.get(o);{const b=Pae++;return cB.set(o,b),b}}Rp.reset=()=>{Pae=0,cB=new WeakMap};function Iae(o){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;o;){if(b?the(o):Mq(o))return o;o=o.parentElement}return document.scrollingElement}function kB(o,b){const y=[];if(b&&o&&!b.contains(o))return y;for(;o&&(Mq(o)&&y.push(o),o!==b);)o=o.parentElement;return y}function Mq(o){if(!o||o.nodeType!==Node.ELEMENT_NODE)return!1;const b=window.getComputedStyle(o);return b.overflowY==="scroll"||b.overflowY==="auto"&&o.scrollHeight>o.clientHeight}function the(o){if(!o||o.nodeType!==Node.ELEMENT_NODE)return!1;const b=window.getComputedStyle(o);return["scroll","auto"].includes(b.overflowY)}function nhe(o){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vu("injectSelf");const{provides:y}=b;if(y&&o in y)return y[o]}function rhe(o){for(;o;){if(window.getComputedStyle(o).position==="fixed")return!0;o=o.offsetParent}return!1}function ga(o){const b=Vu("useRender");b.render=o}function tH(o){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const y=No(),T=No();if(yl){const G=new ResizeObserver(V=>{o==null||o(V,G),V.length&&(b==="content"?T.value=V[0].contentRect:T.value=V[0].target.getBoundingClientRect())});dm(()=>{G.disconnect()}),ta(y,(V,L)=>{L&&(G.unobserve(CQ(L)),T.value=void 0),V&&G.observe(CQ(V))},{flush:"post"})}return{resizeRef:y,contentRect:Z6(T)}}const AB=Symbol.for("vuetify:layout"),Nae=Symbol.for("vuetify:layout-item"),ere=1e3,ohe=Br({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),ahe=Br({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function she(){const o=ni(AB);if(!o)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:o.getLayoutItem,mainRect:o.mainRect,mainStyles:o.mainStyles}}function ihe(o){const b=ni(AB);if(!b)throw new Error("[Vuetify] Could not find injected layout");const y=o.id??`layout-item-${Rp()}`,T=Vu("useLayoutItem");Gl(Nae,{id:y});const G=xa(!1);uq(()=>G.value=!0),cq(()=>G.value=!1);const{layoutItemStyles:V,layoutItemScrimStyles:L}=b.register(T,{...o,active:on(()=>G.value?!1:o.active.value),id:y});return dm(()=>b.unregister(y)),{layoutItemStyles:V,layoutRect:b.layoutRect,layoutItemScrimStyles:L}}const lhe=(o,b,y,T)=>{let G={top:0,left:0,right:0,bottom:0};const V=[{id:"",layer:{...G}}];for(const L of o){const A=b.get(L),s=y.get(L),m=T.get(L);if(!A||!s||!m)continue;const h={...G,[A.value]:parseInt(G[A.value],10)+(m.value?parseInt(s.value,10):0)};V.push({id:L,layer:h}),G=h}return V};function che(o){const b=ni(AB,null),y=on(()=>b?b.rootZIndex.value-100:ere),T=No([]),G=ih(new Map),V=ih(new Map),L=ih(new Map),A=ih(new Map),s=ih(new Map),{resizeRef:m,contentRect:h}=tH(),l=on(()=>{const S=new Map,O=o.overlaps??[];for(const D of O.filter(N=>N.includes(":"))){const[N,M]=D.split(":");if(!T.value.includes(N)||!T.value.includes(M))continue;const k=G.get(N),R=G.get(M),F=V.get(N),H=V.get(M);!k||!R||!F||!H||(S.set(M,{position:k.value,amount:parseInt(F.value,10)}),S.set(N,{position:R.value,amount:-parseInt(H.value,10)}))}return S}),c=on(()=>{const S=[...new Set([...L.values()].map(D=>D.value))].sort((D,N)=>D-N),O=[];for(const D of S){const N=T.value.filter(M=>{var k;return((k=L.get(M))==null?void 0:k.value)===D});O.push(...N)}return lhe(O,G,V,A)}),i=on(()=>!Array.from(s.values()).some(S=>S.value)),u=on(()=>c.value[c.value.length-1].layer),d=on(()=>({"--v-layout-left":ra(u.value.left),"--v-layout-right":ra(u.value.right),"--v-layout-top":ra(u.value.top),"--v-layout-bottom":ra(u.value.bottom),...i.value?void 0:{transition:"none"}})),g=on(()=>c.value.slice(1).map((S,O)=>{let{id:D}=S;const{layer:N}=c.value[O],M=V.get(D),k=G.get(D);return{id:D,...N,size:Number(M.value),position:k.value}})),v=S=>g.value.find(O=>O.id===S),x=Vu("createLayout"),C=xa(!1);Cg(()=>{C.value=!0}),Gl(AB,{register:(S,O)=>{let{id:D,order:N,position:M,layoutSize:k,elementSize:R,active:F,disableTransitions:H,absolute:j}=O;L.set(D,N),G.set(D,M),V.set(D,k),A.set(D,F),H&&s.set(D,H);const ee=A6(Nae,x==null?void 0:x.vnode).indexOf(S);ee>-1?T.value.splice(ee,0,D):T.value.push(D);const J=on(()=>g.value.findIndex(he=>he.id===D)),K=on(()=>y.value+c.value.length*2-J.value*2),ae=on(()=>{const he=M.value==="left"||M.value==="right",ge=M.value==="right",Se=M.value==="bottom",ce={[M.value]:0,zIndex:K.value,transform:`translate${he?"X":"Y"}(${(F.value?0:-110)*(ge||Se?-1:1)}%)`,position:j.value||y.value!==ere?"absolute":"fixed",...i.value?void 0:{transition:"none"}};if(!C.value)return ce;const ne=g.value[J.value];if(!ne)throw new Error(`[Vuetify] Could not find layout item "${D}"`);const fe=l.value.get(D);return fe&&(ne[fe.position]+=fe.amount),{...ce,height:he?`calc(100% - ${ne.top}px - ${ne.bottom}px)`:R.value?`${R.value}px`:void 0,left:ge?void 0:`${ne.left}px`,right:ge?`${ne.right}px`:void 0,top:M.value!=="bottom"?`${ne.top}px`:void 0,bottom:M.value!=="top"?`${ne.bottom}px`:void 0,width:he?R.value?`${R.value}px`:void 0:`calc(100% - ${ne.left}px - ${ne.right}px)`}}),Q=on(()=>({zIndex:K.value-1}));return{layoutItemStyles:ae,layoutItemScrimStyles:Q,zIndex:K}},unregister:S=>{L.delete(S),G.delete(S),V.delete(S),A.delete(S),s.delete(S),T.value=T.value.filter(O=>O!==S)},mainRect:u,mainStyles:d,getLayoutItem:v,items:g,layoutRect:h,rootZIndex:y});const _=on(()=>["v-layout",{"v-layout--full-height":o.fullHeight}]),$=on(()=>({zIndex:b?y.value:void 0,position:b?"relative":void 0,overflow:b?"hidden":void 0}));return{layoutClasses:_,layoutStyles:$,getLayoutItem:v,items:g,layoutRect:h,layoutRef:m}}const uhe={badge:"Badge",open:"Open",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{ok:"OK",cancel:"Cancel",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},fhe={af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1};function E2(o,b){let y;function T(){y=XQ(),y.run(()=>b.length?b(()=>{y==null||y.stop(),T()}):b())}ta(o,G=>{G&&!y?T():G||(y==null||y.stop(),y=void 0)},{immediate:!0}),ch(()=>{y==null||y.stop()})}function ri(o,b,y){let T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:l=>l,G=arguments.length>4&&arguments[4]!==void 0?arguments[4]:l=>l;const V=Vu("useProxiedModel"),L=No(o[b]!==void 0?o[b]:y),A=p3(b),m=on(A!==b?()=>{var l,c,i,u;return o[b],!!(((l=V.vnode.props)!=null&&l.hasOwnProperty(b)||(c=V.vnode.props)!=null&&c.hasOwnProperty(A))&&((i=V.vnode.props)!=null&&i.hasOwnProperty(`onUpdate:${b}`)||(u=V.vnode.props)!=null&&u.hasOwnProperty(`onUpdate:${A}`)))}:()=>{var l,c;return o[b],!!((l=V.vnode.props)!=null&&l.hasOwnProperty(b)&&((c=V.vnode.props)!=null&&c.hasOwnProperty(`onUpdate:${b}`)))});E2(()=>!m.value,()=>{ta(()=>o[b],l=>{L.value=l})});const h=on({get(){const l=o[b];return T(m.value?l:L.value)},set(l){const c=G(l),i=ds(m.value?o[b]:L.value);i===c||T(i)===l||(L.value=c,V==null||V.emit(`update:${b}`,c))}});return Object.defineProperty(h,"externalValue",{get:()=>m.value?o[b]:L.value}),h}const tre="$vuetify.",nre=(o,b)=>o.replace(/\{(\d+)\}/g,(y,T)=>String(b[+T])),Fae=(o,b,y)=>function(T){for(var G=arguments.length,V=new Array(G>1?G-1:0),L=1;L<G;L++)V[L-1]=arguments[L];if(!T.startsWith(tre))return nre(T,V);const A=T.replace(tre,""),s=o.value&&y.value[o.value],m=b.value&&y.value[b.value];let h=v3(s,A,null);return h||(`${T}${o.value}`,h=v3(m,A,null)),h||(h=T),typeof h!="string"&&(h=T),nre(h,V)};function Bae(o,b){return(y,T)=>new Intl.NumberFormat([o.value,b.value],T).format(y)}function YJ(o,b,y){const T=ri(o,b,o[b]??y.value);return T.value=o[b]??y.value,ta(y,G=>{o[b]==null&&(T.value=y.value)}),T}function Hae(o){return b=>{const y=YJ(b,"locale",o.current),T=YJ(b,"fallback",o.fallback),G=YJ(b,"messages",o.messages);return{name:"vuetify",current:y,fallback:T,messages:G,t:Fae(y,T,G),n:Bae(y,T),provide:Hae({current:y,fallback:T,messages:G})}}}function dhe(o){const b=xa((o==null?void 0:o.locale)??"en"),y=xa((o==null?void 0:o.fallback)??"en"),T=No({en:uhe,...o==null?void 0:o.messages});return{name:"vuetify",current:b,fallback:y,messages:T,t:Fae(b,y,T),n:Bae(b,y),provide:Hae({current:b,fallback:y,messages:T})}}const MB=Symbol.for("vuetify:locale");function hhe(o){return o.name!=null}function mhe(o){const b=o!=null&&o.adapter&&hhe(o==null?void 0:o.adapter)?o==null?void 0:o.adapter:dhe(o),y=ghe(b,o);return{...b,...y}}function L2(){const o=ni(MB);if(!o)throw new Error("[Vuetify] Could not find injected locale instance");return o}function ghe(o,b){const y=No((b==null?void 0:b.rtl)??fhe),T=on(()=>y.value[o.current.value]??!1);return{isRtl:T,rtl:y,rtlClasses:on(()=>`v-locale--is-${T.value?"rtl":"ltr"}`)}}function Sg(){const o=ni(MB);if(!o)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:o.isRtl,rtlClasses:o.rtlClasses}}const EB=Symbol.for("vuetify:theme"),Gc=Br({theme:String},"theme"),b6={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#BB86FC","primary-darken-1":"#3700B3",secondary:"#03DAC5","secondary-darken-1":"#03DAC5",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}};function phe(){var y,T;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b6;if(!o)return{...b6,isDisabled:!0};const b={};for(const[G,V]of Object.entries(o.themes??{})){const L=V.dark||G==="dark"?(y=b6.themes)==null?void 0:y.dark:(T=b6.themes)==null?void 0:T.light;b[G]=gg(L,V)}return gg(b6,{...o,themes:b})}function vhe(o){const b=phe(o),y=No(b.defaultTheme),T=No(b.themes),G=on(()=>{const h={};for(const[l,c]of Object.entries(T.value)){const i=h[l]={...c,colors:{...c.colors}};if(b.variations)for(const u of b.variations.colors){const d=i.colors[u];if(d)for(const g of["lighten","darken"]){const v=g==="lighten"?Zde:jde;for(const x of AE(b.variations[g],1))i.colors[`${u}-${g}-${x}`]=Ude(v(S0(d),x))}}for(const u of Object.keys(i.colors)){if(/^on-[a-z]/.test(u)||i.colors[`on-${u}`])continue;const d=`on-${u}`,g=S0(i.colors[u]);i.colors[d]=$ae(g)}}return h}),V=on(()=>G.value[y.value]),L=on(()=>{const h=[];V.value.dark&&i3(h,":root",["color-scheme: dark"]),i3(h,":root",rre(V.value));for(const[u,d]of Object.entries(G.value))i3(h,`.v-theme--${u}`,[`color-scheme: ${d.dark?"dark":"normal"}`,...rre(d)]);const l=[],c=[],i=new Set(Object.values(G.value).flatMap(u=>Object.keys(u.colors)));for(const u of i)/^on-[a-z]/.test(u)?i3(c,`.${u}`,[`color: rgb(var(--v-theme-${u})) !important`]):(i3(l,`.bg-${u}`,[`--v-theme-overlay-multiplier: var(--v-theme-${u}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${u})) !important`,`color: rgb(var(--v-theme-on-${u})) !important`]),i3(c,`.text-${u}`,[`color: rgb(var(--v-theme-${u})) !important`]),i3(c,`.border-${u}`,[`--v-border-color: var(--v-theme-${u})`]));return h.push(...l,...c),h.map((u,d)=>d===0?u:`    ${u}`).join("")});function A(){return{style:[{children:L.value,id:"vuetify-theme-stylesheet",nonce:b.cspNonce||!1}]}}function s(h){if(b.isDisabled)return;const l=h._context.provides.usehead;if(l)if(l.push){const c=l.push(A);yl&&ta(L,()=>{c.patch(A)})}else yl?(l.addHeadObjs(on(A)),fh(()=>l.updateDOM())):l.addHeadObjs(A());else{let i=function(){if(typeof document<"u"&&!c){const u=document.createElement("style");u.type="text/css",u.id="vuetify-theme-stylesheet",b.cspNonce&&u.setAttribute("nonce",b.cspNonce),c=u,document.head.appendChild(c)}c&&(c.innerHTML=L.value)},c=yl?document.getElementById("vuetify-theme-stylesheet"):null;yl?ta(L,i,{immediate:!0}):i()}}const m=on(()=>b.isDisabled?void 0:`v-theme--${y.value}`);return{install:s,isDisabled:b.isDisabled,name:y,themes:T,current:V,computedThemes:G,themeClasses:m,styles:L,global:{name:y,current:V}}}function Uu(o){Vu("provideTheme");const b=ni(EB,null);if(!b)throw new Error("Could not find Vuetify theme injection");const y=on(()=>o.theme??b.name.value),T=on(()=>b.themes.value[y.value]),G=on(()=>b.isDisabled?void 0:`v-theme--${y.value}`),V={...b,name:y,current:T,themeClasses:G};return Gl(EB,V),V}function i3(o,b,y){o.push(`${b} {
`,...y.map(T=>`  ${T};
`),`}
`)}function rre(o){const b=o.dark?2:1,y=o.dark?1:2,T=[];for(const[G,V]of Object.entries(o.colors)){const L=S0(V);T.push(`--v-theme-${G}: ${L.r},${L.g},${L.b}`),G.startsWith("on-")||T.push(`--v-theme-${G}-overlay-multiplier: ${Yde(V)>.18?b:y}`)}for(const[G,V]of Object.entries(o.variables)){const L=typeof V=="string"&&V.startsWith("#")?S0(V):void 0,A=L?`${L.r}, ${L.g}, ${L.b}`:void 0;T.push(`--v-${G}: ${A??V}`)}return T}const yhe=Br({...ts(),...ohe({fullHeight:!0}),...Gc()},"VApp"),bhe=Go()({name:"VApp",props:yhe(),setup(o,b){let{slots:y}=b;const T=Uu(o),{layoutClasses:G,getLayoutItem:V,items:L,layoutRef:A}=che(o),{rtlClasses:s}=Sg();return ga(()=>{var m;return ct("div",{ref:A,class:["v-application",T.themeClasses.value,G.value,s.value,o.class],style:[o.style]},[ct("div",{class:"v-application__wrap"},[(m=y.default)==null?void 0:m.call(y)])])}),{getLayoutItem:V,items:L,theme:T}}});const mc=Br({tag:{type:String,default:"div"}},"tag"),xhe=Br({text:String,...ts(),...mc()},"VToolbarTitle"),whe=Go()({name:"VToolbarTitle",props:xhe(),setup(o,b){let{slots:y}=b;return ga(()=>{const T=!!(y.default||y.text||o.text);return ct(o.tag,{class:["v-toolbar-title",o.class],style:o.style},{default:()=>{var G;return[T&&ct("div",{class:"v-toolbar-title__placeholder"},[y.text?y.text():o.text,(G=y.default)==null?void 0:G.call(y)])]}})}),{}}}),Che=Br({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function hm(o,b,y){return Go()({name:o,props:Che({mode:y,origin:b}),setup(T,G){let{slots:V}=G;const L={onBeforeEnter(A){T.origin&&(A.style.transformOrigin=T.origin)},onLeave(A){if(T.leaveAbsolute){const{offsetTop:s,offsetLeft:m,offsetWidth:h,offsetHeight:l}=A;A._transitionInitialStyles={position:A.style.position,top:A.style.top,left:A.style.left,width:A.style.width,height:A.style.height},A.style.position="absolute",A.style.top=`${s}px`,A.style.left=`${m}px`,A.style.width=`${h}px`,A.style.height=`${l}px`}T.hideOnLeave&&A.style.setProperty("display","none","important")},onAfterLeave(A){if(T.leaveAbsolute&&(A!=null&&A._transitionInitialStyles)){const{position:s,top:m,left:h,width:l,height:c}=A._transitionInitialStyles;delete A._transitionInitialStyles,A.style.position=s||"",A.style.top=m||"",A.style.left=h||"",A.style.width=l||"",A.style.height=c||""}}};return()=>{const A=T.group?Ofe:Hy;return um(A,{name:T.disabled?"":o,css:!T.disabled,...T.group?void 0:{mode:T.mode},...T.disabled?{}:L},V.default)}}})}function zae(o,b){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return Go()({name:o,props:{mode:{type:String,default:y},disabled:Boolean},setup(T,G){let{slots:V}=G;return()=>um(Hy,{name:T.disabled?"":o,css:!T.disabled,...T.disabled?{}:b},V.default)}})}function Vae(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const y=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",T=bg(`offset-${y}`);return{onBeforeEnter(L){L._parent=L.parentNode,L._initialStyle={transition:L.style.transition,overflow:L.style.overflow,[y]:L.style[y]}},onEnter(L){const A=L._initialStyle;L.style.setProperty("transition","none","important"),L.style.overflow="hidden";const s=`${L[T]}px`;L.style[y]="0",L.offsetHeight,L.style.transition=A.transition,o&&L._parent&&L._parent.classList.add(o),requestAnimationFrame(()=>{L.style[y]=s})},onAfterEnter:V,onEnterCancelled:V,onLeave(L){L._initialStyle={transition:"",overflow:L.style.overflow,[y]:L.style[y]},L.style.overflow="hidden",L.style[y]=`${L[T]}px`,L.offsetHeight,requestAnimationFrame(()=>L.style[y]="0")},onAfterLeave:G,onLeaveCancelled:G};function G(L){o&&L._parent&&L._parent.classList.remove(o),V(L)}function V(L){const A=L._initialStyle[y];L.style.overflow=L._initialStyle.overflow,A!=null&&(L.style[y]=A),delete L._initialStyle}}const She=Br({target:Object},"v-dialog-transition"),Eq=Go()({name:"VDialogTransition",props:She(),setup(o,b){let{slots:y}=b;const T={onBeforeEnter(G){G.style.pointerEvents="none",G.style.visibility="hidden"},async onEnter(G,V){var c;await new Promise(i=>requestAnimationFrame(i)),await new Promise(i=>requestAnimationFrame(i)),G.style.visibility="";const{x:L,y:A,sx:s,sy:m,speed:h}=are(o.target,G),l=gE(G,[{transform:`translate(${L}px, ${A}px) scale(${s}, ${m})`,opacity:0},{}],{duration:225*h,easing:qde});(c=ore(G))==null||c.forEach(i=>{gE(i,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*h,easing:TB})}),l.finished.then(()=>V())},onAfterEnter(G){G.style.removeProperty("pointer-events")},onBeforeLeave(G){G.style.pointerEvents="none"},async onLeave(G,V){var c;await new Promise(i=>requestAnimationFrame(i));const{x:L,y:A,sx:s,sy:m,speed:h}=are(o.target,G);gE(G,[{},{transform:`translate(${L}px, ${A}px) scale(${s}, ${m})`,opacity:0}],{duration:125*h,easing:ehe}).finished.then(()=>V()),(c=ore(G))==null||c.forEach(i=>{gE(i,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*h,easing:TB})})},onAfterLeave(G){G.style.removeProperty("pointer-events")}};return()=>o.target?ct(Hy,Jo({name:"dialog-transition"},T,{css:!1}),y):ct(Hy,{name:"dialog-transition"},y)}});function ore(o){var y;const b=(y=o.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:y.children;return b&&[...b]}function are(o,b){const y=o.getBoundingClientRect(),T=Tq(b),[G,V]=getComputedStyle(b).transformOrigin.split(" ").map(v=>parseFloat(v)),[L,A]=getComputedStyle(b).getPropertyValue("--v-overlay-anchor-origin").split(" ");let s=y.left+y.width/2;L==="left"||A==="left"?s-=y.width/2:(L==="right"||A==="right")&&(s+=y.width/2);let m=y.top+y.height/2;L==="top"||A==="top"?m-=y.height/2:(L==="bottom"||A==="bottom")&&(m+=y.height/2);const h=y.width/T.width,l=y.height/T.height,c=Math.max(1,h,l),i=h/c||0,u=l/c||0,d=T.width*T.height/(window.innerWidth*window.innerHeight),g=d>.12?Math.min(1.5,(d-.12)*10+1):1;return{x:s-(G+T.left),y:m-(V+T.top),sx:i,sy:u,speed:g}}hm("fab-transition","center center","out-in");hm("dialog-bottom-transition");hm("dialog-top-transition");hm("fade-transition");const The=hm("scale-transition");hm("scroll-x-transition");hm("scroll-x-reverse-transition");hm("scroll-y-transition");hm("scroll-y-reverse-transition");hm("slide-x-transition");hm("slide-x-reverse-transition");const Uae=hm("slide-y-transition");hm("slide-y-reverse-transition");const _q=zae("expand-transition",Vae()),Wae=zae("expand-x-transition",Vae("",!0)),khe=Br({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Ac=Go(!1)({name:"VDefaultsProvider",props:khe(),setup(o,b){let{slots:y}=b;const{defaults:T,disabled:G,reset:V,root:L,scoped:A}=GB(o);return R0(T,{reset:V,root:L,scoped:A,disabled:G}),()=>{var s;return(s=y.default)==null?void 0:s.call(y)}}});const x3=Br({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function w3(o){return{dimensionStyles:on(()=>({height:ra(o.height),maxHeight:ra(o.maxHeight),maxWidth:ra(o.maxWidth),minHeight:ra(o.minHeight),minWidth:ra(o.minWidth),width:ra(o.width)}))}}function Ahe(o){return{aspectStyles:on(()=>{const b=Number(o.aspectRatio);return b?{paddingBottom:String(1/b*100)+"%"}:void 0})}}const Gae=Br({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...ts(),...x3()},"VResponsive"),sre=Go()({name:"VResponsive",props:Gae(),setup(o,b){let{slots:y}=b;const{aspectStyles:T}=Ahe(o),{dimensionStyles:G}=w3(o);return ga(()=>{var V;return ct("div",{class:["v-responsive",{"v-responsive--inline":o.inline},o.class],style:[G.value,o.style]},[ct("div",{class:"v-responsive__sizer",style:T.value},null),(V=y.additional)==null?void 0:V.call(y),y.default&&ct("div",{class:["v-responsive__content",o.contentClass]},[y.default()])])}),{}}}),C3=Br({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:o=>o!==!0}},"transition"),T2=(o,b)=>{let{slots:y}=b;const{transition:T,disabled:G,...V}=o,{component:L=Hy,...A}=typeof T=="object"?T:{};return um(L,Jo(typeof T=="string"?{name:G?"":T}:A,V,{disabled:G}),y)};function Mhe(o,b){if(!xq)return;const y=b.modifiers||{},T=b.value,{handler:G,options:V}=typeof T=="object"?T:{handler:T,options:{}},L=new IntersectionObserver(function(){var l;let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=arguments.length>1?arguments[1]:void 0;const m=(l=o._observe)==null?void 0:l[b.instance.$.uid];if(!m)return;const h=A.some(c=>c.isIntersecting);G&&(!y.quiet||m.init)&&(!y.once||h||m.init)&&G(h,A,s),h&&y.once?Zae(o,b):m.init=!0},V);o._observe=Object(o._observe),o._observe[b.instance.$.uid]={init:!1,observer:L},L.observe(o)}function Zae(o,b){var T;const y=(T=o._observe)==null?void 0:T[b.instance.$.uid];y&&(y.observer.unobserve(o),delete o._observe[b.instance.$.uid])}const Ehe={mounted:Mhe,unmounted:Zae},Rq=Ehe,_he=Br({alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,...Gae(),...ts(),...C3()},"VImg"),Y6=Go()({name:"VImg",directives:{intersect:Rq},props:_he(),emits:{loadstart:o=>!0,load:o=>!0,error:o=>!0},setup(o,b){let{emit:y,slots:T}=b;const G=xa(""),V=No(),L=xa(o.eager?"loading":"idle"),A=xa(),s=xa(),m=on(()=>o.src&&typeof o.src=="object"?{src:o.src.src,srcset:o.srcset||o.src.srcset,lazySrc:o.lazySrc||o.src.lazySrc,aspect:Number(o.aspectRatio||o.src.aspect||0)}:{src:o.src,srcset:o.srcset,lazySrc:o.lazySrc,aspect:Number(o.aspectRatio||0)}),h=on(()=>m.value.aspect||A.value/s.value||0);ta(()=>o.src,()=>{l(L.value!=="idle")}),ta(h,(D,N)=>{!D&&N&&V.value&&g(V.value)}),fq(()=>l());function l(D){if(!(o.eager&&D)&&!(xq&&!D&&!o.eager)){if(L.value="loading",m.value.lazySrc){const N=new Image;N.src=m.value.lazySrc,g(N,null)}m.value.src&&Ll(()=>{var N,M;if(y("loadstart",((N=V.value)==null?void 0:N.currentSrc)||m.value.src),(M=V.value)!=null&&M.complete){if(V.value.naturalWidth||i(),L.value==="error")return;h.value||g(V.value,null),c()}else h.value||g(V.value),u()})}}function c(){var D;u(),L.value="loaded",y("load",((D=V.value)==null?void 0:D.currentSrc)||m.value.src)}function i(){var D;L.value="error",y("error",((D=V.value)==null?void 0:D.currentSrc)||m.value.src)}function u(){const D=V.value;D&&(G.value=D.currentSrc||D.src)}let d=-1;function g(D){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const M=()=>{clearTimeout(d);const{naturalHeight:k,naturalWidth:R}=D;k||R?(A.value=R,s.value=k):!D.complete&&L.value==="loading"&&N!=null?d=window.setTimeout(M,N):(D.currentSrc.endsWith(".svg")||D.currentSrc.startsWith("data:image/svg+xml"))&&(A.value=1,s.value=1)};M()}const v=on(()=>({"v-img__img--cover":o.cover,"v-img__img--contain":!o.cover})),x=()=>{var M;if(!m.value.src||L.value==="idle")return null;const D=ct("img",{class:["v-img__img",v.value],src:m.value.src,srcset:m.value.srcset,alt:o.alt,sizes:o.sizes,ref:V,onLoad:c,onError:i},null),N=(M=T.sources)==null?void 0:M.call(T);return ct(T2,{transition:o.transition,appear:!0},{default:()=>[lu(N?ct("picture",{class:"v-img__picture"},[N,D]):D,[[R2,L.value==="loaded"]])]})},C=()=>ct(T2,{transition:o.transition},{default:()=>[m.value.lazySrc&&L.value!=="loaded"&&ct("img",{class:["v-img__img","v-img__img--preload",v.value],src:m.value.lazySrc,alt:o.alt},null)]}),_=()=>T.placeholder?ct(T2,{transition:o.transition,appear:!0},{default:()=>[(L.value==="loading"||L.value==="error"&&!T.error)&&ct("div",{class:"v-img__placeholder"},[T.placeholder()])]}):null,$=()=>T.error?ct(T2,{transition:o.transition,appear:!0},{default:()=>[L.value==="error"&&ct("div",{class:"v-img__error"},[T.error()])]}):null,S=()=>o.gradient?ct("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${o.gradient})`}},null):null,O=xa(!1);{const D=ta(h,N=>{N&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{O.value=!0})}),D())})}return ga(()=>{const[D]=sre.filterProps(o);return lu(ct(sre,Jo({class:["v-img",{"v-img--booting":!O.value},o.class],style:[{width:ra(o.width==="auto"?A.value:o.width)},o.style]},D,{aspectRatio:h.value,"aria-label":o.alt,role:o.alt?"img":void 0}),{additional:()=>ct(Uo,null,[ct(x,null,null),ct(C,null,null),ct(S,null,null),ct(_,null,null),ct($,null,null)]),default:T.default}),[[_p("intersect"),{handler:l,options:o.options},null,{once:!0}]])}),{currentSrc:G,image:V,state:L,naturalWidth:A,naturalHeight:s}}}),S3=Br({border:[Boolean,Number,String]},"border");function T3(o){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uy();return{borderClasses:on(()=>{const T=Wl(o)?o.value:o.border,G=[];if(T===!0||T==="")G.push(`${b}--border`);else if(typeof T=="string"||T===0)for(const V of String(T).split(" "))G.push(`border-${V}`);return G})}}function Lq(o){return Sq(()=>{const b=[],y={};if(o.value.background)if(Jne(o.value.background)){if(y.backgroundColor=o.value.background,!o.value.text){const T=S0(o.value.background);if(T.a==null||T.a===1){const G=$ae(T);y.color=G,y.caretColor=G}}}else b.push(`bg-${o.value.background}`);return o.value.text&&(Jne(o.value.text)?(y.color=o.value.text,y.caretColor=o.value.text):b.push(`text-${o.value.text}`)),{colorClasses:b,colorStyles:y}})}function xg(o,b){const y=on(()=>({text:Wl(o)?o.value:b?o[b]:null})),{colorClasses:T,colorStyles:G}=Lq(y);return{textColorClasses:T,textColorStyles:G}}function wg(o,b){const y=on(()=>({background:Wl(o)?o.value:b?o[b]:null})),{colorClasses:T,colorStyles:G}=Lq(y);return{backgroundColorClasses:T,backgroundColorStyles:G}}const Wy=Br({elevation:{type:[Number,String],validator(o){const b=parseInt(o);return!isNaN(b)&&b>=0&&b<=24}}},"elevation");function Gy(o){return{elevationClasses:on(()=>{const y=Wl(o)?o.value:o.elevation,T=[];return y==null||T.push(`elevation-${y}`),T})}}const Tg=Br({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function kg(o){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uy();return{roundedClasses:on(()=>{const T=Wl(o)?o.value:o.rounded,G=[];if(T===!0||T==="")G.push(`${b}--rounded`);else if(typeof T=="string"||T===0)for(const V of String(T).split(" "))G.push(`rounded-${V}`);return G})}}const Rhe=[null,"prominent","default","comfortable","compact"],jae=Br({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:o=>Rhe.includes(o)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...S3(),...ts(),...Wy(),...Tg(),...mc({tag:"header"}),...Gc()},"VToolbar"),ire=Go()({name:"VToolbar",props:jae(),setup(o,b){var i;let{slots:y}=b;const{backgroundColorClasses:T,backgroundColorStyles:G}=wg(Xo(o,"color")),{borderClasses:V}=T3(o),{elevationClasses:L}=Gy(o),{roundedClasses:A}=kg(o),{themeClasses:s}=Uu(o),{rtlClasses:m}=Sg(),h=xa(!!(o.extended||(i=y.extension)!=null&&i.call(y))),l=on(()=>parseInt(Number(o.height)+(o.density==="prominent"?Number(o.height):0)-(o.density==="comfortable"?8:0)-(o.density==="compact"?16:0),10)),c=on(()=>h.value?parseInt(Number(o.extensionHeight)+(o.density==="prominent"?Number(o.extensionHeight):0)-(o.density==="comfortable"?4:0)-(o.density==="compact"?8:0),10):0);return R0({VBtn:{variant:"text"}}),ga(()=>{var v;const u=!!(o.title||y.title),d=!!(y.image||o.image),g=(v=y.extension)==null?void 0:v.call(y);return h.value=!!(o.extended||g),ct(o.tag,{class:["v-toolbar",{"v-toolbar--absolute":o.absolute,"v-toolbar--collapse":o.collapse,"v-toolbar--flat":o.flat,"v-toolbar--floating":o.floating,[`v-toolbar--density-${o.density}`]:!0},T.value,V.value,L.value,A.value,s.value,m.value,o.class],style:[G.value,o.style]},{default:()=>[d&&ct("div",{key:"image",class:"v-toolbar__image"},[y.image?ct(Ac,{key:"image-defaults",disabled:!o.image,defaults:{VImg:{cover:!0,src:o.image}}},y.image):ct(Y6,{key:"image-img",cover:!0,src:o.image},null)]),ct(Ac,{defaults:{VTabs:{height:ra(l.value)}}},{default:()=>{var x,C,_;return[ct("div",{class:"v-toolbar__content",style:{height:ra(l.value)}},[y.prepend&&ct("div",{class:"v-toolbar__prepend"},[(x=y.prepend)==null?void 0:x.call(y)]),u&&ct(whe,{key:"title",text:o.title},{text:y.title}),(C=y.default)==null?void 0:C.call(y),y.append&&ct("div",{class:"v-toolbar__append"},[(_=y.append)==null?void 0:_.call(y)])])]}}),ct(Ac,{defaults:{VTabs:{height:ra(c.value)}}},{default:()=>[ct(_q,null,{default:()=>[h.value&&ct("div",{class:"v-toolbar__extension",style:{height:ra(c.value)}},[g])]})]})]})}),{contentHeight:l,extensionHeight:c}}}),Lhe=Br({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Dhe(o){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:y}=b;let T=0;const G=No(null),V=xa(0),L=xa(0),A=xa(0),s=xa(!1),m=xa(!1),h=on(()=>Number(o.scrollThreshold)),l=on(()=>yg((h.value-V.value)/h.value||0)),c=()=>{const i=G.value;!i||y&&!y.value||(T=V.value,V.value="window"in i?i.pageYOffset:i.scrollTop,m.value=V.value<T,A.value=Math.abs(V.value-h.value))};return ta(m,()=>{L.value=L.value||V.value}),ta(s,()=>{L.value=0}),Cg(()=>{ta(()=>o.scrollTarget,i=>{var d;const u=i?document.querySelector(i):window;u&&u!==G.value&&((d=G.value)==null||d.removeEventListener("scroll",c),G.value=u,G.value.addEventListener("scroll",c,{passive:!0}))},{immediate:!0})}),dm(()=>{var i;(i=G.value)==null||i.removeEventListener("scroll",c)}),y&&ta(y,c,{immediate:!0}),{scrollThreshold:h,currentScroll:V,currentThreshold:A,isScrollActive:s,scrollRatio:l,isScrollingUp:m,savedScroll:L}}function Dq(){const o=xa(!1);return Cg(()=>{window.requestAnimationFrame(()=>{o.value=!0})}),{ssrBootStyles:on(()=>o.value?void 0:{transition:"none !important"}),isBooted:Z6(o)}}const $he=Br({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:o=>["top","bottom"].includes(o)},...jae(),...ahe(),...Lhe(),height:{type:[Number,String],default:64}},"VAppBar"),Ohe=Go()({name:"VAppBar",props:$he(),emits:{"update:modelValue":o=>!0},setup(o,b){let{slots:y}=b;const T=No(),G=ri(o,"modelValue"),V=on(()=>{var x;const v=new Set(((x=o.scrollBehavior)==null?void 0:x.split(" "))??[]);return{hide:v.has("hide"),inverted:v.has("inverted"),collapse:v.has("collapse"),elevate:v.has("elevate"),fadeImage:v.has("fade-image")}}),L=on(()=>{const v=V.value;return v.hide||v.inverted||v.collapse||v.elevate||v.fadeImage||!G.value}),{currentScroll:A,scrollThreshold:s,isScrollingUp:m,scrollRatio:h}=Dhe(o,{canScroll:L}),l=on(()=>o.collapse||V.value.collapse&&(V.value.inverted?h.value>0:h.value===0)),c=on(()=>o.flat||V.value.elevate&&(V.value.inverted?A.value>0:A.value===0)),i=on(()=>V.value.fadeImage?V.value.inverted?1-h.value:h.value:void 0),u=on(()=>{var C,_;if(V.value.hide&&V.value.inverted)return 0;const v=((C=T.value)==null?void 0:C.contentHeight)??0,x=((_=T.value)==null?void 0:_.extensionHeight)??0;return v+x});E2(on(()=>!!o.scrollBehavior),()=>{fh(()=>{V.value.hide?V.value.inverted?G.value=A.value>s.value:G.value=m.value||A.value<s.value:G.value=!0})});const{ssrBootStyles:d}=Dq(),{layoutItemStyles:g}=ihe({id:o.name,order:on(()=>parseInt(o.order,10)),position:Xo(o,"location"),layoutSize:u,elementSize:xa(void 0),active:G,absolute:Xo(o,"absolute")});return ga(()=>{const[v]=ire.filterProps(o);return ct(ire,Jo({ref:T,class:["v-app-bar",{"v-app-bar--bottom":o.location==="bottom"},o.class],style:[{...g.value,"--v-toolbar-image-opacity":i.value,height:void 0,...d.value},o.style]},v,{collapse:l.value,flat:c.value}),y)}),{}}});const Phe=[null,"default","comfortable","compact"],Lp=Br({density:{type:String,default:"default",validator:o=>Phe.includes(o)}},"density");function L0(o){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uy();return{densityClasses:on(()=>`${b}--density-${o.density}`)}}const Ihe=["elevated","flat","tonal","outlined","text","plain"];function K6(o,b){return ct(Uo,null,[o&&ct("span",{key:"overlay",class:`${b}__overlay`},null),ct("span",{key:"underlay",class:`${b}__underlay`},null)])}const D2=Br({color:String,variant:{type:String,default:"elevated",validator:o=>Ihe.includes(o)}},"variant");function X6(o){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uy();const y=on(()=>{const{variant:V}=im(o);return`${b}--variant-${V}`}),{colorClasses:T,colorStyles:G}=Lq(on(()=>{const{variant:V,color:L}=im(o);return{[["elevated","flat"].includes(V)?"background":"text"]:L}}));return{colorClasses:T,colorStyles:G,variantClasses:y}}const Yae=Br({divided:Boolean,...S3(),...ts(),...Lp(),...Wy(),...Tg(),...mc(),...Gc(),...D2()},"VBtnGroup"),lre=Go()({name:"VBtnGroup",props:Yae(),setup(o,b){let{slots:y}=b;const{themeClasses:T}=Uu(o),{densityClasses:G}=L0(o),{borderClasses:V}=T3(o),{elevationClasses:L}=Gy(o),{roundedClasses:A}=kg(o);R0({VBtn:{height:"auto",color:Xo(o,"color"),density:Xo(o,"density"),flat:!0,variant:Xo(o,"variant")}}),ga(()=>ct(o.tag,{class:["v-btn-group",{"v-btn-group--divided":o.divided},T.value,V.value,G.value,L.value,A.value,o.class],style:o.style},y))}}),$q=Br({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Oq=Br({value:null,disabled:Boolean,selectedClass:String},"group-item");function Pq(o,b){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const T=Vu("useGroupItem");if(!T)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const G=Rp();Gl(Symbol.for(`${b.description}:id`),G);const V=ni(b,null);if(!V){if(!y)return V;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${b.description}`)}const L=Xo(o,"value"),A=on(()=>!!(V.disabled.value||o.disabled));V.register({id:G,value:L,disabled:A},T),dm(()=>{V.unregister(G)});const s=on(()=>V.isSelected(G)),m=on(()=>s.value&&[V.selectedClass.value,o.selectedClass]);return ta(s,h=>{T.emit("group:selected",{value:h})}),{id:G,isSelected:s,toggle:()=>V.select(G,!s.value),select:h=>V.select(G,h),selectedClass:m,value:L,disabled:A,group:V}}function Iq(o,b){let y=!1;const T=ih([]),G=ri(o,"modelValue",[],c=>c==null?[]:Kae(T,xd(c)),c=>{const i=Fhe(T,c);return o.multiple?i:i[0]}),V=Vu("useGroup");function L(c,i){const u=c,d=Symbol.for(`${b.description}:id`),v=A6(d,V==null?void 0:V.vnode).indexOf(i);v>-1?T.splice(v,0,u):T.push(u)}function A(c){if(y)return;s();const i=T.findIndex(u=>u.id===c);T.splice(i,1)}function s(){const c=T.find(i=>!i.disabled);c&&o.mandatory==="force"&&!G.value.length&&(G.value=[c.id])}Cg(()=>{s()}),dm(()=>{y=!0});function m(c,i){const u=T.find(d=>d.id===c);if(!(i&&(u!=null&&u.disabled)))if(o.multiple){const d=G.value.slice(),g=d.findIndex(x=>x===c),v=~g;if(i=i??!v,v&&o.mandatory&&d.length<=1||!v&&o.max!=null&&d.length+1>o.max)return;g<0&&i?d.push(c):g>=0&&!i&&d.splice(g,1),G.value=d}else{const d=G.value.includes(c);if(o.mandatory&&d)return;G.value=i??!d?[c]:[]}}function h(c){if(o.multiple,G.value.length){const i=G.value[0],u=T.findIndex(v=>v.id===i);let d=(u+c)%T.length,g=T[d];for(;g.disabled&&d!==u;)d=(d+c)%T.length,g=T[d];if(g.disabled)return;G.value=[T[d].id]}else{const i=T.find(u=>!u.disabled);i&&(G.value=[i.id])}}const l={register:L,unregister:A,selected:G,select:m,disabled:Xo(o,"disabled"),prev:()=>h(T.length-1),next:()=>h(1),isSelected:c=>G.value.includes(c),selectedClass:on(()=>o.selectedClass),items:on(()=>T),getItemIndex:c=>Nhe(T,c)};return Gl(b,l),l}function Nhe(o,b){const y=Kae(o,[b]);return y.length?o.findIndex(T=>T.id===y[0]):-1}function Kae(o,b){const y=[];return b.forEach(T=>{const G=o.find(L=>b3(T,L.value)),V=o[T];(G==null?void 0:G.value)!=null?y.push(G.id):V!=null&&y.push(V.id)}),y}function Fhe(o,b){const y=[];return b.forEach(T=>{const G=o.findIndex(V=>V.id===T);if(~G){const V=o[G];y.push(V.value!=null?V.value:G)}}),y}const Xae=Symbol.for("vuetify:v-btn-toggle"),Bhe=Br({...Yae(),...$q()},"VBtnToggle");Go()({name:"VBtnToggle",props:Bhe(),emits:{"update:modelValue":o=>!0},setup(o,b){let{slots:y}=b;const{isSelected:T,next:G,prev:V,select:L,selected:A}=Iq(o,Xae);return ga(()=>{const[s]=lre.filterProps(o);return ct(lre,Jo({class:["v-btn-toggle",o.class]},s,{style:o.style}),{default:()=>{var m;return[(m=y.default)==null?void 0:m.call(y,{isSelected:T,next:G,prev:V,select:L,selected:A})]}})}),{next:G,prev:V,select:L}}});const Hhe={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar"},Jae={component:o=>um(qae,{...o,class:"mdi"})},vi=[String,Function,Object,Array],TQ=Symbol.for("vuetify:icons"),nH=Br({icon:{type:vi},tag:{type:String,required:!0}},"icon"),cre=Go()({name:"VComponentIcon",props:nH(),setup(o,b){let{slots:y}=b;return()=>{const T=o.icon;return ct(o.tag,null,{default:()=>{var G;return[o.icon?ct(T,null,null):(G=y.default)==null?void 0:G.call(y)]}})}}}),Qae=IE({name:"VSvgIcon",inheritAttrs:!1,props:nH(),setup(o,b){let{attrs:y}=b;return()=>ct(o.tag,Jo(y,{style:null}),{default:()=>[ct("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(o.icon)?o.icon.map(T=>Array.isArray(T)?ct("path",{d:T[0],"fill-opacity":T[1]},null):ct("path",{d:T},null)):ct("path",{d:o.icon},null)])]})}});IE({name:"VLigatureIcon",props:nH(),setup(o){return()=>ct(o.tag,null,{default:()=>[o.icon]})}});const qae=IE({name:"VClassIcon",props:nH(),setup(o){return()=>ct(o.tag,{class:o.icon},null)}}),zhe={svg:{component:Qae},class:{component:qae}};function Vhe(o){return gg({defaultSet:"mdi",sets:{...zhe,mdi:Jae},aliases:{...Hhe,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z"}},o)}const Uhe=o=>{const b=ni(TQ);if(!b)throw new Error("Missing Vuetify Icons provide!");return{iconData:on(()=>{var s;const T=im(o);if(!T)return{component:cre};let G=T;if(typeof G=="string"&&(G=G.trim(),G.startsWith("$")&&(G=(s=b.aliases)==null?void 0:s[G.slice(1)])),!G)throw new Error(`Could not find aliased icon "${T}"`);if(Array.isArray(G))return{component:Qae,icon:G};if(typeof G!="string")return{component:cre,icon:G};const V=Object.keys(b.sets).find(m=>typeof G=="string"&&G.startsWith(`${m}:`)),L=V?G.slice(V.length+1):G;return{component:b.sets[V??b.defaultSet].component,icon:L}})}},Whe=["x-small","small","default","large","x-large"],J6=Br({size:{type:[String,Number],default:"default"}},"size");function Q6(o){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uy();return Sq(()=>{let y,T;return xB(Whe,o.size)?y=`${b}--size-${o.size}`:o.size&&(T={width:ra(o.size),height:ra(o.size)}),{sizeClasses:y,sizeStyles:T}})}const Ghe=Br({color:String,start:Boolean,end:Boolean,icon:vi,...ts(),...J6(),...mc({tag:"i"}),...Gc()},"VIcon"),js=Go()({name:"VIcon",props:Ghe(),setup(o,b){let{attrs:y,slots:T}=b;const G=No(),{themeClasses:V}=Uu(o),{iconData:L}=Uhe(on(()=>G.value||o.icon)),{sizeClasses:A}=Q6(o),{textColorClasses:s,textColorStyles:m}=xg(Xo(o,"color"));return ga(()=>{var l,c;const h=(l=T.default)==null?void 0:l.call(T);return h&&(G.value=(c=Sae(h).filter(i=>i.type===j6&&i.children&&typeof i.children=="string")[0])==null?void 0:c.children),ct(L.value.component,{tag:o.tag,icon:L.value.icon,class:["v-icon","notranslate",V.value,A.value,s.value,{"v-icon--clickable":!!y.onClick,"v-icon--start":o.start,"v-icon--end":o.end},o.class],style:[A.value?void 0:{fontSize:ra(o.size),height:ra(o.size),width:ra(o.size)},m.value,o.style],role:y.onClick?"button":void 0,"aria-hidden":!y.onClick},{default:()=>[h]})}),{}}});function ese(o,b){const y=No(),T=xa(!1);if(xq){const G=new IntersectionObserver(V=>{o==null||o(V,G),T.value=!!V.find(L=>L.isIntersecting)},b);dm(()=>{G.disconnect()}),ta(y,(V,L)=>{L&&(G.unobserve(L),T.value=!1),V&&G.observe(V)},{flush:"post"})}return{intersectionRef:y,isIntersecting:T}}const Zhe=Br({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...ts(),...J6(),...mc({tag:"div"}),...Gc()},"VProgressCircular"),tse=Go()({name:"VProgressCircular",props:Zhe(),setup(o,b){let{slots:y}=b;const T=20,G=2*Math.PI*T,V=No(),{themeClasses:L}=Uu(o),{sizeClasses:A,sizeStyles:s}=Q6(o),{textColorClasses:m,textColorStyles:h}=xg(Xo(o,"color")),{textColorClasses:l,textColorStyles:c}=xg(Xo(o,"bgColor")),{intersectionRef:i,isIntersecting:u}=ese(),{resizeRef:d,contentRect:g}=tH(),v=on(()=>Math.max(0,Math.min(100,parseFloat(o.modelValue)))),x=on(()=>Number(o.width)),C=on(()=>s.value?Number(o.size):g.value?g.value.width:Math.max(x.value,32)),_=on(()=>T/(1-x.value/C.value)*2),$=on(()=>x.value/C.value*_.value),S=on(()=>ra((100-v.value)/100*G));return fh(()=>{i.value=V.value,d.value=V.value}),ga(()=>ct(o.tag,{ref:V,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!o.indeterminate,"v-progress-circular--visible":u.value,"v-progress-circular--disable-shrink":o.indeterminate==="disable-shrink"},L.value,A.value,m.value,o.class],style:[s.value,h.value,o.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":o.indeterminate?void 0:v.value},{default:()=>[ct("svg",{style:{transform:`rotate(calc(-90deg + ${Number(o.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${_.value} ${_.value}`},[ct("circle",{class:["v-progress-circular__underlay",l.value],style:c.value,fill:"transparent",cx:"50%",cy:"50%",r:T,"stroke-width":$.value,"stroke-dasharray":G,"stroke-dashoffset":0},null),ct("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:T,"stroke-width":$.value,"stroke-dasharray":G,"stroke-dashoffset":S.value},null)]),y.default&&ct("div",{class:"v-progress-circular__content"},[y.default({value:v.value})])]})),{}}});const ure={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Nq=Br({location:String},"location");function Fq(o){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=arguments.length>2?arguments[2]:void 0;const{isRtl:T}=Sg();return{locationStyles:on(()=>{if(!o.location)return{};const{side:V,align:L}=SQ(o.location.split(" ").length>1?o.location:`${o.location} center`,T.value);function A(m){return y?y(m):0}const s={};return V!=="center"&&(b?s[ure[V]]=`calc(100% - ${A(V)}px)`:s[V]=0),L!=="center"?b?s[ure[L]]=`calc(100% - ${A(L)}px)`:s[L]=0:(V==="center"?s.top=s.left="50%":s[{top:"left",bottom:"left",left:"top",right:"top"}[V]]="50%",s.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[V]),s})}}const jhe=Br({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...ts(),...Nq({location:"top"}),...Tg(),...mc(),...Gc()},"VProgressLinear"),Yhe=Go()({name:"VProgressLinear",props:jhe(),emits:{"update:modelValue":o=>!0},setup(o,b){let{slots:y}=b;const T=ri(o,"modelValue"),{isRtl:G,rtlClasses:V}=Sg(),{themeClasses:L}=Uu(o),{locationStyles:A}=Fq(o),{textColorClasses:s,textColorStyles:m}=xg(o,"color"),{backgroundColorClasses:h,backgroundColorStyles:l}=wg(on(()=>o.bgColor||o.color)),{backgroundColorClasses:c,backgroundColorStyles:i}=wg(o,"color"),{roundedClasses:u}=kg(o),{intersectionRef:d,isIntersecting:g}=ese(),v=on(()=>parseInt(o.max,10)),x=on(()=>parseInt(o.height,10)),C=on(()=>parseFloat(o.bufferValue)/v.value*100),_=on(()=>parseFloat(T.value)/v.value*100),$=on(()=>G.value!==o.reverse),S=on(()=>o.indeterminate?"fade-transition":"slide-x-transition"),O=on(()=>o.bgOpacity==null?o.bgOpacity:parseFloat(o.bgOpacity));function D(N){if(!d.value)return;const{left:M,right:k,width:R}=d.value.getBoundingClientRect(),F=$.value?R-N.clientX+(k-R):N.clientX-M;T.value=Math.round(F/R*v.value)}return ga(()=>ct(o.tag,{ref:d,class:["v-progress-linear",{"v-progress-linear--absolute":o.absolute,"v-progress-linear--active":o.active&&g.value,"v-progress-linear--reverse":$.value,"v-progress-linear--rounded":o.rounded,"v-progress-linear--rounded-bar":o.roundedBar,"v-progress-linear--striped":o.striped},u.value,L.value,V.value,o.class],style:[{bottom:o.location==="bottom"?0:void 0,top:o.location==="top"?0:void 0,height:o.active?ra(x.value):0,"--v-progress-linear-height":ra(x.value),...A.value},o.style],role:"progressbar","aria-hidden":o.active?"false":"true","aria-valuemin":"0","aria-valuemax":o.max,"aria-valuenow":o.indeterminate?void 0:_.value,onClick:o.clickable&&D},{default:()=>[o.stream&&ct("div",{key:"stream",class:["v-progress-linear__stream",s.value],style:{...m.value,[$.value?"left":"right"]:ra(-x.value),borderTop:`${ra(x.value/2)} dotted`,opacity:O.value,top:`calc(50% - ${ra(x.value/4)})`,width:ra(100-C.value,"%"),"--v-progress-linear-stream-to":ra(x.value*($.value?1:-1))}},null),ct("div",{class:["v-progress-linear__background",h.value],style:[l.value,{opacity:O.value,width:ra(o.stream?C.value:100,"%")}]},null),ct(Hy,{name:S.value},{default:()=>[o.indeterminate?ct("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(N=>ct("div",{key:N,class:["v-progress-linear__indeterminate",N,c.value],style:i.value},null))]):ct("div",{class:["v-progress-linear__determinate",c.value],style:[i.value,{width:ra(_.value,"%")}]},null)]}),y.default&&ct("div",{class:"v-progress-linear__content"},[y.default({value:_.value,buffer:C.value})])]})),{}}}),rH=Br({loading:[Boolean,String]},"loader");function oH(o){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uy();return{loaderClasses:on(()=>({[`${b}--loading`]:o.loading}))}}function Bq(o,b){var T;let{slots:y}=b;return ct("div",{class:`${o.name}__loader`},[((T=y.default)==null?void 0:T.call(y,{color:o.color,isActive:o.active}))||ct(Yhe,{active:o.active,color:o.color,height:"2",indeterminate:!0},null)])}const Khe=["static","relative","fixed","absolute","sticky"],nse=Br({position:{type:String,validator:o=>Khe.includes(o)}},"position");function rse(o){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uy();return{positionClasses:on(()=>o.position?`${b}--${o.position}`:void 0)}}function Xhe(){var o,b;return(b=(o=Vu("useRouter"))==null?void 0:o.proxy)==null?void 0:b.$router}function aH(o,b){const y=mg("RouterLink"),T=on(()=>!!(o.href||o.to)),G=on(()=>(T==null?void 0:T.value)||Fne(b,"click")||Fne(o,"click"));if(typeof y=="string")return{isLink:T,isClickable:G,href:Xo(o,"href")};const V=o.to?y.useLink(o):void 0;return{isLink:T,isClickable:G,route:V==null?void 0:V.route,navigate:V==null?void 0:V.navigate,isActive:V&&on(()=>{var L,A;return o.exact?(L=V.isExactActive)==null?void 0:L.value:(A=V.isActive)==null?void 0:A.value}),href:on(()=>o.to?V==null?void 0:V.route.value.href:o.href)}}const sH=Br({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let KJ=!1;function Jhe(o,b){let y=!1,T,G;yl&&(Ll(()=>{window.addEventListener("popstate",V),T=o==null?void 0:o.beforeEach((L,A,s)=>{KJ?y?b(s):s():setTimeout(()=>y?b(s):s()),KJ=!0}),G=o==null?void 0:o.afterEach(()=>{KJ=!1})}),ch(()=>{window.removeEventListener("popstate",V),T==null||T(),G==null||G()}));function V(L){var A;(A=L.state)!=null&&A.replaced||(y=!0,setTimeout(()=>y=!1))}}function Qhe(o,b){ta(()=>{var y;return(y=o.isActive)==null?void 0:y.value},y=>{o.isLink.value&&y&&b&&Ll(()=>{b(!0)})},{immediate:!0})}const kQ=Symbol("rippleStop"),qhe=80;function fre(o,b){o.style.transform=b,o.style.webkitTransform=b}function AQ(o){return o.constructor.name==="TouchEvent"}function ose(o){return o.constructor.name==="KeyboardEvent"}const eme=function(o,b){var l;let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},T=0,G=0;if(!ose(o)){const c=b.getBoundingClientRect(),i=AQ(o)?o.touches[o.touches.length-1]:o;T=i.clientX-c.left,G=i.clientY-c.top}let V=0,L=.3;(l=b._ripple)!=null&&l.circle?(L=.15,V=b.clientWidth/2,V=y.center?V:V+Math.sqrt((T-V)**2+(G-V)**2)/4):V=Math.sqrt(b.clientWidth**2+b.clientHeight**2)/2;const A=`${(b.clientWidth-V*2)/2}px`,s=`${(b.clientHeight-V*2)/2}px`,m=y.center?A:`${T-V}px`,h=y.center?s:`${G-V}px`;return{radius:V,scale:L,x:m,y:h,centerX:A,centerY:s}},_B={show(o,b){var i;let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((i=b==null?void 0:b._ripple)!=null&&i.enabled))return;const T=document.createElement("span"),G=document.createElement("span");T.appendChild(G),T.className="v-ripple__container",y.class&&(T.className+=` ${y.class}`);const{radius:V,scale:L,x:A,y:s,centerX:m,centerY:h}=eme(o,b,y),l=`${V*2}px`;G.className="v-ripple__animation",G.style.width=l,G.style.height=l,b.appendChild(T);const c=window.getComputedStyle(b);c&&c.position==="static"&&(b.style.position="relative",b.dataset.previousPosition="static"),G.classList.add("v-ripple__animation--enter"),G.classList.add("v-ripple__animation--visible"),fre(G,`translate(${A}, ${s}) scale3d(${L},${L},${L})`),G.dataset.activated=String(performance.now()),setTimeout(()=>{G.classList.remove("v-ripple__animation--enter"),G.classList.add("v-ripple__animation--in"),fre(G,`translate(${m}, ${h}) scale3d(1,1,1)`)},0)},hide(o){var V;if(!((V=o==null?void 0:o._ripple)!=null&&V.enabled))return;const b=o.getElementsByClassName("v-ripple__animation");if(b.length===0)return;const y=b[b.length-1];if(y.dataset.isHiding)return;y.dataset.isHiding="true";const T=performance.now()-Number(y.dataset.activated),G=Math.max(250-T,0);setTimeout(()=>{y.classList.remove("v-ripple__animation--in"),y.classList.add("v-ripple__animation--out"),setTimeout(()=>{var A;o.getElementsByClassName("v-ripple__animation").length===1&&o.dataset.previousPosition&&(o.style.position=o.dataset.previousPosition,delete o.dataset.previousPosition),((A=y.parentNode)==null?void 0:A.parentNode)===o&&o.removeChild(y.parentNode)},300)},G)}};function ase(o){return typeof o>"u"||!!o}function F6(o){const b={},y=o.currentTarget;if(!(!(y!=null&&y._ripple)||y._ripple.touched||o[kQ])){if(o[kQ]=!0,AQ(o))y._ripple.touched=!0,y._ripple.isTouch=!0;else if(y._ripple.isTouch)return;if(b.center=y._ripple.centered||ose(o),y._ripple.class&&(b.class=y._ripple.class),AQ(o)){if(y._ripple.showTimerCommit)return;y._ripple.showTimerCommit=()=>{_B.show(o,y,b)},y._ripple.showTimer=window.setTimeout(()=>{var T;(T=y==null?void 0:y._ripple)!=null&&T.showTimerCommit&&(y._ripple.showTimerCommit(),y._ripple.showTimerCommit=null)},qhe)}else _B.show(o,y,b)}}function dre(o){o[kQ]=!0}function am(o){const b=o.currentTarget;if(b!=null&&b._ripple){if(window.clearTimeout(b._ripple.showTimer),o.type==="touchend"&&b._ripple.showTimerCommit){b._ripple.showTimerCommit(),b._ripple.showTimerCommit=null,b._ripple.showTimer=window.setTimeout(()=>{am(o)});return}window.setTimeout(()=>{b._ripple&&(b._ripple.touched=!1)}),_B.hide(b)}}function sse(o){const b=o.currentTarget;b!=null&&b._ripple&&(b._ripple.showTimerCommit&&(b._ripple.showTimerCommit=null),window.clearTimeout(b._ripple.showTimer))}let B6=!1;function ise(o){!B6&&(o.keyCode===Pne.enter||o.keyCode===Pne.space)&&(B6=!0,F6(o))}function lse(o){B6=!1,am(o)}function cse(o){B6&&(B6=!1,am(o))}function use(o,b,y){const{value:T,modifiers:G}=b,V=ase(T);if(V||_B.hide(o),o._ripple=o._ripple??{},o._ripple.enabled=V,o._ripple.centered=G.center,o._ripple.circle=G.circle,wQ(T)&&T.class&&(o._ripple.class=T.class),V&&!y){if(G.stop){o.addEventListener("touchstart",dre,{passive:!0}),o.addEventListener("mousedown",dre);return}o.addEventListener("touchstart",F6,{passive:!0}),o.addEventListener("touchend",am,{passive:!0}),o.addEventListener("touchmove",sse,{passive:!0}),o.addEventListener("touchcancel",am),o.addEventListener("mousedown",F6),o.addEventListener("mouseup",am),o.addEventListener("mouseleave",am),o.addEventListener("keydown",ise),o.addEventListener("keyup",lse),o.addEventListener("blur",cse),o.addEventListener("dragstart",am,{passive:!0})}else!V&&y&&fse(o)}function fse(o){o.removeEventListener("mousedown",F6),o.removeEventListener("touchstart",F6),o.removeEventListener("touchend",am),o.removeEventListener("touchmove",sse),o.removeEventListener("touchcancel",am),o.removeEventListener("mouseup",am),o.removeEventListener("mouseleave",am),o.removeEventListener("keydown",ise),o.removeEventListener("keyup",lse),o.removeEventListener("dragstart",am),o.removeEventListener("blur",cse)}function tme(o,b){use(o,b,!1)}function nme(o){delete o._ripple,fse(o)}function rme(o,b){if(b.value===b.oldValue)return;const y=ase(b.oldValue);use(o,b,y)}const k3={mounted:tme,unmounted:nme,updated:rme},ome=Br({active:{type:Boolean,default:void 0},symbol:{type:null,default:Xae},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:vi,appendIcon:vi,block:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...S3(),...ts(),...Lp(),...x3(),...Wy(),...Oq(),...rH(),...Nq(),...nse(),...Tg(),...sH(),...J6(),...mc({tag:"button"}),...Gc(),...D2({variant:"elevated"})},"VBtn"),dc=Go()({name:"VBtn",directives:{Ripple:k3},props:ome(),emits:{"group:selected":o=>!0},setup(o,b){let{attrs:y,slots:T}=b;const{themeClasses:G}=Uu(o),{borderClasses:V}=T3(o),{colorClasses:L,colorStyles:A,variantClasses:s}=X6(o),{densityClasses:m}=L0(o),{dimensionStyles:h}=w3(o),{elevationClasses:l}=Gy(o),{loaderClasses:c}=oH(o),{locationStyles:i}=Fq(o),{positionClasses:u}=rse(o),{roundedClasses:d}=kg(o),{sizeClasses:g,sizeStyles:v}=Q6(o),x=Pq(o,o.symbol,!1),C=aH(o,y),_=on(()=>{var N;return o.active!==void 0?o.active:C.isLink.value?(N=C.isActive)==null?void 0:N.value:x==null?void 0:x.isSelected.value}),$=on(()=>(x==null?void 0:x.disabled.value)||o.disabled),S=on(()=>o.variant==="elevated"&&!(o.disabled||o.flat||o.border)),O=on(()=>{if(o.value!==void 0)return Object(o.value)===o.value?JSON.stringify(o.value,null,0):o.value});function D(N){var M;$.value||C.isLink.value&&(N.metaKey||N.ctrlKey||N.shiftKey||N.button!==0||y.target==="_blank")||((M=C.navigate)==null||M.call(C,N),x==null||x.toggle())}return Qhe(C,x==null?void 0:x.select),ga(()=>{var H,j;const N=C.isLink.value?"a":o.tag,M=!!(o.prependIcon||T.prepend),k=!!(o.appendIcon||T.append),R=!!(o.icon&&o.icon!==!0),F=(x==null?void 0:x.isSelected.value)&&(!C.isLink.value||((H=C.isActive)==null?void 0:H.value))||!x||((j=C.isActive)==null?void 0:j.value);return lu(ct(N,{type:N==="a"?void 0:"button",class:["v-btn",x==null?void 0:x.selectedClass.value,{"v-btn--active":_.value,"v-btn--block":o.block,"v-btn--disabled":$.value,"v-btn--elevated":S.value,"v-btn--flat":o.flat,"v-btn--icon":!!o.icon,"v-btn--loading":o.loading,"v-btn--stacked":o.stacked},G.value,V.value,F?L.value:void 0,m.value,l.value,c.value,u.value,d.value,g.value,s.value,o.class],style:[F?A.value:void 0,h.value,i.value,v.value,o.style],disabled:$.value||void 0,href:C.href.value,onClick:D,value:O.value},{default:()=>{var P;return[K6(!0,"v-btn"),!o.icon&&M&&ct("span",{key:"prepend",class:"v-btn__prepend"},[T.prepend?ct(Ac,{key:"prepend-defaults",disabled:!o.prependIcon,defaults:{VIcon:{icon:o.prependIcon}}},T.prepend):ct(js,{key:"prepend-icon",icon:o.prependIcon},null)]),ct("span",{class:"v-btn__content","data-no-activator":""},[!T.default&&R?ct(js,{key:"content-icon",icon:o.icon},null):ct(Ac,{key:"content-defaults",disabled:!R,defaults:{VIcon:{icon:o.icon}}},{default:()=>{var ee;return[((ee=T.default)==null?void 0:ee.call(T))??o.text]}})]),!o.icon&&k&&ct("span",{key:"append",class:"v-btn__append"},[T.append?ct(Ac,{key:"append-defaults",disabled:!o.appendIcon,defaults:{VIcon:{icon:o.appendIcon}}},T.append):ct(js,{key:"append-icon",icon:o.appendIcon},null)]),!!o.loading&&ct("span",{key:"loader",class:"v-btn__loader"},[((P=T.loader)==null?void 0:P.call(T))??ct(tse,{color:typeof o.loading=="boolean"?void 0:o.loading,indeterminate:!0,size:"23",width:"2"},null)])]}}),[[_p("ripple"),!$.value&&o.ripple,null]])}),{}}});const ame=Br({text:String,clickable:Boolean,...ts(),...Gc()},"VLabel"),iH=Go()({name:"VLabel",props:ame(),setup(o,b){let{slots:y}=b;return ga(()=>{var T;return ct("label",{class:["v-label",{"v-label--clickable":o.clickable},o.class],style:o.style},[o.text,(T=y.default)==null?void 0:T.call(y)])}),{}}});const dse=Symbol.for("vuetify:selection-control-group"),hse=Br({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:vi,trueIcon:vi,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:b3},...ts(),...Lp(),...Gc()},"SelectionControlGroup"),sme=Br({...hse({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");Go()({name:"VSelectionControlGroup",props:sme(),emits:{"update:modelValue":o=>!0},setup(o,b){let{slots:y}=b;const T=ri(o,"modelValue"),G=Rp(),V=on(()=>o.id||`v-selection-control-group-${G}`),L=on(()=>o.name||V.value),A=new Set;return Gl(dse,{modelValue:T,forceUpdate:()=>{A.forEach(s=>s())},onForceUpdate:s=>{A.add(s),ch(()=>{A.delete(s)})}}),R0({[o.defaultsTarget]:{color:Xo(o,"color"),disabled:Xo(o,"disabled"),density:Xo(o,"density"),error:Xo(o,"error"),inline:Xo(o,"inline"),modelValue:T,multiple:on(()=>!!o.multiple||o.multiple==null&&Array.isArray(T.value)),name:L,falseIcon:Xo(o,"falseIcon"),trueIcon:Xo(o,"trueIcon"),readonly:Xo(o,"readonly"),ripple:Xo(o,"ripple"),type:Xo(o,"type"),valueComparator:Xo(o,"valueComparator")}}),ga(()=>{var s;return ct("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":o.inline},o.class],style:o.style,role:o.type==="radio"?"radiogroup":void 0},[(s=y.default)==null?void 0:s.call(y)])}),{}}});const mse=Br({label:String,trueValue:null,falseValue:null,value:null,...ts(),...hse()},"VSelectionControl");function ime(o){const b=ni(dse,void 0),{densityClasses:y}=L0(o),T=ri(o,"modelValue"),G=on(()=>o.trueValue!==void 0?o.trueValue:o.value!==void 0?o.value:!0),V=on(()=>o.falseValue!==void 0?o.falseValue:!1),L=on(()=>!!o.multiple||o.multiple==null&&Array.isArray(T.value)),A=on({get(){const i=b?b.modelValue.value:T.value;return L.value?i.some(u=>o.valueComparator(u,G.value)):o.valueComparator(i,G.value)},set(i){if(o.readonly)return;const u=i?G.value:V.value;let d=u;L.value&&(d=i?[...xd(T.value),u]:xd(T.value).filter(g=>!o.valueComparator(g,G.value))),b?b.modelValue.value=d:T.value=d}}),{textColorClasses:s,textColorStyles:m}=xg(on(()=>A.value&&!o.error&&!o.disabled?o.color:void 0)),{backgroundColorClasses:h,backgroundColorStyles:l}=wg(on(()=>A.value&&!o.error&&!o.disabled?o.color:void 0)),c=on(()=>A.value?o.trueIcon:o.falseIcon);return{group:b,densityClasses:y,trueValue:G,falseValue:V,model:A,textColorClasses:s,textColorStyles:m,backgroundColorClasses:h,backgroundColorStyles:l,icon:c}}const hre=Go()({name:"VSelectionControl",directives:{Ripple:k3},inheritAttrs:!1,props:mse(),emits:{"update:modelValue":o=>!0},setup(o,b){let{attrs:y,slots:T}=b;const{group:G,densityClasses:V,icon:L,model:A,textColorClasses:s,textColorStyles:m,backgroundColorClasses:h,backgroundColorStyles:l,trueValue:c}=ime(o),i=Rp(),u=on(()=>o.id||`input-${i}`),d=xa(!1),g=xa(!1),v=No();G==null||G.onForceUpdate(()=>{v.value&&(v.value.checked=A.value)});function x($){d.value=!0,EE($.target,":focus-visible")!==!1&&(g.value=!0)}function C(){d.value=!1,g.value=!1}function _($){o.readonly&&G&&Ll(()=>G.forceUpdate()),A.value=$.target.checked}return ga(()=>{var N,M;const $=T.label?T.label({label:o.label,props:{for:u.value}}):o.label,[S,O]=Cq(y),D=ct("input",Jo({ref:v,checked:A.value,disabled:!!(o.readonly||o.disabled),id:u.value,onBlur:C,onFocus:x,onInput:_,"aria-disabled":!!(o.readonly||o.disabled),type:o.type,value:c.value,name:o.name,"aria-checked":o.type==="checkbox"?A.value:void 0},O),null);return ct("div",Jo({class:["v-selection-control",{"v-selection-control--dirty":A.value,"v-selection-control--disabled":o.disabled,"v-selection-control--error":o.error,"v-selection-control--focused":d.value,"v-selection-control--focus-visible":g.value,"v-selection-control--inline":o.inline},V.value,o.class]},S,{style:o.style}),[ct("div",{class:["v-selection-control__wrapper",s.value],style:m.value},[(N=T.default)==null?void 0:N.call(T,{backgroundColorClasses:h,backgroundColorStyles:l}),lu(ct("div",{class:["v-selection-control__input"]},[((M=T.input)==null?void 0:M.call(T,{model:A,textColorClasses:s,textColorStyles:m,backgroundColorClasses:h,backgroundColorStyles:l,inputNode:D,icon:L.value,props:{onFocus:x,onBlur:C,id:u.value}}))??ct(Uo,null,[L.value&&ct(js,{key:"icon",icon:L.value},null),D])]),[[_p("ripple"),o.ripple&&[!o.disabled&&!o.readonly,null,["center","circle"]]]])]),$&&ct(iH,{for:u.value,clickable:!0,onClick:k=>k.stopPropagation()},{default:()=>[$]})])}),{isFocused:d,input:v}}}),lme=Br({indeterminate:Boolean,indeterminateIcon:{type:vi,default:"$checkboxIndeterminate"},...mse({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),FE=Go()({name:"VCheckboxBtn",props:lme(),emits:{"update:modelValue":o=>!0,"update:indeterminate":o=>!0},setup(o,b){let{slots:y}=b;const T=ri(o,"indeterminate"),G=ri(o,"modelValue");function V(s){T.value&&(T.value=!1)}const L=on(()=>T.value?o.indeterminateIcon:o.falseIcon),A=on(()=>T.value?o.indeterminateIcon:o.trueIcon);return ga(()=>{const s=PE(hre.filterProps(o)[0],["modelValue"]);return ct(hre,Jo(s,{modelValue:G.value,"onUpdate:modelValue":[m=>G.value=m,V],class:["v-checkbox-btn",o.class],style:o.style,type:"checkbox",falseIcon:L.value,trueIcon:A.value,"aria-checked":T.value?"mixed":void 0}),y)}),{}}});function gse(o){const{t:b}=L2();function y(T){let{name:G}=T;const V={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[G],L=o[`onClick:${G}`],A=L&&V?b(`$vuetify.input.${V}`,o.label??""):void 0;return ct(js,{icon:o[`${G}Icon`],"aria-label":A,onClick:L},null)}return{InputIcon:y}}const cme=Br({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...ts(),...C3({transition:{component:Uae,leaveAbsolute:!0,group:!0}})},"VMessages"),ume=Go()({name:"VMessages",props:cme(),setup(o,b){let{slots:y}=b;const T=on(()=>xd(o.messages)),{textColorClasses:G,textColorStyles:V}=xg(on(()=>o.color));return ga(()=>ct(T2,{transition:o.transition,tag:"div",class:["v-messages",G.value,o.class],style:[V.value,o.style],role:"alert","aria-live":"polite"},{default:()=>[o.active&&T.value.map((L,A)=>ct("div",{class:"v-messages__message",key:`${A}-${T.value}`},[y.message?y.message({message:L}):L]))]})),{}}}),lH=Br({focused:Boolean,"onUpdate:focused":M0()},"focus");function q6(o){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uy();const y=ri(o,"focused"),T=on(()=>({[`${b}--focused`]:y.value}));function G(){y.value=!0}function V(){y.value=!1}return{focusClasses:T,isFocused:y,focus:G,blur:V}}const fme=Symbol.for("vuetify:form");function cH(){return ni(fme,null)}const dme=Br({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...lH()},"validation");function hme(o){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uy(),y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rp();const T=ri(o,"modelValue"),G=on(()=>o.validationValue===void 0?T.value:o.validationValue),V=cH(),L=No([]),A=xa(!0),s=on(()=>!!(xd(T.value===""?null:T.value).length||xd(G.value===""?null:G.value).length)),m=on(()=>!!(o.disabled??(V==null?void 0:V.isDisabled.value))),h=on(()=>!!(o.readonly??(V==null?void 0:V.isReadonly.value))),l=on(()=>{var _;return(_=o.errorMessages)!=null&&_.length?xd(o.errorMessages).slice(0,Math.max(0,+o.maxErrors)):L.value}),c=on(()=>{let _=(o.validateOn??(V==null?void 0:V.validateOn.value))||"input";_==="lazy"&&(_="input lazy");const $=new Set((_==null?void 0:_.split(" "))??[]);return{blur:$.has("blur")||$.has("input"),input:$.has("input"),submit:$.has("submit"),lazy:$.has("lazy")}}),i=on(()=>{var _;return o.error||(_=o.errorMessages)!=null&&_.length?!1:o.rules.length?A.value?L.value.length||c.value.lazy?null:!0:!L.value.length:!0}),u=xa(!1),d=on(()=>({[`${b}--error`]:i.value===!1,[`${b}--dirty`]:s.value,[`${b}--disabled`]:m.value,[`${b}--readonly`]:h.value})),g=on(()=>o.name??im(y));fq(()=>{V==null||V.register({id:g.value,validate:C,reset:v,resetValidation:x})}),dm(()=>{V==null||V.unregister(g.value)}),Cg(async()=>{c.value.lazy||await C(!0),V==null||V.update(g.value,i.value,l.value)}),E2(()=>c.value.input,()=>{ta(G,()=>{if(G.value!=null)C();else if(o.focused){const _=ta(()=>o.focused,$=>{$||C(),_()})}})}),E2(()=>c.value.blur,()=>{ta(()=>o.focused,_=>{_||C()})}),ta(i,()=>{V==null||V.update(g.value,i.value,l.value)});function v(){T.value=null,Ll(x)}function x(){A.value=!0,c.value.lazy?L.value=[]:C(!0)}async function C(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const $=[];u.value=!0;for(const S of o.rules){if($.length>=+(o.maxErrors??1))break;const D=await(typeof S=="function"?S:()=>S)(G.value);if(D!==!0){if(D!==!1&&typeof D!="string"){console.warn(`${D} is not a valid value. Rule functions must return boolean true or a string.`);continue}$.push(D||"")}}return L.value=$,u.value=!1,A.value=_,L.value}return{errorMessages:l,isDirty:s,isDisabled:m,isReadonly:h,isPristine:A,isValid:i,isValidating:u,reset:v,resetValidation:x,validate:C,validationClasses:d}}const e$=Br({id:String,appendIcon:vi,centerAffix:{type:Boolean,default:!0},prependIcon:vi,hideDetails:[Boolean,String],hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:o=>["horizontal","vertical"].includes(o)},"onClick:prepend":M0(),"onClick:append":M0(),...ts(),...Lp(),...dme()},"VInput"),_2=Go()({name:"VInput",props:{...e$()},emits:{"update:modelValue":o=>!0},setup(o,b){let{attrs:y,slots:T,emit:G}=b;const{densityClasses:V}=L0(o),{rtlClasses:L}=Sg(),{InputIcon:A}=gse(o),s=Rp(),m=on(()=>o.id||`input-${s}`),h=on(()=>`${m.value}-messages`),{errorMessages:l,isDirty:c,isDisabled:i,isReadonly:u,isPristine:d,isValid:g,isValidating:v,reset:x,resetValidation:C,validate:_,validationClasses:$}=hme(o,"v-input",m),S=on(()=>({id:m,messagesId:h,isDirty:c,isDisabled:i,isReadonly:u,isPristine:d,isValid:g,isValidating:v,reset:x,resetValidation:C,validate:_})),O=on(()=>{var D;return(D=o.errorMessages)!=null&&D.length||!d.value&&l.value.length?l.value:o.hint&&(o.persistentHint||o.focused)?o.hint:o.messages});return ga(()=>{var R,F,H,j;const D=!!(T.prepend||o.prependIcon),N=!!(T.append||o.appendIcon),M=O.value.length>0,k=!o.hideDetails||o.hideDetails==="auto"&&(M||!!T.details);return ct("div",{class:["v-input",`v-input--${o.direction}`,{"v-input--center-affix":o.centerAffix},V.value,L.value,$.value,o.class],style:o.style},[D&&ct("div",{key:"prepend",class:"v-input__prepend"},[(R=T.prepend)==null?void 0:R.call(T,S.value),o.prependIcon&&ct(A,{key:"prepend-icon",name:"prepend"},null)]),T.default&&ct("div",{class:"v-input__control"},[(F=T.default)==null?void 0:F.call(T,S.value)]),N&&ct("div",{key:"append",class:"v-input__append"},[o.appendIcon&&ct(A,{key:"append-icon",name:"append"},null),(H=T.append)==null?void 0:H.call(T,S.value)]),k&&ct("div",{class:"v-input__details"},[ct(ume,{id:h.value,active:M,messages:O.value},{message:T.message}),(j=T.details)==null?void 0:j.call(T,S.value)])])}),{reset:x,resetValidation:C,validate:_}}});const mme=Br({start:Boolean,end:Boolean,icon:vi,image:String,...ts(),...Lp(),...Tg(),...J6(),...mc(),...Gc(),...D2({variant:"flat"})},"VAvatar"),RE=Go()({name:"VAvatar",props:mme(),setup(o,b){let{slots:y}=b;const{themeClasses:T}=Uu(o),{colorClasses:G,colorStyles:V,variantClasses:L}=X6(o),{densityClasses:A}=L0(o),{roundedClasses:s}=kg(o),{sizeClasses:m,sizeStyles:h}=Q6(o);return ga(()=>ct(o.tag,{class:["v-avatar",{"v-avatar--start":o.start,"v-avatar--end":o.end},T.value,G.value,A.value,s.value,m.value,L.value,o.class],style:[V.value,h.value,o.style]},{default:()=>{var l;return[o.image?ct(Y6,{key:"image",src:o.image,alt:"",cover:!0},null):o.icon?ct(js,{key:"icon",icon:o.icon},null):(l=y.default)==null?void 0:l.call(y),K6(!1,"v-avatar")]}})),{}}});const pse=Symbol.for("vuetify:v-chip-group"),gme=Br({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:b3},...ts(),...$q({selectedClass:"v-chip--selected"}),...mc(),...Gc(),...D2({variant:"tonal"})},"VChipGroup");Go()({name:"VChipGroup",props:gme(),emits:{"update:modelValue":o=>!0},setup(o,b){let{slots:y}=b;const{themeClasses:T}=Uu(o),{isSelected:G,select:V,next:L,prev:A,selected:s}=Iq(o,pse);return R0({VChip:{color:Xo(o,"color"),disabled:Xo(o,"disabled"),filter:Xo(o,"filter"),variant:Xo(o,"variant")}}),ga(()=>ct(o.tag,{class:["v-chip-group",{"v-chip-group--column":o.column},T.value,o.class],style:o.style},{default:()=>{var m;return[(m=y.default)==null?void 0:m.call(y,{isSelected:G,select:V,next:L,prev:A,selected:s.value})]}})),{}}});const pme=Br({activeClass:String,appendAvatar:String,appendIcon:vi,closable:Boolean,closeIcon:{type:vi,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:vi,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:M0(),onClickOnce:M0(),...S3(),...ts(),...Lp(),...Wy(),...Oq(),...Tg(),...sH(),...J6(),...mc({tag:"span"}),...Gc(),...D2({variant:"tonal"})},"VChip"),wE=Go()({name:"VChip",directives:{Ripple:k3},props:pme(),emits:{"click:close":o=>!0,"update:modelValue":o=>!0,"group:selected":o=>!0,click:o=>!0},setup(o,b){let{attrs:y,emit:T,slots:G}=b;const{t:V}=L2(),{borderClasses:L}=T3(o),{colorClasses:A,colorStyles:s,variantClasses:m}=X6(o),{densityClasses:h}=L0(o),{elevationClasses:l}=Gy(o),{roundedClasses:c}=kg(o),{sizeClasses:i}=Q6(o),{themeClasses:u}=Uu(o),d=ri(o,"modelValue"),g=Pq(o,pse,!1),v=aH(o,y),x=on(()=>o.link!==!1&&v.isLink.value),C=on(()=>!o.disabled&&o.link!==!1&&(!!g||o.link||v.isClickable.value)),_=on(()=>({"aria-label":V(o.closeLabel),onClick(O){O.stopPropagation(),d.value=!1,T("click:close",O)}}));function $(O){var D;T("click",O),C.value&&((D=v.navigate)==null||D.call(v,O),g==null||g.toggle())}function S(O){(O.key==="Enter"||O.key===" ")&&(O.preventDefault(),$(O))}return()=>{const O=v.isLink.value?"a":o.tag,D=!!(o.appendIcon||o.appendAvatar),N=!!(D||G.append),M=!!(G.close||o.closable),k=!!(G.filter||o.filter)&&g,R=!!(o.prependIcon||o.prependAvatar),F=!!(R||G.prepend),H=!g||g.isSelected.value;return d.value&&lu(ct(O,{class:["v-chip",{"v-chip--disabled":o.disabled,"v-chip--label":o.label,"v-chip--link":C.value,"v-chip--filter":k,"v-chip--pill":o.pill},u.value,L.value,H?A.value:void 0,h.value,l.value,c.value,i.value,m.value,g==null?void 0:g.selectedClass.value,o.class],style:[H?s.value:void 0,o.style],disabled:o.disabled||void 0,draggable:o.draggable,href:v.href.value,tabindex:C.value?0:void 0,onClick:$,onKeydown:C.value&&!x.value&&S},{default:()=>{var j;return[K6(C.value,"v-chip"),k&&ct(Wae,{key:"filter"},{default:()=>[lu(ct("div",{class:"v-chip__filter"},[G.filter?ct(Ac,{key:"filter-defaults",disabled:!o.filterIcon,defaults:{VIcon:{icon:o.filterIcon}}},G.filter):ct(js,{key:"filter-icon",icon:o.filterIcon},null)]),[[R2,g.isSelected.value]])]}),F&&ct("div",{key:"prepend",class:"v-chip__prepend"},[G.prepend?ct(Ac,{key:"prepend-defaults",disabled:!R,defaults:{VAvatar:{image:o.prependAvatar,start:!0},VIcon:{icon:o.prependIcon,start:!0}}},G.prepend):ct(Uo,null,[o.prependIcon&&ct(js,{key:"prepend-icon",icon:o.prependIcon,start:!0},null),o.prependAvatar&&ct(RE,{key:"prepend-avatar",image:o.prependAvatar,start:!0},null)])]),ct("div",{class:"v-chip__content"},[((j=G.default)==null?void 0:j.call(G,{isSelected:g==null?void 0:g.isSelected.value,selectedClass:g==null?void 0:g.selectedClass.value,select:g==null?void 0:g.select,toggle:g==null?void 0:g.toggle,value:g==null?void 0:g.value.value,disabled:o.disabled}))??o.text]),N&&ct("div",{key:"append",class:"v-chip__append"},[G.append?ct(Ac,{key:"append-defaults",disabled:!D,defaults:{VAvatar:{end:!0,image:o.appendAvatar},VIcon:{end:!0,icon:o.appendIcon}}},G.append):ct(Uo,null,[o.appendIcon&&ct(js,{key:"append-icon",end:!0,icon:o.appendIcon},null),o.appendAvatar&&ct(RE,{key:"append-avatar",end:!0,image:o.appendAvatar},null)])]),M&&ct("div",Jo({key:"close",class:"v-chip__close"},_.value),[G.close?ct(Ac,{key:"close-defaults",defaults:{VIcon:{icon:o.closeIcon,size:"x-small"}}},G.close):ct(js,{key:"close-icon",icon:o.closeIcon,size:"x-small"},null)])]}}),[[_p("ripple"),C.value&&o.ripple,null]])}}});const MQ=Symbol.for("vuetify:list");function vse(){const o=ni(MQ,{hasPrepend:xa(!1),updateHasPrepend:()=>null}),b={hasPrepend:xa(!1),updateHasPrepend:y=>{y&&(b.hasPrepend.value=y)}};return Gl(MQ,b),o}function yse(){return ni(MQ,null)}const vme={open:o=>{let{id:b,value:y,opened:T,parents:G}=o;if(y){const V=new Set;V.add(b);let L=G.get(b);for(;L!=null;)V.add(L),L=G.get(L);return V}else return T.delete(b),T},select:()=>null},bse={open:o=>{let{id:b,value:y,opened:T,parents:G}=o;if(y){let V=G.get(b);for(T.add(b);V!=null&&V!==b;)T.add(V),V=G.get(V);return T}else T.delete(b);return T},select:()=>null},yme={open:bse.open,select:o=>{let{id:b,value:y,opened:T,parents:G}=o;if(!y)return T;const V=[];let L=G.get(b);for(;L!=null;)V.push(L),L=G.get(L);return new Set(V)}},Hq=o=>{const b={select:y=>{let{id:T,value:G,selected:V}=y;if(T=ds(T),o&&!G){const L=Array.from(V.entries()).reduce((A,s)=>{let[m,h]=s;return h==="on"?[...A,m]:A},[]);if(L.length===1&&L[0]===T)return V}return V.set(T,G?"on":"off"),V},in:(y,T,G)=>{let V=new Map;for(const L of y||[])V=b.select({id:L,value:!0,selected:new Map(V),children:T,parents:G});return V},out:y=>{const T=[];for(const[G,V]of y.entries())V==="on"&&T.push(G);return T}};return b},xse=o=>{const b=Hq(o);return{select:T=>{let{selected:G,id:V,...L}=T;V=ds(V);const A=G.has(V)?new Map([[V,G.get(V)]]):new Map;return b.select({...L,id:V,selected:A})},in:(T,G,V)=>{let L=new Map;return T!=null&&T.length&&(L=b.in(T.slice(0,1),G,V)),L},out:(T,G,V)=>b.out(T,G,V)}},bme=o=>{const b=Hq(o);return{select:T=>{let{id:G,selected:V,children:L,...A}=T;return G=ds(G),L.has(G)?V:b.select({id:G,selected:V,children:L,...A})},in:b.in,out:b.out}},xme=o=>{const b=xse(o);return{select:T=>{let{id:G,selected:V,children:L,...A}=T;return G=ds(G),L.has(G)?V:b.select({id:G,selected:V,children:L,...A})},in:b.in,out:b.out}},wme=o=>{const b={select:y=>{let{id:T,value:G,selected:V,children:L,parents:A}=y;T=ds(T);const s=new Map(V),m=[T];for(;m.length;){const l=m.shift();V.set(l,G?"on":"off"),L.has(l)&&m.push(...L.get(l))}let h=A.get(T);for(;h;){const l=L.get(h),c=l.every(u=>V.get(u)==="on"),i=l.every(u=>!V.has(u)||V.get(u)==="off");V.set(h,c?"on":i?"off":"indeterminate"),h=A.get(h)}return o&&!G&&Array.from(V.entries()).reduce((c,i)=>{let[u,d]=i;return d==="on"?[...c,u]:c},[]).length===0?s:V},in:(y,T,G)=>{let V=new Map;for(const L of y||[])V=b.select({id:L,value:!0,selected:new Map(V),children:T,parents:G});return V},out:(y,T)=>{const G=[];for(const[V,L]of y.entries())L==="on"&&!T.has(V)&&G.push(V);return G}};return b},H6=Symbol.for("vuetify:nested"),wse={id:xa(),root:{register:()=>null,unregister:()=>null,parents:No(new Map),children:No(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:No(new Set),selected:No(new Map),selectedValues:No([])}},Cme=Br({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),Sme=o=>{let b=!1;const y=No(new Map),T=No(new Map),G=ri(o,"opened",o.opened,l=>new Set(l),l=>[...l.values()]),V=on(()=>{if(typeof o.selectStrategy=="object")return o.selectStrategy;switch(o.selectStrategy){case"single-leaf":return xme(o.mandatory);case"leaf":return bme(o.mandatory);case"independent":return Hq(o.mandatory);case"single-independent":return xse(o.mandatory);case"classic":default:return wme(o.mandatory)}}),L=on(()=>{if(typeof o.openStrategy=="object")return o.openStrategy;switch(o.openStrategy){case"list":return yme;case"single":return vme;case"multiple":default:return bse}}),A=ri(o,"selected",o.selected,l=>V.value.in(l,y.value,T.value),l=>V.value.out(l,y.value,T.value));dm(()=>{b=!0});function s(l){const c=[];let i=l;for(;i!=null;)c.unshift(i),i=T.value.get(i);return c}const m=Vu("nested"),h={id:xa(),root:{opened:G,selected:A,selectedValues:on(()=>{const l=[];for(const[c,i]of A.value.entries())i==="on"&&l.push(c);return l}),register:(l,c,i)=>{c&&l!==c&&T.value.set(l,c),i&&y.value.set(l,[]),c!=null&&y.value.set(c,[...y.value.get(c)||[],l])},unregister:l=>{if(b)return;y.value.delete(l);const c=T.value.get(l);if(c){const i=y.value.get(c)??[];y.value.set(c,i.filter(u=>u!==l))}T.value.delete(l),G.value.delete(l)},open:(l,c,i)=>{m.emit("click:open",{id:l,value:c,path:s(l),event:i});const u=L.value.open({id:l,value:c,opened:new Set(G.value),children:y.value,parents:T.value,event:i});u&&(G.value=u)},openOnSelect:(l,c,i)=>{const u=L.value.select({id:l,value:c,selected:new Map(A.value),opened:new Set(G.value),children:y.value,parents:T.value,event:i});u&&(G.value=u)},select:(l,c,i)=>{m.emit("click:select",{id:l,value:c,path:s(l),event:i});const u=V.value.select({id:l,value:c,selected:new Map(A.value),children:y.value,parents:T.value,event:i});u&&(A.value=u),h.root.openOnSelect(l,c,i)},children:y,parents:T}};return Gl(H6,h),h.root},Cse=(o,b)=>{const y=ni(H6,wse),T=Symbol(Rp()),G=on(()=>o.value!==void 0?o.value:T),V={...y,id:G,open:(L,A)=>y.root.open(G.value,L,A),openOnSelect:(L,A)=>y.root.openOnSelect(G.value,L,A),isOpen:on(()=>y.root.opened.value.has(G.value)),parent:on(()=>y.root.parents.value.get(G.value)),select:(L,A)=>y.root.select(G.value,L,A),isSelected:on(()=>y.root.selected.value.get(ds(G.value))==="on"),isIndeterminate:on(()=>y.root.selected.value.get(G.value)==="indeterminate"),isLeaf:on(()=>!y.root.children.value.get(G.value)),isGroupActivator:y.isGroupActivator};return!y.isGroupActivator&&y.root.register(G.value,y.id.value,b),dm(()=>{!y.isGroupActivator&&y.root.unregister(G.value)}),b&&Gl(H6,V),V},Tme=()=>{const o=ni(H6,wse);Gl(H6,{...o,isGroupActivator:!0})},kme=IE({name:"VListGroupActivator",setup(o,b){let{slots:y}=b;return Tme(),()=>{var T;return(T=y.default)==null?void 0:T.call(y)}}}),Ame=Br({activeColor:String,baseColor:String,color:String,collapseIcon:{type:vi,default:"$collapse"},expandIcon:{type:vi,default:"$expand"},prependIcon:vi,appendIcon:vi,fluid:Boolean,subgroup:Boolean,title:String,value:null,...ts(),...mc()},"VListGroup"),mre=Go()({name:"VListGroup",props:Ame(),setup(o,b){let{slots:y}=b;const{isOpen:T,open:G,id:V}=Cse(Xo(o,"value"),!0),L=on(()=>`v-list-group--id-${String(V.value)}`),A=yse(),{isBooted:s}=Dq();function m(i){G(!T.value,i)}const h=on(()=>({onClick:m,class:"v-list-group__header",id:L.value})),l=on(()=>T.value?o.collapseIcon:o.expandIcon),c=on(()=>({VListItem:{active:T.value,activeColor:o.activeColor,baseColor:o.baseColor,color:o.color,prependIcon:o.prependIcon||o.subgroup&&l.value,appendIcon:o.appendIcon||!o.subgroup&&l.value,title:o.title,value:o.value}}));return ga(()=>ct(o.tag,{class:["v-list-group",{"v-list-group--prepend":A==null?void 0:A.hasPrepend.value,"v-list-group--fluid":o.fluid,"v-list-group--subgroup":o.subgroup,"v-list-group--open":T.value},o.class],style:o.style},{default:()=>[y.activator&&ct(Ac,{defaults:c.value},{default:()=>[ct(kme,null,{default:()=>[y.activator({props:h.value,isOpen:T.value})]})]}),ct(T2,{transition:{component:_q},disabled:!s.value},{default:()=>{var i;return[lu(ct("div",{class:"v-list-group__items",role:"group","aria-labelledby":L.value},[(i=y.default)==null?void 0:i.call(y)]),[[R2,T.value]])]}})]})),{}}});const Mme=NE("v-list-item-subtitle"),Eme=NE("v-list-item-title"),_me=Br({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:vi,baseColor:String,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:vi,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number,Boolean],title:[String,Number,Boolean],value:null,onClick:M0(),onClickOnce:M0(),...S3(),...ts(),...Lp(),...x3(),...Wy(),...Tg(),...sH(),...mc(),...Gc(),...D2({variant:"text"})},"VListItem"),fm=Go()({name:"VListItem",directives:{Ripple:k3},props:_me(),emits:{click:o=>!0},setup(o,b){let{attrs:y,slots:T,emit:G}=b;const V=aH(o,y),L=on(()=>o.value===void 0?V.href.value:o.value),{select:A,isSelected:s,isIndeterminate:m,isGroupActivator:h,root:l,parent:c,openOnSelect:i}=Cse(L,!1),u=yse(),d=on(()=>{var J;return o.active!==!1&&(o.active||((J=V.isActive)==null?void 0:J.value)||s.value)}),g=on(()=>o.link!==!1&&V.isLink.value),v=on(()=>!o.disabled&&o.link!==!1&&(o.link||V.isClickable.value||o.value!=null&&!!u)),x=on(()=>o.rounded||o.nav),C=on(()=>o.color??o.activeColor),_=on(()=>({color:d.value?C.value??o.baseColor:o.baseColor,variant:o.variant}));ta(()=>{var J;return(J=V.isActive)==null?void 0:J.value},J=>{J&&c.value!=null&&l.open(c.value,!0),J&&i(J)},{immediate:!0});const{themeClasses:$}=Uu(o),{borderClasses:S}=T3(o),{colorClasses:O,colorStyles:D,variantClasses:N}=X6(_),{densityClasses:M}=L0(o),{dimensionStyles:k}=w3(o),{elevationClasses:R}=Gy(o),{roundedClasses:F}=kg(x),H=on(()=>o.lines?`v-list-item--${o.lines}-line`:void 0),j=on(()=>({isActive:d.value,select:A,isSelected:s.value,isIndeterminate:m.value}));function P(J){var K;G("click",J),!(h||!v.value)&&((K=V.navigate)==null||K.call(V,J),o.value!=null&&A(!s.value,J))}function ee(J){(J.key==="Enter"||J.key===" ")&&(J.preventDefault(),P(J))}return ga(()=>{const J=g.value?"a":o.tag,K=T.title||o.title,ae=T.subtitle||o.subtitle,Q=!!(o.appendAvatar||o.appendIcon),he=!!(Q||T.append),ge=!!(o.prependAvatar||o.prependIcon),Se=!!(ge||T.prepend);return u==null||u.updateHasPrepend(Se),o.activeColor&&Pde("active-color",["color","base-color"]),lu(ct(J,{class:["v-list-item",{"v-list-item--active":d.value,"v-list-item--disabled":o.disabled,"v-list-item--link":v.value,"v-list-item--nav":o.nav,"v-list-item--prepend":!Se&&(u==null?void 0:u.hasPrepend.value),[`${o.activeClass}`]:o.activeClass&&d.value},$.value,S.value,O.value,M.value,R.value,H.value,F.value,N.value,o.class],style:[D.value,k.value,o.style],href:V.href.value,tabindex:v.value?u?-2:0:void 0,onClick:P,onKeydown:v.value&&!g.value&&ee},{default:()=>{var ce;return[K6(v.value||d.value,"v-list-item"),Se&&ct("div",{key:"prepend",class:"v-list-item__prepend"},[T.prepend?ct(Ac,{key:"prepend-defaults",disabled:!ge,defaults:{VAvatar:{density:o.density,image:o.prependAvatar},VIcon:{density:o.density,icon:o.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var ne;return[(ne=T.prepend)==null?void 0:ne.call(T,j.value)]}}):ct(Uo,null,[o.prependAvatar&&ct(RE,{key:"prepend-avatar",density:o.density,image:o.prependAvatar},null),o.prependIcon&&ct(js,{key:"prepend-icon",density:o.density,icon:o.prependIcon},null)]),ct("div",{class:"v-list-item__spacer"},null)]),ct("div",{class:"v-list-item__content","data-no-activator":""},[K&&ct(Eme,{key:"title"},{default:()=>{var ne;return[((ne=T.title)==null?void 0:ne.call(T,{title:o.title}))??o.title]}}),ae&&ct(Mme,{key:"subtitle"},{default:()=>{var ne;return[((ne=T.subtitle)==null?void 0:ne.call(T,{subtitle:o.subtitle}))??o.subtitle]}}),(ce=T.default)==null?void 0:ce.call(T,j.value)]),he&&ct("div",{key:"append",class:"v-list-item__append"},[T.append?ct(Ac,{key:"append-defaults",disabled:!Q,defaults:{VAvatar:{density:o.density,image:o.appendAvatar},VIcon:{density:o.density,icon:o.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var ne;return[(ne=T.append)==null?void 0:ne.call(T,j.value)]}}):ct(Uo,null,[o.appendIcon&&ct(js,{key:"append-icon",density:o.density,icon:o.appendIcon},null),o.appendAvatar&&ct(RE,{key:"append-avatar",density:o.density,image:o.appendAvatar},null)]),ct("div",{class:"v-list-item__spacer"},null)])]}}),[[_p("ripple"),v.value&&o.ripple]])}),{}}}),Rme=Br({color:String,inset:Boolean,sticky:Boolean,title:String,...ts(),...mc()},"VListSubheader"),Lme=Go()({name:"VListSubheader",props:Rme(),setup(o,b){let{slots:y}=b;const{textColorClasses:T,textColorStyles:G}=xg(Xo(o,"color"));return ga(()=>{const V=!!(y.default||o.title);return ct(o.tag,{class:["v-list-subheader",{"v-list-subheader--inset":o.inset,"v-list-subheader--sticky":o.sticky},T.value,o.class],style:[{textColorStyles:G},o.style]},{default:()=>{var L;return[V&&ct("div",{class:"v-list-subheader__text"},[((L=y.default)==null?void 0:L.call(y))??o.title])]}})}),{}}});const Dme=Br({color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...ts(),...Gc()},"VDivider"),$me=Go()({name:"VDivider",props:Dme(),setup(o,b){let{attrs:y}=b;const{themeClasses:T}=Uu(o),{textColorClasses:G,textColorStyles:V}=xg(Xo(o,"color")),L=on(()=>{const A={};return o.length&&(A[o.vertical?"maxHeight":"maxWidth"]=ra(o.length)),o.thickness&&(A[o.vertical?"borderRightWidth":"borderTopWidth"]=ra(o.thickness)),A});return ga(()=>ct("hr",{class:[{"v-divider":!0,"v-divider--inset":o.inset,"v-divider--vertical":o.vertical},T.value,G.value,o.class],style:[L.value,V.value,o.style],"aria-orientation":!y.role||y.role==="separator"?o.vertical?"vertical":"horizontal":void 0,role:`${y.role||"separator"}`},null)),{}}}),Ome=Br({items:Array,returnObject:Boolean},"VListChildren"),Sse=Go()({name:"VListChildren",props:Ome(),setup(o,b){let{slots:y}=b;return vse(),()=>{var T,G;return((T=y.default)==null?void 0:T.call(y))??((G=o.items)==null?void 0:G.map(V=>{var i,u;let{children:L,props:A,type:s,raw:m}=V;if(s==="divider")return((i=y.divider)==null?void 0:i.call(y,{props:A}))??ct($me,A,null);if(s==="subheader")return((u=y.subheader)==null?void 0:u.call(y,{props:A}))??ct(Lme,A,null);const h={subtitle:y.subtitle?d=>{var g;return(g=y.subtitle)==null?void 0:g.call(y,{...d,item:m})}:void 0,prepend:y.prepend?d=>{var g;return(g=y.prepend)==null?void 0:g.call(y,{...d,item:m})}:void 0,append:y.append?d=>{var g;return(g=y.append)==null?void 0:g.call(y,{...d,item:m})}:void 0,title:y.title?d=>{var g;return(g=y.title)==null?void 0:g.call(y,{...d,item:m})}:void 0},[l,c]=mre.filterProps(A);return L?ct(mre,Jo({value:A==null?void 0:A.value},l),{activator:d=>{let{props:g}=d;const v={...A,...g,value:o.returnObject?m:A.value};return y.header?y.header({props:v}):ct(fm,v,h)},default:()=>ct(Sse,{items:L},y)}):y.item?y.item({props:A}):ct(fm,Jo(A,{value:o.returnObject?m:A.value}),h)}))}}}),Tse=Br({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:b3}},"list-items");function h3(o,b){const y=lh(b,o.itemTitle,b),T=lh(b,o.itemValue,y),G=lh(b,o.itemChildren),V=o.itemProps===!0?typeof b=="object"&&b!=null&&!Array.isArray(b)?"children"in b?ME(b,["children"])[1]:b:void 0:lh(b,o.itemProps),L={title:y,value:T,...V};return{title:String(L.title??""),value:L.value,props:L,children:Array.isArray(G)?kse(o,G):void 0,raw:b}}function kse(o,b){const y=[];for(const T of b)y.push(h3(o,T));return y}function zq(o){const b=on(()=>kse(o,o.items)),y=on(()=>b.value.some(V=>V.value===null));function T(V){return y.value||(V=V.filter(L=>L!==null)),V.map(L=>o.returnObject&&typeof L=="string"?h3(o,L):b.value.find(A=>o.valueComparator(L,A.value))||h3(o,L))}function G(V){return o.returnObject?V.map(L=>{let{raw:A}=L;return A}):V.map(L=>{let{value:A}=L;return A})}return{items:b,transformIn:T,transformOut:G}}function Pme(o){return typeof o=="string"||typeof o=="number"||typeof o=="boolean"}function Ime(o,b){const y=lh(b,o.itemType,"item"),T=Pme(b)?b:lh(b,o.itemTitle),G=lh(b,o.itemValue,void 0),V=lh(b,o.itemChildren),L=o.itemProps===!0?ME(b,["children"])[1]:lh(b,o.itemProps),A={title:T,value:G,...L};return{type:y,title:A.title,value:A.value,props:A,children:y==="item"&&V?Ase(o,V):void 0,raw:b}}function Ase(o,b){const y=[];for(const T of b)y.push(Ime(o,T));return y}function Nme(o){return{items:on(()=>Ase(o,o.items))}}const Fme=Br({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},nav:Boolean,...Cme({selectStrategy:"single-leaf",openStrategy:"list"}),...S3(),...ts(),...Lp(),...x3(),...Wy(),itemType:{type:String,default:"type"},...Tse(),...Tg(),...mc(),...Gc(),...D2({variant:"text"})},"VList"),$2=Go()({name:"VList",props:Fme(),emits:{"update:selected":o=>!0,"update:opened":o=>!0,"click:open":o=>!0,"click:select":o=>!0},setup(o,b){let{slots:y}=b;const{items:T}=Nme(o),{themeClasses:G}=Uu(o),{backgroundColorClasses:V,backgroundColorStyles:L}=wg(Xo(o,"bgColor")),{borderClasses:A}=T3(o),{densityClasses:s}=L0(o),{dimensionStyles:m}=w3(o),{elevationClasses:h}=Gy(o),{roundedClasses:l}=kg(o),{open:c,select:i}=Sme(o),u=on(()=>o.lines?`v-list--${o.lines}-line`:void 0),d=Xo(o,"activeColor"),g=Xo(o,"baseColor"),v=Xo(o,"color");vse(),R0({VListGroup:{activeColor:d,baseColor:g,color:v},VListItem:{activeClass:Xo(o,"activeClass"),activeColor:d,baseColor:g,color:v,density:Xo(o,"density"),disabled:Xo(o,"disabled"),lines:Xo(o,"lines"),nav:Xo(o,"nav"),variant:Xo(o,"variant")}});const x=xa(!1),C=No();function _(N){x.value=!0}function $(N){x.value=!1}function S(N){var M;!x.value&&!(N.relatedTarget&&((M=C.value)!=null&&M.contains(N.relatedTarget)))&&D()}function O(N){if(C.value){if(N.key==="ArrowDown")D("next");else if(N.key==="ArrowUp")D("prev");else if(N.key==="Home")D("first");else if(N.key==="End")D("last");else return;N.preventDefault()}}function D(N){if(C.value)return CB(C.value,N)}return ga(()=>ct(o.tag,{ref:C,class:["v-list",{"v-list--disabled":o.disabled,"v-list--nav":o.nav},G.value,V.value,A.value,s.value,h.value,u.value,l.value,o.class],style:[L.value,m.value,o.style],tabindex:o.disabled||x.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:_,onFocusout:$,onFocus:S,onKeydown:O},{default:()=>[ct(Sse,{items:T.value,returnObject:o.returnObject},y)]})),{open:c,select:i,focus:D}}});function XJ(o,b){return{x:o.x+b.x,y:o.y+b.y}}function Bme(o,b){return{x:o.x-b.x,y:o.y-b.y}}function gre(o,b){if(o.side==="top"||o.side==="bottom"){const{side:y,align:T}=o,G=T==="left"?0:T==="center"?b.width/2:T==="right"?b.width:T,V=y==="top"?0:y==="bottom"?b.height:y;return XJ({x:G,y:V},b)}else if(o.side==="left"||o.side==="right"){const{side:y,align:T}=o,G=y==="left"?0:y==="right"?b.width:y,V=T==="top"?0:T==="center"?b.height/2:T==="bottom"?b.height:T;return XJ({x:G,y:V},b)}return XJ({x:b.width/2,y:b.height/2},b)}const Mse={static:Vme,connected:Wme},Hme=Br({locationStrategy:{type:[String,Function],default:"static",validator:o=>typeof o=="function"||o in Mse},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function zme(o,b){const y=No({}),T=No();yl&&(E2(()=>!!(b.isActive.value&&o.locationStrategy),V=>{var L,A;ta(()=>o.locationStrategy,V),ch(()=>{T.value=void 0}),typeof o.locationStrategy=="function"?T.value=(L=o.locationStrategy(b,o,y))==null?void 0:L.updateLocation:T.value=(A=Mse[o.locationStrategy](b,o,y))==null?void 0:A.updateLocation}),window.addEventListener("resize",G,{passive:!0}),ch(()=>{window.removeEventListener("resize",G),T.value=void 0}));function G(V){var L;(L=T.value)==null||L.call(T,V)}return{contentStyles:y,updateLocation:T}}function Vme(){}function Ume(o,b){b?o.style.removeProperty("left"):o.style.removeProperty("right");const y=Tq(o);return b?y.x+=parseFloat(o.style.right||0):y.x-=parseFloat(o.style.left||0),y.y-=parseFloat(o.style.top||0),y}function Wme(o,b,y){rhe(o.activatorEl.value)&&Object.assign(y.value,{position:"fixed",top:0,[o.isRtl.value?"right":"left"]:0});const{preferredAnchor:G,preferredOrigin:V}=Sq(()=>{const u=SQ(b.location,o.isRtl.value),d=b.origin==="overlap"?u:b.origin==="auto"?ZJ(u):SQ(b.origin,o.isRtl.value);return u.side===d.side&&u.align===jJ(d).align?{preferredAnchor:Hne(u),preferredOrigin:Hne(d)}:{preferredAnchor:u,preferredOrigin:d}}),[L,A,s,m]=["minWidth","minHeight","maxWidth","maxHeight"].map(u=>on(()=>{const d=parseFloat(b[u]);return isNaN(d)?1/0:d})),h=on(()=>{if(Array.isArray(b.offset))return b.offset;if(typeof b.offset=="string"){const u=b.offset.split(" ").map(parseFloat);return u.length<2&&u.push(0),u}return typeof b.offset=="number"?[b.offset,0]:[0,0]});let l=!1;const c=new ResizeObserver(()=>{l&&i()});ta([o.activatorEl,o.contentEl],(u,d)=>{let[g,v]=u,[x,C]=d;x&&c.unobserve(x),g&&c.observe(g),C&&c.unobserve(C),v&&c.observe(v)},{immediate:!0}),ch(()=>{c.disconnect()});function i(){if(l=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>l=!0)}),!o.activatorEl.value||!o.contentEl.value)return;const u=o.activatorEl.value.getBoundingClientRect(),d=Ume(o.contentEl.value,o.isRtl.value),g=kB(o.contentEl.value),v=12;g.length||(g.push(document.documentElement),o.contentEl.value.style.top&&o.contentEl.value.style.left||(d.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),d.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const x=g.reduce((k,R)=>{const F=R.getBoundingClientRect(),H=new xE({x:R===document.documentElement?0:F.x,y:R===document.documentElement?0:F.y,width:R.clientWidth,height:R.clientHeight});return k?new xE({x:Math.max(k.left,H.left),y:Math.max(k.top,H.top),width:Math.min(k.right,H.right)-Math.max(k.left,H.left),height:Math.min(k.bottom,H.bottom)-Math.max(k.top,H.top)}):H},void 0);x.x+=v,x.y+=v,x.width-=v*2,x.height-=v*2;let C={anchor:G.value,origin:V.value};function _(k){const R=new xE(d),F=gre(k.anchor,u),H=gre(k.origin,R);let{x:j,y:P}=Bme(F,H);switch(k.anchor.side){case"top":P-=h.value[0];break;case"bottom":P+=h.value[0];break;case"left":j-=h.value[0];break;case"right":j+=h.value[0];break}switch(k.anchor.align){case"top":P-=h.value[1];break;case"bottom":P+=h.value[1];break;case"left":j-=h.value[1];break;case"right":j+=h.value[1];break}return R.x+=j,R.y+=P,R.width=Math.min(R.width,s.value),R.height=Math.min(R.height,m.value),{overflows:Vne(R,x),x:j,y:P}}let $=0,S=0;const O={x:0,y:0},D={x:!1,y:!1};let N=-1;for(;!(N++>10);){const{x:k,y:R,overflows:F}=_(C);$+=k,S+=R,d.x+=k,d.y+=R;{const H=zne(C.anchor),j=F.x.before||F.x.after,P=F.y.before||F.y.after;let ee=!1;if(["x","y"].forEach(J=>{if(J==="x"&&j&&!D.x||J==="y"&&P&&!D.y){const K={anchor:{...C.anchor},origin:{...C.origin}},ae=J==="x"?H==="y"?jJ:ZJ:H==="y"?ZJ:jJ;K.anchor=ae(K.anchor),K.origin=ae(K.origin);const{overflows:Q}=_(K);(Q[J].before<=F[J].before&&Q[J].after<=F[J].after||Q[J].before+Q[J].after<(F[J].before+F[J].after)/2)&&(C=K,ee=D[J]=!0)}}),ee)continue}F.x.before&&($+=F.x.before,d.x+=F.x.before),F.x.after&&($-=F.x.after,d.x-=F.x.after),F.y.before&&(S+=F.y.before,d.y+=F.y.before),F.y.after&&(S-=F.y.after,d.y-=F.y.after);{const H=Vne(d,x);O.x=x.width-H.x.before-H.x.after,O.y=x.height-H.y.before-H.y.after,$+=H.x.before,d.x+=H.x.before,S+=H.y.before,d.y+=H.y.before}break}const M=zne(C.anchor);return Object.assign(y.value,{"--v-overlay-anchor-origin":`${C.anchor.side} ${C.anchor.align}`,transformOrigin:`${C.origin.side} ${C.origin.align}`,top:ra(JJ(S)),left:o.isRtl.value?void 0:ra(JJ($)),right:o.isRtl.value?ra(JJ(-$)):void 0,minWidth:ra(M==="y"?Math.min(L.value,u.width):L.value),maxWidth:ra(pre(yg(O.x,L.value===1/0?0:L.value,s.value))),maxHeight:ra(pre(yg(O.y,A.value===1/0?0:A.value,m.value)))}),{available:O,contentBox:d}}return ta(()=>[G.value,V.value,b.offset,b.minWidth,b.minHeight,b.maxWidth,b.maxHeight],()=>i()),Ll(()=>{const u=i();if(!u)return;const{available:d,contentBox:g}=u;g.height>d.y&&requestAnimationFrame(()=>{i(),requestAnimationFrame(()=>{i()})})}),{updateLocation:i}}function JJ(o){return Math.round(o*devicePixelRatio)/devicePixelRatio}function pre(o){return Math.ceil(o*devicePixelRatio)/devicePixelRatio}let EQ=!0;const RB=[];function Gme(o){!EQ||RB.length?(RB.push(o),_Q()):(EQ=!1,o(),_Q())}let vre=-1;function _Q(){cancelAnimationFrame(vre),vre=requestAnimationFrame(()=>{const o=RB.shift();o&&o(),RB.length?_Q():EQ=!0})}const uB={none:null,close:Yme,block:Kme,reposition:Xme},Zme=Br({scrollStrategy:{type:[String,Function],default:"block",validator:o=>typeof o=="function"||o in uB}},"VOverlay-scroll-strategies");function jme(o,b){if(!yl)return;let y;fh(async()=>{y==null||y.stop(),b.isActive.value&&o.scrollStrategy&&(y=XQ(),await Ll(),y.active&&y.run(()=>{var T;typeof o.scrollStrategy=="function"?o.scrollStrategy(b,o,y):(T=uB[o.scrollStrategy])==null||T.call(uB,b,o,y)}))}),ch(()=>{y==null||y.stop()})}function Yme(o){function b(y){o.isActive.value=!1}Ese(o.activatorEl.value??o.contentEl.value,b)}function Kme(o,b){var L;const y=(L=o.root.value)==null?void 0:L.offsetParent,T=[...new Set([...kB(o.activatorEl.value,b.contained?y:void 0),...kB(o.contentEl.value,b.contained?y:void 0)])].filter(A=>!A.classList.contains("v-overlay-scroll-blocked")),G=window.innerWidth-document.documentElement.offsetWidth,V=(A=>Mq(A)&&A)(y||document.documentElement);V&&o.root.value.classList.add("v-overlay--scroll-blocked"),T.forEach((A,s)=>{A.style.setProperty("--v-body-scroll-x",ra(-A.scrollLeft)),A.style.setProperty("--v-body-scroll-y",ra(-A.scrollTop)),A!==document.documentElement&&A.style.setProperty("--v-scrollbar-offset",ra(G)),A.classList.add("v-overlay-scroll-blocked")}),ch(()=>{T.forEach((A,s)=>{const m=parseFloat(A.style.getPropertyValue("--v-body-scroll-x")),h=parseFloat(A.style.getPropertyValue("--v-body-scroll-y"));A.style.removeProperty("--v-body-scroll-x"),A.style.removeProperty("--v-body-scroll-y"),A.style.removeProperty("--v-scrollbar-offset"),A.classList.remove("v-overlay-scroll-blocked"),A.scrollLeft=-m,A.scrollTop=-h}),V&&o.root.value.classList.remove("v-overlay--scroll-blocked")})}function Xme(o,b,y){let T=!1,G=-1,V=-1;function L(A){Gme(()=>{var h,l;const s=performance.now();(l=(h=o.updateLocation).value)==null||l.call(h,A),T=(performance.now()-s)/(1e3/60)>2})}V=(typeof requestIdleCallback>"u"?A=>A():requestIdleCallback)(()=>{y.run(()=>{Ese(o.activatorEl.value??o.contentEl.value,A=>{T?(cancelAnimationFrame(G),G=requestAnimationFrame(()=>{G=requestAnimationFrame(()=>{L(A)})})):L(A)})})}),ch(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(V),cancelAnimationFrame(G)})}function Ese(o,b){const y=[document,...kB(o)];y.forEach(T=>{T.addEventListener("scroll",b,{passive:!0})}),ch(()=>{y.forEach(T=>{T.removeEventListener("scroll",b)})})}const RQ=Symbol.for("vuetify:v-menu"),Jme=Br({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function Qme(o,b){const y={},T=G=>()=>{if(!yl)return Promise.resolve(!0);const V=G==="openDelay";return y.closeDelay&&window.clearTimeout(y.closeDelay),delete y.closeDelay,y.openDelay&&window.clearTimeout(y.openDelay),delete y.openDelay,new Promise(L=>{const A=parseInt(o[G]??0,10);y[G]=window.setTimeout(()=>{b==null||b(V),L(V)},A)})};return{runCloseDelay:T("closeDelay"),runOpenDelay:T("openDelay")}}const qme=Br({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...Jme()},"VOverlay-activator");function ege(o,b){let{isActive:y,isTop:T}=b;const G=No();let V=!1,L=!1,A=!0;const s=on(()=>o.openOnFocus||o.openOnFocus==null&&o.openOnHover),m=on(()=>o.openOnClick||o.openOnClick==null&&!o.openOnHover&&!s.value),{runOpenDelay:h,runCloseDelay:l}=Qme(o,C=>{C===(o.openOnHover&&V||s.value&&L)&&!(o.openOnHover&&y.value&&!T.value)&&(y.value!==C&&(A=!0),y.value=C)}),c={onClick:C=>{C.stopPropagation(),G.value=C.currentTarget||C.target,y.value=!y.value},onMouseenter:C=>{var _;(_=C.sourceCapabilities)!=null&&_.firesTouchEvents||(V=!0,G.value=C.currentTarget||C.target,h())},onMouseleave:C=>{V=!1,l()},onFocus:C=>{EE(C.target,":focus-visible")!==!1&&(L=!0,C.stopPropagation(),G.value=C.currentTarget||C.target,h())},onBlur:C=>{L=!1,C.stopPropagation(),l()}},i=on(()=>{const C={};return m.value&&(C.onClick=c.onClick),o.openOnHover&&(C.onMouseenter=c.onMouseenter,C.onMouseleave=c.onMouseleave),s.value&&(C.onFocus=c.onFocus,C.onBlur=c.onBlur),C}),u=on(()=>{const C={};if(o.openOnHover&&(C.onMouseenter=()=>{V=!0,h()},C.onMouseleave=()=>{V=!1,l()}),s.value&&(C.onFocusin=()=>{L=!0,h()},C.onFocusout=()=>{L=!1,l()}),o.closeOnContentClick){const _=ni(RQ,null);C.onClick=()=>{y.value=!1,_==null||_.closeParents()}}return C}),d=on(()=>{const C={};return o.openOnHover&&(C.onMouseenter=()=>{A&&(V=!0,A=!1,h())},C.onMouseleave=()=>{V=!1,l()}),C});ta(T,C=>{C&&(o.openOnHover&&!V&&(!s.value||!L)||s.value&&!L&&(!o.openOnHover||!V))&&(y.value=!1)});const g=No();fh(()=>{g.value&&Ll(()=>{G.value=CQ(g.value)})});const v=Vu("useActivator");let x;return ta(()=>!!o.activator,C=>{C&&yl?(x=XQ(),x.run(()=>{tge(o,v,{activatorEl:G,activatorEvents:i})})):x&&x.stop()},{flush:"post",immediate:!0}),ch(()=>{x==null||x.stop()}),{activatorEl:G,activatorRef:g,activatorEvents:i,contentEvents:u,scrimEvents:d}}function tge(o,b,y){let{activatorEl:T,activatorEvents:G}=y;ta(()=>o.activator,(s,m)=>{if(m&&s!==m){const h=A(m);h&&L(h)}s&&Ll(()=>V())},{immediate:!0}),ta(()=>o.activatorProps,()=>{V()}),ch(()=>{L()});function V(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A(),m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.activatorProps;s&&Ade(s,Jo(G.value,m))}function L(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A(),m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.activatorProps;s&&Mde(s,Jo(G.value,m))}function A(){var h,l;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o.activator,m;if(s)if(s==="parent"){let c=(l=(h=b==null?void 0:b.proxy)==null?void 0:h.$el)==null?void 0:l.parentNode;for(;c!=null&&c.hasAttribute("data-no-activator");)c=c.parentNode;m=c}else typeof s=="string"?m=document.querySelector(s):"$el"in s?m=s.$el:m=s;return T.value=(m==null?void 0:m.nodeType)===Node.ELEMENT_NODE?m:null,T.value}}const uH=["sm","md","lg","xl","xxl"],LQ=Symbol.for("vuetify:display"),yre={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},nge=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yre;return gg(yre,o)};function bre(o){return yl&&!o?window.innerWidth:typeof o=="object"&&o.clientWidth||0}function xre(o){return yl&&!o?window.innerHeight:typeof o=="object"&&o.clientHeight||0}function wre(o){const b=yl&&!o?window.navigator.userAgent:"ssr";function y(u){return!!b.match(u)}const T=y(/android/i),G=y(/iphone|ipad|ipod/i),V=y(/cordova/i),L=y(/electron/i),A=y(/chrome/i),s=y(/edge/i),m=y(/firefox/i),h=y(/opera/i),l=y(/win/i),c=y(/mac/i),i=y(/linux/i);return{android:T,ios:G,cordova:V,electron:L,chrome:A,edge:s,firefox:m,opera:h,win:l,mac:c,linux:i,touch:wde,ssr:b==="ssr"}}function rge(o,b){const{thresholds:y,mobileBreakpoint:T}=nge(o),G=xa(xre(b)),V=xa(wre(b)),L=ih({}),A=xa(bre(b));function s(){G.value=xre(),A.value=bre()}function m(){s(),V.value=wre()}return fh(()=>{const h=A.value<y.sm,l=A.value<y.md&&!h,c=A.value<y.lg&&!(l||h),i=A.value<y.xl&&!(c||l||h),u=A.value<y.xxl&&!(i||c||l||h),d=A.value>=y.xxl,g=h?"xs":l?"sm":c?"md":i?"lg":u?"xl":"xxl",v=typeof T=="number"?T:y[T],x=A.value<v;L.xs=h,L.sm=l,L.md=c,L.lg=i,L.xl=u,L.xxl=d,L.smAndUp=!h,L.mdAndUp=!(h||l),L.lgAndUp=!(h||l||c),L.xlAndUp=!(h||l||c||i),L.smAndDown=!(c||i||u||d),L.mdAndDown=!(i||u||d),L.lgAndDown=!(u||d),L.xlAndDown=!d,L.name=g,L.height=G.value,L.width=A.value,L.mobile=x,L.mobileBreakpoint=T,L.platform=V.value,L.thresholds=y}),yl&&window.addEventListener("resize",s,{passive:!0}),{...GB(L),update:m,ssr:!!b}}function _se(){const o=ni(LQ);if(!o)throw new Error("Could not find Vuetify display injection");return o}function oge(){if(!yl)return xa(!1);const{ssr:o}=_se();if(o){const b=xa(!1);return Cg(()=>{b.value=!0}),b}else return xa(!0)}const Vq=Br({eager:Boolean},"lazy");function Rse(o,b){const y=xa(!1),T=on(()=>y.value||o.eager||b.value);ta(b,()=>y.value=!0);function G(){o.eager||(y.value=!1)}return{isBooted:y,hasContent:T,onAfterLeave:G}}function Uq(){const b=Vu("useScopeId").vnode.scopeId;return{scopeId:b?{[b]:""}:void 0}}const Cre=Symbol.for("vuetify:stack"),x6=ih([]);function age(o,b,y){const T=Vu("useStack"),G=!y,V=ni(Cre,void 0),L=ih({activeChildren:new Set});Gl(Cre,L);const A=xa(+b.value);E2(o,()=>{var l;const h=(l=x6.at(-1))==null?void 0:l[1];A.value=h?h+10:+b.value,G&&x6.push([T.uid,A.value]),V==null||V.activeChildren.add(T.uid),ch(()=>{if(G){const c=ds(x6).findIndex(i=>i[0]===T.uid);x6.splice(c,1)}V==null||V.activeChildren.delete(T.uid)})});const s=xa(!0);G&&fh(()=>{var l;const h=((l=x6.at(-1))==null?void 0:l[0])===T.uid;setTimeout(()=>s.value=h)});const m=on(()=>!L.activeChildren.size);return{globalTop:Z6(s),localTop:m,stackStyles:on(()=>({zIndex:A.value}))}}function sge(o){return{teleportTarget:on(()=>{const y=o.value;if(y===!0||!yl)return;const T=y===!1?document.body:typeof y=="string"?document.querySelector(y):y;if(T==null)return;let G=T.querySelector(":scope > .v-overlay-container");return G||(G=document.createElement("div"),G.className="v-overlay-container",T.appendChild(G)),G})}}function ige(){return!0}function Lse(o,b,y){if(!o||Dse(o,y)===!1)return!1;const T=Oae(b);if(typeof ShadowRoot<"u"&&T instanceof ShadowRoot&&T.host===o.target)return!1;const G=(typeof y.value=="object"&&y.value.include||(()=>[]))();return G.push(b),!G.some(V=>V==null?void 0:V.contains(o.target))}function Dse(o,b){return(typeof b.value=="object"&&b.value.closeConditional||ige)(o)}function lge(o,b,y){const T=typeof y.value=="function"?y.value:y.value.handler;b._clickOutside.lastMousedownWasOutside&&Lse(o,b,y)&&setTimeout(()=>{Dse(o,y)&&T&&T(o)},0)}function Sre(o,b){const y=Oae(o);b(document),typeof ShadowRoot<"u"&&y instanceof ShadowRoot&&b(y)}const cge={mounted(o,b){const y=G=>lge(G,o,b),T=G=>{o._clickOutside.lastMousedownWasOutside=Lse(G,o,b)};Sre(o,G=>{G.addEventListener("click",y,!0),G.addEventListener("mousedown",T,!0)}),o._clickOutside||(o._clickOutside={lastMousedownWasOutside:!1}),o._clickOutside[b.instance.$.uid]={onClick:y,onMousedown:T}},unmounted(o,b){o._clickOutside&&(Sre(o,y=>{var V;if(!y||!((V=o._clickOutside)!=null&&V[b.instance.$.uid]))return;const{onClick:T,onMousedown:G}=o._clickOutside[b.instance.$.uid];y.removeEventListener("click",T,!0),y.removeEventListener("mousedown",G,!0)}),delete o._clickOutside[b.instance.$.uid])}};function uge(o){const{modelValue:b,color:y,...T}=o;return ct(Hy,{name:"fade-transition",appear:!0},{default:()=>[o.modelValue&&ct("div",Jo({class:["v-overlay__scrim",o.color.backgroundColorClasses.value],style:o.color.backgroundColorStyles.value},T),null)]})}const Wq=Br({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...qme(),...ts(),...x3(),...Vq(),...Hme(),...Zme(),...Gc(),...C3()},"VOverlay"),LB=Go()({name:"VOverlay",directives:{ClickOutside:cge},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Wq()},emits:{"click:outside":o=>!0,"update:modelValue":o=>!0,afterLeave:()=>!0},setup(o,b){let{slots:y,attrs:T,emit:G}=b;const V=ri(o,"modelValue"),L=on({get:()=>V.value,set:K=>{K&&o.disabled||(V.value=K)}}),{teleportTarget:A}=sge(on(()=>o.attach||o.contained)),{themeClasses:s}=Uu(o),{rtlClasses:m,isRtl:h}=Sg(),{hasContent:l,onAfterLeave:c}=Rse(o,L),i=wg(on(()=>typeof o.scrim=="string"?o.scrim:null)),{globalTop:u,localTop:d,stackStyles:g}=age(L,Xo(o,"zIndex"),o._disableGlobalStack),{activatorEl:v,activatorRef:x,activatorEvents:C,contentEvents:_,scrimEvents:$}=ege(o,{isActive:L,isTop:d}),{dimensionStyles:S}=w3(o),O=oge(),{scopeId:D}=Uq();ta(()=>o.disabled,K=>{K&&(L.value=!1)});const N=No(),M=No(),{contentStyles:k,updateLocation:R}=zme(o,{isRtl:h,contentEl:M,activatorEl:v,isActive:L});jme(o,{root:N,contentEl:M,activatorEl:v,isActive:L,updateLocation:R});function F(K){G("click:outside",K),o.persistent?J():L.value=!1}function H(){return L.value&&u.value}yl&&ta(L,K=>{K?window.addEventListener("keydown",j):window.removeEventListener("keydown",j)},{immediate:!0});function j(K){var ae,Q;K.key==="Escape"&&u.value&&(o.persistent?J():(L.value=!1,(ae=M.value)!=null&&ae.contains(document.activeElement)&&((Q=v.value)==null||Q.focus())))}const P=Xhe();E2(()=>o.closeOnBack,()=>{Jhe(P,K=>{u.value&&L.value?(K(!1),o.persistent?J():L.value=!1):K()})});const ee=No();ta(()=>L.value&&(o.absolute||o.contained)&&A.value==null,K=>{if(K){const ae=Iae(N.value);ae&&ae!==document.scrollingElement&&(ee.value=ae.scrollTop)}});function J(){o.noClickAnimation||M.value&&gE(M.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:TB})}return ga(()=>{var K;return ct(Uo,null,[(K=y.activator)==null?void 0:K.call(y,{isActive:L.value,props:Jo({ref:x},C.value,o.activatorProps)}),O.value&&l.value&&ct(Que,{disabled:!A.value,to:A.value},{default:()=>[ct("div",Jo({class:["v-overlay",{"v-overlay--absolute":o.absolute||o.contained,"v-overlay--active":L.value,"v-overlay--contained":o.contained},s.value,m.value,o.class],style:[g.value,{top:ra(ee.value)},o.style],ref:N},D,T),[ct(uge,Jo({color:i,modelValue:L.value&&!!o.scrim},$.value),null),ct(T2,{appear:!0,persisted:!0,transition:o.transition,target:v.value,onAfterLeave:()=>{c(),G("afterLeave")}},{default:()=>{var ae;return[lu(ct("div",Jo({ref:M,class:["v-overlay__content",o.contentClass],style:[S.value,k.value]},_.value,o.contentProps),[(ae=y.default)==null?void 0:ae.call(y,{isActive:L})]),[[R2,L.value],[_p("click-outside"),{handler:F,closeConditional:H,include:()=>[v.value]}]])]}})])]})])}),{activatorEl:v,animateClick:J,contentEl:M,globalTop:u,localTop:d,updateLocation:R}}}),QJ=Symbol("Forwarded refs");function qJ(o,b){let y=o;for(;y;){const T=Reflect.getOwnPropertyDescriptor(y,b);if(T)return T;y=Object.getPrototypeOf(y)}}function A3(o){for(var b=arguments.length,y=new Array(b>1?b-1:0),T=1;T<b;T++)y[T-1]=arguments[T];return o[QJ]=y,new Proxy(o,{get(G,V){if(Reflect.has(G,V))return Reflect.get(G,V);if(!(typeof V=="symbol"||V.startsWith("$")||V.startsWith("__"))){for(const L of y)if(L.value&&Reflect.has(L.value,V)){const A=Reflect.get(L.value,V);return typeof A=="function"?A.bind(L.value):A}}},has(G,V){if(Reflect.has(G,V))return!0;if(typeof V=="symbol"||V.startsWith("$")||V.startsWith("__"))return!1;for(const L of y)if(L.value&&Reflect.has(L.value,V))return!0;return!1},set(G,V,L){if(Reflect.has(G,V))return Reflect.set(G,V,L);if(typeof V=="symbol"||V.startsWith("$")||V.startsWith("__"))return!1;for(const A of y)if(A.value&&Reflect.has(A.value,V))return Reflect.set(A.value,V,L);return!1},getOwnPropertyDescriptor(G,V){var A;const L=Reflect.getOwnPropertyDescriptor(G,V);if(L)return L;if(!(typeof V=="symbol"||V.startsWith("$")||V.startsWith("__"))){for(const s of y){if(!s.value)continue;const m=qJ(s.value,V)??("_"in s.value?qJ((A=s.value._)==null?void 0:A.setupState,V):void 0);if(m)return m}for(const s of y){const m=s.value&&s.value[QJ];if(!m)continue;const h=m.slice();for(;h.length;){const l=h.shift(),c=qJ(l.value,V);if(c)return c;const i=l.value&&l.value[QJ];i&&h.push(...i)}}}}})}const fge=Br({id:String,...PE(Wq({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Eq}}),["absolute"])},"VMenu"),O2=Go()({name:"VMenu",props:fge(),emits:{"update:modelValue":o=>!0},setup(o,b){let{slots:y}=b;const T=ri(o,"modelValue"),{scopeId:G}=Uq(),V=Rp(),L=on(()=>o.id||`v-menu-${V}`),A=No(),s=ni(RQ,null),m=xa(0);Gl(RQ,{register(){++m.value},unregister(){--m.value},closeParents(){setTimeout(()=>{m.value||(T.value=!1,s==null||s.closeParents())},40)}});async function h(d){var x,C,_;const g=d.relatedTarget,v=d.target;await Ll(),T.value&&g!==v&&((x=A.value)!=null&&x.contentEl)&&((C=A.value)!=null&&C.globalTop)&&![document,A.value.contentEl].includes(v)&&!A.value.contentEl.contains(v)&&((_=wB(A.value.contentEl)[0])==null||_.focus())}ta(T,d=>{d?(s==null||s.register(),document.addEventListener("focusin",h,{once:!0})):(s==null||s.unregister(),document.removeEventListener("focusin",h))});function l(){s==null||s.closeParents()}function c(d){var g,v,x;o.disabled||d.key==="Tab"&&(Aae(wB((g=A.value)==null?void 0:g.contentEl,!1),d.shiftKey?"prev":"next",_=>_.tabIndex>=0)||(T.value=!1,(x=(v=A.value)==null?void 0:v.activatorEl)==null||x.focus()))}function i(d){var v;if(o.disabled)return;const g=(v=A.value)==null?void 0:v.contentEl;g&&T.value?d.key==="ArrowDown"?(d.preventDefault(),CB(g,"next")):d.key==="ArrowUp"&&(d.preventDefault(),CB(g,"prev")):["ArrowDown","ArrowUp"].includes(d.key)&&(T.value=!0,d.preventDefault(),setTimeout(()=>setTimeout(()=>i(d))))}const u=on(()=>Jo({"aria-haspopup":"menu","aria-expanded":String(T.value),"aria-owns":L.value,onKeydown:i},o.activatorProps));return ga(()=>{const[d]=LB.filterProps(o);return ct(LB,Jo({ref:A,class:["v-menu",o.class],style:o.style},d,{modelValue:T.value,"onUpdate:modelValue":g=>T.value=g,absolute:!0,activatorProps:u.value,"onClick:outside":l,onKeydown:c},G),{activator:y.activator,default:function(){for(var g=arguments.length,v=new Array(g),x=0;x<g;x++)v[x]=arguments[x];return ct(Ac,{root:"VMenu"},{default:()=>{var C;return[(C=y.default)==null?void 0:C.call(y,...v)]}})}})}),A3({id:L,ΨopenChildren:m},A)}});const dge=Br({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...ts(),...C3({transition:{component:Uae}})},"VCounter"),$se=Go()({name:"VCounter",functional:!0,props:dge(),setup(o,b){let{slots:y}=b;const T=on(()=>o.max?`${o.value} / ${o.max}`:String(o.value));return ga(()=>ct(T2,{transition:o.transition},{default:()=>[lu(ct("div",{class:["v-counter",o.class],style:o.style},[y.default?y.default({counter:T.value,max:o.max,value:o.value}):T.value]),[[R2,o.active]])]})),{}}});const hge=Br({floating:Boolean,...ts()},"VFieldLabel"),qF=Go()({name:"VFieldLabel",props:hge(),setup(o,b){let{slots:y}=b;return ga(()=>ct(iH,{class:["v-field-label",{"v-field-label--floating":o.floating},o.class],style:o.style,"aria-hidden":o.floating||void 0},y)),{}}}),mge=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Gq=Br({appendInnerIcon:vi,bgColor:String,clearable:Boolean,clearIcon:{type:vi,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:vi,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:o=>mge.includes(o)},"onClick:clear":M0(),"onClick:appendInner":M0(),"onClick:prependInner":M0(),...ts(),...rH(),...Tg(),...Gc()},"VField"),Zq=Go()({name:"VField",inheritAttrs:!1,props:{id:String,...lH(),...Gq()},emits:{"update:focused":o=>!0,"update:modelValue":o=>!0},setup(o,b){let{attrs:y,emit:T,slots:G}=b;const{themeClasses:V}=Uu(o),{loaderClasses:L}=oH(o),{focusClasses:A,isFocused:s,focus:m,blur:h}=q6(o),{InputIcon:l}=gse(o),{roundedClasses:c}=kg(o),{rtlClasses:i}=Sg(),u=on(()=>o.dirty||o.active),d=on(()=>!o.singleLine&&!!(o.label||G.label)),g=Rp(),v=on(()=>o.id||`input-${g}`),x=on(()=>`${v.value}-messages`),C=No(),_=No(),$=No(),S=on(()=>["plain","underlined"].includes(o.variant)),{backgroundColorClasses:O,backgroundColorStyles:D}=wg(Xo(o,"bgColor")),{textColorClasses:N,textColorStyles:M}=xg(on(()=>o.error||o.disabled?void 0:u.value&&s.value?o.color:o.baseColor));ta(u,F=>{if(d.value){const H=C.value.$el,j=_.value.$el;requestAnimationFrame(()=>{const P=Tq(H),ee=j.getBoundingClientRect(),J=ee.x-P.x,K=ee.y-P.y-(P.height/2-ee.height/2),ae=ee.width/.75,Q=Math.abs(ae-P.width)>1?{maxWidth:ra(ae)}:void 0,he=getComputedStyle(H),ge=getComputedStyle(j),Se=parseFloat(he.transitionDuration)*1e3||150,ce=parseFloat(ge.getPropertyValue("--v-field-label-scale")),ne=ge.getPropertyValue("color");H.style.visibility="visible",j.style.visibility="hidden",gE(H,{transform:`translate(${J}px, ${K}px) scale(${ce})`,color:ne,...Q},{duration:Se,easing:TB,direction:F?"normal":"reverse"}).finished.then(()=>{H.style.removeProperty("visibility"),j.style.removeProperty("visibility")})})}},{flush:"post"});const k=on(()=>({isActive:u,isFocused:s,controlRef:$,blur:h,focus:m}));function R(F){F.target!==document.activeElement&&F.preventDefault()}return ga(()=>{var J,K,ae;const F=o.variant==="outlined",H=G["prepend-inner"]||o.prependInnerIcon,j=!!(o.clearable||G.clear),P=!!(G["append-inner"]||o.appendInnerIcon||j),ee=G.label?G.label({...k.value,label:o.label,props:{for:v.value}}):o.label;return ct("div",Jo({class:["v-field",{"v-field--active":u.value,"v-field--appended":P,"v-field--center-affix":o.centerAffix??!S.value,"v-field--disabled":o.disabled,"v-field--dirty":o.dirty,"v-field--error":o.error,"v-field--flat":o.flat,"v-field--has-background":!!o.bgColor,"v-field--persistent-clear":o.persistentClear,"v-field--prepended":H,"v-field--reverse":o.reverse,"v-field--single-line":o.singleLine,"v-field--no-label":!ee,[`v-field--variant-${o.variant}`]:!0},V.value,O.value,A.value,L.value,c.value,i.value,o.class],style:[D.value,o.style],onClick:R},y),[ct("div",{class:"v-field__overlay"},null),ct(Bq,{name:"v-field",active:!!o.loading,color:o.error?"error":typeof o.loading=="string"?o.loading:o.color},{default:G.loader}),H&&ct("div",{key:"prepend",class:"v-field__prepend-inner"},[o.prependInnerIcon&&ct(l,{key:"prepend-icon",name:"prependInner"},null),(J=G["prepend-inner"])==null?void 0:J.call(G,k.value)]),ct("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(o.variant)&&d.value&&ct(qF,{key:"floating-label",ref:_,class:[N.value],floating:!0,for:v.value,style:M.value},{default:()=>[ee]}),ct(qF,{ref:C,for:v.value},{default:()=>[ee]}),(K=G.default)==null?void 0:K.call(G,{...k.value,props:{id:v.value,class:"v-field__input","aria-describedby":x.value},focus:m,blur:h})]),j&&ct(Wae,{key:"clear"},{default:()=>[lu(ct("div",{class:"v-field__clearable",onMousedown:Q=>{Q.preventDefault(),Q.stopPropagation()}},[G.clear?G.clear():ct(l,{name:"clear"},null)]),[[R2,o.dirty]])]}),P&&ct("div",{key:"append",class:"v-field__append-inner"},[(ae=G["append-inner"])==null?void 0:ae.call(G,k.value),o.appendInnerIcon&&ct(l,{key:"append-icon",name:"appendInner"},null)]),ct("div",{class:["v-field__outline",N.value],style:M.value},[F&&ct(Uo,null,[ct("div",{class:"v-field__outline__start"},null),d.value&&ct("div",{class:"v-field__outline__notch"},[ct(qF,{ref:_,floating:!0,for:v.value},{default:()=>[ee]})]),ct("div",{class:"v-field__outline__end"},null)]),S.value&&d.value&&ct(qF,{ref:_,floating:!0,for:v.value},{default:()=>[ee]})])])}),{controlRef:$}}});function Ose(o){const b=Object.keys(Zq.props).filter(y=>!wq(y)&&y!=="class"&&y!=="style");return ME(o,b)}const gge=["color","file","time","date","datetime-local","week","month"],fH=Br({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...e$(),...Gq()},"VTextField"),Ep=Go()({name:"VTextField",directives:{Intersect:Rq},inheritAttrs:!1,props:fH(),emits:{"click:control":o=>!0,"mousedown:control":o=>!0,"update:focused":o=>!0,"update:modelValue":o=>!0},setup(o,b){let{attrs:y,emit:T,slots:G}=b;const V=ri(o,"modelValue"),{isFocused:L,focus:A,blur:s}=q6(o),m=on(()=>typeof o.counterValue=="function"?o.counterValue(V.value):typeof o.counterValue=="number"?o.counterValue:(V.value??"").toString().length),h=on(()=>{if(y.maxlength)return y.maxlength;if(!(!o.counter||typeof o.counter!="number"&&typeof o.counter!="string"))return o.counter}),l=on(()=>["plain","underlined"].includes(o.variant));function c(S,O){var D,N;!o.autofocus||!S||(N=(D=O[0].target)==null?void 0:D.focus)==null||N.call(D)}const i=No(),u=No(),d=No(),g=on(()=>gge.includes(o.type)||o.persistentPlaceholder||L.value||o.active);function v(){var S;d.value!==document.activeElement&&((S=d.value)==null||S.focus()),L.value||A()}function x(S){T("mousedown:control",S),S.target!==d.value&&(v(),S.preventDefault())}function C(S){v(),T("click:control",S)}function _(S){S.stopPropagation(),v(),Ll(()=>{V.value=null,kae(o["onClick:clear"],S)})}function $(S){var D;const O=S.target;if(V.value=O.value,(D=o.modelModifiers)!=null&&D.trim&&["text","search","password","tel","url"].includes(o.type)){const N=[O.selectionStart,O.selectionEnd];Ll(()=>{O.selectionStart=N[0],O.selectionEnd=N[1]})}}return ga(()=>{const S=!!(G.counter||o.counter!==!1&&o.counter!=null),O=!!(S||G.details),[D,N]=Cq(y),[{modelValue:M,...k}]=_2.filterProps(o),[R]=Ose(o);return ct(_2,Jo({ref:i,modelValue:V.value,"onUpdate:modelValue":F=>V.value=F,class:["v-text-field",{"v-text-field--prefixed":o.prefix,"v-text-field--suffixed":o.suffix,"v-text-field--plain-underlined":["plain","underlined"].includes(o.variant)},o.class],style:o.style},D,k,{centerAffix:!l.value,focused:L.value}),{...G,default:F=>{let{id:H,isDisabled:j,isDirty:P,isReadonly:ee,isValid:J}=F;return ct(Zq,Jo({ref:u,onMousedown:x,onClick:C,"onClick:clear":_,"onClick:prependInner":o["onClick:prependInner"],"onClick:appendInner":o["onClick:appendInner"],role:o.role},R,{id:H.value,active:g.value||P.value,dirty:P.value||o.dirty,disabled:j.value,focused:L.value,error:J.value===!1}),{...G,default:K=>{let{props:{class:ae,...Q}}=K;const he=lu(ct("input",Jo({ref:d,value:V.value,onInput:$,autofocus:o.autofocus,readonly:ee.value,disabled:j.value,name:o.name,placeholder:o.placeholder,size:1,type:o.type,onFocus:v,onBlur:s},Q,N),null),[[_p("intersect"),{handler:c},null,{once:!0}]]);return ct(Uo,null,[o.prefix&&ct("span",{class:"v-text-field__prefix"},[ct("span",{class:"v-text-field__prefix__text"},[o.prefix])]),G.default?ct("div",{class:ae,"data-no-activator":""},[G.default(),he]):By(he,{class:ae}),o.suffix&&ct("span",{class:"v-text-field__suffix"},[ct("span",{class:"v-text-field__suffix__text"},[o.suffix])])])}})},details:O?F=>{var H;return ct(Uo,null,[(H=G.details)==null?void 0:H.call(G,F),S&&ct(Uo,null,[ct("span",null,null),ct($se,{active:o.persistentCounter||L.value,value:m.value,max:h.value},G.counter)])])}:void 0})}),A3({},i,u,d)}});const pge=Br({renderless:Boolean,...ts()},"VVirtualScrollItem"),vge=Go()({name:"VVirtualScrollItem",inheritAttrs:!1,props:pge(),emits:{"update:height":o=>!0},setup(o,b){let{attrs:y,emit:T,slots:G}=b;const{resizeRef:V,contentRect:L}=tH(void 0,"border");ta(()=>{var A;return(A=L.value)==null?void 0:A.height},A=>{A!=null&&T("update:height",A)}),ga(()=>{var A,s;return o.renderless?ct(Uo,null,[(A=G.default)==null?void 0:A.call(G,{itemRef:V})]):ct("div",Jo({ref:V,class:["v-virtual-scroll__item",o.class],style:o.style},y),[(s=G.default)==null?void 0:s.call(G)])})}}),Tre=-1,kre=1,yge=Br({itemHeight:{type:[Number,String],default:48}},"virtual");function bge(o,b,y){const T=xa(0),G=xa(o.itemHeight),V=on({get:()=>parseInt(G.value??0,10),set(O){G.value=O}}),L=No(),{resizeRef:A,contentRect:s}=tH();fh(()=>{A.value=L.value});const m=_se(),h=new Map;let l=Array.from({length:b.value.length});const c=on(()=>{const O=(!s.value||L.value===document.documentElement?m.height.value:s.value.height)-((y==null?void 0:y.value)??0);return Math.ceil(O/V.value*1.7+1)});function i(O,D){V.value=Math.max(V.value,D),l[O]=D,h.set(b.value[O],D)}function u(O){return l.slice(0,O).reduce((D,N)=>D+(N||V.value),0)}function d(O){const D=b.value.length;let N=0,M=0;for(;M<O&&N<D;)M+=l[N++]||V.value;return N-1}let g=0;function v(){if(!L.value||!s.value)return;const O=s.value.height-56,D=L.value.scrollTop,N=D<g?Tre:kre,M=d(D+O/2),k=Math.round(c.value/3),R=M-k,F=T.value+k*2-1;N===Tre&&M<=F?T.value=yg(R,0,b.value.length):N===kre&&M>=F&&(T.value=yg(R,0,b.value.length-c.value)),g=D}function x(O){if(!L.value)return;const D=u(O);L.value.scrollTop=D}const C=on(()=>Math.min(b.value.length,T.value+c.value)),_=on(()=>b.value.slice(T.value,C.value).map((O,D)=>({raw:O,index:D+T.value}))),$=on(()=>u(T.value)),S=on(()=>u(b.value.length)-u(C.value));return ta(()=>b.value.length,()=>{l=AE(b.value.length).map(()=>V.value),h.forEach((O,D)=>{const N=b.value.indexOf(D);N===-1?h.delete(D):l[N]=O})}),{containerRef:L,computedItems:_,itemHeight:V,paddingTop:$,paddingBottom:S,scrollToIndex:x,handleScroll:v,handleItemResize:i}}const xge=Br({items:{type:Array,default:()=>[]},renderless:Boolean,...yge(),...ts(),...x3()},"VVirtualScroll"),jq=Go()({name:"VVirtualScroll",props:xge(),setup(o,b){let{slots:y}=b;const T=Vu("VVirtualScroll"),{dimensionStyles:G}=w3(o),{containerRef:V,handleScroll:L,handleItemResize:A,scrollToIndex:s,paddingTop:m,paddingBottom:h,computedItems:l}=bge(o,Xo(o,"items"));return E2(()=>o.renderless,()=>{Cg(()=>{var c;V.value=Iae(T.vnode.el,!0),(c=V.value)==null||c.addEventListener("scroll",L)}),ch(()=>{var c;(c=V.value)==null||c.removeEventListener("scroll",L)})}),ga(()=>{const c=l.value.map(i=>ct(vge,{key:i.index,renderless:o.renderless,"onUpdate:height":u=>A(i.index,u)},{default:u=>{var d;return(d=y.default)==null?void 0:d.call(y,{item:i.raw,index:i.index,...u})}}));return o.renderless?ct(Uo,null,[ct("div",{class:"v-virtual-scroll__spacer",style:{paddingTop:ra(m.value)}},null),c,ct("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:ra(h.value)}},null)]):ct("div",{ref:V,class:["v-virtual-scroll",o.class],onScroll:L,style:[G.value,o.style]},[ct("div",{class:"v-virtual-scroll__container",style:{paddingTop:ra(m.value),paddingBottom:ra(h.value)}},[c])])}),{scrollToIndex:s}}});function Yq(o,b){const y=xa(!1);let T;function G(A){cancelAnimationFrame(T),y.value=!0,T=requestAnimationFrame(()=>{T=requestAnimationFrame(()=>{y.value=!1})})}async function V(){await new Promise(A=>requestAnimationFrame(A)),await new Promise(A=>requestAnimationFrame(A)),await new Promise(A=>requestAnimationFrame(A)),await new Promise(A=>{if(y.value){const s=ta(y,()=>{s(),A()})}else A()})}async function L(A){var h,l;if(A.key==="Tab"&&((h=b.value)==null||h.focus()),!["PageDown","PageUp","Home","End"].includes(A.key))return;const s=(l=o.value)==null?void 0:l.$el;if(!s)return;(A.key==="Home"||A.key==="End")&&s.scrollTo({top:A.key==="Home"?0:s.scrollHeight,behavior:"smooth"}),await V();const m=s.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(A.key==="PageDown"||A.key==="Home"){const c=s.getBoundingClientRect().top;for(const i of m)if(i.getBoundingClientRect().top>=c){i.focus();break}}else{const c=s.getBoundingClientRect().bottom;for(const i of[...m].reverse())if(i.getBoundingClientRect().bottom<=c){i.focus();break}}}return{onListScroll:G,onListKeydown:L}}const Kq=Br({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:vi,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...Tse({itemChildren:!1})},"Select"),wge=Br({...Kq(),...PE(fH({modelValue:null,role:"button"}),["validationValue","dirty","appendInnerIcon"]),...C3({transition:{component:Eq}})},"VSelect"),Xq=Go()({name:"VSelect",props:wge(),emits:{"update:focused":o=>!0,"update:modelValue":o=>!0,"update:menu":o=>!0},setup(o,b){let{slots:y}=b;const{t:T}=L2(),G=No(),V=No(),L=No(),A=ri(o,"menu"),s=on({get:()=>A.value,set:P=>{var ee;A.value&&!P&&((ee=V.value)!=null&&ee.ΨopenChildren)||(A.value=P)}}),{items:m,transformIn:h,transformOut:l}=zq(o),c=ri(o,"modelValue",[],P=>h(P===null?[null]:xd(P)),P=>{const ee=l(P);return o.multiple?ee:ee[0]??null}),i=cH(),u=on(()=>c.value.map(P=>P.value)),d=xa(!1),g=on(()=>s.value?o.closeText:o.openText);let v="",x;const C=on(()=>o.hideSelected?m.value.filter(P=>!c.value.some(ee=>ee===P)):m.value),_=on(()=>o.hideNoData&&!m.value.length||o.readonly||(i==null?void 0:i.isReadonly.value)),$=No(),{onListScroll:S,onListKeydown:O}=Yq($,G);function D(P){o.openOnClear&&(s.value=!0)}function N(){_.value||(s.value=!s.value)}function M(P){var Q,he;if(!P.key||o.readonly||i!=null&&i.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(P.key)&&P.preventDefault(),["Enter","ArrowDown"," "].includes(P.key)&&(s.value=!0),["Escape","Tab"].includes(P.key)&&(s.value=!1),P.key==="Home"?(Q=$.value)==null||Q.focus("first"):P.key==="End"&&((he=$.value)==null||he.focus("last"));const ee=1e3;function J(ge){const Se=ge.key.length===1,ce=!ge.ctrlKey&&!ge.metaKey&&!ge.altKey;return Se&&ce}if(o.multiple||!J(P))return;const K=performance.now();K-x>ee&&(v=""),v+=P.key.toLowerCase(),x=K;const ae=m.value.find(ge=>ge.title.toLowerCase().startsWith(v));ae!==void 0&&(c.value=[ae])}function k(P){if(o.multiple){const ee=c.value.findIndex(J=>o.valueComparator(J.value,P.value));if(ee===-1)c.value=[...c.value,P];else{const J=[...c.value];J.splice(ee,1),c.value=J}}else c.value=[P],s.value=!1}function R(P){var ee;(ee=$.value)!=null&&ee.$el.contains(P.relatedTarget)||(s.value=!1)}function F(){var P;d.value&&((P=G.value)==null||P.focus())}function H(P){d.value=!0}function j(P){if(P==null)c.value=[];else if(EE(G.value,":autofill")||EE(G.value,":-webkit-autofill")){const ee=m.value.find(J=>J.title===P);ee&&k(ee)}else G.value&&(G.value.value="")}return ta(s,()=>{if(!o.hideSelected&&s.value&&c.value.length){const P=C.value.findIndex(ee=>c.value.some(J=>o.valueComparator(J.value,ee.value)));yl&&window.requestAnimationFrame(()=>{var ee;P>=0&&((ee=L.value)==null||ee.scrollToIndex(P))})}}),ga(()=>{const P=!!(o.chips||y.chip),ee=!!(!o.hideNoData||C.value.length||y["prepend-item"]||y["append-item"]||y["no-data"]),J=c.value.length>0,[K]=Ep.filterProps(o),ae=J||!d.value&&o.label&&!o.persistentPlaceholder?void 0:o.placeholder;return ct(Ep,Jo({ref:G},K,{modelValue:c.value.map(Q=>Q.props.value).join(", "),"onUpdate:modelValue":j,focused:d.value,"onUpdate:focused":Q=>d.value=Q,validationValue:c.externalValue,counterValue:c.value.length,dirty:J,class:["v-select",{"v-select--active-menu":s.value,"v-select--chips":!!o.chips,[`v-select--${o.multiple?"multiple":"single"}`]:!0,"v-select--selected":c.value.length,"v-select--selection-slot":!!y.selection},o.class],style:o.style,inputmode:"none",placeholder:ae,"onClick:clear":D,"onMousedown:control":N,onBlur:R,onKeydown:M,"aria-label":T(g.value),title:T(g.value)}),{...y,default:()=>ct(Uo,null,[ct(O2,Jo({ref:V,modelValue:s.value,"onUpdate:modelValue":Q=>s.value=Q,activator:"parent",contentClass:"v-select__content",disabled:_.value,eager:o.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:o.transition,onAfterLeave:F},o.menuProps),{default:()=>[ee&&ct($2,{ref:$,selected:u.value,selectStrategy:o.multiple?"independent":"single-independent",onMousedown:Q=>Q.preventDefault(),onKeydown:O,onFocusin:H,onScrollPassive:S,tabindex:"-1",color:o.itemColor??o.color},{default:()=>{var Q,he,ge;return[(Q=y["prepend-item"])==null?void 0:Q.call(y),!C.value.length&&!o.hideNoData&&(((he=y["no-data"])==null?void 0:he.call(y))??ct(fm,{title:T(o.noDataText)},null)),ct(jq,{ref:L,renderless:!0,items:C.value},{default:Se=>{var ye;let{item:ce,index:ne,itemRef:fe}=Se;const X=Jo(ce.props,{ref:fe,key:ne,onClick:()=>k(ce)});return((ye=y.item)==null?void 0:ye.call(y,{item:ce,index:ne,props:X}))??ct(fm,X,{prepend:Ce=>{let{isSelected:$e}=Ce;return ct(Uo,null,[o.multiple&&!o.hideSelected?ct(FE,{key:ce.value,modelValue:$e,ripple:!1,tabindex:"-1"},null):void 0,ce.props.prependIcon&&ct(js,{icon:ce.props.prependIcon},null)])}})}}),(ge=y["append-item"])==null?void 0:ge.call(y)]}})]}),c.value.map((Q,he)=>{var ce;function ge(ne){ne.stopPropagation(),ne.preventDefault(),k(Q)}const Se={"onClick:close":ge,onMousedown(ne){ne.preventDefault(),ne.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return ct("div",{key:Q.value,class:"v-select__selection"},[P?y.chip?ct(Ac,{key:"chip-defaults",defaults:{VChip:{closable:o.closableChips,size:"small",text:Q.title}}},{default:()=>{var ne;return[(ne=y.chip)==null?void 0:ne.call(y,{item:Q,index:he,props:Se})]}}):ct(wE,Jo({key:"chip",closable:o.closableChips,size:"small",text:Q.title,disabled:Q.props.disabled},Se),null):((ce=y.selection)==null?void 0:ce.call(y,{item:Q,index:he}))??ct("span",{class:"v-select__selection-text"},[Q.title,o.multiple&&he<c.value.length-1&&ct("span",{class:"v-select__selection-comma"},[ii(",")])])])})]),"append-inner":function(){var Se;for(var Q=arguments.length,he=new Array(Q),ge=0;ge<Q;ge++)he[ge]=arguments[ge];return ct(Uo,null,[(Se=y["append-inner"])==null?void 0:Se.call(y,...he),o.menuIcon?ct(js,{class:"v-select__menu-icon",icon:o.menuIcon},null):void 0])}})}),A3({isFocused:d,menu:s,select:k},G)}}),Cge=(o,b,y)=>o==null||b==null?-1:o.toString().toLocaleLowerCase().indexOf(b.toString().toLocaleLowerCase()),Jq=Br({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Sge(o,b,y){var A;const T=[],G=(y==null?void 0:y.default)??Cge,V=y!=null&&y.filterKeys?xd(y.filterKeys):!1,L=Object.keys((y==null?void 0:y.customKeyFilter)??{}).length;if(!(o!=null&&o.length))return T;e:for(let s=0;s<o.length;s++){const[m,h=m]=xd(o[s]),l={},c={};let i=-1;if(b&&!(y!=null&&y.noFilter)){if(typeof m=="object"){const g=V||Object.keys(h);for(const v of g){const x=lh(h,v,h),C=(A=y==null?void 0:y.customKeyFilter)==null?void 0:A[v];if(i=C?C(x,b,m):G(x,b,m),i!==-1&&i!==!1)C?l[v]=i:c[v]=i;else if((y==null?void 0:y.filterMode)==="every")continue e}}else i=G(m,b,m),i!==-1&&i!==!1&&(c.title=i);const u=Object.keys(c).length,d=Object.keys(l).length;if(!u&&!d||(y==null?void 0:y.filterMode)==="union"&&d!==L&&!u||(y==null?void 0:y.filterMode)==="intersection"&&(d!==L||!u))continue}T.push({index:s,matches:{...c,...l}})}return T}function Qq(o,b,y,T){const G=No([]),V=No(new Map),L=on(()=>T!=null&&T.transform?im(b).map(s=>[s,T.transform(s)]):im(b));fh(()=>{const s=typeof y=="function"?y():im(y),m=typeof s!="string"&&typeof s!="number"?"":String(s),h=Sge(L.value,m,{customKeyFilter:o.customKeyFilter,default:o.customFilter,filterKeys:o.filterKeys,filterMode:o.filterMode,noFilter:o.noFilter}),l=im(b),c=[],i=new Map;h.forEach(u=>{let{index:d,matches:g}=u;const v=l[d];c.push(v),i.set(v.value,g)}),G.value=c,V.value=i});function A(s){return V.value.get(s.value)}return{filteredItems:G,filteredMatches:V,getMatches:A}}function Tge(o,b,y){if(b==null)return o;if(Array.isArray(b))throw new Error("Multiple matches is not implemented");return typeof b=="number"&&~b?ct(Uo,null,[ct("span",{class:"v-autocomplete__unmask"},[o.substr(0,b)]),ct("span",{class:"v-autocomplete__mask"},[o.substr(b,y)]),ct("span",{class:"v-autocomplete__unmask"},[o.substr(b+y)])]):o}const kge=Br({autoSelectFirst:{type:[Boolean,String]},search:String,...Jq({filterKeys:["title"]}),...Kq(),...PE(fH({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...C3({transition:!1})},"VAutocomplete"),Pse=Go()({name:"VAutocomplete",props:kge(),emits:{"update:focused":o=>!0,"update:search":o=>!0,"update:modelValue":o=>!0,"update:menu":o=>!0},setup(o,b){let{slots:y}=b;const{t:T}=L2(),G=No(),V=xa(!1),L=xa(!0),A=xa(!1),s=No(),m=No(),h=ri(o,"menu"),l=on({get:()=>h.value,set:X=>{var ye;h.value&&!X&&((ye=s.value)!=null&&ye.ΨopenChildren)||(h.value=X)}}),c=xa(-1),i=on(()=>{var X;return(X=G.value)==null?void 0:X.color}),u=on(()=>l.value?o.closeText:o.openText),{items:d,transformIn:g,transformOut:v}=zq(o),{textColorClasses:x,textColorStyles:C}=xg(i),_=ri(o,"search",""),$=ri(o,"modelValue",[],X=>g(X===null?[null]:xd(X)),X=>{const ye=v(X);return o.multiple?ye:ye[0]??null}),S=cH(),{filteredItems:O,getMatches:D}=Qq(o,d,()=>L.value?"":_.value),N=on(()=>o.hideSelected?O.value.filter(X=>!$.value.some(ye=>ye.value===X.value)):O.value),M=on(()=>$.value.map(X=>X.props.value)),k=on(()=>{var ye;return(o.autoSelectFirst===!0||o.autoSelectFirst==="exact"&&_.value===((ye=N.value[0])==null?void 0:ye.title))&&N.value.length>0&&!L.value&&!A.value}),R=on(()=>o.hideNoData&&!d.value.length||o.readonly||(S==null?void 0:S.isReadonly.value)),F=No(),{onListScroll:H,onListKeydown:j}=Yq(F,G);function P(X){o.openOnClear&&(l.value=!0),_.value=""}function ee(){R.value||(l.value=!0)}function J(X){R.value||(V.value&&(X.preventDefault(),X.stopPropagation()),l.value=!l.value)}function K(X){var $e,ke,Ne;if(o.readonly||S!=null&&S.isReadonly.value)return;const ye=G.value.selectionStart,Ce=$.value.length;if((c.value>-1||["Enter","ArrowDown","ArrowUp"].includes(X.key))&&X.preventDefault(),["Enter","ArrowDown"].includes(X.key)&&(l.value=!0),["Escape"].includes(X.key)&&(l.value=!1),k.value&&["Enter","Tab"].includes(X.key)&&fe(N.value[0]),X.key==="ArrowDown"&&k.value&&(($e=F.value)==null||$e.focus("next")),!!o.multiple){if(["Backspace","Delete"].includes(X.key)){if(c.value<0){X.key==="Backspace"&&!_.value&&(c.value=Ce-1);return}const Ve=c.value,Oe=$.value[c.value];Oe&&!Oe.props.disabled&&fe(Oe),c.value=Ve>=Ce-1?Ce-2:Ve}if(X.key==="ArrowLeft"){if(c.value<0&&ye>0)return;const Ve=c.value>-1?c.value-1:Ce-1;$.value[Ve]?c.value=Ve:(c.value=-1,G.value.setSelectionRange((ke=_.value)==null?void 0:ke.length,(Ne=_.value)==null?void 0:Ne.length))}if(X.key==="ArrowRight"){if(c.value<0)return;const Ve=c.value+1;$.value[Ve]?c.value=Ve:(c.value=-1,G.value.setSelectionRange(0,0))}}}function ae(X){_.value=X.target.value}function Q(X){if(EE(G.value,":autofill")||EE(G.value,":-webkit-autofill")){const ye=d.value.find(Ce=>Ce.title===X.target.value);ye&&fe(ye)}}function he(){var X;V.value&&(L.value=!0,(X=G.value)==null||X.focus())}function ge(X){V.value=!0,setTimeout(()=>{A.value=!0})}function Se(X){A.value=!1}function ce(X){(X==null||X===""&&!o.multiple)&&($.value=[])}const ne=xa(!1);function fe(X){if(o.multiple){const ye=$.value.findIndex(Ce=>o.valueComparator(Ce.value,X.value));if(ye===-1)$.value=[...$.value,X];else{const Ce=[...$.value];Ce.splice(ye,1),$.value=Ce}}else $.value=[X],ne.value=!0,_.value=X.title,l.value=!1,L.value=!0,Ll(()=>ne.value=!1)}return ta(V,(X,ye)=>{var Ce;X!==ye&&(X?(ne.value=!0,_.value=o.multiple?"":String(((Ce=$.value.at(-1))==null?void 0:Ce.props.title)??""),L.value=!0,Ll(()=>ne.value=!1)):(!o.multiple&&!_.value?$.value=[]:k.value&&!A.value&&!$.value.some($e=>{let{value:ke}=$e;return ke===N.value[0].value})&&fe(N.value[0]),l.value=!1,_.value="",c.value=-1))}),ta(_,X=>{!V.value||ne.value||(X&&(l.value=!0),L.value=!X)}),ta(l,()=>{if(!o.hideSelected&&l.value&&$.value.length){const X=N.value.findIndex(ye=>$.value.some(Ce=>ye.value===Ce.value));yl&&window.requestAnimationFrame(()=>{var ye;X>=0&&((ye=m.value)==null||ye.scrollToIndex(X))})}}),ga(()=>{const X=!!(o.chips||y.chip),ye=!!(!o.hideNoData||N.value.length||y["prepend-item"]||y["append-item"]||y["no-data"]),Ce=$.value.length>0,[$e]=Ep.filterProps(o);return ct(Ep,Jo({ref:G},$e,{modelValue:_.value,"onUpdate:modelValue":ce,focused:V.value,"onUpdate:focused":ke=>V.value=ke,validationValue:$.externalValue,counterValue:$.value.length,dirty:Ce,onInput:ae,onChange:Q,class:["v-autocomplete",`v-autocomplete--${o.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":l.value,"v-autocomplete--chips":!!o.chips,"v-autocomplete--selection-slot":!!y.selection,"v-autocomplete--selecting-index":c.value>-1},o.class],style:o.style,readonly:o.readonly,placeholder:Ce?void 0:o.placeholder,"onClick:clear":P,"onMousedown:control":ee,onKeydown:K}),{...y,default:()=>ct(Uo,null,[ct(O2,Jo({ref:s,modelValue:l.value,"onUpdate:modelValue":ke=>l.value=ke,activator:"parent",contentClass:"v-autocomplete__content",disabled:R.value,eager:o.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:o.transition,onAfterLeave:he},o.menuProps),{default:()=>[ye&&ct($2,{ref:F,selected:M.value,selectStrategy:o.multiple?"independent":"single-independent",onMousedown:ke=>ke.preventDefault(),onKeydown:j,onFocusin:ge,onFocusout:Se,onScrollPassive:H,tabindex:"-1",color:o.itemColor??o.color},{default:()=>{var ke,Ne,Ve;return[(ke=y["prepend-item"])==null?void 0:ke.call(y),!N.value.length&&!o.hideNoData&&(((Ne=y["no-data"])==null?void 0:Ne.call(y))??ct(fm,{title:T(o.noDataText)},null)),ct(jq,{ref:m,renderless:!0,items:N.value},{default:Oe=>{var ue;let{item:Fe,index:ie,itemRef:we}=Oe;const se=Jo(Fe.props,{ref:we,key:ie,active:k.value&&ie===0?!0:void 0,onClick:()=>fe(Fe)});return((ue=y.item)==null?void 0:ue.call(y,{item:Fe,index:ie,props:se}))??ct(fm,se,{prepend:pe=>{let{isSelected:le}=pe;return ct(Uo,null,[o.multiple&&!o.hideSelected?ct(FE,{key:Fe.value,modelValue:le,ripple:!1,tabindex:"-1"},null):void 0,Fe.props.prependIcon&&ct(js,{icon:Fe.props.prependIcon},null)])},title:()=>{var pe,le;return L.value?Fe.title:Tge(Fe.title,(pe=D(Fe))==null?void 0:pe.title,((le=_.value)==null?void 0:le.length)??0)}})}}),(Ve=y["append-item"])==null?void 0:Ve.call(y)]}})]}),$.value.map((ke,Ne)=>{var Fe;function Ve(ie){ie.stopPropagation(),ie.preventDefault(),fe(ke)}const Oe={"onClick:close":Ve,onMousedown(ie){ie.preventDefault(),ie.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return ct("div",{key:ke.value,class:["v-autocomplete__selection",Ne===c.value&&["v-autocomplete__selection--selected",x.value]],style:Ne===c.value?C.value:{}},[X?y.chip?ct(Ac,{key:"chip-defaults",defaults:{VChip:{closable:o.closableChips,size:"small",text:ke.title}}},{default:()=>{var ie;return[(ie=y.chip)==null?void 0:ie.call(y,{item:ke,index:Ne,props:Oe})]}}):ct(wE,Jo({key:"chip",closable:o.closableChips,size:"small",text:ke.title,disabled:ke.props.disabled},Oe),null):((Fe=y.selection)==null?void 0:Fe.call(y,{item:ke,index:Ne}))??ct("span",{class:"v-autocomplete__selection-text"},[ke.title,o.multiple&&Ne<$.value.length-1&&ct("span",{class:"v-autocomplete__selection-comma"},[ii(",")])])])})]),"append-inner":function(){var Oe;for(var ke=arguments.length,Ne=new Array(ke),Ve=0;Ve<ke;Ve++)Ne[Ve]=arguments[Ve];return ct(Uo,null,[(Oe=y["append-inner"])==null?void 0:Oe.call(y,...Ne),o.menuIcon?ct(js,{class:"v-autocomplete__menu-icon",icon:o.menuIcon,onMousedown:J,onClick:Mae,"aria-label":T(u.value),title:T(u.value)},null):void 0])}})}),A3({isFocused:V,isPristine:L,menu:l,search:_,filteredItems:O,select:fe},G)}});const Ise=Go()({name:"VCardActions",props:ts(),setup(o,b){let{slots:y}=b;return R0({VBtn:{variant:"text"}}),ga(()=>{var T;return ct("div",{class:["v-card-actions",o.class],style:o.style},[(T=y.default)==null?void 0:T.call(y)])}),{}}}),Age=NE("v-card-subtitle"),Nse=NE("v-card-title"),Mge=Br({appendAvatar:String,appendIcon:vi,prependAvatar:String,prependIcon:vi,subtitle:String,title:String,...ts(),...Lp()},"VCardItem"),Ege=Go()({name:"VCardItem",props:Mge(),setup(o,b){let{slots:y}=b;return ga(()=>{var m;const T=!!(o.prependAvatar||o.prependIcon),G=!!(T||y.prepend),V=!!(o.appendAvatar||o.appendIcon),L=!!(V||y.append),A=!!(o.title||y.title),s=!!(o.subtitle||y.subtitle);return ct("div",{class:["v-card-item",o.class],style:o.style},[G&&ct("div",{key:"prepend",class:"v-card-item__prepend"},[y.prepend?ct(Ac,{key:"prepend-defaults",disabled:!T,defaults:{VAvatar:{density:o.density,icon:o.prependIcon,image:o.prependAvatar}}},y.prepend):T&&ct(RE,{key:"prepend-avatar",density:o.density,icon:o.prependIcon,image:o.prependAvatar},null)]),ct("div",{class:"v-card-item__content"},[A&&ct(Nse,{key:"title"},{default:()=>{var h;return[((h=y.title)==null?void 0:h.call(y))??o.title]}}),s&&ct(Age,{key:"subtitle"},{default:()=>{var h;return[((h=y.subtitle)==null?void 0:h.call(y))??o.subtitle]}}),(m=y.default)==null?void 0:m.call(y)]),L&&ct("div",{key:"append",class:"v-card-item__append"},[y.append?ct(Ac,{key:"append-defaults",disabled:!V,defaults:{VAvatar:{density:o.density,icon:o.appendIcon,image:o.appendAvatar}}},y.append):V&&ct(RE,{key:"append-avatar",density:o.density,icon:o.appendIcon,image:o.appendAvatar},null)])])}),{}}}),_ge=NE("v-card-text"),Rge=Br({appendAvatar:String,appendIcon:vi,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:vi,ripple:{type:[Boolean,Object],default:!0},subtitle:String,text:String,title:String,...S3(),...ts(),...Lp(),...x3(),...Wy(),...rH(),...Nq(),...nse(),...Tg(),...sH(),...mc(),...Gc(),...D2({variant:"elevated"})},"VCard"),M3=Go()({name:"VCard",directives:{Ripple:k3},props:Rge(),setup(o,b){let{attrs:y,slots:T}=b;const{themeClasses:G}=Uu(o),{borderClasses:V}=T3(o),{colorClasses:L,colorStyles:A,variantClasses:s}=X6(o),{densityClasses:m}=L0(o),{dimensionStyles:h}=w3(o),{elevationClasses:l}=Gy(o),{loaderClasses:c}=oH(o),{locationStyles:i}=Fq(o),{positionClasses:u}=rse(o),{roundedClasses:d}=kg(o),g=aH(o,y),v=on(()=>o.link!==!1&&g.isLink.value),x=on(()=>!o.disabled&&o.link!==!1&&(o.link||g.isClickable.value));return ga(()=>{const C=v.value?"a":o.tag,_=!!(T.title||o.title),$=!!(T.subtitle||o.subtitle),S=_||$,O=!!(T.append||o.appendAvatar||o.appendIcon),D=!!(T.prepend||o.prependAvatar||o.prependIcon),N=!!(T.image||o.image),M=S||D||O,k=!!(T.text||o.text);return lu(ct(C,{class:["v-card",{"v-card--disabled":o.disabled,"v-card--flat":o.flat,"v-card--hover":o.hover&&!(o.disabled||o.flat),"v-card--link":x.value},G.value,V.value,L.value,m.value,l.value,c.value,u.value,d.value,s.value,o.class],style:[A.value,h.value,i.value,o.style],href:g.href.value,onClick:x.value&&g.navigate,tabindex:o.disabled?-1:void 0},{default:()=>{var R;return[N&&ct("div",{key:"image",class:"v-card__image"},[T.image?ct(Ac,{key:"image-defaults",disabled:!o.image,defaults:{VImg:{cover:!0,src:o.image}}},T.image):ct(Y6,{key:"image-img",cover:!0,src:o.image},null)]),ct(Bq,{name:"v-card",active:!!o.loading,color:typeof o.loading=="boolean"?void 0:o.loading},{default:T.loader}),M&&ct(Ege,{key:"item",prependAvatar:o.prependAvatar,prependIcon:o.prependIcon,title:o.title,subtitle:o.subtitle,appendAvatar:o.appendAvatar,appendIcon:o.appendIcon},{default:T.item,prepend:T.prepend,title:T.title,subtitle:T.subtitle,append:T.append}),k&&ct(_ge,{key:"text"},{default:()=>{var F;return[((F=T.text)==null?void 0:F.call(T))??o.text]}}),(R=T.default)==null?void 0:R.call(T),T.actions&&ct(Ise,null,{default:T.actions}),K6(x.value,"v-card")]}}),[[_p("ripple"),x.value&&o.ripple]])}),{}}});const qq=Symbol.for("vuetify:v-slider");function DQ(o,b,y){const T=y==="vertical",G=b.getBoundingClientRect(),V="touches"in o?o.touches[0]:o;return T?V.clientY-(G.top+G.height/2):V.clientX-(G.left+G.width/2)}function Lge(o,b){return"touches"in o&&o.touches.length?o.touches[0][b]:"changedTouches"in o&&o.changedTouches.length?o.changedTouches[0][b]:o[b]}const Fse=Br({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:o=>typeof o=="boolean"||o==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:o=>typeof o=="boolean"||o==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:o=>["vertical","horizontal"].includes(o)},reverse:Boolean,...Tg(),...Wy({elevation:2})},"Slider"),Bse=o=>{const b=on(()=>parseFloat(o.min)),y=on(()=>parseFloat(o.max)),T=on(()=>+o.step>0?parseFloat(o.step):0),G=on(()=>Math.max(Ine(T.value),Ine(b.value)));function V(L){if(L=parseFloat(L),T.value<=0)return L;const A=yg(L,b.value,y.value),s=b.value%T.value,m=Math.round((A-s)/T.value)*T.value+s;return parseFloat(Math.min(m,y.value).toFixed(G.value))}return{min:b,max:y,step:T,decimals:G,roundValue:V}},Hse=o=>{let{props:b,steps:y,onSliderStart:T,onSliderMove:G,onSliderEnd:V,getActiveThumb:L}=o;const{isRtl:A}=Sg(),s=Xo(b,"reverse"),m=on(()=>b.direction==="vertical"),h=on(()=>m.value!==s.value),{min:l,max:c,step:i,decimals:u,roundValue:d}=y,g=on(()=>parseInt(b.thumbSize,10)),v=on(()=>parseInt(b.tickSize,10)),x=on(()=>parseInt(b.trackSize,10)),C=on(()=>(c.value-l.value)/i.value),_=Xo(b,"disabled"),$=on(()=>b.error||b.disabled?void 0:b.thumbColor??b.color),S=on(()=>b.error||b.disabled?void 0:b.trackColor??b.color),O=on(()=>b.error||b.disabled?void 0:b.trackFillColor??b.color),D=xa(!1),N=xa(0),M=No(),k=No();function R(ne){var Oe;const fe=b.direction==="vertical",X=fe?"top":"left",ye=fe?"height":"width",Ce=fe?"clientY":"clientX",{[X]:$e,[ye]:ke}=(Oe=M.value)==null?void 0:Oe.$el.getBoundingClientRect(),Ne=Lge(ne,Ce);let Ve=Math.min(Math.max((Ne-$e-N.value)/ke,0),1)||0;return(fe?h.value:h.value!==A.value)&&(Ve=1-Ve),d(l.value+Ve*(c.value-l.value))}const F=ne=>{V({value:R(ne)}),D.value=!1,N.value=0},H=ne=>{k.value=L(ne),k.value&&(k.value.focus(),D.value=!0,k.value.contains(ne.target)?N.value=DQ(ne,k.value,b.direction):(N.value=0,G({value:R(ne)})),T({value:R(ne)}))},j={passive:!0,capture:!0};function P(ne){G({value:R(ne)})}function ee(ne){ne.stopPropagation(),ne.preventDefault(),F(ne),window.removeEventListener("mousemove",P,j),window.removeEventListener("mouseup",ee)}function J(ne){var fe;F(ne),window.removeEventListener("touchmove",P,j),(fe=ne.target)==null||fe.removeEventListener("touchend",J)}function K(ne){var fe;H(ne),window.addEventListener("touchmove",P,j),(fe=ne.target)==null||fe.addEventListener("touchend",J,{passive:!1})}function ae(ne){ne.preventDefault(),H(ne),window.addEventListener("mousemove",P,j),window.addEventListener("mouseup",ee,{passive:!1})}const Q=ne=>{const fe=(ne-l.value)/(c.value-l.value)*100;return yg(isNaN(fe)?0:fe,0,100)},he=Xo(b,"showTicks"),ge=on(()=>he.value?b.ticks?Array.isArray(b.ticks)?b.ticks.map(ne=>({value:ne,position:Q(ne),label:ne.toString()})):Object.keys(b.ticks).map(ne=>({value:parseFloat(ne),position:Q(parseFloat(ne)),label:b.ticks[ne]})):C.value!==1/0?AE(C.value+1).map(ne=>{const fe=l.value+ne*i.value;return{value:fe,position:Q(fe)}}):[]:[]),Se=on(()=>ge.value.some(ne=>{let{label:fe}=ne;return!!fe})),ce={activeThumbRef:k,color:Xo(b,"color"),decimals:u,disabled:_,direction:Xo(b,"direction"),elevation:Xo(b,"elevation"),hasLabels:Se,isReversed:s,indexFromEnd:h,min:l,max:c,mousePressed:D,numTicks:C,onSliderMousedown:ae,onSliderTouchstart:K,parsedTicks:ge,parseMouseMove:R,position:Q,readonly:Xo(b,"readonly"),rounded:Xo(b,"rounded"),roundValue:d,showTicks:he,startOffset:N,step:i,thumbSize:g,thumbColor:$,thumbLabel:Xo(b,"thumbLabel"),ticks:Xo(b,"ticks"),tickSize:v,trackColor:S,trackContainerRef:M,trackFillColor:O,trackSize:x,vertical:m};return Gl(qq,ce),ce},Dge=Br({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},...ts()},"VSliderThumb"),$Q=Go()({name:"VSliderThumb",directives:{Ripple:k3},props:Dge(),emits:{"update:modelValue":o=>!0},setup(o,b){let{slots:y,emit:T}=b;const G=ni(qq),{isRtl:V,rtlClasses:L}=Sg();if(!G)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:A,step:s,disabled:m,thumbSize:h,thumbLabel:l,direction:c,isReversed:i,vertical:u,readonly:d,elevation:g,mousePressed:v,decimals:x,indexFromEnd:C}=G,{textColorClasses:_,textColorStyles:$}=xg(A),{pageup:S,pagedown:O,end:D,home:N,left:M,right:k,down:R,up:F}=Cde,H=[S,O,D,N,M,k,R,F],j=on(()=>s.value?[1,2,3]:[1,5,10]);function P(J,K){if(!H.includes(J.key))return;J.preventDefault();const ae=s.value||.1,Q=(o.max-o.min)/ae;if([M,k,R,F].includes(J.key)){const ge=(u.value?[V.value?M:k,i.value?R:F]:C.value!==V.value?[M,F]:[k,F]).includes(J.key)?1:-1,Se=J.shiftKey?2:J.ctrlKey?1:0;K=K+ge*ae*j.value[Se]}else if(J.key===N)K=o.min;else if(J.key===D)K=o.max;else{const he=J.key===O?1:-1;K=K-he*ae*(Q>100?Q/10:10)}return Math.max(o.min,Math.min(o.max,K))}function ee(J){const K=P(J,o.modelValue);K!=null&&T("update:modelValue",K)}return ga(()=>{const J=ra(C.value?100-o.position:o.position,"%"),{elevationClasses:K}=Gy(on(()=>m.value?void 0:g.value));return ct("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":o.focused,"v-slider-thumb--pressed":o.focused&&v.value},o.class,L.value],style:[{"--v-slider-thumb-position":J,"--v-slider-thumb-size":ra(h.value)},o.style],role:"slider",tabindex:m.value?-1:0,"aria-valuemin":o.min,"aria-valuemax":o.max,"aria-valuenow":o.modelValue,"aria-readonly":!!d.value,"aria-orientation":c.value,onKeydown:d.value?void 0:ee},[ct("div",{class:["v-slider-thumb__surface",_.value,K.value],style:{...$.value}},null),lu(ct("div",{class:["v-slider-thumb__ripple",_.value],style:$.value},null),[[_p("ripple"),o.ripple,null,{circle:!0,center:!0}]]),ct(The,{origin:"bottom center"},{default:()=>{var ae;return[lu(ct("div",{class:"v-slider-thumb__label-container"},[ct("div",{class:["v-slider-thumb__label"]},[ct("div",null,[((ae=y["thumb-label"])==null?void 0:ae.call(y,{modelValue:o.modelValue}))??o.modelValue.toFixed(s.value?x.value:1)])])]),[[R2,l.value&&o.focused||l.value==="always"]])]}})])}),{}}});const $ge=Br({start:{type:Number,required:!0},stop:{type:Number,required:!0},...ts()},"VSliderTrack"),zse=Go()({name:"VSliderTrack",props:$ge(),emits:{},setup(o,b){let{slots:y}=b;const T=ni(qq);if(!T)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:G,parsedTicks:V,rounded:L,showTicks:A,tickSize:s,trackColor:m,trackFillColor:h,trackSize:l,vertical:c,min:i,max:u,indexFromEnd:d}=T,{roundedClasses:g}=kg(L),{backgroundColorClasses:v,backgroundColorStyles:x}=wg(h),{backgroundColorClasses:C,backgroundColorStyles:_}=wg(m),$=on(()=>`inset-${c.value?"block":"inline"}-${d.value?"end":"start"}`),S=on(()=>c.value?"height":"width"),O=on(()=>({[$.value]:"0%",[S.value]:"100%"})),D=on(()=>o.stop-o.start),N=on(()=>({[$.value]:ra(o.start,"%"),[S.value]:ra(D.value,"%")})),M=on(()=>A.value?(c.value?V.value.slice().reverse():V.value).map((R,F)=>{var j;const H=R.value!==i.value&&R.value!==u.value?ra(R.position,"%"):void 0;return ct("div",{key:R.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":R.position>=o.start&&R.position<=o.stop,"v-slider-track__tick--first":R.value===i.value,"v-slider-track__tick--last":R.value===u.value}],style:{[$.value]:H}},[(R.label||y["tick-label"])&&ct("div",{class:"v-slider-track__tick-label"},[((j=y["tick-label"])==null?void 0:j.call(y,{tick:R,index:F}))??R.label])])}):[]);return ga(()=>ct("div",{class:["v-slider-track",g.value,o.class],style:[{"--v-slider-track-size":ra(l.value),"--v-slider-tick-size":ra(s.value)},o.style]},[ct("div",{class:["v-slider-track__background",C.value,{"v-slider-track__background--opacity":!!G.value||!h.value}],style:{...O.value,..._.value}},null),ct("div",{class:["v-slider-track__fill",v.value],style:{...N.value,...x.value}},null),A.value&&ct("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":A.value==="always"}]},[M.value])])),{}}}),Oge=Br({...lH(),...Fse(),...e$(),modelValue:{type:[Number,String],default:0}},"VSlider"),Vse=Go()({name:"VSlider",props:Oge(),emits:{"update:focused":o=>!0,"update:modelValue":o=>!0,start:o=>!0,end:o=>!0},setup(o,b){let{slots:y,emit:T}=b;const G=No(),{rtlClasses:V}=Sg(),L=Bse(o),A=ri(o,"modelValue",void 0,S=>L.roundValue(S??L.min.value)),{min:s,max:m,mousePressed:h,roundValue:l,onSliderMousedown:c,onSliderTouchstart:i,trackContainerRef:u,position:d,hasLabels:g,readonly:v}=Hse({props:o,steps:L,onSliderStart:()=>{T("start",A.value)},onSliderEnd:S=>{let{value:O}=S;const D=l(O);A.value=D,T("end",D)},onSliderMove:S=>{let{value:O}=S;return A.value=l(O)},getActiveThumb:()=>{var S;return(S=G.value)==null?void 0:S.$el}}),{isFocused:x,focus:C,blur:_}=q6(o),$=on(()=>d(A.value));return ga(()=>{const[S,O]=_2.filterProps(o),D=!!(o.label||y.label||y.prepend);return ct(_2,Jo({class:["v-slider",{"v-slider--has-labels":!!y["tick-label"]||g.value,"v-slider--focused":x.value,"v-slider--pressed":h.value,"v-slider--disabled":o.disabled},V.value,o.class],style:o.style},S,{focused:x.value}),{...y,prepend:D?N=>{var M,k;return ct(Uo,null,[((M=y.label)==null?void 0:M.call(y,N))??(o.label?ct(iH,{id:N.id.value,class:"v-slider__label",text:o.label},null):void 0),(k=y.prepend)==null?void 0:k.call(y,N)])}:void 0,default:N=>{let{id:M,messagesId:k}=N;return ct("div",{class:"v-slider__container",onMousedown:v.value?void 0:c,onTouchstartPassive:v.value?void 0:i},[ct("input",{id:M.value,name:o.name||M.value,disabled:!!o.disabled,readonly:!!o.readonly,tabindex:"-1",value:A.value},null),ct(zse,{ref:u,start:0,stop:$.value},{"tick-label":y["tick-label"]}),ct($Q,{ref:G,"aria-describedby":k.value,focused:x.value,min:s.value,max:m.value,modelValue:A.value,"onUpdate:modelValue":R=>A.value=R,position:$.value,elevation:o.elevation,onFocus:C,onBlur:_},{"thumb-label":y["thumb-label"]})])}})}),{}}});function Pge(o,b,y){if(b==null)return o;if(Array.isArray(b))throw new Error("Multiple matches is not implemented");return typeof b=="number"&&~b?ct(Uo,null,[ct("span",{class:"v-combobox__unmask"},[o.substr(0,b)]),ct("span",{class:"v-combobox__mask"},[o.substr(b,y)]),ct("span",{class:"v-combobox__unmask"},[o.substr(b+y)])]):o}const Ige=Br({autoSelectFirst:{type:[Boolean,String]},delimiters:Array,...Jq({filterKeys:["title"]}),...Kq({hideNoData:!0,returnObject:!0}),...PE(fH({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...C3({transition:!1})},"VCombobox"),Use=Go()({name:"VCombobox",props:Ige(),emits:{"update:focused":o=>!0,"update:modelValue":o=>!0,"update:search":o=>!0,"update:menu":o=>!0},setup(o,b){var X;let{emit:y,slots:T}=b;const{t:G}=L2(),V=No(),L=xa(!1),A=xa(!0),s=xa(!1),m=No(),h=No(),l=ri(o,"menu"),c=on({get:()=>l.value,set:ye=>{var Ce;l.value&&!ye&&((Ce=m.value)!=null&&Ce.ΨopenChildren)||(l.value=ye)}}),i=xa(-1);let u=!1;const d=on(()=>{var ye;return(ye=V.value)==null?void 0:ye.color}),g=on(()=>c.value?o.closeText:o.openText),{items:v,transformIn:x,transformOut:C}=zq(o),{textColorClasses:_,textColorStyles:$}=xg(d),S=ri(o,"modelValue",[],ye=>x(xd(ye)),ye=>{const Ce=C(ye);return o.multiple?Ce:Ce[0]??null}),O=cH(),D=xa(o.multiple?"":((X=S.value[0])==null?void 0:X.title)??""),N=on({get:()=>D.value,set:ye=>{var Ce;if(D.value=ye,o.multiple||(S.value=[h3(o,ye)]),ye&&o.multiple&&((Ce=o.delimiters)!=null&&Ce.length)){const $e=ye.split(new RegExp(`(?:${o.delimiters.join("|")})+`));$e.length>1&&($e.forEach(ke=>{ke=ke.trim(),ke&&Se(h3(o,ke))}),D.value="")}ye||(i.value=-1),A.value=!ye}});ta(D,ye=>{u?Ll(()=>u=!1):L.value&&!c.value&&(c.value=!0),y("update:search",ye)}),ta(S,ye=>{var Ce;o.multiple||(D.value=((Ce=ye[0])==null?void 0:Ce.title)??"")});const{filteredItems:M,getMatches:k}=Qq(o,v,()=>A.value?"":N.value),R=on(()=>o.hideSelected?M.value.filter(ye=>!S.value.some(Ce=>Ce.value===ye.value)):M.value),F=on(()=>S.value.map(ye=>ye.value)),H=on(()=>{var Ce;return(o.autoSelectFirst===!0||o.autoSelectFirst==="exact"&&N.value===((Ce=R.value[0])==null?void 0:Ce.title))&&R.value.length>0&&!A.value&&!s.value}),j=on(()=>o.hideNoData&&!v.value.length||o.readonly||(O==null?void 0:O.isReadonly.value)),P=No(),{onListScroll:ee,onListKeydown:J}=Yq(P,V);function K(ye){u=!0,o.openOnClear&&(c.value=!0)}function ae(){j.value||(c.value=!0)}function Q(ye){j.value||(L.value&&(ye.preventDefault(),ye.stopPropagation()),c.value=!c.value)}function he(ye){var ke;if(o.readonly||O!=null&&O.isReadonly.value)return;const Ce=V.value.selectionStart,$e=S.value.length;if((i.value>-1||["Enter","ArrowDown","ArrowUp"].includes(ye.key))&&ye.preventDefault(),["Enter","ArrowDown"].includes(ye.key)&&(c.value=!0),["Escape"].includes(ye.key)&&(c.value=!1),["Enter","Escape","Tab"].includes(ye.key)&&(H.value&&["Enter","Tab"].includes(ye.key)&&Se(M.value[0]),A.value=!0),ye.key==="ArrowDown"&&H.value&&((ke=P.value)==null||ke.focus("next")),!!o.multiple){if(["Backspace","Delete"].includes(ye.key)){if(i.value<0){ye.key==="Backspace"&&!N.value&&(i.value=$e-1);return}const Ne=i.value,Ve=S.value[i.value];Ve&&!Ve.props.disabled&&Se(Ve),i.value=Ne>=$e-1?$e-2:Ne}if(ye.key==="ArrowLeft"){if(i.value<0&&Ce>0)return;const Ne=i.value>-1?i.value-1:$e-1;S.value[Ne]?i.value=Ne:(i.value=-1,V.value.setSelectionRange(N.value.length,N.value.length))}if(ye.key==="ArrowRight"){if(i.value<0)return;const Ne=i.value+1;S.value[Ne]?i.value=Ne:(i.value=-1,V.value.setSelectionRange(0,0))}ye.key==="Enter"&&N.value&&(Se(h3(o,N.value)),N.value="")}}function ge(){var ye;L.value&&(A.value=!0,(ye=V.value)==null||ye.focus())}function Se(ye){if(o.multiple){const Ce=S.value.findIndex($e=>o.valueComparator($e.value,ye.value));if(Ce===-1)S.value=[...S.value,ye];else{const $e=[...S.value];$e.splice(Ce,1),S.value=$e}N.value=""}else S.value=[ye],D.value=ye.title,Ll(()=>{c.value=!1,A.value=!0})}function ce(ye){L.value=!0,setTimeout(()=>{s.value=!0})}function ne(ye){s.value=!1}function fe(ye){(ye==null||ye===""&&!o.multiple)&&(S.value=[])}return ta(M,ye=>{!ye.length&&o.hideNoData&&(c.value=!1)}),ta(L,(ye,Ce)=>{ye||ye===Ce||(i.value=-1,c.value=!1,H.value&&!s.value&&!S.value.some($e=>{let{value:ke}=$e;return ke===R.value[0].value})?Se(R.value[0]):o.multiple&&N.value&&(S.value=[...S.value,h3(o,N.value)],N.value=""))}),ta(c,()=>{if(!o.hideSelected&&c.value&&S.value.length){const ye=R.value.findIndex(Ce=>S.value.some($e=>o.valueComparator($e.value,Ce.value)));yl&&window.requestAnimationFrame(()=>{var Ce;ye>=0&&((Ce=h.value)==null||Ce.scrollToIndex(ye))})}}),ga(()=>{const ye=!!(o.chips||T.chip),Ce=!!(!o.hideNoData||R.value.length||T["prepend-item"]||T["append-item"]||T["no-data"]),$e=S.value.length>0,[ke]=Ep.filterProps(o);return ct(Ep,Jo({ref:V},ke,{modelValue:N.value,"onUpdate:modelValue":[Ne=>N.value=Ne,fe],focused:L.value,"onUpdate:focused":Ne=>L.value=Ne,validationValue:S.externalValue,counterValue:o.multiple?S.value.length:N.value.length,dirty:$e,class:["v-combobox",{"v-combobox--active-menu":c.value,"v-combobox--chips":!!o.chips,"v-combobox--selection-slot":!!T.selection,"v-combobox--selecting-index":i.value>-1,[`v-combobox--${o.multiple?"multiple":"single"}`]:!0},o.class],style:o.style,readonly:o.readonly,placeholder:$e?void 0:o.placeholder,"onClick:clear":K,"onMousedown:control":ae,onKeydown:he}),{...T,default:()=>ct(Uo,null,[ct(O2,Jo({ref:m,modelValue:c.value,"onUpdate:modelValue":Ne=>c.value=Ne,activator:"parent",contentClass:"v-combobox__content",disabled:j.value,eager:o.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:o.transition,onAfterLeave:ge},o.menuProps),{default:()=>[Ce&&ct($2,{ref:P,selected:F.value,selectStrategy:o.multiple?"independent":"single-independent",onMousedown:Ne=>Ne.preventDefault(),onKeydown:J,onFocusin:ce,onFocusout:ne,onScrollPassive:ee,tabindex:"-1",color:o.itemColor??o.color},{default:()=>{var Ne,Ve,Oe;return[(Ne=T["prepend-item"])==null?void 0:Ne.call(T),!R.value.length&&!o.hideNoData&&(((Ve=T["no-data"])==null?void 0:Ve.call(T))??ct(fm,{title:G(o.noDataText)},null)),ct(jq,{ref:h,renderless:!0,items:R.value},{default:Fe=>{var pe;let{item:ie,index:we,itemRef:se}=Fe;const ue=Jo(ie.props,{ref:se,key:we,active:H.value&&we===0?!0:void 0,onClick:()=>Se(ie)});return((pe=T.item)==null?void 0:pe.call(T,{item:ie,index:we,props:ue}))??ct(fm,ue,{prepend:le=>{let{isSelected:Te}=le;return ct(Uo,null,[o.multiple&&!o.hideSelected?ct(FE,{key:ie.value,modelValue:Te,ripple:!1,tabindex:"-1"},null):void 0,ie.props.prependIcon&&ct(js,{icon:ie.props.prependIcon},null)])},title:()=>{var le,Te;return A.value?ie.title:Pge(ie.title,(le=k(ie))==null?void 0:le.title,((Te=N.value)==null?void 0:Te.length)??0)}})}}),(Oe=T["append-item"])==null?void 0:Oe.call(T)]}})]}),S.value.map((Ne,Ve)=>{var ie;function Oe(we){we.stopPropagation(),we.preventDefault(),Se(Ne)}const Fe={"onClick:close":Oe,onMousedown(we){we.preventDefault(),we.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return ct("div",{key:Ne.value,class:["v-combobox__selection",Ve===i.value&&["v-combobox__selection--selected",_.value]],style:Ve===i.value?$.value:{}},[ye?T.chip?ct(Ac,{key:"chip-defaults",defaults:{VChip:{closable:o.closableChips,size:"small",text:Ne.title}}},{default:()=>{var we;return[(we=T.chip)==null?void 0:we.call(T,{item:Ne,index:Ve,props:Fe})]}}):ct(wE,Jo({key:"chip",closable:o.closableChips,size:"small",text:Ne.title,disabled:Ne.props.disabled},Fe),null):((ie=T.selection)==null?void 0:ie.call(T,{item:Ne,index:Ve}))??ct("span",{class:"v-combobox__selection-text"},[Ne.title,o.multiple&&Ve<S.value.length-1&&ct("span",{class:"v-combobox__selection-comma"},[ii(",")])])])})]),"append-inner":function(){var Fe;for(var Ne=arguments.length,Ve=new Array(Ne),Oe=0;Oe<Ne;Oe++)Ve[Oe]=arguments[Oe];return ct(Uo,null,[(Fe=T["append-inner"])==null?void 0:Fe.call(T,...Ve),(!o.hideNoData||o.items.length)&&o.menuIcon?ct(js,{class:"v-combobox__menu-icon",icon:o.menuIcon,onMousedown:Q,onClick:Mae,"aria-label":G(g.value),title:G(g.value)},null):void 0])}})}),A3({isFocused:L,isPristine:A,menu:c,search:N,selectionIndex:i,filteredItems:M,select:Se},V)}});const Nge=Br({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Wq({origin:"center center",scrollStrategy:"block",transition:{component:Eq},zIndex:2400})},"VDialog"),Fge=Go()({name:"VDialog",props:Nge(),emits:{"update:modelValue":o=>!0},setup(o,b){let{slots:y}=b;const T=ri(o,"modelValue"),{scopeId:G}=Uq(),V=No();function L(s){var l,c;const m=s.relatedTarget,h=s.target;if(m!==h&&((l=V.value)!=null&&l.contentEl)&&((c=V.value)!=null&&c.globalTop)&&![document,V.value.contentEl].includes(h)&&!V.value.contentEl.contains(h)){const i=wB(V.value.contentEl);if(!i.length)return;const u=i[0],d=i[i.length-1];m===u?d.focus():u.focus()}}yl&&ta(()=>T.value&&o.retainFocus,s=>{s?document.addEventListener("focusin",L):document.removeEventListener("focusin",L)},{immediate:!0}),ta(T,async s=>{var m,h;await Ll(),s?(m=V.value.contentEl)==null||m.focus({preventScroll:!0}):(h=V.value.activatorEl)==null||h.focus({preventScroll:!0})});const A=on(()=>Jo({"aria-haspopup":"dialog","aria-expanded":String(T.value)},o.activatorProps));return ga(()=>{const[s]=LB.filterProps(o);return ct(LB,Jo({ref:V,class:["v-dialog",{"v-dialog--fullscreen":o.fullscreen,"v-dialog--scrollable":o.scrollable},o.class],style:o.style},s,{modelValue:T.value,"onUpdate:modelValue":m=>T.value=m,"aria-modal":"true",activatorProps:A.value,role:"dialog"},G),{activator:y.activator,default:function(){for(var m=arguments.length,h=new Array(m),l=0;l<m;l++)h[l]=arguments[l];return ct(Ac,{root:"VDialog"},{default:()=>{var c;return[(c=y.default)==null?void 0:c.call(y,...h)]}})}})}),A3({},V)}});const z6=Symbol.for("vuetify:v-expansion-panel"),Bge=["default","accordion","inset","popout"],Hge=Br({color:String,variant:{type:String,default:"default",validator:o=>Bge.includes(o)},readonly:Boolean,...ts(),...$q(),...mc(),...Gc()},"VExpansionPanels"),Wse=Go()({name:"VExpansionPanels",props:Hge(),emits:{"update:modelValue":o=>!0},setup(o,b){let{slots:y}=b;Iq(o,z6);const{themeClasses:T}=Uu(o),G=on(()=>o.variant&&`v-expansion-panels--variant-${o.variant}`);return R0({VExpansionPanel:{color:Xo(o,"color")},VExpansionPanelTitle:{readonly:Xo(o,"readonly")}}),ga(()=>ct(o.tag,{class:["v-expansion-panels",T.value,G.value,o.class],style:o.style},y)),{}}}),zge=Br({...ts(),...Vq()},"VExpansionPanelText"),eee=Go()({name:"VExpansionPanelText",props:zge(),setup(o,b){let{slots:y}=b;const T=ni(z6);if(!T)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:G,onAfterLeave:V}=Rse(o,T.isSelected);return ga(()=>ct(_q,{onAfterLeave:V},{default:()=>{var L;return[lu(ct("div",{class:["v-expansion-panel-text",o.class],style:o.style},[y.default&&G.value&&ct("div",{class:"v-expansion-panel-text__wrapper"},[(L=y.default)==null?void 0:L.call(y)])]),[[R2,T.isSelected.value]])]}})),{}}}),Gse=Br({color:String,expandIcon:{type:vi,default:"$expand"},collapseIcon:{type:vi,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...ts()},"VExpansionPanelTitle"),tee=Go()({name:"VExpansionPanelTitle",directives:{Ripple:k3},props:Gse(),setup(o,b){let{slots:y}=b;const T=ni(z6);if(!T)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:G,backgroundColorStyles:V}=wg(o,"color"),L=on(()=>({collapseIcon:o.collapseIcon,disabled:T.disabled.value,expanded:T.isSelected.value,expandIcon:o.expandIcon,readonly:o.readonly}));return ga(()=>{var A;return lu(ct("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":T.isSelected.value},G.value,o.class],style:[V.value,o.style],type:"button",tabindex:T.disabled.value?-1:void 0,disabled:T.disabled.value,"aria-expanded":T.isSelected.value,onClick:o.readonly?void 0:T.toggle},[ct("span",{class:"v-expansion-panel-title__overlay"},null),(A=y.default)==null?void 0:A.call(y,L.value),!o.hideActions&&ct("span",{class:"v-expansion-panel-title__icon"},[y.actions?y.actions(L.value):ct(js,{icon:T.isSelected.value?o.collapseIcon:o.expandIcon},null)])]),[[_p("ripple"),o.ripple]])}),{}}}),Vge=Br({title:String,text:String,bgColor:String,...ts(),...Wy(),...Oq(),...Vq(),...Tg(),...mc(),...Gse()},"VExpansionPanel"),Zse=Go()({name:"VExpansionPanel",props:Vge(),emits:{"group:selected":o=>!0},setup(o,b){let{slots:y}=b;const T=Pq(o,z6),{backgroundColorClasses:G,backgroundColorStyles:V}=wg(o,"bgColor"),{elevationClasses:L}=Gy(o),{roundedClasses:A}=kg(o),s=on(()=>(T==null?void 0:T.disabled.value)||o.disabled),m=on(()=>T.group.items.value.reduce((c,i,u)=>(T.group.selected.value.includes(i.id)&&c.push(u),c),[])),h=on(()=>{const c=T.group.items.value.findIndex(i=>i.id===T.id);return!T.isSelected.value&&m.value.some(i=>i-c===1)}),l=on(()=>{const c=T.group.items.value.findIndex(i=>i.id===T.id);return!T.isSelected.value&&m.value.some(i=>i-c===-1)});return Gl(z6,T),R0({VExpansionPanelText:{eager:Xo(o,"eager")}}),ga(()=>{const c=!!(y.text||o.text),i=!!(y.title||o.title);return ct(o.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":T.isSelected.value,"v-expansion-panel--before-active":h.value,"v-expansion-panel--after-active":l.value,"v-expansion-panel--disabled":s.value},A.value,G.value,o.class],style:[V.value,o.style]},{default:()=>{var u;return[ct("div",{class:["v-expansion-panel__shadow",...L.value]},null),i&&ct(tee,{key:"title",collapseIcon:o.collapseIcon,color:o.color,expandIcon:o.expandIcon,hideActions:o.hideActions,ripple:o.ripple},{default:()=>[y.title?y.title():o.title]}),c&&ct(eee,{key:"text"},{default:()=>[y.text?y.text():o.text]}),(u=y.default)==null?void 0:u.call(y)]}})}),{}}});const Uge=Br({fluid:{type:Boolean,default:!1},...ts(),...mc()},"VContainer"),V6=Go()({name:"VContainer",props:Uge(),setup(o,b){let{slots:y}=b;const{rtlClasses:T}=Sg();return ga(()=>ct(o.tag,{class:["v-container",{"v-container--fluid":o.fluid},T.value,o.class],style:o.style},y)),{}}}),jse=(()=>uH.reduce((o,b)=>(o[b]={type:[Boolean,String,Number],default:!1},o),{}))(),Yse=(()=>uH.reduce((o,b)=>{const y="offset"+_0(b);return o[y]={type:[String,Number],default:null},o},{}))(),Kse=(()=>uH.reduce((o,b)=>{const y="order"+_0(b);return o[y]={type:[String,Number],default:null},o},{}))(),Are={col:Object.keys(jse),offset:Object.keys(Yse),order:Object.keys(Kse)};function Wge(o,b,y){let T=o;if(!(y==null||y===!1)){if(b){const G=b.replace(o,"");T+=`-${G}`}return o==="col"&&(T="v-"+T),o==="col"&&(y===""||y===!0)||(T+=`-${y}`),T.toLowerCase()}}const Gge=["auto","start","end","center","baseline","stretch"],Zge=Br({cols:{type:[Boolean,String,Number],default:!1},...jse,offset:{type:[String,Number],default:null},...Yse,order:{type:[String,Number],default:null},...Kse,alignSelf:{type:String,default:null,validator:o=>Gge.includes(o)},...ts(),...mc()},"VCol"),kp=Go()({name:"VCol",props:Zge(),setup(o,b){let{slots:y}=b;const T=on(()=>{const G=[];let V;for(V in Are)Are[V].forEach(A=>{const s=o[A],m=Wge(V,A,s);m&&G.push(m)});const L=G.some(A=>A.startsWith("v-col-"));return G.push({"v-col":!L||!o.cols,[`v-col-${o.cols}`]:o.cols,[`offset-${o.offset}`]:o.offset,[`order-${o.order}`]:o.order,[`align-self-${o.alignSelf}`]:o.alignSelf}),G});return()=>{var G;return um(o.tag,{class:[T.value,o.class],style:o.style},(G=y.default)==null?void 0:G.call(y))}}}),nee=["start","end","center"],Xse=["space-between","space-around","space-evenly"];function ree(o,b){return uH.reduce((y,T)=>{const G=o+_0(T);return y[G]=b(),y},{})}const jge=[...nee,"baseline","stretch"],Jse=o=>jge.includes(o),Qse=ree("align",()=>({type:String,default:null,validator:Jse})),Yge=[...nee,...Xse],qse=o=>Yge.includes(o),eie=ree("justify",()=>({type:String,default:null,validator:qse})),Kge=[...nee,...Xse,"stretch"],tie=o=>Kge.includes(o),nie=ree("alignContent",()=>({type:String,default:null,validator:tie})),Mre={align:Object.keys(Qse),justify:Object.keys(eie),alignContent:Object.keys(nie)},Xge={align:"align",justify:"justify",alignContent:"align-content"};function Jge(o,b,y){let T=Xge[o];if(y!=null){if(b){const G=b.replace(o,"");T+=`-${G}`}return T+=`-${y}`,T.toLowerCase()}}const Qge=Br({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Jse},...Qse,justify:{type:String,default:null,validator:qse},...eie,alignContent:{type:String,default:null,validator:tie},...nie,...ts(),...mc()},"VRow"),sm=Go()({name:"VRow",props:Qge(),setup(o,b){let{slots:y}=b;const T=on(()=>{const G=[];let V;for(V in Mre)Mre[V].forEach(L=>{const A=o[L],s=Jge(V,L,A);s&&G.push(s)});return G.push({"v-row--no-gutters":o.noGutters,"v-row--dense":o.dense,[`align-${o.align}`]:o.align,[`justify-${o.justify}`]:o.justify,[`align-content-${o.alignContent}`]:o.alignContent}),G});return()=>{var G;return um(o.tag,{class:["v-row",T.value,o.class],style:o.style},(G=y.default)==null?void 0:G.call(y))}}}),rie=NE("v-spacer","div","VSpacer");const qge=Br({scrollable:Boolean,...ts(),...mc({tag:"main"})},"VMain"),epe=Go()({name:"VMain",props:qge(),setup(o,b){let{slots:y}=b;const{mainStyles:T}=she(),{ssrBootStyles:G}=Dq();return ga(()=>ct(o.tag,{class:["v-main",{"v-main--scrollable":o.scrollable},o.class],style:[T.value,G.value,o.style]},{default:()=>{var V,L;return[o.scrollable?ct("div",{class:"v-main__scroller"},[(V=y.default)==null?void 0:V.call(y)]):(L=y.default)==null?void 0:L.call(y)]}})),{}}}),tpe=Br({...lH(),...e$(),...Fse(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),oie=Go()({name:"VRangeSlider",props:tpe(),emits:{"update:focused":o=>!0,"update:modelValue":o=>!0,end:o=>!0,start:o=>!0},setup(o,b){let{slots:y,emit:T}=b;const G=No(),V=No(),L=No(),{rtlClasses:A}=Sg();function s(N){if(!G.value||!V.value)return;const M=DQ(N,G.value.$el,o.direction),k=DQ(N,V.value.$el,o.direction),R=Math.abs(M),F=Math.abs(k);return R<F||R===F&&M<0?G.value.$el:V.value.$el}const m=Bse(o),h=ri(o,"modelValue",void 0,N=>N!=null&&N.length?N.map(M=>m.roundValue(M)):[0,0]),{activeThumbRef:l,hasLabels:c,max:i,min:u,mousePressed:d,onSliderMousedown:g,onSliderTouchstart:v,position:x,trackContainerRef:C}=Hse({props:o,steps:m,onSliderStart:()=>{T("start",h.value)},onSliderEnd:N=>{var R;let{value:M}=N;const k=l.value===((R=G.value)==null?void 0:R.$el)?[M,h.value[1]]:[h.value[0],M];!o.strict&&k[0]<k[1]&&(h.value=k),T("end",h.value)},onSliderMove:N=>{var F,H,j,P;let{value:M}=N;const[k,R]=h.value;!o.strict&&k===R&&k!==u.value&&(l.value=M>k?(F=V.value)==null?void 0:F.$el:(H=G.value)==null?void 0:H.$el,(j=l.value)==null||j.focus()),l.value===((P=G.value)==null?void 0:P.$el)?h.value=[Math.min(M,R),R]:h.value=[k,Math.max(k,M)]},getActiveThumb:s}),{isFocused:_,focus:$,blur:S}=q6(o),O=on(()=>x(h.value[0])),D=on(()=>x(h.value[1]));return ga(()=>{const[N,M]=_2.filterProps(o),k=!!(o.label||y.label||y.prepend);return ct(_2,Jo({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!y["tick-label"]||c.value,"v-slider--focused":_.value,"v-slider--pressed":d.value,"v-slider--disabled":o.disabled},A.value,o.class],style:o.style,ref:L},N,{focused:_.value}),{...y,prepend:k?R=>{var F,H;return ct(Uo,null,[((F=y.label)==null?void 0:F.call(y,R))??(o.label?ct(iH,{class:"v-slider__label",text:o.label},null):void 0),(H=y.prepend)==null?void 0:H.call(y,R)])}:void 0,default:R=>{var j,P;let{id:F,messagesId:H}=R;return ct("div",{class:"v-slider__container",onMousedown:g,onTouchstartPassive:v},[ct("input",{id:`${F.value}_start`,name:o.name||F.value,disabled:!!o.disabled,readonly:!!o.readonly,tabindex:"-1",value:h.value[0]},null),ct("input",{id:`${F.value}_stop`,name:o.name||F.value,disabled:!!o.disabled,readonly:!!o.readonly,tabindex:"-1",value:h.value[1]},null),ct(zse,{ref:C,start:O.value,stop:D.value},{"tick-label":y["tick-label"]}),ct($Q,{ref:G,"aria-describedby":H.value,focused:_&&l.value===((j=G.value)==null?void 0:j.$el),modelValue:h.value[0],"onUpdate:modelValue":ee=>h.value=[ee,h.value[1]],onFocus:ee=>{var J,K,ae,Q;$(),l.value=(J=G.value)==null?void 0:J.$el,h.value[0]===h.value[1]&&h.value[1]===u.value&&ee.relatedTarget!==((K=V.value)==null?void 0:K.$el)&&((ae=G.value)==null||ae.$el.blur(),(Q=V.value)==null||Q.$el.focus())},onBlur:()=>{S(),l.value=void 0},min:u.value,max:h.value[1],position:O.value},{"thumb-label":y["thumb-label"]}),ct($Q,{ref:V,"aria-describedby":H.value,focused:_&&l.value===((P=V.value)==null?void 0:P.$el),modelValue:h.value[1],"onUpdate:modelValue":ee=>h.value=[h.value[0],ee],onFocus:ee=>{var J,K,ae,Q;$(),l.value=(J=V.value)==null?void 0:J.$el,h.value[0]===h.value[1]&&h.value[0]===i.value&&ee.relatedTarget!==((K=G.value)==null?void 0:K.$el)&&((ae=V.value)==null||ae.$el.blur(),(Q=G.value)==null||Q.$el.focus())},onBlur:()=>{S(),l.value=void 0},min:h.value[0],max:i.value,position:D.value},{"thumb-label":y["thumb-label"]})])}})}),{}}});const aie=Br({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...ts(),...Lp(),...mc(),...Gc()},"VTable"),Ere=Go()({name:"VTable",props:aie(),setup(o,b){let{slots:y}=b;const{themeClasses:T}=Uu(o),{densityClasses:G}=L0(o);return ga(()=>ct(o.tag,{class:["v-table",{"v-table--fixed-height":!!o.height,"v-table--fixed-header":o.fixedHeader,"v-table--fixed-footer":o.fixedFooter,"v-table--has-top":!!y.top,"v-table--has-bottom":!!y.bottom,"v-table--hover":o.hover},T.value,G.value,o.class],style:o.style},{default:()=>{var V,L,A;return[(V=y.top)==null?void 0:V.call(y),y.default?ct("div",{class:"v-table__wrapper",style:{height:ra(o.height)}},[ct("table",null,[y.default()])]):(L=y.wrapper)==null?void 0:L.call(y),(A=y.bottom)==null?void 0:A.call(y)]}})),{}}});const npe=Br({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:o=>!isNaN(parseFloat(o))},maxRows:{type:[Number,String],validator:o=>!isNaN(parseFloat(o))},suffix:String,modelModifiers:Object,...e$(),...Gq()},"VTextarea"),sie=Go()({name:"VTextarea",directives:{Intersect:Rq},inheritAttrs:!1,props:npe(),emits:{"click:control":o=>!0,"mousedown:control":o=>!0,"update:focused":o=>!0,"update:modelValue":o=>!0},setup(o,b){let{attrs:y,emit:T,slots:G}=b;const V=ri(o,"modelValue"),{isFocused:L,focus:A,blur:s}=q6(o),m=on(()=>typeof o.counterValue=="function"?o.counterValue(V.value):(V.value||"").toString().length),h=on(()=>{if(y.maxlength)return y.maxlength;if(!(!o.counter||typeof o.counter!="number"&&typeof o.counter!="string"))return o.counter});function l(k,R){var F,H;!o.autofocus||!k||(H=(F=R[0].target)==null?void 0:F.focus)==null||H.call(F)}const c=No(),i=No(),u=xa(""),d=No(),g=on(()=>o.persistentPlaceholder||L.value||o.active);function v(){var k;d.value!==document.activeElement&&((k=d.value)==null||k.focus()),L.value||A()}function x(k){v(),T("click:control",k)}function C(k){T("mousedown:control",k)}function _(k){k.stopPropagation(),v(),Ll(()=>{V.value="",kae(o["onClick:clear"],k)})}function $(k){var F;const R=k.target;if(V.value=R.value,(F=o.modelModifiers)!=null&&F.trim){const H=[R.selectionStart,R.selectionEnd];Ll(()=>{R.selectionStart=H[0],R.selectionEnd=H[1]})}}const S=No(),O=No(+o.rows),D=on(()=>["plain","underlined"].includes(o.variant));fh(()=>{o.autoGrow||(O.value=+o.rows)});function N(){o.autoGrow&&Ll(()=>{if(!S.value||!i.value)return;const k=getComputedStyle(S.value),R=getComputedStyle(i.value.$el),F=parseFloat(k.getPropertyValue("--v-field-padding-top"))+parseFloat(k.getPropertyValue("--v-input-padding-top"))+parseFloat(k.getPropertyValue("--v-field-padding-bottom")),H=S.value.scrollHeight,j=parseFloat(k.lineHeight),P=Math.max(parseFloat(o.rows)*j+F,parseFloat(R.getPropertyValue("--v-input-control-height"))),ee=parseFloat(o.maxRows)*j+F||1/0,J=yg(H??0,P,ee);O.value=Math.floor((J-F)/j),u.value=ra(J)})}Cg(N),ta(V,N),ta(()=>o.rows,N),ta(()=>o.maxRows,N),ta(()=>o.density,N);let M;return ta(S,k=>{k?(M=new ResizeObserver(N),M.observe(S.value)):M==null||M.disconnect()}),dm(()=>{M==null||M.disconnect()}),ga(()=>{const k=!!(G.counter||o.counter||o.counterValue),R=!!(k||G.details),[F,H]=Cq(y),[{modelValue:j,...P}]=_2.filterProps(o),[ee]=Ose(o);return ct(_2,Jo({ref:c,modelValue:V.value,"onUpdate:modelValue":J=>V.value=J,class:["v-textarea v-text-field",{"v-textarea--prefixed":o.prefix,"v-textarea--suffixed":o.suffix,"v-text-field--prefixed":o.prefix,"v-text-field--suffixed":o.suffix,"v-textarea--auto-grow":o.autoGrow,"v-textarea--no-resize":o.noResize||o.autoGrow,"v-text-field--plain-underlined":D.value},o.class],style:o.style},F,P,{centerAffix:O.value===1&&!D.value,focused:L.value}),{...G,default:J=>{let{isDisabled:K,isDirty:ae,isReadonly:Q,isValid:he}=J;return ct(Zq,Jo({ref:i,style:{"--v-textarea-control-height":u.value},onClick:x,onMousedown:C,"onClick:clear":_,"onClick:prependInner":o["onClick:prependInner"],"onClick:appendInner":o["onClick:appendInner"]},ee,{active:g.value||ae.value,centerAffix:O.value===1&&!D.value,dirty:ae.value||o.dirty,disabled:K.value,focused:L.value,error:he.value===!1}),{...G,default:ge=>{let{props:{class:Se,...ce}}=ge;return ct(Uo,null,[o.prefix&&ct("span",{class:"v-text-field__prefix"},[o.prefix]),lu(ct("textarea",Jo({ref:d,class:Se,value:V.value,onInput:$,autofocus:o.autofocus,readonly:Q.value,disabled:K.value,placeholder:o.placeholder,rows:o.rows,name:o.name,onFocus:v,onBlur:s},ce,H),null),[[_p("intersect"),{handler:l},null,{once:!0}]]),o.autoGrow&&lu(ct("textarea",{class:[Se,"v-textarea__sizer"],id:`${ce.id}-sizer`,"onUpdate:modelValue":ne=>V.value=ne,ref:S,readonly:!0,"aria-hidden":"true"},null),[[Hfe,V.value]]),o.suffix&&ct("span",{class:"v-text-field__suffix"},[o.suffix])])}})},details:R?J=>{var K;return ct(Uo,null,[(K=G.details)==null?void 0:K.call(G,J),k&&ct(Uo,null,[ct("span",null,null),ct($se,{active:o.persistentCounter||L.value,value:m.value,max:h.value},G.counter)])])}:void 0})}),A3({},c,i,d)}});const rpe=Br({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),iie=Symbol.for("vuetify:data-table-pagination");function ope(o){const b=ri(o,"page",void 0,T=>+(T??1)),y=ri(o,"itemsPerPage",void 0,T=>+(T??10));return{page:b,itemsPerPage:y}}function ape(o){const{page:b,itemsPerPage:y,itemsLength:T}=o,G=on(()=>y.value===-1?0:y.value*(b.value-1)),V=on(()=>y.value===-1?T.value:Math.min(T.value,G.value+y.value)),L=on(()=>y.value===-1||T.value===0?1:Math.ceil(T.value/y.value));fh(()=>{b.value>L.value&&(b.value=L.value)});function A(c){y.value=c,b.value=1}function s(){b.value=yg(b.value+1,1,L.value)}function m(){b.value=yg(b.value-1,1,L.value)}function h(c){b.value=yg(c,1,L.value)}const l={page:b,itemsPerPage:y,startIndex:G,stopIndex:V,pageCount:L,itemsLength:T,nextPage:s,prevPage:m,setPage:h,setItemsPerPage:A};return Gl(iie,l),l}function spe(){const o=ni(iie);if(!o)throw new Error("Missing pagination!");return o}function ipe(o){const{items:b,startIndex:y,stopIndex:T,itemsPerPage:G}=o;return{paginatedItems:on(()=>G.value<=0?b.value:b.value.slice(y.value,T.value))}}const lie=Br({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),_re=Go()({name:"VDataTableFooter",props:lie(),setup(o,b){let{slots:y}=b;const{t:T}=L2(),{page:G,pageCount:V,startIndex:L,stopIndex:A,itemsLength:s,itemsPerPage:m,setItemsPerPage:h}=spe(),l=on(()=>o.itemsPerPageOptions.map(c=>({...c,title:T(c.title)})));return()=>{var c;return ct("div",{class:"v-data-table-footer"},[(c=y.prepend)==null?void 0:c.call(y),ct("div",{class:"v-data-table-footer__items-per-page"},[ct("span",null,[T(o.itemsPerPageText)]),ct(Xq,{items:l.value,modelValue:m.value,"onUpdate:modelValue":i=>h(Number(i)),density:"compact",variant:"outlined","hide-details":!0},null)]),ct("div",{class:"v-data-table-footer__info"},[ct("div",null,[T(o.pageText,s.value?L.value+1:0,A.value,s.value)])]),ct("div",{class:"v-data-table-footer__pagination"},[ct(dc,{icon:o.firstIcon,variant:"plain",onClick:()=>G.value=1,disabled:G.value===1,"aria-label":T(o.firstPageLabel)},null),ct(dc,{icon:o.prevIcon,variant:"plain",onClick:()=>G.value=Math.max(1,G.value-1),disabled:G.value===1,"aria-label":T(o.prevPageLabel)},null),o.showCurrentPage&&ct("span",{key:"page",class:"v-data-table-footer__page"},[G.value]),ct(dc,{icon:o.nextIcon,variant:"plain",onClick:()=>G.value=Math.min(V.value,G.value+1),disabled:G.value===V.value,"aria-label":T(o.nextPageLabel)},null),ct(dc,{icon:o.lastIcon,variant:"plain",onClick:()=>G.value=V.value,disabled:G.value===V.value,"aria-label":T(o.lastPageLabel)},null)])])}}}),oee=Qde({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(o,b)=>{let{slots:y,attrs:T}=b;const G=o.tag??"td";return ct(G,Jo({class:["v-data-table__td",{"v-data-table-column--fixed":o.fixed,"v-data-table-column--last-fixed":o.lastFixed,"v-data-table-column--no-padding":o.noPadding},`v-data-table-column--align-${o.align}`],style:{height:ra(o.height),width:ra(o.width),left:ra(o.fixedOffset||null)}},T),{default:()=>{var V;return[(V=y.default)==null?void 0:V.call(y)]}})}),lpe=Br({headers:{type:Array,default:()=>[]}},"DataTable-header"),cie=Symbol.for("vuetify:data-table-headers");function cpe(o,b){const y=No([]),T=No([]);fh(()=>{var i,u,d;const V=o.headers.length?Array.isArray(o.headers[0])?o.headers:[o.headers]:[],L=V.flatMap((g,v)=>g.map(x=>({column:x,row:v}))),A=V.length,s={title:"",sortable:!1},m={...s,width:48};if((i=b==null?void 0:b.groupBy)!=null&&i.value.length){const g=L.findIndex(v=>{let{column:x}=v;return x.key==="data-table-group"});g<0?L.unshift({column:{...s,key:"data-table-group",title:"Group",rowspan:A},row:0}):L.splice(g,1,{column:{...s,...L[g].column},row:L[g].row})}if((u=b==null?void 0:b.showSelect)!=null&&u.value){const g=L.findIndex(v=>{let{column:x}=v;return x.key==="data-table-select"});g<0?L.unshift({column:{...m,key:"data-table-select",rowspan:A},row:0}):L.splice(g,1,{column:{...m,...L[g].column},row:L[g].row})}if((d=b==null?void 0:b.showExpand)!=null&&d.value){const g=L.findIndex(v=>{let{column:x}=v;return x.key==="data-table-expand"});g<0?L.push({column:{...m,key:"data-table-expand",rowspan:A},row:0}):L.splice(g,1,{column:{...m,...L[g].column},row:L[g].row})}const h=AE(A).map(()=>[]),l=AE(A).fill(0);L.forEach(g=>{let{column:v,row:x}=g;const C=v.key??(typeof v.value=="string"?v.value:null),_=v.value??v.key??null;for(let $=x;$<=x+(v.rowspan??1)-1;$++)h[$].push({...v,key:C,value:_,fixedOffset:l[$],sortable:v.sortable??C!=null}),l[$]+=Number(v.width??0)}),h.forEach(g=>{for(let v=g.length;v--;v>=0)if(g[v].fixed){g[v].lastFixed=!0;return}});const c=new Set;y.value=h.map(g=>{const v=[];for(const x of g)c.has(x.key)||(c.add(x.key),v.push(x));return v}),T.value=h.at(-1)??[]});const G={headers:y,columns:T};return Gl(cie,G),G}function dH(){const o=ni(cie);if(!o)throw new Error("Missing headers!");return o}const upe={showSelectAll:!1,allSelected:()=>[],select:o=>{var T;let{items:b,value:y}=o;return new Set(y?[(T=b[0])==null?void 0:T.value]:[])},selectAll:o=>{let{selected:b}=o;return b}},uie={showSelectAll:!0,allSelected:o=>{let{currentPage:b}=o;return b},select:o=>{let{items:b,value:y,selected:T}=o;for(const G of b)y?T.add(G.value):T.delete(G.value);return T},selectAll:o=>{let{value:b,currentPage:y,selected:T}=o;return uie.select({items:y,value:b,selected:T})}},fie={showSelectAll:!0,allSelected:o=>{let{allItems:b}=o;return b},select:o=>{let{items:b,value:y,selected:T}=o;for(const G of b)y?T.add(G.value):T.delete(G.value);return T},selectAll:o=>{let{value:b,allItems:y,selected:T}=o;return fie.select({items:y,value:b,selected:T})}},fpe=Br({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:b3}},"DataTable-select"),die=Symbol.for("vuetify:data-table-selection");function dpe(o,b){let{allItems:y,currentPage:T}=b;const G=ri(o,"modelValue",o.modelValue,g=>new Set(xd(g).map(v=>{var x;return((x=y.value.find(C=>o.valueComparator(v,C.value)))==null?void 0:x.value)??v})),g=>[...g.values()]),V=on(()=>y.value.filter(g=>g.selectable)),L=on(()=>T.value.filter(g=>g.selectable)),A=on(()=>{if(typeof o.selectStrategy=="object")return o.selectStrategy;switch(o.selectStrategy){case"single":return upe;case"all":return fie;case"page":default:return uie}});function s(g){return xd(g).every(v=>G.value.has(v.value))}function m(g){return xd(g).some(v=>G.value.has(v.value))}function h(g,v){const x=A.value.select({items:g,value:v,selected:new Set(G.value)});G.value=x}function l(g){h([g],!s([g]))}function c(g){const v=A.value.selectAll({value:g,allItems:V.value,currentPage:L.value,selected:new Set(G.value)});G.value=v}const i=on(()=>G.value.size>0),u=on(()=>{const g=A.value.allSelected({allItems:V.value,currentPage:L.value});return!!g.length&&s(g)}),d={toggleSelect:l,select:h,selectAll:c,isSelected:s,isSomeSelected:m,someSelected:i,allSelected:u,showSelectAll:A.value.showSelectAll};return Gl(die,d),d}function hH(){const o=ni(die);if(!o)throw new Error("Missing selection!");return o}const hpe=Br({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),hie=Symbol.for("vuetify:data-table-sort");function mpe(o){const b=ri(o,"sortBy"),y=Xo(o,"mustSort"),T=Xo(o,"multiSort");return{sortBy:b,mustSort:y,multiSort:T}}function gpe(o){const{sortBy:b,mustSort:y,multiSort:T,page:G}=o,V=s=>{if(s.key==null)return;let m=b.value.map(l=>({...l}))??[];const h=m.find(l=>l.key===s.key);h?h.order==="desc"?y.value?h.order="asc":m=m.filter(l=>l.key!==s.key):h.order="desc":T.value?m=[...m,{key:s.key,order:"asc"}]:m=[{key:s.key,order:"asc"}],b.value=m,G&&(G.value=1)};function L(s){return!!b.value.find(m=>m.key===s.key)}const A={sortBy:b,toggleSort:V,isSorted:L};return Gl(hie,A),A}function ppe(){const o=ni(hie);if(!o)throw new Error("Missing sort!");return o}function vpe(o,b,y){const T=L2();return{sortedItems:on(()=>y.value.length?ype(b.value,y.value,T.current.value,o.customKeySort):b.value)}}function ype(o,b,y,T){const G=new Intl.Collator(y,{sensitivity:"accent",usage:"sort"});return[...o].sort((V,L)=>{for(let A=0;A<b.length;A++){const s=b[A].key,m=b[A].order??"asc";if(m===!1)continue;let h=v3(V.raw,s),l=v3(L.raw,s);if(m==="desc"&&([h,l]=[l,h]),T!=null&&T[s]){const c=T[s](h,l);if(!c)continue;return c}if(h instanceof Date&&l instanceof Date)return h.getTime()-l.getTime();if([h,l]=[h,l].map(c=>c!=null?c.toString().toLocaleLowerCase():c),h!==l)return KF(h)&&KF(l)?0:KF(h)?-1:KF(l)?1:!isNaN(h)&&!isNaN(l)?Number(h)-Number(l):G.compare(h,l)}return 0})}const mie=Br({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:vi,default:"$sortAsc"},sortDescIcon:{type:vi,default:"$sortDesc"},...rH()},"VDataTableHeaders"),Rre=Go()({name:"VDataTableHeaders",props:mie(),setup(o,b){let{slots:y,emit:T}=b;const{toggleSort:G,sortBy:V,isSorted:L}=ppe(),{someSelected:A,allSelected:s,selectAll:m,showSelectAll:h}=hH(),{columns:l,headers:c}=dH(),{loaderClasses:i}=oH(o),u=(_,$)=>{if(!(!o.sticky&&!_.fixed))return{position:"sticky",zIndex:_.fixed?4:o.sticky?3:void 0,left:_.fixed?ra(_.fixedOffset):void 0,top:o.sticky?`calc(var(--v-table-header-height) * ${$})`:void 0}};function d(_){const $=V.value.find(S=>S.key===_.key);return $?$.order==="asc"?o.sortAscIcon:o.sortDescIcon:o.sortAscIcon}const{backgroundColorClasses:g,backgroundColorStyles:v}=wg(o,"color"),x=on(()=>({headers:c.value,columns:l.value,toggleSort:G,isSorted:L,sortBy:V.value,someSelected:A.value,allSelected:s.value,selectAll:m,getSortIcon:d,getFixedStyles:u})),C=_=>{let{column:$,x:S,y:O}=_;const D=$.key==="data-table-select"||$.key==="data-table-expand";return ct(oee,{tag:"th",align:$.align,class:["v-data-table__th",{"v-data-table__th--sortable":$.sortable,"v-data-table__th--sorted":L($)},i.value],style:{width:ra($.width),minWidth:ra($.width),...u($,O)},colspan:$.colspan,rowspan:$.rowspan,onClick:$.sortable?()=>G($):void 0,lastFixed:$.lastFixed,noPadding:D},{default:()=>{var k;const N=`column.${$.key}`,M={column:$,selectAll:m,isSorted:L,toggleSort:G,sortBy:V.value,someSelected:A.value,allSelected:s.value,getSortIcon:d};return y[N]?y[N](M):$.key==="data-table-select"?((k=y["column.data-table-select"])==null?void 0:k.call(y,M))??(h&&ct(FE,{modelValue:s.value,indeterminate:A.value&&!s.value,"onUpdate:modelValue":m},null)):ct("div",{class:"v-data-table-header__content"},[ct("span",null,[$.title]),$.sortable&&ct(js,{key:"icon",class:"v-data-table-header__sort-icon",icon:d($)},null),o.multiSort&&L($)&&ct("div",{key:"badge",class:["v-data-table-header__sort-badge",...g.value],style:v.value},[V.value.findIndex(R=>R.key===$.key)+1])])}})};ga(()=>ct(Uo,null,[y.headers?y.headers(x.value):c.value.map((_,$)=>ct("tr",null,[_.map((S,O)=>ct(C,{column:S,x:O,y:$},null))])),o.loading&&ct("tr",{class:"v-data-table-progress"},[ct("th",{colspan:l.value.length},[ct(Bq,{name:"v-data-table-progress",active:!0,color:typeof o.loading=="boolean"?void 0:o.loading,indeterminate:!0},{default:y.loader})])])]))}}),bpe=Br({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),gie=Symbol.for("vuetify:data-table-group");function xpe(o){return{groupBy:ri(o,"groupBy")}}function wpe(o){const{groupBy:b,sortBy:y}=o,T=No(new Set),G=on(()=>b.value.map(m=>({...m,order:m.order??!1})).concat(y.value));function V(m){return T.value.has(m.id)}function L(m){const h=new Set(T.value);V(m)?h.delete(m.id):h.add(m.id),T.value=h}function A(m){function h(l){const c=[];for(const i of l.items)"type"in i&&i.type==="group"?c.push(...h(i)):c.push(i);return c}return h({type:"group",items:m,id:"dummy",key:"dummy",value:"dummy",depth:0})}const s={sortByWithGroups:G,toggleGroup:L,opened:T,groupBy:b,extractRows:A,isGroupOpen:V};return Gl(gie,s),s}function pie(){const o=ni(gie);if(!o)throw new Error("Missing group!");return o}function Cpe(o,b){if(!o.length)return[];const y=new Map;for(const T of o){const G=v3(T.raw,b);y.has(G)||y.set(G,[]),y.get(G).push(T)}return y}function vie(o,b){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!b.length)return[];const G=Cpe(o,b[0]),V=[],L=b.slice(1);return G.forEach((A,s)=>{const m=b[0],h=`${T}_${m}_${s}`;V.push({depth:y,id:h,key:m,value:s,items:L.length?vie(A,L,y+1,h):A,type:"group"})}),V}function yie(o,b){const y=[];for(const T of o)"type"in T&&T.type==="group"?(T.value!=null&&y.push(T),(b.has(T.id)||T.value==null)&&y.push(...yie(T.items,b))):y.push(T);return y}function Spe(o,b,y){return{flatItems:on(()=>{if(!b.value.length)return o.value;const G=vie(o.value,b.value.map(V=>V.key));return yie(G,y.value)})}}const Tpe=Br({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),kpe=Go()({name:"VDataTableGroupHeaderRow",props:Tpe(),setup(o,b){let{slots:y}=b;const{isGroupOpen:T,toggleGroup:G,extractRows:V}=pie(),{isSelected:L,isSomeSelected:A,select:s}=hH(),{columns:m}=dH(),h=on(()=>V([o.item]));return()=>ct("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":o.item.depth}},[m.value.map(l=>{var c,i;if(l.key==="data-table-group"){const u=T(o.item)?"$expand":"$next",d=()=>G(o.item);return((c=y["data-table-group"])==null?void 0:c.call(y,{item:o.item,count:h.value.length,props:{icon:u,onClick:d}}))??ct(oee,{class:"v-data-table-group-header-row__column"},{default:()=>[ct(dc,{size:"small",variant:"text",icon:u,onClick:d},null),ct("span",null,[o.item.value]),ct("span",null,[ii("("),h.value.length,ii(")")])]})}if(l.key==="data-table-select"){const u=L(h.value),d=A(h.value)&&!u,g=v=>s(h.value,v);return((i=y["data-table-select"])==null?void 0:i.call(y,{props:{modelValue:u,indeterminate:d,"onUpdate:modelValue":g}}))??ct("td",null,[ct(FE,{modelValue:u,indeterminate:d,"onUpdate:modelValue":g},null)])}return ct("td",null,null)})])}}),Ape=Br({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),bie=Symbol.for("vuetify:datatable:expanded");function Mpe(o){const b=Xo(o,"expandOnClick"),y=ri(o,"expanded",o.expanded,A=>new Set(A),A=>[...A.values()]);function T(A,s){const m=new Set(y.value);s?m.add(A.value):m.delete(A.value),y.value=m}function G(A){return y.value.has(A.value)}function V(A){T(A,!G(A))}const L={expand:T,expanded:y,expandOnClick:b,isExpanded:G,toggleExpand:V};return Gl(bie,L),L}function xie(){const o=ni(bie);if(!o)throw new Error("foo");return o}const Epe=Br({index:Number,item:Object,onClick:Function},"VDataTableRow"),_pe=Go()({name:"VDataTableRow",props:Epe(),setup(o,b){let{slots:y}=b;const{isSelected:T,toggleSelect:G}=hH(),{isExpanded:V,toggleExpand:L}=xie(),{columns:A}=dH();ga(()=>ct("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!o.onClick}],onClick:o.onClick},[o.item&&A.value.map((s,m)=>ct(oee,{align:s.align,fixed:s.fixed,fixedOffset:s.fixedOffset,lastFixed:s.lastFixed,noPadding:s.key==="data-table-select"||s.key==="data-table-expand",width:s.width},{default:()=>{var i,u;const h=o.item,l=`item.${s.key}`,c={index:o.index,item:h.raw,internalItem:h,value:v3(h.columns,s.key),column:s,isSelected:T,toggleSelect:G,isExpanded:V,toggleExpand:L};return y[l]?y[l](c):s.key==="data-table-select"?((i=y["item.data-table-select"])==null?void 0:i.call(y,c))??ct(FE,{disabled:!h.selectable,modelValue:T([h]),onClick:Lne(()=>G(h),["stop"])},null):s.key==="data-table-expand"?((u=y["item.data-table-expand"])==null?void 0:u.call(y,c))??ct(dc,{icon:V(h)?"$collapse":"$expand",size:"small",variant:"text",onClick:Lne(()=>L(h),["stop"])},null):Sp(c.value)}}))]))}}),wie=Br({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},"VDataTableRows"),Lre=Go()({name:"VDataTableRows",props:wie(),setup(o,b){let{emit:y,slots:T}=b;const{columns:G}=dH(),{expandOnClick:V,toggleExpand:L,isExpanded:A}=xie(),{isSelected:s,toggleSelect:m}=hH(),{toggleGroup:h,isGroupOpen:l}=pie(),{t:c}=L2();return ga(()=>{var i,u;return o.loading?ct("tr",{class:"v-data-table-rows-loading",key:"loading"},[ct("td",{colspan:G.value.length},[((i=T.loading)==null?void 0:i.call(T))??c(o.loadingText)])]):!o.loading&&!o.items.length&&!o.hideNoData?ct("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[ct("td",{colspan:G.value.length},[((u=T["no-data"])==null?void 0:u.call(T))??c(o.noDataText)])]):ct(Uo,null,[o.items.map((d,g)=>{var C;if(d.type==="group")return T["group-header"]?T["group-header"]({index:g,item:d,columns:G.value,isExpanded:A,toggleExpand:L,isSelected:s,toggleSelect:m,toggleGroup:h,isGroupOpen:l}):ct(kpe,{key:`group-header_${d.id}`,item:d},T);const v={index:g,item:d.raw,internalItem:d,columns:G.value,isExpanded:A,toggleExpand:L,isSelected:s,toggleSelect:m},x={...v,props:{key:`item_${d.key??d.index}`,onClick:V.value||o["onClick:row"]?_=>{var $;V.value&&L(d),($=o["onClick:row"])==null||$.call(o,_,{item:d.raw,internalItem:d})}:void 0,index:g,item:d}};return ct(Uo,null,[T.item?T.item(x):ct(_pe,x.props,T),A(d)&&((C=T["expanded-row"])==null?void 0:C.call(T,v))])})])}),{}}}),Rpe=Br({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataTable-items");function Lpe(o,b,y,T){const G=o.returnObject?b:lh(b,o.itemValue),V=lh(b,o.itemSelectable,!0),L=T.reduce((A,s)=>(s.key!=null&&(A[s.key]=lh(b,s.value)),A),{});return{type:"item",key:o.returnObject?lh(b,o.itemValue):G,index:y,value:G,selectable:V,columns:L,raw:b}}function Dpe(o,b,y){return b.map((T,G)=>Lpe(o,T,G,y))}function $pe(o,b){return{items:on(()=>Dpe(o,o.items,b.value))}}function Ope(o){let{page:b,itemsPerPage:y,sortBy:T,groupBy:G,search:V}=o;const L=Vu("VDataTable"),A=on(()=>({page:b.value,itemsPerPage:y.value,sortBy:T.value,groupBy:G.value,search:V.value}));ta(()=>V==null?void 0:V.value,()=>{b.value=1});let s=null;ta(A,()=>{b3(s,A.value)||(L.emit("update:options",A.value),s=A.value)},{deep:!0,immediate:!0})}const Ppe=Br({...wie(),width:[String,Number],search:String,...Ape(),...bpe(),...lpe(),...Rpe(),...fpe(),...hpe(),...mie(),...aie()},"DataTable"),Ipe=Br({...rpe(),...Ppe(),...Jq(),...lie()},"VDataTable"),aee=Go()({name:"VDataTable",props:Ipe(),emits:{"update:modelValue":o=>!0,"update:page":o=>!0,"update:itemsPerPage":o=>!0,"update:sortBy":o=>!0,"update:options":o=>!0,"update:groupBy":o=>!0,"update:expanded":o=>!0},setup(o,b){let{emit:y,slots:T}=b;const{groupBy:G}=xpe(o),{sortBy:V,multiSort:L,mustSort:A}=mpe(o),{page:s,itemsPerPage:m}=ope(o),{columns:h,headers:l}=cpe(o,{groupBy:G,showSelect:Xo(o,"showSelect"),showExpand:Xo(o,"showExpand")}),{items:c}=$pe(o,h),i=Xo(o,"search"),{filteredItems:u}=Qq(o,c,i,{transform:ge=>ge.columns}),{toggleSort:d}=gpe({sortBy:V,multiSort:L,mustSort:A,page:s}),{sortByWithGroups:g,opened:v,extractRows:x,isGroupOpen:C,toggleGroup:_}=wpe({groupBy:G,sortBy:V}),{sortedItems:$}=vpe(o,u,g),{flatItems:S}=Spe($,G,v),O=on(()=>S.value.length),{startIndex:D,stopIndex:N,pageCount:M,setItemsPerPage:k}=ape({page:s,itemsPerPage:m,itemsLength:O}),{paginatedItems:R}=ipe({items:S,startIndex:D,stopIndex:N,itemsPerPage:m}),F=on(()=>x(R.value)),{isSelected:H,select:j,selectAll:P,toggleSelect:ee,someSelected:J,allSelected:K}=dpe(o,{allItems:c,currentPage:F}),{isExpanded:ae,toggleExpand:Q}=Mpe(o);Ope({page:s,itemsPerPage:m,sortBy:V,groupBy:G,search:i}),R0({VDataTableRows:{hideNoData:Xo(o,"hideNoData"),noDataText:Xo(o,"noDataText"),loading:Xo(o,"loading"),loadingText:Xo(o,"loadingText")}});const he=on(()=>({page:s.value,itemsPerPage:m.value,sortBy:V.value,pageCount:M.value,toggleSort:d,setItemsPerPage:k,someSelected:J.value,allSelected:K.value,isSelected:H,select:j,selectAll:P,toggleSelect:ee,isExpanded:ae,toggleExpand:Q,isGroupOpen:C,toggleGroup:_,items:F.value,groupedItems:R.value,columns:h.value,headers:l.value}));return ga(()=>{const[ge]=_re.filterProps(o),[Se]=Rre.filterProps(o),[ce]=Lre.filterProps(o),[ne]=Ere.filterProps(o);return ct(Ere,Jo({class:["v-data-table",{"v-data-table--show-select":o.showSelect,"v-data-table--loading":o.loading},o.class],style:o.style},ne),{top:()=>{var fe;return(fe=T.top)==null?void 0:fe.call(T,he.value)},default:()=>{var fe,X,ye,Ce;return T.default?T.default(he.value):ct(Uo,null,[(fe=T.colgroup)==null?void 0:fe.call(T,he.value),ct("thead",null,[ct(Rre,Se,T)]),(X=T.thead)==null?void 0:X.call(T,he.value),ct("tbody",null,[T.body?T.body(he.value):ct(Lre,Jo(ce,{items:R.value}),T)]),(ye=T.tbody)==null?void 0:ye.call(T,he.value),(Ce=T.tfoot)==null?void 0:Ce.call(T,he.value)])},bottom:()=>T.bottom?T.bottom(he.value):ct(Uo,null,[ct(_re,ge,{prepend:T["footer.prepend"]})])})}),{}}}),Npe={emits:["runCode"],components:{"v-slider":Vse,"v-text-field":Ep,"v-number-field":Ep,"v-textarea":sie,"v-range-slider":oie,"v-select":Xq,"v-combobox":Use,"v-btn":dc,"v-img":Y6,"v-data-table":aee,"v-autocomplete":Pse,"v-card":M3,"plotly-plot":mae},props:{rowData:{type:Object},columnData:{type:Object},components:{type:Object,required:!0}},methods:{findComponentById(o){const b=this.components.find(y=>y.id===o);return b?[b]:[]},cardComponents(o){const b=[];for(const y in o.cardChildren)b.push.apply(b,this.findComponentById(o.cardChildren[y]));return b},runCode(o,b,y){this.$emit("runCode",o,b,y)},componentWidth(o){return o.width?o.width:!1},componentBind(o){if(o.component&&o.component==="v-autocomplete"){const{value:b,...y}=o;return y}return o},clickedButton(o){o.component==="v-btn"&&(o.value=!0)}}},Fpe={key:0},Bpe={key:1},Hpe={key:1},zpe={key:0},Vpe={key:1};function Upe(o,b,y,T,G,V){const L=A0("plotly-plot"),A=A0("layout-component",!0);return mo(),Ts(Uo,null,[y.rowData?(mo(),za(sm,{key:0},{default:jr(()=>[(mo(!0),Ts(Uo,null,uf(y.rowData.components,(s,m)=>(mo(),za(kp,{key:m,cols:V.componentWidth(s)},{default:jr(()=>[typeof s=="string"?(mo(),Ts("div",Fpe,[(mo(!0),Ts(Uo,null,uf(V.findComponentById(s),h=>(mo(),Ts("div",null,[h.component==="plotly-plot"?(mo(),za(L,{key:0,id:h.id,figure:h.figure,layout:h.layout},null,8,["id","figure","layout"])):h.component==="v-card"?(mo(),za(mg(h.component),Jo({key:1},V.componentBind(h),{position:"relative",onRunCode:V.runCode}),{default:jr(()=>[(mo(!0),Ts(Uo,null,uf(V.cardComponents(h),l=>(mo(),Ts("div",null,[l.component==="plotly-plot"?(mo(),za(L,{key:0,id:l.id,figure:l.figure,layout:l.layout},null,8,["id","figure","layout"])):(mo(),za(mg(l.component),Jo({key:1},V.componentBind(l),{modelValue:l.value,"onUpdate:modelValue":c=>l.value=c,onClick:c=>V.clickedButton(l)},{[C0(l.triggerEvent)]:c=>V.runCode(!0,l.id,l.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]))),256))]),_:2},1040,["onRunCode"])):(mo(),za(mg(h.component),Jo({key:2},V.componentBind(h),{modelValue:h.value,"onUpdate:modelValue":l=>h.value=l,onClick:l=>V.clickedButton(h)},{[C0(h.triggerEvent)]:l=>V.runCode(!0,h.id,h.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]))),256))])):(mo(),Ts("div",Bpe,[ct(A,{"column-data":s,components:y.components,onRunCode:V.runCode},null,8,["column-data","components","onRunCode"])]))]),_:2},1032,["cols"]))),128))]),_:1})):cm("",!0),y.columnData?(mo(),Ts("div",Hpe,[(mo(!0),Ts(Uo,null,uf(y.columnData.components,(s,m)=>(mo(),Ts("div",{key:m},[typeof s=="string"?(mo(),Ts("div",zpe,[(mo(!0),Ts(Uo,null,uf(V.findComponentById(s),h=>(mo(),Ts("div",null,[h.component==="plotly-plot"?(mo(),za(L,{key:0,id:h.id,figure:h.figure,layout:h.layout},null,8,["id","figure","layout"])):h.component==="v-card"?(mo(),za(mg(h.component),Jo({key:1},V.componentBind(h),{position:"relative"}),{default:jr(()=>[(mo(!0),Ts(Uo,null,uf(V.cardComponents(h),l=>(mo(),Ts("div",null,[l.component==="plotly-plot"?(mo(),za(L,{key:0,id:l.id,figure:l.figure,layout:l.layout},null,8,["id","figure","layout"])):(mo(),za(mg(l.component),Jo({key:1},V.componentBind(l),{modelValue:l.value,"onUpdate:modelValue":c=>l.value=c,onClick:c=>V.clickedButton(l)},{[C0(l.triggerEvent)]:c=>V.runCode(!0,l.id,l.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]))),256))]),_:2},1040)):(mo(),za(mg(h.component),Jo({key:2},V.componentBind(h),{modelValue:h.value,"onUpdate:modelValue":l=>h.value=l,onClick:l=>V.clickedButton(h)},{[C0(h.triggerEvent)]:l=>V.runCode(!0,h.id,h.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]))),256))])):(mo(),Ts("div",Vpe,[ct(A,{"row-data":s,components:y.components,onRunCode:V.runCode},null,8,["row-data","components","onRunCode"])]))]))),128))])):cm("",!0)],64)}const Wpe=Vy(Npe,[["render",Upe]]),Gpe={components:{"ace-editor":eH,"v-slider":Vse,"v-text-field":Ep,"v-number-field":Ep,"v-textarea":sie,"v-range-slider":oie,"v-select":Xq,"v-combobox":Use,"v-btn":dc,"v-img":Y6,"v-data-table":aee,"v-autocomplete":Pse,"v-card":M3,"plotly-plot":mae,"layout-component":Wpe},props:{cellData:{type:Object,required:!0}},data(){return{isFocused:!1,items:[{title:"Code"},{title:"SQL"},{title:"Markdown"},{title:"Text"}]}},mounted(){if(this.$devMode){const o=this.$refs.editor;o._editor.renderer.$cursorLayer.element.style.display="none"}window.addEventListener("keydown",this.handleKeyDown)},beforeUnmount(){window.removeEventListener("keydown",this.handleKeyDown)},computed:{columns(){var o;return((o=this.cellData.layout)==null?void 0:o.columns)||[]},editorOptions(){return{showPrintMargin:!1,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0,autoScrollEditorIntoView:!0,highlightActiveLine:this.$devMode&&this.isFocused,highlightGutterLine:this.$devMode&&this.isFocused,minLines:1,maxLines:1/0}},unplacedComponents(){var T,G;const o=V=>{let L=[];for(const A of V)for(const s of(A==null?void 0:A.components)??[])typeof s=="string"?L.push(s):s&&s.components&&(L=L.concat(o([s])));return L},b=V=>{let L=[];for(const A of V)A.component==="v-card"&&L.push.apply(L,Object.values(A.cardChildren));return L},y=o(((T=this.cellData.layout)==null?void 0:T.rows)??[]).concat(o(((G=this.cellData.layout)==null?void 0:G.columns)??[])).concat(b(this.cellData.components));return this.cellData.components.filter(V=>!y.includes(V.id))}},methods:{handleKeyDown(o){this.isFocused&&o.ctrlKey&&o.key==="Enter"&&this.runCode(!1,this.cellData.id,"")},handleFocus(o){if(o){const b=this.$refs.editor;b._editor.renderer.$cursorLayer.element.style.display=""}else{const b=this.$refs.editor;b._editor.renderer.$cursorLayer.element.style.display="none"}this.isFocused=o},runCode(o,b,y){!this.$devMode&&o?this.$emit("componentChange",this.cellData.id,b,y):this.$emit("runCode",this.cellData.id,b)},deleteCell(){this.$emit("deleteCell",this.cellData.id)},componentBind(o){if(o.component&&o.component==="v-autocomplete"){const{value:b,...y}=o;return this.convertUnderscoresToHyphens(y)}return this.convertUnderscoresToHyphens(o)},convertUnderscoresToHyphens(o){return Object.entries(o).reduce((b,[y,T])=>{const G=y.replace(/_/g,"-");return b[G]=T,b},{})},clickedButton(o){o.component==="v-btn"&&(o.value=!0)},findComponentById(o){return this.cellData.components.find(y=>y.id===o)},cardComponents(o){const b=[];for(const y in o.cardChildren)b.push(this.findComponentById(o.cardChildren[y]));return b},createCell(o){this.$emit("createCell",this.cellData.id,o)}}};const Zpe=ff("span",{class:"py-0 px-2"},".py",-1),jpe={key:3},Ype=ff("p",{class:"text-caption text-disabled text-right"}," CTRL+Enter to run",-1),Kpe=[Ype],Xpe={class:"text-p"};function Jpe(o,b,y,T,G,V){const L=A0("ace-editor"),A=A0("layout-component"),s=A0("plotly-plot");return mo(),Ts(Uo,null,[ct(M3,{flat:"",color:"bluegrey"},{default:jr(()=>[o.$devMode?(mo(),za(sm,{key:0,"no-gutters":"",class:"py-1 toolbar-bg"},{default:jr(()=>[ct(kp,{cols:11},{default:jr(()=>[Zpe]),_:1}),ct(kp,{cols:1,class:"d-flex justify-end align-center py-0"},{default:jr(()=>[ct(js,{small:"",class:"mx-1",color:"primary",onClick:b[0]||(b[0]=m=>V.runCode(!1,"",""))},{default:jr(()=>[ii(" mdi-play ")]),_:1}),ct(js,{small:"",class:"mx-1",color:"error",onClick:V.deleteCell},{default:jr(()=>[ii(" mdi-delete ")]),_:1},8,["onClick"])]),_:1})]),_:1})):cm("",!0),o.$devMode?(mo(),za(L,{key:1,value:y.cellData.code,"onUpdate:value":b[1]||(b[1]=m=>y.cellData.code=m),ref:"editor",class:"editor",theme:"dracula",lang:"python",options:V.editorOptions,onFocus:b[2]||(b[2]=m=>V.handleFocus(!0)),onBlur:b[3]||(b[3]=m=>V.handleFocus(!1))},null,8,["value","options"])):(mo(),za(Wse,{key:2},{default:jr(()=>[ct(Zse,null,{default:jr(()=>[ct(tee,{color:"bluegrey2"},{default:jr(()=>[ii(" View Source Code ")]),_:1}),ct(eee,null,{default:jr(()=>[ct(L,{value:y.cellData.code,"onUpdate:value":b[4]||(b[4]=m=>y.cellData.code=m),class:"editor",theme:"dracula",lang:"python",readonly:!0,options:V.editorOptions},null,8,["value","options"])]),_:1})]),_:1})]),_:1})),o.$devMode?(mo(),Ts("div",jpe,Kpe)):cm("",!0),ct(V6,null,{default:jr(()=>{var m;return[(mo(!0),Ts(Uo,null,uf((m=y.cellData.layout)==null?void 0:m.rows,(h,l)=>(mo(),za(A,{key:l,"row-data":h,components:y.cellData.components,onRunCode:V.runCode},null,8,["row-data","components","onRunCode"]))),128)),ct(sm,null,{default:jr(()=>[(mo(!0),Ts(Uo,null,uf(V.columns,(h,l)=>(mo(),za(kp,{cols:h.width},{default:jr(()=>[(mo(),za(A,{key:l,"column-data":h,components:y.cellData.components,onRunCode:V.runCode},null,8,["column-data","components","onRunCode"]))]),_:2},1032,["cols"]))),256))]),_:1}),ct(sm,null,{default:jr(()=>[(mo(!0),Ts(Uo,null,uf(V.unplacedComponents,h=>(mo(),za(V6,{class:"pa-1",key:h.id},{default:jr(()=>[h.component==="plotly-plot"?(mo(),za(s,{key:0,id:h.id,figure:h.figure,layout:h.layout},null,8,["id","figure","layout"])):h.component==="v-card"?(mo(),za(mg(h.component),Jo({key:1},V.componentBind(h),{position:"relative",onRunCode:V.runCode}),{default:jr(()=>[(mo(!0),Ts(Uo,null,uf(V.cardComponents(h),l=>(mo(),Ts("div",null,[l.component==="plotly-plot"?(mo(),za(s,{key:0,id:h.id,figure:l.figure,layout:l.layout},null,8,["id","figure","layout"])):(mo(),za(mg(l.component),Jo({key:1},V.componentBind(l),{modelValue:l.value,"onUpdate:modelValue":c=>l.value=c,onClick:c=>V.clickedButton(l)},{[C0(l.triggerEvent)]:c=>V.runCode(!0,l.id,l.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]))),256))]),_:2},1040,["onRunCode"])):(mo(),za(mg(h.component),Jo({key:2},V.componentBind(h),{modelValue:h.value,"onUpdate:modelValue":l=>h.value=l,onClick:l=>V.clickedButton(h)},{[C0(h.triggerEvent)]:l=>V.runCode(!0,h.id,h.value)}),null,16,["modelValue","onUpdate:modelValue","onClick"]))]),_:2},1024))),128))]),_:1}),ct(sm,null,{default:jr(()=>[ct(kp,null,{default:jr(()=>[ff("div",Xpe,Sp(y.cellData.output),1)]),_:1})]),_:1})]}),_:1})]),_:1}),ct(O2,{transition:"scale-transition"},{activator:jr(({props:m})=>[ct(dc,Jo(m,{block:""}),{default:jr(()=>[ct(sm,null,{default:jr(()=>[ct(js,{color:"primary"},{default:jr(()=>[ii("mdi-plus")]),_:1})]),_:1})]),_:2},1040)]),default:jr(()=>[ct($2,null,{default:jr(()=>[(mo(!0),Ts(Uo,null,uf(G.items,(m,h)=>(mo(),za(fm,{key:h},{default:jr(()=>[ct(dc,{block:"",onClick:l=>V.createCell(m.title)},{default:jr(()=>[ii(Sp(m.title),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})],64)}const Qpe=Vy(Gpe,[["render",Jpe]]);function see(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let E3=see();function Cie(o){E3=o}const Sie=/[&<>"']/,qpe=new RegExp(Sie.source,"g"),Tie=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,eve=new RegExp(Tie.source,"g"),tve={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Dre=o=>tve[o];function om(o,b){if(b){if(Sie.test(o))return o.replace(qpe,Dre)}else if(Tie.test(o))return o.replace(eve,Dre);return o}const nve=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function rve(o){return o.replace(nve,(b,y)=>(y=y.toLowerCase(),y==="colon"?":":y.charAt(0)==="#"?y.charAt(1)==="x"?String.fromCharCode(parseInt(y.substring(2),16)):String.fromCharCode(+y.substring(1)):""))}const ove=/(^|[^\[])\^/g;function Ai(o,b){o=typeof o=="string"?o:o.source,b=b||"";const y={replace:(T,G)=>(G=typeof G=="object"&&"source"in G?G.source:G,G=G.replace(ove,"$1"),o=o.replace(T,G),y),getRegex:()=>new RegExp(o,b)};return y}function $re(o){try{o=encodeURI(o).replace(/%25/g,"%")}catch{return null}return o}const DB={exec:()=>null};function Ore(o,b){const y=o.replace(/\|/g,(V,L,A)=>{let s=!1,m=L;for(;--m>=0&&A[m]==="\\";)s=!s;return s?"|":" |"}),T=y.split(/ \|/);let G=0;if(T[0].trim()||T.shift(),T.length>0&&!T[T.length-1].trim()&&T.pop(),b)if(T.length>b)T.splice(b);else for(;T.length<b;)T.push("");for(;G<T.length;G++)T[G]=T[G].trim().replace(/\\\|/g,"|");return T}function eB(o,b,y){const T=o.length;if(T===0)return"";let G=0;for(;G<T;){const V=o.charAt(T-G-1);if(V===b&&!y)G++;else if(V!==b&&y)G++;else break}return o.slice(0,T-G)}function ave(o,b){if(o.indexOf(b[1])===-1)return-1;let y=0;for(let T=0;T<o.length;T++)if(o[T]==="\\")T++;else if(o[T]===b[0])y++;else if(o[T]===b[1]&&(y--,y<0))return T;return-1}function Pre(o,b,y,T){const G=b.href,V=b.title?om(b.title):null,L=o[1].replace(/\\([\[\]])/g,"$1");if(o[0].charAt(0)!=="!"){T.state.inLink=!0;const A={type:"link",raw:y,href:G,title:V,text:L,tokens:T.inlineTokens(L)};return T.state.inLink=!1,A}return{type:"image",raw:y,href:G,title:V,text:om(L)}}function sve(o,b){const y=o.match(/^(\s+)(?:```)/);if(y===null)return b;const T=y[1];return b.split(`
`).map(G=>{const V=G.match(/^\s+/);if(V===null)return G;const[L]=V;return L.length>=T.length?G.slice(T.length):G}).join(`
`)}class $B{constructor(b){pl(this,"options");pl(this,"rules");pl(this,"lexer");this.options=b||E3}space(b){const y=this.rules.block.newline.exec(b);if(y&&y[0].length>0)return{type:"space",raw:y[0]}}code(b){const y=this.rules.block.code.exec(b);if(y){const T=y[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:y[0],codeBlockStyle:"indented",text:this.options.pedantic?T:eB(T,`
`)}}}fences(b){const y=this.rules.block.fences.exec(b);if(y){const T=y[0],G=sve(T,y[3]||"");return{type:"code",raw:T,lang:y[2]?y[2].trim().replace(this.rules.inline._escapes,"$1"):y[2],text:G}}}heading(b){const y=this.rules.block.heading.exec(b);if(y){let T=y[2].trim();if(/#$/.test(T)){const G=eB(T,"#");(this.options.pedantic||!G||/ $/.test(G))&&(T=G.trim())}return{type:"heading",raw:y[0],depth:y[1].length,text:T,tokens:this.lexer.inline(T)}}}hr(b){const y=this.rules.block.hr.exec(b);if(y)return{type:"hr",raw:y[0]}}blockquote(b){const y=this.rules.block.blockquote.exec(b);if(y){const T=eB(y[0].replace(/^ *>[ \t]?/gm,""),`
`),G=this.lexer.state.top;this.lexer.state.top=!0;const V=this.lexer.blockTokens(T);return this.lexer.state.top=G,{type:"blockquote",raw:y[0],tokens:V,text:T}}}list(b){let y=this.rules.block.list.exec(b);if(y){let T=y[1].trim();const G=T.length>1,V={type:"list",raw:"",ordered:G,start:G?+T.slice(0,-1):"",loose:!1,items:[]};T=G?`\\d{1,9}\\${T.slice(-1)}`:`\\${T}`,this.options.pedantic&&(T=G?T:"[*+-]");const L=new RegExp(`^( {0,3}${T})((?:[	 ][^\\n]*)?(?:\\n|$))`);let A="",s="",m=!1;for(;b;){let h=!1;if(!(y=L.exec(b))||this.rules.block.hr.test(b))break;A=y[0],b=b.substring(A.length);let l=y[2].split(`
`,1)[0].replace(/^\t+/,v=>" ".repeat(3*v.length)),c=b.split(`
`,1)[0],i=0;this.options.pedantic?(i=2,s=l.trimStart()):(i=y[2].search(/[^ ]/),i=i>4?1:i,s=l.slice(i),i+=y[1].length);let u=!1;if(!l&&/^ *$/.test(c)&&(A+=c+`
`,b=b.substring(c.length+1),h=!0),!h){const v=new RegExp(`^ {0,${Math.min(3,i-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),x=new RegExp(`^ {0,${Math.min(3,i-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),C=new RegExp(`^ {0,${Math.min(3,i-1)}}(?:\`\`\`|~~~)`),_=new RegExp(`^ {0,${Math.min(3,i-1)}}#`);for(;b;){const $=b.split(`
`,1)[0];if(c=$,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),C.test(c)||_.test(c)||v.test(c)||x.test(b))break;if(c.search(/[^ ]/)>=i||!c.trim())s+=`
`+c.slice(i);else{if(u||l.search(/[^ ]/)>=4||C.test(l)||_.test(l)||x.test(l))break;s+=`
`+c}!u&&!c.trim()&&(u=!0),A+=$+`
`,b=b.substring($.length+1),l=c.slice(i)}}V.loose||(m?V.loose=!0:/\n *\n *$/.test(A)&&(m=!0));let d=null,g;this.options.gfm&&(d=/^\[[ xX]\] /.exec(s),d&&(g=d[0]!=="[ ] ",s=s.replace(/^\[[ xX]\] +/,""))),V.items.push({type:"list_item",raw:A,task:!!d,checked:g,loose:!1,text:s,tokens:[]}),V.raw+=A}V.items[V.items.length-1].raw=A.trimEnd(),V.items[V.items.length-1].text=s.trimEnd(),V.raw=V.raw.trimEnd();for(let h=0;h<V.items.length;h++)if(this.lexer.state.top=!1,V.items[h].tokens=this.lexer.blockTokens(V.items[h].text,[]),!V.loose){const l=V.items[h].tokens.filter(i=>i.type==="space"),c=l.length>0&&l.some(i=>/\n.*\n/.test(i.raw));V.loose=c}if(V.loose)for(let h=0;h<V.items.length;h++)V.items[h].loose=!0;return V}}html(b){const y=this.rules.block.html.exec(b);if(y)return{type:"html",block:!0,raw:y[0],pre:y[1]==="pre"||y[1]==="script"||y[1]==="style",text:y[0]}}def(b){const y=this.rules.block.def.exec(b);if(y){const T=y[1].toLowerCase().replace(/\s+/g," "),G=y[2]?y[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",V=y[3]?y[3].substring(1,y[3].length-1).replace(this.rules.inline._escapes,"$1"):y[3];return{type:"def",tag:T,raw:y[0],href:G,title:V}}}table(b){const y=this.rules.block.table.exec(b);if(y){if(!/[:|]/.test(y[2]))return;const T={type:"table",raw:y[0],header:Ore(y[1]).map(G=>({text:G,tokens:[]})),align:y[2].replace(/^\||\| *$/g,"").split("|"),rows:y[3]&&y[3].trim()?y[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(T.header.length===T.align.length){let G=T.align.length,V,L,A,s;for(V=0;V<G;V++){const m=T.align[V];m&&(/^ *-+: *$/.test(m)?T.align[V]="right":/^ *:-+: *$/.test(m)?T.align[V]="center":/^ *:-+ *$/.test(m)?T.align[V]="left":T.align[V]=null)}for(G=T.rows.length,V=0;V<G;V++)T.rows[V]=Ore(T.rows[V],T.header.length).map(m=>({text:m,tokens:[]}));for(G=T.header.length,L=0;L<G;L++)T.header[L].tokens=this.lexer.inline(T.header[L].text);for(G=T.rows.length,L=0;L<G;L++)for(s=T.rows[L],A=0;A<s.length;A++)s[A].tokens=this.lexer.inline(s[A].text);return T}}}lheading(b){const y=this.rules.block.lheading.exec(b);if(y)return{type:"heading",raw:y[0],depth:y[2].charAt(0)==="="?1:2,text:y[1],tokens:this.lexer.inline(y[1])}}paragraph(b){const y=this.rules.block.paragraph.exec(b);if(y){const T=y[1].charAt(y[1].length-1)===`
`?y[1].slice(0,-1):y[1];return{type:"paragraph",raw:y[0],text:T,tokens:this.lexer.inline(T)}}}text(b){const y=this.rules.block.text.exec(b);if(y)return{type:"text",raw:y[0],text:y[0],tokens:this.lexer.inline(y[0])}}escape(b){const y=this.rules.inline.escape.exec(b);if(y)return{type:"escape",raw:y[0],text:om(y[1])}}tag(b){const y=this.rules.inline.tag.exec(b);if(y)return!this.lexer.state.inLink&&/^<a /i.test(y[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(y[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(y[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(y[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:y[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:y[0]}}link(b){const y=this.rules.inline.link.exec(b);if(y){const T=y[2].trim();if(!this.options.pedantic&&/^</.test(T)){if(!/>$/.test(T))return;const L=eB(T.slice(0,-1),"\\");if((T.length-L.length)%2===0)return}else{const L=ave(y[2],"()");if(L>-1){const s=(y[0].indexOf("!")===0?5:4)+y[1].length+L;y[2]=y[2].substring(0,L),y[0]=y[0].substring(0,s).trim(),y[3]=""}}let G=y[2],V="";if(this.options.pedantic){const L=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(G);L&&(G=L[1],V=L[3])}else V=y[3]?y[3].slice(1,-1):"";return G=G.trim(),/^</.test(G)&&(this.options.pedantic&&!/>$/.test(T)?G=G.slice(1):G=G.slice(1,-1)),Pre(y,{href:G&&G.replace(this.rules.inline._escapes,"$1"),title:V&&V.replace(this.rules.inline._escapes,"$1")},y[0],this.lexer)}}reflink(b,y){let T;if((T=this.rules.inline.reflink.exec(b))||(T=this.rules.inline.nolink.exec(b))){let G=(T[2]||T[1]).replace(/\s+/g," ");if(G=y[G.toLowerCase()],!G){const V=T[0].charAt(0);return{type:"text",raw:V,text:V}}return Pre(T,G,T[0],this.lexer)}}emStrong(b,y,T=""){let G=this.rules.inline.emStrong.lDelim.exec(b);if(!G||G[3]&&T.match(/[\p{L}\p{N}]/u))return;if(!(G[1]||G[2]||"")||!T||this.rules.inline.punctuation.exec(T)){const L=[...G[0]].length-1;let A,s,m=L,h=0;const l=G[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,y=y.slice(-1*b.length+L);(G=l.exec(y))!=null;){if(A=G[1]||G[2]||G[3]||G[4]||G[5]||G[6],!A)continue;if(s=[...A].length,G[3]||G[4]){m+=s;continue}else if((G[5]||G[6])&&L%3&&!((L+s)%3)){h+=s;continue}if(m-=s,m>0)continue;s=Math.min(s,s+m+h);const c=[...G[0]][0].length,i=b.slice(0,L+G.index+c+s);if(Math.min(L,s)%2){const d=i.slice(1,-1);return{type:"em",raw:i,text:d,tokens:this.lexer.inlineTokens(d)}}const u=i.slice(2,-2);return{type:"strong",raw:i,text:u,tokens:this.lexer.inlineTokens(u)}}}}codespan(b){const y=this.rules.inline.code.exec(b);if(y){let T=y[2].replace(/\n/g," ");const G=/[^ ]/.test(T),V=/^ /.test(T)&&/ $/.test(T);return G&&V&&(T=T.substring(1,T.length-1)),T=om(T,!0),{type:"codespan",raw:y[0],text:T}}}br(b){const y=this.rules.inline.br.exec(b);if(y)return{type:"br",raw:y[0]}}del(b){const y=this.rules.inline.del.exec(b);if(y)return{type:"del",raw:y[0],text:y[2],tokens:this.lexer.inlineTokens(y[2])}}autolink(b){const y=this.rules.inline.autolink.exec(b);if(y){let T,G;return y[2]==="@"?(T=om(y[1]),G="mailto:"+T):(T=om(y[1]),G=T),{type:"link",raw:y[0],text:T,href:G,tokens:[{type:"text",raw:T,text:T}]}}}url(b){let y;if(y=this.rules.inline.url.exec(b)){let T,G;if(y[2]==="@")T=om(y[0]),G="mailto:"+T;else{let V;do V=y[0],y[0]=this.rules.inline._backpedal.exec(y[0])[0];while(V!==y[0]);T=om(y[0]),y[1]==="www."?G="http://"+y[0]:G=y[0]}return{type:"link",raw:y[0],text:T,href:G,tokens:[{type:"text",raw:T,text:T}]}}}inlineText(b){const y=this.rules.inline.text.exec(b);if(y){let T;return this.lexer.state.inRawBlock?T=y[0]:T=om(y[0]),{type:"text",raw:y[0],text:T}}}}const ba={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:DB,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};ba._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;ba._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;ba.def=Ai(ba.def).replace("label",ba._label).replace("title",ba._title).getRegex();ba.bullet=/(?:[*+-]|\d{1,9}[.)])/;ba.listItemStart=Ai(/^( *)(bull) */).replace("bull",ba.bullet).getRegex();ba.list=Ai(ba.list).replace(/bull/g,ba.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ba.def.source+")").getRegex();ba._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";ba._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;ba.html=Ai(ba.html,"i").replace("comment",ba._comment).replace("tag",ba._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();ba.lheading=Ai(ba.lheading).replace(/bull/g,ba.bullet).getRegex();ba.paragraph=Ai(ba._paragraph).replace("hr",ba.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ba._tag).getRegex();ba.blockquote=Ai(ba.blockquote).replace("paragraph",ba.paragraph).getRegex();ba.normal={...ba};ba.gfm={...ba.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};ba.gfm.table=Ai(ba.gfm.table).replace("hr",ba.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ba._tag).getRegex();ba.gfm.paragraph=Ai(ba._paragraph).replace("hr",ba.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",ba.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ba._tag).getRegex();ba.pedantic={...ba.normal,html:Ai(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ba._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:DB,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ai(ba.normal._paragraph).replace("hr",ba.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ba.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Fo={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:DB,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:DB,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};Fo._punctuation="\\p{P}$+<=>`^|~";Fo.punctuation=Ai(Fo.punctuation,"u").replace(/punctuation/g,Fo._punctuation).getRegex();Fo.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;Fo.anyPunctuation=/\\[punct]/g;Fo._escapes=/\\([punct])/g;Fo._comment=Ai(ba._comment).replace("(?:-->|$)","-->").getRegex();Fo.emStrong.lDelim=Ai(Fo.emStrong.lDelim,"u").replace(/punct/g,Fo._punctuation).getRegex();Fo.emStrong.rDelimAst=Ai(Fo.emStrong.rDelimAst,"gu").replace(/punct/g,Fo._punctuation).getRegex();Fo.emStrong.rDelimUnd=Ai(Fo.emStrong.rDelimUnd,"gu").replace(/punct/g,Fo._punctuation).getRegex();Fo.anyPunctuation=Ai(Fo.anyPunctuation,"gu").replace(/punct/g,Fo._punctuation).getRegex();Fo._escapes=Ai(Fo._escapes,"gu").replace(/punct/g,Fo._punctuation).getRegex();Fo._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Fo._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Fo.autolink=Ai(Fo.autolink).replace("scheme",Fo._scheme).replace("email",Fo._email).getRegex();Fo._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Fo.tag=Ai(Fo.tag).replace("comment",Fo._comment).replace("attribute",Fo._attribute).getRegex();Fo._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Fo._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Fo._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Fo.link=Ai(Fo.link).replace("label",Fo._label).replace("href",Fo._href).replace("title",Fo._title).getRegex();Fo.reflink=Ai(Fo.reflink).replace("label",Fo._label).replace("ref",ba._label).getRegex();Fo.nolink=Ai(Fo.nolink).replace("ref",ba._label).getRegex();Fo.reflinkSearch=Ai(Fo.reflinkSearch,"g").replace("reflink",Fo.reflink).replace("nolink",Fo.nolink).getRegex();Fo.normal={...Fo};Fo.pedantic={...Fo.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ai(/^!?\[(label)\]\((.*?)\)/).replace("label",Fo._label).getRegex(),reflink:Ai(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Fo._label).getRegex()};Fo.gfm={...Fo.normal,escape:Ai(Fo.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};Fo.gfm.url=Ai(Fo.gfm.url,"i").replace("email",Fo.gfm._extended_email).getRegex();Fo.breaks={...Fo.gfm,br:Ai(Fo.br).replace("{2,}","*").getRegex(),text:Ai(Fo.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class T0{constructor(b){pl(this,"tokens");pl(this,"options");pl(this,"state");pl(this,"tokenizer");pl(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=b||E3,this.options.tokenizer=this.options.tokenizer||new $B,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const y={block:ba.normal,inline:Fo.normal};this.options.pedantic?(y.block=ba.pedantic,y.inline=Fo.pedantic):this.options.gfm&&(y.block=ba.gfm,this.options.breaks?y.inline=Fo.breaks:y.inline=Fo.gfm),this.tokenizer.rules=y}static get rules(){return{block:ba,inline:Fo}}static lex(b,y){return new T0(y).lex(b)}static lexInline(b,y){return new T0(y).inlineTokens(b)}lex(b){b=b.replace(/\r\n|\r/g,`
`),this.blockTokens(b,this.tokens);let y;for(;y=this.inlineQueue.shift();)this.inlineTokens(y.src,y.tokens);return this.tokens}blockTokens(b,y=[]){this.options.pedantic?b=b.replace(/\t/g,"    ").replace(/^ +$/gm,""):b=b.replace(/^( *)(\t+)/gm,(A,s,m)=>s+"    ".repeat(m.length));let T,G,V,L;for(;b;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(A=>(T=A.call({lexer:this},b,y))?(b=b.substring(T.raw.length),y.push(T),!0):!1))){if(T=this.tokenizer.space(b)){b=b.substring(T.raw.length),T.raw.length===1&&y.length>0?y[y.length-1].raw+=`
`:y.push(T);continue}if(T=this.tokenizer.code(b)){b=b.substring(T.raw.length),G=y[y.length-1],G&&(G.type==="paragraph"||G.type==="text")?(G.raw+=`
`+T.raw,G.text+=`
`+T.text,this.inlineQueue[this.inlineQueue.length-1].src=G.text):y.push(T);continue}if(T=this.tokenizer.fences(b)){b=b.substring(T.raw.length),y.push(T);continue}if(T=this.tokenizer.heading(b)){b=b.substring(T.raw.length),y.push(T);continue}if(T=this.tokenizer.hr(b)){b=b.substring(T.raw.length),y.push(T);continue}if(T=this.tokenizer.blockquote(b)){b=b.substring(T.raw.length),y.push(T);continue}if(T=this.tokenizer.list(b)){b=b.substring(T.raw.length),y.push(T);continue}if(T=this.tokenizer.html(b)){b=b.substring(T.raw.length),y.push(T);continue}if(T=this.tokenizer.def(b)){b=b.substring(T.raw.length),G=y[y.length-1],G&&(G.type==="paragraph"||G.type==="text")?(G.raw+=`
`+T.raw,G.text+=`
`+T.raw,this.inlineQueue[this.inlineQueue.length-1].src=G.text):this.tokens.links[T.tag]||(this.tokens.links[T.tag]={href:T.href,title:T.title});continue}if(T=this.tokenizer.table(b)){b=b.substring(T.raw.length),y.push(T);continue}if(T=this.tokenizer.lheading(b)){b=b.substring(T.raw.length),y.push(T);continue}if(V=b,this.options.extensions&&this.options.extensions.startBlock){let A=1/0;const s=b.slice(1);let m;this.options.extensions.startBlock.forEach(h=>{m=h.call({lexer:this},s),typeof m=="number"&&m>=0&&(A=Math.min(A,m))}),A<1/0&&A>=0&&(V=b.substring(0,A+1))}if(this.state.top&&(T=this.tokenizer.paragraph(V))){G=y[y.length-1],L&&G.type==="paragraph"?(G.raw+=`
`+T.raw,G.text+=`
`+T.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=G.text):y.push(T),L=V.length!==b.length,b=b.substring(T.raw.length);continue}if(T=this.tokenizer.text(b)){b=b.substring(T.raw.length),G=y[y.length-1],G&&G.type==="text"?(G.raw+=`
`+T.raw,G.text+=`
`+T.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=G.text):y.push(T);continue}if(b){const A="Infinite loop on byte: "+b.charCodeAt(0);if(this.options.silent){console.error(A);break}else throw new Error(A)}}return this.state.top=!0,y}inline(b,y=[]){return this.inlineQueue.push({src:b,tokens:y}),y}inlineTokens(b,y=[]){let T,G,V,L=b,A,s,m;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;(A=this.tokenizer.rules.inline.reflinkSearch.exec(L))!=null;)h.includes(A[0].slice(A[0].lastIndexOf("[")+1,-1))&&(L=L.slice(0,A.index)+"["+"a".repeat(A[0].length-2)+"]"+L.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(A=this.tokenizer.rules.inline.blockSkip.exec(L))!=null;)L=L.slice(0,A.index)+"["+"a".repeat(A[0].length-2)+"]"+L.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(A=this.tokenizer.rules.inline.anyPunctuation.exec(L))!=null;)L=L.slice(0,A.index)+"++"+L.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;b;)if(s||(m=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>(T=h.call({lexer:this},b,y))?(b=b.substring(T.raw.length),y.push(T),!0):!1))){if(T=this.tokenizer.escape(b)){b=b.substring(T.raw.length),y.push(T);continue}if(T=this.tokenizer.tag(b)){b=b.substring(T.raw.length),G=y[y.length-1],G&&T.type==="text"&&G.type==="text"?(G.raw+=T.raw,G.text+=T.text):y.push(T);continue}if(T=this.tokenizer.link(b)){b=b.substring(T.raw.length),y.push(T);continue}if(T=this.tokenizer.reflink(b,this.tokens.links)){b=b.substring(T.raw.length),G=y[y.length-1],G&&T.type==="text"&&G.type==="text"?(G.raw+=T.raw,G.text+=T.text):y.push(T);continue}if(T=this.tokenizer.emStrong(b,L,m)){b=b.substring(T.raw.length),y.push(T);continue}if(T=this.tokenizer.codespan(b)){b=b.substring(T.raw.length),y.push(T);continue}if(T=this.tokenizer.br(b)){b=b.substring(T.raw.length),y.push(T);continue}if(T=this.tokenizer.del(b)){b=b.substring(T.raw.length),y.push(T);continue}if(T=this.tokenizer.autolink(b)){b=b.substring(T.raw.length),y.push(T);continue}if(!this.state.inLink&&(T=this.tokenizer.url(b))){b=b.substring(T.raw.length),y.push(T);continue}if(V=b,this.options.extensions&&this.options.extensions.startInline){let h=1/0;const l=b.slice(1);let c;this.options.extensions.startInline.forEach(i=>{c=i.call({lexer:this},l),typeof c=="number"&&c>=0&&(h=Math.min(h,c))}),h<1/0&&h>=0&&(V=b.substring(0,h+1))}if(T=this.tokenizer.inlineText(V)){b=b.substring(T.raw.length),T.raw.slice(-1)!=="_"&&(m=T.raw.slice(-1)),s=!0,G=y[y.length-1],G&&G.type==="text"?(G.raw+=T.raw,G.text+=T.text):y.push(T);continue}if(b){const h="Infinite loop on byte: "+b.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return y}}class OB{constructor(b){pl(this,"options");this.options=b||E3}code(b,y,T){var V;const G=(V=(y||"").match(/^\S*/))==null?void 0:V[0];return b=b.replace(/\n$/,"")+`
`,G?'<pre><code class="language-'+om(G)+'">'+(T?b:om(b,!0))+`</code></pre>
`:"<pre><code>"+(T?b:om(b,!0))+`</code></pre>
`}blockquote(b){return`<blockquote>
${b}</blockquote>
`}html(b,y){return b}heading(b,y,T){return`<h${y}>${b}</h${y}>
`}hr(){return`<hr>
`}list(b,y,T){const G=y?"ol":"ul",V=y&&T!==1?' start="'+T+'"':"";return"<"+G+V+`>
`+b+"</"+G+`>
`}listitem(b,y,T){return`<li>${b}</li>
`}checkbox(b){return"<input "+(b?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(b){return`<p>${b}</p>
`}table(b,y){return y&&(y=`<tbody>${y}</tbody>`),`<table>
<thead>
`+b+`</thead>
`+y+`</table>
`}tablerow(b){return`<tr>
${b}</tr>
`}tablecell(b,y){const T=y.header?"th":"td";return(y.align?`<${T} align="${y.align}">`:`<${T}>`)+b+`</${T}>
`}strong(b){return`<strong>${b}</strong>`}em(b){return`<em>${b}</em>`}codespan(b){return`<code>${b}</code>`}br(){return"<br>"}del(b){return`<del>${b}</del>`}link(b,y,T){const G=$re(b);if(G===null)return T;b=G;let V='<a href="'+b+'"';return y&&(V+=' title="'+y+'"'),V+=">"+T+"</a>",V}image(b,y,T){const G=$re(b);if(G===null)return T;b=G;let V=`<img src="${b}" alt="${T}"`;return y&&(V+=` title="${y}"`),V+=">",V}text(b){return b}}class iee{strong(b){return b}em(b){return b}codespan(b){return b}del(b){return b}html(b){return b}text(b){return b}link(b,y,T){return""+T}image(b,y,T){return""+T}br(){return""}}class k0{constructor(b){pl(this,"options");pl(this,"renderer");pl(this,"textRenderer");this.options=b||E3,this.options.renderer=this.options.renderer||new OB,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new iee}static parse(b,y){return new k0(y).parse(b)}static parseInline(b,y){return new k0(y).parseInline(b)}parse(b,y=!0){let T="";for(let G=0;G<b.length;G++){const V=b[G];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[V.type]){const L=V,A=this.options.extensions.renderers[L.type].call({parser:this},L);if(A!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(L.type)){T+=A||"";continue}}switch(V.type){case"space":continue;case"hr":{T+=this.renderer.hr();continue}case"heading":{const L=V;T+=this.renderer.heading(this.parseInline(L.tokens),L.depth,rve(this.parseInline(L.tokens,this.textRenderer)));continue}case"code":{const L=V;T+=this.renderer.code(L.text,L.lang,!!L.escaped);continue}case"table":{const L=V;let A="",s="";for(let h=0;h<L.header.length;h++)s+=this.renderer.tablecell(this.parseInline(L.header[h].tokens),{header:!0,align:L.align[h]});A+=this.renderer.tablerow(s);let m="";for(let h=0;h<L.rows.length;h++){const l=L.rows[h];s="";for(let c=0;c<l.length;c++)s+=this.renderer.tablecell(this.parseInline(l[c].tokens),{header:!1,align:L.align[c]});m+=this.renderer.tablerow(s)}T+=this.renderer.table(A,m);continue}case"blockquote":{const L=V,A=this.parse(L.tokens);T+=this.renderer.blockquote(A);continue}case"list":{const L=V,A=L.ordered,s=L.start,m=L.loose;let h="";for(let l=0;l<L.items.length;l++){const c=L.items[l],i=c.checked,u=c.task;let d="";if(c.task){const g=this.renderer.checkbox(!!i);m?c.tokens.length>0&&c.tokens[0].type==="paragraph"?(c.tokens[0].text=g+" "+c.tokens[0].text,c.tokens[0].tokens&&c.tokens[0].tokens.length>0&&c.tokens[0].tokens[0].type==="text"&&(c.tokens[0].tokens[0].text=g+" "+c.tokens[0].tokens[0].text)):c.tokens.unshift({type:"text",text:g+" "}):d+=g+" "}d+=this.parse(c.tokens,m),h+=this.renderer.listitem(d,u,!!i)}T+=this.renderer.list(h,A,s);continue}case"html":{const L=V;T+=this.renderer.html(L.text,L.block);continue}case"paragraph":{const L=V;T+=this.renderer.paragraph(this.parseInline(L.tokens));continue}case"text":{let L=V,A=L.tokens?this.parseInline(L.tokens):L.text;for(;G+1<b.length&&b[G+1].type==="text";)L=b[++G],A+=`
`+(L.tokens?this.parseInline(L.tokens):L.text);T+=y?this.renderer.paragraph(A):A;continue}default:{const L='Token with "'+V.type+'" type was not found.';if(this.options.silent)return console.error(L),"";throw new Error(L)}}}return T}parseInline(b,y){y=y||this.renderer;let T="";for(let G=0;G<b.length;G++){const V=b[G];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[V.type]){const L=this.options.extensions.renderers[V.type].call({parser:this},V);if(L!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(V.type)){T+=L||"";continue}}switch(V.type){case"escape":{const L=V;T+=y.text(L.text);break}case"html":{const L=V;T+=y.html(L.text);break}case"link":{const L=V;T+=y.link(L.href,L.title,this.parseInline(L.tokens,y));break}case"image":{const L=V;T+=y.image(L.href,L.title,L.text);break}case"strong":{const L=V;T+=y.strong(this.parseInline(L.tokens,y));break}case"em":{const L=V;T+=y.em(this.parseInline(L.tokens,y));break}case"codespan":{const L=V;T+=y.codespan(L.text);break}case"br":{T+=y.br();break}case"del":{const L=V;T+=y.del(this.parseInline(L.tokens,y));break}case"text":{const L=V;T+=y.text(L.text);break}default:{const L='Token with "'+V.type+'" type was not found.';if(this.options.silent)return console.error(L),"";throw new Error(L)}}}return T}}class M6{constructor(b){pl(this,"options");this.options=b||E3}preprocess(b){return b}postprocess(b){return b}}pl(M6,"passThroughHooks",new Set(["preprocess","postprocess"]));var U6,OQ,PB,kie;class ive{constructor(...b){DJ(this,U6);DJ(this,PB);pl(this,"defaults",see());pl(this,"options",this.setOptions);pl(this,"parse",zF(this,U6,OQ).call(this,T0.lex,k0.parse));pl(this,"parseInline",zF(this,U6,OQ).call(this,T0.lexInline,k0.parseInline));pl(this,"Parser",k0);pl(this,"Renderer",OB);pl(this,"TextRenderer",iee);pl(this,"Lexer",T0);pl(this,"Tokenizer",$B);pl(this,"Hooks",M6);this.use(...b)}walkTokens(b,y){var G,V;let T=[];for(const L of b)switch(T=T.concat(y.call(this,L)),L.type){case"table":{const A=L;for(const s of A.header)T=T.concat(this.walkTokens(s.tokens,y));for(const s of A.rows)for(const m of s)T=T.concat(this.walkTokens(m.tokens,y));break}case"list":{const A=L;T=T.concat(this.walkTokens(A.items,y));break}default:{const A=L;(V=(G=this.defaults.extensions)==null?void 0:G.childTokens)!=null&&V[A.type]?this.defaults.extensions.childTokens[A.type].forEach(s=>{T=T.concat(this.walkTokens(A[s],y))}):A.tokens&&(T=T.concat(this.walkTokens(A.tokens,y)))}}return T}use(...b){const y=this.defaults.extensions||{renderers:{},childTokens:{}};return b.forEach(T=>{const G={...T};if(G.async=this.defaults.async||G.async||!1,T.extensions&&(T.extensions.forEach(V=>{if(!V.name)throw new Error("extension name required");if("renderer"in V){const L=y.renderers[V.name];L?y.renderers[V.name]=function(...A){let s=V.renderer.apply(this,A);return s===!1&&(s=L.apply(this,A)),s}:y.renderers[V.name]=V.renderer}if("tokenizer"in V){if(!V.level||V.level!=="block"&&V.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const L=y[V.level];L?L.unshift(V.tokenizer):y[V.level]=[V.tokenizer],V.start&&(V.level==="block"?y.startBlock?y.startBlock.push(V.start):y.startBlock=[V.start]:V.level==="inline"&&(y.startInline?y.startInline.push(V.start):y.startInline=[V.start]))}"childTokens"in V&&V.childTokens&&(y.childTokens[V.name]=V.childTokens)}),G.extensions=y),T.renderer){const V=this.defaults.renderer||new OB(this.defaults);for(const L in T.renderer){const A=T.renderer[L],s=L,m=V[s];V[s]=(...h)=>{let l=A.apply(V,h);return l===!1&&(l=m.apply(V,h)),l||""}}G.renderer=V}if(T.tokenizer){const V=this.defaults.tokenizer||new $B(this.defaults);for(const L in T.tokenizer){const A=T.tokenizer[L],s=L,m=V[s];V[s]=(...h)=>{let l=A.apply(V,h);return l===!1&&(l=m.apply(V,h)),l}}G.tokenizer=V}if(T.hooks){const V=this.defaults.hooks||new M6;for(const L in T.hooks){const A=T.hooks[L],s=L,m=V[s];M6.passThroughHooks.has(L)?V[s]=h=>{if(this.defaults.async)return Promise.resolve(A.call(V,h)).then(c=>m.call(V,c));const l=A.call(V,h);return m.call(V,l)}:V[s]=(...h)=>{let l=A.apply(V,h);return l===!1&&(l=m.apply(V,h)),l}}G.hooks=V}if(T.walkTokens){const V=this.defaults.walkTokens,L=T.walkTokens;G.walkTokens=function(A){let s=[];return s.push(L.call(this,A)),V&&(s=s.concat(V.call(this,A))),s}}this.defaults={...this.defaults,...G}}),this}setOptions(b){return this.defaults={...this.defaults,...b},this}lexer(b,y){return T0.lex(b,y??this.defaults)}parser(b,y){return k0.parse(b,y??this.defaults)}}U6=new WeakSet,OQ=function(b,y){return(T,G)=>{const V={...G},L={...this.defaults,...V};this.defaults.async===!0&&V.async===!1&&(L.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),L.async=!0);const A=zF(this,PB,kie).call(this,!!L.silent,!!L.async);if(typeof T>"u"||T===null)return A(new Error("marked(): input parameter is undefined or null"));if(typeof T!="string")return A(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(T)+", string expected"));if(L.hooks&&(L.hooks.options=L),L.async)return Promise.resolve(L.hooks?L.hooks.preprocess(T):T).then(s=>b(s,L)).then(s=>L.walkTokens?Promise.all(this.walkTokens(s,L.walkTokens)).then(()=>s):s).then(s=>y(s,L)).then(s=>L.hooks?L.hooks.postprocess(s):s).catch(A);try{L.hooks&&(T=L.hooks.preprocess(T));const s=b(T,L);L.walkTokens&&this.walkTokens(s,L.walkTokens);let m=y(s,L);return L.hooks&&(m=L.hooks.postprocess(m)),m}catch(s){return A(s)}}},PB=new WeakSet,kie=function(b,y){return T=>{if(T.message+=`
Please report this to https://github.com/markedjs/marked.`,b){const G="<p>An error occurred:</p><pre>"+om(T.message+"",!0)+"</pre>";return y?Promise.resolve(G):G}if(y)return Promise.reject(T);throw T}};const y3=new ive;function Pi(o,b){return y3.parse(o,b)}Pi.options=Pi.setOptions=function(o){return y3.setOptions(o),Pi.defaults=y3.defaults,Cie(Pi.defaults),Pi};Pi.getDefaults=see;Pi.defaults=E3;Pi.use=function(...o){return y3.use(...o),Pi.defaults=y3.defaults,Cie(Pi.defaults),Pi};Pi.walkTokens=function(o,b){return y3.walkTokens(o,b)};Pi.parseInline=y3.parseInline;Pi.Parser=k0;Pi.parser=k0.parse;Pi.Renderer=OB;Pi.TextRenderer=iee;Pi.Lexer=T0;Pi.lexer=T0.lex;Pi.Tokenizer=$B;Pi.Hooks=M6;Pi.parse=Pi;Pi.options;Pi.setOptions;Pi.use;Pi.walkTokens;Pi.parseInline;k0.parse;T0.lex;var lve={exports:{}};(function(o,b){ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],function(y,T,G){var V=y("../lib/oop");y("../lib/lang");var L=y("./text_highlight_rules").TextHighlightRules,A=T.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|max-zoom|min-height|min-width|min-zoom|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|user-select|user-zoom|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",s=T.supportFunction="rgb|rgba|url|attr|counter|counters",m=T.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|flex-end|flex-start|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero|zoom",h=T.supportConstantColor="aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen",l=T.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",c=T.numRe="\\-?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))",i=T.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",u=T.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b",d=function(){var g=this.createKeywordMapper({"support.function":s,"support.constant":m,"support.type":A,"support.constant.color":h,"support.constant.fonts":l},"text",!0);this.$rules={start:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"ruleset"},{token:"paren.rparen",regex:"\\}"},{token:"string",regex:"@(?!viewport)",next:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"keyword",regex:"%"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant.numeric",regex:c},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"start"},{token:"paren.rparen",regex:"\\}",next:"start"},{token:"string",regex:";",next:"start"},{token:"keyword",regex:"(?:media|supports|document|charset|import|namespace|media|supports|document|page|font|keyframes|viewport|counter-style|font-feature-values|swash|ornaments|annotation|stylistic|styleset|character-variant)"}],comments:[{token:"comment",regex:"\\/\\*",push:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}]}],ruleset:[{regex:"-(webkit|ms|moz|o)-",token:"text"},{token:"punctuation.operator",regex:"[:;]"},{token:"paren.rparen",regex:"\\}",next:"start"},{include:["strings","url","comments"]},{token:["constant.numeric","keyword"],regex:"("+c+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)"},{token:"constant.numeric",regex:c},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:i},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:u},{include:"url"},{token:g,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{caseInsensitive:!0}],url:[{token:"support.function",regex:"(?:url(:?-prefix)?|domain|regexp)\\(",push:[{token:"support.function",regex:"\\)",next:"pop"},{defaultToken:"string"}]}],strings:[{token:"string.start",regex:"'",push:[{token:"string.end",regex:"'|$",next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]},{token:"string.start",regex:'"',push:[{token:"string.end",regex:'"|$',next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]}],escapes:[{token:"constant.language.escape",regex:/\\([a-fA-F\d]{1,6}|[^a-fA-F\d])/}]},this.normalizeRules()};V.inherits(d,L),T.CssHighlightRules=d}),ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(y,T,G){var V=y("../lib/oop"),L=y("./text_highlight_rules").TextHighlightRules,A=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},A.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};V.inherits(A,L),A.getTagRule=function(s){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},A.getStartRule=function(s){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:s}},A.getEndRule=function(s){return{token:"comment.doc",regex:"\\*\\/",next:s}},T.JsDocCommentHighlightRules=A}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(y,T,G){var V=y("../lib/oop"),L=y("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,A=y("./text_highlight_rules").TextHighlightRules,s="[a-zA-Z\\$_¡-￿][a-zA-Z\\d\\$_¡-￿]*",m=function(c){var i=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),u="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",d="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[L.getStartRule("doc-start"),l("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+s+")(\\.)(prototype)(\\.)("+s+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function\\*?)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function\\*?)(\\s+)("+s+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\s*)(:)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+u+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:i,regex:s},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function\\*?)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:s},{regex:"",token:"empty",next:"no_regex"}],start:[L.getStartRule("doc-start"),l("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[l("function_arguments"),{token:"variable.parameter",regex:s},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:d},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:d},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!c||!c.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(g,v,x){if(this.next=g=="{"?this.nextState:"",g=="{"&&x.length)x.unshift("start",v);else if(g=="}"&&x.length&&(x.shift(),this.next=x.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return g=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:d},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+s+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=.+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!c||c.jsx!=!1)&&h.call(this)),this.embedRules(L,"doc-",[L.getEndRule("no_regex")]),this.normalizeRules()};V.inherits(m,A);function h(){var c=s.replace("\\d","\\d\\-"),i={onMatch:function(d,g,v){var x=d.charAt(1)=="/"?2:1;return x==1?(g!=this.nextState?v.unshift(this.next,this.nextState,0):v.unshift(this.next),v[2]++):x==2&&g==this.nextState&&(v[1]--,(!v[1]||v[1]<0)&&(v.shift(),v.shift())),[{type:"meta.tag.punctuation."+(x==1?"":"end-")+"tag-open.xml",value:d.slice(0,x)},{type:"meta.tag.tag-name.xml",value:d.substr(x)}]},regex:"</?"+c,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(i);var u={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[u,i,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(d,g,v){return g==v[0]&&v.shift(),d.length==2&&(v[0]==this.nextState&&v[1]--,(!v[1]||v[1]<0)&&v.splice(0,2)),this.next=v[0]||"start",[{type:this.token,value:d}]},nextState:"jsx"},u,l("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:c},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},i],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function l(c){return[{token:"comment",regex:/\/\*/,next:[L.getTagRule(),{token:"comment",regex:"\\*\\/",next:c||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[L.getTagRule(),{token:"comment",regex:"$|^",next:c||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}T.JavaScriptHighlightRules=m}),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(y,T,G){var V=y("../lib/oop"),L=y("./text_highlight_rules").TextHighlightRules,A=function(s){var m="[_:a-zA-ZÀ-￿][-_:.a-zA-Z0-9À-￿]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+m+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:m},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+m+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"-->",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+m+":)?"+m+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:m},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===A&&this.normalizeRules()};(function(){this.embedTagRules=function(s,m,h){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+h+".tag-name.xml"],regex:"(<)("+h+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:m+"start"}]}),this.$rules[h+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(l,c,i){return i.splice(0),this.token}}],this.embedRules(s,m,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+h+".tag-name.xml"],regex:"(</)("+h+"(?=\\s|>|$))",next:h+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(L.prototype),V.inherits(A,L),T.XmlHighlightRules=A}),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],function(y,T,G){var V=y("../lib/oop"),L=y("../lib/lang"),A=y("./css_highlight_rules").CssHighlightRules,s=y("./javascript_highlight_rules").JavaScriptHighlightRules,m=y("./xml_highlight_rules").XmlHighlightRules,h=L.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),l=function(){m.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:.]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(c,i){var u=h[i];return["meta.tag.punctuation."+(c=="<"?"":"end-")+"tag-open.xml","meta.tag"+(u?"."+u:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:.]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(A,"css-","style"),this.embedTagRules(new s({jsx:!1}).getRules(),"js-","script"),this.constructor===l&&this.normalizeRules()};V.inherits(l,m),T.HtmlHighlightRules=l}),ace.define("ace/mode/markdown_highlight_rules",["require","exports","module","ace/config","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules","ace/mode/html_highlight_rules"],function(y,T,G){var V=y("../config").$modes,L=y("../lib/oop"),A=y("../lib/lang"),s=y("./text_highlight_rules").TextHighlightRules,m=y("./html_highlight_rules").HtmlHighlightRules,h=function(c){return"(?:[^"+A.escapeRegExp(c)+"\\\\]|\\\\.)*"},l=function(){m.call(this);var c={token:"support.function",regex:/^\s*(```+[^`]*|~~~+[^~]*)$/,onMatch:function(u,d,g,v){var x=u.match(/^(\s*)([`~]+)(.*)/),C=/[\w-]+|$/.exec(x[3])[0];return V[C]||(C=""),g.unshift("githubblock",[],[x[1],x[2],C],d),this.token},next:"githubblock"},i=[{token:"support.function",regex:".*",onMatch:function(u,d,g,v){var x=g[1],C=g[2][0],_=g[2][1],$=g[2][2],S=/^(\s*)(`+|~+)\s*$/.exec(u);if(S&&S[1].length<C.length+3&&S[2].length>=_.length&&S[2][0]==_[0])return g.splice(0,3),this.next=g.shift(),this.token;if(this.next="",$&&V[$]){var O=V[$].getTokenizer().getLineTokens(u,x.slice(0));return g[1]=O.state,O.tokens}return this.token}}];this.$rules.start.unshift({token:"empty_line",regex:"^$",next:"allowBlock"},{token:"markup.heading.1",regex:"^=+(?=\\s*$)"},{token:"markup.heading.2",regex:"^\\-+(?=\\s*$)"},{token:function(u){return"markup.heading."+u.length},regex:/^#{1,6}(?=\s|$)/,next:"header"},c,{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{token:"constant",regex:"^ {0,3}(?:(?:\\* ?){3,}|(?:\\- ?){3,}|(?:\\_ ?){3,})\\s*$",next:"allowBlock"},{token:"markup.list",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic"}),this.addRules({basic:[{token:"constant.language.escape",regex:/\\[\\`*_{}\[\]()#+\-.!]/},{token:"support.function",regex:"(`+)(.*?[^`])(\\1)"},{token:["text","constant","text","url","string","text"],regex:'^([ ]{0,3}\\[)([^\\]]+)(\\]:\\s*)([^ ]+)(\\s*(?:["][^"]+["])?(\\s*))$'},{token:["text","string","text","constant","text"],regex:"(\\[)("+h("]")+")(\\]\\s*\\[)("+h("]")+")(\\])"},{token:["text","string","text","markup.underline","string","text"],regex:"(\\!?\\[)("+h("]")+')(\\]\\()((?:[^\\)\\s\\\\]|\\\\.|\\s(?=[^"]))*)(\\s*"'+h('"')+'"\\s*)?(\\))'},{token:"string.strong",regex:"([*]{2}|[_]{2}(?=\\S))(.*?\\S[*_]*)(\\1)"},{token:"string.emphasis",regex:"([*]|[_](?=\\S))(.*?\\S[*_]*)(\\1)"},{token:["text","url","text"],regex:`(<)((?:https?|ftp|dict):[^'">\\s]+|(?:mailto:)?[-.\\w]+\\@[-a-z0-9]+(?:\\.[-a-z0-9]+)*\\.[a-z]+)(>)`}],allowBlock:[{token:"support.function",regex:"^ {4}.+",next:"allowBlock"},{token:"empty_line",regex:"^$",next:"allowBlock"},{token:"empty",regex:"",next:"start"}],header:[{regex:"$",next:"start"},{include:"basic"},{defaultToken:"heading"}],"listblock-start":[{token:"support.variable",regex:/(?:\[[ x]\])?/,next:"listblock"}],listblock:[{token:"empty_line",regex:"^$",next:"start"},{token:"markup.list",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic",noEscape:!0},c,{defaultToken:"list"}],blockquote:[{token:"empty_line",regex:"^\\s*$",next:"start"},{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{include:"basic",noEscape:!0},{defaultToken:"string.blockquote"}],githubblock:i}),this.normalizeRules()};L.inherits(l,s),T.MarkdownHighlightRules=l}),ace.define("ace/mode/folding/markdown",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(y,T,G){var V=y("../../lib/oop"),L=y("./fold_mode").FoldMode,A=y("../../range").Range,s=T.FoldMode=function(){};V.inherits(s,L),(function(){this.foldingStartMarker=/^(?:[=-]+\s*$|#{1,6} |`{3})/,this.getFoldWidget=function(m,h,l){var c=m.getLine(l);return this.foldingStartMarker.test(c)?c[0]=="`"&&m.bgTokenizer.getState(l)=="start"?"end":"start":""},this.getFoldWidgetRange=function(m,h,l){var c=m.getLine(l),i=c.length,u=m.getLength(),d=l,g=l;if(!c.match(this.foldingStartMarker))return;if(c[0]=="`")if(m.bgTokenizer.getState(l)!=="start"){for(;++l<u&&(c=m.getLine(l),!(c[0]=="`"&c.substring(0,3)=="```")););return new A(d,i,l,0)}else{for(;l-- >0&&(c=m.getLine(l),!(c[0]=="`"&c.substring(0,3)=="```")););return new A(l,c.length,d,0)}var v;function x(D){return v=m.getTokens(D)[0],v&&v.type.lastIndexOf(C,0)===0}var C="markup.heading";function _(){var D=v.value[0];return D=="="?6:D=="-"?5:7-v.value.search(/[^#]|$/)}if(x(l)){for(var $=_();++l<u;)if(x(l)){var S=_();if(S>=$)break}if(g=l-(!v||["=","-"].indexOf(v.value[0])==-1?1:2),g>d)for(;g>d&&/^\s*$/.test(m.getLine(g));)g--;if(g>d){var O=m.getLine(g).length;return new A(d,i,g,O)}}}}).call(s.prototype)}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(y,T,G){var V=y("../range").Range,L=function(){};(function(){this.checkOutdent=function(A,s){return/^\s+$/.test(A)?/^\s*\}/.test(s):!1},this.autoOutdent=function(A,s){var m=A.getLine(s),h=m.match(/^(\s*\})/);if(!h)return 0;var l=h[1].length,c=A.findMatchingBracket({row:s,column:l});if(!c||c.row==s)return 0;var i=this.$getIndent(A.getLine(c.row));A.replace(new V(s,0,s,l-1),i)},this.$getIndent=function(A){return A.match(/^\s*/)[0]}}).call(L.prototype),T.MatchingBraceOutdent=L}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(y,T,G){var V=y("../../lib/oop"),L=y("../../range").Range,A=y("./fold_mode").FoldMode,s=T.FoldMode=function(m){m&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+m.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+m.end)))};V.inherits(s,A),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(m,h,l){var c=m.getLine(l);if(this.singleLineBlockCommentRe.test(c)&&!this.startRegionRe.test(c)&&!this.tripleStarBlockCommentRe.test(c))return"";var i=this._getFoldWidgetBase(m,h,l);return!i&&this.startRegionRe.test(c)?"start":i},this.getFoldWidgetRange=function(m,h,l,c){var i=m.getLine(l);if(this.startRegionRe.test(i))return this.getCommentRegionBlock(m,i,l);var g=i.match(this.foldingStartMarker);if(g){var u=g.index;if(g[1])return this.openingBracketBlock(m,g[1],l,u);var d=m.getCommentFoldRange(l,u+g[0].length,1);return d&&!d.isMultiLine()&&(c?d=this.getSectionRange(m,l):h!="all"&&(d=null)),d}if(h!=="markbegin"){var g=i.match(this.foldingStopMarker);if(g){var u=g.index+g[0].length;return g[1]?this.closingBracketBlock(m,g[1],l,u):m.getCommentFoldRange(l,u,-1)}}},this.getSectionRange=function(m,h){var l=m.getLine(h),c=l.search(/\S/),i=h,u=l.length;h=h+1;for(var d=h,g=m.getLength();++h<g;){l=m.getLine(h);var v=l.search(/\S/);if(v!==-1){if(c>v)break;var x=this.getFoldWidgetRange(m,"all",h);if(x){if(x.start.row<=i)break;if(x.isMultiLine())h=x.end.row;else if(c==v)break}d=h}}return new L(i,u,d,m.getLine(d).length)},this.getCommentRegionBlock=function(m,h,l){for(var c=h.search(/\s*$/),i=m.getLength(),u=l,d=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,g=1;++l<i;){h=m.getLine(l);var v=d.exec(h);if(v&&(v[1]?g--:g++,!g))break}var x=l;if(x>u)return new L(u,c,x,h.length)}}).call(s.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(y,T,G){var V=y("../lib/oop"),L=y("./text").Mode,A=y("./javascript_highlight_rules").JavaScriptHighlightRules,s=y("./matching_brace_outdent").MatchingBraceOutdent,m=y("../worker/worker_client").WorkerClient,h=y("./behaviour/cstyle").CstyleBehaviour,l=y("./folding/cstyle").FoldMode,c=function(){this.HighlightRules=A,this.$outdent=new s,this.$behaviour=new h,this.foldingRules=new l};V.inherits(c,L),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(i,u,d){var g=this.$getIndent(u),v=this.getTokenizer().getLineTokens(u,i),x=v.tokens,C=v.state;if(x.length&&x[x.length-1].type=="comment")return g;if(i=="start"||i=="no_regex"){var _=u.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);_&&(g+=d)}else if(i=="doc-start"){if(C=="start"||C=="no_regex")return"";var _=u.match(/^\s*(\/?)\*/);_&&(_[1]&&(g+=" "),g+="* ")}return g},this.checkOutdent=function(i,u,d){return this.$outdent.checkOutdent(u,d)},this.autoOutdent=function(i,u,d){this.$outdent.autoOutdent(u,d)},this.createWorker=function(i){var u=new m(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return u.attachToDocument(i.getDocument()),u.on("annotate",function(d){i.setAnnotations(d.data)}),u.on("terminate",function(){i.clearAnnotations()}),u},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call(c.prototype),T.Mode=c}),ace.define("ace/mode/css_completions",["require","exports","module"],function(y,T,G){var V={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,double:2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{default:1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},float:{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,static:1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},L=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var A=document.createElement("c").style;for(var s in A)if(typeof A[s]=="string"){var m=s.replace(/[A-Z]/g,function(h){return"-"+h.toLowerCase()});V.hasOwnProperty(m)||(V[m]=1)}}this.completionsDefined=!0},this.getCompletions=function(A,s,m,h){if(this.completionsDefined||this.defineCompletions(),A==="ruleset"||s.$mode.$id=="ace/mode/scss"){var l=s.getLine(m.row).substr(0,m.column),c=/\([^)]*$/.test(l);return c&&(l=l.substr(l.lastIndexOf("(")+1)),/:[^;]+$/.test(l)?this.getPropertyValueCompletions(A,s,m,h):this.getPropertyCompletions(A,s,m,h,c)}return[]},this.getPropertyCompletions=function(A,s,m,h,l){l=l||!1;var c=Object.keys(V);return c.map(function(i){return{caption:i,snippet:i+": $0"+(l?"":";"),meta:"property",score:1e6}})},this.getPropertyValueCompletions=function(A,s,m,h){var l=s.getLine(m.row).substr(0,m.column),c=(/([\w\-]+):[^:]*$/.exec(l)||{})[1];if(!c)return[];var i=[];return c in V&&typeof V[c]=="object"&&(i=Object.keys(V[c])),i.map(function(u){return{caption:u,snippet:u,meta:"property value",score:1e6}})}}).call(L.prototype),T.CssCompletions=L}),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(y,T,G){var V=y("../../lib/oop");y("../behaviour").Behaviour;var L=y("./cstyle").CstyleBehaviour,A=y("../../token_iterator").TokenIterator,s=function(){this.inherit(L),this.add("colon","insertion",function(m,h,l,c,i){if(i===":"&&l.selection.isEmpty()){var u=l.getCursorPosition(),d=new A(c,u.row,u.column),g=d.getCurrentToken();if(g&&g.value.match(/\s+/)&&(g=d.stepBackward()),g&&g.type==="support.type"){var v=c.doc.getLine(u.row),x=v.substring(u.column,u.column+1);if(x===":")return{text:"",selection:[1,1]};if(/^(\s+[^;]|\s*$)/.test(v.substring(u.column)))return{text:":;",selection:[1,1]}}}}),this.add("colon","deletion",function(m,h,l,c,i){var u=c.doc.getTextRange(i);if(!i.isMultiLine()&&u===":"){var d=l.getCursorPosition(),g=new A(c,d.row,d.column),v=g.getCurrentToken();if(v&&v.value.match(/\s+/)&&(v=g.stepBackward()),v&&v.type==="support.type"){var x=c.doc.getLine(i.start.row),C=x.substring(i.end.column,i.end.column+1);if(C===";")return i.end.column++,i}}}),this.add("semicolon","insertion",function(m,h,l,c,i){if(i===";"&&l.selection.isEmpty()){var u=l.getCursorPosition(),d=c.doc.getLine(u.row),g=d.substring(u.column,u.column+1);if(g===";")return{text:"",selection:[1,1]}}}),this.add("!important","insertion",function(m,h,l,c,i){if(i==="!"&&l.selection.isEmpty()){var u=l.getCursorPosition(),d=c.doc.getLine(u.row);if(/^\s*(;|}|$)/.test(d.substring(u.column)))return{text:"!important",selection:[10,10]}}})};V.inherits(s,L),T.CssBehaviour=s}),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/css_completions","ace/mode/behaviour/css","ace/mode/folding/cstyle"],function(y,T,G){var V=y("../lib/oop"),L=y("./text").Mode,A=y("./css_highlight_rules").CssHighlightRules,s=y("./matching_brace_outdent").MatchingBraceOutdent,m=y("../worker/worker_client").WorkerClient,h=y("./css_completions").CssCompletions,l=y("./behaviour/css").CssBehaviour,c=y("./folding/cstyle").FoldMode,i=function(){this.HighlightRules=A,this.$outdent=new s,this.$behaviour=new l,this.$completer=new h,this.foldingRules=new c};V.inherits(i,L),(function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(u,d,g){var v=this.$getIndent(d),x=this.getTokenizer().getLineTokens(d,u).tokens;if(x.length&&x[x.length-1].type=="comment")return v;var C=d.match(/^.*\{\s*$/);return C&&(v+=g),v},this.checkOutdent=function(u,d,g){return this.$outdent.checkOutdent(d,g)},this.autoOutdent=function(u,d,g){this.$outdent.autoOutdent(d,g)},this.getCompletions=function(u,d,g,v){return this.$completer.getCompletions(u,d,g,v)},this.createWorker=function(u){var d=new m(["ace"],"ace/mode/css_worker","Worker");return d.attachToDocument(u.getDocument()),d.on("annotate",function(g){u.setAnnotations(g.data)}),d.on("terminate",function(){u.clearAnnotations()}),d},this.$id="ace/mode/css",this.snippetFileId="ace/snippets/css"}).call(i.prototype),T.Mode=i}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(y,T,G){var V=y("../../lib/oop"),L=y("../behaviour").Behaviour,A=y("../../token_iterator").TokenIterator;y("../../lib/lang");function s(h,l){return h&&h.type.lastIndexOf(l+".xml")>-1}var m=function(){this.add("string_dquotes","insertion",function(h,l,c,i,u){if(u=='"'||u=="'"){var d=u,g=i.doc.getTextRange(c.getSelectionRange());if(g!==""&&g!=="'"&&g!='"'&&c.getWrapBehavioursEnabled())return{text:d+g+d,selection:!1};var v=c.getCursorPosition(),x=i.doc.getLine(v.row),C=x.substring(v.column,v.column+1),_=new A(i,v.row,v.column),$=_.getCurrentToken();if(C==d&&(s($,"attribute-value")||s($,"string")))return{text:"",selection:[1,1]};if($||($=_.stepBackward()),!$)return;for(;s($,"tag-whitespace")||s($,"whitespace");)$=_.stepBackward();var S=!C||C.match(/\s/);if(s($,"attribute-equals")&&(S||C==">")||s($,"decl-attribute-equals")&&(S||C=="?"))return{text:d+d,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(h,l,c,i,u){var d=i.doc.getTextRange(u);if(!u.isMultiLine()&&(d=='"'||d=="'")){var g=i.doc.getLine(u.start.row),v=g.substring(u.start.column+1,u.start.column+2);if(v==d)return u.end.column++,u}}),this.add("autoclosing","insertion",function(h,l,c,i,u){if(u==">"){var d=c.getSelectionRange().start,g=new A(i,d.row,d.column),v=g.getCurrentToken()||g.stepBackward();if(!v||!(s(v,"tag-name")||s(v,"tag-whitespace")||s(v,"attribute-name")||s(v,"attribute-equals")||s(v,"attribute-value"))||s(v,"reference.attribute-value"))return;if(s(v,"attribute-value")){var x=g.getCurrentTokenColumn()+v.value.length;if(d.column<x)return;if(d.column==x){var C=g.stepForward();if(C&&s(C,"attribute-value"))return;g.stepBackward()}}if(/^\s*>/.test(i.getLine(d.row).slice(d.column)))return;for(;!s(v,"tag-name");)if(v=g.stepBackward(),v.value=="<"){v=g.stepForward();break}var _=g.getCurrentTokenRow(),$=g.getCurrentTokenColumn();if(s(g.stepBackward(),"end-tag-open"))return;var S=v.value;return _==d.row&&(S=S.substring(0,d.column-$)),this.voidElements.hasOwnProperty(S.toLowerCase())?void 0:{text:"></"+S+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(h,l,c,i,u){if(u==`
`){var d=c.getCursorPosition(),g=i.getLine(d.row),v=new A(i,d.row,d.column),x=v.getCurrentToken();if(x&&x.type.indexOf("tag-close")!==-1){if(x.value=="/>")return;for(;x&&x.type.indexOf("tag-name")===-1;)x=v.stepBackward();if(!x)return;var C=x.value,_=v.getCurrentTokenRow();if(x=v.stepBackward(),!x||x.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[C]){var $=i.getTokenAt(d.row,d.column+1),g=i.getLine(_),S=this.$getIndent(g),O=S+i.getTabString();return $&&$.value==="</"?{text:`
`+O+`
`+S,selection:[1,O.length,1,O.length]}:{text:`
`+O}}}}})};V.inherits(m,L),T.XmlBehaviour=m}),ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(y,T,G){var V=y("../../lib/oop"),L=y("./fold_mode").FoldMode,A=T.FoldMode=function(s,m){this.defaultMode=s,this.subModes=m};V.inherits(A,L),(function(){this.$getMode=function(s){typeof s!="string"&&(s=s[0]);for(var m in this.subModes)if(s.indexOf(m)===0)return this.subModes[m];return null},this.$tryMode=function(s,m,h,l){var c=this.$getMode(s);return c?c.getFoldWidget(m,h,l):""},this.getFoldWidget=function(s,m,h){return this.$tryMode(s.getState(h-1),s,m,h)||this.$tryMode(s.getState(h),s,m,h)||this.defaultMode.getFoldWidget(s,m,h)},this.getFoldWidgetRange=function(s,m,h){var l=this.$getMode(s.getState(h-1));return(!l||!l.getFoldWidget(s,m,h))&&(l=this.$getMode(s.getState(h))),(!l||!l.getFoldWidget(s,m,h))&&(l=this.defaultMode),l.getFoldWidgetRange(s,m,h)}}).call(A.prototype)}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(y,T,G){var V=y("../../lib/oop"),L=y("../../range").Range,A=y("./fold_mode").FoldMode,s=T.FoldMode=function(l,c){A.call(this),this.voidElements=l||{},this.optionalEndTags=V.mixin({},this.voidElements),c&&V.mixin(this.optionalEndTags,c)};V.inherits(s,A);var m=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function h(l,c){return l.type.lastIndexOf(c+".xml")>-1}(function(){this.getFoldWidget=function(l,c,i){var u=this._getFirstTagInLine(l,i);return u?u.closing||!u.tagName&&u.selfClosing?c==="markbeginend"?"end":"":!u.tagName||u.selfClosing||this.voidElements.hasOwnProperty(u.tagName.toLowerCase())||this._findEndTagInLine(l,i,u.tagName,u.end.column)?"":"start":this.getCommentFoldWidget(l,i)},this.getCommentFoldWidget=function(l,c){return/comment/.test(l.getState(c))&&/<!-/.test(l.getLine(c))?"start":""},this._getFirstTagInLine=function(l,c){for(var i=l.getTokens(c),u=new m,d=0;d<i.length;d++){var g=i[d];if(h(g,"tag-open")){if(u.end.column=u.start.column+g.value.length,u.closing=h(g,"end-tag-open"),g=i[++d],!g)return null;for(u.tagName=g.value,u.end.column+=g.value.length,d++;d<i.length;d++)if(g=i[d],u.end.column+=g.value.length,h(g,"tag-close")){u.selfClosing=g.value=="/>";break}return u}else if(h(g,"tag-close"))return u.selfClosing=g.value=="/>",u;u.start.column+=g.value.length}return null},this._findEndTagInLine=function(l,c,i,u){for(var d=l.getTokens(c),g=0,v=0;v<d.length;v++){var x=d[v];if(g+=x.value.length,!(g<u)&&h(x,"end-tag-open")&&(x=d[v+1],x&&x.value==i))return!0}return!1},this.getFoldWidgetRange=function(l,c,i){var u=l.getMatchingTags({row:i,column:0});return u?new L(u.openTag.end.row,u.openTag.end.column,u.closeTag.start.row,u.closeTag.start.column):this.getCommentFoldWidget(l,i)&&l.getCommentFoldRange(i,l.getLine(i).length)}}).call(s.prototype)}),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(y,T,G){var V=y("../../lib/oop"),L=y("./mixed").FoldMode,A=y("./xml").FoldMode,s=y("./cstyle").FoldMode,m=T.FoldMode=function(h,l){L.call(this,new A(h,l),{"js-":new s,"css-":new s})};V.inherits(m,L)}),ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],function(y,T,G){var V=y("../token_iterator").TokenIterator,L=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"],A=["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"],s=L.concat(A),m={a:{href:1,target:{_blank:1,top:1},ping:1,rel:{nofollow:1,alternate:1,author:1,bookmark:1,help:1,license:1,next:1,noreferrer:1,prefetch:1,prev:1,search:1,tag:1},media:1,hreflang:1,type:1},abbr:{},address:{},area:{shape:1,coords:1,href:1,hreflang:1,alt:1,target:1,media:1,rel:1,ping:1,type:1},article:{pubdate:1},aside:{},audio:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},muted:{muted:1},preload:{auto:1,metadata:1,none:1}},b:{},base:{href:1,target:1},bdi:{},bdo:{},blockquote:{cite:1},body:{onafterprint:1,onbeforeprint:1,onbeforeunload:1,onhashchange:1,onmessage:1,onoffline:1,onpopstate:1,onredo:1,onresize:1,onstorage:1,onundo:1,onunload:1},br:{},button:{autofocus:1,disabled:{disabled:1},form:1,formaction:1,formenctype:1,formmethod:1,formnovalidate:1,formtarget:1,name:1,value:1,type:{button:1,submit:1}},canvas:{width:1,height:1},caption:{},cite:{},code:{},col:{span:1},colgroup:{span:1},command:{type:1,label:1,icon:1,disabled:1,checked:1,radiogroup:1,command:1},data:{},datalist:{},dd:{},del:{cite:1,datetime:1},details:{open:1},dfn:{},dialog:{open:1},div:{},dl:{},dt:{},em:{},embed:{src:1,height:1,width:1,type:1},fieldset:{disabled:1,form:1,name:1},figcaption:{},figure:{},footer:{},form:{"accept-charset":1,action:1,autocomplete:1,enctype:{"multipart/form-data":1,"application/x-www-form-urlencoded":1},method:{get:1,post:1},name:1,novalidate:1,target:{_blank:1,top:1}},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{},header:{},hr:{},html:{manifest:1},i:{},iframe:{name:1,src:1,height:1,width:1,sandbox:{"allow-same-origin":1,"allow-top-navigation":1,"allow-forms":1,"allow-scripts":1},seamless:{seamless:1}},img:{alt:1,src:1,height:1,width:1,usemap:1,ismap:1},input:{type:{text:1,password:1,hidden:1,checkbox:1,submit:1,radio:1,file:1,button:1,reset:1,image:31,color:1,date:1,datetime:1,"datetime-local":1,email:1,month:1,number:1,range:1,search:1,tel:1,time:1,url:1,week:1},accept:1,alt:1,autocomplete:{on:1,off:1},autofocus:{autofocus:1},checked:{checked:1},disabled:{disabled:1},form:1,formaction:1,formenctype:{"application/x-www-form-urlencoded":1,"multipart/form-data":1,"text/plain":1},formmethod:{get:1,post:1},formnovalidate:{formnovalidate:1},formtarget:{_blank:1,_self:1,_parent:1,_top:1},height:1,list:1,max:1,maxlength:1,min:1,multiple:{multiple:1},name:1,pattern:1,placeholder:1,readonly:{readonly:1},required:{required:1},size:1,src:1,step:1,width:1,files:1,value:1},ins:{cite:1,datetime:1},kbd:{},keygen:{autofocus:1,challenge:{challenge:1},disabled:{disabled:1},form:1,keytype:{rsa:1,dsa:1,ec:1},name:1},label:{form:1,for:1},legend:{},li:{value:1},link:{href:1,hreflang:1,rel:{stylesheet:1,icon:1},media:{all:1,screen:1,print:1},type:{"text/css":1,"image/png":1,"image/jpeg":1,"image/gif":1},sizes:1},main:{},map:{name:1},mark:{},math:{},menu:{type:1,label:1},meta:{"http-equiv":{"content-type":1},name:{description:1,keywords:1},content:{"text/html; charset=UTF-8":1},charset:1},meter:{value:1,min:1,max:1,low:1,high:1,optimum:1},nav:{},noscript:{href:1},object:{param:1,data:1,type:1,height:1,width:1,usemap:1,name:1,form:1,classid:1},ol:{start:1,reversed:1},optgroup:{disabled:1,label:1},option:{disabled:1,selected:1,label:1,value:1},output:{for:1,form:1,name:1},p:{},param:{name:1,value:1},pre:{},progress:{value:1,max:1},q:{cite:1},rp:{},rt:{},ruby:{},s:{},samp:{},script:{charset:1,type:{"text/javascript":1},src:1,defer:1,async:1},select:{autofocus:1,disabled:1,form:1,multiple:{multiple:1},name:1,size:1,readonly:{readonly:1}},small:{},source:{src:1,type:1,media:1},span:{},strong:{},style:{type:1,media:{all:1,screen:1,print:1},scoped:1},sub:{},sup:{},svg:{},table:{summary:1},tbody:{},td:{headers:1,rowspan:1,colspan:1},textarea:{autofocus:{autofocus:1},disabled:{disabled:1},form:1,maxlength:1,name:1,placeholder:1,readonly:{readonly:1},required:{required:1},rows:1,cols:1,wrap:{on:1,off:1,hard:1,soft:1}},tfoot:{},th:{headers:1,rowspan:1,colspan:1,scope:1},thead:{},time:{datetime:1},title:{},tr:{},track:{kind:1,src:1,srclang:1,label:1,default:1},section:{},summary:{},u:{},ul:{},var:{},video:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},width:1,height:1,poster:1,muted:{muted:1},preload:{auto:1,metadata:1,none:1}},wbr:{}},h=Object.keys(m);function l(d,g){return d.type.lastIndexOf(g+".xml")>-1}function c(d,g){for(var v=new V(d,g.row,g.column),x=v.getCurrentToken();x&&!l(x,"tag-name");)x=v.stepBackward();if(x)return x.value}function i(d,g){for(var v=new V(d,g.row,g.column),x=v.getCurrentToken();x&&!l(x,"attribute-name");)x=v.stepBackward();if(x)return x.value}var u=function(){};(function(){this.getCompletions=function(d,g,v,x){var C=g.getTokenAt(v.row,v.column);if(!C)return[];if(l(C,"tag-name")||l(C,"tag-open")||l(C,"end-tag-open"))return this.getTagCompletions(d,g,v,x);if(l(C,"tag-whitespace")||l(C,"attribute-name"))return this.getAttributeCompletions(d,g,v,x);if(l(C,"attribute-value"))return this.getAttributeValueCompletions(d,g,v,x);var _=g.getLine(v.row).substr(0,v.column);return/&[a-z]*$/i.test(_)?this.getHTMLEntityCompletions(d,g,v,x):[]},this.getTagCompletions=function(d,g,v,x){return h.map(function(C){return{value:C,meta:"tag",score:1e6}})},this.getAttributeCompletions=function(d,g,v,x){var C=c(g,v);if(!C)return[];var _=s;return C in m&&(_=_.concat(Object.keys(m[C]))),_.map(function($){return{caption:$,snippet:$+'="$0"',meta:"attribute",score:1e6}})},this.getAttributeValueCompletions=function(d,g,v,x){var C=c(g,v),_=i(g,v);if(!C)return[];var $=[];return C in m&&_ in m[C]&&typeof m[C][_]=="object"&&($=Object.keys(m[C][_])),$.map(function(S){return{caption:S,snippet:S,meta:"attribute value",score:1e6}})},this.getHTMLEntityCompletions=function(d,g,v,x){var C=["Aacute;","aacute;","Acirc;","acirc;","acute;","AElig;","aelig;","Agrave;","agrave;","alefsym;","Alpha;","alpha;","amp;","and;","ang;","Aring;","aring;","asymp;","Atilde;","atilde;","Auml;","auml;","bdquo;","Beta;","beta;","brvbar;","bull;","cap;","Ccedil;","ccedil;","cedil;","cent;","Chi;","chi;","circ;","clubs;","cong;","copy;","crarr;","cup;","curren;","Dagger;","dagger;","dArr;","darr;","deg;","Delta;","delta;","diams;","divide;","Eacute;","eacute;","Ecirc;","ecirc;","Egrave;","egrave;","empty;","emsp;","ensp;","Epsilon;","epsilon;","equiv;","Eta;","eta;","ETH;","eth;","Euml;","euml;","euro;","exist;","fnof;","forall;","frac12;","frac14;","frac34;","frasl;","Gamma;","gamma;","ge;","gt;","hArr;","harr;","hearts;","hellip;","Iacute;","iacute;","Icirc;","icirc;","iexcl;","Igrave;","igrave;","image;","infin;","int;","Iota;","iota;","iquest;","isin;","Iuml;","iuml;","Kappa;","kappa;","Lambda;","lambda;","lang;","laquo;","lArr;","larr;","lceil;","ldquo;","le;","lfloor;","lowast;","loz;","lrm;","lsaquo;","lsquo;","lt;","macr;","mdash;","micro;","middot;","minus;","Mu;","mu;","nabla;","nbsp;","ndash;","ne;","ni;","not;","notin;","nsub;","Ntilde;","ntilde;","Nu;","nu;","Oacute;","oacute;","Ocirc;","ocirc;","OElig;","oelig;","Ograve;","ograve;","oline;","Omega;","omega;","Omicron;","omicron;","oplus;","or;","ordf;","ordm;","Oslash;","oslash;","Otilde;","otilde;","otimes;","Ouml;","ouml;","para;","part;","permil;","perp;","Phi;","phi;","Pi;","pi;","piv;","plusmn;","pound;","Prime;","prime;","prod;","prop;","Psi;","psi;","quot;","radic;","rang;","raquo;","rArr;","rarr;","rceil;","rdquo;","real;","reg;","rfloor;","Rho;","rho;","rlm;","rsaquo;","rsquo;","sbquo;","Scaron;","scaron;","sdot;","sect;","shy;","Sigma;","sigma;","sigmaf;","sim;","spades;","sub;","sube;","sum;","sup;","sup1;","sup2;","sup3;","supe;","szlig;","Tau;","tau;","there4;","Theta;","theta;","thetasym;","thinsp;","THORN;","thorn;","tilde;","times;","trade;","Uacute;","uacute;","uArr;","uarr;","Ucirc;","ucirc;","Ugrave;","ugrave;","uml;","upsih;","Upsilon;","upsilon;","Uuml;","uuml;","weierp;","Xi;","xi;","Yacute;","yacute;","yen;","Yuml;","yuml;","Zeta;","zeta;","zwj;","zwnj;"];return C.map(function(_){return{caption:_,snippet:_,meta:"html entity",score:1e6}})}}).call(u.prototype),T.HtmlCompletions=u}),ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"],function(y,T,G){var V=y("../lib/oop"),L=y("../lib/lang"),A=y("./text").Mode,s=y("./javascript").Mode,m=y("./css").Mode,h=y("./html_highlight_rules").HtmlHighlightRules,l=y("./behaviour/xml").XmlBehaviour,c=y("./folding/html").FoldMode,i=y("./html_completions").HtmlCompletions,u=y("../worker/worker_client").WorkerClient,d=["area","base","br","col","embed","hr","img","input","keygen","link","meta","menuitem","param","source","track","wbr"],g=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],v=function(x){this.fragmentContext=x&&x.fragmentContext,this.HighlightRules=h,this.$behaviour=new l,this.$completer=new i,this.createModeDelegates({"js-":s,"css-":m}),this.foldingRules=new c(this.voidElements,L.arrayToMap(g))};V.inherits(v,A),(function(){this.blockComment={start:"<!--",end:"-->"},this.voidElements=L.arrayToMap(d),this.getNextLineIndent=function(x,C,_){return this.$getIndent(C)},this.checkOutdent=function(x,C,_){return!1},this.getCompletions=function(x,C,_,$){return this.$completer.getCompletions(x,C,_,$)},this.createWorker=function(x){if(this.constructor==v){var C=new u(["ace"],"ace/mode/html_worker","Worker");return C.attachToDocument(x.getDocument()),this.fragmentContext&&C.call("setOptions",[{context:this.fragmentContext}]),C.on("error",function(_){x.setAnnotations(_.data)}),C.on("terminate",function(){x.clearAnnotations()}),C}},this.$id="ace/mode/html",this.snippetFileId="ace/snippets/html"}).call(v.prototype),T.Mode=v}),ace.define("ace/mode/sh_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(y,T,G){var V=y("../lib/oop"),L=y("./text_highlight_rules").TextHighlightRules,A=T.reservedKeywords="!|{|}|case|do|done|elif|else|esac|fi|for|if|in|then|until|while|&|;|export|local|read|typeset|unset|elif|select|set|function|declare|readonly",s=T.languageConstructs="[|]|alias|bg|bind|break|builtin|cd|command|compgen|complete|continue|dirs|disown|echo|enable|eval|exec|exit|fc|fg|getopts|hash|help|history|jobs|kill|let|logout|popd|printf|pushd|pwd|return|set|shift|shopt|source|suspend|test|times|trap|type|ulimit|umask|unalias|wait",m=function(){var h=this.createKeywordMapper({keyword:A,"support.function.builtin":s,"invalid.deprecated":"debugger"},"identifier"),l="(?:(?:[1-9]\\d*)|(?:0))",c="(?:\\.\\d+)",i="(?:\\d+)",u="(?:(?:"+i+"?"+c+")|(?:"+i+"\\.))",d="(?:(?:"+u+"|"+i+"))",g="(?:"+d+"|"+u+")",v="(?:&"+i+")",x="[a-zA-Z_][a-zA-Z0-9_]*",C="(?:"+x+"(?==))",_="(?:\\$(?:SHLVL|\\$|\\!|\\?))",$="(?:"+x+"\\s*\\(\\))";this.$rules={start:[{token:"constant",regex:/\\./},{token:["text","comment"],regex:/(^|\s)(#.*)$/},{token:"string.start",regex:'"',push:[{token:"constant.language.escape",regex:/\\(?:[$`"\\]|$)/},{include:"variables"},{token:"keyword.operator",regex:/`/},{token:"string.end",regex:'"',next:"pop"},{defaultToken:"string"}]},{token:"string",regex:"\\$'",push:[{token:"constant.language.escape",regex:/\\(?:[abeEfnrtv\\'"]|x[a-fA-F\d]{1,2}|u[a-fA-F\d]{4}([a-fA-F\d]{4})?|c.|\d{1,3})/},{token:"string",regex:"'",next:"pop"},{defaultToken:"string"}]},{regex:"<<<",token:"keyword.operator"},{stateName:"heredoc",regex:"(<<-?)(\\s*)(['\"`]?)([\\w\\-]+)(['\"`]?)",onMatch:function(S,O,D){var N=S[2]=="-"?"indentedHeredoc":"heredoc",M=S.split(this.splitRegex);return D.push(N,M[4]),[{type:"constant",value:M[1]},{type:"text",value:M[2]},{type:"string",value:M[3]},{type:"support.class",value:M[4]},{type:"string",value:M[5]}]},rules:{heredoc:[{onMatch:function(S,O,D){return S===D[1]?(D.shift(),D.shift(),this.next=D[0]||"start","support.class"):(this.next="","string")},regex:".*$",next:"start"}],indentedHeredoc:[{token:"string",regex:"^	+"},{onMatch:function(S,O,D){return S===D[1]?(D.shift(),D.shift(),this.next=D[0]||"start","support.class"):(this.next="","string")},regex:".*$",next:"start"}]}},{regex:"$",token:"empty",next:function(S,O){return O[0]==="heredoc"||O[0]==="indentedHeredoc"?O[0]:S}},{token:["keyword","text","text","text","variable"],regex:/(declare|local|readonly)(\s+)(?:(-[fixar]+)(\s+))?([a-zA-Z_][a-zA-Z0-9_]*\b)/},{token:"variable.language",regex:_},{token:"variable",regex:C},{include:"variables"},{token:"support.function",regex:$},{token:"support.function",regex:v},{token:"string",start:"'",end:"'"},{token:"constant.numeric",regex:g},{token:"constant.numeric",regex:l+"\\b"},{token:h,regex:"[a-zA-Z_][a-zA-Z0-9_]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|~|<|>|<=|=>|=|!=|[%&|`]"},{token:"punctuation.operator",regex:";"},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]]"},{token:"paren.rparen",regex:"[\\)\\}]",next:"pop"}],variables:[{token:"variable",regex:/(\$)(\w+)/},{token:["variable","paren.lparen"],regex:/(\$)(\()/,push:"start"},{token:["variable","paren.lparen","keyword.operator","variable","keyword.operator"],regex:/(\$)(\{)([#!]?)(\w+|[*@#?\-$!0_])(:[?+\-=]?|##?|%%?|,,?\/|\^\^?)?/,push:"start"},{token:"variable",regex:/\$[*@#?\-$!0_]/},{token:["variable","paren.lparen"],regex:/(\$)(\{)/,push:"start"}]},this.normalizeRules()};V.inherits(m,L),T.ShHighlightRules=m}),ace.define("ace/mode/sh",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/sh_highlight_rules","ace/range","ace/mode/folding/cstyle"],function(y,T,G){var V=y("../lib/oop"),L=y("./text").Mode,A=y("./sh_highlight_rules").ShHighlightRules,s=y("../range").Range,m=y("./folding/cstyle").FoldMode,h=function(){this.HighlightRules=A,this.foldingRules=new m,this.$behaviour=this.$defaultBehaviour};V.inherits(h,L),(function(){this.lineCommentStart="#",this.getNextLineIndent=function(c,i,u){var d=this.$getIndent(i),g=this.getTokenizer().getLineTokens(i,c),v=g.tokens;if(v.length&&v[v.length-1].type=="comment")return d;if(c=="start"){var x=i.match(/^.*[\{\(\[:]\s*$/);x&&(d+=u)}return d};var l={pass:1,return:1,raise:1,break:1,continue:1};this.checkOutdent=function(c,i,u){if(u!==`\r
`&&u!=="\r"&&u!==`
`)return!1;var d=this.getTokenizer().getLineTokens(i.trim(),c).tokens;if(!d)return!1;do var g=d.pop();while(g&&(g.type=="comment"||g.type=="text"&&g.value.match(/^\s+$/)));return g?g.type=="keyword"&&l[g.value]:!1},this.autoOutdent=function(c,i,u){u+=1;var d=this.$getIndent(i.getLine(u)),g=i.getTabString();d.slice(-g.length)==g&&i.remove(new s(u,d.length-g.length,u,d.length))},this.$id="ace/mode/sh",this.snippetFileId="ace/snippets/sh"}).call(h.prototype),T.Mode=h}),ace.define("ace/mode/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/xml","ace/worker/worker_client"],function(y,T,G){var V=y("../lib/oop"),L=y("../lib/lang"),A=y("./text").Mode,s=y("./xml_highlight_rules").XmlHighlightRules,m=y("./behaviour/xml").XmlBehaviour,h=y("./folding/xml").FoldMode,l=y("../worker/worker_client").WorkerClient,c=function(){this.HighlightRules=s,this.$behaviour=new m,this.foldingRules=new h};V.inherits(c,A),(function(){this.voidElements=L.arrayToMap([]),this.blockComment={start:"<!--",end:"-->"},this.createWorker=function(i){var u=new l(["ace"],"ace/mode/xml_worker","Worker");return u.attachToDocument(i.getDocument()),u.on("error",function(d){i.setAnnotations(d.data)}),u.on("terminate",function(){i.clearAnnotations()}),u},this.$id="ace/mode/xml"}).call(c.prototype),T.Mode=c}),ace.define("ace/mode/markdown",["require","exports","module","ace/lib/oop","ace/mode/behaviour/cstyle","ace/mode/text","ace/mode/markdown_highlight_rules","ace/mode/folding/markdown","ace/mode/javascript","ace/mode/html","ace/mode/sh","ace/mode/sh","ace/mode/xml","ace/mode/css"],function(y,T,G){var V=y("../lib/oop"),L=y("./behaviour/cstyle").CstyleBehaviour,A=y("./text").Mode,s=y("./markdown_highlight_rules").MarkdownHighlightRules,m=y("./folding/markdown").FoldMode,h=function(){this.HighlightRules=s,this.createModeDelegates({javascript:y("./javascript").Mode,html:y("./html").Mode,bash:y("./sh").Mode,sh:y("./sh").Mode,xml:y("./xml").Mode,css:y("./css").Mode}),this.foldingRules=new m,this.$behaviour=new L({braces:!0})};V.inherits(h,A),(function(){this.type="text",this.blockComment={start:"<!--",end:"-->"},this.$quotes={'"':'"',"`":"`"},this.getNextLineIndent=function(l,c,i){if(l=="listblock"){var u=/^(\s*)(?:([-+*])|(\d+)\.)(\s+)/.exec(c);if(!u)return"";var d=u[2];return d||(d=parseInt(u[3],10)+1+"."),u[1]+d+u[4]}else return this.$getIndent(c)},this.$id="ace/mode/markdown",this.snippetFileId="ace/snippets/markdown"}).call(h.prototype),T.Mode=h}),function(){ace.require(["ace/mode/markdown"],function(y){o&&(o.exports=y)})}()})(lve);var cve={exports:{}};(function(o,b){ace.define("ace/snippets/markdown.snippets",["require","exports","module"],function(y,T,G){G.exports=`# Markdown

# Includes octopress (http://octopress.org/) snippets

snippet [
	[\${1:text}](http://\${2:address} "\${3:title}")
snippet [*
	[\${1:link}](\${2:\`@*\`} "\${3:title}")\${4}

snippet [:
	[\${1:id}]: http://\${2:url} "\${3:title}"
snippet [:*
	[\${1:id}]: \${2:\`@*\`} "\${3:title}"

snippet ![
	![\${1:alttext}](\${2:/images/image.jpg} "\${3:title}")
snippet ![*
	![\${1:alt}](\${2:\`@*\`} "\${3:title}")\${4}

snippet ![:
	![\${1:id}]: \${2:url} "\${3:title}"
snippet ![:*
	![\${1:id}]: \${2:\`@*\`} "\${3:title}"

snippet ===
regex /^/=+/=*//
	\${PREV_LINE/./=/g}
	
	\${0}
snippet ---
regex /^/-+/-*//
	\${PREV_LINE/./-/g}
	
	\${0}
snippet blockquote
	{% blockquote %}
	\${1:quote}
	{% endblockquote %}

snippet blockquote-author
	{% blockquote \${1:author}, \${2:title} %}
	\${3:quote}
	{% endblockquote %}

snippet blockquote-link
	{% blockquote \${1:author} \${2:URL} \${3:link_text} %}
	\${4:quote}
	{% endblockquote %}

snippet bt-codeblock-short
	\`\`\`
	\${1:code_snippet}
	\`\`\`

snippet bt-codeblock-full
	\`\`\` \${1:language} \${2:title} \${3:URL} \${4:link_text}
	\${5:code_snippet}
	\`\`\`

snippet codeblock-short
	{% codeblock %}
	\${1:code_snippet}
	{% endcodeblock %}

snippet codeblock-full
	{% codeblock \${1:title} lang:\${2:language} \${3:URL} \${4:link_text} %}
	\${5:code_snippet}
	{% endcodeblock %}

snippet gist-full
	{% gist \${1:gist_id} \${2:filename} %}

snippet gist-short
	{% gist \${1:gist_id} %}

snippet img
	{% img \${1:class} \${2:URL} \${3:width} \${4:height} \${5:title_text} \${6:alt_text} %}

snippet youtube
	{% youtube \${1:video_id} %}

# The quote should appear only once in the text. It is inherently part of it.
# See http://octopress.org/docs/plugins/pullquote/ for more info.

snippet pullquote
	{% pullquote %}
	\${1:text} {" \${2:quote} "} \${3:text}
	{% endpullquote %}
`}),ace.define("ace/snippets/markdown",["require","exports","module","ace/snippets/markdown.snippets"],function(y,T,G){T.snippetText=y("./markdown.snippets"),T.scope="markdown"}),function(){ace.require(["ace/snippets/markdown"],function(y){o&&(o.exports=y)})}()})(cve);const uve={components:{"ace-editor":eH},computed:{editorOptions(){return{showPrintMargin:!1,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0,autoScrollEditorIntoView:!0,highlightActiveLine:this.isFocused,highlightGutterLine:this.isFocused,minLines:1,maxLines:1/0}},compiledMarkdown(){return Pi.parse(this.cellData.code)}},data(){return{isFocused:!1,items:[{title:"Code"},{title:"SQL"},{title:"Markdown"},{title:"Text"}]}},props:{cellData:{type:Object,required:!0}},mounted(){if(this.$devMode){const o=this.$refs.editor;o._editor.renderer.$cursorLayer.element.style.display="none"}window.addEventListener("keydown",this.handleKeyDown)},beforeUnmount(){window.removeEventListener("keydown",this.handleKeyDown)},methods:{handleKeyDown(o){this.isFocused&&o.ctrlKey&&o.key==="Enter"&&this.saveCell()},handleFocus(o){if(o){const b=this.$refs.editor;b._editor.renderer.$cursorLayer.element.style.display=""}else{const b=this.$refs.editor;b._editor.renderer.$cursorLayer.element.style.display="none"}this.isFocused=o},saveCell(){this.$emit("saveCell",this.cellData.id)},deleteCell(){this.$emit("deleteCell",this.cellData.id)},createCell(o){this.$emit("createCell",this.cellData.id,o)}}};const fve=ff("span",{class:"py-0 px-2"},".md",-1),dve={key:2},hve=ff("p",{class:"text-caption text-disabled text-right"}," CTRL+Enter to save",-1),mve=[hve],gve=["innerHTML"];function pve(o,b,y,T,G,V){const L=A0("ace-editor");return mo(),Ts(Uo,null,[ct(M3,{flat:"",color:"bluegrey"},{default:jr(()=>[o.$devMode?(mo(),za(sm,{key:0,"no-gutters":"",class:"py-1 toolbar-bg"},{default:jr(()=>[ct(kp,{cols:11},{default:jr(()=>[fve]),_:1}),ct(kp,{cols:1,class:"d-flex justify-end align-center py-0"},{default:jr(()=>[ct(js,{small:"",class:"mx-1",color:"primary",onClick:V.saveCell},{default:jr(()=>[ii(" mdi-content-save ")]),_:1},8,["onClick"]),ct(js,{small:"",class:"mx-1",color:"error",onClick:V.deleteCell},{default:jr(()=>[ii(" mdi-delete ")]),_:1},8,["onClick"])]),_:1})]),_:1})):cm("",!0),o.$devMode?(mo(),za(L,{key:1,value:y.cellData.code,"onUpdate:value":b[0]||(b[0]=A=>y.cellData.code=A),ref:"editor",class:"editor",theme:"dracula",lang:"markdown",onFocus:b[1]||(b[1]=A=>V.handleFocus(!0)),onBlur:b[2]||(b[2]=A=>V.handleFocus(!1)),options:V.editorOptions},null,8,["value","options"])):cm("",!0),o.$devMode?(mo(),Ts("div",dve,mve)):cm("",!0),ff("div",{class:"markdown-content",innerHTML:V.compiledMarkdown},null,8,gve)]),_:1}),ct(O2,{transition:"scale-transition"},{activator:jr(({props:A})=>[ct(dc,Jo(A,{block:""}),{default:jr(()=>[ct(sm,null,{default:jr(()=>[ct(js,{color:"primary"},{default:jr(()=>[ii("mdi-plus")]),_:1})]),_:1})]),_:2},1040)]),default:jr(()=>[ct($2,null,{default:jr(()=>[(mo(!0),Ts(Uo,null,uf(G.items,(A,s)=>(mo(),za(fm,{key:s},{default:jr(()=>[ct(dc,{block:"",onClick:m=>V.createCell(A.title)},{default:jr(()=>[ii(Sp(A.title),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})],64)}const vve=Vy(uve,[["render",pve]]);var yve={exports:{}};(function(o){(function(){var b=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},y=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},T=function(e,n){var r=Array.prototype.slice.call(e);return r.sort(n)},G=function(e,n){return V(function(r,f){return e.eq(n(r),n(f))})},V=function(e){return{eq:e}},L=V(function(e,n){return e===n}),A=L,s=function(e){return V(function(n,r){if(n.length!==r.length)return!1;for(var f=n.length,w=0;w<f;w++)if(!e.eq(n[w],r[w]))return!1;return!0})},m=function(e,n){return G(s(e),function(r){return T(r,n)})},h=function(e){return V(function(n,r){var f=Object.keys(n),w=Object.keys(r);if(!m(A).eq(f,w))return!1;for(var B=f.length,Z=0;Z<B;Z++){var oe=f[Z];if(!e.eq(n[oe],r[oe]))return!1}return!0})},l=V(function(e,n){if(e===n)return!0;var r=b(e),f=b(n);return r!==f?!1:y(r)?e===n:r==="array"?s(l).eq(e,n):r==="object"?h(l).eq(e,n):!1});const c=Object.getPrototypeOf,i=(e,n,r)=>{var f;return r(e,n.prototype)?!0:((f=e.constructor)===null||f===void 0?void 0:f.name)===n.name},u=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&i(e,String,(r,f)=>f.isPrototypeOf(r))?"string":n},d=e=>n=>u(n)===e,g=e=>n=>typeof n===e,v=e=>n=>e===n,x=(e,n)=>_(e)&&i(e,n,(r,f)=>c(r)===f),C=d("string"),_=d("object"),$=e=>x(e,Object),S=d("array"),O=v(null),D=g("boolean"),N=v(void 0),M=e=>e==null,k=e=>!M(e),R=g("function"),F=g("number"),H=(e,n)=>{if(S(e)){for(let r=0,f=e.length;r<f;++r)if(!n(e[r]))return!1;return!0}return!1},j=()=>{},P=(e,n)=>(...r)=>e(n.apply(null,r)),ee=(e,n)=>r=>e(n(r)),J=e=>()=>e,K=e=>e,ae=(e,n)=>e===n;function Q(e,...n){return(...r)=>{const f=n.concat(r);return e.apply(null,f)}}const he=e=>n=>!e(n),ge=e=>()=>{throw new Error(e)},Se=e=>e(),ce=e=>{e()},ne=J(!1),fe=J(!0);class X{constructor(n,r){this.tag=n,this.value=r}static some(n){return new X(!0,n)}static none(){return X.singletonNone}fold(n,r){return this.tag?r(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?X.some(n(this.value)):X.none()}bind(n){return this.tag?n(this.value):X.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:X.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return k(n)?X.some(n):X.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}X.singletonNone=new X(!1);const ye=Array.prototype.slice,Ce=Array.prototype.indexOf,$e=Array.prototype.push,ke=(e,n)=>Ce.call(e,n),Ne=(e,n)=>{const r=ke(e,n);return r===-1?X.none():X.some(r)},Ve=(e,n)=>ke(e,n)>-1,Oe=(e,n)=>{for(let r=0,f=e.length;r<f;r++){const w=e[r];if(n(w,r))return!0}return!1},Fe=(e,n)=>{const r=e.length,f=new Array(r);for(let w=0;w<r;w++){const B=e[w];f[w]=n(B,w)}return f},ie=(e,n)=>{for(let r=0,f=e.length;r<f;r++){const w=e[r];n(w,r)}},we=(e,n)=>{for(let r=e.length-1;r>=0;r--){const f=e[r];n(f,r)}},se=(e,n)=>{const r=[],f=[];for(let w=0,B=e.length;w<B;w++){const Z=e[w];(n(Z,w)?r:f).push(Z)}return{pass:r,fail:f}},ue=(e,n)=>{const r=[];for(let f=0,w=e.length;f<w;f++){const B=e[f];n(B,f)&&r.push(B)}return r},pe=(e,n,r)=>(we(e,(f,w)=>{r=n(r,f,w)}),r),le=(e,n,r)=>(ie(e,(f,w)=>{r=n(r,f,w)}),r),Te=(e,n,r)=>{for(let f=0,w=e.length;f<w;f++){const B=e[f];if(n(B,f))return X.some(B);if(r(B,f))break}return X.none()},de=(e,n)=>Te(e,n,ne),Me=(e,n)=>{for(let r=0,f=e.length;r<f;r++){const w=e[r];if(n(w,r))return X.some(r)}return X.none()},Re=e=>{const n=[];for(let r=0,f=e.length;r<f;++r){if(!S(e[r]))throw new Error("Arr.flatten item "+r+" was not an array, input: "+e);$e.apply(n,e[r])}return n},ze=(e,n)=>Re(Fe(e,n)),We=(e,n)=>{for(let r=0,f=e.length;r<f;++r){const w=e[r];if(n(w,r)!==!0)return!1}return!0},ot=e=>{const n=ye.call(e,0);return n.reverse(),n},dt=(e,n)=>ue(e,r=>!Ve(n,r)),Ge=(e,n)=>{const r={};for(let f=0,w=e.length;f<w;f++){const B=e[f];r[String(B)]=n(B,f)}return r},Xe=(e,n)=>{const r=ye.call(e,0);return r.sort(n),r},qe=(e,n)=>n>=0&&n<e.length?X.some(e[n]):X.none(),gt=e=>qe(e,0),ut=e=>qe(e,e.length-1),tt=R(Array.from)?Array.from:e=>ye.call(e),Ct=(e,n)=>{for(let r=0;r<e.length;r++){const f=n(e[r],r);if(f.isSome())return f}return X.none()},Gt=(e,n)=>{const r=[],f=R(n)?w=>Oe(r,B=>n(B,w)):w=>Ve(r,w);for(let w=0,B=e.length;w<B;w++){const Z=e[w];f(Z)||r.push(Z)}return r},Yt=Object.keys,Nt=Object.hasOwnProperty,Ft=(e,n)=>{const r=Yt(e);for(let f=0,w=r.length;f<w;f++){const B=r[f],Z=e[B];n(Z,B)}},pn=(e,n)=>_n(e,(r,f)=>({k:f,v:n(r,f)})),_n=(e,n)=>{const r={};return Ft(e,(f,w)=>{const B=n(f,w);r[B.k]=B.v}),r},sn=e=>(n,r)=>{e[r]=n},Zn=(e,n,r,f)=>{Ft(e,(w,B)=>{(n(w,B)?r:f)(w,B)})},an=(e,n)=>{const r={},f={};return Zn(e,n,sn(r),sn(f)),{t:r,f}},Cn=(e,n)=>{const r={};return Zn(e,n,sn(r),j),r},jn=(e,n)=>{const r=[];return Ft(e,(f,w)=>{r.push(n(f,w))}),r},Wn=e=>jn(e,K),wn=(e,n)=>lt(e,n)?X.from(e[n]):X.none(),lt=(e,n)=>Nt.call(e,n),ft=(e,n)=>lt(e,n)&&e[n]!==void 0&&e[n]!==null,wt=(e,n,r=l)=>h(r).eq(e,n),vt=e=>{const n={};return ie(e,r=>{n[r]={}}),Yt(n)},$t=e=>e.length!==void 0,Ze=Array.isArray,it=e=>{if(Ze(e))return e;{const n=[];for(let r=0,f=e.length;r<f;r++)n[r]=e[r];return n}},ht=(e,n,r)=>{if(!e)return!1;if(r=r||e,$t(e)){for(let f=0,w=e.length;f<w;f++)if(n.call(r,e[f],f,e)===!1)return!1}else for(const f in e)if(lt(e,f)&&n.call(r,e[f],f,e)===!1)return!1;return!0},pt=(e,n)=>{const r=[];return ht(e,(f,w)=>{r.push(n(f,w,e))}),r},Tt=(e,n)=>{const r=[];return ht(e,(f,w)=>{(!n||n(f,w,e))&&r.push(f)}),r},Et=(e,n)=>{if(e){for(let r=0,f=e.length;r<f;r++)if(e[r]===n)return r}return-1},fn=(e,n,r,f)=>{let w=N(r)?e[0]:r;for(let B=0;B<e.length;B++)w=n.call(f,w,e[B],B);return w},tn=(e,n,r)=>{for(let f=0,w=e.length;f<w;f++)if(n.call(r,e[f],f,e))return f;return-1},Zt=e=>e[e.length-1],Dt=e=>{let n=!1,r;return(...f)=>(n||(n=!0,r=e.apply(null,f)),r)},un=(e,n,r,f)=>{const w=e.isiOS()&&/ipad/i.test(r)===!0,B=e.isiOS()&&!w,Z=e.isiOS()||e.isAndroid(),oe=Z||f("(pointer:coarse)"),be=w||!B&&Z&&f("(min-device-width:768px)"),Pe=B||Z&&!be,Ke=n.isSafari()&&e.isiOS()&&/safari/i.test(r)===!1,Je=!Pe&&!be&&!Ke;return{isiPad:J(w),isiPhone:J(B),isTablet:J(be),isPhone:J(Pe),isTouch:J(oe),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:J(Ke),isDesktop:J(Je)}},Un=(e,n)=>{for(let r=0;r<e.length;r++){const f=e[r];if(f.test(n))return f}},tr=(e,n)=>{const r=Un(e,n);if(!r)return{major:0,minor:0};const f=w=>Number(n.replace(r,"$"+w));return pr(f(1),f(2))},Er=(e,n)=>{const r=String(n).toLowerCase();return e.length===0?zt():tr(e,r)},zt=()=>pr(0,0),pr=(e,n)=>({major:e,minor:n}),Gn={nu:pr,detect:Er,unknown:zt},Ir=(e,n)=>Ct(n.brands,r=>{const f=r.brand.toLowerCase();return de(e,w=>{var B;return f===((B=w.brand)===null||B===void 0?void 0:B.toLowerCase())}).map(w=>({current:w.name,version:Gn.nu(parseInt(r.version,10),0)}))}),Tr=(e,n)=>{const r=String(n).toLowerCase();return de(e,f=>f.search(r))},rr=(e,n)=>Tr(e,n).map(r=>{const f=Gn.detect(r.versionRegexes,n);return{current:r.name,version:f}}),Yr=(e,n)=>Tr(e,n).map(r=>{const f=Gn.detect(r.versionRegexes,n);return{current:r.name,version:f}}),_r=(e,n)=>e.substring(n),Ln=(e,n,r)=>n===""||e.length>=n.length&&e.substr(r,r+n.length)===n,xr=(e,n)=>wr(e,n)?_r(e,n.length):e,or=(e,n,r=0,f)=>{const w=e.indexOf(n,r);return w!==-1?N(f)?!0:w+n.length<=f:!1},wr=(e,n)=>Ln(e,n,0),ro=(e,n)=>Ln(e,n,e.length-n.length),vo=e=>n=>n.replace(e,""),Cr=vo(/^\s+|\s+$/g),He=vo(/^\s+/g),De=vo(/\s+$/g),St=e=>e.length>0,kt=e=>!St(e),Pt=(e,n)=>n<=0?"":new Array(n+1).join(e),Bt=(e,n=10)=>{const r=parseInt(e,n);return isNaN(r)?X.none():X.some(r)},Ut=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ot=e=>n=>or(n,e),_t=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>or(e,"edge/")&&or(e,"chrome")&&or(e,"safari")&&or(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ut],search:e=>or(e,"chrome")&&!or(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>or(e,"msie")||or(e,"trident")},{name:"Opera",versionRegexes:[Ut,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ot("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ot("firefox")},{name:"Safari",versionRegexes:[Ut,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(or(e,"safari")||or(e,"mobile/"))&&or(e,"applewebkit")}],qt=[{name:"Windows",search:Ot("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>or(e,"iphone")||or(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ot("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ot("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ot("linux"),versionRegexes:[]},{name:"Solaris",search:Ot("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ot("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ot("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],cn={browsers:J(_t),oses:J(qt)},Qt="Edge",nn="Chromium",Sn="IE",bn="Opera",gn="Firefox",Qn="Safari",Bn=()=>Hr({current:void 0,version:Gn.unknown()}),Hr=e=>{const n=e.current,r=e.version,f=w=>()=>n===w;return{current:n,version:r,isEdge:f(Qt),isChromium:f(nn),isIE:f(Sn),isOpera:f(bn),isFirefox:f(gn),isSafari:f(Qn)}},fr={unknown:Bn,nu:Hr,edge:J(Qt),chromium:J(nn),ie:J(Sn),opera:J(bn),firefox:J(gn),safari:J(Qn)},Vr="Windows",ar="iOS",cr="Android",Kr="Linux",qr="macOS",So="Solaris",wa="FreeBSD",bo="ChromeOS",Zo=()=>oa({current:void 0,version:Gn.unknown()}),oa=e=>{const n=e.current,r=e.version,f=w=>()=>n===w;return{current:n,version:r,isWindows:f(Vr),isiOS:f(ar),isAndroid:f(cr),isMacOS:f(qr),isLinux:f(Kr),isSolaris:f(So),isFreeBSD:f(wa),isChromeOS:f(bo)}},Va={unknown:Zo,nu:oa,windows:J(Vr),ios:J(ar),android:J(cr),linux:J(Kr),macos:J(qr),solaris:J(So),freebsd:J(wa),chromeos:J(bo)},Fa={detect:(e,n,r)=>{const f=cn.browsers(),w=cn.oses(),B=n.bind(be=>Ir(f,be)).orThunk(()=>rr(f,e)).fold(fr.unknown,fr.nu),Z=Yr(w,e).fold(Va.unknown,Va.nu),oe=un(Z,B,e,r);return{browser:B,os:Z,deviceType:oe}}},Os=e=>window.matchMedia(e).matches;let Zl=Dt(()=>Fa.detect(navigator.userAgent,X.from(navigator.userAgentData),Os));const Ys=()=>Zl(),Ec=navigator.userAgent,ks=Ys(),Wa=ks.browser,ss=ks.os,Ya=ks.deviceType,_c=Ec.indexOf("Windows Phone")!==-1,Lr={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Wa.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Wa.isIE(),windowsPhone:_c,browser:{current:Wa.current,version:Wa.version,isChromium:Wa.isChromium,isEdge:Wa.isEdge,isFirefox:Wa.isFirefox,isIE:Wa.isIE,isOpera:Wa.isOpera,isSafari:Wa.isSafari},os:{current:ss.current,version:ss.version,isAndroid:ss.isAndroid,isChromeOS:ss.isChromeOS,isFreeBSD:ss.isFreeBSD,isiOS:ss.isiOS,isLinux:ss.isLinux,isMacOS:ss.isMacOS,isSolaris:ss.isSolaris,isWindows:ss.isWindows},deviceType:{isDesktop:Ya.isDesktop,isiPad:Ya.isiPad,isiPhone:Ya.isiPhone,isPhone:Ya.isPhone,isTablet:Ya.isTablet,isTouch:Ya.isTouch,isWebView:Ya.isWebView}},jl=/^\s*|\s*$/g,Ka=e=>M(e)?"":(""+e).replace(jl,""),yi=(e,n)=>n?n==="array"&&Ze(e)?!0:typeof e===n:e!==void 0,Hf=(e,n,r={})=>{const f=C(e)?e.split(n||","):e||[];let w=f.length;for(;w--;)r[f[w]]={};return r},Xa=lt,Zc=(e,...n)=>{for(let r=0;r<n.length;r++){const f=n[r];for(const w in f)if(lt(f,w)){const B=f[w];B!==void 0&&(e[w]=B)}}return e},zf=function(e,n,r,f){f=f||this,e&&(r&&(e=e[r]),ht(e,(w,B)=>n.call(f,w,B,r)===!1?!1:(zf(w,n,r,f),!0)))},ur={trim:Ka,isArray:Ze,is:yi,toArray:it,makeMap:Hf,each:ht,map:pt,grep:Tt,inArray:Et,hasOwn:Xa,extend:Zc,walk:zf,resolve:(e,n=window)=>{const r=e.split(".");for(let f=0,w=r.length;f<w&&(n=n[r[f]],!!n);f++);return n},explode:(e,n)=>S(e)?e:e===""?[]:pt(e.split(n||","),Ka),_addCacheSuffix:e=>{const n=Lr.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},Ms=(e,n,r=ae)=>e.exists(f=>r(f,n)),li=(e,n,r=ae)=>Es(e,n,r).getOr(e.isNone()&&n.isNone()),Rs=e=>{const n=[],r=f=>{n.push(f)};for(let f=0;f<e.length;f++)e[f].each(r);return n},Es=(e,n,r)=>e.isSome()&&n.isSome()?X.some(r(e.getOrDie(),n.getOrDie())):X.none(),qi=(e,n,r,f)=>e.isSome()&&n.isSome()&&r.isSome()?X.some(f(e.getOrDie(),n.getOrDie(),r.getOrDie())):X.none(),Bo=(e,n)=>e?X.some(n):X.none(),Ks=typeof window<"u"?window:Function("return this;")(),Bs=(e,n)=>{let r=n??Ks;for(let f=0;f<e.length&&r!==void 0&&r!==null;++f)r=r[e[f]];return r},df=(e,n)=>{const r=e.split(".");return Bs(r,n)},Ls=(e,n)=>df(e,n),cu=(e,n)=>{const r=Ls(e,n);if(r==null)throw new Error(e+" not available on this browser");return r},uu=Object.getPrototypeOf,Vf=e=>cu("HTMLElement",e),Ma=e=>{const n=df("ownerDocument.defaultView",e);return _(e)&&(Vf(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(uu(e).constructor.name))},Uf=8,gc=9,al=11,wd=1,dh=3,La=e=>e.dom.nodeName.toLowerCase(),ci=e=>e.dom.nodeType,Wu=e=>n=>ci(n)===e,P2=e=>ci(e)===Uf||La(e)==="#comment",Ps=e=>sl(e)&&Ma(e.dom),sl=Wu(wd),Ei=Wu(dh),Zy=Wu(gc),Ag=Wu(al),Yc=e=>n=>sl(n)&&La(n)===e,fu=(e,n,r)=>{if(C(r)||D(r)||F(r))e.setAttribute(n,r+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple")},ws=(e,n,r)=>{fu(e.dom,n,r)},Kc=(e,n)=>{const r=e.dom;Ft(n,(f,w)=>{fu(r,w,f)})},il=(e,n)=>{const r=e.dom.getAttribute(n);return r===null?void 0:r},Yl=(e,n)=>X.from(il(e,n)),Gu=(e,n)=>{const r=e.dom;return r&&r.hasAttribute?r.hasAttribute(n):!1},Xs=(e,n)=>{e.dom.removeAttribute(n)},Zu=e=>{const n=e.dom.attributes;return n==null||n.length===0},Mg=e=>le(e.dom.attributes,(n,r)=>(n[r.name]=r.value,n),{}),Eg=(e,n)=>{const r=il(e,n);return r===void 0||r===""?[]:r.split(" ")},D0=(e,n,r)=>{const w=Eg(e,n).concat([r]);return ws(e,n,w.join(" ")),!0},Dp=(e,n,r)=>{const f=ue(Eg(e,n),w=>w!==r);return f.length>0?ws(e,n,f.join(" ")):Xs(e,n),!1},ju=e=>e.dom.classList!==void 0,_g=e=>Eg(e,"class"),Kl=(e,n)=>D0(e,"class",n),$p=(e,n)=>Dp(e,"class",n),$0=(e,n)=>Ve(_g(e),n)?$p(e,n):Kl(e,n),hh=(e,n)=>{ju(e)?e.dom.classList.add(n):Kl(e,n)},O0=e=>{(ju(e)?e.dom.classList:_g(e)).length===0&&Xs(e,"class")},mh=(e,n)=>{ju(e)?e.dom.classList.remove(n):$p(e,n),O0(e)},jy=(e,n)=>{const r=ju(e)?e.dom.classList.toggle(n):$0(e,n);return O0(e),r},Cd=(e,n)=>ju(e)&&e.dom.classList.contains(n),Yy=(e,n)=>{const f=(n||document).createElement("div");if(f.innerHTML=e,!f.hasChildNodes()||f.childNodes.length>1){const w="HTML does not have a single root node";throw console.error(w,e),new Error(w)}return gh(f.childNodes[0])},Ky=(e,n)=>{const f=(n||document).createElement(e);return gh(f)},Xy=(e,n)=>{const f=(n||document).createTextNode(e);return gh(f)},gh=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},jt={fromHtml:Yy,fromTag:Ky,fromText:Xy,fromDom:gh,fromPoint:(e,n,r)=>X.from(e.dom.elementFromPoint(n,r)).map(gh)},ph=(e,n)=>{const r=[],f=B=>(r.push(B),n(B));let w=n(e);do w=w.bind(f);while(w.isSome());return r},du=(e,n)=>{const r=e.dom;if(r.nodeType!==wd)return!1;{const f=r;if(f.matches!==void 0)return f.matches(n);if(f.msMatchesSelector!==void 0)return f.msMatchesSelector(n);if(f.webkitMatchesSelector!==void 0)return f.webkitMatchesSelector(n);if(f.mozMatchesSelector!==void 0)return f.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},Op=e=>e.nodeType!==wd&&e.nodeType!==gc&&e.nodeType!==al||e.childElementCount===0,Rg=(e,n)=>{const r=n===void 0?document:n.dom;return Op(r)?[]:Fe(r.querySelectorAll(e),jt.fromDom)},I2=(e,n)=>{const r=n===void 0?document:n.dom;return Op(r)?X.none():X.from(r.querySelector(e)).map(jt.fromDom)},Ba=(e,n)=>e.dom===n.dom,Dl=(e,n)=>{const r=e.dom,f=n.dom;return r===f?!1:r.contains(f)},hf=e=>jt.fromDom(e.dom.ownerDocument),mf=e=>Zy(e)?e:hf(e),I0=e=>jt.fromDom(mf(e).dom.documentElement),mm=e=>jt.fromDom(mf(e).dom.defaultView),Rc=e=>X.from(e.dom.parentNode).map(jt.fromDom),gm=e=>X.from(e.dom.parentElement).map(jt.fromDom),N0=(e,n)=>{const r=R(n)?n:ne;let f=e.dom;const w=[];for(;f.parentNode!==null&&f.parentNode!==void 0;){const B=f.parentNode,Z=jt.fromDom(B);if(w.push(Z),r(Z)===!0)break;f=B}return w},Jy=e=>{const n=r=>ue(r,f=>!Ba(e,f));return Rc(e).map(zi).map(n).getOr([])},hu=e=>X.from(e.dom.previousSibling).map(jt.fromDom),Lg=e=>X.from(e.dom.nextSibling).map(jt.fromDom),F0=e=>ot(ph(e,hu)),pc=e=>ph(e,Lg),zi=e=>Fe(e.dom.childNodes,jt.fromDom),Sd=(e,n)=>{const r=e.dom.childNodes;return X.from(r[n]).map(jt.fromDom)},pm=e=>Sd(e,0),Xl=e=>Sd(e,e.dom.childNodes.length-1),ll=e=>e.dom.childNodes.length,mu=e=>e.dom.hasChildNodes(),Qy=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return jt.fromDom(n)},Dg=e=>Ag(e)&&k(e.dom.host),B0=R(Element.prototype.attachShadow)&&R(Node.prototype.getRootNode),Pp=J(B0),Yu=B0?e=>jt.fromDom(e.dom.getRootNode()):mf,qy=e=>Dg(e)?e:Qy(mf(e)),_3=e=>Dg(e)?e:jt.fromDom(mf(e).dom.body),R3=e=>{const n=Yu(e);return Dg(n)?X.some(n):X.none()},N2=e=>jt.fromDom(e.dom.host),$g=e=>{if(Pp()&&k(e.target)){const n=jt.fromDom(e.target);if(sl(n)&&Ip(n)&&e.composed&&e.composedPath){const r=e.composedPath();if(r)return gt(r)}}return X.from(e.target)},Ip=e=>k(e.dom.shadowRoot),Td=e=>{const n=Ei(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const r=n.ownerDocument;return R3(jt.fromDom(n)).fold(()=>r.body.contains(n),ee(Td,N2))};var Hs=(e,n,r,f,w)=>e(r,f)?X.some(r):R(w)&&w(r)?X.none():n(r,f,w);const Js=(e,n,r)=>{let f=e.dom;const w=R(r)?r:ne;for(;f.parentNode;){f=f.parentNode;const B=jt.fromDom(f);if(n(B))return X.some(B);if(w(B))break}return X.none()},Xc=(e,n,r)=>Hs((w,B)=>B(w),Js,e,n,r),H0=(e,n)=>{const r=e.dom;return r.parentNode?eb(jt.fromDom(r.parentNode),f=>!Ba(e,f)&&n(f)):X.none()},eb=(e,n)=>{const r=w=>n(jt.fromDom(w));return de(e.dom.childNodes,r).map(jt.fromDom)},bl=(e,n)=>{const r=f=>{for(let w=0;w<f.childNodes.length;w++){const B=jt.fromDom(f.childNodes[w]);if(n(B))return X.some(B);const Z=r(f.childNodes[w]);if(Z.isSome())return Z}return X.none()};return r(e.dom)},vm=(e,n,r)=>Js(e,f=>du(f,n),r),Jl=(e,n)=>I2(n,e),Ku=(e,n,r)=>Hs((w,B)=>du(w,B),vm,e,n,r),z0=e=>Ku(e,"[contenteditable]"),Wo=(e,n=!1)=>Td(e)?e.dom.isContentEditable:z0(e).fold(J(n),r=>vc(r)==="true"),vc=e=>e.dom.contentEditable,kd=e=>e.style!==void 0&&R(e.style.getPropertyValue),vh=(e,n,r)=>{if(!C(r))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);kd(e)&&e.style.setProperty(n,r)},V0=(e,n)=>{kd(e)&&e.style.removeProperty(n)},U0=(e,n,r)=>{const f=e.dom;vh(f,n,r)},$l=(e,n)=>{const r=e.dom;Ft(n,(f,w)=>{vh(r,w,f)})},ui=(e,n)=>{const r=e.dom,w=window.getComputedStyle(r).getPropertyValue(n);return w===""&&!Td(e)?Lc(r,n):w},Lc=(e,n)=>kd(e)?e.style.getPropertyValue(n):"",_i=(e,n)=>{const r=e.dom,f=Lc(r,n);return X.from(f).filter(w=>w.length>0)},W0=e=>{const n={},r=e.dom;if(kd(r))for(let f=0;f<r.style.length;f++){const w=r.style.item(f);n[w]=r.style[w]}return n},Np=(e,n)=>{const r=e.dom;V0(r,n),Ms(Yl(e,"style").map(Cr),"")&&Xs(e,"style")},fi=e=>e.dom.offsetWidth,Ri=(e,n)=>{Rc(e).each(f=>{f.dom.insertBefore(n.dom,e.dom)})},gu=(e,n)=>{Lg(e).fold(()=>{Rc(e).each(w=>{di(w,n)})},f=>{Ri(f,n)})},yh=(e,n)=>{pm(e).fold(()=>{di(e,n)},f=>{e.dom.insertBefore(n.dom,f.dom)})},di=(e,n)=>{e.dom.appendChild(n.dom)},ym=(e,n)=>{Ri(e,n),di(n,e)},Og=(e,n)=>{ie(n,(r,f)=>{const w=f===0?e:n[f-1];gu(w,r)})},hs=(e,n)=>{ie(n,r=>{di(e,r)})},Ad=e=>{e.dom.textContent="",ie(zi(e),n=>{Ua(n)})},Ua=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Xu=e=>{const n=zi(e);n.length>0&&Og(e,n),Ua(e)},G0=(e,n)=>{const f=(n||document).createElement("div");return f.innerHTML=e,zi(jt.fromDom(f))},Pg=e=>Fe(e,jt.fromDom),aa=e=>e.dom.innerHTML,bh=(e,n)=>{const f=hf(e).dom,w=jt.fromDom(f.createDocumentFragment()),B=G0(n,f);hs(w,B),Ad(e),di(e,w)},Fp=e=>{const n=jt.fromTag("div"),r=jt.fromDom(e.dom.cloneNode(!0));return di(n,r),aa(n)},Ig=(e,n,r,f,w,B,Z)=>({target:e,x:n,y:r,stop:f,prevent:w,kill:B,raw:Z}),F2=e=>{const n=jt.fromDom($g(e).getOr(e.target)),r=()=>e.stopPropagation(),f=()=>e.preventDefault(),w=P(f,r);return Ig(n,e.clientX,e.clientY,r,f,w,e)},B2=(e,n)=>r=>{e(r)&&n(F2(r))},Z0=(e,n,r,f,w)=>{const B=B2(r,f);return e.dom.addEventListener(n,B,w),{unbind:Q(Bp,e,n,B,w)}},xh=(e,n,r,f)=>Z0(e,n,r,f,!1),Bp=(e,n,r,f)=>{e.dom.removeEventListener(n,r,f)},wh=(e,n)=>({left:e,top:n,translate:(f,w)=>wh(e+f,n+w)}),bm=wh,tb=e=>{const n=e.getBoundingClientRect();return bm(n.left,n.top)},pu=(e,n)=>e!==void 0?e:n!==void 0?n:0,nb=e=>{const n=e.dom.ownerDocument,r=n.body,f=n.defaultView,w=n.documentElement;if(r===e.dom)return bm(r.offsetLeft,r.offsetTop);const B=pu(f==null?void 0:f.pageYOffset,w.scrollTop),Z=pu(f==null?void 0:f.pageXOffset,w.scrollLeft),oe=pu(w.clientTop,r.clientTop),be=pu(w.clientLeft,r.clientLeft);return Ch(e).translate(Z-be,B-oe)},Ch=e=>{const n=e.dom,f=n.ownerDocument.body;return f===n?bm(f.offsetLeft,f.offsetTop):Td(e)?tb(n):bm(0,0)},Jc=e=>{const n=e!==void 0?e.dom:document,r=n.body.scrollLeft||n.documentElement.scrollLeft,f=n.body.scrollTop||n.documentElement.scrollTop;return bm(r,f)},Hp=(e,n,r)=>{const w=(r!==void 0?r.dom:document).defaultView;w&&w.scrollTo(e,n)},j0=(e,n)=>{Ys().browser.isSafari()&&R(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},xm=e=>{const n=e===void 0?window:e;return Ys().browser.isFirefox()?X.none():X.from(n.visualViewport)},Y0=(e,n,r,f)=>({x:e,y:n,width:r,height:f,right:e+r,bottom:n+f}),K0=e=>{const n=e===void 0?window:e,r=n.document,f=Jc(jt.fromDom(r));return xm(n).fold(()=>{const w=n.document.documentElement,B=w.clientWidth,Z=w.clientHeight;return Y0(f.left,f.top,B,Z)},w=>Y0(Math.max(w.pageLeft,f.left),Math.max(w.pageTop,f.top),w.width,w.height))},X0=(e,n)=>ue(zi(e),n),zp=(e,n)=>{let r=[];return ie(zi(e),f=>{n(f)&&(r=r.concat([f])),r=r.concat(zp(f,n))}),r},Vi=(e,n)=>Rg(n,e),Ng=(e,n,r)=>vm(e,n,r).isSome();class es{constructor(n,r){this.node=n,this.rootNode=r,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,r,f,w){if(n){if(!w&&n[r])return n[r];if(n!==this.rootNode){let B=n[f];if(B)return B;for(let Z=n.parentNode;Z&&Z!==this.rootNode;Z=Z.parentNode)if(B=Z[f],B)return B}}}findPreviousNode(n,r){if(n){const f=n.previousSibling;if(this.rootNode&&f===this.rootNode)return;if(f){if(!r){for(let B=f.lastChild;B;B=B.lastChild)if(!B.lastChild)return B}return f}const w=n.parentNode;if(w&&w!==this.rootNode)return w}}}const io=e=>n=>!!n&&n.nodeType===e,vu=e=>!!e&&!Object.getPrototypeOf(e),Gr=io(1),xl=e=>Gr(e)&&Ps(jt.fromDom(e)),H2=e=>Gr(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",Wf=e=>{const n=e.toLowerCase();return r=>k(r)&&r.nodeName.toLowerCase()===n},oi=e=>{const n=e.map(r=>r.toLowerCase());return r=>{if(r&&r.nodeName){const f=r.nodeName.toLowerCase();return Ve(n,f)}return!1}},Gf=(e,n)=>{const r=n.toLowerCase().split(" ");return f=>{if(Gr(f)){const w=f.ownerDocument.defaultView;if(w)for(let B=0;B<r.length;B++){const Z=w.getComputedStyle(f,null);if((Z?Z.getPropertyValue(e):null)===r[B])return!0}}return!1}},Fg=e=>n=>Gr(n)&&n.hasAttribute(e),Ui=(e,n)=>r=>Gr(r)&&r.getAttribute(e)===n,Ju=e=>Gr(e)&&e.hasAttribute("data-mce-bogus"),Sh=e=>Gr(e)&&e.getAttribute("data-mce-bogus")==="all",yu=e=>Gr(e)&&e.tagName==="TABLE",J0=e=>n=>!!(xl(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),Vp=oi(["textarea","input"]),ir=io(3),rb=io(4),cl=io(7),gf=io(8),wm=io(9),ns=io(11),Ja=Wf("br"),ul=Wf("img"),wl=J0("true"),fa=J0("false"),Bg=oi(["td","th"]),Wi=oi(["td","th","caption"]),zs=oi(["video","audio","object","embed"]),Hg=Wf("li"),qn=Wf("details"),yc=Wf("summary"),Cm="\uFEFF",Da=" ",Qu=e=>e===Cm,z2=e=>e.replace(/\uFEFF/g,""),Up=((e,n)=>{const r=B=>{if(!e(B))throw new Error("Can only get "+n+" value of a "+n+" node");return f(B).getOr("")},f=B=>e(B)?X.from(B.dom.nodeValue):X.none();return{get:r,getOption:f,set:(B,Z)=>{if(!e(B))throw new Error("Can only set raw "+n+" value of a "+n+" node");B.dom.nodeValue=Z}}})(Ei,"text"),Dc=e=>Up.get(e),Wp=e=>Up.getOption(e),Ol=(e,n)=>Up.set(e,n),Ia=["td","th"],$c=["thead","tbody","tfoot"],Qs=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Gi=["li","dd","dt"],Zf=["ul","ol","dl"],pf=["pre","script","textarea","style"],jf=e=>{let n;return r=>(n=n||Ge(e,fe),lt(n,La(r)))},Ql=e=>La(e)==="table",vf=e=>sl(e)&&La(e)==="br",En=jf(Qs),ql=jf(Zf),yf=jf(Gi),bf=jf($c),bc=jf(Ia),Li=jf(pf),bi=e=>{const n=[];let r=e.dom;for(;r;)n.push(jt.fromDom(r)),r=r.lastChild;return n},L3=e=>{const n=Vi(e,"br"),r=ue(bi(e).slice(-1),vf);n.length===r.length&&ie(r,Ua)},ec=()=>{const e=jt.fromTag("br");return ws(e,"data-mce-bogus","1"),e},U=e=>{Ad(e),di(e,ec())},q=(e,n)=>{Xl(e).each(r=>{hu(r).each(f=>{n.isBlock(La(e))&&vf(r)&&n.isBlock(La(f))&&Ua(r)})})},ve=Cm,Ae=Qu,_e=z2,Ie=e=>e.insertContent(ve,{preserve_zwsp:!0}),Qe=Gr,Ye=ir,rt=e=>(Ye(e)&&(e=e.parentNode),Qe(e)&&e.hasAttribute("data-mce-caret")),yt=e=>Ye(e)&&Ae(e.data),bt=e=>rt(e)||yt(e),Vt=e=>e.firstChild!==e.lastChild||!Ja(e.firstChild),Wt=(e,n)=>{var r;const w=((r=e.ownerDocument)!==null&&r!==void 0?r:document).createTextNode(ve),B=e.parentNode;if(n){const Z=e.previousSibling;if(Ye(Z)){if(bt(Z))return Z;if(dn(Z))return Z.splitText(Z.data.length-1)}B==null||B.insertBefore(w,e)}else{const Z=e.nextSibling;if(Ye(Z)){if(bt(Z))return Z;if(en(Z))return Z.splitText(1),Z}e.nextSibling?B==null||B.insertBefore(w,e.nextSibling):B==null||B.appendChild(w)}return w},mn=e=>{const n=e.container();return ir(n)?n.data.charAt(e.offset())===ve||e.isAtStart()&&yt(n.previousSibling):!1},An=e=>{const n=e.container();return ir(n)?n.data.charAt(e.offset()-1)===ve||e.isAtEnd()&&yt(n.nextSibling):!1},Kt=(e,n,r)=>{var f;const B=((f=n.ownerDocument)!==null&&f!==void 0?f:document).createElement(e);B.setAttribute("data-mce-caret",r?"before":"after"),B.setAttribute("data-mce-bogus","all"),B.appendChild(ec().dom);const Z=n.parentNode;return r?Z==null||Z.insertBefore(B,n):n.nextSibling?Z==null||Z.insertBefore(B,n.nextSibling):Z==null||Z.appendChild(B),B},en=e=>Ye(e)&&e.data[0]===ve,dn=e=>Ye(e)&&e.data[e.data.length-1]===ve,Rn=e=>{var n;const r=e.getElementsByTagName("br"),f=r[r.length-1];Ju(f)&&((n=f.parentNode)===null||n===void 0||n.removeChild(f))},Mn=e=>e&&e.hasAttribute("data-mce-caret")?(Rn(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,vn=e=>rt(e.startContainer),lr=wl,zr=fa,Jr=Ja,kr=ir,eo=oi(["script","style","textarea"]),lo=oi(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Ko=oi(["table"]),yo=bt,fo=e=>yo(e)?!1:kr(e)?!eo(e.parentNode):lo(e)||Jr(e)||Ko(e)||Vs(e),Ha=e=>Gr(e)&&e.getAttribute("unselectable")==="true",Vs=e=>!Ha(e)&&zr(e),is=(e,n)=>{for(let r=e.parentNode;r&&r!==n;r=r.parentNode){if(Vs(r))return!1;if(lr(r))return!0}return!0},$r=e=>Vs(e)?!le(tt(e.getElementsByTagName("*")),(n,r)=>n||lr(r),!1):!1,_o=e=>lo(e)||$r(e),sa=(e,n)=>fo(e)&&is(e,n),Ca=/^[ \t\r\n]*$/,As=e=>Ca.test(e),qs=e=>{for(const n of e)if(!Qu(n))return!1;return!0},Di=e=>" \f	\v".indexOf(e)!==-1,xi=e=>e===`
`||e==="\r",xc=(e,n)=>n<e.length&&n>=0?xi(e[n]):!1,Ii=(e,n=4,r=!0,f=!0)=>{const w=Pt(" ",n),B=e.replace(/\t/g,w);return le(B,(oe,be)=>Di(be)||be===Da?oe.pcIsSpace||oe.str===""&&r||oe.str.length===B.length-1&&f||xc(B,oe.str.length+1)?{pcIsSpace:!1,str:oe.str+Da}:{pcIsSpace:!0,str:oe.str+" "}:{pcIsSpace:xi(be),str:oe.str+be},{pcIsSpace:!1,str:""}).str},tc=(e,n)=>{const r=jt.fromDom(n),f=jt.fromDom(e);return Ng(f,"pre,code",Q(Ba,r))},Cl=(e,n)=>ir(e)&&As(e.data)&&!tc(e,n),Ga=e=>Gr(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),xu=(e,n)=>fo(e)&&!Cl(e,n)||Ga(e)||qu(e),qu=Fg("data-mce-bookmark"),Sl=Fg("data-mce-bogus"),wi=Ui("data-mce-bogus","all"),Tl=e=>gm(jt.fromDom(e)).exists(n=>!Wo(n)),Ci=(e,n)=>{let r=0;if(xu(e,e))return!1;{let f=e.firstChild;if(!f)return!0;const w=new es(f,e);do{if(n){if(wi(f)){f=w.next(!0);continue}if(Sl(f)){f=w.next();continue}}if(wl(f)&&Tl(f))return!1;if(Ja(f)){r++,f=w.next();continue}if(xu(f,e))return!1;f=w.next()}while(f);return r<=1}},Za=(e,n=!0)=>Ci(e.dom,n),nc=e=>e.toLowerCase()==="svg",Yf=e=>nc(e.nodeName),wu=e=>(e==null?void 0:e.nodeName)==="svg"?"svg":"html",Th=["svg"],Kf=()=>{let e=[];const n=()=>e[e.length-1];return{track:B=>{Yf(B)&&e.push(B);let Z=n();return Z&&!Z.contains(B)&&(e.pop(),Z=n()),wu(Z)},current:()=>wu(n()),reset:()=>{e=[]}}},Q0="data-mce-block",ob=e=>ue(Yt(e),n=>!/[A-Z]/.test(n)),Md=e=>Fe(ob(e),n=>`${n}:`+Fe(Th,r=>`not(${r} ${n})`).join(":")).join(","),Xf=(e,n)=>k(n.querySelector(e))?(n.setAttribute(Q0,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(Q0),!1),Cu=(e,n)=>{const r=Md(e.getTransparentElements()),f=Md(e.getBlockElements());return ue(n.querySelectorAll(r),w=>Xf(f,w))},Sm=(e,n)=>{var r;const f=n?"lastChild":"firstChild";for(let w=e[f];w;w=w[f])if(Za(jt.fromDom(w))){(r=w.parentNode)===null||r===void 0||r.removeChild(w);return}},Tm=(e,n)=>{const r=document.createRange(),f=e.parentNode;if(f){r.setStartBefore(e),r.setEndBefore(n);const w=r.extractContents();Sm(w,!0),r.setStartAfter(n),r.setEndAfter(e);const B=r.extractContents();Sm(B,!1),Za(jt.fromDom(w))||f.insertBefore(w,e),Za(jt.fromDom(n))||f.insertBefore(n,e),Za(jt.fromDom(B))||f.insertBefore(B,e),f.removeChild(e)}},D3=(e,n,r)=>{const f=e.getBlockElements(),w=jt.fromDom(n),B=oe=>La(oe)in f,Z=oe=>Ba(oe,w);ie(Pg(r),oe=>{Js(oe,B,Z).each(be=>{const Pe=X0(oe,Ke=>B(Ke)&&!e.isValidChild(La(be),La(Ke)));if(Pe.length>0){const Ke=gm(be);ie(Pe,Je=>{Js(Je,B,Z).each(at=>{Tm(at.dom,Je.dom)})}),Ke.each(Je=>Cu(e,Je.dom))}})})},ab=(e,n,r)=>{ie([...r,...pa(e,n)?[n]:[]],f=>ie(Vi(jt.fromDom(f),f.nodeName.toLowerCase()),w=>{go(e,w.dom)&&Xu(w)}))},q0=(e,n)=>{const r=Cu(e,n);D3(e,n,r),ab(e,n,r)},sb=(e,n)=>{if(t1(e,n)){const r=Md(e.getBlockElements());Xf(r,n)}},$3=(e,n,r)=>{const f=B=>Ba(B,jt.fromDom(n)),w=N0(jt.fromDom(r),f);qe(w,w.length-2).filter(sl).fold(()=>q0(e,n),B=>q0(e,B.dom))},ib=e=>e.hasAttribute(Q0),e1=(e,n)=>lt(e.getTransparentElements(),n),t1=(e,n)=>Gr(n)&&e1(e,n.nodeName),pa=(e,n)=>t1(e,n)&&ib(n),go=(e,n)=>t1(e,n)&&!ib(n),kh=(e,n)=>n.type===1&&e1(e,n.name)&&C(n.attr(Q0)),lb=Ys().browser,n1=e=>de(e,sl),BE=e=>lb.isFirefox()&&La(e)==="table"?n1(zi(e)).filter(n=>La(n)==="caption").bind(n=>n1(pc(n)).map(r=>{const f=r.dom.offsetTop,w=n.dom.offsetTop,B=n.dom.offsetHeight;return f<=w?-B:0})).getOr(0):0,V2=(e,n)=>e.children&&Ve(e.children,n),bs=(e,n,r)=>{let f=0,w=0;const B=e.ownerDocument;if(r=r||e,n){if(r===e&&n.getBoundingClientRect&&ui(jt.fromDom(e),"position")==="static"){const oe=n.getBoundingClientRect();return f=oe.left+(B.documentElement.scrollLeft||e.scrollLeft)-B.documentElement.clientLeft,w=oe.top+(B.documentElement.scrollTop||e.scrollTop)-B.documentElement.clientTop,{x:f,y:w}}let Z=n;for(;Z&&Z!==r&&Z.nodeType&&!V2(Z,r);){const oe=Z;f+=oe.offsetLeft||0,w+=oe.offsetTop||0,Z=oe.offsetParent}for(Z=n.parentNode;Z&&Z!==r&&Z.nodeType&&!V2(Z,r);)f-=Z.scrollLeft||0,w-=Z.scrollTop||0,Z=Z.parentNode;w+=BE(jt.fromDom(n))}return{x:f,y:w}},U2=(e,n={})=>{let r=0;const f={},w=jt.fromDom(e),B=mf(w),Z=ln=>{n.referrerPolicy=ln},oe=ln=>{n.contentCssCors=ln},be=ln=>{di(qy(w),ln)},Pe=ln=>{const xn=qy(w);Jl(xn,"#"+ln).each(Ua)},Ke=ln=>wn(f,ln).getOrThunk(()=>({id:"mce-u"+r++,passed:[],failed:[],count:0})),Je=ln=>new Promise((xn,yn)=>{let $n;const nr=ur._addCacheSuffix(ln),mr=Ke(nr);f[nr]=mr,mr.count++;const Nr=(Qr,ho)=>{ie(Qr,ce),mr.status=ho,mr.passed=[],mr.failed=[],$n&&($n.onload=null,$n.onerror=null,$n=null)},zn=()=>Nr(mr.passed,2),Nn=()=>Nr(mr.failed,3);if(xn&&mr.passed.push(xn),yn&&mr.failed.push(yn),mr.status===1)return;if(mr.status===2){zn();return}if(mr.status===3){Nn();return}mr.status=1;const er=jt.fromTag("link",B.dom);Kc(er,{rel:"stylesheet",type:"text/css",id:mr.id}),n.contentCssCors&&ws(er,"crossOrigin","anonymous"),n.referrerPolicy&&ws(er,"referrerpolicy",n.referrerPolicy),$n=er.dom,$n.onload=zn,$n.onerror=Nn,be(er),ws(er,"href",nr)}),at=(ln,xn)=>{const yn=Ke(ln);f[ln]=yn,yn.count++;const $n=jt.fromTag("style",B.dom);Kc($n,{rel:"stylesheet",type:"text/css",id:yn.id}),$n.dom.innerHTML=xn,be($n)},Rt=ln=>Promise.allSettled(Fe(ln,yn=>Je(yn).then(J(yn)))).then(yn=>{const $n=se(yn,nr=>nr.status==="fulfilled");return $n.fail.length>0?Promise.reject(Fe($n.fail,nr=>nr.reason)):Fe($n.pass,nr=>nr.value)}),Ht=ln=>{const xn=ur._addCacheSuffix(ln);wn(f,xn).each(yn=>{--yn.count===0&&(delete f[xn],Pe(yn.id))})};return{load:Je,loadRawCss:at,loadAll:Rt,unload:Ht,unloadRawCss:ln=>{wn(f,ln).each(xn=>{--xn.count===0&&(delete f[ln],Pe(xn.id))})},unloadAll:ln=>{ie(ln,xn=>{Ht(xn)})},_setReferrerPolicy:Z,_setContentCssCors:oe}},G2=(()=>{const e=new WeakMap;return{forElement:(r,f)=>{const B=Yu(r).dom;return X.from(e.get(B)).getOrThunk(()=>{const Z=U2(B,f);return e.set(B,Z),Z})}}})(),Xn=e=>e.nodeName.toLowerCase()==="span",cb=(e,n,r)=>k(e)&&(xu(e,n)||r.isInline(e.nodeName.toLowerCase())),HE=(e,n,r)=>{const f=new es(e,n).prev(!1),w=new es(e,n).next(!1),B=N(f)||cb(f,n,r),Z=N(w)||cb(w,n,r);return B&&Z},r1=e=>Xn(e)&&e.getAttribute("data-mce-type")==="bookmark",zE=(e,n,r)=>ir(e)&&e.data.length>0&&HE(e,n,r),Gp=e=>Gr(e)?e.childNodes.length>0:!1,Z2=e=>ns(e)||wm(e),Ah=(e,n,r,f)=>{var w;const B=f||n;if(Gr(n)&&r1(n))return n;const Z=n.childNodes;for(let oe=Z.length-1;oe>=0;oe--)Ah(e,Z[oe],r,B);if(Gr(n)){const oe=n.childNodes;oe.length===1&&r1(oe[0])&&((w=n.parentNode)===null||w===void 0||w.insertBefore(oe[0],n))}return!Z2(n)&&!xu(n,B)&&!Gp(n)&&!zE(n,B,r)&&e.remove(n),n},VE=ur.makeMap,Ed=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ms=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_d=/[<>&\"\']/g,j2=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,xf={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Mh={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Y2={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},zg=e=>{const n=jt.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},O3=(e,n)=>{const r={};if(e){const f=e.split(",");n=n||10;for(let w=0;w<f.length;w+=2){const B=String.fromCharCode(parseInt(f[w],n));if(!Mh[B]){const Z="&"+f[w+1]+";";r[B]=Z,r[Z]=B}}return r}else return},ub=O3("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),K2=(e,n)=>e.replace(n?Ed:ms,r=>Mh[r]||r),UE=e=>(""+e).replace(_d,n=>Mh[n]||n),X2=(e,n)=>e.replace(n?Ed:ms,r=>r.length>1?"&#"+((r.charCodeAt(0)-55296)*1024+(r.charCodeAt(1)-56320)+65536)+";":Mh[r]||"&#"+r.charCodeAt(0)+";"),Rd=(e,n,r)=>{const f=r||ub;return e.replace(n?Ed:ms,w=>Mh[w]||f[w]||w)},km={encodeRaw:K2,encodeAllRaw:UE,encodeNumeric:X2,encodeNamed:Rd,getEncodeFunc:(e,n)=>{const r=O3(n)||ub,f=(Z,oe)=>Z.replace(oe?Ed:ms,be=>Mh[be]!==void 0?Mh[be]:r[be]!==void 0?r[be]:be.length>1?"&#"+((be.charCodeAt(0)-55296)*1024+(be.charCodeAt(1)-56320)+65536)+";":"&#"+be.charCodeAt(0)+";"),w=(Z,oe)=>Rd(Z,oe,r),B=VE(e.replace(/\+/g,","));return B.named&&B.numeric?f:B.named?n?w:Rd:B.numeric?X2:K2},decode:e=>e.replace(j2,(n,r)=>r?(r.charAt(0).toLowerCase()==="x"?r=parseInt(r.substr(1),16):r=parseInt(r,10),r>65535?(r-=65536,String.fromCharCode(55296+(r>>10),56320+(r&1023))):xf[r]||String.fromCharCode(r)):Y2[n]||ub[n]||zg(n))},kl=(e,n)=>(e=ur.trim(e),e?e.split(n||" "):[]),Xr=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),WE=e=>{const n=/^(~)?(.+)$/;return ze(kl(e,","),r=>{const f=n.exec(r);if(f){const w=f[1]==="~",B=w?"span":"div",Z=f[2];return[{inline:w,cloneName:B,name:Z}]}else return[]})},Q2=e=>{let n,r,f;if(n="id accesskey class dir lang style tabindex title role",r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",f="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const B="a ins del canvas map";n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",r+=" article aside details dialog figure main header footer hgroup section nav "+B,f+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen svg"}e!=="html5-strict"&&(n+=" xml:lang",f=[f,"acronym applet basefont big font strike tt"].join(" "),r=[r,"center dir isindex noframes"].join(" "));const w=[r,f].join(" ");return{globalAttributes:n,blockContent:r,phrasingContent:f,flowContent:w}},GE=e=>{const{globalAttributes:n,phrasingContent:r,flowContent:f}=Q2(e),w={},B=(be,Pe,Ke)=>{w[be]={attributes:Ge(Pe,J({})),attributesOrder:Pe,children:Ge(Ke,J({}))}},Z=(be,Pe="",Ke="")=>{const Je=kl(Ke),at=kl(be);let Rt=at.length;const Ht=kl([n,Pe].join(" "));for(;Rt--;)B(at[Rt],Ht.slice(),Je)},oe=(be,Pe)=>{const Ke=kl(be),Je=kl(Pe);let at=Ke.length;for(;at--;){const Rt=w[Ke[at]];for(let Ht=0,At=Je.length;Ht<At;Ht++)Rt.attributes[Je[Ht]]={},Rt.attributesOrder.push(Je[Ht])}};return e!=="html5-strict"&&(ie(kl("acronym applet basefont big font strike tt"),Ke=>{Z(Ke,"",r)}),ie(kl("center dir isindex noframes"),Ke=>{Z(Ke,"",f)})),Z("html","manifest","head body"),Z("head","","base command link meta noscript script style title"),Z("title hr noscript br"),Z("base","href target"),Z("link","href rel media hreflang type sizes hreflang"),Z("meta","name http-equiv content charset"),Z("style","media type scoped"),Z("script","src async defer type charset"),Z("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",f),Z("dd div","",f),Z("address dt caption","",e==="html4"?r:f),Z("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),Z("blockquote","cite",f),Z("ol","reversed start type","li"),Z("ul","","li"),Z("li","value",f),Z("dl","","dt dd"),Z("a","href target rel media hreflang type",e==="html4"?r:f),Z("q","cite",r),Z("ins del","cite datetime",f),Z("img","src sizes srcset alt usemap ismap width height"),Z("iframe","src name width height",f),Z("embed","src type width height"),Z("object","data type typemustmatch name usemap form width height",[f,"param"].join(" ")),Z("param","name value"),Z("map","name",[f,"area"].join(" ")),Z("area","alt coords shape href target rel media hreflang type"),Z("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),Z("colgroup","span","col"),Z("col","span"),Z("tbody thead tfoot","","tr"),Z("tr","","td th"),Z("td","colspan rowspan headers",f),Z("th","colspan rowspan headers scope abbr",f),Z("form","accept-charset action autocomplete enctype method name novalidate target",f),Z("fieldset","disabled form name",[f,"legend"].join(" ")),Z("label","form for",r),Z("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),Z("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?f:r),Z("select","disabled form multiple name required size","option optgroup"),Z("optgroup","disabled label","option"),Z("option","disabled label selected value"),Z("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),Z("menu","type label",[f,"li"].join(" ")),Z("noscript","",f),e!=="html4"&&(Z("wbr"),Z("ruby","",[r,"rt rp"].join(" ")),Z("figcaption","",f),Z("mark rt rp bdi","",r),Z("summary","",[r,"h1 h2 h3 h4 h5 h6"].join(" ")),Z("canvas","width height",f),Z("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[f,"track source"].join(" ")),Z("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[f,"track source"].join(" ")),Z("picture","","img source"),Z("source","src srcset type media sizes"),Z("track","kind src srclang label default"),Z("datalist","",[r,"option"].join(" ")),Z("article section nav aside main header footer","",f),Z("hgroup","","h1 h2 h3 h4 h5 h6"),Z("figure","",[f,"figcaption"].join(" ")),Z("time","datetime",r),Z("dialog","open",f),Z("command","type label icon disabled checked radiogroup command"),Z("output","for form name",r),Z("progress","value max",r),Z("meter","value min max low high optimum",r),Z("details","open",[f,"summary"].join(" ")),Z("keygen","autofocus challenge disabled form keytype name"),B("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(oe("script","language xml:space"),oe("style","xml:space"),oe("object","declare classid code codebase codetype archive standby align border hspace vspace"),oe("embed","align name hspace vspace"),oe("param","valuetype type"),oe("a","charset name rev shape coords"),oe("br","clear"),oe("applet","codebase archive code object alt name width height align hspace vspace"),oe("img","name longdesc align border hspace vspace"),oe("iframe","longdesc frameborder marginwidth marginheight scrolling align"),oe("font basefont","size color face"),oe("input","usemap align"),oe("select"),oe("textarea"),oe("h1 h2 h3 h4 h5 h6 div p legend caption","align"),oe("ul","type compact"),oe("li","type"),oe("ol dl menu dir","compact"),oe("pre","width xml:space"),oe("hr","align noshade size width"),oe("isindex","prompt"),oe("table","summary width frame rules cellspacing cellpadding align bgcolor"),oe("col","width align char charoff valign"),oe("colgroup","width align char charoff valign"),oe("thead","align char charoff valign"),oe("tr","align char charoff valign bgcolor"),oe("th","axis align char charoff valign nowrap bgcolor width height"),oe("form","accept"),oe("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),oe("tfoot","align char charoff valign"),oe("tbody","align char charoff valign"),oe("area","nohref"),oe("body","background bgcolor text link vlink alink")),e!=="html4"&&(oe("input button select textarea","autofocus"),oe("input textarea","placeholder"),oe("a","download"),oe("link script img","crossorigin"),oe("img","loading"),oe("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&ie([w.video,w.audio],be=>{delete be.children.audio,delete be.children.video}),ie(kl("a form meter progress dfn"),be=>{w[be]&&delete w[be].children[be]}),delete w.caption.children.table,delete w.script,w},P3=e=>e==="-"?"remove":"add",Vg=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return ze(kl(e,","),r=>{const f=n.exec(r);if(f){const w=f[1],B=w?P3(w):"replace",Z=f[2],oe=kl(f[3],"|");return[{operation:B,name:Z,validChildren:oe}]}else return[]})},Zp=(e,n)=>{const r=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,f=/[*?+]/,{attributes:w,attributesOrder:B}=n;return ie(kl(e,"|"),Z=>{const oe=r.exec(Z);if(oe){const be={},Pe=oe[1],Ke=oe[2].replace(/[\\:]:/g,":"),Je=oe[3],at=oe[4];if(Pe==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(Ke),be.required=!0),Pe==="-"){delete w[Ke],B.splice(ur.inArray(B,Ke),1);return}if(Je&&(Je==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:Ke,value:at}),be.defaultValue=at):Je==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:Ke,value:at}),be.forcedValue=at):Je==="<"&&(be.validValues=ur.makeMap(at,"?"))),f.test(Ke)){const Rt=be;n.attributePatterns=n.attributePatterns||[],Rt.pattern=Xr(Ke),n.attributePatterns.push(Rt)}else w[Ke]||B.push(Ke),w[Ke]=be}})},o1=(e,n)=>{Ft(e.attributes,(r,f)=>{n.attributes[f]=r}),n.attributesOrder.push(...e.attributesOrder)},jp=(e,n)=>{const r=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return ze(kl(n,","),f=>{const w=r.exec(f);if(w){const B=w[1],Z=w[2],oe=w[3],be=w[4],Pe=w[5],Ke={attributes:{},attributesOrder:[]};if(e.each(Je=>o1(Je,Ke)),B==="#"?Ke.paddEmpty=!0:B==="-"&&(Ke.removeEmpty=!0),be==="!"&&(Ke.removeEmptyAttrs=!0),Pe&&Zp(Pe,Ke),oe&&(Ke.outputName=Z),Z==="@")if(e.isNone())e=X.some(Ke);else return[];return[oe?{name:Z,element:Ke,aliasName:oe}:{name:Z,element:Ke}]}else return[]})},fb={},Eh=ur.makeMap,Jf=ur.each,a1=ur.extend,ef=ur.explode,db=(e,n={})=>{const r=Eh(e," ",Eh(e.toUpperCase()," "));return a1(r,n)},I3=e=>db("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),Yp=(e,n)=>{if(e){const r={};return C(e)&&(e={"*":e}),Jf(e,(f,w)=>{r[w]=r[w.toUpperCase()]=n==="map"?Eh(f,/[, ]/):ef(f,/[, ]/)}),r}else return},_h=(e={})=>{var n;const r={},f={};let w=[];const B={},Z={},oe=(zo,Oa,vs)=>{const Gs=e[zo];if(Gs)return Eh(Gs,/[, ]/,Eh(Gs.toUpperCase(),/[, ]/));{let $s=fb[zo];return $s||($s=db(Oa,vs),fb[zo]=$s),$s}},be=(n=e.schema)!==null&&n!==void 0?n:"html5",Pe=GE(be);e.verify_html===!1&&(e.valid_elements="*[*]");const Ke=Yp(e.valid_styles),Je=Yp(e.invalid_styles,"map"),at=Yp(e.valid_classes,"map"),Rt=oe("whitespace_elements","pre script noscript style textarea video audio iframe object code"),Ht=oe("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),At=oe("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),It=oe("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),ln="td th iframe video audio object script code",xn=oe("non_empty_elements",ln+" pre svg",At),yn=oe("move_caret_before_on_enter_elements",ln+" table",At),$n="h1 h2 h3 h4 h5 h6",nr=oe("text_block_elements",$n+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),mr=oe("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",nr),Nr=oe("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),zn=oe("transparent_elements","a ins del canvas map"),Nn=oe("wrap_block_elements","pre "+$n);Jf("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),zo=>{Z[zo]=new RegExp("</"+zo+"[^>]*>","gi")});const er=zo=>{const Oa=X.from(r["@"]),vs=/[*?+]/;ie(jp(Oa,zo??""),({name:Gs,element:$s,aliasName:Iu})=>{if(Iu&&(r[Iu]=$s),vs.test(Gs)){const nh=$s;nh.pattern=Xr(Gs),w.push(nh)}else r[Gs]=$s})},Qr=zo=>{w=[],ie(Yt(r),Oa=>{delete r[Oa]}),er(zo)},ho=zo=>{delete fb.text_block_elements,delete fb.block_elements,ie(WE(zo??""),({inline:Oa,name:vs,cloneName:Gs})=>{if(f[vs]=f[Gs],B[vs]=Gs,xn[vs.toUpperCase()]={},xn[vs]={},Oa||(mr[vs.toUpperCase()]={},mr[vs]={}),!r[vs]){let $s=r[Gs];$s=a1({},$s),delete $s.removeEmptyAttrs,delete $s.removeEmpty,r[vs]=$s}Ft(f,($s,Iu)=>{$s[Gs]&&(f[Iu]=$s=a1({},f[Iu]),$s[vs]=$s[Gs])})})},na=zo=>{ie(Vg(zo??""),({operation:Oa,name:vs,validChildren:Gs})=>{const $s=Oa==="replace"?{"#comment":{}}:f[vs];ie(Gs,Iu=>{Oa==="remove"?delete $s[Iu]:$s[Iu]={}}),f[vs]=$s})},ca=zo=>{const Oa=r[zo];if(Oa)return Oa;let vs=w.length;for(;vs--;){const Gs=w[vs];if(Gs.pattern.test(zo))return Gs}};e.valid_elements?(Qr(e.valid_elements),Jf(Pe,(zo,Oa)=>{f[Oa]=zo.children})):(Jf(Pe,(zo,Oa)=>{r[Oa]={attributes:zo.attributes,attributesOrder:zo.attributesOrder},f[Oa]=zo.children}),Jf(kl("strong/b em/i"),zo=>{const Oa=kl(zo,"/");r[Oa[1]].outputName=Oa[0]}),Jf(Nr,(zo,Oa)=>{r[Oa]&&(e.padd_empty_block_inline_children&&(r[Oa].paddInEmptyBlock=!0),r[Oa].removeEmpty=!0)}),Jf(kl("ol ul blockquote a table tbody"),zo=>{r[zo]&&(r[zo].removeEmpty=!0)}),Jf(kl("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),zo=>{r[zo]&&(r[zo].paddEmpty=!0)}),Jf(kl("span"),zo=>{r[zo].removeEmptyAttrs=!0})),delete r.svg,ho(e.custom_elements),na(e.valid_children),er(e.extended_valid_elements),na("+ol[ul|ol],+ul[ul|ol]"),Jf({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(zo,Oa)=>{r[Oa]&&(r[Oa].parentsRequired=kl(zo))}),e.invalid_elements&&Jf(ef(e.invalid_elements),zo=>{r[zo]&&delete r[zo]}),ca("span")||er("span[!data-mce-type|*]");const os=J(Ke),ka=J(Je),ei=J(at),zl=J(It),as=J(mr),Sr=J(nr),so=J(Nr),$a=J(Object.seal(At)),ha=J(Ht),to=J(xn),Lo=J(yn),vr=J(Rt),Oo=J(zn),Aa=J(Nn),ps=J(Object.seal(Z)),us=(zo,Oa)=>{const vs=f[zo.toLowerCase()];return!!(vs&&vs[Oa.toLowerCase()])},ml=(zo,Oa)=>{const vs=ca(zo);if(vs)if(Oa){if(vs.attributes[Oa])return!0;const Gs=vs.attributePatterns;if(Gs){let $s=Gs.length;for(;$s--;)if(Gs[$s].pattern.test(Oa))return!0}}else return!0;return!1},th=zo=>lt(as(),zo),cf=zo=>ml(zo)&&!th(zo),iu=zo=>lt(Aa(),zo)||cf(zo),pd=J(B);return{type:be,children:f,elements:r,getValidStyles:os,getValidClasses:ei,getBlockElements:as,getInvalidStyles:ka,getVoidElements:$a,getTextBlockElements:Sr,getTextInlineElements:so,getBoolAttrs:zl,getElementRule:ca,getSelfClosingElements:ha,getNonEmptyElements:to,getMoveCaretBeforeOnEnterElements:Lo,getWhitespaceElements:vr,getTransparentElements:Oo,getSpecialElements:ps,isValidChild:us,isValid:ml,isBlock:th,isInline:cf,isWrapper:iu,getCustomElements:pd,addValidElements:er,setValidElements:Qr,addCustomElements:ho,addValidChildren:na}},ZE=e=>({value:Kp(e)}),Kp=e=>xr(e,"#").toUpperCase(),Ug=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},wf=e=>{const n=Ug(e.red)+Ug(e.green)+Ug(e.blue);return ZE(n)},Qc=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,jE=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,N3=(e,n,r,f)=>({red:e,green:n,blue:r,alpha:f}),F3=(e,n,r,f)=>{const w=parseInt(e,10),B=parseInt(n,10),Z=parseInt(r,10),oe=parseFloat(f);return N3(w,B,Z,oe)},q2=e=>{if(e==="transparent")return X.some(N3(0,0,0,0));const n=Qc.exec(e);if(n!==null)return X.some(F3(n[1],n[2],n[3],"1"));const r=jE.exec(e);return r!==null?X.some(F3(r[1],r[2],r[3],r[4])):X.none()},qc=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Xp=e=>q2(e).map(wf).map(n=>"#"+n.value).getOr(e),hb=(e={},n)=>{const r=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,f=/\s*([^:]+):\s*([^;]+);?/g,w=/\s+$/,B={};let Z,oe;const be=Cm;n&&(Z=n.getValidStyles(),oe=n.getInvalidStyles());const Pe=(`\\" \\' \\; \\: ; : `+be).split(" ");for(let Je=0;Je<Pe.length;Je++)B[Pe[Je]]=be+Je,B[be+Je]=Pe[Je];const Ke={parse:Je=>{const at={};let Rt=!1;const Ht=e.url_converter,At=e.url_converter_scope||Ke,It=(zn,Nn,er)=>{const Qr=at[zn+"-top"+Nn];if(!Qr)return;const ho=at[zn+"-right"+Nn];if(!ho)return;const na=at[zn+"-bottom"+Nn];if(!na)return;const ca=at[zn+"-left"+Nn];if(!ca)return;const os=[Qr,ho,na,ca];let ka=os.length-1;for(;ka--&&os[ka]===os[ka+1];);ka>-1&&er||(at[zn+Nn]=ka===-1?os[0]:os.join(" "),delete at[zn+"-top"+Nn],delete at[zn+"-right"+Nn],delete at[zn+"-bottom"+Nn],delete at[zn+"-left"+Nn])},ln=zn=>{const Nn=at[zn];if(!Nn)return;const er=Nn.indexOf(",")>-1?[Nn]:Nn.split(" ");let Qr=er.length;for(;Qr--;)if(er[Qr]!==er[0])return!1;return at[zn]=er[0],!0},xn=(zn,Nn,er,Qr)=>{ln(Nn)&&ln(er)&&ln(Qr)&&(at[zn]=at[Nn]+" "+at[er]+" "+at[Qr],delete at[Nn],delete at[er],delete at[Qr])},yn=zn=>(Rt=!0,B[zn]),$n=(zn,Nn)=>(Rt&&(zn=zn.replace(/\uFEFF[0-9]/g,er=>B[er])),Nn||(zn=zn.replace(/\\([\'\";:])/g,"$1")),zn),nr=zn=>String.fromCharCode(parseInt(zn.slice(1),16)),mr=zn=>zn.replace(/\\[0-9a-f]+/gi,nr),Nr=(zn,Nn,er,Qr,ho,na)=>{if(ho=ho||na,ho)return ho=$n(ho),"'"+ho.replace(/\'/g,"\\'")+"'";if(Nn=$n(Nn||er||Qr||""),!e.allow_script_urls){const ca=Nn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(ca)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(ca))return""}return Ht&&(Nn=Ht.call(At,Nn,"style")),"url('"+Nn.replace(/\'/g,"\\'")+"')"};if(Je){Je=Je.replace(/[\u0000-\u001F]/g,""),Je=Je.replace(/\\[\"\';:\uFEFF]/g,yn).replace(/\"[^\"]+\"|\'[^\']+\'/g,Nn=>Nn.replace(/[;:]/g,yn));let zn;for(;zn=f.exec(Je);){f.lastIndex=zn.index+zn[0].length;let Nn=zn[1].replace(w,"").toLowerCase(),er=zn[2].replace(w,"");if(Nn&&er){if(Nn=mr(Nn),er=mr(er),Nn.indexOf(be)!==-1||Nn.indexOf('"')!==-1||!e.allow_script_urls&&(Nn==="behavior"||/expression\s*\(|\/\*|\*\//.test(er)))continue;Nn==="font-weight"&&er==="700"?er="bold":(Nn==="color"||Nn==="background-color")&&(er=er.toLowerCase()),C(e.force_hex_color)&&e.force_hex_color!=="off"&&q2(er).each(Qr=>{(e.force_hex_color==="always"||Qr.alpha===1)&&(er=Xp(qc(Qr)))}),er=er.replace(r,Nr),at[Nn]=Rt?$n(er,!0):er}}It("border","",!0),It("border","-width"),It("border","-color"),It("border","-style"),It("padding",""),It("margin",""),xn("border","border-width","border-style","border-color"),at.border==="medium none"&&delete at.border,at["border-image"]==="none"&&delete at["border-image"]}return at},serialize:(Je,at)=>{let Rt="";const Ht=(It,ln)=>{const xn=ln[It];if(xn)for(let yn=0,$n=xn.length;yn<$n;yn++){const nr=xn[yn],mr=Je[nr];mr&&(Rt+=(Rt.length>0?" ":"")+nr+": "+mr+";")}},At=(It,ln)=>{if(!oe||!ln)return!0;let xn=oe["*"];return xn&&xn[It]?!1:(xn=oe[ln],!(xn&&xn[It]))};return at&&Z?(Ht("*",Z),Ht(at,Z)):Ft(Je,(It,ln)=>{It&&At(ln,at)&&(Rt+=(Rt.length>0?" ":"")+ln+": "+It+";")}),Rt}};return Ke},mb={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},YE=e=>e instanceof Event||R(e.initEvent),B3=e=>e.isDefaultPrevented===fe||e.isDefaultPrevented===ne,ew=e=>M(e.preventDefault)||YE(e),Jp=(e,n)=>{const r=n??{};for(const f in e)lt(mb,f)||(r[f]=e[f]);return k(e.composedPath)&&(r.composedPath=()=>e.composedPath()),k(e.getModifierState)&&(r.getModifierState=f=>e.getModifierState(f)),k(e.getTargetRanges)&&(r.getTargetRanges=()=>e.getTargetRanges()),r},Qp=(e,n,r,f)=>{var w;const B=Jp(n,f);return B.type=e,M(B.target)&&(B.target=(w=B.srcElement)!==null&&w!==void 0?w:r),ew(n)&&(B.preventDefault=()=>{B.defaultPrevented=!0,B.isDefaultPrevented=fe,R(n.preventDefault)&&n.preventDefault()},B.stopPropagation=()=>{B.cancelBubble=!0,B.isPropagationStopped=fe,R(n.stopPropagation)&&n.stopPropagation()},B.stopImmediatePropagation=()=>{B.isImmediatePropagationStopped=fe,B.stopPropagation()},B3(B)||(B.isDefaultPrevented=B.defaultPrevented===!0?fe:ne,B.isPropagationStopped=B.cancelBubble===!0?fe:ne,B.isImmediatePropagationStopped=ne)),B},gb="mce-data-",KE=/^(?:mouse|contextmenu)|click/,pb=(e,n,r,f)=>{e.addEventListener(n,r,f||!1)},qp=(e,n,r,f)=>{e.removeEventListener(n,r,f||!1)},XE=e=>k(e)&&KE.test(e.type),s1=(e,n)=>{const r=Qp(e.type,e,document,n);if(XE(e)&&N(e.pageX)&&!N(e.clientX)){const f=r.target.ownerDocument||document,w=f.documentElement,B=f.body,Z=r;Z.pageX=e.clientX+(w&&w.scrollLeft||B&&B.scrollLeft||0)-(w&&w.clientLeft||B&&B.clientLeft||0),Z.pageY=e.clientY+(w&&w.scrollTop||B&&B.scrollTop||0)-(w&&w.clientTop||B&&B.clientTop||0)}return r},tw=(e,n,r)=>{const f=e.document,w={type:"ready"};if(r.domLoaded){n(w);return}const B=()=>f.readyState==="complete"||f.readyState==="interactive"&&f.body,Z=()=>{qp(e,"DOMContentLoaded",Z),qp(e,"load",Z),r.domLoaded||(r.domLoaded=!0,n(w)),e=null};B()?Z():pb(e,"DOMContentLoaded",Z),r.domLoaded||pb(e,"load",Z)};class eu{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=gb+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,r,f,w){const B=this;let Z;const oe=window,be=at=>{B.executeHandlers(s1(at||oe.event),Pe)};if(!n||ir(n)||gf(n))return f;let Pe;n[B.expando]?Pe=n[B.expando]:(Pe=B.count++,n[B.expando]=Pe,B.events[Pe]={}),w=w||n;const Ke=r.split(" ");let Je=Ke.length;for(;Je--;){let at=Ke[Je],Rt=be,Ht=!1,At=!1;if(at==="DOMContentLoaded"&&(at="ready"),B.domLoaded&&at==="ready"&&n.readyState==="complete"){f.call(w,s1({type:at}));continue}!B.hasFocusIn&&(at==="focusin"||at==="focusout")&&(Ht=!0,At=at==="focusin"?"focus":"blur",Rt=It=>{const ln=s1(It||oe.event);ln.type=ln.type==="focus"?"focusin":"focusout",B.executeHandlers(ln,Pe)}),Z=B.events[Pe][at],Z?at==="ready"&&B.domLoaded?f(s1({type:at})):Z.push({func:f,scope:w}):(B.events[Pe][at]=Z=[{func:f,scope:w}],Z.fakeName=At,Z.capture=Ht,Z.nativeHandler=Rt,at==="ready"?tw(n,Rt,B):pb(n,At||at,Rt,Ht))}return n=Z=null,f}unbind(n,r,f){if(!n||ir(n)||gf(n))return this;const w=n[this.expando];if(w){let B=this.events[w];if(r){const Z=r.split(" ");let oe=Z.length;for(;oe--;){const be=Z[oe],Pe=B[be];if(Pe){if(f){let Ke=Pe.length;for(;Ke--;)if(Pe[Ke].func===f){const Je=Pe.nativeHandler,at=Pe.fakeName,Rt=Pe.capture,Ht=Pe.slice(0,Ke).concat(Pe.slice(Ke+1));Ht.nativeHandler=Je,Ht.fakeName=at,Ht.capture=Rt,B[be]=Ht}}(!f||Pe.length===0)&&(delete B[be],qp(n,Pe.fakeName||be,Pe.nativeHandler,Pe.capture))}}}else Ft(B,(Z,oe)=>{qp(n,Z.fakeName||oe,Z.nativeHandler,Z.capture)}),B={};for(const Z in B)if(lt(B,Z))return this;delete this.events[w];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,r,f){return this.dispatch(n,r,f)}dispatch(n,r,f){if(!n||ir(n)||gf(n))return this;const w=s1({type:r,target:n},f);do{const B=n[this.expando];B&&this.executeHandlers(w,B),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!w.isPropagationStopped());return this}clean(n){if(!n||ir(n)||gf(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const r=n.getElementsByTagName("*");let f=r.length;for(;f--;)n=r[f],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,r){const f=this.events[r],w=f&&f[n.type];if(w)for(let B=0,Z=w.length;B<Z;B++){const oe=w[B];if(oe&&oe.func.call(oe.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}eu.Event=new eu;const vb=ur.each,H3=ur.grep,yb="data-mce-style",n$=ur.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),bb=(e,n,r)=>{M(r)||r===""?Xs(e,n):ws(e,n,r)},Am=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),Ld=(e,n)=>{let r=0;if(e)for(let f=e.nodeType,w=e.previousSibling;w;w=w.previousSibling){const B=w.nodeType;n&&ir(w)&&(B===f||!w.data.length)||(r++,f=B)}return r},nw=(e,n)=>{const r=il(n,"style"),f=e.serialize(e.parse(r),La(n));bb(n,yb,f)},ev=(e,n)=>F(e)?lt(n$,n)?e+"":e+"px":e,xb=(e,n,r)=>{const f=Am(n);M(r)||r===""?Np(e,f):U0(e,f,ev(r,f))},z3=(e,n,r)=>{const f=n.keep_values,w={set:(Z,oe,be)=>{const Pe=jt.fromDom(Z);R(n.url_converter)&&k(oe)&&(oe=n.url_converter.call(n.url_converter_scope||r(),String(oe),be,Z));const Ke="data-mce-"+be;bb(Pe,Ke,oe),bb(Pe,be,oe)},get:(Z,oe)=>{const be=jt.fromDom(Z);return il(be,"data-mce-"+oe)||il(be,oe)}},B={style:{set:(Z,oe)=>{const be=jt.fromDom(Z);f&&bb(be,yb,oe),Xs(be,"style"),C(oe)&&$l(be,e.parse(oe))},get:Z=>{const oe=jt.fromDom(Z),be=il(oe,yb)||il(oe,"style");return e.serialize(e.parse(be),La(oe))}}};return f&&(B.href=B.src=w),B},Cs=(e,n={})=>{const r={},f=window,w={};let B=0;const Z=!0,oe=!0,be=G2.forElement(jt.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),Pe=[],Ke=n.schema?n.schema:_h({}),Je=hb({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope,force_hex_color:n.force_hex_color},n.schema),at=n.ownEvents?new eu:eu.Event,Rt=Ke.getBlockElements(),Ht=On=>C(On)?lt(Rt,On):Gr(On)&&(lt(Rt,On.nodeName)||pa(Ke,On)),At=On=>On&&e&&C(On)?e.getElementById(On):On,It=On=>{const Pn=At(On);return k(Pn)?jt.fromDom(Pn):null},ln=(On,Pn,yr="")=>{let dr;const uo=It(On);if(k(uo)&&sl(uo)){const ua=v2[Pn];ua&&ua.get?dr=ua.get(uo.dom,Pn):dr=il(uo,Pn)}return k(dr)?dr:yr},xn=On=>{const Pn=At(On);return M(Pn)?[]:Pn.attributes},yn=(On,Pn,yr)=>{so(On,dr=>{if(Gr(dr)){const uo=jt.fromDom(dr),ua=yr===""?null:yr,Fs=il(uo,Pn),Nu=v2[Pn];Nu&&Nu.set?Nu.set(uo.dom,ua,Pn):bb(uo,Pn,ua),Fs!==ua&&n.onSetAttrib&&n.onSetAttrib({attrElm:uo.dom,attrName:Pn,attrValue:ua})}})},$n=(On,Pn)=>On.cloneNode(Pn),nr=()=>n.root_element||e.body,mr=On=>{const Pn=K0(On);return{x:Pn.x,y:Pn.y,w:Pn.width,h:Pn.height}},Nr=(On,Pn)=>bs(e.body,At(On),Pn),zn=(On,Pn,yr)=>{so(On,dr=>{const uo=jt.fromDom(dr);xb(uo,Pn,yr),n.update_styles&&nw(Je,uo)})},Nn=(On,Pn)=>{so(On,yr=>{const dr=jt.fromDom(yr);Ft(Pn,(uo,ua)=>{xb(dr,ua,uo)}),n.update_styles&&nw(Je,dr)})},er=(On,Pn,yr)=>{const dr=At(On);if(!(M(dr)||!xl(dr)&&!H2(dr)))return yr?ui(jt.fromDom(dr),Am(Pn)):(Pn=Pn.replace(/-(\D)/g,(uo,ua)=>ua.toUpperCase()),Pn==="float"&&(Pn="cssFloat"),dr.style?dr.style[Pn]:void 0)},Qr=On=>{const Pn=At(On);if(!Pn)return{w:0,h:0};let yr=er(Pn,"width"),dr=er(Pn,"height");return(!yr||yr.indexOf("px")===-1)&&(yr="0"),(!dr||dr.indexOf("px")===-1)&&(dr="0"),{w:parseInt(yr,10)||Pn.offsetWidth||Pn.clientWidth,h:parseInt(dr,10)||Pn.offsetHeight||Pn.clientHeight}},ho=On=>{const Pn=At(On),yr=Nr(Pn),dr=Qr(Pn);return{x:yr.x,y:yr.y,w:dr.w,h:dr.h}},na=(On,Pn)=>{if(!On)return!1;const yr=S(On)?On:[On];return Oe(yr,dr=>du(jt.fromDom(dr),Pn))},ca=(On,Pn,yr,dr)=>{const uo=[];let ua=At(On);dr=dr===void 0;const Fs=yr||(nr().nodeName!=="BODY"?nr().parentNode:null);if(C(Pn))if(Pn==="*")Pn=Gr;else{const Nu=Pn;Pn=Vl=>na(Vl,Nu)}for(;ua&&!(ua===Fs||M(ua.nodeType)||wm(ua)||ns(ua));){if(!Pn||Pn(ua))if(dr)uo.push(ua);else return[ua];ua=ua.parentNode}return dr?uo:null},os=(On,Pn,yr)=>{const dr=ca(On,Pn,yr,!1);return dr&&dr.length>0?dr[0]:null},ka=(On,Pn,yr)=>{let dr=Pn;if(On){C(Pn)&&(dr=uo=>na(uo,Pn));for(let uo=On[yr];uo;uo=uo[yr])if(R(dr)&&dr(uo))return uo}return null},ei=(On,Pn)=>ka(On,Pn,"nextSibling"),zl=(On,Pn)=>ka(On,Pn,"previousSibling"),as=On=>R(On.querySelectorAll),Sr=(On,Pn)=>{var yr,dr;const uo=(dr=(yr=At(Pn))!==null&&yr!==void 0?yr:n.root_element)!==null&&dr!==void 0?dr:e;return as(uo)?tt(uo.querySelectorAll(On)):[]},so=function(On,Pn,yr){const dr=yr??this;if(S(On)){const uo=[];return vb(On,(ua,Fs)=>{const Nu=At(ua);Nu&&uo.push(Pn.call(dr,Nu,Fs))}),uo}else{const uo=At(On);return uo?Pn.call(dr,uo):!1}},$a=(On,Pn)=>{so(On,yr=>{Ft(Pn,(dr,uo)=>{yn(yr,uo,dr)})})},ha=(On,Pn)=>{so(On,yr=>{const dr=jt.fromDom(yr);bh(dr,Pn)})},to=(On,Pn,yr,dr,uo)=>so(On,ua=>{const Fs=C(Pn)?e.createElement(Pn):Pn;return k(yr)&&$a(Fs,yr),dr&&(!C(dr)&&dr.nodeType?Fs.appendChild(dr):C(dr)&&ha(Fs,dr)),uo?Fs:ua.appendChild(Fs)}),Lo=(On,Pn,yr)=>to(e.createElement(On),On,Pn,yr,!0),vr=km.decode,Oo=km.encodeAllRaw,Aa=(On,Pn,yr="")=>{let dr="<"+On;for(const uo in Pn)ft(Pn,uo)&&(dr+=" "+uo+'="'+Oo(Pn[uo])+'"');return kt(yr)&&lt(Ke.getVoidElements(),On)?dr+" />":dr+">"+yr+"</"+On+">"},ps=On=>{const Pn=e.createElement("div"),yr=e.createDocumentFragment();yr.appendChild(Pn),On&&(Pn.innerHTML=On);let dr;for(;dr=Pn.firstChild;)yr.appendChild(dr);return yr.removeChild(Pn),yr},us=(On,Pn)=>so(On,yr=>{const dr=jt.fromDom(yr);return Pn&&ie(zi(dr),uo=>{Ei(uo)&&uo.dom.length===0?Ua(uo):Ri(dr,uo)}),Ua(dr),dr.dom}),ml=On=>so(On,Pn=>{const yr=Pn.attributes;for(let dr=yr.length-1;dr>=0;dr--)Pn.removeAttributeNode(yr.item(dr))}),th=On=>Je.parse(On),cf=(On,Pn)=>Je.serialize(On,Pn),iu=On=>{if(ug!==Cs.DOM&&e===document){if(r[On])return;r[On]=!0}let Pn=e.getElementById("mceDefaultStyles");if(!Pn){Pn=e.createElement("style"),Pn.id="mceDefaultStyles",Pn.type="text/css";const yr=e.head;yr.firstChild?yr.insertBefore(Pn,yr.firstChild):yr.appendChild(Pn)}Pn.styleSheet?Pn.styleSheet.cssText+=On:Pn.appendChild(e.createTextNode(On))},pd=On=>{On||(On=""),ie(On.split(","),Pn=>{w[Pn]=!0,be.load(Pn).catch(j)})},zo=(On,Pn,yr)=>{so(On,dr=>{if(Gr(dr)){const uo=jt.fromDom(dr),ua=Pn.split(" ");ie(ua,Fs=>{k(yr)?(yr?hh:mh)(uo,Fs):jy(uo,Fs)})}})},Oa=(On,Pn)=>{zo(On,Pn,!0)},vs=(On,Pn)=>{zo(On,Pn,!1)},Gs=(On,Pn)=>{const yr=It(On),dr=Pn.split(" ");return k(yr)&&We(dr,uo=>Cd(yr,uo))},$s=On=>{so(On,Pn=>Np(jt.fromDom(Pn),"display"))},Iu=On=>{so(On,Pn=>U0(jt.fromDom(Pn),"display","none"))},nh=On=>{const Pn=It(On);return k(Pn)&&Ms(_i(Pn,"display"),"none")},xp=On=>(On||"mce_")+B++,eE=On=>{const Pn=It(On);return k(Pn)?Gr(Pn.dom)?Pn.dom.outerHTML:Fp(Pn):""},JS=(On,Pn)=>{so(On,yr=>{Gr(yr)&&(yr.outerHTML=Pn)})},tE=(On,Pn)=>{const yr=At(Pn);return so(On,dr=>{const uo=yr==null?void 0:yr.parentNode,ua=yr==null?void 0:yr.nextSibling;return uo&&(ua?uo.insertBefore(dr,ua):uo.appendChild(dr)),dr})},m2=(On,Pn,yr)=>so(Pn,dr=>{var uo;const ua=S(Pn)?On.cloneNode(!0):On;return yr&&vb(H3(dr.childNodes),Fs=>{ua.appendChild(Fs)}),(uo=dr.parentNode)===null||uo===void 0||uo.replaceChild(ua,dr),dr}),nE=(On,Pn)=>{if(On.nodeName!==Pn.toUpperCase()){const yr=Lo(Pn);return vb(xn(On),dr=>{yn(yr,dr.nodeName,ln(On,dr.nodeName))}),m2(yr,On,!0),yr}else return On},g2=(On,Pn)=>{let yr=On;for(;yr;){let dr=Pn;for(;dr&&yr!==dr;)dr=dr.parentNode;if(yr===dr)break;yr=yr.parentNode}return!yr&&On.ownerDocument?On.ownerDocument.documentElement:yr},g0=On=>{if(Gr(On)){const Pn=On.nodeName.toLowerCase()==="a"&&!ln(On,"href")&&ln(On,"id");if(ln(On,"name")||ln(On,"data-mce-bookmark")||Pn)return!0}return!1},rh=(On,Pn,yr)=>{let dr=0;if(g0(On))return!1;const uo=On.firstChild;if(uo){const ua=new es(uo,On),Fs=Ke?Ke.getWhitespaceElements():{},Nu=Pn||(Ke?Ke.getNonEmptyElements():null);let Vl=uo;do{if(Gr(Vl)){const Ry=Vl.getAttribute("data-mce-bogus");if(Ry){Vl=ua.next(Ry==="all");continue}const vd=Vl.nodeName.toLowerCase();if(Nu&&Nu[vd]){if(vd==="br"){dr++,Vl=ua.next();continue}return!1}if(g0(Vl))return!1}if(gf(Vl)||ir(Vl)&&!As(Vl.data)&&(!(yr!=null&&yr.includeZwsp)||!qs(Vl.data))||ir(Vl)&&Vl.parentNode&&Fs[Vl.parentNode.nodeName]&&As(Vl.data))return!1;Vl=ua.next()}while(Vl)}return dr<=1},em=()=>e.createRange(),p2=(On,Pn,yr)=>{let dr=em(),uo,ua;if(On&&Pn&&On.parentNode&&Pn.parentNode){const Fs=On.parentNode;return dr.setStart(Fs,Ld(On)),dr.setEnd(Pn.parentNode,Ld(Pn)),uo=dr.extractContents(),dr=em(),dr.setStart(Pn.parentNode,Ld(Pn)+1),dr.setEnd(Fs,Ld(On)+1),ua=dr.extractContents(),Fs.insertBefore(Ah(ug,uo,Ke),On),yr?Fs.insertBefore(yr,On):Fs.insertBefore(Pn,On),Fs.insertBefore(Ah(ug,ua,Ke),On),us(On),yr||Pn}else return},Ey=(On,Pn,yr,dr)=>{if(S(On)){let uo=On.length;const ua=[];for(;uo--;)ua[uo]=Ey(On[uo],Pn,yr,dr);return ua}else return n.collect&&(On===e||On===f)&&Pe.push([On,Pn,yr,dr]),at.bind(On,Pn,yr,dr||ug)},QS=(On,Pn,yr)=>{if(S(On)){let dr=On.length;const uo=[];for(;dr--;)uo[dr]=QS(On[dr],Pn,yr);return uo}else{if(Pe.length>0&&(On===e||On===f)){let dr=Pe.length;for(;dr--;){const[uo,ua,Fs]=Pe[dr];On===uo&&(!Pn||Pn===ua)&&(!yr||yr===Fs)&&at.unbind(uo,ua,Fs)}}return at.unbind(On,Pn,yr)}},tm=(On,Pn,yr)=>at.dispatch(On,Pn,yr),rE=(On,Pn,yr)=>at.dispatch(On,Pn,yr),qS=On=>{if(On&&xl(On)){const Pn=On.getAttribute("data-mce-contenteditable");return Pn&&Pn!=="inherit"?Pn:On.contentEditable!=="inherit"?On.contentEditable:null}else return null},ug={doc:e,settings:n,win:f,files:w,stdMode:Z,boxModel:oe,styleSheetLoader:be,boundEvents:Pe,styles:Je,schema:Ke,events:at,isBlock:Ht,root:null,clone:$n,getRoot:nr,getViewPort:mr,getRect:ho,getSize:Qr,getParent:os,getParents:ca,get:At,getNext:ei,getPrev:zl,select:Sr,is:na,add:to,create:Lo,createHTML:Aa,createFragment:ps,remove:us,setStyle:zn,getStyle:er,setStyles:Nn,removeAllAttribs:ml,setAttrib:yn,setAttribs:$a,getAttrib:ln,getPos:Nr,parseStyle:th,serializeStyle:cf,addStyle:iu,loadCSS:pd,addClass:Oa,removeClass:vs,hasClass:Gs,toggleClass:zo,show:$s,hide:Iu,isHidden:nh,uniqueId:xp,setHTML:ha,getOuterHTML:eE,setOuterHTML:JS,decode:vr,encode:Oo,insertAfter:tE,replace:m2,rename:nE,findCommonAncestor:g2,run:so,getAttribs:xn,isEmpty:rh,createRng:em,nodeIndex:Ld,split:p2,bind:Ey,unbind:QS,fire:rE,dispatch:tm,getContentEditable:qS,getContentEditableParent:On=>{const Pn=nr();let yr=null;for(let dr=On;dr&&dr!==Pn&&(yr=qS(dr),yr===null);dr=dr.parentNode);return yr},isEditable:On=>{if(k(On)){const Pn=Gr(On)?On:On.parentElement;return k(Pn)&&xl(Pn)&&Wo(jt.fromDom(Pn))}else return!1},destroy:()=>{if(Pe.length>0){let On=Pe.length;for(;On--;){const[Pn,yr,dr]=Pe[On];at.unbind(Pn,yr,dr)}}Ft(w,(On,Pn)=>{be.unload(Pn),delete w[Pn]})},isChildOf:(On,Pn)=>On===Pn||Pn.contains(On),dumpRng:On=>"startContainer: "+On.startContainer.nodeName+", startOffset: "+On.startOffset+", endContainer: "+On.endContainer.nodeName+", endOffset: "+On.endOffset},v2=z3(Je,n,J(ug));return ug};Cs.DOM=Cs(document),Cs.nodeIndex=Ld;const JE=Cs.DOM,hi=0,V3=1,Is=2,tv=3;class Ni{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((r,f)=>{const w=JE;let B;const Z=()=>{w.remove(Pe),B&&(B.onerror=B.onload=B=null)},oe=()=>{Z(),r()},be=()=>{Z(),f("Failed to load script: "+n)},Pe=w.uniqueId();B=document.createElement("script"),B.id=Pe,B.type="text/javascript",B.src=ur._addCacheSuffix(n),this.settings.referrerPolicy&&w.setAttrib(B,"referrerpolicy",this.settings.referrerPolicy),B.onload=oe,B.onerror=be,(document.getElementsByTagName("head")[0]||document.body).appendChild(B)})}isDone(n){return this.states[n]===Is}markDone(n){this.states[n]=Is}add(n){const r=this;return r.queue.push(n),r.states[n]===void 0&&(r.states[n]=hi),new Promise((w,B)=>{r.scriptLoadedCallbacks[n]||(r.scriptLoadedCallbacks[n]=[]),r.scriptLoadedCallbacks[n].push({resolve:w,reject:B})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const r=this,f=(be,Pe)=>{wn(r.scriptLoadedCallbacks,Pe).each(Ke=>{ie(Ke,Je=>Je[be](Pe))}),delete r.scriptLoadedCallbacks[Pe]},w=be=>{const Pe=ue(be,Ke=>Ke.status==="rejected");return Pe.length>0?Promise.reject(ze(Pe,({reason:Ke})=>S(Ke)?Ke:[Ke])):Promise.resolve()},B=be=>Promise.allSettled(Fe(be,Pe=>r.states[Pe]===Is?(f("resolve",Pe),Promise.resolve()):r.states[Pe]===tv?(f("reject",Pe),Promise.reject(Pe)):(r.states[Pe]=V3,r.loadScript(Pe).then(()=>{r.states[Pe]=Is,f("resolve",Pe);const Ke=r.queue;return Ke.length>0?(r.queue=[],B(Ke).then(w)):Promise.resolve()},()=>(r.states[Pe]=tv,f("reject",Pe),Promise.reject(Pe)))))),Z=be=>(r.loading=!0,B(be).then(Pe=>{r.loading=!1;const Ke=r.queueLoadedCallbacks.shift();return X.from(Ke).each(ce),w(Pe)})),oe=vt(n);return r.loading?new Promise((be,Pe)=>{r.queueLoadedCallbacks.push(()=>{Z(oe).then(be,Pe)})}):Z(oe)}}Ni.ScriptLoader=new Ni;const Us=e=>{let n=e;return{get:()=>n,set:w=>{n=w}}},Su=(e,n)=>{const r=e.indexOf(n);return r!==-1&&e.indexOf(n,r+1)>r},rw=e=>_(e)&&lt(e,"raw"),Al=e=>S(e)&&e.length>1,i1={},nv=Us("en"),Dd=()=>wn(i1,nv.get()),Cf={getData:()=>pn(i1,e=>({...e})),setCode:e=>{e&&nv.set(e)},getCode:()=>nv.get(),add:(e,n)=>{let r=i1[e];r||(i1[e]=r={});const f=Fe(Yt(n),w=>w.toLowerCase());Ft(n,(w,B)=>{const Z=B.toLowerCase();Z!==B&&Su(f,Z)?(lt(n,Z)||(r[Z]=w),r[B]=w):r[Z]=w})},translate:e=>{const n=Dd().getOr({}),r=Z=>R(Z)?Object.prototype.toString.call(Z):f(Z)?"":""+Z,f=Z=>Z===""||Z===null||Z===void 0,w=Z=>{const oe=r(Z);return lt(n,oe)?r(n[oe]):wn(n,oe.toLowerCase()).map(r).getOr(oe)},B=Z=>Z.replace(/{context:\w+}$/,"");if(f(e))return"";if(rw(e))return r(e.raw);if(Al(e)){const Z=e.slice(1),oe=w(e[0]).replace(/\{([0-9]+)\}/g,(be,Pe)=>lt(Z,Pe)?r(Z[Pe]):be);return B(oe)}return B(w(e))},isRtl:()=>Dd().bind(e=>wn(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>lt(i1,e)},rc=()=>{const e=[],n={},r={},f=[],w=(At,It)=>{const ln=ue(f,xn=>xn.name===At&&xn.state===It);ie(ln,xn=>xn.resolve())},B=At=>lt(n,At),Z=At=>lt(r,At),oe=At=>{if(r[At])return r[At].instance},be=(At,It)=>{const ln=Cf.getCode(),xn=","+(It||"")+",";!ln||It&&xn.indexOf(","+ln+",")===-1||Ni.ScriptLoader.add(n[At]+"/langs/"+ln+".js")},Pe=(At,It)=>{rc.languageLoad!==!1&&(B(At)?be(At,It):Ht(At,"loaded").then(()=>be(At,It)))},Ke=(At,It)=>(e.push(It),r[At]={instance:It},w(At,"added"),It),Je=At=>{delete n[At],delete r[At]},at=(At,It)=>C(It)?C(At)?{prefix:"",resource:It,suffix:""}:{prefix:At.prefix,resource:It,suffix:At.suffix}:It,Rt=(At,It)=>{if(n[At])return Promise.resolve();let ln=C(It)?It:It.prefix+It.resource+It.suffix;ln.indexOf("/")!==0&&ln.indexOf("://")===-1&&(ln=rc.baseURL+"/"+ln),n[At]=ln.substring(0,ln.lastIndexOf("/"));const xn=()=>(w(At,"loaded"),Promise.resolve());return r[At]?xn():Ni.ScriptLoader.add(ln).then(xn)},Ht=(At,It="added")=>It==="added"&&Z(At)||It==="loaded"&&B(At)?Promise.resolve():new Promise(ln=>{f.push({name:At,state:It,resolve:ln})});return{items:e,urls:n,lookup:r,get:oe,requireLangPack:Pe,add:Ke,remove:Je,createUrl:at,load:Rt,waitFor:Ht}};rc.languageLoad=!0,rc.baseURL="",rc.PluginManager=rc(),rc.ThemeManager=rc(),rc.ModelManager=rc();const qE=e=>{const n=Us(X.none()),r=()=>n.get().each(e);return{clear:()=>{r(),n.set(X.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:oe=>{r(),n.set(X.some(oe))}}},e4=e=>{const n=Us(X.none()),r=()=>n.get().each(oe=>clearInterval(oe));return{clear:()=>{r(),n.set(X.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:oe=>{r(),n.set(X.some(setInterval(oe,e)))}}},Em=()=>{const e=qE(j);return{...e,on:r=>e.get().each(r)}},l1=(e,n)=>{let r=null;return{cancel:()=>{O(r)||(clearTimeout(r),r=null)},throttle:(...B)=>{O(r)&&(r=setTimeout(()=>{r=null,e.apply(null,B)},n))}}},wb=(e,n)=>{let r=null;const f=()=>{O(r)||(clearTimeout(r),r=null)};return{cancel:f,throttle:(...B)=>{f(),r=setTimeout(()=>{r=null,e.apply(null,B)},n)}}},Cb=J("mce-annotation"),$d=J("data-mce-annotation"),ov=J("data-mce-annotation-uid"),av=J("data-mce-annotation-active"),sv=J("data-mce-annotation-classes"),Wg=J("data-mce-annotation-attrs"),W3=e=>n=>Ba(n,e),ai=(e,n)=>{const r=e.selection.getRng(),f=jt.fromDom(r.startContainer),w=jt.fromDom(e.getBody()),B=n.fold(()=>"."+Cb(),be=>`[${$d()}="${be}"]`),Z=Sd(f,r.startOffset).getOr(f);return Ku(Z,B,W3(w)).bind(be=>Yl(be,`${ov()}`).bind(Pe=>Yl(be,`${$d()}`).map(Ke=>{const Je=Z3(e,Pe);return{uid:Pe,name:Ke,elements:Je}})))},G3=e=>sl(e)&&Cd(e,Cb()),iv=(e,n)=>Gu(e,"data-mce-bogus")||Ng(e,'[data-mce-bogus="all"]',W3(n)),Z3=(e,n)=>{const r=jt.fromDom(e.getBody()),f=Vi(r,`[${ov()}="${n}"]`);return ue(f,w=>!iv(w,r))},Sb=(e,n)=>{const r=jt.fromDom(e.getBody()),f=Vi(r,`[${$d()}="${n}"]`),w={};return ie(f,B=>{if(!iv(B,r)){const Z=il(B,ov()),oe=wn(w,Z).getOr([]);w[Z]=oe.concat([B])}}),w},Pl=(e,n)=>{const r=Us({}),f=()=>({listeners:[],previous:Em()}),w=(Je,at)=>{B(Je,Rt=>(at(Rt),Rt))},B=(Je,at)=>{const Rt=r.get(),Ht=wn(Rt,Je).getOrThunk(f),At=at(Ht);Rt[Je]=At,r.set(Rt)},Z=(Je,at,Rt)=>{w(Je,Ht=>{ie(Ht.listeners,At=>At(!0,Je,{uid:at,nodes:Fe(Rt,It=>It.dom)}))})},oe=Je=>{w(Je,at=>{ie(at.listeners,Rt=>Rt(!1,Je))})},be=(Je,at)=>{ie(Z3(e,Je),Rt=>{at?ws(Rt,av(),"true"):Xs(Rt,av())})},Pe=wb(()=>{const Je=Xe(n.getNames());ie(Je,at=>{B(at,Rt=>{const Ht=Rt.previous.get();return ai(e,X.some(at)).fold(()=>{Ht.each(At=>{oe(at),Rt.previous.clear(),be(At,!1)})},({uid:At,name:It,elements:ln})=>{Ms(Ht,At)||(Ht.each(xn=>be(xn,!1)),Z(It,At,ln),Rt.previous.set(At),be(At,!0))}),{previous:Rt.previous,listeners:Rt.listeners}})})},30);return e.on("remove",()=>{Pe.cancel()}),e.on("NodeChange",()=>{Pe.throttle()}),{addListener:(Je,at)=>{B(Je,Rt=>({previous:Rt.previous,listeners:Rt.listeners.concat([at])}))}}},Tu=(e,n)=>{const r=$d(),f=B=>X.from(B.attr(r)).bind(n.lookup),w=B=>{var Z,oe;B.attr(ov(),null),B.attr($d(),null),B.attr(av(),null);const be=X.from(B.attr(Wg())).map(at=>at.split(",")).getOr([]),Pe=X.from(B.attr(sv())).map(at=>at.split(",")).getOr([]);ie(be,at=>B.attr(at,null));const Ke=(oe=(Z=B.attr("class"))===null||Z===void 0?void 0:Z.split(" "))!==null&&oe!==void 0?oe:[],Je=dt(Ke,[Cb()].concat(Pe));B.attr("class",Je.length>0?Je.join(" "):null),B.attr(sv(),null),B.attr(Wg(),null)};e.serializer.addTempAttr(av()),e.serializer.addAttributeFilter(r,B=>{for(const Z of B)f(Z).each(oe=>{oe.persistent===!1&&(Z.name==="span"?Z.unwrap():w(Z))})})},j3=()=>{const e={};return{register:(w,B)=>{e[w]={name:w,settings:B}},lookup:w=>wn(e,w).map(B=>B.settings),getNames:()=>Yt(e)}};let Tb=0;const Gg=e=>{const r=new Date().getTime(),f=Math.floor(Math.random()*1e9);return Tb++,e+"_"+f+Tb+String(r)},t4=(e,n)=>{ie(n,r=>{hh(e,r)})},Y3=(e,n)=>{ie(n,r=>{mh(e,r)})},ow=(e,n)=>jt.fromDom(e.dom.cloneNode(n)),tu=e=>ow(e,!1),kb=e=>ow(e,!0),mi=(e,n)=>{const r=jt.fromTag(n),f=Mg(e);return Kc(r,f),r},Qf=(e,n)=>{const r=mi(e,n);gu(e,r);const f=zi(e);return hs(r,f),Ua(e),r},lv=(e,n,r=ne)=>{const f=new es(e,n),w=B=>{let Z;do Z=f[B]();while(Z&&!ir(Z)&&!r(Z));return X.from(Z).filter(ir)};return{current:()=>X.from(f.current()).filter(ir),next:()=>w("next"),prev:()=>w("prev"),prev2:()=>w("prev2")}},_m=(e,n)=>{const r=n||(Z=>e.isBlock(Z)||Ja(Z)||fa(Z)),f=(Z,oe,be,Pe)=>{if(ir(Z)){const Ke=Pe(Z,oe,Z.data);if(Ke!==-1)return X.some({container:Z,offset:Ke})}return be().bind(Ke=>f(Ke.container,Ke.offset,be,Pe))};return{backwards:(Z,oe,be,Pe)=>{const Ke=lv(Z,Pe??e.getRoot(),r);return f(Z,oe,()=>Ke.prev().map(Je=>({container:Je,offset:Je.length})),be).getOrNull()},forwards:(Z,oe,be,Pe)=>{const Ke=lv(Z,Pe??e.getRoot(),r);return f(Z,oe,()=>Ke.next().map(Je=>({container:Je,offset:0})),be).getOrNull()}}},Zg=Math.round,jg=e=>e?{left:Zg(e.left),top:Zg(e.top),bottom:Zg(e.bottom),right:Zg(e.right),width:Zg(e.width),height:Zg(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Lh=(e,n)=>(e=jg(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),K3=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,Yg=(e,n,r)=>e>=0&&e<=Math.min(n.height,r.height)/2,Rm=(e,n)=>{const r=Math.min(n.height/2,e.height/2);return e.bottom-r<n.top?!0:e.top>n.bottom?!1:Yg(n.top-e.bottom,e,n)},Kg=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:Yg(n.bottom-e.top,e,n),X3=(e,n,r)=>n>=e.left&&n<=e.right&&r>=e.top&&r<=e.bottom,n4=e=>le(e,(n,r)=>n.fold(()=>X.some(r),f=>{const w=Math.min(r.left,f.left),B=Math.min(r.top,f.top),Z=Math.max(r.right,f.right),oe=Math.max(r.bottom,f.bottom);return X.some({top:B,right:Z,bottom:oe,left:w,width:Z-w,height:oe-B})}),X.none()),aw=(e,n,r)=>{const f=Math.max(Math.min(n,e.left+e.width),e.left),w=Math.max(Math.min(r,e.top+e.height),e.top);return Math.sqrt((n-f)*(n-f)+(r-w)*(r-w))},r4=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),Ab=(e,n,r)=>Math.min(Math.max(e,n),r),sw=e=>{const n=e.startContainer,r=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===r+1?n.childNodes[r]:null},nu=(e,n)=>{if(Gr(e)&&e.hasChildNodes()){const r=e.childNodes,f=Ab(n,0,r.length-1);return r[f]}else return e},J3=(e,n)=>{if(!(n<0&&Gr(e)&&e.hasChildNodes()))return nu(e,n)},cv=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Q3=e=>C(e)&&e.charCodeAt(0)>=768&&cv.test(e),o4=(...e)=>n=>{for(let r=0;r<e.length;r++)if(e[r](n))return!0;return!1},c1=(...e)=>n=>{for(let r=0;r<e.length;r++)if(!e[r](n))return!1;return!0},Lm=Gr,Mb=fo,Sa=Gf("display","block table"),ru=Gf("float","left right"),qf=c1(Lm,Mb,he(ru)),iw=he(Gf("white-space","pre pre-line pre-wrap")),rs=ir,u1=Ja,lw=Cs.nodeIndex,Zi=J3,Od=e=>e?e.createRange():Cs.DOM.createRng(),Dm=e=>C(e)&&/[\r\n\t ]/.test(e),cw=e=>!!e.setStart&&!!e.setEnd,Eb=e=>{const n=e.startContainer,r=e.startOffset;if(Dm(e.toString())&&iw(n.parentNode)&&ir(n)){const f=n.data;if(Dm(f[r-1])||Dm(f[r+1]))return!0}return!1},f1=e=>{const n=e.ownerDocument,r=Od(n),f=n.createTextNode(Da),w=e.parentNode;w.insertBefore(f,e),r.setStart(f,0),r.setEnd(f,1);const B=jg(r.getBoundingClientRect());return w.removeChild(f),B},uw=e=>{const n=e.startContainer,r=e.endContainer,f=e.startOffset,w=e.endOffset;if(n===r&&ir(r)&&f===0&&w===1){const B=e.cloneRange();return B.setEndAfter(r),Pd(B)}else return null},_b=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Pd=e=>{var n;let r;const f=e.getClientRects();return f.length>0?r=jg(f[0]):r=jg(e.getBoundingClientRect()),!cw(e)&&u1(e)&&_b(r)?f1(e):_b(r)&&cw(e)&&(n=uw(e))!==null&&n!==void 0?n:r},Dh=(e,n)=>{const r=Lh(e,n);return r.width=1,r.right=r.left+1,r},a4=e=>{const n=[],r=Z=>{Z.height!==0&&(n.length>0&&K3(Z,n[n.length-1])||n.push(Z))},f=(Z,oe)=>{const be=Od(Z.ownerDocument);if(oe<Z.data.length){if(Q3(Z.data[oe]))return;if(Q3(Z.data[oe-1])&&(be.setStart(Z,oe),be.setEnd(Z,oe+1),!Eb(be))){r(Dh(Pd(be),!1));return}}oe>0&&(be.setStart(Z,oe-1),be.setEnd(Z,oe),Eb(be)||r(Dh(Pd(be),!1))),oe<Z.data.length&&(be.setStart(Z,oe),be.setEnd(Z,oe+1),Eb(be)||r(Dh(Pd(be),!0)))},w=e.container(),B=e.offset();if(rs(w))return f(w,B),n;if(Lm(w))if(e.isAtEnd()){const Z=Zi(w,B);rs(Z)&&f(Z,Z.data.length),qf(Z)&&!u1(Z)&&r(Dh(Pd(Z),!1))}else{const Z=Zi(w,B);if(rs(Z)&&f(Z,0),qf(Z)&&e.isAtEnd())return r(Dh(Pd(Z),!1)),n;const oe=Zi(e.container(),e.offset()-1);qf(oe)&&!u1(oe)&&(Sa(oe)||Sa(Z)||!qf(Z))&&r(Dh(Pd(oe),!1)),qf(Z)&&r(Dh(Pd(Z),!0))}return n},In=(e,n,r)=>{const f=()=>(rs(e),n===0),w=()=>rs(e)?n>=e.data.length:n>=e.childNodes.length,B=()=>{const Ke=Od(e.ownerDocument);return Ke.setStart(e,n),Ke.setEnd(e,n),Ke},Z=()=>(r||(r=a4(In(e,n))),r),oe=()=>Z().length>0,be=Ke=>Ke&&e===Ke.container()&&n===Ke.offset(),Pe=Ke=>Zi(e,Ke?n-1:n);return{container:J(e),offset:J(n),toRange:B,getClientRects:Z,isVisible:oe,isAtStart:f,isAtEnd:w,isEqual:be,getNode:Pe}};In.fromRangeStart=e=>In(e.startContainer,e.startOffset),In.fromRangeEnd=e=>In(e.endContainer,e.endOffset),In.after=e=>In(e.parentNode,lw(e)+1),In.before=e=>In(e.parentNode,lw(e)),In.isAbove=(e,n)=>Es(gt(n.getClientRects()),ut(e.getClientRects()),Rm).getOr(!1),In.isBelow=(e,n)=>Es(ut(n.getClientRects()),gt(e.getClientRects()),Kg).getOr(!1),In.isAtStart=e=>e?e.isAtStart():!1,In.isAtEnd=e=>e?e.isAtEnd():!1,In.isTextPosition=e=>e?ir(e.container()):!1,In.isElementPosition=e=>!In.isTextPosition(e);const d1=(e,n)=>{ir(n)&&n.data.length===0&&e.remove(n)},uv=(e,n,r)=>{n.insertNode(r),d1(e,r.previousSibling),d1(e,r.nextSibling)},ku=(e,n,r)=>{const f=X.from(r.firstChild),w=X.from(r.lastChild);n.insertNode(r),f.each(B=>d1(e,B.previousSibling)),w.each(B=>d1(e,B.nextSibling))},fw=(e,n,r)=>{ns(r)?ku(e,n,r):uv(e,n,r)},Ds=ir,Rb=Ju,$h=Cs.nodeIndex,dw=e=>{const n=e.parentNode;return Rb(n)?dw(n):n},Lb=e=>e?fn(e.childNodes,(n,r)=>(Rb(r)&&r.nodeName!=="BR"?n=n.concat(Lb(r)):n.push(r),n),[]):[],hw=(e,n)=>{let r=e;for(;(r=r.previousSibling)&&Ds(r);)n+=r.data.length;return n},h1=e=>n=>e===n,fv=e=>{let n,r;n=Lb(dw(e)),r=tn(n,h1(e),e),n=n.slice(0,r+1);const f=fn(n,(w,B,Z)=>(Ds(B)&&Ds(n[Z-1])&&w++,w),0);return n=Tt(n,oi([e.nodeName])),r=tn(n,h1(e),e),r-f},mw=e=>(Ds(e)?"text()":e.nodeName.toLowerCase())+"["+fv(e)+"]",s4=(e,n,r)=>{const f=[];for(let w=n.parentNode;w&&w!==e&&!(r&&r(w));w=w.parentNode)f.push(w);return f},wc=(e,n)=>{let r=[],f=n.container(),w=n.offset(),B;if(Ds(f))B=hw(f,w);else{const oe=f.childNodes;w>=oe.length?(B="after",w=oe.length-1):B="before",f=oe[w]}r.push(mw(f));let Z=s4(e,f);return Z=Tt(Z,he(Ju)),r=r.concat(pt(Z,oe=>mw(oe))),r.reverse().join("/")+","+B},ji=(e,n,r)=>{let f=Lb(e);return f=Tt(f,(w,B)=>!Ds(w)||!Ds(f[B-1])),f=Tt(f,oi([n])),f[r]},Ml=(e,n)=>{let r=e,f=0;for(;Ds(r);){const w=r.data.length;if(n>=f&&n<=f+w){e=r,n=n-f;break}if(!Ds(r.nextSibling)){e=r,n=w;break}f+=w,r=r.nextSibling}return Ds(e)&&n>e.data.length&&(n=e.data.length),In(e,n)},Cc=(e,n)=>{if(!n)return null;const r=n.split(","),f=r[0].split("/"),w=r.length>1?r[1]:"before",B=fn(f,(Z,oe)=>{const be=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(oe);return be?(be[1]==="text()"&&(be[1]="#text"),ji(Z,be[1],parseInt(be[2],10))):null},e);if(!B)return null;if(!Ds(B)&&B.parentNode){let Z;return w==="after"?Z=$h(B)+1:Z=$h(B),In(B.parentNode,Z)}return Ml(B,parseInt(w,10))},Il=fa,oc=(e,n,r)=>{let f=e(n.data.slice(0,r)).length;for(let w=n.previousSibling;w&&ir(w);w=w.previousSibling)f+=e(w.data).length;return f},Yi=(e,n,r,f,w)=>{const B=w?f.startContainer:f.endContainer;let Z=w?f.startOffset:f.endOffset;const oe=[],be=e.getRoot();if(ir(B))oe.push(r?oc(n,B,Z):Z);else{let Pe=0;const Ke=B.childNodes;Z>=Ke.length&&Ke.length&&(Pe=1,Z=Math.max(0,Ke.length-1)),oe.push(e.nodeIndex(Ke[Z],r)+Pe)}for(let Pe=B;Pe&&Pe!==be;Pe=Pe.parentNode)oe.push(e.nodeIndex(Pe,r));return oe},gw=(e,n,r,f)=>{const w=n.dom,B=Yi(w,e,r,f,!0),Z=n.isForward(),oe=vn(f)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:B,forward:Z,...oe};{const be=Yi(w,e,r,f,!1);return{start:B,end:be,forward:Z,...oe}}},m1=(e,n,r)=>{let f=0;return ur.each(e.select(n),w=>{if(w.getAttribute("data-mce-bogus")!=="all"){if(w===r)return!1;f++;return}}),f},pw=(e,n)=>{let r=n?e.startContainer:e.endContainer,f=n?e.startOffset:e.endOffset;if(Gr(r)&&r.nodeName==="TR"){const w=r.childNodes;r=w[Math.min(n?f:f-1,w.length-1)],r&&(f=n?0:r.childNodes.length,n?e.setStart(r,f):e.setEnd(r,f))}},g1=e=>(pw(e,!0),pw(e,!1),e),vw=(e,n)=>{if(Gr(e)&&(e=nu(e,n),Il(e)))return e;if(bt(e)){ir(e)&&rt(e)&&(e=e.parentNode);let r=e.previousSibling;if(Il(r)||(r=e.nextSibling,Il(r)))return r}},q3=e=>vw(e.startContainer,e.startOffset)||vw(e.endContainer,e.endOffset),Db=(e,n,r)=>{const f=r.getNode(),w=r.getRng();if(f.nodeName==="IMG"||Il(f)){const Z=f.nodeName;return{name:Z,index:m1(r.dom,Z,f)}}const B=q3(w);if(B){const Z=B.tagName;return{name:Z,index:m1(r.dom,Z,B)}}return gw(e,r,n,w)},yw=e=>{const n=e.getRng();return{start:wc(e.dom.getRoot(),In.fromRangeStart(n)),end:wc(e.dom.getRoot(),In.fromRangeEnd(n)),forward:e.isForward()}},i4=e=>({rng:e.getRng(),forward:e.isForward()}),l4=(e,n,r)=>{const f={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return r?e.create("span",f,"&#xFEFF;"):e.create("span",f)},eT=(e,n)=>{const r=e.dom;let f=e.getRng();const w=r.uniqueId(),B=e.isCollapsed(),Z=e.getNode(),oe=Z.nodeName,be=e.isForward();if(oe==="IMG")return{name:oe,index:m1(r,oe,Z)};const Pe=g1(f.cloneRange());if(!B){Pe.collapse(!1);const Je=l4(r,w+"_end",n);fw(r,Pe,Je)}f=g1(f),f.collapse(!0);const Ke=l4(r,w+"_start",n);return fw(r,f,Ke),e.moveToBookmark({id:w,keep:!0,forward:be}),{id:w,forward:be}},c4=(e,n,r=!1)=>n===2?Db(_e,r,e):n===3?yw(e):n?i4(e):eT(e,!1),dv=Q(Db,K,!0),$b=e=>{const n=B=>B(e),r=J(e),f=()=>w,w={tag:!0,inner:e,fold:(B,Z)=>Z(e),isValue:fe,isError:ne,map:B=>Oc.value(B(e)),mapError:f,bind:n,exists:n,forall:n,getOr:r,or:f,getOrThunk:r,orThunk:f,getOrDie:r,each:B=>{B(e)},toOptional:()=>X.some(e)};return w},tT=e=>{const n=()=>r,r={tag:!1,inner:e,fold:(f,w)=>f(e),isValue:ne,isError:fe,map:n,mapError:f=>Oc.error(f(e)),bind:n,exists:ne,forall:fe,getOr:K,or:K,getOrThunk:Se,orThunk:Se,getOrDie:ge(String(e)),each:j,toOptional:X.none};return r},Oc={value:$b,error:tT,fromOption:(e,n)=>e.fold(()=>tT(n),$b)},ed={generate:e=>{if(!S(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],r={};return ie(e,(f,w)=>{const B=Yt(f);if(B.length!==1)throw new Error("one and only one name per case");const Z=B[0],oe=f[Z];if(r[Z]!==void 0)throw new Error("duplicate key detected:"+Z);if(Z==="cata")throw new Error("cannot have a case named cata (sorry)");if(!S(oe))throw new Error("case arguments must be an array");n.push(Z),r[Z]=(...be)=>{const Pe=be.length;if(Pe!==oe.length)throw new Error("Wrong number of arguments to case "+Z+". Expected "+oe.length+" ("+oe+"), got "+Pe);return{fold:(...Je)=>{if(Je.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+Je.length);return Je[w].apply(null,be)},match:Je=>{const at=Yt(Je);if(n.length!==at.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+at.join(","));if(!We(n,Ht=>Ve(at,Ht)))throw new Error("Not all branches were specified when using match. Specified: "+at.join(", ")+`
Required: `+n.join(", "));return Je[Z].apply(null,be)},log:Je=>{console.log(Je,{constructors:n,constructor:Z,params:be})}}}}),r}};ed.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const gr=e=>{const n=[],r=[];return ie(e,f=>{f.fold(w=>{n.push(w)},w=>{r.push(w)})}),{errors:n,values:r}},bw=e=>e.type==="inline-command"||e.type==="inline-format",Ki=e=>e.type==="block-command"||e.type==="block-format",nT=e=>{const n=f=>Oc.error({message:f,pattern:e}),r=(f,w,B)=>{if(e.format!==void 0){let Z;if(S(e.format)){if(!We(e.format,C))return n(f+" pattern has non-string items in the `format` array");Z=e.format}else if(C(e.format))Z=[e.format];else return n(f+" pattern has non-string `format` parameter");return Oc.value(w(Z))}else return e.cmd!==void 0?C(e.cmd)?Oc.value(B(e.cmd,e.value)):n(f+" pattern has non-string `cmd` parameter"):n(f+" pattern is missing both `format` and `cmd` parameters")};if(!_(e))return n("Raw pattern is not an object");if(!C(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!C(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let f=e.start,w=e.end;return w.length===0&&(w=f,f=""),r("Inline",B=>({type:"inline-format",start:f,end:w,format:B}),(B,Z)=>({type:"inline-command",start:f,end:w,cmd:B,value:Z}))}else return e.replacement!==void 0?C(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):Oc.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?n("Block pattern has empty `start` parameter"):r("Block",f=>({type:"block-format",start:e.start,format:f[0]}),(f,w)=>({type:"block-command",start:e.start,cmd:f,value:w}))},Ob=e=>ue(e,Ki),xw=e=>ue(e,bw),Pc=(e,n)=>({inlinePatterns:xw(e),blockPatterns:Ob(e),dynamicPatternsLookup:n}),u4=e=>{const n=gr(Fe(e,nT));return ie(n.errors,r=>console.error(r.message,r.pattern)),n.values},rT=e=>n=>{const r=e(n);return u4(r)},Ic=Ys().deviceType,hv=Ic.isTouch(),p1=Cs.DOM,Id=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return le(n,(r,f)=>{const w=f.split("="),B=w[0],Z=w.length>1?w[1]:B;return r[Cr(B)]=Cr(Z),r},{})},Sf=e=>x(e,RegExp),Ur=e=>n=>n.options.get(e),Au=e=>C(e)||_(e),oT=(e,n="")=>r=>{const f=C(r);if(f)if(r.indexOf("=")!==-1){const w=Id(r);return{value:wn(w,e.id).getOr(n),valid:f}}else return{value:r,valid:f};else return{valid:!1,message:"Must be a string."}},aT=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:oT(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:oT(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:r=>{const f=C(r)&&St(r);return f?{value:r,valid:f}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:r=>{const f=Ve(["block","linebreak","invert","default"],r);return f?{value:r,valid:f}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:r=>D(r)?{valid:!0,value:r}:C(r)?{valid:!0,value:r}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:r=>{const f=r===!1||C(r)||H(r,C);return f?C(r)?{value:Fe(r.split(","),Cr),valid:f}:S(r)?{value:r,valid:f}:r===!1?{value:[],valid:f}:{value:r,valid:f}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Dw(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:r=>{const f=C(r)||H(r,C);return f?{value:S(r)?r:Fe(r.split(","),Cr),valid:f}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:r=>{const f=D(r)||C(r);return f?r===!1||Ic.isiPhone()||Ic.isiPad()?{value:"",valid:f}:{value:r===!0?"table,img,figure.image,div,video,iframe":r,valid:f}:{valid:!1,message:"Must be boolean or a string"}},default:!hv}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"object"}),n("service_message",{processor:"string"}),n("theme",{processor:r=>r===!1||C(r)||R(r),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:r=>{const f=r===!1||C(r);return f?{value:r===!1?"":r,valid:f}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:"string"}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:Au}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:Au}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:Au}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:r=>C(r)||r===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:r=>H(r,_)||r===!1?{value:u4(r===!1?[]:r),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),n("text_patterns_lookup",{processor:r=>R(r)?{value:rT(r),valid:!0}:{valid:!1,message:"Must be a single function"},default:r=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:r=>H(r,Sf)?{value:r,valid:!0}:Sf(r)?{value:[r],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!1}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:r=>{const f=Ve(["inherited","collapsed","expanded"],r);return f?{value:r,valid:f}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:r=>{const f=Ve(["inherited","collapsed","expanded"],r);return f?{value:r,valid:f}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),n("force_hex_color",{processor:r=>{const f=["always","rgb_only","off"],w=Ve(f,r);return w?{value:r,valid:w}:{valid:!1,message:`Must be one of: ${f.join(", ")}.`}},default:"off"}),n("sandbox_iframes",{processor:"boolean",default:!1}),n("convert_unsafe_embeds",{processor:"boolean",default:!1}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:Cf.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:p1.getAttrib(e.getElement(),"placeholder")})})},ww=Ur("iframe_attrs"),sT=Ur("doctype"),Cw=Ur("document_base_url"),Sw=Ur("body_id"),f4=Ur("body_class"),Tw=Ur("content_security_policy"),d4=Ur("br_in_pre"),ac=Ur("forced_root_block"),v1=Ur("forced_root_block_attrs"),h4=Ur("newline_behavior"),m4=Ur("br_newline_selector"),kw=Ur("no_newline_selector"),g4=Ur("keep_styles"),iT=Ur("end_container_on_empty_block"),lT=Ur("automatic_uploads"),y1=Ur("images_reuse_filename"),cT=Ur("images_replace_blob_uris"),Aw=Ur("icons"),Xg=Ur("icons_url"),p4=Ur("images_upload_url"),v4=Ur("images_upload_base_path"),Mw=Ur("images_upload_credentials"),y4=Ur("images_upload_handler"),Oh=Ur("content_css_cors"),ia=Ur("referrer_policy"),Ew=Ur("language"),sc=Ur("language_url"),Pb=Ur("indent_use_margin"),_w=Ur("indentation"),Rw=Ur("content_css"),Ib=Ur("content_style"),uT=Ur("font_css"),b4=Ur("directionality"),x4=Ur("inline_boundaries_selector"),mv=Ur("object_resizing"),fT=Ur("resize_img_proportional"),i$=Ur("placeholder"),$m=Ur("event_root"),w4=Ur("service_message"),gv=Ur("theme"),C4=Ur("theme_url"),Lw=Ur("model"),dT=Ur("model_url"),Jg=Ur("inline_boundaries"),S4=Ur("formats"),hT=Ur("preview_styles"),mT=Ur("format_empty_lines"),pv=Ur("format_noneditable_selector"),gT=Ur("custom_ui_selector"),Dw=Ur("inline"),T4=Ur("hidden_input"),pT=Ur("submit_patch"),Nd=Ur("add_form_submit_trigger"),b1=Ur("add_unload_trigger"),x1=Ur("custom_undo_redo_levels"),Nb=Ur("disable_nodechange"),w1=Ur("readonly"),tf=Ur("editable_root"),vv=Ur("content_css_cors"),C1=Ur("plugins"),Om=Ur("external_plugins"),Fb=Ur("block_unsupported_drop"),k4=Ur("visual"),A4=Ur("visual_table_class"),vT=Ur("visual_anchor_class"),M4=Ur("iframe_aria_text"),$w=Ur("setup"),E4=Ur("init_instance_callback"),_4=Ur("urlconverter_callback"),yT=Ur("auto_focus"),R4=Ur("browser_spellcheck"),bT=Ur("protect"),L4=Ur("paste_block_drop"),Bb=Ur("paste_data_images"),D4=Ur("paste_preprocess"),xT=Ur("paste_postprocess"),yv=Ur("newdocument_content"),Ow=Ur("paste_webkit_styles"),Pw=Ur("paste_remove_styles_if_webkit"),Iw=Ur("paste_merge_formats"),wT=Ur("smart_paste"),Nw=Ur("paste_as_text"),$4=Ur("paste_tab_spaces"),Hb=Ur("allow_html_data_urls"),zb=Ur("text_patterns"),O4=Ur("text_patterns_lookup"),Fw=Ur("noneditable_class"),CT=Ur("editable_class"),P4=Ur("noneditable_regexp"),Bw=Ur("preserve_cdata"),I4=Ur("highlight_on_focus"),bv=Ur("xss_sanitization"),N4=Ur("init_content_sync"),Hw=e=>e.options.isSet("text_patterns_lookup"),F4=e=>ur.explode(e.options.get("font_size_style_values")),B4=e=>ur.explode(e.options.get("font_size_classes")),H4=e=>e.options.get("encoding")==="xml",ST=e=>ur.explode(e.options.get("images_file_types")),z4=Ur("table_tab_navigation"),fl=Ur("details_initial_state"),l$=Ur("details_serialized_state"),xv=Ur("force_hex_color"),Vb=Ur("sandbox_iframes"),TT=Gr,zw=ir,kT=e=>{const n=e.parentNode;n&&n.removeChild(e)},AT=e=>{const n=_e(e);return{count:e.length-n.length,text:n}},Qg=e=>{let n;for(;(n=e.data.lastIndexOf(ve))!==-1;)e.deleteData(n,1)},S1=(e,n)=>(Xi(e),n),V4=(e,n)=>{const r=AT(e.data.substr(0,n.offset())),f=AT(e.data.substr(n.offset()));return(r.text+f.text).length>0?(Qg(e),In(e,n.offset()-r.count)):n},U4=(e,n)=>{const r=n.container(),f=Ne(tt(r.childNodes),e).map(w=>w<n.offset()?In(r,n.offset()-1):n).getOr(n);return Xi(e),f},T1=(e,n)=>zw(e)&&n.container()===e?V4(e,n):S1(e,n),Vw=(e,n)=>n.container()===e.parentNode?U4(e,n):S1(e,n),MT=(e,n)=>In.isTextPosition(n)?T1(e,n):Vw(e,n),Xi=e=>{TT(e)&&bt(e)&&(Vt(e)?e.removeAttribute("data-mce-caret"):kT(e)),zw(e)&&(Qg(e),e.data.length===0&&kT(e))},ET=fa,Uw=zs,c$=Bg,wv="*[contentEditable=false],video,audio,embed,object",W4=(e,n,r)=>{const f=Lh(n.getBoundingClientRect(),r);let w,B;if(e.tagName==="BODY"){const oe=e.ownerDocument.documentElement;w=e.scrollLeft||oe.scrollLeft,B=e.scrollTop||oe.scrollTop}else{const oe=e.getBoundingClientRect();w=e.scrollLeft-oe.left,B=e.scrollTop-oe.top}f.left+=w,f.right+=w,f.top+=B,f.bottom+=B,f.width=1;let Z=n.offsetWidth-n.clientWidth;return Z>0&&(r&&(Z*=-1),f.left+=Z,f.right+=Z),f},_T=e=>{var n,r;const f=Vi(jt.fromDom(e),wv);for(let w=0;w<f.length;w++){const B=f[w].dom;let Z=B.previousSibling;if(dn(Z)){const oe=Z.data;oe.length===1?(n=Z.parentNode)===null||n===void 0||n.removeChild(Z):Z.deleteData(oe.length-1,1)}Z=B.nextSibling,en(Z)&&(Z.data.length===1?(r=Z.parentNode)===null||r===void 0||r.removeChild(Z):Z.deleteData(0,1))}},Ww=(e,n,r,f)=>{const w=Em();let B,Z;const oe=ac(e),be=e.dom,Pe=(At,It)=>{let ln;if(Ke(),c$(It))return null;if(r(It)){const xn=Kt(oe,It,At),yn=W4(n,It,At);be.setStyle(xn,"top",yn.top),Z=xn;const $n=be.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});be.setStyles($n,{...yn}),be.add(n,$n),w.set({caret:$n,element:It,before:At}),At&&be.addClass($n,"mce-visual-caret-before"),Je(),ln=It.ownerDocument.createRange(),ln.setStart(xn,0),ln.setEnd(xn,0)}else return Z=Wt(It,At),ln=It.ownerDocument.createRange(),Ub(Z.nextSibling)?(ln.setStart(Z,0),ln.setEnd(Z,0)):(ln.setStart(Z,1),ln.setEnd(Z,1)),ln;return ln},Ke=()=>{_T(n),Z&&(Xi(Z),Z=null),w.on(At=>{be.remove(At.caret),w.clear()}),B&&(clearInterval(B),B=void 0)},Je=()=>{B=setInterval(()=>{w.on(At=>{f()?be.toggleClass(At.caret,"mce-visual-caret-hidden"):be.addClass(At.caret,"mce-visual-caret-hidden")})},500)};return{show:Pe,hide:Ke,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{w.on(At=>{const It=W4(n,At.element,At.before);be.setStyles(At.caret,{...It})})},destroy:()=>clearInterval(B)}},k1=()=>Lr.browser.isFirefox(),Ub=e=>ET(e)||Uw(e),Cv=e=>(Ub(e)||yu(e)&&k1())&&gm(jt.fromDom(e)).exists(Wo),G4=wl,Pm=fa,RT=zs,Im=Gf("display","block table table-cell table-caption list-item"),Nm=bt,Gw=rt,LT=Gr,u$=ir,Zw=fo,Fm=e=>e>0,Fd=e=>e<0,A1=(e,n)=>{let r;for(;r=e(n);)if(!Gw(r))return r;return null},Sv=(e,n,r,f,w)=>{const B=new es(e,f),Z=Pm(e)||Gw(e);let oe;if(Fd(n)){if(Z&&(oe=A1(B.prev.bind(B),!0),r(oe)))return oe;for(;oe=A1(B.prev.bind(B),w);)if(r(oe))return oe}if(Fm(n)){if(Z&&(oe=A1(B.next.bind(B),!0),r(oe)))return oe;for(;oe=A1(B.next.bind(B),w);)if(r(oe))return oe}return null},jw=(e,n)=>{const r=w=>G4(w.dom),f=w=>w.dom===n;return Js(jt.fromDom(e),r,f).map(w=>w.dom).getOr(n)},Ph=(e,n)=>{for(;e&&e!==n;){if(Im(e))return e;e=e.parentNode}return null},td=(e,n,r)=>Ph(e.container(),r)===Ph(n.container(),r),M1=(e,n)=>{if(!n)return X.none();const r=n.container(),f=n.offset();return LT(r)?X.from(r.childNodes[f+e]):X.none()},Wb=(e,n)=>{var r;const w=((r=n.ownerDocument)!==null&&r!==void 0?r:document).createRange();return e?(w.setStartBefore(n),w.setEndBefore(n)):(w.setStartAfter(n),w.setEndAfter(n)),w},E1=(e,n,r)=>Ph(n,e)===Ph(r,e),Yw=(e,n,r)=>{const f=e?"previousSibling":"nextSibling";let w=r;for(;w&&w!==n;){let B=w[f];if(B&&Nm(B)&&(B=B[f]),Pm(B)||RT(B)){if(E1(n,B,w))return B;break}if(Zw(B))break;w=w.parentNode}return null},Tv=Q(Wb,!0),_1=Q(Wb,!1),Kw=(e,n,r)=>{let f;const w=Q(Yw,!0,n),B=Q(Yw,!1,n),Z=r.startContainer,oe=r.startOffset;if(rt(Z)){const be=u$(Z)?Z.parentNode:Z,Pe=be.getAttribute("data-mce-caret");if(Pe==="before"&&(f=be.nextSibling,Cv(f)))return Tv(f);if(Pe==="after"&&(f=be.previousSibling,Cv(f)))return _1(f)}if(!r.collapsed)return r;if(ir(Z)){if(Nm(Z)){if(e===1){if(f=B(Z),f)return Tv(f);if(f=w(Z),f)return _1(f)}if(e===-1){if(f=w(Z),f)return _1(f);if(f=B(Z),f)return Tv(f)}return r}if(dn(Z)&&oe>=Z.data.length-1)return e===1&&(f=B(Z),f)?Tv(f):r;if(en(Z)&&oe<=1)return e===-1&&(f=w(Z),f)?_1(f):r;if(oe===Z.data.length)return f=B(Z),f?Tv(f):r;if(oe===0)return f=w(Z),f?_1(f):r}return r},DT=(e,n)=>M1(e?0:-1,n).filter(Pm),Bm=(e,n,r)=>{const f=Kw(e,n,r);return e===-1?In.fromRangeStart(f):In.fromRangeEnd(f)},Gb=e=>X.from(e.getNode()).map(jt.fromDom),Z4=e=>X.from(e.getNode(!0)).map(jt.fromDom),$T=(e,n)=>{let r=n;for(;r=e(r);)if(r.isVisible())return r;return r},Xw=(e,n)=>{const r=td(e,n);return!r&&Ja(e.getNode())?!0:r};var gi;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(gi||(gi={}));const f$=fa,Ih=ir,OT=Gr,Zb=Ja,Hm=fo,Nl=_o,kv=sa,R1=(e,n)=>{const r=[];let f=e;for(;f&&f!==n;)r.push(f),f=f.parentNode;return r},Av=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,Jw=(e,n)=>{if(Fm(e)){if(Hm(n.previousSibling)&&!Ih(n.previousSibling))return In.before(n);if(Ih(n))return In(n,0)}if(Fd(e)){if(Hm(n.nextSibling)&&!Ih(n.nextSibling))return In.after(n);if(Ih(n))return In(n,n.data.length)}return Fd(e)?Zb(n)?In.before(n):In.after(n):In.before(n)},Mv=(e,n)=>{const r=n.nextSibling;return r&&Hm(r)?Ih(r)?In(r,0):In.before(r):qg(gi.Forwards,In.after(n),e)},qg=(e,n,r)=>{let f,w,B,Z;if(!OT(r)||!n)return null;if(n.isEqual(In.after(r))&&r.lastChild){if(Z=In.after(r.lastChild),Fd(e)&&Hm(r.lastChild)&&OT(r.lastChild))return Zb(r.lastChild)?In.before(r.lastChild):Z}else Z=n;const oe=Z.container();let be=Z.offset();if(Ih(oe)){if(Fd(e)&&be>0)return In(oe,--be);if(Fm(e)&&be<oe.length)return In(oe,++be);f=oe}else{if(Fd(e)&&be>0&&(w=Av(oe,be-1),Hm(w)))return!Nl(w)&&(B=Sv(w,e,kv,w),B)?Ih(B)?In(B,B.data.length):In.after(B):Ih(w)?In(w,w.data.length):In.before(w);if(Fm(e)&&be<oe.childNodes.length&&(w=Av(oe,be),Hm(w)))return Zb(w)?Mv(r,w):!Nl(w)&&(B=Sv(w,e,kv,w),B)?Ih(B)?In(B,0):In.before(B):Ih(w)?In(w,0):In.after(w);f=w||Z.getNode()}if(f&&(Fm(e)&&Z.isAtEnd()||Fd(e)&&Z.isAtStart())&&(f=Sv(f,e,fe,r,!0),kv(f,r)))return Jw(e,f);w=f&&Sv(f,e,kv,r);const Pe=Zt(ue(R1(oe,r),f$));return Pe&&(!w||!Pe.contains(w))?(Fm(e)?Z=In.after(Pe):Z=In.before(Pe),Z):w?Jw(e,w):null},nd=e=>({next:n=>qg(gi.Forwards,n,e),prev:n=>qg(gi.Backwards,n,e)}),j4=(e,n,r)=>{const f=e?In.before(r):In.after(r);return dl(e,n,f)},Y4=e=>Ja(e)?In.before(e):In.after(e),zm=e=>In.isTextPosition(e)?e.offset()===0:fo(e.getNode()),Ev=e=>{if(In.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return fo(e.getNode(!0))},jb=(e,n)=>!In.isTextPosition(e)&&!In.isTextPosition(n)&&e.getNode()===n.getNode(!0),Bd=e=>!In.isTextPosition(e)&&Ja(e.getNode()),Qw=(e,n,r)=>e?!jb(n,r)&&!Bd(n)&&Ev(n)&&zm(r):!jb(r,n)&&zm(n)&&Ev(r),dl=(e,n,r)=>{const f=nd(n);return X.from(e?f.next(r):f.prev(r))},Nh=(e,n,r)=>dl(e,n,r).bind(f=>td(r,f,n)&&Qw(e,r,f)?dl(e,n,f):X.some(f)),Tf=(e,n,r,f)=>Nh(e,n,r).bind(w=>f(w)?Tf(e,n,w,f):X.some(w)),_v=(e,n)=>{const r=e?n.firstChild:n.lastChild;return ir(r)?X.some(In(r,e?0:r.data.length)):r?fo(r)?X.some(e?In.before(r):Y4(r)):j4(e,n,r):X.none()},ic=Q(dl,!0),Nc=Q(dl,!1),Sc=Q(_v,!0),kf=Q(_v,!1),Yb="_mce_caret",Mu=e=>Gr(e)&&e.id===Yb,ep=(e,n)=>{let r=n;for(;r&&r!==e;){if(Mu(r))return r;r=r.parentNode}return null},qw=e=>C(e.start),K4=e=>lt(e,"rng"),PT=e=>lt(e,"id"),L1=e=>lt(e,"name"),IT=e=>ur.isArray(e.start),D1=e=>!L1(e)&&D(e.forward)?e.forward:!0,Kb=(e,n)=>(Gr(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),X4=(e,n)=>{const r=X.from(Cc(e.getRoot(),n.start)),f=X.from(Cc(e.getRoot(),n.end));return Es(r,f,(w,B)=>{const Z=e.createRng();return Z.setStart(w.container(),w.offset()),Z.setEnd(B.container(),B.offset()),{range:Z,forward:D1(n)}})},NT=(e,n)=>{var r;const w=((r=e.ownerDocument)!==null&&r!==void 0?r:document).createTextNode(ve);e.appendChild(w),n.setStart(w,0),n.setEnd(w,0)},J4=e=>!e.hasChildNodes(),d$=(e,n)=>kf(e).fold(ne,r=>(n.setStart(r.container(),r.offset()),n.setEnd(r.container(),r.offset()),!0)),FT=(e,n,r)=>J4(n)&&ep(e,n)?(NT(n,r),!0):!1,va=(e,n,r,f)=>{const w=r[n?"start":"end"],B=e.getRoot();if(w){let Z=B,oe=w[0];for(let be=w.length-1;Z&&be>=1;be--){const Pe=Z.childNodes;if(FT(B,Z,f))return!0;if(w[be]>Pe.length-1)return FT(B,Z,f)?!0:d$(Z,f);Z=Pe[w[be]]}ir(Z)&&(oe=Math.min(w[0],Z.data.length)),Gr(Z)&&(oe=Math.min(w[0],Z.childNodes.length)),n?f.setStart(Z,oe):f.setEnd(Z,oe)}return!0},rd=e=>ir(e)&&e.data.length>0,tp=(e,n,r)=>{const f=e.get(r.id+"_"+n),w=f==null?void 0:f.parentNode,B=r.keep;if(f&&w){let Z,oe;if(n==="start"?B?f.hasChildNodes()?(Z=f.firstChild,oe=1):rd(f.nextSibling)?(Z=f.nextSibling,oe=0):rd(f.previousSibling)?(Z=f.previousSibling,oe=f.previousSibling.data.length):(Z=w,oe=e.nodeIndex(f)+1):(Z=w,oe=e.nodeIndex(f)):B?f.hasChildNodes()?(Z=f.firstChild,oe=1):rd(f.previousSibling)?(Z=f.previousSibling,oe=f.previousSibling.data.length):(Z=w,oe=e.nodeIndex(f)):(Z=w,oe=e.nodeIndex(f)),!B){const be=f.previousSibling,Pe=f.nextSibling;ur.each(ur.grep(f.childNodes),Je=>{ir(Je)&&(Je.data=Je.data.replace(/\uFEFF/g,""))});let Ke;for(;Ke=e.get(r.id+"_"+n);)e.remove(Ke,!0);if(ir(Pe)&&ir(be)&&!Lr.browser.isOpera()){const Je=be.data.length;be.appendData(Pe.data),e.remove(Pe),Z=be,oe=Je}}return X.some(In(Z,oe))}else return X.none()},eC=(e,n)=>{const r=e.createRng();return va(e,!0,n,r)&&va(e,!1,n,r)?X.some({range:r,forward:D1(n)}):X.none()},BT=(e,n)=>{const r=tp(e,"start",n),f=tp(e,"end",n);return Es(r,f.or(r),(w,B)=>{const Z=e.createRng();return Z.setStart(Kb(e,w.container()),w.offset()),Z.setEnd(Kb(e,B.container()),B.offset()),{range:Z,forward:D1(n)}})},$1=(e,n)=>X.from(e.select(n.name)[n.index]).map(r=>{const f=e.createRng();return f.selectNode(r),{range:f,forward:!0}}),Q4=(e,n)=>{const r=e.dom;if(n){if(IT(n))return eC(r,n);if(qw(n))return X4(r,n);if(PT(n))return BT(r,n);if(L1(n))return $1(r,n);if(K4(n))return X.some({range:n.rng,forward:D1(n)})}return X.none()},Rv=(e,n,r)=>c4(e,n,r),Xb=(e,n)=>{Q4(e,n).each(({range:r,forward:f})=>{e.setRng(r,f)})},Eu=e=>Gr(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Jb=(e=>n=>e===n)(Da),Lv=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Vm=e=>!Lv(e)&&!Jb(e)&&!Qu(e),Qb=e=>{const n=[];if(e)for(let r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));return n},qb=e=>ze(e,n=>{const r=sw(n);return r?[jt.fromDom(r)]:[]}),np=e=>Qb(e).length>1,q4=e=>ue(qb(e),bc),HT=e=>Vi(e,"td[data-mce-selected],th[data-mce-selected]"),e_=(e,n)=>{const r=HT(n);return r.length>0?r:q4(e)},Dv=e=>e_(Qb(e.selection.getSel()),jt.fromDom(e.getBody())),Fh=(e,n)=>vm(e,"table",n),t_=e=>{const n=e.startContainer,r=e.startOffset;return ir(n)?r===0?X.some(jt.fromDom(n)):X.none():X.from(n.childNodes[r]).map(jt.fromDom)},n_=e=>{const n=e.endContainer,r=e.endOffset;return ir(n)?r===n.data.length?X.some(jt.fromDom(n)):X.none():X.from(n.childNodes[r-1]).map(jt.fromDom)},zT=e=>pm(e).fold(J([e]),n=>[e].concat(zT(n))),tC=e=>Xl(e).fold(J([e]),n=>La(n)==="br"?hu(n).map(r=>[e].concat(tC(r))).getOr([]):[e].concat(tC(n))),nC=(e,n)=>Es(t_(n),n_(n),(r,f)=>{const w=de(zT(e),Q(Ba,r)),B=de(tC(e),Q(Ba,f));return w.isSome()&&B.isSome()}).getOr(!1),rC=(e,n,r,f)=>{const w=r,B=new es(r,w),Z=Cn(e.schema.getMoveCaretBeforeOnEnterElements(),(be,Pe)=>!Ve(["td","th","table"],Pe.toLowerCase()));let oe=r;do{if(ir(oe)&&ur.trim(oe.data).length!==0){f?n.setStart(oe,0):n.setEnd(oe,oe.data.length);return}if(Z[oe.nodeName]){f?n.setStartBefore(oe):oe.nodeName==="BR"?n.setEndBefore(oe):n.setEndAfter(oe);return}}while(oe=f?B.next():B.prev());w.nodeName==="BODY"&&(f?n.setStart(w,0):n.setEnd(w,w.childNodes.length))},ex=e=>{const n=e.selection.getSel();return k(n)&&n.rangeCount>0},Um=(e,n)=>{const r=Dv(e);r.length>0?ie(r,f=>{const w=f.dom,B=e.dom.createRng();B.setStartBefore(w),B.setEndAfter(w),n(B,!0)}):n(e.selection.getRng(),!1)},VT=(e,n,r)=>{const f=eT(e,n);r(f),e.moveToBookmark(f)},O1=e=>F(e==null?void 0:e.nodeType),oC=e=>Gr(e)&&!Eu(e)&&!Mu(e)&&!Ju(e),r_=(e,n)=>{if(oC(n)&&!/^(TD|TH)$/.test(n.nodeName)){const r=e.getAttrib(n,"data-mce-selected"),f=parseInt(r,10);return!isNaN(f)&&f>0}else return!1},P1=(e,n,r)=>{const{selection:f,dom:w}=e,B=f.getNode(),Z=fa(B);VT(f,!0,()=>{n()}),Z&&fa(B)&&w.isChildOf(B,e.getBody())?e.selection.select(B):r(f.getStart())&&o_(w,f)},o_=(e,n)=>{var r,f;const w=n.getRng(),{startContainer:B,startOffset:Z}=w,oe=n.getNode();if(!r_(e,oe)&&Gr(B)){const be=B.childNodes,Pe=e.getRoot();let Ke;if(Z<be.length){const Je=be[Z];Ke=new es(Je,(r=e.getParent(Je,e.isBlock))!==null&&r!==void 0?r:Pe)}else{const Je=be[be.length-1];Ke=new es(Je,(f=e.getParent(Je,e.isBlock))!==null&&f!==void 0?f:Pe),Ke.next(!0)}for(let Je=Ke.current();Je;Je=Ke.next()){if(e.getContentEditable(Je)==="false")return;if(ir(Je)&&!Si(Je)){w.setStart(Je,0),n.setRng(w);return}}}},Fr=(e,n,r)=>{if(e){const f=n?"nextSibling":"previousSibling";for(e=r?e:e[f];e;e=e[f])if(Gr(e)||!Si(e))return e}},Fi=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||pa(e,n),Bh=(e,n,r)=>e.schema.isValidChild(n,r),Si=(e,n=!1)=>{if(k(e)&&ir(e)){const r=n?e.data.replace(/ /g," "):e.data;return As(r)}else return!1},nf=e=>k(e)&&ir(e)&&e.length===0,tx=(e,n)=>{const r="[data-mce-cef-wrappable]",f=pv(e),w=kt(f)?r:`${r},${f}`;return du(jt.fromDom(n),w)},I1=(e,n)=>{const r=e.dom;return oC(n)&&r.getContentEditable(n)==="false"&&tx(e,n)&&r.select('[contenteditable="true"]',n).length===0},od=(e,n)=>R(e)?e(n):(k(n)&&(e=e.replace(/%(\w+)/g,(r,f)=>n[f]||r)),e),nx=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),rx=(e,n)=>{if(M(e))return null;{let r=String(e);return(n==="color"||n==="backgroundColor")&&(r=Xp(r)),n==="fontWeight"&&e===700&&(r="bold"),n==="fontFamily"&&(r=r.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),r}},$v=(e,n,r)=>{const f=e.getStyle(n,r);return rx(f,r)},UT=(e,n)=>{let r;return e.getParent(n,f=>Gr(f)?(r=e.getStyle(f,"text-decoration"),!!r&&r!=="none"):!1),r},N1=(e,n,r)=>e.getParents(n,r,e.getRoot()),aC=(e,n,r)=>{const f=e.formatter.get(n);return k(f)&&Oe(f,r)},sC=(e,n)=>aC(e,n,f=>{const w=B=>R(B)||B.length>1&&B.charAt(0)==="%";return Oe(["styles","attributes"],B=>wn(f,B).exists(Z=>{const oe=S(Z)?Z:Wn(Z);return Oe(oe,w)}))}),a_=(e,n,r)=>{const f=["inline","block","selector","attributes","styles","classes"],w=B=>Cn(B,(Z,oe)=>Oe(f,be=>be===oe));return aC(e,n,B=>{const Z=w(B);return aC(e,r,oe=>{const be=w(oe);return wt(Z,be)})})},ad=e=>ft(e,"block"),ox=e=>ad(e)&&e.wrapper===!0,Ov=e=>ad(e)&&e.wrapper!==!0,El=e=>ft(e,"selector"),$i=e=>ft(e,"inline"),ax=e=>El(e)&&$i(e)&&Ms(wn(e,"mixed"),!0),F1=e=>El(e)&&e.expand!==!1&&!$i(e),sx=e=>{const n=[];let r=e;for(;r;){if(ir(r)&&r.data!==ve||r.childNodes.length>1)return[];Gr(r)&&n.push(r),r=r.firstChild}return n},B1=e=>sx(e).length>0,H1=e=>Mu(e.dom)&&B1(e.dom),Pv=Eu,WT=N1,z1=Si,GT=Fi,ZT=e=>Ja(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,jT=(e,n)=>{let r=n;for(;r;){if(Gr(r)&&e.getContentEditable(r))return e.getContentEditable(r)==="false"?r:n;r=r.parentNode}return n},rf=(e,n,r,f)=>{const w=n.data;if(e){for(let B=r;B>0;B--)if(f(w.charAt(B-1)))return B}else for(let B=r;B<w.length;B++)if(f(w.charAt(B)))return B;return-1},Fl=(e,n,r)=>rf(e,n,r,f=>Jb(f)||Lv(f)),Af=(e,n,r)=>rf(e,n,r,Vm),Fc=(e,n,r,f,w,B)=>{let Z;const oe=e.getParent(r,e.isBlock)||n,be=(Ke,Je,at)=>{const Rt=_m(e),Ht=w?Rt.backwards:Rt.forwards;return X.from(Ht(Ke,Je,(At,It)=>Pv(At.parentNode)?-1:(Z=At,at(w,At,It)),oe))};return be(r,f,Fl).bind(Ke=>B?be(Ke.container,Ke.offset+(w?-1:0),Af):X.some(Ke)).orThunk(()=>Z?X.some({container:Z,offset:w?0:Z.length}):X.none())},V1=(e,n,r,f,w)=>{const B=f[w];ir(f)&&kt(f.data)&&B&&(f=B);const Z=WT(e,f);for(let oe=0;oe<Z.length;oe++)for(let be=0;be<n.length;be++){const Pe=n[be];if(!(k(Pe.collapsed)&&Pe.collapsed!==r.collapsed)&&El(Pe)&&e.is(Z[oe],Pe.selector))return Z[oe]}return f},ix=(e,n,r,f)=>{var w;let B=r;const Z=e.getRoot(),oe=n[0];if(ad(oe)&&(B=oe.wrapper?null:e.getParent(r,oe.block,Z)),!B){const be=(w=e.getParent(r,"LI,TD,TH,SUMMARY"))!==null&&w!==void 0?w:Z;B=e.getParent(ir(r)?r.parentNode:r,Pe=>Pe!==Z&&GT(e.schema,Pe),be)}if(B&&ad(oe)&&oe.wrapper&&(B=WT(e,B,"ul,ol").reverse()[0]||B),!B)for(B=r;B&&B[f]&&!e.isBlock(B[f])&&(B=B[f],!nx(B,"br")););return B||r},YT=(e,n,r,f)=>{const w=r.parentNode;return k(r[f])?!1:w===n||M(w)||e.isBlock(w)?!0:YT(e,n,w,f)},U1=(e,n,r,f,w)=>{let B=r;const Z=w?"previousSibling":"nextSibling",oe=e.getRoot();if(ir(r)&&!z1(r)&&(w?f>0:f<r.data.length))return r;for(;B;){if(!n[0].block_expand&&e.isBlock(B))return B;for(let be=B[Z];be;be=be[Z]){const Pe=ir(be)&&!YT(e,oe,be,Z);if(!Pv(be)&&!ZT(be)&&!z1(be,Pe))return B}if(B===oe||B.parentNode===oe){r=B;break}B=B.parentNode}return r},s_=e=>Pv(e.parentNode)||Pv(e),Hh=(e,n,r,f=!1)=>{let{startContainer:w,startOffset:B,endContainer:Z,endOffset:oe}=n;const be=r[0];return Gr(w)&&w.hasChildNodes()&&(w=nu(w,B),ir(w)&&(B=0)),Gr(Z)&&Z.hasChildNodes()&&(Z=nu(Z,n.collapsed?oe:oe-1),ir(Z)&&(oe=Z.data.length)),w=jT(e,w),Z=jT(e,Z),s_(w)&&(w=Pv(w)?w:w.parentNode,n.collapsed?w=w.previousSibling||w:w=w.nextSibling||w,ir(w)&&(B=n.collapsed?w.length:0)),s_(Z)&&(Z=Pv(Z)?Z:Z.parentNode,n.collapsed?Z=Z.nextSibling||Z:Z=Z.previousSibling||Z,ir(Z)&&(oe=n.collapsed?0:Z.length)),n.collapsed&&(Fc(e,e.getRoot(),w,B,!0,f).each(({container:Je,offset:at})=>{w=Je,B=at}),Fc(e,e.getRoot(),Z,oe,!1,f).each(({container:Je,offset:at})=>{Z=Je,oe=at})),($i(be)||be.block_expand)&&((!$i(be)||!ir(w)||B===0)&&(w=U1(e,r,w,B,!0)),(!$i(be)||!ir(Z)||oe===Z.data.length)&&(Z=U1(e,r,Z,oe,!1))),F1(be)&&(w=V1(e,r,n,w,"previousSibling"),Z=V1(e,r,n,Z,"nextSibling")),(ad(be)||El(be))&&(w=ix(e,r,w,"previousSibling"),Z=ix(e,r,Z,"nextSibling"),ad(be)&&(e.isBlock(w)||(w=U1(e,r,w,B,!0)),e.isBlock(Z)||(Z=U1(e,r,Z,oe,!1)))),Gr(w)&&w.parentNode&&(B=e.nodeIndex(w),w=w.parentNode),Gr(Z)&&Z.parentNode&&(oe=e.nodeIndex(Z)+1,Z=Z.parentNode),{startContainer:w,startOffset:B,endContainer:Z,endOffset:oe}},W1=(e,n,r)=>{var f;const w=n.startOffset,B=nu(n.startContainer,w),Z=n.endOffset,oe=nu(n.endContainer,Z-1),be=It=>{const ln=It[0];ir(ln)&&ln===B&&w>=ln.data.length&&It.splice(0,1);const xn=It[It.length-1];return Z===0&&It.length>0&&xn===oe&&ir(xn)&&It.splice(It.length-1,1),It},Pe=(It,ln,xn)=>{const yn=[];for(;It&&It!==xn;It=It[ln])yn.push(It);return yn},Ke=(It,ln)=>e.getParent(It,xn=>xn.parentNode===ln,ln),Je=(It,ln,xn)=>{const yn=xn?"nextSibling":"previousSibling";for(let $n=It,nr=$n.parentNode;$n&&$n!==ln;$n=nr){nr=$n.parentNode;const mr=Pe($n===It?$n:$n[yn],yn);mr.length&&(xn||mr.reverse(),r(be(mr)))}};if(B===oe)return r(be([B]));const at=(f=e.findCommonAncestor(B,oe))!==null&&f!==void 0?f:e.getRoot();if(e.isChildOf(B,oe))return Je(B,at,!0);if(e.isChildOf(oe,B))return Je(oe,at);const Rt=Ke(B,at)||B,Ht=Ke(oe,at)||oe;Je(B,Rt,!0);const At=Pe(Rt===B?Rt:Rt.nextSibling,"nextSibling",Ht===oe?Ht.nextSibling:Ht);At.length&&r(be(At)),Je(oe,Ht)},iC=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],KT=e=>Ei(e)&&Dc(e)===ve,XT=(e,n,r,f)=>Rc(n).fold(()=>"skipping",w=>f==="br"||KT(n)?"valid":G3(n)?"existing":Mu(n.dom)?"caret":Oe(iC,B=>du(n,B))?"valid-block":!Bh(e,r,f)||!Bh(e,La(w),r)?"invalid-child":"valid"),lC=(e,n)=>{const r=Hh(e.dom,n,[{inline:"span"}]);n.setStart(r.startContainer,r.startOffset),n.setEnd(r.endContainer,r.endOffset),e.selection.setRng(n)},lx=(e,n,r,f,w,B)=>{const{uid:Z=n,...oe}=r;hh(e,Cb()),ws(e,`${ov()}`,Z),ws(e,`${$d()}`,f);const{attributes:be={},classes:Pe=[]}=w(Z,oe);if(Kc(e,be),t4(e,Pe),B){Pe.length>0&&ws(e,`${sv()}`,Pe.join(","));const Ke=Yt(be);Ke.length>0&&ws(e,`${Wg()}`,Ke.join(","))}},gs=e=>{mh(e,Cb()),Xs(e,`${ov()}`),Xs(e,`${$d()}`),Xs(e,`${av()}`);const n=Yl(e,`${Wg()}`).map(f=>f.split(",")).getOr([]),r=Yl(e,`${sv()}`).map(f=>f.split(",")).getOr([]);ie(n,f=>Xs(e,f)),Y3(e,r),Xs(e,`${sv()}`),Xs(e,`${Wg()}`)},zh=(e,n,r,f,w)=>{const B=jt.fromTag("span",e);return lx(B,n,r,f,w,!1),B},JT=(e,n,r,f,w,B)=>{const Z=[],oe=zh(e.getDoc(),r,B,f,w),be=Em(),Pe=()=>{be.clear()},Ke=()=>be.get().getOrThunk(()=>{const Ht=tu(oe);return Z.push(Ht),be.set(Ht),Ht}),Je=Ht=>{ie(Ht,at)},at=Ht=>{switch(XT(e,Ht,"span",La(Ht))){case"invalid-child":{Pe();const It=zi(Ht);Je(It),Pe();break}case"valid-block":{Pe(),lx(Ht,r,B,f,w,!0);break}case"valid":{const It=Ke();ym(Ht,It);break}}},Rt=Ht=>{const At=Fe(Ht,jt.fromDom);Je(At)};return W1(e.dom,n,Ht=>{Pe(),Rt(Ht)}),Z},cC=(e,n,r,f)=>{e.undoManager.transact(()=>{const w=e.selection,B=w.getRng(),Z=Dv(e).length>0,oe=Gg("mce-annotation");if(B.collapsed&&!Z&&lC(e,B),w.getRng().collapsed&&!Z){const be=zh(e.getDoc(),oe,f,n,r.decorate);bh(be,Da),w.getRng().insertNode(be.dom),w.select(be.dom)}else VT(w,!1,()=>{Um(e,be=>{JT(e,be,oe,n,r.decorate,f)})})})},uC=e=>{const n=j3();Tu(e,n);const r=Pl(e,n),f=Yc("span"),w=B=>{ie(B,Z=>{f(Z)?Xu(Z):gs(Z)})};return{register:(B,Z)=>{n.register(B,Z)},annotate:(B,Z)=>{n.lookup(B).each(oe=>{cC(e,B,oe,Z)})},annotationChanged:(B,Z)=>{r.addListener(B,Z)},remove:B=>{ai(e,X.some(B)).each(({elements:Z})=>{const oe=e.selection.getBookmark();w(Z),e.selection.moveToBookmark(oe)})},removeAll:B=>{const Z=e.selection.getBookmark();Ft(Sb(e,B),(oe,be)=>{w(oe)}),e.selection.moveToBookmark(Z)},getAll:B=>{const Z=Sb(e,B);return pn(Z,oe=>Fe(oe,be=>be.dom))}}},rp=e=>({getBookmark:Q(Rv,e),moveToBookmark:Q(Xb,e)});rp.isBookmarkNode=Eu;const fC=(e,n,r)=>r.collapsed?!1:Oe(r.getClientRects(),f=>X3(f,e,n)),dC=(e,n)=>e.dispatch("PreProcess",n),i_=(e,n)=>e.dispatch("PostProcess",n),Iv=e=>{e.dispatch("remove")},Nv=e=>{e.dispatch("detach")},hC=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},mC=(e,n,r,f,w)=>{e.dispatch("ObjectResizeStart",{target:n,width:r,height:f,origin:w})},Mf=(e,n,r,f,w)=>{e.dispatch("ObjectResized",{target:n,width:r,height:f,origin:w})},Wm=e=>{e.dispatch("PreInit")},l_=e=>{e.dispatch("PostRender")},G1=e=>{e.dispatch("Init")},c_=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},ou=(e,n,r)=>{e.dispatch(n,r)},Bl=(e,n,r,f)=>{e.dispatch("FormatApply",{format:n,node:r,vars:f})},op=(e,n,r,f)=>{e.dispatch("FormatRemove",{format:n,node:r,vars:f})},h$=(e,n)=>e.dispatch("BeforeSetContent",n),QT=(e,n)=>e.dispatch("SetContent",n),u_=(e,n)=>e.dispatch("BeforeGetContent",n),da=(e,n)=>e.dispatch("GetContent",n),gC=(e,n)=>{e.dispatch("AutocompleterStart",n)},qT=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},pC=e=>{e.dispatch("AutocompleterEnd")},f_=(e,n,r)=>e.dispatch("PastePreProcess",{content:n,internal:r}),d_=(e,n,r)=>e.dispatch("PastePostProcess",{node:n,internal:r}),ek=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),h_=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),Wr={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Wr.metaKeyPressed(e),metaKeyPressed:e=>Lr.os.isMacOS()||Lr.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Gm="data-mce-selected",tk="table,img,figure.image,hr,video,span.mce-preview-object,details",Z1=Math.abs,j1=Math.round,m_={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},m$=e=>e.type==="longpress"||e.type.indexOf("touch")===0,g$=(e,n)=>{const r=n.dom,f=n.getDoc(),w=document,B=n.getBody();let Z,oe,be,Pe,Ke,Je,at,Rt,Ht,At,It,ln,xn,yn,$n,nr,mr;const Nr=vr=>k(vr)&&(ul(vr)||r.is(vr,"figure.image")),zn=vr=>zs(vr)||r.hasClass(vr,"mce-preview-object"),Nn=(vr,Oo)=>{if(m$(vr)){const Aa=vr.touches[0];return Nr(vr.target)&&!fC(Aa.clientX,Aa.clientY,Oo)}else return Nr(vr.target)&&!fC(vr.clientX,vr.clientY,Oo)},er=vr=>{const Oo=vr.target;Nn(vr,n.selection.getRng())&&!vr.isDefaultPrevented()&&n.selection.select(Oo)},Qr=vr=>r.hasClass(vr,"mce-preview-object")&&k(vr.firstElementChild)?[vr,vr.firstElementChild]:r.is(vr,"figure.image")?[vr.querySelector("img")]:[vr],ho=vr=>{const Oo=mv(n);return!Oo||vr.getAttribute("data-mce-resize")==="false"||vr===n.getBody()?!1:r.hasClass(vr,"mce-preview-object")&&k(vr.firstElementChild)?du(jt.fromDom(vr.firstElementChild),Oo):du(jt.fromDom(vr),Oo)},na=vr=>zn(vr)?r.create("img",{src:Lr.transparentSrc}):vr.cloneNode(!0),ca=(vr,Oo,Aa)=>{if(k(Aa)){const ps=Qr(vr);ie(ps,us=>{us.style[Oo]||!n.schema.isValid(us.nodeName.toLowerCase(),Oo)?r.setStyle(us,Oo,Aa):r.setAttrib(us,Oo,""+Aa)})}},os=(vr,Oo,Aa)=>{ca(vr,"width",Oo),ca(vr,"height",Aa)},ka=vr=>{let Oo,Aa,ps,us,ml;Oo=vr.screenX-Je,Aa=vr.screenY-at,yn=Oo*Pe[2]+At,$n=Aa*Pe[3]+It,yn=yn<5?5:yn,$n=$n<5?5:$n,(Nr(Z)||zn(Z))&&fT(n)!==!1?ps=!Wr.modifierPressed(vr):ps=Wr.modifierPressed(vr),ps&&(Z1(Oo)>Z1(Aa)?($n=j1(yn*ln),yn=j1($n/ln)):(yn=j1($n/ln),$n=j1(yn*ln))),os(oe,yn,$n),us=Pe.startPos.x+Oo,ml=Pe.startPos.y+Aa,us=us>0?us:0,ml=ml>0?ml:0,r.setStyles(be,{left:us,top:ml,display:"block"}),be.innerHTML=yn+" &times; "+$n,Pe[2]<0&&oe.clientWidth<=yn&&r.setStyle(oe,"left",Rt+(At-yn)),Pe[3]<0&&oe.clientHeight<=$n&&r.setStyle(oe,"top",Ht+(It-$n)),Oo=B.scrollWidth-nr,Aa=B.scrollHeight-mr,Oo+Aa!==0&&r.setStyles(be,{left:us-Oo,top:ml-Aa}),xn||(mC(n,Z,At,It,"corner-"+Pe.name),xn=!0)},ei=()=>{const vr=xn;xn=!1,vr&&(ca(Z,"width",yn),ca(Z,"height",$n)),r.unbind(f,"mousemove",ka),r.unbind(f,"mouseup",ei),w!==f&&(r.unbind(w,"mousemove",ka),r.unbind(w,"mouseup",ei)),r.remove(oe),r.remove(be),r.remove(Ke),zl(Z),vr&&(Mf(n,Z,yn,$n,"corner-"+Pe.name),r.setAttrib(Z,"style",r.getAttrib(Z,"style"))),n.nodeChanged()},zl=vr=>{ha();const Oo=r.getPos(vr,B),Aa=Oo.x,ps=Oo.y,us=vr.getBoundingClientRect(),ml=us.width||us.right-us.left,th=us.height||us.bottom-us.top;Z!==vr&&(Sr(),Z=vr,yn=$n=0);const cf=n.dispatch("ObjectSelected",{target:vr});ho(vr)&&!cf.isDefaultPrevented()?Ft(m_,(iu,pd)=>{const zo=vs=>{const Gs=Qr(Z)[0];Je=vs.screenX,at=vs.screenY,At=Gs.clientWidth,It=Gs.clientHeight,ln=It/At,Pe=iu,Pe.name=pd,Pe.startPos={x:ml*iu[0]+Aa,y:th*iu[1]+ps},nr=B.scrollWidth,mr=B.scrollHeight,Ke=r.add(B,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),r.setStyles(Ke,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),oe=na(Z),r.addClass(oe,"mce-clonedresizable"),r.setAttrib(oe,"data-mce-bogus","all"),oe.contentEditable="false",r.setStyles(oe,{left:Aa,top:ps,margin:0}),os(oe,ml,th),oe.removeAttribute(Gm),B.appendChild(oe),r.bind(f,"mousemove",ka),r.bind(f,"mouseup",ei),w!==f&&(r.bind(w,"mousemove",ka),r.bind(w,"mouseup",ei)),be=r.add(B,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},At+" &times; "+It)};let Oa=r.get("mceResizeHandle"+pd);Oa&&r.remove(Oa),Oa=r.add(B,"div",{id:"mceResizeHandle"+pd,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+pd+"-resize; margin:0; padding:0"}),r.bind(Oa,"mousedown",vs=>{vs.stopImmediatePropagation(),vs.preventDefault(),zo(vs)}),iu.elm=Oa,r.setStyles(Oa,{left:ml*iu[0]+Aa-Oa.offsetWidth/2,top:th*iu[1]+ps-Oa.offsetHeight/2})}):Sr(!1)},as=l1(zl,0),Sr=(vr=!0)=>{as.cancel(),ha(),Z&&vr&&Z.removeAttribute(Gm),Ft(m_,(Oo,Aa)=>{const ps=r.get("mceResizeHandle"+Aa);ps&&(r.unbind(ps),r.remove(ps))})},so=(vr,Oo)=>r.isChildOf(vr,Oo),$a=vr=>{if(xn||n.removed||n.composing)return;const Oo=vr.type==="mousedown"?vr.target:e.getNode(),Aa=Ku(jt.fromDom(Oo),tk).map(us=>us.dom).filter(us=>r.isEditable(us.parentElement)||us.nodeName==="IMG"&&r.isEditable(us)).getOrUndefined(),ps=k(Aa)?r.getAttrib(Aa,Gm,"1"):"1";if(ie(r.select(`img[${Gm}],hr[${Gm}]`),us=>{us.removeAttribute(Gm)}),k(Aa)&&so(Aa,B)&&n.hasFocus()){to();const us=e.getStart(!0);if(so(us,Aa)&&so(e.getEnd(!0),Aa)){r.setAttrib(Aa,Gm,ps),as.throttle(Aa);return}}Sr()},ha=()=>{Ft(m_,vr=>{vr.elm&&(r.unbind(vr.elm),delete vr.elm)})},to=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{to(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",$a),n.on("keyup compositionend",vr=>{Z&&Z.nodeName==="TABLE"&&$a(vr)}),n.on("hide blur",Sr),n.on("contextmenu longpress",er,!0)}),n.on("remove",ha),{isResizable:ho,showResizeRect:zl,hideResizeRect:Sr,updateResizeRect:$a,destroy:()=>{as.cancel(),Z=oe=Ke=null}}},gH=(e,n)=>{n.fold(r=>{e.setStartBefore(r.dom)},(r,f)=>{e.setStart(r.dom,f)},r=>{e.setStartAfter(r.dom)})},g_=(e,n)=>{n.fold(r=>{e.setEndBefore(r.dom)},(r,f)=>{e.setEnd(r.dom,f)},r=>{e.setEndAfter(r.dom)})},nk=(e,n,r)=>{const f=e.document.createRange();return gH(f,n),g_(f,r),f},Co=(e,n,r,f,w)=>{const B=e.document.createRange();return B.setStart(n.dom,r),B.setEnd(f.dom,w),B},Vh=ed.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),rk=(e,n,r)=>n(jt.fromDom(r.startContainer),r.startOffset,jt.fromDom(r.endContainer),r.endOffset),p_=(e,n)=>n.match({domRange:r=>({ltr:J(r),rtl:X.none}),relative:(r,f)=>({ltr:Dt(()=>nk(e,r,f)),rtl:Dt(()=>X.some(nk(e,f,r)))}),exact:(r,f,w,B)=>({ltr:Dt(()=>Co(e,r,f,w,B)),rtl:Dt(()=>X.some(Co(e,w,B,r,f)))})}),Y1=(e,n)=>{const r=n.ltr();return r.collapsed?n.rtl().filter(w=>w.collapsed===!1).map(w=>Vh.rtl(jt.fromDom(w.endContainer),w.endOffset,jt.fromDom(w.startContainer),w.startOffset)).getOrThunk(()=>rk(e,Vh.ltr,r)):rk(e,Vh.ltr,r)},v_=(e,n)=>{const r=p_(e,n);return Y1(e,r)};Vh.ltr,Vh.rtl;const vC={create:(e,n,r,f)=>({start:e,soffset:n,finish:r,foffset:f})},ak=(e,n,r)=>{var f,w;return X.from((w=(f=e.dom).caretPositionFromPoint)===null||w===void 0?void 0:w.call(f,n,r)).bind(B=>{if(B.offsetNode===null)return X.none();const Z=e.dom.createRange();return Z.setStart(B.offsetNode,B.offset),Z.collapse(),X.some(Z)})},cx=(e,n,r)=>{var f,w;return X.from((w=(f=e.dom).caretRangeFromPoint)===null||w===void 0?void 0:w.call(f,n,r))},y_=(()=>document.caretPositionFromPoint?ak:document.caretRangeFromPoint?cx:X.none)(),b_=(e,n,r)=>{const f=jt.fromDom(e.document);return y_(f,n,r).map(w=>vC.create(jt.fromDom(w.startContainer),w.startOffset,jt.fromDom(w.endContainer),w.endOffset))},Fv=ed.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),yC=(e,n,r,f)=>e.fold(n,r,f),sk=e=>e.fold(K,K,K),x_=Fv.before,w_=Fv.on,ux=Fv.after,Hd={before:x_,on:w_,after:ux,cata:yC,getStart:sk},fx=ed.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Na=e=>fx.exact(e.start,e.soffset,e.finish,e.foffset),C_=e=>e.match({domRange:n=>jt.fromDom(n.startContainer),relative:(n,r)=>Hd.getStart(n),exact:(n,r,f,w)=>n}),Uh=fx.domRange,zd=fx.relative,dx=fx.exact,_u=e=>{const n=C_(e);return mm(n)},hx=vC.create,Wh={domRange:Uh,relative:zd,exact:dx,exactFromRange:Na,getWin:_u,range:hx},Bv=(e,n)=>{const r=La(e);return r==="input"?Hd.after(e):Ve(["br","img"],r)?n===0?Hd.before(e):Hd.after(e):Hd.on(e,n)},K1=(e,n)=>{const r=e.fold(Hd.before,Bv,Hd.after),f=n.fold(Hd.before,Bv,Hd.after);return Wh.relative(r,f)},bC=(e,n,r,f)=>{const w=Bv(e,n),B=Bv(r,f);return Wh.relative(w,B)},S_=e=>e.match({domRange:n=>{const r=jt.fromDom(n.startContainer),f=jt.fromDom(n.endContainer);return bC(r,n.startOffset,f,n.endOffset)},relative:K1,exact:bC}),xC=(e,n)=>{const f=(n||document).createDocumentFragment();return ie(e,w=>{f.appendChild(w.dom)}),jt.fromDom(f)},T_=e=>{const n=Wh.getWin(e).dom,r=(w,B,Z,oe)=>Co(n,w,B,Z,oe),f=S_(e);return v_(n,f).match({ltr:r,rtl:r})},ya=(e,n,r)=>b_(e,n,r),Ru=(e,n,r)=>{const f=mm(jt.fromDom(r));return ya(f.dom,e,n).map(w=>{const B=r.createRange();return B.setStart(w.start.dom,w.soffset),B.setEnd(w.finish.dom,w.foffset),B}).getOrUndefined()},Zm=(e,n)=>k(e)&&k(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,k_=(e,n,r)=>{let f=e;for(;f&&f!==n;){if(r(f))return f;f=f.parentNode}return null},Hv=(e,n,r)=>k_(e,n,r)!==null,_a=(e,n,r)=>Hv(e,n,f=>f.nodeName===r),A_=(e,n)=>bt(e)&&!Hv(e,n,Mu),wC=(e,n,r)=>{const f=n.parentNode;if(f){const w=new es(n,e.getParent(f,e.isBlock)||e.getRoot());let B;for(;B=w[r?"prev":"next"]();)if(Ja(B))return!0}return!1},I=(e,n)=>{var r;return((r=e.previousSibling)===null||r===void 0?void 0:r.nodeName)===n},W=(e,n)=>{let r=n;for(;r&&r!==e;){if(fa(r))return!0;r=r.parentNode}return!1},te=(e,n,r,f,w)=>{const B=e.getRoot(),Z=e.schema.getNonEmptyElements(),oe=w.parentNode;let be,Pe;if(!oe)return X.none();const Ke=e.getParent(oe,e.isBlock)||B;if(f&&Ja(w)&&n&&e.isEmpty(Ke))return X.some(In(oe,e.nodeIndex(w)));const Je=new es(w,Ke);for(;Pe=Je[f?"prev":"next"]();){if(e.getContentEditableParent(Pe)==="false"||A_(Pe,B))return X.none();if(ir(Pe)&&Pe.data.length>0)return _a(Pe,B,"A")?X.none():X.some(In(Pe,f?Pe.data.length:0));if(e.isBlock(Pe)||Z[Pe.nodeName.toLowerCase()])return X.none();be=Pe}return gf(be)?X.none():r&&be?X.some(In(be,0)):X.none()},me=(e,n,r,f)=>{const w=e.getRoot();let B,Z=!1,oe=r?f.startContainer:f.endContainer,be=r?f.startOffset:f.endOffset;const Pe=Gr(oe)&&be===oe.childNodes.length,Ke=e.schema.getNonEmptyElements();let Je=r;if(bt(oe))return X.none();if(Gr(oe)&&be>oe.childNodes.length-1&&(Je=!1),wm(oe)&&(oe=w,be=0),oe===w){if(Je&&(B=oe.childNodes[be>0?be-1:0],B&&(bt(B)||Ke[B.nodeName]||yu(B))))return X.none();if(oe.hasChildNodes()){if(be=Math.min(!Je&&be>0?be-1:be,oe.childNodes.length-1),oe=oe.childNodes[be],be=ir(oe)&&Pe?oe.data.length:0,!n&&oe===w.lastChild&&yu(oe)||W(w,oe)||bt(oe)||qn(oe))return X.none();if(oe.hasChildNodes()&&!yu(oe)){B=oe;const at=new es(oe,w);do{if(fa(B)||bt(B)){Z=!1;break}if(ir(B)&&B.data.length>0){be=Je?0:B.data.length,oe=B,Z=!0;break}if(Ke[B.nodeName.toLowerCase()]&&!Wi(B)){be=e.nodeIndex(B),oe=B.parentNode,Je||be++,Z=!0;break}}while(B=Je?at.next():at.prev())}}}return n&&(ir(oe)&&be===0&&te(e,Pe,n,!0,oe).each(at=>{oe=at.container(),be=at.offset(),Z=!0}),Gr(oe)&&(B=oe.childNodes[be],B||(B=oe.childNodes[be-1]),B&&Ja(B)&&!I(B,"A")&&!wC(e,B,!1)&&!wC(e,B,!0)&&te(e,Pe,n,!0,B).each(at=>{oe=at.container(),be=at.offset(),Z=!0}))),Je&&!n&&ir(oe)&&be===oe.data.length&&te(e,Pe,n,!1,oe).each(at=>{oe=at.container(),be=at.offset(),Z=!0}),Z&&oe?X.some(In(oe,be)):X.none()},Le=(e,n)=>{const r=n.collapsed,f=n.cloneRange(),w=In.fromRangeStart(n);return me(e,r,!0,f).each(B=>{(!r||!In.isAbove(w,B))&&f.setStart(B.container(),B.offset())}),r||me(e,r,!1,f).each(B=>{f.setEnd(B.container(),B.offset())}),r&&f.collapse(!0),Zm(n,f)?X.none():X.some(f)},Ue=(e,n)=>e.splitText(n),nt=e=>{let n=e.startContainer,r=e.startOffset,f=e.endContainer,w=e.endOffset;if(n===f&&ir(n)){if(r>0&&r<n.data.length)if(f=Ue(n,r),n=f.previousSibling,w>r){w=w-r;const B=Ue(f,w).previousSibling;n=f=B,w=B.data.length,r=0}else w=0}else if(ir(n)&&r>0&&r<n.data.length&&(n=Ue(n,r),r=0),ir(f)&&w>0&&w<f.data.length){const B=Ue(f,w).previousSibling;f=B,w=B.data.length}return{startContainer:n,startOffset:r,endContainer:f,endOffset:w}},xt=e=>({walk:(B,Z)=>W1(e,B,Z),split:nt,expand:(B,Z={type:"word"})=>{if(Z.type==="word"){const oe=Hh(e,B,[{inline:"span"}]),be=e.createRng();return be.setStart(oe.startContainer,oe.startOffset),be.setEnd(oe.endContainer,oe.endOffset),be}return B},normalize:B=>Le(e,B).fold(ne,Z=>(B.setStart(Z.startContainer,Z.startOffset),B.setEnd(Z.endContainer,Z.endOffset),!0))});xt.compareRanges=Zm,xt.getCaretRangeFromPoint=Ru,xt.getSelectedNode=sw,xt.getNode=nu;const Jt=((e,n)=>{const r=(oe,be)=>{if(!F(be)&&!be.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+be);const Pe=oe.dom;kd(Pe)&&(Pe.style[e]=be+"px")},f=oe=>{const be=n(oe);if(be<=0||be===null){const Pe=ui(oe,e);return parseFloat(Pe)||0}return be},w=f,B=(oe,be)=>le(be,(Pe,Ke)=>{const Je=ui(oe,Ke),at=Je===void 0?0:parseInt(Je,10);return isNaN(at)?Pe:Pe+at},0);return{set:r,get:f,getOuter:w,aggregate:B,max:(oe,be,Pe)=>{const Ke=B(oe,Pe);return be>Ke?be-Ke:0}}})("height",e=>{const n=e.dom;return Td(e)?n.getBoundingClientRect().height:n.offsetHeight}),Tn=e=>Jt.get(e),sr=()=>jt.fromDom(document),Dr=(e,n)=>e.view(n).fold(J([]),f=>{const w=e.owner(f),B=Dr(e,w);return[f].concat(B)}),Rr=(e,n)=>{const r=n.owner(e);return Dr(n,r)};var Kn=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?X.none():X.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(jt.fromDom)},owner:e=>mf(e)});const oo=e=>{const n=sr(),r=Jc(n),f=Rr(e,Kn),w=Ch(e),B=pe(f,(Z,oe)=>{const be=Ch(oe);return{left:Z.left+be.left,top:Z.top+be.top}},{left:0,top:0});return bm(B.left+w.left+r.left,B.top+w.top+r.top)},Ro=e=>La(e)==="textarea",Qo=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),_s=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},Ji=(e,n)=>{const r=zi(e);if(r.length===0||Ro(e))return{element:e,offset:n};if(n<r.length&&!Ro(r[n]))return{element:r[n],offset:0};{const f=r[r.length-1];return Ro(f)?{element:e,offset:n}:La(f)==="img"?{element:f,offset:1}:Ei(f)?{element:f,offset:Dc(f).length}:{element:f,offset:zi(f).length}}},si=(e,n)=>{const r=nb(e),f=Tn(e);return{element:e,bottom:r.top+f,height:f,pos:r,cleanup:n}},Bc=(e,n)=>{const r=Ji(e,n),f=jt.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+ve+"</span>");return Ri(r.element,f),si(f,()=>Ua(f))},ap=e=>si(jt.fromDom(e),j),sp=(e,n,r,f)=>{lc(e,(w,B)=>mx(e,n,r,f),r)},CC=(e,n,r,f,w)=>{const B={elm:f.element.dom,alignToTop:w};if(Qo(e,B))return;const Z=Jc(n).top;r(e,n,Z,f,w),_s(e,B)},mx=(e,n,r,f)=>{const w=jt.fromDom(e.getBody()),B=jt.fromDom(e.getDoc());fi(w);const Z=Bc(jt.fromDom(r.startContainer),r.startOffset);CC(e,B,n,Z,f),Z.cleanup()},ls=(e,n,r,f)=>{const w=jt.fromDom(e.getDoc());CC(e,w,r,ap(n),f)},lc=(e,n,r)=>{const f=r.startContainer,w=r.startOffset,B=r.endContainer,Z=r.endOffset;n(jt.fromDom(f),jt.fromDom(B));const oe=e.dom.createRng();oe.setStart(f,w),oe.setEnd(B,Z),e.selection.setRng(r)},_l=(e,n,r,f,w)=>{const B=n.pos;if(f)Hp(B.left,B.top,w);else{const Z=B.top-r+n.height;Hp(-e.getBody().getBoundingClientRect().left,Z,w)}},Lu=(e,n,r,f,w,B)=>{const Z=f+r,oe=w.pos.top,be=w.bottom,Pe=be-oe>=f;oe<r?_l(e,w,f,B!==!1,n):oe>Z?_l(e,w,f,Pe?B!==!1:B===!0,n):be>Z&&!Pe&&_l(e,w,f,B===!0,n)},au=(e,n,r,f,w)=>{const B=mm(n).dom.innerHeight;Lu(e,n,r,B,f,w)},jm=(e,n,r,f,w)=>{const B=mm(n).dom.innerHeight;Lu(e,n,r,B,f,w);const Z=oo(f.element),oe=K0(window);Z.top<oe.y?j0(f.element,w!==!1):Z.top>oe.bottom&&j0(f.element,w===!0)},Tc=(e,n,r)=>sp(e,au,n,r),SC=(e,n,r)=>ls(e,n,au,r),X1=(e,n,r)=>sp(e,jm,n,r),Vd=(e,n,r)=>ls(e,n,jm,r),Hl=(e,n,r)=>{(e.inline?SC:Vd)(e,n,r)},J1=(e,n,r)=>{(e.inline?Tc:X1)(e,n,r)},ik=(e,n=!1)=>e.dom.focus({preventScroll:n}),lk=e=>{const n=Yu(e).dom;return e.dom===n.activeElement},zv=(e=sr())=>X.from(e.dom.activeElement).map(jt.fromDom),ck=e=>zv(Yu(e)).filter(n=>e.dom.contains(n.dom)),gx=(e,n)=>{const r=Ei(n)?Dc(n).length:zi(n).length+1;return e>r?r:e<0?0:e},uk=e=>Wh.range(e.start,gx(e.soffset,e.start),e.finish,gx(e.foffset,e.finish)),ip=(e,n)=>!vu(n.dom)&&(Dl(e,n)||Ba(e,n)),p$=e=>n=>ip(e,n.start)&&ip(e,n.finish),pH=e=>e.inline||Lr.browser.isFirefox(),vH=e=>Wh.range(jt.fromDom(e.startContainer),e.startOffset,jt.fromDom(e.endContainer),e.endOffset),yH=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?X.none():X.from(n.getRangeAt(0))).map(vH)},bH=e=>{const n=mm(e);return yH(n.dom).filter(p$(e))},v$=(e,n)=>X.from(n).filter(p$(e)).map(uk),y$=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),X.some(n)}catch{return X.none()}},px=e=>{const n=pH(e)?bH(jt.fromDom(e.getBody())):X.none();e.bookmark=n.isSome()?n:e.bookmark},M_=e=>(e.bookmark?e.bookmark:X.none()).bind(r=>v$(jt.fromDom(e.getBody()),r)).bind(y$),xH=e=>{M_(e).each(n=>e.selection.setRng(n))},x$={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},w$=(e,n)=>(F(n)||(n=0),setTimeout(e,n)),C$=(e,n)=>(F(n)||(n=0),setInterval(e,n)),Ef={setEditorTimeout:(e,n,r)=>w$(()=>{e.removed||n()},r),setEditorInterval:(e,n,r)=>{const f=C$(()=>{e.removed?clearInterval(f):n()},r);return f}},wH=e=>e.type==="nodechange"&&e.selectionChange,CH=(e,n)=>{const r=()=>{n.throttle()};Cs.DOM.bind(document,"mouseup",r),e.on("remove",()=>{Cs.DOM.unbind(document,"mouseup",r)})},SH=(e,n)=>{e.on("mouseup touchend",r=>{n.throttle()})},TH=(e,n)=>{SH(e,n),e.on("keyup NodeChange AfterSetSelectionRange",r=>{wH(r)||px(e)})},fk=e=>{const n=l1(()=>{px(e)},0);e.on("init",()=>{e.inline&&CH(e,n),TH(e,n)}),e.on("remove",()=>{n.cancel()})};let Q1;const dk=Cs.DOM,S$=e=>Gr(e)&&x$.isEditorUIElement(e),hk=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},mk=(e,n)=>{const r=gT(e);return dk.getParent(n,w=>S$(w)||(r?e.dom.is(w,r):!1))!==null},E_=e=>{try{const n=Yu(jt.fromDom(e.getElement()));return zv(n).fold(()=>document.body,r=>r.dom)}catch{return document.body}},kH=(e,n)=>{const r=n.editor;fk(r);const f=(w,B)=>{if(I4(w)&&w.inline!==!0){const Z=jt.fromDom(w.getContainer());B(Z,"tox-edit-focus")}};r.on("focusin",()=>{const w=e.focusedEditor;hk(E_(r))&&f(r,hh),w!==r&&(w&&w.dispatch("blur",{focusedEditor:r}),e.setActive(r),e.focusedEditor=r,r.dispatch("focus",{blurredEditor:w}),r.focus(!0))}),r.on("focusout",()=>{Ef.setEditorTimeout(r,()=>{const w=e.focusedEditor;(!hk(E_(r))||w!==r)&&f(r,mh),!mk(r,E_(r))&&w===r&&(r.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Q1||(Q1=w=>{const B=e.activeEditor;B&&$g(w).each(Z=>{const oe=Z;oe.ownerDocument===document&&oe!==document.body&&!mk(B,oe)&&e.focusedEditor===B&&(B.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},dk.bind(document,"focusin",Q1))},AH=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&Q1&&(dk.unbind(document,"focusin",Q1),Q1=null)},MH=e=>{e.on("AddEditor",Q(kH,e)),e.on("RemoveEditor",Q(AH,e))},EH=(e,n)=>e.dom.getParent(n,r=>e.dom.getContentEditable(r)==="true"),_H=e=>e.collapsed?X.from(nu(e.startContainer,e.startOffset)).map(jt.fromDom):X.none(),RH=(e,n)=>_H(n).bind(r=>bf(r)?X.some(r):Dl(e,r)?X.none():X.some(e)),T$=(e,n)=>{RH(jt.fromDom(e.getBody()),n).bind(r=>Sc(r.dom)).fold(()=>{e.selection.normalize()},r=>e.selection.setRng(r.toRange()))},__=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},LH=e=>lk(e)||ck(e).isSome(),DH=e=>k(e.iframeElement)&&lk(jt.fromDom(e.iframeElement)),gk=e=>{const n=e.getBody();return n&&LH(jt.fromDom(n))},k$=e=>{const n=Yu(jt.fromDom(e.getElement()));return zv(n).filter(r=>!hk(r.dom)&&mk(e,r.dom)).isSome()},Vv=e=>e.inline?gk(e):DH(e),A$=e=>Vv(e)||k$(e),$H=e=>{const n=e.selection,r=e.getBody();let f=n.getRng();e.quirks.refreshContentEditable(),k(e.bookmark)&&!Vv(e)&&M_(e).each(B=>{e.selection.setRng(B),f=B});const w=EH(e,n.getNode());if(w&&e.dom.isChildOf(w,r)){__(w),T$(e,f),R_(e);return}e.inline||(Lr.browser.isOpera()||__(r),e.getWin().focus()),(Lr.browser.isFirefox()||e.inline)&&(__(r),T$(e,f)),R_(e)},R_=e=>e.editorManager.setActive(e),OH=(e,n)=>{e.removed||(n?R_(e):$H(e))},M$=(e,n)=>n.collapsed?e.isEditable(n.startContainer):e.isEditable(n.startContainer)&&e.isEditable(n.endContainer),E$=(e,n,r,f,w)=>{const B=r?n.startContainer:n.endContainer,Z=r?n.startOffset:n.endOffset;return X.from(B).map(jt.fromDom).map(oe=>!f||!n.collapsed?Sd(oe,w(oe,Z)).getOr(oe):oe).bind(oe=>sl(oe)?X.some(oe):Rc(oe).filter(sl)).map(oe=>oe.dom).getOr(e)},L_=(e,n,r=!1)=>E$(e,n,!0,r,(f,w)=>Math.min(ll(f),w)),_$=(e,n,r=!1)=>E$(e,n,!1,r,(f,w)=>w>0?w-1:w),D_=(e,n)=>{const r=e;for(;e&&ir(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||r},R$=(e,n)=>{if(!n)return e;let r=n.startContainer,f=n.endContainer;const w=n.startOffset,B=n.endOffset;let Z=n.commonAncestorContainer;n.collapsed||(r===f&&B-w<2&&r.hasChildNodes()&&(Z=r.childNodes[w]),ir(r)&&ir(f)&&(r.length===w?r=D_(r.nextSibling,!0):r=r.parentNode,B===0?f=D_(f.previousSibling,!1):f=f.parentNode,r&&r===f&&(Z=r)));const oe=ir(Z)?Z.parentNode:Z;return xl(oe)?oe:e},PH=(e,n,r,f)=>{const w=[],B=e.getRoot(),Z=e.getParent(r||L_(B,n,n.collapsed),e.isBlock),oe=e.getParent(f||_$(B,n,n.collapsed),e.isBlock);if(Z&&Z!==B&&w.push(Z),Z&&oe&&Z!==oe){let be;const Pe=new es(Z,B);for(;(be=Pe.next())&&be!==oe;)e.isBlock(be)&&w.push(be)}return oe&&Z!==oe&&oe!==B&&w.push(oe),w},IH=(e,n,r)=>X.from(n).bind(f=>X.from(f.parentNode).map(w=>{const B=e.nodeIndex(f),Z=e.createRng();return Z.setStart(w,B),Z.setEnd(w,B+1),r&&(rC(e,Z,f,!0),rC(e,Z,f,!1)),Z})),$_=(e,n)=>Fe(n,r=>{const f=e.dispatch("GetSelectionRange",{range:r});return f.range!==r?f.range:r}),NH=e=>La(e)==="img"?1:Wp(e).fold(()=>zi(e).length,n=>n.length),FH=e=>Wp(e).filter(n=>n.trim().length!==0||n.indexOf(Da)>-1).isSome(),BH=e=>Ps(e)&&il(e,"contenteditable")==="false",HH=["img","br"],L$=e=>FH(e)||Ve(HH,La(e))||BH(e),zH=e=>bl(e,L$),VH=e=>UH(e,L$),UH=(e,n)=>{const r=f=>{const w=zi(f);for(let B=w.length-1;B>=0;B--){const Z=w[B];if(n(Z))return X.some(Z);const oe=r(Z);if(oe.isSome())return oe}return X.none()};return r(e)},D$="[data-mce-autocompleter]",WH=(e,n)=>{if($$(jt.fromDom(e.getBody())).isNone()){const r=jt.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());di(r,jt.fromDom(n.extractContents())),n.insertNode(r.dom),Rc(r).each(f=>f.dom.normalize()),VH(r).map(f=>{e.selection.setCursorLocation(f.dom,NH(f))})}},GH=e=>Ku(e,D$),$$=e=>Jl(e,D$),ZH=(e,n)=>$$(n).each(r=>{const f=e.selection.getBookmark();Xu(r),e.selection.moveToBookmark(f)}),jH={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},pk=(e,n,r)=>{const f=r?"lastChild":"firstChild",w=r?"prev":"next";if(e[f])return e[f];if(e!==n){let B=e[w];if(B)return B;for(let Z=e.parent;Z&&Z!==n;Z=Z.parent)if(B=Z[w],B)return B}},YH=e=>{var n;const r=(n=e.value)!==null&&n!==void 0?n:"";if(!As(r))return!1;const f=e.parent;return!(f&&(f.name!=="span"||f.attr("style"))&&/^[ ]+$/.test(r))},po=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Hc{static create(n,r){const f=new Hc(n,jH[n]||1);return r&&Ft(r,(w,B)=>{f.attr(B,w)}),f}constructor(n,r){this.name=n,this.type=r,r===1&&(this.attributes=[],this.attributes.map={})}replace(n){const r=this;return n.parent&&n.remove(),r.insert(n,r),r.remove(),r}attr(n,r){const f=this;if(!C(n))return k(n)&&Ft(n,(B,Z)=>{f.attr(Z,B)}),f;const w=f.attributes;if(w){if(r!==void 0){if(r===null){if(n in w.map){delete w.map[n];let B=w.length;for(;B--;)if(w[B].name===n)return w.splice(B,1),f}return f}if(n in w.map){let B=w.length;for(;B--;)if(w[B].name===n){w[B].value=r;break}}else w.push({name:n,value:r});return w.map[n]=r,f}return w.map[n]}}clone(){const n=this,r=new Hc(n.name,n.type),f=n.attributes;if(f){const w=[];w.map={};for(let B=0,Z=f.length;B<Z;B++){const oe=f[B];oe.name!=="id"&&(w[w.length]={name:oe.name,value:oe.value},w.map[oe.name]=oe.value)}r.attributes=w}return r.value=n.value,r}wrap(n){const r=this;return r.parent&&(r.parent.insert(n,r),n.append(r)),r}unwrap(){const n=this;for(let r=n.firstChild;r;){const f=r.next;n.insert(r,n,!0),r=f}n.remove()}remove(){const n=this,r=n.parent,f=n.next,w=n.prev;return r&&(r.firstChild===n?(r.firstChild=f,f&&(f.prev=null)):w&&(w.next=f),r.lastChild===n?(r.lastChild=w,w&&(w.next=null)):f&&(f.prev=w),n.parent=n.next=n.prev=null),n}append(n){const r=this;n.parent&&n.remove();const f=r.lastChild;return f?(f.next=n,n.prev=f,r.lastChild=n):r.lastChild=r.firstChild=n,n.parent=r,n}insert(n,r,f){n.parent&&n.remove();const w=r.parent||this;return f?(r===w.firstChild?w.firstChild=n:r.prev&&(r.prev.next=n),n.prev=r.prev,n.next=r,r.prev=n):(r===w.lastChild?w.lastChild=n:r.next&&(r.next.prev=n),n.next=r.next,n.prev=r,r.next=n),n.parent=w,n}getAll(n){const r=this,f=[];for(let w=r.firstChild;w;w=pk(w,r))w.name===n&&f.push(w);return f}children(){const n=this,r=[];for(let f=n.firstChild;f;f=f.next)r.push(f);return r}empty(){const n=this;if(n.firstChild){const r=[];for(let w=n.firstChild;w;w=pk(w,n))r.push(w);let f=r.length;for(;f--;){const w=r[f];w.parent=w.firstChild=w.lastChild=w.next=w.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,r={},f){var w;const B=this;let Z=B.firstChild;if(po(B))return!1;if(Z)do{if(Z.type===1){if(Z.attr("data-mce-bogus"))continue;if(n[Z.name]||po(Z))return!1}if(Z.type===8||Z.type===3&&!YH(Z)||Z.type===3&&Z.parent&&r[Z.parent.name]&&As((w=Z.value)!==null&&w!==void 0?w:"")||f&&f(Z))return!1}while(Z=pk(Z,B));return!0}walk(n){return pk(this,null,n)}}const O$=ur.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),P$=e=>C(e.nodeValue)&&e.nodeValue.includes(ve),vk=e=>`${e.length===0?"":`${Fe(e,n=>`[${n}]`).join(",")},`}[data-mce-bogus="all"]`,KH=(e,n)=>n.querySelectorAll(vk(e)),I$=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,n=>P$(n)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),N$=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n=>{if(P$(n)){const r=n.parentNode;return r&&lt(O$,r.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),XH=e=>I$(e).nextNode()!==null,JH=e=>N$(e).nextNode()!==null,yk=(e,n)=>n.querySelector(vk(e))!==null,F$=(e,n)=>{ie(KH(e,n),r=>{const f=jt.fromDom(r);il(f,"data-mce-bogus")==="all"?Ua(f):ie(e,w=>{Gu(f,w)&&Xs(f,w)})})},QH=e=>{let n=e.nextNode();for(;n!==null;)n.nodeValue=null,n=e.nextNode()},qH=P(QH,I$),Ho=P(QH,N$),B$=(e,n)=>{const r=[{condition:Q(yk,n),action:Q(F$,n)},{condition:XH,action:qH},{condition:JH,action:Ho}];let f=e,w=!1;return ie(r,({condition:B,action:Z})=>{B(f)&&(w||(f=e.cloneNode(!0),w=!0),Z(f))}),f},jo=e=>{const n=Vi(e,"[data-mce-bogus]");ie(n,r=>{il(r,"data-mce-bogus")==="all"?Ua(r):vf(r)?(Ri(r,jt.fromText(Cm)),Ua(r)):Xu(r)})},O_=e=>{const n=Vi(e,"input");ie(n,r=>{Xs(r,"name")})},cee=(e,n)=>{const r=ac(e),f=new RegExp(`^(<${r}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${r}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(f,"")},uee=(e,n)=>{const r=e.getDoc(),f=Yu(jt.fromDom(e.getBody())),w=jt.fromTag("div",r);ws(w,"data-mce-bogus","all"),$l(w,{position:"fixed",left:"-9999999px",top:"0"}),bh(w,n.innerHTML),jo(w),O_(w);const B=_3(f);di(B,w);const Z=_e(w.dom.innerText);return Ua(w),Z},ez=(e,n,r)=>{let f;return n.format==="raw"?f=ur.trim(_e(B$(r,e.serializer.getTempAttrs()).innerHTML)):n.format==="text"?f=uee(e,r):n.format==="tree"?f=e.serializer.serialize(r,n):f=cee(e,e.serializer.serialize(r,n)),n.format!=="text"&&!Li(jt.fromDom(r))&&C(f)?ur.trim(f):f},fee=(e,n)=>X.from(e.getBody()).fold(J(n.format==="tree"?new Hc("body",11):""),r=>ez(e,n,r)),tz=ur.makeMap,H$=e=>{const n=[];e=e||{};const r=e.indent,f=tz(e.indent_before||""),w=tz(e.indent_after||""),B=km.getEncodeFunc(e.entity_encoding||"raw",e.entities),Z=e.element_format!=="xhtml";return{start:(oe,be,Pe)=>{if(r&&f[oe]&&n.length>0){const Ke=n[n.length-1];Ke.length>0&&Ke!==`
`&&n.push(`
`)}if(n.push("<",oe),be)for(let Ke=0,Je=be.length;Ke<Je;Ke++){const at=be[Ke];n.push(" ",at.name,'="',B(at.value,!0),'"')}if(!Pe||Z?n[n.length]=">":n[n.length]=" />",Pe&&r&&w[oe]&&n.length>0){const Ke=n[n.length-1];Ke.length>0&&Ke!==`
`&&n.push(`
`)}},end:oe=>{let be;n.push("</",oe,">"),r&&w[oe]&&n.length>0&&(be=n[n.length-1],be.length>0&&be!==`
`&&n.push(`
`))},text:(oe,be)=>{oe.length>0&&(n[n.length]=be?oe:B(oe))},cdata:oe=>{n.push("<![CDATA[",oe,"]]>")},comment:oe=>{n.push("<!--",oe,"-->")},pi:(oe,be)=>{be?n.push("<?",oe," ",B(be),"?>"):n.push("<?",oe,"?>"),r&&n.push(`
`)},doctype:oe=>{n.push("<!DOCTYPE",oe,">",r?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},Uv=(e={},n=_h())=>{const r=H$(e);return e.validate="validate"in e?e.validate:!0,{serialize:w=>{const B=e.validate,Z={3:be=>{var Pe;r.text((Pe=be.value)!==null&&Pe!==void 0?Pe:"",be.raw)},8:be=>{var Pe;r.comment((Pe=be.value)!==null&&Pe!==void 0?Pe:"")},7:be=>{r.pi(be.name,be.value)},10:be=>{var Pe;r.doctype((Pe=be.value)!==null&&Pe!==void 0?Pe:"")},4:be=>{var Pe;r.cdata((Pe=be.value)!==null&&Pe!==void 0?Pe:"")},11:be=>{let Pe=be;if(Pe=Pe.firstChild)do oe(Pe);while(Pe=Pe.next)}};r.reset();const oe=be=>{var Pe;const Ke=Z[be.type];if(Ke)Ke(be);else{const Je=be.name,at=Je in n.getVoidElements();let Rt=be.attributes;if(B&&Rt&&Rt.length>1){const Ht=[];Ht.map={};const At=n.getElementRule(be.name);if(At){for(let It=0,ln=At.attributesOrder.length;It<ln;It++){const xn=At.attributesOrder[It];if(xn in Rt.map){const yn=Rt.map[xn];Ht.map[xn]=yn,Ht.push({name:xn,value:yn})}}for(let It=0,ln=Rt.length;It<ln;It++){const xn=Rt[It].name;if(!(xn in Ht.map)){const yn=Rt.map[xn];Ht.map[xn]=yn,Ht.push({name:xn,value:yn})}}Rt=Ht}}if(r.start(Je,Rt,at),nc(Je))C(be.value)&&r.text(be.value,!0),r.end(Je);else if(!at){let Ht=be.firstChild;if(Ht){(Je==="pre"||Je==="textarea")&&Ht.type===3&&((Pe=Ht.value)===null||Pe===void 0?void 0:Pe[0])===`
`&&r.text(`
`,!0);do oe(Ht);while(Ht=Ht.next)}r.end(Je)}}};return w.type===1&&!e.inner?oe(w):w.type===3?Z[3](w):Z[11](w),r.getContent()}}},ko=new Set;ie(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{ko.add(n)});const z$=["font","text-decoration","text-emphasis"],P_=(e,n)=>Yt(e.parseStyle(e.getAttrib(n,"style"))),nz=e=>ko.has(e),TC=(e,n)=>We(P_(e,n),r=>!nz(r)),V$=e=>ue(e,n=>Oe(z$,r=>wr(n,r))),rz=(e,n,r)=>{const f=P_(e,n),w=P_(e,r),B=Z=>{var oe,be;const Pe=(oe=e.getStyle(n,Z))!==null&&oe!==void 0?oe:"",Ke=(be=e.getStyle(r,Z))!==null&&be!==void 0?be:"";return St(Pe)&&St(Ke)&&Pe!==Ke};return Oe(f,Z=>{const oe=be=>Oe(be,Pe=>Pe===Z);if(!oe(w)&&oe(z$)){const be=V$(w);return Oe(be,B)}else return B(Z)})},U$=(e,n,r)=>X.from(r.container()).filter(ir).exists(f=>{const w=e?0:-1;return n(f.data.charAt(r.offset()+w))}),I_=Q(U$,!0,Lv),bk=Q(U$,!1,Lv),oz=e=>{const n=e.container();return ir(n)&&(n.data.length===0||Ae(n.data)&&rp.isBookmarkNode(n.parentNode))},q1=(e,n)=>r=>M1(e?0:-1,r).filter(n).isSome(),az=e=>ul(e)&&ui(jt.fromDom(e),"display")==="block",W$=e=>fa(e)&&!Sh(e),sz=q1(!0,az),iz=q1(!1,az),kC=q1(!0,zs),vx=q1(!1,zs),G$=q1(!0,yu),qo=q1(!1,yu),lp=q1(!0,W$),Gh=q1(!1,W$),Z$=e=>e.slice(0,-1),j$=(e,n,r)=>Dl(n,e)?Z$(N0(e,f=>r(f)||Ba(f,n))):[],N_=(e,n)=>j$(e,n,ne),Ym=(e,n)=>[e].concat(N_(e,n)),xk=(e,n,r)=>Tf(e,n,r,oz),lz=e=>n=>e.isBlock(La(n)),F_=(e,n,r)=>de(Ym(jt.fromDom(n.container()),e),lz(r)),Y$=(e,n,r,f)=>xk(e,n.dom,r).forall(w=>F_(n,r,f).fold(()=>!td(w,r,n.dom),B=>!td(w,r,n.dom)&&Dl(B,jt.fromDom(w.container())))),K$=(e,n,r,f)=>F_(n,r,f).fold(()=>xk(e,n.dom,r).forall(w=>!td(w,r,n.dom)),w=>xk(e,w.dom,r).isNone()),B_=Q(K$,!1),X$=Q(K$,!0),cz=Q(Y$,!1),uz=Q(Y$,!0),fz=e=>Gb(e).exists(vf),wk=(e,n,r,f)=>{const w=ue(Ym(jt.fromDom(r.container()),n),Z=>f.isBlock(La(Z))),B=gt(w).getOr(n);return dl(e,B.dom,r).filter(fz)},AC=(e,n,r)=>Gb(n).exists(vf)||wk(!0,e,n,r).isSome(),MC=(e,n,r)=>Z4(n).exists(vf)||wk(!1,e,n,r).isSome(),dz=Q(wk,!1),hz=Q(wk,!0),J$=e=>In.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),Q$=(e,n,r)=>{const f=ue(Ym(jt.fromDom(n.container()),e),w=>r.isBlock(La(w)));return gt(f).getOr(e)},q$=(e,n,r)=>J$(n)?bk(n):bk(n)||Nc(Q$(e,n,r).dom,n).exists(bk),e8=(e,n,r)=>J$(n)?I_(n):I_(n)||ic(Q$(e,n,r).dom,n).exists(I_),mz=e=>Ve(["pre","pre-wrap"],e),H_=e=>Gb(e).bind(n=>Xc(n,sl)).exists(n=>mz(ui(n,"white-space"))),t8=(e,n)=>Nc(e.dom,n).isNone(),gz=(e,n)=>ic(e.dom,n).isNone(),pz=(e,n,r)=>t8(e,n)||gz(e,n)||B_(e,n,r)||X$(e,n,r)||MC(e,n,r)||AC(e,n,r),ey=e=>k(e)&&fa(e)&&Im(e),n8=(e,n)=>r=>ey(new es(r,e)[n]()),r8=(e,n)=>{const r=ic(e.dom,n).getOr(n),f=n8(e.dom,"next");return n.isAtEnd()&&(f(n.container())||f(r.container()))},vz=(e,n)=>{const r=Nc(e.dom,n).getOr(n),f=n8(e.dom,"prev");return n.isAtStart()&&(f(n.container())||f(r.container()))},o8=(e,n,r)=>H_(n)?!1:pz(e,n,r)||q$(e,n,r)||e8(e,n,r),yx=(e,n,r)=>H_(n)?!1:B_(e,n,r)||cz(e,n,r)||MC(e,n,r)||q$(e,n,r)||vz(e,n),a8=e=>{const n=e.container(),r=e.offset();return ir(n)&&r<n.data.length?In(n,r+1):e},bx=(e,n,r)=>H_(n)?!1:X$(e,n,r)||uz(e,n,r)||AC(e,n,r)||e8(e,n,r)||r8(e,n),Ck=(e,n,r)=>yx(e,n,r)||bx(e,a8(n),r),zc=(e,n)=>Jb(e.charAt(n)),s8=(e,n)=>Lv(e.charAt(n)),yz=e=>{const n=e.container();return ir(n)&&or(n.data,Da)},bz=e=>{const n=e.split("");return Fe(n,(r,f)=>Jb(r)&&f>0&&f<n.length-1&&Vm(n[f-1])&&Vm(n[f+1])?" ":r).join("")},i8=(e,n,r,f)=>{const w=n.data,B=In(n,0);return!r&&zc(w,0)&&!Ck(e,B,f)?(n.data=" "+w.slice(1),!0):r&&s8(w,0)&&yx(e,B,f)?(n.data=Da+w.slice(1),!0):!1},xz=e=>{const n=e.data,r=bz(n);return r!==n?(e.data=r,!0):!1},Wv=(e,n,r,f)=>{const w=n.data,B=In(n,w.length-1);return!r&&zc(w,w.length-1)&&!Ck(e,B,f)?(n.data=w.slice(0,-1)+" ",!0):r&&s8(w,w.length-1)&&bx(e,B,f)?(n.data=w.slice(0,-1)+Da,!0):!1},wz=(e,n,r)=>{const f=n.container();if(!ir(f))return X.none();if(yz(n)){const w=i8(e,f,!1,r)||xz(f)||Wv(e,f,!1,r);return Bo(w,n)}else if(Ck(e,n,r)){const w=i8(e,f,!0,r)||Wv(e,f,!0,r);return Bo(w,n)}else return X.none()},Cz=e=>{const n=jt.fromDom(e.getBody());e.selection.isCollapsed()&&wz(n,In.fromRangeStart(e.selection.getRng()),e.schema).each(r=>{e.selection.setRng(r.toRange())})},Ws=(e,n,r,f)=>{if(r===0)return;const w=jt.fromDom(e),B=Js(w,Pe=>f.isBlock(La(Pe))).getOr(w),Z=e.data.slice(n,n+r),oe=n+r>=e.data.length&&bx(B,In(e,e.data.length),f),be=n===0&&yx(B,In(e,0),f);e.replaceData(n,r,Ii(Z,4,be,oe))},ty=(e,n,r)=>{const f=e.data.slice(n),w=f.length-He(f).length;Ws(e,n,w,r)},l8=(e,n,r)=>{const f=e.data.slice(0,n),w=f.length-De(f).length;Ws(e,n-w,w,r)},hl=(e,n,r,f,w=!0)=>{const B=De(e.data).length,Z=w?e:n,oe=w?n:e;return w?Z.appendData(oe.data):Z.insertData(0,oe.data),Ua(jt.fromDom(oe)),f&&ty(Z,B,r),Z},Sz=(e,n)=>{const r=e.container(),f=e.offset();return!In.isTextPosition(e)&&r===n.parentNode&&f>In.before(n).offset()},Tz=(e,n)=>Sz(n,e)?In(n.container(),n.offset()-1):n,cp=e=>ir(e)?In(e,0):In.before(e),Qa=e=>ir(e)?In(e,e.data.length):In.after(e),z_=e=>fo(e.previousSibling)?X.some(Qa(e.previousSibling)):e.previousSibling?kf(e.previousSibling):X.none(),V_=e=>fo(e.nextSibling)?X.some(cp(e.nextSibling)):e.nextSibling?Sc(e.nextSibling):X.none(),kz=(e,n)=>X.from(n.previousSibling?n.previousSibling:n.parentNode).bind(r=>Nc(e,In.before(r))).orThunk(()=>ic(e,In.after(n))),Az=(e,n)=>ic(e,In.after(n)).orThunk(()=>Nc(e,In.before(n))),Mz=(e,n)=>z_(n).orThunk(()=>V_(n)).orThunk(()=>kz(e,n)),of=(e,n)=>V_(n).orThunk(()=>z_(n)).orThunk(()=>Az(e,n)),Zh=(e,n,r)=>e?of(n,r):Mz(n,r),Ez=(e,n,r)=>Zh(e,n,r).map(Q(Tz,r)),Sk=(e,n,r)=>{r.fold(()=>{e.focus()},f=>{e.selection.setRng(f.toRange(),n)})},U_=e=>n=>n.dom===e,_z=(e,n)=>n&&lt(e.schema.getBlockElements(),La(n)),Rz=(e,n)=>{if(Za(e)){const r=jt.fromHtml('<br data-mce-bogus="1">');return n?ie(zi(e),f=>{H1(f)||Ua(f)}):Ad(e),di(e,r),X.some(In.before(r.dom))}else return X.none()},EC=(e,n,r,f)=>{const w=hu(e).filter(Ei),B=Lg(e).filter(Ei);return Ua(e),qi(w,B,n,(Z,oe,be)=>{const Pe=Z.dom,Ke=oe.dom,Je=Pe.data.length;return hl(Pe,Ke,r,f),be.container()===Ke?In(Pe,Je):be}).orThunk(()=>(f&&(w.each(Z=>l8(Z.dom,Z.dom.length,r)),B.each(Z=>ty(Z.dom,0,r))),n))},Tk=(e,n)=>lt(e.schema.getTextInlineElements(),La(n)),up=(e,n,r,f=!0,w=!1)=>{const B=Ez(n,e.getBody(),r.dom),Z=Js(r,Q(_z,e),U_(e.getBody())),oe=EC(r,B,e.schema,Tk(e,r));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):Z.bind(be=>Rz(be,w)).fold(()=>{f&&Sk(e,n,oe)},be=>{f&&Sk(e,n,X.some(be))})},Lz=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,jh=e=>Lz.test(e),ny=(e,n)=>du(jt.fromDom(n),x4(e))&&!pa(e.schema,n)&&e.dom.isEditable(n),c8=e=>{var n;return Cs.DOM.getStyle(e,"direction",!0)==="rtl"||jh((n=e.textContent)!==null&&n!==void 0?n:"")},sd=(e,n,r)=>ue(Cs.DOM.getParents(r.container(),"*",n),e),Ud=(e,n,r)=>{const f=sd(e,n,r);return X.from(f[f.length-1])},Wd=(e,n,r)=>{const f=Ph(n,e),w=Ph(r,e);return k(f)&&f===w},Dz=e=>mn(e)||An(e),Ta=(e,n)=>{const r=n.container(),f=n.offset();return e?yt(r)?ir(r.nextSibling)?In(r.nextSibling,0):In.after(r):mn(n)?In(r,f+1):n:yt(r)?ir(r.previousSibling)?In(r.previousSibling,r.previousSibling.data.length):In.before(r):An(n)?In(r,f-1):n},ry=Q(Ta,!0),_C=Q(Ta,!1),W_=(e,n)=>{const r=f=>f.stopImmediatePropagation();e.on("beforeinput input",r,!0),e.getDoc().execCommand(n),e.off("beforeinput input",r)},G_=e=>{e.execCommand("delete")},RC=e=>W_(e,"Delete"),$z=e=>W_(e,"ForwardDelete"),Z_=e=>n=>Ms(Rc(n),e,Ba),Oz=e=>En(e)||yf(e),LC=(e,n)=>Dl(e,n)?Xc(n,Oz,Z_(e)):X.none(),kk=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},Ak=(e,n,r)=>Es(Sc(r),kf(r),(f,w)=>{const B=Ta(!0,f),Z=Ta(!1,w),oe=Ta(!1,n);return e?ic(r,oe).exists(be=>be.isEqual(Z)&&n.isEqual(B)):Nc(r,oe).exists(be=>be.isEqual(B)&&n.isEqual(Z))}).getOr(!0),j_=e=>(P2(e)?hu(e):Xl(e)).bind(j_).orThunk(()=>X.some(e)),DC=(e,n,r,f=!0)=>{var w;n.deleteContents();const B=j_(r).getOr(r),Z=jt.fromDom((w=e.dom.getParent(B.dom,e.dom.isBlock))!==null&&w!==void 0?w:r.dom);if(Z.dom===e.getBody()?kk(e,f):Za(Z)&&(U(Z),f&&e.selection.setCursorLocation(Z.dom,0)),!Ba(r,Z)){const oe=Ms(Rc(Z),r)?[]:Jy(Z);ie(oe.concat(zi(r)),be=>{!Ba(be,Z)&&!Dl(be,Z)&&Za(be)&&Ua(be)})}},Pz=(e,n,r)=>Js(e,n,r).isSome(),Iz=(e,n)=>H0(e,n).isSome(),u8=(e,n)=>bl(e,n).isSome(),Nz=e=>n=>Ba(e,n),Y_=e=>Vi(e,"td,th"),K_=(e,n)=>Fh(jt.fromDom(e),n),Fz=e=>Es(e.startTable,e.endTable,(n,r)=>{const f=u8(n,B=>Ba(B,r)),w=u8(r,B=>Ba(B,n));return!f&&!w?e:{...e,startTable:f?X.none():e.startTable,endTable:w?X.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),Bz=e=>Fz(e),f8=(e,n)=>{const r=K_(e.startContainer,n),f=K_(e.endContainer,n),w=r.isSome(),B=f.isSome(),Z=Es(r,f,Ba).getOr(!1);return Bz({startTable:r,endTable:f,isStartInTable:w,isEndInTable:B,isSameTable:Z,isMultiTable:!Z&&w&&B})},Mk=(e,n)=>({start:e,end:n}),Hz=(e,n,r)=>({rng:e,table:n,cells:r}),$C=ed.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),OC=(e,n)=>Ku(jt.fromDom(e),"td,th",n),d8=e=>!Ba(e.start,e.end),X_=(e,n)=>Fh(e.start,n).bind(r=>Fh(e.end,n).bind(f=>Bo(Ba(r,f),r))),_f=(e,n)=>!d8(e)&&X_(e,n).exists(r=>{const f=r.dom.rows;return f.length===1&&f[0].cells.length===1}),zz=(e,n)=>{const r=OC(e.startContainer,n),f=OC(e.endContainer,n);return Es(r,f,Mk)},h8=e=>n=>Fh(n,e).bind(r=>ut(Y_(r)).map(f=>Mk(n,f))),J_=e=>n=>Fh(n,e).bind(r=>gt(Y_(r)).map(f=>Mk(f,n))),PC=e=>n=>X_(n,e).map(r=>Hz(n,r,Y_(r))),Q_=(e,n,r,f)=>{if(r.collapsed||!e.forall(d8))return X.none();if(n.isSameTable){const w=e.bind(PC(f));return X.some({start:w,end:w})}else{const w=OC(r.startContainer,f),B=OC(r.endContainer,f),Z=w.bind(h8(f)).bind(PC(f)),oe=B.bind(J_(f)).bind(PC(f));return X.some({start:Z,end:oe})}},q_=(e,n)=>Me(e,r=>Ba(r,n)),e5=e=>Es(q_(e.cells,e.rng.start),q_(e.cells,e.rng.end),(n,r)=>e.cells.slice(n,r+1)),Vz=(e,n,r)=>e.exists(f=>_f(f,r)&&nC(f.start,n)),Ek=(e,n)=>{const{startTable:r,endTable:f}=n,w=e.cloneRange();return r.each(B=>w.setStartAfter(B.dom)),f.each(B=>w.setEndBefore(B.dom)),w},m8=(e,n,r,f)=>Q_(e,n,r,f).bind(({start:w,end:B})=>w.or(B)).bind(w=>{const{isSameTable:B}=n,Z=e5(w).getOr([]);if(B&&w.cells.length===Z.length)return X.some($C.fullTable(w.table));if(Z.length>0){if(B)return X.some($C.partialTable(Z,X.none()));{const oe=Ek(r,n);return X.some($C.partialTable(Z,X.some({...n,rng:oe})))}}else return X.none()}),Gd=(e,n,r,f)=>Q_(e,n,r,f).bind(({start:w,end:B})=>{const Z=w.bind(e5).getOr([]),oe=B.bind(e5).getOr([]);if(Z.length>0&&oe.length>0){const be=Ek(r,n);return X.some($C.multiTable(Z,oe,be))}else return X.none()}),Uz=(e,n)=>{const r=Nz(e),f=zz(n,r),w=f8(n,r);return Vz(f,n,r)?f.map(B=>$C.singleCellTable(n,B.start)):w.isMultiTable?Gd(f,w,n,r):m8(f,w,n,r)},g8=e=>ie(e,n=>{Xs(n,"contenteditable"),U(n)}),dee=(e,n)=>X.from(e.dom.getParent(n,e.dom.isBlock)).map(jt.fromDom),t5=(e,n,r)=>{r.each(f=>{n?Ua(f):(U(f),e.selection.setCursorLocation(f.dom,0))})},n5=(e,n,r,f)=>{const w=r.cloneRange();f?(w.setStart(r.startContainer,r.startOffset),w.setEndAfter(n.dom.lastChild)):(w.setStartBefore(n.dom.firstChild),w.setEnd(r.endContainer,r.endOffset)),af(e,w,n,!1).each(B=>B())},oy=e=>{const n=Dv(e),r=jt.fromDom(e.selection.getNode());Bg(r.dom)&&Za(r)?e.selection.setCursorLocation(r.dom,0):e.selection.collapse(!0),n.length>1&&Oe(n,f=>Ba(f,r))&&ws(r,"data-mce-selected","1")},p8=(e,n,r)=>X.some(()=>{const f=e.selection.getRng(),w=r.bind(({rng:B,isStartInTable:Z})=>{const oe=dee(e,Z?B.endContainer:B.startContainer);B.deleteContents(),t5(e,Z,oe.filter(Za));const be=Z?n[0]:n[n.length-1];return n5(e,be,f,Z),Za(be)?X.none():X.some(Z?n.slice(1):n.slice(0,-1))}).getOr(n);g8(w),oy(e)}),xx=(e,n,r,f)=>X.some(()=>{const w=e.selection.getRng(),B=n[0],Z=r[r.length-1];n5(e,B,w,!0),n5(e,Z,w,!1);const oe=Za(B)?n:n.slice(1),be=Za(Z)?r:r.slice(0,-1);g8(oe.concat(be)),f.deleteContents(),oy(e)}),af=(e,n,r,f=!0)=>X.some(()=>{DC(e,n,r,f)}),IC=(e,n)=>X.some(()=>up(e,!1,n)),xs=(e,n,r)=>Uz(n,r).bind(f=>f.fold(Q(af,e),Q(IC,e),Q(p8,e),Q(xx,e))),NC=(e,n)=>wx(e,n),v8=(e,n,r,f)=>FC(n,f).fold(()=>xs(e,n,r),w=>NC(e,w)),y8=(e,n,r)=>{const f=jt.fromDom(e.getBody()),w=e.selection.getRng();return r.length!==0?p8(e,r,X.none()):v8(e,f,w,n)},_k=(e,n)=>de(Ym(n,e),bc),FC=(e,n)=>de(Ym(n,e),Yc("caption")),r5=(e,n,r,f,w)=>Nh(r,e.getBody(),w).bind(B=>_k(n,jt.fromDom(B.getNode())).bind(Z=>Ba(Z,f)?X.none():X.some(j))),wx=(e,n)=>X.some(()=>{U(n),e.selection.setCursorLocation(n.dom,0)}),Rk=(e,n,r,f)=>Sc(e.dom).bind(w=>kf(e.dom).map(B=>n?r.isEqual(w)&&f.isEqual(B):r.isEqual(B)&&f.isEqual(w))).getOr(!0),o5=(e,n)=>wx(e,n),b8=(e,n,r)=>FC(e,jt.fromDom(r.getNode())).fold(()=>X.some(j),f=>Bo(!Ba(f,n),j)),x8=(e,n,r,f,w)=>Nh(r,e.getBody(),w).fold(()=>X.some(j),B=>Rk(f,r,w,B)?o5(e,f):b8(n,f,B)),w8=(e,n,r,f)=>{const w=In.fromRangeStart(e.selection.getRng());return _k(r,f).bind(B=>Za(B)?wx(e,B):r5(e,r,n,B,w))},C8=(e,n,r,f)=>{const w=In.fromRangeStart(e.selection.getRng());return Za(f)?wx(e,f):x8(e,r,n,f,w)},a5=(e,n)=>e?G$(n):qo(n),Cx=(e,n)=>{const r=In.fromRangeStart(e.selection.getRng());return a5(n,r)||dl(n,e.getBody(),r).exists(f=>a5(n,f))},S8=(e,n,r)=>{const f=jt.fromDom(e.getBody());return FC(f,r).fold(()=>w8(e,n,f,r).orThunk(()=>Bo(Cx(e,n),j)),w=>C8(e,n,f,w))},BC=(e,n)=>{const r=jt.fromDom(e.selection.getStart(!0)),f=Dv(e);return e.selection.isCollapsed()&&f.length===0?S8(e,n,r):y8(e,r,f)},ay=(e,n)=>{let r=n;for(;r&&r!==e;){if(wl(r)||fa(r))return r;r=r.parentNode}return null},Wz=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],T8=ur.each,Lk=e=>{const n=e.dom,r=new Set(e.serializer.getTempAttrs()),f=(B,Z)=>{if(B.nodeName!==Z.nodeName||B.nodeType!==Z.nodeType)return!1;const oe=Pe=>{const Ke={};return T8(n.getAttribs(Pe),Je=>{const at=Je.nodeName.toLowerCase();at!=="style"&&!w(at)&&(Ke[at]=n.getAttrib(Pe,at))}),Ke},be=(Pe,Ke)=>{for(const Je in Pe)if(lt(Pe,Je)){const at=Ke[Je];if(N(at)||Pe[Je]!==at)return!1;delete Ke[Je]}for(const Je in Ke)if(lt(Ke,Je))return!1;return!0};return Gr(B)&&Gr(Z)&&(!be(oe(B),oe(Z))||!be(n.parseStyle(n.getAttrib(B,"style")),n.parseStyle(n.getAttrib(Z,"style"))))?!1:!Eu(B)&&!Eu(Z)},w=B=>Oe(Wz,Z=>wr(B,Z))||r.has(B);return{compare:f,isAttributeInternal:w}},s5=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),Dk=e=>e.name==="summary",k8=(e,n)=>{let r=e;for(;r=r.walk();)n(r)},i5=(e,n,r,f)=>{const w=r.name;for(let B=0,Z=e.length;B<Z;B++){const oe=e[B];if(oe.name===w){const be=f.nodes[w];be?be.nodes.push(r):f.nodes[w]={filter:oe,nodes:[r]}}}if(r.attributes)for(let B=0,Z=n.length;B<Z;B++){const oe=n[B],be=oe.name;if(be in r.attributes.map){const Pe=f.attributes[be];Pe?Pe.nodes.push(r):f.attributes[be]={filter:oe,nodes:[r]}}}},A8=(e,n,r)=>{const f={nodes:{},attributes:{}};return r.firstChild&&k8(r,w=>{i5(e,n,w,f)}),f},l5=(e,n)=>{const r=(f,w)=>{Ft(f,B=>{const Z=tt(B.nodes);ie(B.filter.callbacks,oe=>{for(let be=Z.length-1;be>=0;be--){const Pe=Z[be];(!(w?Pe.attr(B.filter.name)!==void 0:Pe.name===B.filter.name)||M(Pe.parent))&&Z.splice(be,1)}Z.length>0&&oe(Z,B.filter.name,n)})})};r(e.nodes,!1),r(e.attributes,!0)},c5=(e,n,r,f={})=>{const w=A8(e,n,r);l5(w,f)},$k=(e,n,r,f)=>{if((e.pad_empty_with_br||n.insert)&&r(f)){const B=new Hc("br",1);n.insert&&B.attr("data-mce-bogus","1"),f.empty().append(B)}else f.empty().append(new Hc("#text",3)).value=Da},M8=e=>{var n;return u5(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===Da},u5=(e,n)=>{const r=e==null?void 0:e.firstChild;return k(r)&&r===e.lastChild&&r.name===n},E8=(e,n)=>{const r=e.getElementRule(n.name);return(r==null?void 0:r.paddEmpty)===!0},Sx=(e,n,r,f)=>f.isEmpty(n,r,w=>E8(e,w)),f5=(e,n)=>k(e)&&(n(e)||e.name==="br"),_8=e=>{let n;for(let r=e;r;r=r.parent){const f=r.attr("contenteditable");if(f==="false")break;f==="true"&&(n=r)}return X.from(n)},Ok=(e,n,r=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const f=e.children();for(const w of f)r&&!n.isValidChild(r.name,w.name)&&Ok(w,n,r);e.unwrap()}},Pk=(e,n,r,f=j)=>{const w=n.getTextBlockElements(),B=n.getNonEmptyElements(),Z=n.getWhitespaceElements(),oe=ur.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),be=new Set,Pe=Ke=>Ke!==r&&!oe[Ke.name];for(let Ke=0;Ke<e.length;Ke++){const Je=e[Ke];let at,Rt,Ht;if(!Je.parent||be.has(Je))continue;if(w[Je.name]&&Je.parent.name==="li"){let It=Je.next;for(;It&&w[It.name];){It.name="li",be.add(It),Je.parent.insert(It,Je.parent);It=It.next}Je.unwrap();continue}const At=[Je];for(at=Je.parent;at&&!n.isValidChild(at.name,Je.name)&&Pe(at);at=at.parent)At.push(at);if(at&&At.length>1)if(Ik(n,Je,at))Ok(Je,n);else{At.reverse(),Rt=At[0].clone(),f(Rt);let It=Rt;for(let ln=0;ln<At.length-1;ln++){n.isValidChild(It.name,At[ln].name)&&ln>0?(Ht=At[ln].clone(),f(Ht),It.append(Ht)):Ht=It;for(let xn=At[ln].firstChild;xn&&xn!==At[ln+1];){const yn=xn.next;Ht.append(xn),xn=yn}It=Ht}Sx(n,B,Z,Rt)?at.insert(Je,At[0],!0):(at.insert(Rt,At[0],!0),at.insert(Je,Rt)),at=At[0],(Sx(n,B,Z,at)||u5(at,"br"))&&at.empty().remove()}else if(Je.parent){if(Je.name==="li"){let It=Je.prev;if(It&&(It.name==="ul"||It.name==="ol")){It.append(Je);continue}if(It=Je.next,It&&(It.name==="ul"||It.name==="ol")&&It.firstChild){It.insert(Je,It.firstChild,!0);continue}const ln=new Hc("ul",1);f(ln),Je.wrap(ln);continue}if(n.isValidChild(Je.parent.name,"div")&&n.isValidChild("div",Je.name)){const It=new Hc("div",1);f(It),Je.wrap(It)}else Ok(Je,n)}}},R8=(e,n)=>{let r=e;for(;r;){if(r.name===n)return!0;r=r.parent}return!1},Ik=(e,n,r=n.parent)=>r?e.children[n.name]&&!e.isValidChild(r.name,n.name)||n.name==="a"&&R8(r,"a")?!0:Dk(r)&&s5(n)?!((r==null?void 0:r.firstChild)===n&&(r==null?void 0:r.lastChild)===n):!1:!1,L8=(e,n,r,f)=>{const w=document.createRange();return w.setStart(e,n),w.setEnd(r,f),w},d5=e=>{const n=In.fromRangeStart(e),r=In.fromRangeEnd(e),f=e.commonAncestorContainer;return dl(!1,f,r).map(w=>!td(n,r,f)&&td(n,w,f)?L8(n.container(),n.offset(),w.container(),w.offset()):e).getOr(e)},Tx=e=>e.collapsed?e:d5(e),Nk=e=>k(e.firstChild)&&e.firstChild===e.lastChild,h5=e=>e.name==="br"||e.value===Da,D8=(e,n)=>e.getBlockElements()[n.name]&&Nk(n)&&h5(n.firstChild),Fk=(e,n)=>{const r=e.getNonEmptyElements();return k(n)&&(n.isEmpty(r)||D8(e,n))},m5=(e,n)=>{let r=n.firstChild,f=n.lastChild;return r&&r.name==="meta"&&(r=r.next),f&&f.attr("id")==="mce_marker"&&(f=f.prev),Fk(e,f)&&(f=f==null?void 0:f.prev),!r||r!==f?!1:r.name==="ul"||r.name==="ol"},HC=e=>{var n,r;const f=e.firstChild,w=e.lastChild;return f&&f.nodeName==="META"&&((n=f.parentNode)===null||n===void 0||n.removeChild(f)),w&&w.id==="mce_marker"&&((r=w.parentNode)===null||r===void 0||r.removeChild(w)),e},g5=(e,n,r)=>{const f=n.serialize(r),w=e.createFragment(f);return HC(w)},$8=e=>{var n;return ue((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],r=>r.nodeName==="LI")},kx=e=>e.data===Da||Ja(e),p5=e=>k(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&kx(e.firstChild),v5=e=>!e.firstChild||p5(e),zC=e=>e.length>0&&v5(e[e.length-1])?e.slice(0,-1):e,Km=(e,n)=>{const r=e.getParent(n,e.isBlock);return r&&r.nodeName==="LI"?r:null},O8=(e,n)=>!!Km(e,n),Gz=(e,n)=>{const r=n.cloneRange(),f=n.cloneRange();return r.setStartBefore(e),f.setEndAfter(e),[r.cloneContents(),f.cloneContents()]},P8=(e,n)=>{const r=In.before(e),w=nd(n).next(r);return w?w.toRange():null},y5=(e,n)=>{const r=In.after(e),w=nd(n).prev(r);return w?w.toRange():null},Zz=(e,n,r,f)=>{const w=Gz(e,f),B=e.parentNode;return B&&(B.insertBefore(w[0],e),ur.each(n,Z=>{B.insertBefore(Z,e)}),B.insertBefore(w[1],e),B.removeChild(e)),y5(n[n.length-1],r)},hee=(e,n,r)=>{const f=e.parentNode;return f&&ur.each(n,w=>{f.insertBefore(w,e)}),P8(e,r)},jz=(e,n,r,f)=>(f.insertAfter(n.reverse(),e),y5(n[0],r)),b5=(e,n,r,f)=>{const w=g5(n,e,f),B=Km(n,r.startContainer),Z=zC($8(w.firstChild)),oe=1,be=2,Pe=n.getRoot(),Ke=Je=>{const at=In.fromRangeStart(r),Rt=nd(n.getRoot()),Ht=Je===oe?Rt.prev(at):Rt.next(at),At=Ht==null?void 0:Ht.getNode();return At?Km(n,At)!==B:!0};return B?Ke(oe)?hee(B,Z,Pe):Ke(be)?jz(B,Z,Pe,n):Zz(B,Z,Pe,r):null},Yh=["pre"],x5=(e,n,r,f)=>{var w;const B=n.firstChild,Z=n.lastChild,oe=Z.attr("data-mce-type")==="bookmark"?Z.prev:Z,be=B===oe,Pe=Ve(Yh,B.name);if(be&&Pe){const Ke=B.attr("contenteditable")!=="false",Je=((w=e.getParent(r,e.isBlock))===null||w===void 0?void 0:w.nodeName.toLowerCase())===B.name,at=X.from(ay(f,r)).forall(wl);return Ke&&Je&&at}else return!1},Ax=Bg,w5=(e,n,r)=>{if(k(r)){const f=e.getParent(n.endContainer,Ax);return r===f&&nC(jt.fromDom(r),n)}else return!1},Yz=(e,n,r)=>{var f;if(r.getAttribute("data-mce-bogus")==="all")(f=r.parentNode)===null||f===void 0||f.insertBefore(e.dom.createFragment(n),r);else{const w=r.firstChild,B=r.lastChild;!w||w===B&&w.nodeName==="BR"?e.dom.setHTML(r,n):e.selection.setContent(n,{no_events:!0})}},I8=(e,n,r)=>{X.from(e.getParent(n,"td,th")).map(jt.fromDom).each(f=>q(f,r))},Kz=(e,n)=>{const r=e.schema.getTextInlineElements(),f=e.dom;if(n){const w=e.getBody(),B=Lk(e);ur.each(f.select("*[data-mce-fragment]"),Z=>{if(k(r[Z.nodeName.toLowerCase()])&&TC(f,Z)){for(let be=Z.parentElement;k(be)&&be!==w&&!rz(f,Z,be);be=be.parentElement)if(B.compare(be,Z)){f.remove(Z,!0);break}}})}},N8=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},C5=e=>{ur.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},Xz=e=>!!e.getAttribute("data-mce-fragment"),F8=(e,n)=>k(n)&&!e.schema.getVoidElements()[n.nodeName],Jz=(e,n)=>{var r,f,w;let B;const Z=e.dom,oe=e.selection;if(!n)return;oe.scrollIntoView(n);const be=ay(e.getBody(),n);if(be&&Z.getContentEditable(be)==="false"){Z.remove(n),oe.select(be);return}let Pe=Z.createRng();const Ke=n.previousSibling;if(ir(Ke)){Pe.setStart(Ke,(f=(r=Ke.nodeValue)===null||r===void 0?void 0:r.length)!==null&&f!==void 0?f:0);const Rt=n.nextSibling;ir(Rt)&&(Ke.appendData(Rt.data),(w=Rt.parentNode)===null||w===void 0||w.removeChild(Rt))}else Pe.setStartBefore(n),Pe.setEndBefore(n);const Je=Rt=>{let Ht=In.fromRangeStart(Rt);return Ht=nd(e.getBody()).next(Ht),Ht==null?void 0:Ht.toRange()},at=Z.getParent(n,Z.isBlock);if(Z.remove(n),at&&Z.isEmpty(at)){const Rt=Ax(at);Ad(jt.fromDom(at)),Pe.setStart(at,0),Pe.setEnd(at,0),!Rt&&!Xz(at)&&(B=Je(Pe))?(Pe=B,Z.remove(at)):Z.add(at,Z.create("br",Rt?{}:{"data-mce-bogus":"1"}))}oe.setRng(Pe)},VC=e=>{const n=e.dom,r=Tx(e.selection.getRng());e.selection.setRng(r);const f=n.getParent(r.startContainer,Ax);w5(n,r,f)?af(e,r,jt.fromDom(f)):r.startContainer===r.endContainer&&r.endOffset-r.startOffset===1&&ir(r.startContainer.childNodes[r.startOffset])?r.deleteContents():e.getDoc().execCommand("Delete",!1)},B8=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return X.some(n);return X.none()},Qz=(e,n,r)=>{var f;return Oe(r.children(),s5)&&((f=e.getParent(n,e.isBlock))===null||f===void 0?void 0:f.nodeName)==="SUMMARY"},H8=(e,n,r)=>{var f,w;const B=e.selection,Z=e.dom,oe=e.parser,be=r.merge,Pe=Uv({validate:!0},e.schema),Ke='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';r.preserve_zwsp||(n=_e(n)),n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,Ke);let Je=B.getRng();const at=Je.startContainer,Rt=e.getBody();at===Rt&&B.isCollapsed()&&Z.isBlock(Rt.firstChild)&&F8(e,Rt.firstChild)&&Z.isEmpty(Rt.firstChild)&&(Je=Z.createRng(),Je.setStart(Rt.firstChild,0),Je.setEnd(Rt.firstChild,0),B.setRng(Je)),B.isCollapsed()||VC(e);const Ht=B.getNode(),At={context:Ht.nodeName.toLowerCase(),data:r.data,insert:!0},It=oe.parse(n,At);if(r.paste===!0&&m5(e.schema,It)&&O8(Z,Ht))return Je=b5(Pe,Z,B.getRng(),It),Je&&B.setRng(Je),n;r.paste===!0&&x5(Z,It,Ht,e.getBody())&&((f=It.firstChild)===null||f===void 0||f.unwrap()),N8(It);let ln=It.lastChild;if(ln&&ln.attr("id")==="mce_marker"){const xn=ln;for(ln=ln.prev;ln;ln=ln.walk(!0))if(ln.type===3||!Z.isBlock(ln.name)){ln.parent&&e.schema.isValidChild(ln.parent.name,"span")&&ln.parent.insert(xn,ln,ln.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(Ht),!At.invalid&&!Qz(Z,Ht,It))n=Pe.serialize(It),Yz(e,n,Ht);else{e.selection.setContent(Ke);let xn=B.getNode(),yn;const $n=e.getBody();for(wm(xn)?xn=yn=$n:yn=xn;yn&&yn!==$n;)xn=yn,yn=yn.parentNode;n=xn===$n?$n.innerHTML:Z.getOuterHTML(xn);const nr=oe.parse(n),mr=B8(nr),Nr=mr.bind(_8).getOr(nr);mr.each(Qr=>Qr.replace(It));const zn=It.children(),Nn=(w=It.parent)!==null&&w!==void 0?w:nr;It.unwrap();const er=ue(zn,Qr=>Ik(e.schema,Qr,Nn));Pk(er,e.schema,Nr),c5(oe.getNodeFilters(),oe.getAttributeFilters(),nr),n=Pe.serialize(nr),xn===$n?Z.setHTML($n,n):Z.setOuterHTML(xn,n)}return Kz(e,be),Jz(e,Z.get("mce_marker")),C5(e.getBody()),I8(Z,B.getStart(),e.schema),$3(e.schema,e.getBody(),B.getStart()),n},Bk=e=>e instanceof Hc,qz=e=>{Vv(e)&&Sc(e.getBody()).each(n=>{const r=n.getNode(),f=yu(r)?Sc(r).getOr(n):n;e.selection.setRng(f.toRange())})},S5=(e,n,r)=>{e.dom.setHTML(e.getBody(),n),r!==!0&&qz(e)},eV=(e,n,r,f)=>{if(r=_e(r),r.length===0||/^\s+$/.test(r)){const w='<br data-mce-bogus="1">';n.nodeName==="TABLE"?r="<tr><td>"+w+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(r="<li>"+w+"</li>");const B=ac(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),B.toLowerCase())?(r=w,r=e.dom.createHTML(B,v1(e),r)):r||(r=w),S5(e,r,f.no_selection),{content:r,html:r}}else{f.format!=="raw"&&(r=Uv({validate:!1},e.schema).serialize(e.parser.parse(r,{isRootContent:!0,insert:!0})));const w=Li(jt.fromDom(n))?r:ur.trim(r);return S5(e,w,f.no_selection),{content:w,html:w}}},tV=(e,n,r,f)=>{c5(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),r);const w=Uv({validate:!1},e.schema).serialize(r),B=_e(Li(jt.fromDom(n))?w:ur.trim(w));return S5(e,B,f.no_selection),{content:r,html:B}},z8=(e,n,r)=>X.from(e.getBody()).map(f=>Bk(n)?tV(e,f,n,r):eV(e,f,n,r)).getOr({content:n,html:Bk(r.content)?"":r.content}),V8=e=>R(e)?e:ne,T5=(e,n,r)=>{let f=e.dom;const w=V8(r);for(;f.parentNode;){f=f.parentNode;const B=jt.fromDom(f),Z=n(B);if(Z.isSome())return Z;if(w(B))break}return X.none()},fp=(e,n,r)=>{const f=n(e),w=V8(r);return f.orThunk(()=>w(e)?X.none():T5(e,n,w))},k5=nx,U8=(e,n,r)=>{const f=e.formatter.get(r);if(f)for(let w=0;w<f.length;w++){const B=f[w];if(El(B)&&B.inherit===!1&&e.dom.is(n,B.selector))return!0}return!1},Mx=(e,n,r,f,w)=>{const B=e.dom.getRoot();if(n===B)return!1;const Z=e.dom.getParent(n,oe=>U8(e,oe,r)?!0:oe.parentNode===B||!!Xm(e,oe,r,f,!0));return!!Xm(e,Z,r,f,w)},UC=(e,n,r)=>$i(r)&&k5(n,r.inline)||ad(r)&&k5(n,r.block)?!0:El(r)?Gr(n)&&e.is(n,r.selector):!1,A5=(e,n,r,f,w,B)=>{const Z=r[f],oe=f==="attributes";if(R(r.onmatch))return r.onmatch(n,r,f);if(Z){if($t(Z)){for(let be=0;be<Z.length;be++)if(oe?e.getAttrib(n,Z[be]):$v(e,n,Z[be]))return!0}else for(const be in Z)if(lt(Z,be)){const Pe=oe?e.getAttrib(n,be):$v(e,n,be),Ke=od(Z[be],B),Je=M(Pe)||kt(Pe);if(Je&&M(Ke))continue;if(w&&Je&&!r.exact||(!w||r.exact)&&!k5(Pe,rx(Ke,be)))return!1}}return!0},Xm=(e,n,r,f,w)=>{const B=e.formatter.get(r),Z=e.dom;if(B&&Gr(n))for(let oe=0;oe<B.length;oe++){const be=B[oe];if(UC(e.dom,n,be)&&A5(Z,n,be,"attributes",w,f)&&A5(Z,n,be,"styles",w,f)){const Pe=be.classes;if(Pe){for(let Ke=0;Ke<Pe.length;Ke++)if(!e.dom.hasClass(n,od(Pe[Ke],f)))return}return be}}},Hk=(e,n,r,f,w)=>{if(f)return Mx(e,f,n,r,w);if(f=e.selection.getNode(),Mx(e,f,n,r,w))return!0;const B=e.selection.getStart();return!!(B!==f&&Mx(e,B,n,r,w))},nV=(e,n,r)=>{const f=[],w={},B=e.selection.getStart();return e.dom.getParent(B,Z=>{for(let oe=0;oe<n.length;oe++){const be=n[oe];!w[be]&&Xm(e,Z,be,r)&&(w[be]=!0,f.push(be))}},e.dom.getRoot()),f},sy=(e,n)=>{const r=w=>Ba(w,jt.fromDom(e.getBody())),f=(w,B)=>Xm(e,w.dom,B)?X.some(B):X.none();return X.from(e.selection.getStart(!0)).bind(w=>fp(jt.fromDom(w),B=>Ct(n,Z=>f(B,Z)),r)).getOrNull()},W8=(e,n)=>{const r=e.formatter.get(n),f=e.dom;if(r&&e.selection.isEditable()){const w=e.selection.getStart(),B=N1(f,w);for(let Z=r.length-1;Z>=0;Z--){const oe=r[Z];if(!El(oe))return!0;for(let be=B.length-1;be>=0;be--)if(f.is(B[be],oe.selector))return!0}}return!1},G8=(e,n,r)=>le(r,(f,w)=>{const B=sC(e,w);return e.formatter.matchNode(n,w,{},B)?f.concat([w]):f},[]),Ex=ve,zk=(e,n)=>e.importNode(n,!0),M5=e=>{if(e){const n=new es(e,e);for(let r=n.current();r;r=n.next())if(ir(r))return r}return null},E5=e=>{const n=jt.fromTag("span");return Kc(n,{id:Yb,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&di(n,jt.fromText(Ex)),n},Z8=e=>{const n=M5(e);return n&&n.data.charAt(0)===Ex&&n.deleteData(0,1),n},_5=(e,n,r)=>{const f=e.dom,w=e.selection;if(B1(n))up(e,!1,jt.fromDom(n),r,!0);else{const B=w.getRng(),Z=f.getParent(n,f.isBlock),oe=B.startContainer,be=B.startOffset,Pe=B.endContainer,Ke=B.endOffset,Je=Z8(n);f.remove(n,!0),oe===Je&&be>0&&B.setStart(Je,be-1),Pe===Je&&Ke>0&&B.setEnd(Je,Ke-1),Z&&f.isEmpty(Z)&&U(jt.fromDom(Z)),w.setRng(B)}},R5=(e,n,r)=>{const f=e.dom,w=e.selection;if(n)_5(e,n,r);else if(n=ep(e.getBody(),w.getStart()),!n)for(;n=f.get(Yb);)_5(e,n,r)},Vk=(e,n,r)=>{var f,w;const B=e.dom,Z=B.getParent(r,Q(Fi,e.schema));Z&&B.isEmpty(Z)?(f=r.parentNode)===null||f===void 0||f.replaceChild(n,r):(L3(jt.fromDom(r)),B.isEmpty(r)?(w=r.parentNode)===null||w===void 0||w.replaceChild(n,r):B.insertAfter(n,r))},L5=(e,n)=>(e.appendChild(n),n),Uk=(e,n)=>{var r;const f=pe(e,(B,Z)=>L5(B,Z.cloneNode(!1)),n),w=(r=f.ownerDocument)!==null&&r!==void 0?r:document;return L5(f,w.createTextNode(Ex))},rV=(e,n,r,f,w,B)=>{const Z=e.formatter,oe=e.dom,be=ue(Yt(Z.get()),Je=>Je!==f&&!or(Je,"removeformat")),Pe=G8(e,r,be);if(ue(Pe,Je=>!a_(e,Je,f)).length>0){const Je=r.cloneNode(!1);return oe.add(n,Je),Z.remove(f,w,Je,B),oe.remove(Je),X.some(Je)}else return X.none()},oV=(e,n,r)=>{let f;const w=e.selection,B=e.formatter.get(n);if(!B)return;const Z=w.getRng();let oe=Z.startOffset;const Pe=Z.startContainer.nodeValue;f=ep(e.getBody(),w.getStart());const Ke=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(Pe&&oe>0&&oe<Pe.length&&Ke.test(Pe.charAt(oe))&&Ke.test(Pe.charAt(oe-1))){const Je=w.getBookmark();Z.collapse(!0);let at=Hh(e.dom,Z,B);at=nt(at),e.formatter.apply(n,r,at),w.moveToBookmark(Je)}else{let Je=f?M5(f):null;(!f||(Je==null?void 0:Je.data)!==Ex)&&(f=zk(e.getDoc(),E5(!0).dom),Je=f.firstChild,Z.insertNode(f),oe=1),e.formatter.apply(n,r,f),w.setCursorLocation(Je,oe)}},j8=(e,n,r,f)=>{const w=e.dom,B=e.selection;let Z=!1;const oe=e.formatter.get(n);if(!oe)return;const be=B.getRng(),Pe=be.startContainer,Ke=be.startOffset;let Je=Pe;ir(Pe)&&(Ke!==Pe.data.length&&(Z=!0),Je=Je.parentNode);const at=[];let Rt;for(;Je;){if(Xm(e,Je,n,r,f)){Rt=Je;break}Je.nextSibling&&(Z=!0),at.push(Je),Je=Je.parentNode}if(Rt)if(Z){const Ht=B.getBookmark();be.collapse(!0);let At=Hh(w,be,oe,!0);At=nt(At),e.formatter.remove(n,r,At,f),B.moveToBookmark(Ht)}else{const Ht=ep(e.getBody(),Rt),At=k(Ht)?w.getParents(Rt.parentNode,fe,Ht):[],It=E5(!1).dom;Vk(e,It,Ht??Rt);const ln=rV(e,It,Rt,n,r,f),xn=Uk([...at,...ln.toArray(),...At],It);Ht&&_5(e,Ht,k(Ht)),B.setCursorLocation(xn,1),w.isEmpty(Rt)&&w.remove(Rt)}},D5=(e,n,r)=>{const f=e.selection,w=e.getBody();R5(e,null,r),(n===8||n===46)&&f.isCollapsed()&&f.getStart().innerHTML===Ex&&R5(e,ep(w,f.getStart()),!0),(n===37||n===39)&&R5(e,ep(w,f.getStart()),!0)},Y8=e=>ir(e)&&ro(e.data,Da),aV=e=>{e.on("mouseup keydown",n=>{D5(e,n.keyCode,Y8(e.selection.getRng().endContainer))})},K8=e=>{const n=E5(!1),r=Uk(e,n.dom);return{caretContainer:n,caretPosition:In(r,0)}},X8=(e,n)=>{const{caretContainer:r,caretPosition:f}=K8(n);return Ri(jt.fromDom(e),r),Ua(jt.fromDom(e)),f},Wk=(e,n)=>{const{caretContainer:r,caretPosition:f}=K8(n);return e.insertNode(r.dom),f},Jm=(e,n)=>{if(Mu(n.dom))return!1;const r=e.schema.getTextInlineElements();return lt(r,La(n))&&!Mu(n.dom)&&!Ju(n.dom)},WC={},Gk=oi(["pre"]),Oi=(e,n)=>{WC[e]||(WC[e]=[]),WC[e].push(n)},$5=(e,n)=>{lt(WC,e)&&ie(WC[e],r=>{r(n)})};Oi("pre",e=>{const n=e.selection.getRng(),r=w=>B=>{const Z=B.previousSibling;return Gk(Z)&&Ve(w,Z)},f=(w,B)=>{const Z=jt.fromDom(B),oe=mf(Z).dom;Ua(Z),hs(jt.fromDom(w),[jt.fromTag("br",oe),jt.fromTag("br",oe),...zi(Z)])};if(!n.collapsed){const w=e.selection.getSelectedBlocks(),B=ue(ue(w,Gk),r(w));ie(B,Z=>{f(Z.previousSibling,Z)})}});const Zk=["fontWeight","fontStyle","color","fontSize","fontFamily"],dp=e=>_(e.styles)&&Oe(Yt(e.styles),n=>Ve(Zk,n)),J8=e=>de(e,n=>$i(n)&&n.inline==="span"&&dp(n)),O5=(e,n)=>{const r=e.get(n);return S(r)?J8(r):X.none()},_x=(e,n)=>Nc(n,In.fromRangeStart(e)).isNone(),Q8=(e,n)=>ic(n,In.fromRangeEnd(e)).exists(r=>!Ja(r.getNode())||ic(n,r).isSome())===!1,q8=e=>n=>Hg(n)&&e.isEditable(n),Rx=e=>{const n=e.getSelectedBlocks(),r=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return _x(r,n[0])&&Q8(r,n[0])?n:[];{const f=gt(n).filter(Z=>_x(r,Z)).toArray(),w=ut(n).filter(Z=>Q8(r,Z)).toArray(),B=n.slice(1,-1);return f.concat(B).concat(w)}},sV=e=>ue(Rx(e),q8(e.dom)),Gv=e=>ue(e.getSelectedBlocks(),q8(e.dom)),P5=ur.each,Qm=e=>Gr(e)&&!Eu(e)&&!Mu(e)&&!Ju(e),Rf=(e,n)=>{for(let r=e;r;r=r[n]){if(ir(r)&&St(r.data))return e;if(Gr(r)&&!Eu(r))return r}return e},GC=(e,n,r)=>{const f=Lk(e),w=xl(n)&&e.dom.isEditable(n),B=xl(r)&&e.dom.isEditable(r);if(w&&B){const Z=Rf(n,"previousSibling"),oe=Rf(r,"nextSibling");if(f.compare(Z,oe)){for(let be=Z.nextSibling;be&&be!==oe;){const Pe=be;be=be.nextSibling,Z.appendChild(Pe)}return e.dom.remove(oe),ur.each(ur.grep(oe.childNodes),be=>{Z.appendChild(be)}),Z}}return r},jk=(e,n,r,f)=>{var w;if(f&&n.merge_siblings!==!1){const B=(w=GC(e,Fr(f),f))!==null&&w!==void 0?w:f;GC(e,B,Fr(B,!0))}},iV=(e,n,r)=>{if(n.clear_child_styles){const f=n.links?"*:not(a)":"*";P5(e.select(f,r),w=>{Qm(w)&&e.isEditable(w)&&P5(n.styles,(B,Z)=>{e.setStyle(w,Z,"")})})}},I5=(e,n,r)=>{P5(e.childNodes,f=>{Qm(f)&&(n(f)&&r(f),f.hasChildNodes()&&I5(f,n,r))})},Yk=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},e7=(e,n)=>r=>!!(r&&$v(e,r,n)),id=(e,n,r)=>f=>{e.setStyle(f,n,r),f.getAttribute("style")===""&&f.removeAttribute("style"),Yk(e,f)},qm=ed.generate([{keep:[]},{rename:["name"]},{removed:[]}]),t7=/^(src|href|style)$/,ZC=ur.each,Lx=nx,iy=e=>/^(TR|TH|TD)$/.test(e.nodeName),Kk=(e,n,r)=>e.isChildOf(n,r)&&n!==r&&!e.isBlock(r),n7=(e,n,r)=>{let f=n[r?"startContainer":"endContainer"],w=n[r?"startOffset":"endOffset"];if(Gr(f)){const B=f.childNodes.length-1;!r&&w&&w--,f=f.childNodes[w>B?B:w]}return ir(f)&&r&&w>=f.data.length&&(f=new es(f,e.getBody()).next()||f),ir(f)&&!r&&w===0&&(f=new es(f,e.getBody()).prev()||f),f},N5=(e,n)=>{const r=n?"firstChild":"lastChild",f=e[r];return iy(e)&&f?e.nodeName==="TR"&&f[r]||f:e},F5=(e,n,r,f)=>{var w;const B=e.create(r,f);return(w=n.parentNode)===null||w===void 0||w.insertBefore(B,n),B.appendChild(n),B},r7=(e,n,r,f,w)=>{const B=jt.fromDom(n),Z=jt.fromDom(e.create(f,w)),oe=r?pc(B):F0(B);return hs(Z,oe),r?(Ri(B,Z),yh(Z,B)):(gu(B,Z),di(Z,B)),Z.dom},lV=(e,n)=>n.links&&e.nodeName==="A",o7=(e,n,r)=>{const f=n.parentNode;let w;const B=e.dom,Z=ac(e);ad(r)&&f===B.getRoot()&&(!r.list_block||!Lx(n,r.list_block))&&ie(tt(n.childNodes),oe=>{Bh(e,Z,oe.nodeName.toLowerCase())?w?w.appendChild(oe):(w=F5(B,oe,Z),B.setAttribs(w,v1(e))):w=null}),!(ax(r)&&!Lx(r.inline,n))&&B.remove(n,!0)},Dx=(e,n,r)=>F(e)?{name:n,value:null}:{name:e,value:od(n,r)},a7=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},B5=(e,n,r,f,w)=>{let B=!1;ZC(r.styles,(Z,oe)=>{const{name:be,value:Pe}=Dx(oe,Z,f),Ke=rx(Pe,be);(r.remove_similar||O(Pe)||!Gr(w)||Lx($v(e,w,be),Ke))&&e.setStyle(n,be,""),B=!0}),B&&a7(e,n)},H5=(e,n,r)=>{n==="removeformat"?ie(Gv(e.selection),f=>{ie(Zk,w=>e.dom.setStyle(f,w,"")),a7(e.dom,f)}):O5(e.formatter,n).each(f=>{ie(Gv(e.selection),w=>B5(e.dom,w,f,r,null))})},s7=(e,n,r,f,w)=>{const B=e.dom,Z=Lk(e),oe=e.schema;if($i(n)&&e1(oe,n.inline)&&pa(oe,f)&&f.parentElement===e.getBody())return o7(e,f,n),qm.removed();if(!n.ceFalseOverride&&f&&B.getContentEditableParent(f)==="false"||f&&!UC(B,f,n)&&!lV(f,n))return qm.keep();const be=f,Pe=n.preserve_attributes;if($i(n)&&n.remove==="all"&&S(Pe)){const Ke=ue(B.getAttribs(be),Je=>Ve(Pe,Je.name.toLowerCase()));if(B.removeAllAttribs(be),ie(Ke,Je=>B.setAttrib(be,Je.name,Je.value)),Ke.length>0)return qm.rename("span")}if(n.remove!=="all"){B5(B,be,n,r,w),ZC(n.attributes,(Je,at)=>{const{name:Rt,value:Ht}=Dx(at,Je,r);if(n.remove_similar||O(Ht)||!Gr(w)||Lx(B.getAttrib(w,Rt),Ht)){if(Rt==="class"){const At=B.getAttrib(be,Rt);if(At){let It="";if(ie(At.split(/\s+/),ln=>{/mce\-\w+/.test(ln)&&(It+=(It?" ":"")+ln)}),It){B.setAttrib(be,Rt,It);return}}}if(t7.test(Rt)&&be.removeAttribute("data-mce-"+Rt),Rt==="style"&&oi(["li"])(be)&&B.getStyle(be,"list-style-type")==="none"){be.removeAttribute(Rt),B.setStyle(be,"list-style-type","none");return}Rt==="class"&&be.removeAttribute("className"),be.removeAttribute(Rt)}}),ZC(n.classes,Je=>{Je=od(Je,r),(!Gr(w)||B.hasClass(w,Je))&&B.removeClass(be,Je)});const Ke=B.getAttribs(be);for(let Je=0;Je<Ke.length;Je++){const at=Ke[Je].nodeName;if(!Z.isAttributeInternal(at))return qm.keep()}}return n.remove!=="none"?(o7(e,be,n),qm.removed()):qm.keep()},i7=(e,n,r,f,w)=>{let B;return n.parentNode&&ie(N1(e.dom,n.parentNode).reverse(),Z=>{if(!B&&Gr(Z)&&Z.id!=="_start"&&Z.id!=="_end"){const oe=Xm(e,Z,r,f,w);oe&&oe.split!==!1&&(B=Z)}}),B},l7=(e,n,r,f)=>s7(e,n,r,f,f).fold(J(f),w=>(e.dom.createFragment().appendChild(f),e.dom.rename(f,w)),J(null)),cV=(e,n,r,f,w,B,Z,oe)=>{var be,Pe;let Ke,Je;const at=e.dom;if(r){const Rt=r.parentNode;for(let Ht=f.parentNode;Ht&&Ht!==Rt;Ht=Ht.parentNode){let At=at.clone(Ht,!1);for(let It=0;It<n.length&&(At=l7(e,n[It],oe,At),At!==null);It++);At&&(Ke&&At.appendChild(Ke),Je||(Je=At),Ke=At)}B&&(!Z.mixed||!at.isBlock(r))&&(f=(be=at.split(r,f))!==null&&be!==void 0?be:f),Ke&&Je&&((Pe=w.parentNode)===null||Pe===void 0||Pe.insertBefore(Ke,w),Je.appendChild(w),$i(Z)&&jk(e,Z,oe,Ke))}return f},uV=(e,n,r,f,w)=>{const B=e.formatter.get(n),Z=B[0],oe=e.dom,be=e.selection,Pe=At=>{const It=i7(e,At,n,r,w);return cV(e,B,It,At,At,!0,Z,r)},Ke=At=>Eu(At)&&Gr(At)&&(At.id==="_start"||At.id==="_end"),Je=At=>Oe(B,It=>jC(e,It,r,At,At)),at=At=>{const It=tt(At.childNodes),xn=Je(At)||Oe(B,nr=>UC(oe,At,nr)),yn=At.parentNode;if(!xn&&k(yn)&&F1(Z)&&Je(yn),Z.deep&&It.length)for(let nr=0;nr<It.length;nr++)at(It[nr]);ie(["underline","line-through","overline"],nr=>{Gr(At)&&e.dom.getStyle(At,"text-decoration")===nr&&At.parentNode&&UT(oe,At.parentNode)===nr&&jC(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:nr}},void 0,At)})},Rt=At=>{const It=oe.get(At?"_start":"_end");if(It){let ln=It[At?"firstChild":"lastChild"];return Ke(ln)&&(ln=ln[At?"firstChild":"lastChild"]),ir(ln)&&ln.data.length===0&&(ln=At?It.previousSibling||It.nextSibling:It.nextSibling||It.previousSibling),oe.remove(It,!0),ln}else return null},Ht=At=>{let It,ln,xn=Hh(oe,At,B,At.collapsed);if(Z.split){if(xn=nt(xn),It=n7(e,xn,!0),ln=n7(e,xn),It!==ln){if(It=N5(It,!0),ln=N5(ln,!1),Kk(oe,It,ln)){const $n=X.from(It.firstChild).getOr(It);Pe(r7(oe,$n,!0,"span",{id:"_start","data-mce-type":"bookmark"})),Rt(!0);return}if(Kk(oe,ln,It)){const $n=X.from(ln.lastChild).getOr(ln);Pe(r7(oe,$n,!1,"span",{id:"_end","data-mce-type":"bookmark"})),Rt(!1);return}It=F5(oe,It,"span",{id:"_start","data-mce-type":"bookmark"}),ln=F5(oe,ln,"span",{id:"_end","data-mce-type":"bookmark"});const yn=oe.createRng();yn.setStartAfter(It),yn.setEndBefore(ln),W1(oe,yn,$n=>{ie($n,nr=>{!Eu(nr)&&!Eu(nr.parentNode)&&Pe(nr)})}),Pe(It),Pe(ln),It=Rt(!0),ln=Rt()}else It=ln=Pe(It);xn.startContainer=It.parentNode?It.parentNode:It,xn.startOffset=oe.nodeIndex(It),xn.endContainer=ln.parentNode?ln.parentNode:ln,xn.endOffset=oe.nodeIndex(ln)+1}W1(oe,xn,yn=>{ie(yn,at)})};if(f){if(O1(f)){const At=oe.createRng();At.setStartBefore(f),At.setEndAfter(f),Ht(At)}else Ht(f);op(e,n,f,r);return}!be.isCollapsed()||!$i(Z)||Dv(e).length?(P1(e,()=>Um(e,Ht),At=>$i(Z)&&Hk(e,n,r,At)),e.nodeChanged()):j8(e,n,r,w),H5(e,n,r),op(e,n,f,r)},c7=(e,n,r,f,w)=>{(f||e.selection.isEditable())&&uV(e,n,r,f,w)},jC=(e,n,r,f,w)=>s7(e,n,r,f,w).fold(ne,B=>(e.dom.rename(f,B),!0),fe),u7=ur.each,fV=(e,n,r,f)=>{const w=B=>{if(xl(B)&&Gr(B.parentNode)&&e.isEditable(B)){const Z=UT(e,B.parentNode);e.getStyle(B,"color")&&Z?e.setStyle(B,"text-decoration",Z):e.getStyle(B,"text-decoration")===Z&&e.setStyle(B,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(ur.walk(f,w,"childNodes"),w(f))},dV=(e,n,r,f)=>{if(n.styles&&n.styles.backgroundColor){const w=e7(e,"fontSize");I5(f,B=>w(B)&&e.isEditable(B),id(e,"backgroundColor",od(n.styles.backgroundColor,r)))}},hV=(e,n,r,f)=>{if($i(n)&&(n.inline==="sub"||n.inline==="sup")){const w=e7(e,"fontSize");I5(f,Z=>w(Z)&&e.isEditable(Z),id(e,"fontSize",""));const B=ue(e.select(n.inline==="sup"?"sub":"sup",f),e.isEditable);e.remove(B,!0)}},mV=(e,n,r,f)=>{u7(n,w=>{$i(w)&&u7(e.dom.select(w.inline,f),B=>{Qm(B)&&jC(e,w,r,B,w.exact?B:null)}),iV(e.dom,w,f)})},gV=(e,n,r,f,w)=>{const B=w.parentNode;Xm(e,B,r,f)&&jC(e,n,f,w)||n.merge_with_parents&&B&&e.dom.getParent(B,Z=>Xm(e,Z,r,f)?(jC(e,n,f,w),!0):!1)},Xk=ur.each,pV=(e,n,r,f)=>{if(mT(e)&&$i(n)&&r.parentNode){const w=I3(e.schema),B=Iz(jt.fromDom(r),Z=>Mu(Z.dom));return ft(w,f)&&Za(jt.fromDom(r.parentNode),!1)&&!B}else return!1},f7=(e,n,r,f)=>{if(Xk(r.styles,(w,B)=>{e.setStyle(n,B,od(w,f))}),r.styles){const w=e.getAttrib(n,"style");w&&e.setAttrib(n,"data-mce-style",w)}},d7=(e,n,r,f)=>{const w=e.formatter.get(n),B=w[0],Z=!f&&e.selection.isCollapsed(),oe=e.dom,be=e.selection,Pe=(Ht,At=B)=>{R(At.onformat)&&At.onformat(Ht,At,r,f),f7(oe,Ht,At,r),Xk(At.attributes,(It,ln)=>{oe.setAttrib(Ht,ln,od(It,r))}),Xk(At.classes,It=>{const ln=od(It,r);oe.hasClass(Ht,ln)||oe.addClass(Ht,ln)})},Ke=(Ht,At)=>{let It=!1;return Xk(Ht,ln=>El(ln)?oe.getContentEditable(At)==="false"&&!ln.ceFalseOverride||k(ln.collapsed)&&ln.collapsed!==Z?!0:oe.is(At,ln.selector)&&!Mu(At)?(Pe(At,ln),It=!0,!1):!0:!1),It},Je=Ht=>{if(C(Ht)){const At=oe.create(Ht);return Pe(At),At}else return null},at=(Ht,At,It)=>{const ln=[];let xn=!0;const yn=B.inline||B.block,$n=Je(yn),nr=zn=>ox(B)&&Xm(e,zn,n,r),mr=(zn,Nn,er)=>{const Qr=Ov(B)&&Fi(e.schema,zn)&&Bh(e,Nn,yn);return er&&Qr},Nr=(zn,Nn,er,Qr)=>{const ho=zn.nodeName.toLowerCase(),na=Bh(e,yn,ho)&&Bh(e,Nn,yn),ca=!It&&ir(zn)&&Ae(zn.data),os=Mu(zn),ka=!$i(B)||!Ht.isBlock(zn);return(er||Qr)&&na&&!ca&&!os&&ka};W1(Ht,At,zn=>{let Nn;const er=Qr=>{let ho=!1,na=xn,ca=!1;const os=Qr.parentNode,ka=os.nodeName.toLowerCase(),ei=Ht.getContentEditable(Qr);k(ei)&&(na=xn,xn=ei==="true",ho=!0,ca=I1(e,Qr));const zl=xn&&!ho;if(Ja(Qr)&&!pV(e,B,Qr,ka)){Nn=null,ad(B)&&Ht.remove(Qr);return}if(nr(Qr)){Nn=null;return}if(mr(Qr,ka,zl)){const as=Ht.rename(Qr,yn);Pe(as),ln.push(as),Nn=null;return}if(El(B)){let as=Ke(w,Qr);if(!as&&k(os)&&F1(B)&&(as=Ke(w,os)),!$i(B)||as){Nn=null;return}}k($n)&&Nr(Qr,ka,zl,ca)?(Nn||(Nn=Ht.clone($n,!1),os.insertBefore(Nn,Qr),ln.push(Nn)),ca&&ho&&(xn=na),Nn.appendChild(Qr)):(Nn=null,ie(tt(Qr.childNodes),er),ho&&(xn=na),Nn=null)};ie(zn,er)}),B.links===!0&&ie(ln,zn=>{const Nn=er=>{er.nodeName==="A"&&Pe(er,B),ie(tt(er.childNodes),Nn)};Nn(zn)}),ie(ln,zn=>{const Nn=ho=>{let na=0;return ie(ho.childNodes,ca=>{!nf(ca)&&!Eu(ca)&&na++}),na},er=ho=>de(ho.childNodes,oC).filter(ca=>Ht.getContentEditable(ca)!=="false"&&UC(Ht,ca,B)).map(ca=>{const os=Ht.clone(ca,!1);return Pe(os),Ht.replace(os,ho,!0),Ht.remove(ca,!0),os}).getOr(ho),Qr=Nn(zn);if((ln.length>1||!Ht.isBlock(zn))&&Qr===0){Ht.remove(zn,!0);return}($i(B)||ad(B)&&B.wrapper)&&(!B.exact&&Qr===1&&(zn=er(zn)),mV(e,w,r,zn),gV(e,B,n,r,zn),dV(Ht,B,r,zn),fV(Ht,B,r,zn),hV(Ht,B,r,zn),jk(e,B,r,zn))})},Rt=O1(f)?f:be.getNode();if(oe.getContentEditable(Rt)==="false"&&!I1(e,Rt)){f=Rt,Ke(w,f),Bl(e,n,f,r);return}if(B){if(f)if(O1(f)){if(!Ke(w,f)){const Ht=oe.createRng();Ht.setStartBefore(f),Ht.setEndAfter(f),at(oe,Hh(oe,Ht,w),!0)}}else at(oe,f,!0);else!Z||!$i(B)||Dv(e).length?(be.setRng(Tx(be.getRng())),P1(e,()=>{Um(e,(Ht,At)=>{const It=At?Ht:Hh(oe,Ht,w);at(oe,It,!1)})},fe),e.nodeChanged()):oV(e,n,r),O5(e.formatter,n).each(Ht=>{ie(sV(e.selection),At=>f7(oe,At,Ht,r))});$5(n,e)}Bl(e,n,f,r)},h7=(e,n,r,f)=>{(f||e.selection.isEditable())&&d7(e,n,r,f)},ly=e=>lt(e,"vars"),vV=(e,n)=>{e.set({}),n.on("NodeChange",r=>{z5(n,r.element,e.get())}),n.on("FormatApply FormatRemove",r=>{const f=X.from(r.node).map(w=>O1(w)?w:w.startContainer).bind(w=>Gr(w)?X.some(w):X.from(w.parentElement)).getOrThunk(()=>m7(n));z5(n,f,e.get())})},m7=e=>e.selection.getStart(),g7=(e,n,r,f,w)=>Te(n,oe=>{const be=e.formatter.matchNode(oe,r,w??{},f);return!N(be)},oe=>U8(e,oe,r)?!0:f?!1:k(e.formatter.matchNode(oe,r,w,!0))),p7=(e,n)=>{const r=n??m7(e);return ue(N1(e.dom,r),f=>Gr(f)&&!Ju(f))},z5=(e,n,r)=>{const f=p7(e,n);Ft(r,(w,B)=>{const Z=oe=>{const be=g7(e,f,B,oe.similar,ly(oe)?oe.vars:void 0),Pe=be.isSome();if(oe.state.get()!==Pe){oe.state.set(Pe);const Ke=be.getOr(n);ly(oe)?oe.callback(Pe,{node:Ke,format:B,parents:f}):ie(oe.callbacks,Je=>Je(Pe,{node:Ke,format:B,parents:f}))}};ie([w.withSimilar,w.withoutSimilar],Z),ie(w.withVars,Z)})},yV=(e,n,r,f,w,B)=>{const Z=n.get();ie(r.split(","),oe=>{const be=wn(Z,oe).getOrThunk(()=>{const Ke={withSimilar:{state:Us(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Us(!1),similar:!1,callbacks:[]},withVars:[]};return Z[oe]=Ke,Ke}),Pe=()=>{const Ke=p7(e);return g7(e,Ke,oe,w,B).isSome()};if(N(B)){const Ke=w?be.withSimilar:be.withoutSimilar;Ke.callbacks.push(f),Ke.callbacks.length===1&&Ke.state.set(Pe())}else be.withVars.push({state:Us(Pe()),similar:w,vars:B,callback:f})}),n.set(Z)},bV=(e,n,r)=>{const f=e.get();ie(n.split(","),w=>wn(f,w).each(B=>{f[w]={withSimilar:{...B.withSimilar,callbacks:ue(B.withSimilar.callbacks,Z=>Z!==r)},withoutSimilar:{...B.withoutSimilar,callbacks:ue(B.withoutSimilar.callbacks,Z=>Z!==r)},withVars:ue(B.withVars,Z=>Z.callback!==r)}})),e.set(f)},xV=(e,n,r,f,w,B)=>(yV(e,n,r,f,w,B),{unbind:()=>bV(n,r,f)}),wV=(e,n,r,f)=>{const w=e.formatter.get(n);w&&(Hk(e,n,r,f)&&(!("toggle"in w[0])||w[0].toggle)?c7(e,n,r,f):h7(e,n,r,f))},v7=ur.explode,y7=()=>{const e={};return{addFilter:(w,B)=>{ie(v7(w),Z=>{lt(e,Z)||(e[Z]={name:Z,callbacks:[]}),e[Z].callbacks.push(B)})},getFilters:()=>Wn(e),removeFilter:(w,B)=>{ie(v7(w),Z=>{if(lt(e,Z))if(k(B)){const oe=e[Z],be=ue(oe.callbacks,Pe=>Pe!==B);be.length>0?oe.callbacks=be:delete e[Z]}else delete e[Z]})}}},CV=(e,n)=>{ie(n,r=>{e.attr(r,null)})},SV=(e,n,r)=>{e.addNodeFilter("font",f=>{ie(f,w=>{const B=n.parse(w.attr("style")),Z=w.attr("color"),oe=w.attr("face"),be=w.attr("size");Z&&(B.color=Z),oe&&(B["font-family"]=oe),be&&Bt(be).each(Pe=>{B["font-size"]=r[Pe-1]}),w.name="span",w.attr("style",n.serialize(B)),CV(w,["color","face","size"])})})},TV=(e,n,r)=>{e.addNodeFilter("strike",f=>{const w=n.type!=="html4";ie(f,B=>{if(w)B.name="s";else{const Z=r.parse(B.attr("style"));Z["text-decoration"]="line-through",B.name="span",B.attr("style",r.serialize(Z))}})})},kV=(e,n,r)=>{var f;const w=hb();n.convert_fonts_to_spans&&SV(e,w,ur.explode((f=n.font_size_legacy_values)!==null&&f!==void 0?f:"")),TV(e,r,w)},V5=(e,n,r)=>{n.inline_styles&&kV(e,n,r)},U5=(e,n,r)=>{n.addNodeFilter("br",(f,w,B)=>{const Z=ur.extend({},r.getBlockElements()),oe=r.getNonEmptyElements(),be=r.getWhitespaceElements();Z.body=1;const Pe=Ke=>Ke.name in Z||kh(r,Ke);for(let Ke=0,Je=f.length;Ke<Je;Ke++){let at=f[Ke],Rt=at.parent;if(Rt&&Pe(Rt)&&at===Rt.lastChild){let Ht=at.prev;for(;Ht;){const At=Ht.name;if(At!=="span"||Ht.attr("data-mce-type")!=="bookmark"){At==="br"&&(at=null);break}Ht=Ht.prev}if(at&&(at.remove(),Sx(r,oe,be,Rt))){const At=r.getElementRule(Rt.name);At&&(At.removeEmpty?Rt.remove():At.paddEmpty&&$k(e,B,Pe,Rt))}}else{let Ht=at;for(;Rt&&Rt.firstChild===Ht&&Rt.lastChild===Ht&&(Ht=Rt,!Z[Rt.name]);)Rt=Rt.parent;if(Ht===Rt){const At=new Hc("#text",3);At.value=Da,at.replace(At)}}}})},mee=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),YC=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},Jk=e=>{const[n,...r]=e.split(","),f=r.join(","),w=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(w){const B=w[2]===";base64",Z=B?YC(f):decodeURIComponent(f);return X.some({type:w[1],data:Z,base64Encoded:B})}else return X.none()},$x=(e,n,r=!0)=>{let f=n;if(r)try{f=atob(n)}catch{return X.none()}const w=new Uint8Array(f.length);for(let B=0;B<w.length;B++)w[B]=f.charCodeAt(B);return X.some(new Blob([w],{type:e}))},KC=e=>new Promise((n,r)=>{Jk(e).bind(({type:f,data:w,base64Encoded:B})=>$x(f,w,B)).fold(()=>r("Invalid data URI"),n)}),b7=e=>wr(e,"blob:")?mee(e):wr(e,"data:")?KC(e):Promise.reject("Unknown URI format"),AV=e=>new Promise((n,r)=>{const f=new FileReader;f.onloadend=()=>{n(f.result)},f.onerror=()=>{var w;r((w=f.error)===null||w===void 0?void 0:w.message)},f.readAsDataURL(e)});let MV=0;const gee=e=>(e||"blobid")+MV++,x7=(e,n,r)=>Jk(e).bind(({data:f,type:w,base64Encoded:B})=>{if(n&&!B)return X.none();{const Z=B?f:btoa(f);return r(Z,w)}}),w7=(e,n,r)=>{const f=e.create(gee(),n,r);return e.add(f),f},EV=(e,n,r=!1)=>x7(n,r,(f,w)=>X.from(e.getByData(f,w)).orThunk(()=>$x(w,f).map(B=>w7(e,B,f)))),_V=(e,n)=>{const r=()=>Promise.reject("Invalid data URI");if(wr(n,"blob:")){const f=e.getByUri(n);return k(f)?Promise.resolve(f):b7(n).then(w=>AV(w).then(B=>x7(B,!1,Z=>X.some(w7(e,w,Z))).getOrThunk(r)))}else return wr(n,"data:")?EV(e,n).fold(r,f=>Promise.resolve(f)):Promise.reject("Unknown image data format")},C7=e=>k(e.attr("data-mce-bogus")),RV=e=>e.attr("src")===Lr.transparentSrc||k(e.attr("data-mce-placeholder")),S7=(e,n)=>{const{blob_cache:r}=n;if(r){const f=w=>{const B=w.attr("src");RV(w)||C7(w)||M(B)||EV(r,B,!0).each(Z=>{w.attr("src",Z.blobUri())})};e.addAttributeFilter("src",w=>ie(w,f))}},W5=(e,n)=>wr(e,`${n}/`),Qk=(e,n,r,f,w)=>{let B;N(e)?B="iframe":W5(e,"image")?B="img":W5(e,"video")?B="video":W5(e,"audio")?B="audio":B="iframe";const Z=new Hc(B,1);return Z.attr(B==="audio"?{src:n}:{src:n,width:r,height:f}),(B==="audio"||B==="video")&&Z.attr("controls",""),B==="iframe"&&w&&Z.attr("sandbox",""),Z},T7=(e,n)=>{const r=e.schema;n.remove_trailing_brs&&U5(n,e,r),e.addAttributeFilter("href",w=>{let B=w.length;const Z=be=>be.split(" ").filter(Ke=>Ke.length>0).concat(["noopener"]).sort().join(" "),oe=be=>{const Pe=be?ur.trim(be):"";return/\b(noopener)\b/g.test(Pe)?Pe:Z(Pe)};if(!n.allow_unsafe_link_target)for(;B--;){const be=w[B];be.name==="a"&&be.attr("target")==="_blank"&&be.attr("rel",oe(be.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",w=>{let B=w.length,Z,oe,be,Pe;for(;B--;)if(Pe=w[B],Pe.name==="a"&&Pe.firstChild&&!Pe.attr("href"))for(be=Pe.parent,Z=Pe.lastChild;Z&&be;)oe=Z.prev,be.insert(Z,Pe),Z=oe}),n.fix_list_elements&&e.addNodeFilter("ul,ol",w=>{let B=w.length,Z,oe;for(;B--;)if(Z=w[B],oe=Z.parent,oe&&(oe.name==="ul"||oe.name==="ol"))if(Z.prev&&Z.prev.name==="li")Z.prev.append(Z);else{const be=new Hc("li",1);be.attr("style","list-style-type: none"),Z.wrap(be)}});const f=r.getValidClasses();n.validate&&f&&e.addAttributeFilter("class",w=>{var B;let Z=w.length;for(;Z--;){const oe=w[Z],be=(B=oe.attr("class"))!==null&&B!==void 0?B:"",Pe=ur.explode(be," ");let Ke="";for(let Je=0;Je<Pe.length;Je++){const at=Pe[Je];let Rt=!1,Ht=f["*"];Ht&&Ht[at]&&(Rt=!0),Ht=f[oe.name],!Rt&&Ht&&Ht[at]&&(Rt=!0),Rt&&(Ke&&(Ke+=" "),Ke+=at)}Ke.length||(Ke=null),oe.attr("class",Ke)}}),S7(e,n),n.convert_unsafe_embeds&&e.addNodeFilter("object,embed",w=>ie(w,B=>{B.replace(Qk(B.attr("type"),B.name==="object"?B.attr("data"):B.attr("src"),B.attr("width"),B.attr("height"),n.sandbox_iframes))})),n.sandbox_iframes&&e.addNodeFilter("iframe",w=>ie(w,B=>B.attr("sandbox","")))},{entries:Qi,setPrototypeOf:LV,isFrozen:pee,getPrototypeOf:vee,getOwnPropertyDescriptor:yee}=Object;let{freeze:Bi,seal:Lf,create:Zv}=Object,{apply:eg,construct:G5}=typeof Reflect<"u"&&Reflect;eg||(eg=function(n,r,f){return n.apply(r,f)}),Bi||(Bi=function(n){return n}),Lf||(Lf=function(n){return n}),G5||(G5=function(n,r){return new n(...r)});const DV=jd(Array.prototype.forEach),Ox=jd(Array.prototype.pop),tg=jd(Array.prototype.push),hp=jd(String.prototype.toLowerCase),qk=jd(String.prototype.toString),Z5=jd(String.prototype.match),Zd=jd(String.prototype.replace),k7=jd(String.prototype.indexOf),$V=jd(String.prototype.trim),ld=jd(RegExp.prototype.test),Px=OV(TypeError);function jd(e){return function(n){for(var r=arguments.length,f=new Array(r>1?r-1:0),w=1;w<r;w++)f[w-1]=arguments[w];return eg(e,n,f)}}function OV(e){return function(){for(var n=arguments.length,r=new Array(n),f=0;f<n;f++)r[f]=arguments[f];return G5(e,r)}}function cs(e,n,r){var f;r=(f=r)!==null&&f!==void 0?f:hp,LV&&LV(e,null);let w=n.length;for(;w--;){let B=n[w];if(typeof B=="string"){const Z=r(B);Z!==B&&(pee(n)||(n[w]=Z),B=Z)}e[B]=!0}return e}function Ix(e){const n=Zv(null);for(const[r,f]of Qi(e))n[r]=f;return n}function eA(e,n){for(;e!==null;){const f=yee(e,n);if(f){if(f.get)return jd(f.get);if(typeof f.value=="function")return jd(f.value)}e=vee(e)}function r(f){return console.warn("fallback value for",f),null}return r}const j5=Bi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Y5=Bi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),cy=Bi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),A7=Bi(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),K5=Bi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),M7=Bi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),E7=Bi(["#text"]),X5=Bi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),J5=Bi(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),_7=Bi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),XC=Bi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),R7=Lf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),L7=Lf(/<%[\w\W]*|[\w\W]*%>/gm),D7=Lf(/\${[\w\W]*}/gm),$7=Lf(/^data-[\-\w.\u00B7-\uFFFF]/),O7=Lf(/^aria-[\-\w]+$/),P7=Lf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),PV=Lf(/^(?:\w+script|data):/i),IV=Lf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),tA=Lf(/^html$/i);var Nx=Object.freeze({__proto__:null,MUSTACHE_EXPR:R7,ERB_EXPR:L7,TMPLIT_EXPR:D7,DATA_ATTR:$7,ARIA_ATTR:O7,IS_ALLOWED_URI:P7,IS_SCRIPT_OR_DATA:PV,ATTR_WHITESPACE:IV,DOCTYPE_NAME:tA});const I7=()=>typeof window>"u"?null:window,N7=function(n,r){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let f=null;const w="data-tt-policy-suffix";r&&r.hasAttribute(w)&&(f=r.getAttribute(w));const B="dompurify"+(f?"#"+f:"");try{return n.createPolicy(B,{createHTML(Z){return Z},createScriptURL(Z){return Z}})}catch{return console.warn("TrustedTypes policy "+B+" could not be created."),null}};function JC(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:I7();const n=la=>JC(la);if(n.version="3.0.5",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;const r=e.document,f=r.currentScript;let{document:w}=e;const{DocumentFragment:B,HTMLTemplateElement:Z,Node:oe,Element:be,NodeFilter:Pe,NamedNodeMap:Ke=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:Je,DOMParser:at,trustedTypes:Rt}=e,Ht=be.prototype,At=eA(Ht,"cloneNode"),It=eA(Ht,"nextSibling"),ln=eA(Ht,"childNodes"),xn=eA(Ht,"parentNode");if(typeof Z=="function"){const la=w.createElement("template");la.content&&la.content.ownerDocument&&(w=la.content.ownerDocument)}let yn,$n="";const{implementation:nr,createNodeIterator:mr,createDocumentFragment:Nr,getElementsByTagName:zn}=w,{importNode:Nn}=r;let er={};n.isSupported=typeof Qi=="function"&&typeof xn=="function"&&nr&&nr.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Qr,ERB_EXPR:ho,TMPLIT_EXPR:na,DATA_ATTR:ca,ARIA_ATTR:os,IS_SCRIPT_OR_DATA:ka,ATTR_WHITESPACE:ei}=Nx;let{IS_ALLOWED_URI:zl}=Nx,as=null;const Sr=cs({},[...j5,...Y5,...cy,...K5,...E7]);let so=null;const $a=cs({},[...X5,...J5,..._7,...XC]);let ha=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),to=null,Lo=null,vr=!0,Oo=!0,Aa=!1,ps=!0,us=!1,ml=!1,th=!1,cf=!1,iu=!1,pd=!1,zo=!1,Oa=!0,vs=!1;const Gs="user-content-";let $s=!0,Iu=!1,nh={},xp=null;const eE=cs({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let JS=null;const tE=cs({},["audio","video","img","source","image","track"]);let m2=null;const nE=cs({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),g2="http://www.w3.org/1998/Math/MathML",g0="http://www.w3.org/2000/svg",rh="http://www.w3.org/1999/xhtml";let em=rh,p2=!1,Ey=null;const QS=cs({},[g2,g0,rh],qk);let tm;const rE=["application/xhtml+xml","text/html"],qS="text/html";let fc,_y=null;const LF=w.createElement("form"),oE=function(Fn){return Fn instanceof RegExp||Fn instanceof Function},e3=function(Fn){if(!(_y&&_y===Fn)){if((!Fn||typeof Fn!="object")&&(Fn={}),Fn=Ix(Fn),tm=rE.indexOf(Fn.PARSER_MEDIA_TYPE)===-1?tm=qS:tm=Fn.PARSER_MEDIA_TYPE,fc=tm==="application/xhtml+xml"?qk:hp,as="ALLOWED_TAGS"in Fn?cs({},Fn.ALLOWED_TAGS,fc):Sr,so="ALLOWED_ATTR"in Fn?cs({},Fn.ALLOWED_ATTR,fc):$a,Ey="ALLOWED_NAMESPACES"in Fn?cs({},Fn.ALLOWED_NAMESPACES,qk):QS,m2="ADD_URI_SAFE_ATTR"in Fn?cs(Ix(nE),Fn.ADD_URI_SAFE_ATTR,fc):nE,JS="ADD_DATA_URI_TAGS"in Fn?cs(Ix(tE),Fn.ADD_DATA_URI_TAGS,fc):tE,xp="FORBID_CONTENTS"in Fn?cs({},Fn.FORBID_CONTENTS,fc):eE,to="FORBID_TAGS"in Fn?cs({},Fn.FORBID_TAGS,fc):{},Lo="FORBID_ATTR"in Fn?cs({},Fn.FORBID_ATTR,fc):{},nh="USE_PROFILES"in Fn?Fn.USE_PROFILES:!1,vr=Fn.ALLOW_ARIA_ATTR!==!1,Oo=Fn.ALLOW_DATA_ATTR!==!1,Aa=Fn.ALLOW_UNKNOWN_PROTOCOLS||!1,ps=Fn.ALLOW_SELF_CLOSE_IN_ATTR!==!1,us=Fn.SAFE_FOR_TEMPLATES||!1,ml=Fn.WHOLE_DOCUMENT||!1,iu=Fn.RETURN_DOM||!1,pd=Fn.RETURN_DOM_FRAGMENT||!1,zo=Fn.RETURN_TRUSTED_TYPE||!1,cf=Fn.FORCE_BODY||!1,Oa=Fn.SANITIZE_DOM!==!1,vs=Fn.SANITIZE_NAMED_PROPS||!1,$s=Fn.KEEP_CONTENT!==!1,Iu=Fn.IN_PLACE||!1,zl=Fn.ALLOWED_URI_REGEXP||P7,em=Fn.NAMESPACE||rh,ha=Fn.CUSTOM_ELEMENT_HANDLING||{},Fn.CUSTOM_ELEMENT_HANDLING&&oE(Fn.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ha.tagNameCheck=Fn.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Fn.CUSTOM_ELEMENT_HANDLING&&oE(Fn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ha.attributeNameCheck=Fn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Fn.CUSTOM_ELEMENT_HANDLING&&typeof Fn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ha.allowCustomizedBuiltInElements=Fn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),us&&(Oo=!1),pd&&(iu=!0),nh&&(as=cs({},[...E7]),so=[],nh.html===!0&&(cs(as,j5),cs(so,X5)),nh.svg===!0&&(cs(as,Y5),cs(so,J5),cs(so,XC)),nh.svgFilters===!0&&(cs(as,cy),cs(so,J5),cs(so,XC)),nh.mathMl===!0&&(cs(as,K5),cs(so,_7),cs(so,XC))),Fn.ADD_TAGS&&(as===Sr&&(as=Ix(as)),cs(as,Fn.ADD_TAGS,fc)),Fn.ADD_ATTR&&(so===$a&&(so=Ix(so)),cs(so,Fn.ADD_ATTR,fc)),Fn.ADD_URI_SAFE_ATTR&&cs(m2,Fn.ADD_URI_SAFE_ATTR,fc),Fn.FORBID_CONTENTS&&(xp===eE&&(xp=Ix(xp)),cs(xp,Fn.FORBID_CONTENTS,fc)),$s&&(as["#text"]=!0),ml&&cs(as,["html","head","body"]),as.table&&(cs(as,["tbody"]),delete to.tbody),Fn.TRUSTED_TYPES_POLICY){if(typeof Fn.TRUSTED_TYPES_POLICY.createHTML!="function")throw Px('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Fn.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Px('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');yn=Fn.TRUSTED_TYPES_POLICY,$n=yn.createHTML("")}else yn===void 0&&(yn=N7(Rt,f)),yn!==null&&typeof $n=="string"&&($n=yn.createHTML(""));Bi&&Bi(Fn),_y=Fn}},ug=cs({},["mi","mo","mn","ms","mtext"]),v2=cs({},["foreignobject","desc","title","annotation-xml"]),On=cs({},["title","style","font","a","script"]),Pn=cs({},Y5);cs(Pn,cy),cs(Pn,A7);const yr=cs({},K5);cs(yr,M7);const dr=function(Fn){let ao=xn(Fn);(!ao||!ao.tagName)&&(ao={namespaceURI:em,tagName:"template"});const Ao=hp(Fn.tagName),ki=hp(ao.tagName);return Ey[Fn.namespaceURI]?Fn.namespaceURI===g0?ao.namespaceURI===rh?Ao==="svg":ao.namespaceURI===g2?Ao==="svg"&&(ki==="annotation-xml"||ug[ki]):!!Pn[Ao]:Fn.namespaceURI===g2?ao.namespaceURI===rh?Ao==="math":ao.namespaceURI===g0?Ao==="math"&&v2[ki]:!!yr[Ao]:Fn.namespaceURI===rh?ao.namespaceURI===g0&&!v2[ki]||ao.namespaceURI===g2&&!ug[ki]?!1:!yr[Ao]&&(On[Ao]||!Pn[Ao]):!!(tm==="application/xhtml+xml"&&Ey[Fn.namespaceURI]):!1},uo=function(Fn){tg(n.removed,{element:Fn});try{Fn.parentNode.removeChild(Fn)}catch{Fn.remove()}},ua=function(Fn,ao){try{tg(n.removed,{attribute:ao.getAttributeNode(Fn),from:ao})}catch{tg(n.removed,{attribute:null,from:ao})}if(ao.removeAttribute(Fn),Fn==="is"&&!so[Fn])if(iu||pd)try{uo(ao)}catch{}else try{ao.setAttribute(Fn,"")}catch{}},Fs=function(Fn){let ao,Ao;if(cf)Fn="<remove></remove>"+Fn;else{const Ff=Z5(Fn,/^[\r\n\t ]+/);Ao=Ff&&Ff[0]}tm==="application/xhtml+xml"&&em===rh&&(Fn='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Fn+"</body></html>");const ki=yn?yn.createHTML(Fn):Fn;if(em===rh)try{ao=new at().parseFromString(ki,tm)}catch{}if(!ao||!ao.documentElement){ao=nr.createDocument(em,"template",null);try{ao.documentElement.innerHTML=p2?$n:ki}catch{}}const kc=ao.body||ao.documentElement;return Fn&&Ao&&kc.insertBefore(w.createTextNode(Ao),kc.childNodes[0]||null),em===rh?zn.call(ao,ml?"html":"body")[0]:ml?ao.documentElement:kc},Nu=function(Fn){return mr.call(Fn.ownerDocument||Fn,Fn,Pe.SHOW_ELEMENT|Pe.SHOW_COMMENT|Pe.SHOW_TEXT,null,!1)},Vl=function(Fn){return Fn instanceof Je&&(typeof Fn.nodeName!="string"||typeof Fn.textContent!="string"||typeof Fn.removeChild!="function"||!(Fn.attributes instanceof Ke)||typeof Fn.removeAttribute!="function"||typeof Fn.setAttribute!="function"||typeof Fn.namespaceURI!="string"||typeof Fn.insertBefore!="function"||typeof Fn.hasChildNodes!="function")},Ry=function(Fn){return typeof oe=="object"?Fn instanceof oe:Fn&&typeof Fn=="object"&&typeof Fn.nodeType=="number"&&typeof Fn.nodeName=="string"},vd=function(Fn,ao,Ao){er[Fn]&&DV(er[Fn],ki=>{ki.call(n,ao,Ao,_y)})},DF=function(Fn){let ao;if(vd("beforeSanitizeElements",Fn,null),Vl(Fn))return uo(Fn),!0;const Ao=fc(Fn.nodeName);if(vd("uponSanitizeElement",Fn,{tagName:Ao,allowedTags:as}),Fn.hasChildNodes()&&!Ry(Fn.firstElementChild)&&(!Ry(Fn.content)||!Ry(Fn.content.firstElementChild))&&ld(/<[/\w]/g,Fn.innerHTML)&&ld(/<[/\w]/g,Fn.textContent))return uo(Fn),!0;if(!as[Ao]||to[Ao]){if(!to[Ao]&&OF(Ao)&&(ha.tagNameCheck instanceof RegExp&&ld(ha.tagNameCheck,Ao)||ha.tagNameCheck instanceof Function&&ha.tagNameCheck(Ao)))return!1;if($s&&!xp[Ao]){const ki=xn(Fn)||Fn.parentNode,kc=ln(Fn)||Fn.childNodes;if(kc&&ki){const Ff=kc.length;for(let gl=Ff-1;gl>=0;--gl)ki.insertBefore(At(kc[gl],!0),It(Fn))}}return uo(Fn),!0}return Fn instanceof be&&!dr(Fn)||(Ao==="noscript"||Ao==="noembed"||Ao==="noframes")&&ld(/<\/no(script|embed|frames)/i,Fn.innerHTML)?(uo(Fn),!0):(us&&Fn.nodeType===3&&(ao=Fn.textContent,ao=Zd(ao,Qr," "),ao=Zd(ao,ho," "),ao=Zd(ao,na," "),Fn.textContent!==ao&&(tg(n.removed,{element:Fn.cloneNode()}),Fn.textContent=ao)),vd("afterSanitizeElements",Fn,null),!1)},$F=function(Fn,ao,Ao){if(Oa&&(ao==="id"||ao==="name")&&(Ao in w||Ao in LF))return!1;if(!(Oo&&!Lo[ao]&&ld(ca,ao))){if(!(vr&&ld(os,ao))){if(!so[ao]||Lo[ao]){if(!(OF(Fn)&&(ha.tagNameCheck instanceof RegExp&&ld(ha.tagNameCheck,Fn)||ha.tagNameCheck instanceof Function&&ha.tagNameCheck(Fn))&&(ha.attributeNameCheck instanceof RegExp&&ld(ha.attributeNameCheck,ao)||ha.attributeNameCheck instanceof Function&&ha.attributeNameCheck(ao))||ao==="is"&&ha.allowCustomizedBuiltInElements&&(ha.tagNameCheck instanceof RegExp&&ld(ha.tagNameCheck,Ao)||ha.tagNameCheck instanceof Function&&ha.tagNameCheck(Ao))))return!1}else if(!m2[ao]){if(!ld(zl,Zd(Ao,ei,""))){if(!((ao==="src"||ao==="xlink:href"||ao==="href")&&Fn!=="script"&&k7(Ao,"data:")===0&&JS[Fn])){if(!(Aa&&!ld(ka,Zd(Ao,ei,"")))){if(Ao)return!1}}}}}}return!0},OF=function(Fn){return Fn.indexOf("-")>0},d6=function(Fn){let ao,Ao,ki,kc;vd("beforeSanitizeAttributes",Fn,null);const{attributes:Ff}=Fn;if(!Ff)return;const gl={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:so};for(kc=Ff.length;kc--;){ao=Ff[kc];const{name:oh,namespaceURI:aE}=ao;Ao=oh==="value"?ao.value:$V(ao.value);const TJ=Ao;if(ki=fc(oh),gl.attrName=ki,gl.attrValue=Ao,gl.keepAttr=!0,gl.forceKeepAttr=void 0,vd("uponSanitizeAttribute",Fn,gl),Ao=gl.attrValue,gl.forceKeepAttr)continue;if(!gl.keepAttr){ua(oh,Fn);continue}if(!ps&&ld(/\/>/i,Ao)){ua(oh,Fn);continue}us&&(Ao=Zd(Ao,Qr," "),Ao=Zd(Ao,ho," "),Ao=Zd(Ao,na," "));const PF=fc(Fn.nodeName);if(!$F(PF,ki,Ao)){ua(oh,Fn);continue}if(vs&&(ki==="id"||ki==="name")&&(ua(oh,Fn),Ao=Gs+Ao),yn&&typeof Rt=="object"&&typeof Rt.getAttributeType=="function"&&!aE)switch(Rt.getAttributeType(PF,ki)){case"TrustedHTML":{Ao=yn.createHTML(Ao);break}case"TrustedScriptURL":{Ao=yn.createScriptURL(Ao);break}}if(Ao!==TJ)try{aE?Fn.setAttributeNS(aE,oh,Ao):Fn.setAttribute(oh,Ao)}catch{ua(oh,Fn)}}vd("afterSanitizeAttributes",Fn,null)},SJ=function la(Fn){let ao;const Ao=Nu(Fn);for(vd("beforeSanitizeShadowDOM",Fn,null);ao=Ao.nextNode();)vd("uponSanitizeShadowNode",ao,null),!DF(ao)&&(ao.content instanceof B&&la(ao.content),d6(ao));vd("afterSanitizeShadowDOM",Fn,null)};return n.sanitize=function(la){let Fn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ao,Ao,ki,kc;if(p2=!la,p2&&(la="<!-->"),typeof la!="string"&&!Ry(la))if(typeof la.toString=="function"){if(la=la.toString(),typeof la!="string")throw Px("dirty is not a string, aborting")}else throw Px("toString is not a function");if(!n.isSupported)return la;if(th||e3(Fn),n.removed=[],typeof la=="string"&&(Iu=!1),Iu){if(la.nodeName){const oh=fc(la.nodeName);if(!as[oh]||to[oh])throw Px("root node is forbidden and cannot be sanitized in-place")}}else if(la instanceof oe)ao=Fs("<!---->"),Ao=ao.ownerDocument.importNode(la,!0),Ao.nodeType===1&&Ao.nodeName==="BODY"||Ao.nodeName==="HTML"?ao=Ao:ao.appendChild(Ao);else{if(!iu&&!us&&!ml&&la.indexOf("<")===-1)return yn&&zo?yn.createHTML(la):la;if(ao=Fs(la),!ao)return iu?null:zo?$n:""}ao&&cf&&uo(ao.firstChild);const Ff=Nu(Iu?la:ao);for(;ki=Ff.nextNode();)DF(ki)||(ki.content instanceof B&&SJ(ki.content),d6(ki));if(Iu)return la;if(iu){if(pd)for(kc=Nr.call(ao.ownerDocument);ao.firstChild;)kc.appendChild(ao.firstChild);else kc=ao;return(so.shadowroot||so.shadowrootmode)&&(kc=Nn.call(r,kc,!0)),kc}let gl=ml?ao.outerHTML:ao.innerHTML;return ml&&as["!doctype"]&&ao.ownerDocument&&ao.ownerDocument.doctype&&ao.ownerDocument.doctype.name&&ld(tA,ao.ownerDocument.doctype.name)&&(gl="<!DOCTYPE "+ao.ownerDocument.doctype.name+`>
`+gl),us&&(gl=Zd(gl,Qr," "),gl=Zd(gl,ho," "),gl=Zd(gl,na," ")),yn&&zo?yn.createHTML(gl):gl},n.setConfig=function(la){e3(la),th=!0},n.clearConfig=function(){_y=null,th=!1},n.isValidAttribute=function(la,Fn,ao){_y||e3({});const Ao=fc(la),ki=fc(Fn);return $F(Ao,ki,ao)},n.addHook=function(la,Fn){typeof Fn=="function"&&(er[la]=er[la]||[],tg(er[la],Fn))},n.removeHook=function(la){if(er[la])return Ox(er[la])},n.removeHooks=function(la){er[la]&&(er[la]=[])},n.removeAllHooks=function(){er={}},n}var F7=JC();const B7=ur.each,jv=ur.trim,Q5=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],H7={ftp:21,http:80,https:443,mailto:25},QC=["img","video"],z7=(e,n)=>k(e)?!e:k(n)?!Ve(QC,n):!0,q5=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},eR=(e,n,r)=>{const f=q5(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(f)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(f)?z7(e.allow_svg_data_urls,r)&&/^data:image\/svg\+xml/i.test(f):/^data:/i.test(f)};class cd{static parseDataUri(n){let r;const f=decodeURIComponent(n).split(","),w=/data:([^;]+)/.exec(f[0]);return w&&(r=w[1]),{type:r,data:f[1]}}static isDomSafe(n,r,f={}){if(f.allow_script_urls)return!0;{const w=km.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!eR(f,w,r)}}static getDocumentBaseUrl(n){var r;let f;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?f=(r=n.href)!==null&&r!==void 0?r:"":f=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(f)&&(f=f.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(f)||(f+="/")),f}constructor(n,r={}){this.path="",this.directory="",n=jv(n),this.settings=r;const f=r.base_uri,w=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){w.source=n;return}const B=n.indexOf("//")===0;if(n.indexOf("/")===0&&!B&&(n=(f&&f.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const oe=f?f.path:new cd(document.location.href).directory;if((f==null?void 0:f.protocol)==="")n="//mce_host"+w.toAbsPath(oe,n);else{const be=/([^#?]*)([#?]?.*)/.exec(n);be&&(n=(f&&f.protocol||"http")+"://mce_host"+w.toAbsPath(oe,be[1])+be[2])}}n=n.replace(/@@/g,"(mce_at)");const Z=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);Z&&B7(Q5,(oe,be)=>{let Pe=Z[be];Pe&&(Pe=Pe.replace(/\(mce_at\)/g,"@@")),w[oe]=Pe}),f&&(w.protocol||(w.protocol=f.protocol),w.userInfo||(w.userInfo=f.userInfo),!w.port&&w.host==="mce_host"&&(w.port=f.port),(!w.host||w.host==="mce_host")&&(w.host=f.host),w.source=""),B&&(w.protocol="")}setPath(n){const r=/^(.*?)\/?(\w+)?$/.exec(n);r&&(this.path=r[0],this.directory=r[1],this.file=r[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const r=new cd(n,{base_uri:this});if(r.host!=="mce_host"&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&r.protocol!=="")return r.getURI();const f=this.getURI(),w=r.getURI();if(f===w||f.charAt(f.length-1)==="/"&&f.substr(0,f.length-1)===w)return f;let B=this.toRelPath(this.path,r.path);return r.query&&(B+="?"+r.query),r.anchor&&(B+="#"+r.anchor),B}toAbsolute(n,r){const f=new cd(n,{base_uri:this});return f.getURI(r&&this.isSameOrigin(f))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const r=this.protocol?H7[this.protocol]:null;if(r&&(this.port||r)==(n.port||r))return!0}return!1}toRelPath(n,r){let f=0,w="",B,Z;const oe=n.substring(0,n.lastIndexOf("/")).split("/"),be=r.split("/");if(oe.length>=be.length){for(B=0,Z=oe.length;B<Z;B++)if(B>=be.length||oe[B]!==be[B]){f=B+1;break}}if(oe.length<be.length){for(B=0,Z=be.length;B<Z;B++)if(B>=oe.length||oe[B]!==be[B]){f=B+1;break}}if(f===1)return r;for(B=0,Z=oe.length-(f-1);B<Z;B++)w+="../";for(B=f-1,Z=be.length;B<Z;B++)B!==f-1?w+="/"+be[B]:w+=be[B];return w}toAbsPath(n,r){let f=0;const w=/\/$/.test(r)?"/":"",B=n.split("/"),Z=r.split("/"),oe=[];B7(B,Je=>{Je&&oe.push(Je)});const be=[];for(let Je=Z.length-1;Je>=0;Je--)if(!(Z[Je].length===0||Z[Je]===".")){if(Z[Je]===".."){f++;continue}if(f>0){f--;continue}be.push(Z[Je])}const Pe=oe.length-f;let Ke;return Pe<=0?Ke=ot(be).join("/"):Ke=oe.slice(0,Pe).join("/")+"/"+ot(be).join("/"),Ke.indexOf("/")!==0&&(Ke="/"+Ke),w&&Ke.lastIndexOf("/")!==Ke.length-1&&(Ke+=w),Ke}getURI(n=!1){let r;return(!this.source||n)&&(r="",n||(this.protocol?r+=this.protocol+"://":r+="//",this.userInfo&&(r+=this.userInfo+"@"),this.host&&(r+=this.host),this.port&&(r+=":"+this.port)),this.path&&(r+=this.path),this.query&&(r+="?"+this.query),this.anchor&&(r+="#"+this.anchor),this.source=r),this.source}}const NV=ur.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),tR="data-mce-type";let V7=0;const nA=(e,n,r,f,w)=>{var B,Z,oe,be;const Pe=n.validate,Ke=r.getSpecialElements();e.nodeType===Uf&&!n.allow_conditional_comments&&/^\[if/i.test((B=e.nodeValue)!==null&&B!==void 0?B:"")&&(e.nodeValue=" "+e.nodeValue);const Je=(Z=w==null?void 0:w.tagName)!==null&&Z!==void 0?Z:e.nodeName.toLowerCase();if(f!=="html"&&r.isValid(f)){k(w)&&(w.allowedTags[Je]=!0);return}if(e.nodeType!==wd||Je==="body")return;const at=jt.fromDom(e),Rt=Gu(at,tR),Ht=il(at,"data-mce-bogus");if(!Rt&&C(Ht)){Ht==="all"?Ua(at):Xu(at);return}const At=r.getElementRule(Je);if(Pe&&!At){lt(Ke,Je)?Ua(at):Xu(at);return}else k(w)&&(w.allowedTags[Je]=!0);if(Pe&&At&&!Rt){if(ie((oe=At.attributesForced)!==null&&oe!==void 0?oe:[],It=>{ws(at,It.name,It.value==="{$uid}"?`mce_${V7++}`:It.value)}),ie((be=At.attributesDefault)!==null&&be!==void 0?be:[],It=>{Gu(at,It.name)||ws(at,It.name,It.value==="{$uid}"?`mce_${V7++}`:It.value)}),At.attributesRequired&&!Oe(At.attributesRequired,It=>Gu(at,It))){Xu(at);return}if(At.removeEmptyAttrs&&Zu(at)){Xu(at);return}At.outputName&&At.outputName!==Je&&Qf(at,At.outputName)}},FV=(e,n,r,f,w)=>{const B=e.tagName.toLowerCase(),{attrName:Z,attrValue:oe}=w;w.keepAttr=nR(n,r,f,B,Z,oe),w.keepAttr?(w.allowedAttributes[Z]=!0,W7(Z,r)&&(w.attrValue=Z),n.allow_svg_data_urls&&wr(oe,"data:image/svg+xml")&&(w.forceKeepAttr=!0)):U7(e,Z)&&(w.forceKeepAttr=!0)},nR=(e,n,r,f,w,B)=>r!=="html"&&!nc(f)?!0:!(w in NV&&eR(e,B,f))&&(!e.validate||n.isValid(f,w)||wr(w,"data-")||wr(w,"aria-")),U7=(e,n)=>e.hasAttribute(tR)&&(n==="id"||n==="class"||n==="style"),W7=(e,n)=>e in n.getBoolAttrs(),BV=(e,n,r,f)=>{const{attributes:w}=e;for(let B=w.length-1;B>=0;B--){const Z=w[B],oe=Z.name,be=Z.value;!nR(n,r,f,e.tagName.toLowerCase(),oe,be)&&!U7(e,oe)?e.removeAttribute(oe):W7(oe,r)&&e.setAttribute(oe,oe)}},HV=(e,n,r)=>{const f=F7();return f.addHook("uponSanitizeElement",(w,B)=>{nA(w,e,n,r.track(w),B)}),f.addHook("uponSanitizeAttribute",(w,B)=>{FV(w,e,n,r.current(),B)}),f},zV=(e,n)=>{const f={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return f.PARSER_MEDIA_TYPE=n,e.allow_script_urls?f.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(f.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),f},VV=e=>{const n=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(f=>`xlink:${f}`),r={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:n};return F7().sanitize(e,r),e.innerHTML},UV=(e,n)=>{const r=Kf();if(e.sanitize){const f=HV(e,n,r);return{sanitizeHtmlElement:(B,Z)=>{f.sanitize(B,zV(e,Z)),f.removed=[],r.reset()},sanitizeNamespaceElement:VV}}else return{sanitizeHtmlElement:(B,Z)=>{const oe=document.createNodeIterator(B,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let be;for(;be=oe.nextNode();){const Pe=r.track(be);nA(be,e,n,Pe),Gr(be)&&BV(be,e,n,Pe)}r.reset()},sanitizeNamespaceElement:j}},G7=ur.makeMap,Z7=ur.extend,qC=(e,n,r,f)=>{const w=e.name,B=w in r&&w!=="title"&&w!=="textarea",Z=n.childNodes;for(let oe=0,be=Z.length;oe<be;oe++){const Pe=Z[oe],Ke=new Hc(Pe.nodeName.toLowerCase(),Pe.nodeType);if(Gr(Pe)){const Je=Pe.attributes;for(let at=0,Rt=Je.length;at<Rt;at++){const Ht=Je[at];Ke.attr(Ht.name,Ht.value)}nc(Ke.name)&&(f(Pe),Ke.value=Pe.innerHTML)}else ir(Pe)?(Ke.value=Pe.data,B&&(Ke.raw=!0)):(gf(Pe)||rb(Pe)||cl(Pe))&&(Ke.value=Pe.data);nc(Ke.name)||qC(Ke,Pe,r,f),e.append(Ke)}},Vc=(e,n,r)=>{const f=[];for(let w=e,B=w;w;B=w,w=w.walk()){const Z=w;ie(n,oe=>oe(Z)),M(Z.parent)&&Z!==e?w=B:f.push(Z)}for(let w=f.length-1;w>=0;w--){const B=f[w];ie(r,Z=>Z(B))}},WV=(e,n,r,f)=>{const w=r.validate,B=n.getNonEmptyElements(),Z=n.getWhitespaceElements(),oe=Z7(G7("script,style,head,html,body,title,meta,param"),n.getBlockElements()),be=I3(n),Pe=/[ \t\r\n]+/g,Ke=/^[ \t\r\n]+/,Je=/[ \t\r\n]+$/,at=xn=>{let yn=xn.parent;for(;k(yn);){if(yn.name in Z)return!0;yn=yn.parent}return!1},Rt=xn=>{let yn=xn;for(;k(yn);){if(yn.name in be)return Sx(n,B,Z,yn);yn=yn.parent}return!1},Ht=xn=>xn.name in oe||kh(n,xn)||nc(xn.name)&&xn.parent===e,At=(xn,yn)=>{const $n=yn?xn.prev:xn.next;return k($n)||M(xn.parent)?!1:Ht(xn.parent)&&(xn.parent!==e||f.isRootContent===!0)};return[xn=>{var yn;if(xn.type===3&&!at(xn)){let $n=(yn=xn.value)!==null&&yn!==void 0?yn:"";$n=$n.replace(Pe," "),(f5(xn.prev,Ht)||At(xn,!0))&&($n=$n.replace(Ke,"")),$n.length===0?xn.remove():xn.value=$n}},xn=>{var yn;if(xn.type===1){const $n=n.getElementRule(xn.name);if(w&&$n){const nr=Sx(n,B,Z,xn);$n.paddInEmptyBlock&&nr&&Rt(xn)?$k(r,f,Ht,xn):$n.removeEmpty&&nr?Ht(xn)?xn.remove():xn.unwrap():$n.paddEmpty&&(nr||M8(xn))&&$k(r,f,Ht,xn)}}else if(xn.type===3&&!at(xn)){let $n=(yn=xn.value)!==null&&yn!==void 0?yn:"";(xn.next&&Ht(xn.next)||At(xn,!1))&&($n=$n.replace(Je,"")),$n.length===0?xn.remove():xn.value=$n}}]},rA=(e,n)=>{var r;const f=(r=n.forced_root_block)!==null&&r!==void 0?r:e.forced_root_block;return f===!1?"":f===!0?"p":f},Yd=(e={},n=_h())=>{const r=y7(),f=y7(),w={validate:!0,root_name:"body",sanitize:!0,...e},B=new DOMParser,Z=UV(w,n),oe=(yn,$n,nr="html")=>{const mr=nr==="xhtml"?"application/xhtml+xml":"text/html",Nr=lt(n.getSpecialElements(),$n.toLowerCase()),zn=Nr?`<${$n}>${yn}</${$n}>`:yn,Nn=nr==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${zn}</body></html>`:`<body>${zn}</body>`,er=B.parseFromString(Nn,mr).body;return Z.sanitizeHtmlElement(er,mr),Nr?er.firstChild:er},be=r.addFilter,Pe=r.getFilters,Ke=r.removeFilter,Je=f.addFilter,at=f.getFilters,Rt=f.removeFilter,Ht=(yn,$n)=>{Ik(n,yn)&&$n.push(yn)},At=(yn,$n)=>{const nr=C($n.attr(tR)),mr=$n.type===1&&!lt(yn,$n.name)&&!kh(n,$n)&&!nc($n.name);return $n.type===3||mr&&!nr},It=(yn,$n)=>{const nr=Z7(G7("script,style,head,html,body,title,meta,param"),n.getBlockElements()),mr=/^[ \t\r\n]+/,Nr=/[ \t\r\n]+$/;let zn=yn.firstChild,Nn=null;const er=Qr=>{var ho,na;Qr&&(zn=Qr.firstChild,zn&&zn.type===3&&(zn.value=(ho=zn.value)===null||ho===void 0?void 0:ho.replace(mr,"")),zn=Qr.lastChild,zn&&zn.type===3&&(zn.value=(na=zn.value)===null||na===void 0?void 0:na.replace(Nr,"")))};if(n.isValidChild(yn.name,$n.toLowerCase())){for(;zn;){const Qr=zn.next;At(nr,zn)?(Nn||(Nn=new Hc($n,1),Nn.attr(w.forced_root_block_attrs),yn.insert(Nn,zn)),Nn.append(zn)):(er(Nn),Nn=null),zn=Qr}er(Nn)}},xn={schema:n,addAttributeFilter:Je,getAttributeFilters:at,removeAttributeFilter:Rt,addNodeFilter:be,getNodeFilters:Pe,removeNodeFilter:Ke,parse:(yn,$n={})=>{var nr;const mr=w.validate,Nr=(nr=$n.context)!==null&&nr!==void 0?nr:w.root_name,zn=oe(yn,Nr,$n.format);q0(n,zn);const Nn=new Hc(Nr,11);qC(Nn,zn,n.getSpecialElements(),Z.sanitizeNamespaceElement),zn.innerHTML="";const[er,Qr]=WV(Nn,n,w,$n),ho=[],na=mr?ei=>Ht(ei,ho):j,ca={nodes:{},attributes:{}},os=ei=>i5(Pe(),at(),ei,ca);if(Vc(Nn,[er,os],[Qr,na]),ho.reverse(),mr&&ho.length>0)if($n.context){const{pass:ei,fail:zl}=se(ho,as=>as.parent===Nn);Pk(zl,n,Nn,os),$n.invalid=ei.length>0}else Pk(ho,n,Nn,os);const ka=rA(w,$n);return ka&&(Nn.name==="body"||$n.isRootContent)&&It(Nn,ka),$n.invalid||l5(ca,$n),Nn}};return T7(xn,w),V5(xn,w,n),xn},j7=e=>Bk(e)?Uv({validate:!1}).serialize(e):e,Du=(e,n,r)=>{const f=j7(e),w=n(f);if(w.isDefaultPrevented())return w;if(Bk(e))if(w.content!==f){const B=Yd({validate:!1,forced_root_block:!1,...r}).parse(w.content,{context:e.name});return{...w,content:B}}else return{...w,content:e};else return w},Yv=(e,n)=>{if(n.no_events)return Oc.value(n);{const r=u_(e,n);return r.isDefaultPrevented()?Oc.error(da(e,{content:"",...r}).content):Oc.value(r)}},rR=(e,n,r)=>r.no_events?n:Du(n,w=>da(e,{...r,content:w}),{sanitize:bv(e),sandbox_iframes:Vb(e)}).content,oR=(e,n)=>{if(n.no_events)return Oc.value(n);{const r=Du(n.content,f=>h$(e,{...n,content:f}),{sanitize:bv(e),sandbox_iframes:Vb(e)});return r.isDefaultPrevented()?(QT(e,r),Oc.error(void 0)):Oc.value(r)}},oA=(e,n,r)=>{r.no_events||QT(e,{...r,content:n})},aR=(e,n,r)=>({element:e,width:n,rows:r}),sR=(e,n)=>({element:e,cells:n}),eS=(e,n)=>({x:e,y:n}),aA=(e,n)=>Yl(e,n).bind(Bt).getOr(1),GV=(e,n,r,f,w)=>{const B=aA(w,"rowspan"),Z=aA(w,"colspan"),oe=e.rows;for(let be=r;be<r+B;be++){oe[be]||(oe[be]=sR(kb(f),[]));for(let Pe=n;Pe<n+Z;Pe++){const Ke=oe[be].cells;Ke[Pe]=be===r&&Pe===n?w:tu(w)}}},Y7=(e,n,r)=>{const f=e.rows;return!!(f[r]?f[r].cells:[])[n]},ZV=(e,n,r)=>{for(;Y7(e,n,r);)n++;return n},sA=e=>le(e,(n,r)=>r.cells.length>n?r.cells.length:n,0),iA=(e,n)=>{const r=e.rows;for(let f=0;f<r.length;f++){const w=r[f].cells;for(let B=0;B<w.length;B++)if(Ba(w[B],n))return X.some(eS(B,f))}return X.none()},K7=(e,n,r,f,w)=>{const B=[],Z=e.rows;for(let oe=r;oe<=w;oe++){const be=Z[oe].cells,Pe=n<f?be.slice(n,f+1):be.slice(f,n+1);B.push(sR(Z[oe].element,Pe))}return B},jV=(e,n,r)=>{const f=n.x,w=n.y,B=r.x,Z=r.y,oe=w<Z?K7(e,f,w,B,Z):K7(e,f,Z,B,w);return aR(e.element,sA(oe),oe)},ng=(e,n)=>{const r=tu(e.element),f=jt.fromTag("tbody");return hs(f,n),di(r,f),r},iR=e=>Fe(e.rows,n=>{const r=Fe(n.cells,w=>{const B=kb(w);return Xs(B,"colspan"),Xs(B,"rowspan"),B}),f=tu(n.element);return hs(f,r),f}),YV=e=>{const n=aR(tu(e),0,[]);return ie(Vi(e,"tr"),(r,f)=>{ie(Vi(r,"td,th"),(w,B)=>{GV(n,ZV(n,B,f),f,r,w)})}),aR(n.element,sA(n.rows),n.rows)},lA=e=>ng(e,iR(e)),lR=(e,n,r)=>iA(e,n).bind(f=>iA(e,r).map(w=>jV(e,f,w))),X7=e=>de(e,n=>La(n)==="ul"||La(n)==="ol"),J7=(e,n)=>de(e,r=>La(r)==="li"&&nC(r,n)).fold(J([]),r=>X7(e).map(f=>{const w=jt.fromTag(La(f)),B=Cn(W0(f),(Z,oe)=>wr(oe,"list-style"));return $l(w,B),[jt.fromTag("li"),w]}).getOr([])),Q7=(e,n)=>{const r=le(n,(f,w)=>(di(w,f),w),e);return n.length>0?xC([r]):r},KV=e=>yf(e)?Rc(e).filter(ql).fold(J([]),n=>[e,n]):ql(e)?[e]:[],XV=(e,n,r)=>{const f=jt.fromDom(n.commonAncestorContainer),w=Ym(f,e),B=ue(w,be=>r.isWrapper(La(be))),Z=J7(w,n),oe=B.concat(Z.length?Z:KV(f));return Fe(oe,tu)},q7=()=>xC([]),JV=(e,n,r)=>Q7(jt.fromDom(n.cloneContents()),XV(e,n,r)),QV=(e,n)=>vm(n,"table",Q(Ba,e)),eO=(e,n)=>QV(e,n[0]).bind(r=>{const f=n[0],w=n[n.length-1],B=YV(r);return lR(B,f,w).map(Z=>xC([lA(Z)]))}).getOrThunk(q7),qV=(e,n,r)=>n.length>0&&n[0].collapsed?q7():JV(e,n[0],r),eU=(e,n,r)=>{const f=e_(n,e);return f.length>0?eO(e,f):qV(e,n,r)},cA=(e,n)=>n>=0&&n<e.length&&Lv(e.charAt(n)),cR=e=>_e(e.innerText),uR=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),fR=e=>X.from(e.selection.getRng()).map(n=>{var r;const f=X.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),w=e.getBody(),B=uR(f),Z=jt.fromDom(n.cloneContents());jo(Z),O_(Z);const oe=e.dom.add(w,B,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},Z.dom),be=cR(oe),Pe=_e((r=oe.textContent)!==null&&r!==void 0?r:"");if(e.dom.remove(oe),cA(Pe,0)||cA(Pe,Pe.length-1)){const Ke=f.getOr(w),Je=cR(Ke),at=Je.indexOf(be);if(at===-1)return be;{const Rt=cA(Je,at-1),Ht=cA(Je,at+be.length);return(Rt?" ":"")+be+(Ht?" ":"")}}else return be}).getOr(""),tO=(e,n)=>{const r=e.selection.getRng(),f=e.dom.create("body"),w=e.selection.getSel(),B=$_(e,Qb(w)),Z=n.contextual?eU(jt.fromDom(e.getBody()),B,e.schema).dom:r.cloneContents();return Z&&f.appendChild(Z),e.selection.serializer.serialize(f,n)},dR=(e,n)=>{if(n.format==="text")return fR(e);{const r=tO(e,n);return n.format==="tree"?r:e.selection.isCollapsed()?"":r}},nO=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),rO=(e,n,r={})=>{const f=nO(r,n);return Yv(e,f).fold(K,w=>{const B=dR(e,w);return rR(e,B,w)})},tS=0,hR=1,mR=2,oO=(e,n)=>{const r=e.length+n.length+2,f=new Array(r),w=new Array(r),B=(Ke,Je,at)=>({start:Ke,end:Je,diag:at}),Z=(Ke,Je,at,Rt,Ht)=>{const At=be(Ke,Je,at,Rt);if(At===null||At.start===Je&&At.diag===Je-Rt||At.end===Ke&&At.diag===Ke-at){let It=Ke,ln=at;for(;It<Je||ln<Rt;)It<Je&&ln<Rt&&e[It]===n[ln]?(Ht.push([tS,e[It]]),++It,++ln):Je-Ke>Rt-at?(Ht.push([mR,e[It]]),++It):(Ht.push([hR,n[ln]]),++ln)}else{Z(Ke,At.start,at,At.start-At.diag,Ht);for(let It=At.start;It<At.end;++It)Ht.push([tS,e[It]]);Z(At.end,Je,At.end-At.diag,Rt,Ht)}},oe=(Ke,Je,at,Rt)=>{let Ht=Ke;for(;Ht-Je<Rt&&Ht<at&&e[Ht]===n[Ht-Je];)++Ht;return B(Ke,Ht,Je)},be=(Ke,Je,at,Rt)=>{const Ht=Je-Ke,At=Rt-at;if(Ht===0||At===0)return null;const It=Ht-At,ln=At+Ht,xn=(ln%2===0?ln:ln+1)/2;f[1+xn]=Ke,w[1+xn]=Je+1;let yn,$n,nr,mr,Nr;for(yn=0;yn<=xn;++yn){for($n=-yn;$n<=yn;$n+=2){for(nr=$n+xn,$n===-yn||$n!==yn&&f[nr-1]<f[nr+1]?f[nr]=f[nr+1]:f[nr]=f[nr-1]+1,mr=f[nr],Nr=mr-Ke+at-$n;mr<Je&&Nr<Rt&&e[mr]===n[Nr];)f[nr]=++mr,++Nr;if(It%2!==0&&It-yn<=$n&&$n<=It+yn&&w[nr-It]<=f[nr])return oe(w[nr-It],$n+Ke-at,Je,Rt)}for($n=It-yn;$n<=It+yn;$n+=2){for(nr=$n+xn-It,$n===It-yn||$n!==It+yn&&w[nr+1]<=w[nr-1]?w[nr]=w[nr+1]-1:w[nr]=w[nr-1],mr=w[nr]-1,Nr=mr-Ke+at-$n;mr>=Ke&&Nr>=at&&e[mr]===n[Nr];)w[nr]=mr--,Nr--;if(It%2===0&&-yn<=$n&&$n<=yn&&w[nr]<=f[nr+It])return oe(w[nr],$n+Ke-at,Je,Rt)}}return null},Pe=[];return Z(0,e.length,0,n.length,Pe),Pe},gR=e=>Gr(e)?e.outerHTML:ir(e)?km.encodeRaw(e.data,!1):gf(e)?"<!--"+e.data+"-->":"",pR=e=>{let n;const r=document.createElement("div"),f=document.createDocumentFragment();for(e&&(r.innerHTML=e);n=r.firstChild;)f.appendChild(n);return f},tU=(e,n,r)=>{const f=pR(n);if(e.hasChildNodes()&&r<e.childNodes.length){const w=e.childNodes[r];e.insertBefore(f,w)}else e.appendChild(f)},uA=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const r=e.childNodes[n];e.removeChild(r)}},nU=(e,n)=>{let r=0;ie(e,f=>{f[0]===tS?r++:f[0]===hR?(tU(n,f[1],r),r++):f[0]===mR&&uA(n,r)})},rU=(e,n)=>ue(Fe(tt(e.childNodes),n?P(_e,gR):gR),r=>r.length>0),oU=(e,n)=>{const r=Fe(tt(n.childNodes),gR);return nU(oO(r,e),n),n},aO=Dt(()=>document.implementation.createHTMLDocument("undo")),sO=e=>e.querySelector("iframe")!==null,aU=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),sU=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),fA=e=>{const n=e.serializer.getTempAttrs(),r=B$(e.getBody(),n);return sO(r)?aU(rU(r,!0)):sU(_e(r.innerHTML))},vR=(e,n,r)=>{const f=r?n.beforeBookmark:n.bookmark;n.type==="fragmented"?oU(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:k(f)&&IT(f)?!f.isFakeCaret:!0}),f&&(e.selection.moveToBookmark(f),e.selection.scrollIntoView())},yR=e=>e.type==="fragmented"?e.fragments.join(""):e.content,bR=e=>{const n=jt.fromTag("body",aO());return bh(n,yR(e)),ie(Vi(n,"*[data-mce-bogus]"),Xu),aa(n)},bee=(e,n)=>yR(e)===yR(n),iU=(e,n)=>bR(e)===bR(n),xR=(e,n)=>!e||!n?!1:bee(e,n)?!0:iU(e,n),wR=e=>e.get()===0,dA=(e,n,r)=>{wR(r)&&(e.typing=n)},iO=(e,n)=>{e.typing&&(dA(e,!1,n),e.add())},lU=e=>{e.typing&&(e.typing=!1,e.add())},cU=(e,n,r)=>{wR(n)&&r.set(dv(e.selection))},lO=(e,n,r,f,w,B,Z)=>{const oe=fA(e),be=ur.extend(B||{},oe);if(!wR(f)||e.removed)return null;const Pe=n.data[r.get()];if(e.dispatch("BeforeAddUndo",{level:be,lastLevel:Pe,originalEvent:Z}).isDefaultPrevented()||Pe&&xR(Pe,be))return null;n.data[r.get()]&&w.get().each(at=>{n.data[r.get()].beforeBookmark=at});const Ke=x1(e);if(Ke&&n.data.length>Ke){for(let at=0;at<n.data.length-1;at++)n.data[at]=n.data[at+1];n.data.length--,r.set(n.data.length)}be.bookmark=dv(e.selection),r.get()<n.data.length-1&&(n.data.length=r.get()+1),n.data.push(be),r.set(n.data.length-1);const Je={level:be,lastLevel:Pe,originalEvent:Z};return r.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",Je),e.dispatch("change",Je)):e.dispatch("AddUndo",Je),be},uU=(e,n,r)=>{n.data=[],r.set(0),n.typing=!1,e.dispatch("ClearUndos")},fU=(e,n,r,f,w)=>{if(n.transact(f)){const B=n.data[r.get()].bookmark,Z=n.data[r.get()-1];vR(e,Z,!0),n.transact(w)&&(n.data[r.get()-1].beforeBookmark=B)}},dU=(e,n,r)=>{let f;return n.get()<r.length-1&&(n.set(n.get()+1),f=r[n.get()],vR(e,f,!1),e.setDirty(!0),e.dispatch("Redo",{level:f})),f},hU=(e,n,r,f)=>{let w;return n.typing&&(n.add(),n.typing=!1,dA(n,!1,r)),f.get()>0&&(f.set(f.get()-1),w=n.data[f.get()],vR(e,w,!0),e.setDirty(!0),e.dispatch("Undo",{level:w})),w},mU=e=>{e.clear(),e.add()},xee=(e,n,r)=>r.get()>0||n.typing&&n.data[0]&&!xR(fA(e),n.data[0]),wee=(e,n)=>n.get()<e.data.length-1&&!e.typing,gU=(e,n,r)=>(iO(e,n),e.beforeChange(),e.ignore(r),e.add()),pU=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},Cee=(e,n)=>{const r=e.dom,f=k(n)?n:e.getBody();ie(r.select("table,a",f),w=>{switch(w.nodeName){case"TABLE":const B=A4(e),Z=r.getAttrib(w,"border");(!Z||Z==="0")&&e.hasVisual?r.addClass(w,B):r.removeClass(w,B);break;case"A":if(!r.getAttrib(w,"href")){const oe=r.getAttrib(w,"name")||w.id,be=vT(e);oe&&e.hasVisual?r.addClass(w,be):r.removeClass(w,be)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},cO=e=>({init:{bindEvents:j},undoManager:{beforeChange:(n,r)=>cU(e,n,r),add:(n,r,f,w,B,Z)=>lO(e,n,r,f,w,B,Z),undo:(n,r,f)=>hU(e,n,r,f),redo:(n,r)=>dU(e,n,r),clear:(n,r)=>uU(e,n,r),reset:n=>mU(n),hasUndo:(n,r)=>xee(e,n,r),hasRedo:(n,r)=>wee(n,r),transact:(n,r,f)=>gU(n,r,f),ignore:(n,r)=>pU(n,r),extra:(n,r,f,w)=>fU(e,n,r,f,w)},formatter:{match:(n,r,f,w)=>Hk(e,n,r,f,w),matchAll:(n,r)=>nV(e,n,r),matchNode:(n,r,f,w)=>Xm(e,n,r,f,w),canApply:n=>W8(e,n),closest:n=>sy(e,n),apply:(n,r,f)=>h7(e,n,r,f),remove:(n,r,f,w)=>c7(e,n,r,f,w),toggle:(n,r,f)=>wV(e,n,r,f),formatChanged:(n,r,f,w,B)=>xV(e,n,r,f,w,B)},editor:{getContent:n=>fee(e,n),setContent:(n,r)=>z8(e,n,r),insertContent:(n,r)=>H8(e,n,r),addVisual:n=>Cee(e,n)},selection:{getContent:(n,r)=>rO(e,n,r)},autocompleter:{addDecoration:n=>WH(e,n),removeDecoration:()=>ZH(e,jt.fromDom(e.getBody()))},raw:{getModel:()=>X.none()}}),pi=e=>{const n=Pe=>_(Pe)?Pe:{},{init:r,undoManager:f,formatter:w,editor:B,selection:Z,autocompleter:oe,raw:be}=e;return{init:{bindEvents:r.bindEvents},undoManager:{beforeChange:f.beforeChange,add:f.add,undo:f.undo,redo:f.redo,clear:f.clear,reset:f.reset,hasUndo:f.hasUndo,hasRedo:f.hasRedo,transact:(Pe,Ke,Je)=>f.transact(Je),ignore:(Pe,Ke)=>f.ignore(Ke),extra:(Pe,Ke,Je,at)=>f.extra(Je,at)},formatter:{match:(Pe,Ke,Je,at)=>w.match(Pe,n(Ke),at),matchAll:w.matchAll,matchNode:w.matchNode,canApply:Pe=>w.canApply(Pe),closest:Pe=>w.closest(Pe),apply:(Pe,Ke,Je)=>w.apply(Pe,n(Ke)),remove:(Pe,Ke,Je,at)=>w.remove(Pe,n(Ke)),toggle:(Pe,Ke,Je)=>w.toggle(Pe,n(Ke)),formatChanged:(Pe,Ke,Je,at,Rt)=>w.formatChanged(Ke,Je,at,Rt)},editor:{getContent:Pe=>B.getContent(Pe),setContent:(Pe,Ke)=>({content:B.setContent(Pe,Ke),html:""}),insertContent:(Pe,Ke)=>(B.insertContent(Pe),""),addVisual:B.addVisual},selection:{getContent:(Pe,Ke)=>Z.getContent(Ke)},autocompleter:{addDecoration:oe.addDecoration,removeDecoration:oe.removeDecoration},raw:{getModel:()=>X.some(be.getRawModel())}}},CR=()=>{const e=J(null),n=J("");return{init:{bindEvents:j},undoManager:{beforeChange:j,add:e,undo:e,redo:e,clear:j,reset:j,hasUndo:ne,hasRedo:ne,transact:e,ignore:j,extra:j},formatter:{match:ne,matchAll:J([]),matchNode:J(void 0),canApply:ne,closest:n,apply:j,remove:j,toggle:j,formatChanged:J({unbind:j})},editor:{getContent:n,setContent:J({content:"",html:""}),insertContent:J(""),addVisual:j},selection:{getContent:n},autocompleter:{addDecoration:j,removeDecoration:j},raw:{getModel:J(X.none())}}},mp=e=>lt(e.plugins,"rtc"),vU=e=>wn(e.plugins,"rtc").bind(n=>X.from(n.setup)),yU=e=>{const n=e;return vU(e).fold(()=>(n.rtcInstance=cO(e),X.none()),r=>(n.rtcInstance=CR(),X.some(()=>r().then(f=>(n.rtcInstance=pi(f),f.rtc.isRemote)))))},Kv=e=>e.rtcInstance?e.rtcInstance:cO(e),el=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},See=(e,n,r)=>{el(e).undoManager.beforeChange(n,r)},cc=(e,n,r,f,w,B,Z)=>el(e).undoManager.add(n,r,f,w,B,Z),uO=(e,n,r,f)=>el(e).undoManager.undo(n,r,f),fO=(e,n,r)=>el(e).undoManager.redo(n,r),dO=(e,n,r)=>{el(e).undoManager.clear(n,r)},bU=(e,n)=>{el(e).undoManager.reset(n)},xU=(e,n,r)=>el(e).undoManager.hasUndo(n,r),hA=(e,n,r)=>el(e).undoManager.hasRedo(n,r),wU=(e,n,r,f)=>el(e).undoManager.transact(n,r,f),SR=(e,n,r)=>{el(e).undoManager.ignore(n,r)},CU=(e,n,r,f,w)=>{el(e).undoManager.extra(n,r,f,w)},hO=(e,n,r,f,w)=>el(e).formatter.match(n,r,f,w),mO=(e,n,r)=>el(e).formatter.matchAll(n,r),TR=(e,n,r,f,w)=>el(e).formatter.matchNode(n,r,f,w),gO=(e,n)=>el(e).formatter.canApply(n),kR=(e,n)=>el(e).formatter.closest(n),SU=(e,n,r,f)=>{el(e).formatter.apply(n,r,f)},TU=(e,n,r,f,w)=>{el(e).formatter.remove(n,r,f,w)},kU=(e,n,r,f)=>{el(e).formatter.toggle(n,r,f)},ud=(e,n,r,f,w,B)=>el(e).formatter.formatChanged(n,r,f,w,B),AU=(e,n)=>Kv(e).editor.getContent(n),MU=(e,n,r)=>Kv(e).editor.setContent(n,r),EU=(e,n,r)=>Kv(e).editor.insertContent(n,r),_U=(e,n,r)=>el(e).selection.getContent(n,r),RU=(e,n)=>el(e).editor.addVisual(n),AR=e=>el(e).init.bindEvents(),LU=(e,n)=>el(e).autocompleter.addDecoration(n),DU=e=>el(e).autocompleter.removeDecoration(),$U=(e,n={})=>{const r=n.format?n.format:"html";return _U(e,r,n)},nS=e=>e.dom.length===0?(Ua(e),X.none()):X.some(e),OU=(e,n)=>e.filter(r=>rp.isBookmarkNode(r.dom)).bind(n?Lg:hu),PU=(e,n,r,f,w)=>{const B=e.dom,Z=n.dom,oe=f?B.length:Z.length;f?(hl(B,Z,w,!1,!f),r.setStart(Z,oe)):(hl(Z,B,w,!1,!f),r.setEnd(Z,oe))},pO=(e,n,r)=>{Rc(e).each(f=>{const w=e.dom;n&&yx(f,In(w,0),r)?ty(w,0,r):!n&&bx(f,In(w,w.length),r)&&l8(w,w.length,r)})},mA=(e,n,r,f,w)=>{e.bind(B=>((f?l8:ty)(B.dom,f?B.dom.length:0,w),n.filter(Ei).map(oe=>PU(B,oe,r,f,w)))).orThunk(()=>OU(n,f).or(n).filter(Ei).map(Z=>pO(Z,f,w)))},IU=(e,n,r)=>{const f=X.from(n.firstChild).map(jt.fromDom),w=X.from(n.lastChild).map(jt.fromDom);e.deleteContents(),e.insertNode(n);const B=f.bind(hu).filter(Ei).bind(nS),Z=w.bind(Lg).filter(Ei).bind(nS);mA(B,f,e,!0,r),mA(Z,w,e,!1,r),e.collapse(!1)},NU=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),Tee=(e,n)=>{if(n.format!=="raw"){const r=e.selection.getRng(),f=e.dom.getParent(r.commonAncestorContainer,e.dom.isBlock),w=f?{context:f.nodeName.toLowerCase()}:{},B=e.parser.parse(n.content,{forced_root_block:!1,...w,...n});return Uv({validate:!1},e.schema).serialize(B)}else return n.content},FU=(e,n,r={})=>{const f=NU(r,n);oR(e,f).each(w=>{const B=Tee(e,w),Z=e.selection.getRng();IU(Z,Z.createContextualFragment(B),e.schema),e.selection.setRng(Z),J1(e,Z),oA(e,B,w)})},vO=(e,n,r)=>{if(lt(e,n)){const f=ue(e[n],w=>w!==r);f.length===0?delete e[n]:e[n]=f}};var yO=(e,n)=>{let r,f;const w=(oe,be)=>de(be,Pe=>e.is(Pe,oe)),B=oe=>e.getParents(oe,void 0,e.getRoot()),Z=()=>{r={},f={},n.on("NodeChange",oe=>{const be=oe.element,Pe=B(be),Ke={};Ft(r,(Je,at)=>{w(at,Pe).each(Rt=>{f[at]||(ie(Je,Ht=>{Ht(!0,{node:Rt,selector:at,parents:Pe})}),f[at]=Je),Ke[at]=Je})}),Ft(f,(Je,at)=>{Ke[at]||(delete f[at],ie(Je,Rt=>{Rt(!1,{node:be,selector:at,parents:Pe})}))})})};return{selectorChangedWithUnbind:(oe,be)=>(r||Z(),r[oe]||(r[oe]=[]),r[oe].push(be),w(oe,B(n.selection.getStart())).each(()=>{f[oe]=r[oe]}),{unbind:()=>{vO(r,oe,be),vO(f,oe,be)}})}};const MR=e=>!!(e&&e.ownerDocument)&&Dl(jt.fromDom(e.ownerDocument),jt.fromDom(e)),BU=e=>e?MR(e.startContainer)&&MR(e.endContainer):!1,Xv=(e,n,r,f)=>{let w,B;const{selectorChangedWithUnbind:Z}=yO(e,f),oe=(Sr,so)=>{const $a=e.createRng();k(Sr)&&k(so)?($a.setStart(Sr,so),$a.setEnd(Sr,so),$n($a),ln(!1)):(rC(e,$a,f.getBody(),!0),$n($a))},be=Sr=>$U(f,Sr),Pe=(Sr,so)=>FU(f,Sr,so),Ke=Sr=>L_(f.getBody(),yn(),Sr),Je=Sr=>_$(f.getBody(),yn(),Sr),at=(Sr,so)=>zl.getBookmark(Sr,so),Rt=Sr=>zl.moveToBookmark(Sr),Ht=(Sr,so)=>(IH(e,Sr,so).each($n),Sr),At=()=>{const Sr=yn(),so=xn();return!Sr||Sr.item?!1:Sr.compareEndPoints?Sr.compareEndPoints("StartToEnd",Sr)===0:!so||Sr.collapsed},It=()=>{const Sr=yn(),so=f.getBody().querySelectorAll('[data-mce-selected="1"]');return so.length>0?We(so,$a=>e.isEditable($a.parentElement)):M$(e,Sr)},ln=Sr=>{const so=yn();so.collapse(!!Sr),$n(so)},xn=()=>n.getSelection?n.getSelection():n.document.selection,yn=()=>{let Sr;const so=(ha,to,Lo)=>{try{return to.compareBoundaryPoints(ha,Lo)}catch{return-1}},$a=n.document;if(k(f.bookmark)&&!Vv(f)){const ha=M_(f);if(ha.isSome())return ha.map(to=>$_(f,[to])[0]).getOr($a.createRange())}try{const ha=xn();ha&&!vu(ha.anchorNode)&&(ha.rangeCount>0?Sr=ha.getRangeAt(0):Sr=$a.createRange(),Sr=$_(f,[Sr])[0])}catch{}if(Sr||(Sr=$a.createRange()),wm(Sr.startContainer)&&Sr.collapsed){const ha=e.getRoot();Sr.setStart(ha,0),Sr.setEnd(ha,0)}return w&&B&&(so(Sr.START_TO_START,Sr,w)===0&&so(Sr.END_TO_END,Sr,w)===0?Sr=B:(w=null,B=null)),Sr},$n=(Sr,so)=>{if(!BU(Sr))return;const $a=xn();if(Sr=f.dispatch("SetSelectionRange",{range:Sr,forward:so}).range,$a){B=Sr;try{$a.removeAllRanges(),$a.addRange(Sr)}catch{}so===!1&&$a.extend&&($a.collapse(Sr.endContainer,Sr.endOffset),$a.extend(Sr.startContainer,Sr.startOffset)),w=$a.rangeCount>0?$a.getRangeAt(0):null}if(!Sr.collapsed&&Sr.startContainer===Sr.endContainer&&($a!=null&&$a.setBaseAndExtent)&&Sr.endOffset-Sr.startOffset<2&&Sr.startContainer.hasChildNodes()){const to=Sr.startContainer.childNodes[Sr.startOffset];to&&to.nodeName==="IMG"&&($a.setBaseAndExtent(Sr.startContainer,Sr.startOffset,Sr.endContainer,Sr.endOffset),($a.anchorNode!==Sr.startContainer||$a.focusNode!==Sr.endContainer)&&$a.setBaseAndExtent(to,0,to,1))}f.dispatch("AfterSetSelectionRange",{range:Sr,forward:so})},nr=Sr=>(Pe(e.getOuterHTML(Sr)),Sr),mr=()=>R$(f.getBody(),yn()),Nr=(Sr,so)=>PH(e,yn(),Sr,so),zn=()=>{const Sr=xn(),so=Sr==null?void 0:Sr.anchorNode,$a=Sr==null?void 0:Sr.focusNode;if(!Sr||!so||!$a||vu(so)||vu($a))return!0;const ha=e.createRng(),to=e.createRng();try{ha.setStart(so,Sr.anchorOffset),ha.collapse(!0),to.setStart($a,Sr.focusOffset),to.collapse(!0)}catch{return!0}return ha.compareBoundaryPoints(ha.START_TO_START,to)<=0},ei={dom:e,win:n,serializer:r,editor:f,expand:(Sr={type:"word"})=>$n(xt(e).expand(yn(),Sr)),collapse:ln,setCursorLocation:oe,getContent:be,setContent:Pe,getBookmark:at,moveToBookmark:Rt,select:Ht,isCollapsed:At,isEditable:It,isForward:zn,setNode:nr,getNode:mr,getSel:xn,setRng:$n,getRng:yn,getStart:Ke,getEnd:Je,getSelectedBlocks:Nr,normalize:()=>{const Sr=yn(),so=xn();if(!np(so)&&ex(f)){const $a=Le(e,Sr);return $a.each(ha=>{$n(ha,zn())}),$a.getOr(Sr)}return Sr},selectorChanged:(Sr,so)=>(Z(Sr,so),ei),selectorChangedWithUnbind:Z,getScrollContainer:()=>{let Sr,so=e.getRoot();for(;so&&so.nodeName!=="BODY";){if(so.scrollHeight>so.clientHeight){Sr=so;break}so=so.parentNode}return Sr},scrollIntoView:(Sr,so)=>{k(Sr)?Hl(f,Sr,so):J1(f,yn(),so)},placeCaretAt:(Sr,so)=>$n(Ru(Sr,so,f.getDoc())),getBoundingClientRect:()=>{const Sr=yn();return Sr.collapsed?In.fromRangeStart(Sr).getClientRects()[0]:Sr.getBoundingClientRect()},destroy:()=>{n=w=B=null,as.destroy()}},zl=rp(ei),as=g$(ei,f);return ei.bookmarkManager=zl,ei.controlSelection=as,ei},Fx=(e,n,r)=>{e.addAttributeFilter("data-mce-tabindex",(f,w)=>{let B=f.length;for(;B--;){const Z=f[B];Z.attr("tabindex",Z.attr("data-mce-tabindex")),Z.attr(w,null)}}),e.addAttributeFilter("src,href,style",(f,w)=>{const B="data-mce-"+w,Z=n.url_converter,oe=n.url_converter_scope;let be=f.length;for(;be--;){const Pe=f[be];let Ke=Pe.attr(B);Ke!==void 0?(Pe.attr(w,Ke.length>0?Ke:null),Pe.attr(B,null)):(Ke=Pe.attr(w),w==="style"?Ke=r.serializeStyle(r.parseStyle(Ke),Pe.name):Z&&(Ke=Z.call(oe,Ke,w,Pe.name)),Pe.attr(w,Ke.length>0?Ke:null))}}),e.addAttributeFilter("class",f=>{let w=f.length;for(;w--;){const B=f[w];let Z=B.attr("class");Z&&(Z=Z.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),B.attr("class",Z.length>0?Z:null))}}),e.addAttributeFilter("data-mce-type",(f,w,B)=>{let Z=f.length;for(;Z--;){const oe=f[Z];oe.attr("data-mce-type")==="bookmark"&&!B.cleanup&&(X.from(oe.firstChild).exists(Pe=>{var Ke;return!Ae((Ke=Pe.value)!==null&&Ke!==void 0?Ke:"")})?oe.unwrap():oe.remove())}}),e.addNodeFilter("noscript",f=>{var w;let B=f.length;for(;B--;){const Z=f[B].firstChild;Z&&(Z.value=km.decode((w=Z.value)!==null&&w!==void 0?w:""))}}),e.addNodeFilter("script,style",(f,w)=>{var B;const Z=be=>be.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let oe=f.length;for(;oe--;){const be=f[oe],Pe=be.firstChild,Ke=(B=Pe==null?void 0:Pe.value)!==null&&B!==void 0?B:"";if(w==="script"){const Je=be.attr("type");Je&&be.attr("type",Je==="mce-no/type"?null:Je.replace(/^mce\-/,"")),n.element_format==="xhtml"&&Pe&&Ke.length>0&&(Pe.value=`// <![CDATA[
`+Z(Ke)+`
// ]]>`)}else n.element_format==="xhtml"&&Pe&&Ke.length>0&&(Pe.value=`<!--
`+Z(Ke)+`
-->`)}}),e.addNodeFilter("#comment",f=>{let w=f.length;for(;w--;){const B=f[w],Z=B.value;n.preserve_cdata&&(Z==null?void 0:Z.indexOf("[CDATA["))===0?(B.name="#cdata",B.type=4,B.value=r.decode(Z.replace(/^\[CDATA\[|\]\]$/g,""))):(Z==null?void 0:Z.indexOf("mce:protected "))===0&&(B.name="#text",B.type=3,B.raw=!0,B.value=unescape(Z).substr(14))}}),e.addNodeFilter("xml:namespace,input",(f,w)=>{let B=f.length;for(;B--;){const Z=f[B];Z.type===7?Z.remove():Z.type===1&&w==="input"&&!Z.attr("type")&&Z.attr("type","text")}}),e.addAttributeFilter("data-mce-type",f=>{ie(f,w=>{w.attr("data-mce-type")==="format-caret"&&(w.isEmpty(e.schema.getNonEmptyElements())?w.remove():w.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(f,w)=>{let B=f.length;for(;B--;)f[B].attr(w,null)}),n.remove_trailing_brs&&U5(n,e,e.schema)},rS=e=>{const n=f=>(f==null?void 0:f.name)==="br",r=e.lastChild;if(n(r)){const f=r.prev;n(f)&&(r.remove(),f.remove())}},bO=(e,n,r)=>{let f;const w=e.dom;let B=n.cloneNode(!0);const Z=document.implementation;if(Z.createHTMLDocument){const oe=Z.createHTMLDocument("");ur.each(B.nodeName==="BODY"?B.childNodes:[B],be=>{oe.body.appendChild(oe.importNode(be,!0))}),B.nodeName!=="BODY"?B=oe.body.firstChild:B=oe.body,f=w.doc,w.doc=oe}return dC(e,{...r,node:B}),f&&(w.doc=f),B},xO=(e,n)=>k(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,HU=(e,n,r)=>xO(e,r)?bO(e,n,r):n,wO=(e,n,r)=>{ur.inArray(n,r)===-1&&(e.addAttributeFilter(r,(f,w)=>{let B=f.length;for(;B--;)f[B].attr(w,null)}),n.push(r))},zU=(e,n,r)=>!n.no_events&&e?i_(e,{...n,content:r}).content:r,VU=(e,n,r)=>{const f=_e(r.getInner?n.innerHTML:e.getOuterHTML(n));return r.selection||Li(jt.fromDom(n))?f:ur.trim(f)},UU=(e,n,r)=>{const f=r.selection?{forced_root_block:!1,...r}:r,w=e.parse(n,f);return rS(w),w},WU=(e,n,r)=>Uv(e,n).serialize(r),CO=(e,n,r,f,w)=>{const B=WU(n,r,f);return zU(e,w,B)},GU=(e,n)=>{const r=["data-mce-selected"],f={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},w=n&&n.dom?n.dom:Cs.DOM,B=n&&n.schema?n.schema:_h(f),Z=Yd(f,B);Fx(Z,f,w);const oe=(be,Pe={})=>{const Ke={format:"html",...Pe},Je=HU(n,be,Ke),at=VU(w,Je,Ke),Rt=UU(Z,at,Ke);return Ke.format==="tree"?Rt:CO(n,f,B,Rt,Ke)};return{schema:B,addNodeFilter:Z.addNodeFilter,addAttributeFilter:Z.addAttributeFilter,serialize:oe,addRules:B.addValidElements,setRules:B.setValidElements,addTempAttr:Q(wO,Z,r),getTempAttrs:J(r),getNodeFilters:Z.getNodeFilters,getAttributeFilters:Z.getAttributeFilters,removeNodeFilter:Z.removeNodeFilter,removeAttributeFilter:Z.removeAttributeFilter}},SO=(e,n)=>{const r=GU(e,n);return{schema:r.schema,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:r.serialize,addRules:r.addRules,setRules:r.setRules,addTempAttr:r.addTempAttr,getTempAttrs:r.getTempAttrs,getNodeFilters:r.getNodeFilters,getAttributeFilters:r.getAttributeFilters,removeNodeFilter:r.removeNodeFilter,removeAttributeFilter:r.removeAttributeFilter}},oS="html",TO=(e,n)=>({...e,format:n,get:!0,getInner:!0}),kO=(e,n={})=>{const r=n.format?n.format:oS,f=TO(n,r);return Yv(e,f).fold(K,w=>{const B=AU(e,w);return rR(e,B,w)})},ZU="html",jU=(e,n)=>({format:ZU,...e,set:!0,content:n}),ER=(e,n,r={})=>{const f=jU(r,n);return oR(e,f).map(w=>{const B=MU(e,w.content,w);return oA(e,B.html,w),B.content}).getOr(n)},AO="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),YU="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),KU="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),MO=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],EO=(e,n)=>{const r=ue(n,f=>lt(e,f));return Xe(r)},kee=e=>{const n=EO(e,AO),r=e.forced_root_block;return(r===!1||r==="")&&n.push("forced_root_block (false only)"),Xe(n)},Kh=e=>EO(e,YU),gA=(e,n)=>{const r=ur.makeMap(e.plugins," "),w=ue(n,B=>lt(r,B));return Xe(w)},XU=e=>gA(e,KU),JU=e=>gA(e,MO.map(n=>n.name)),QU=(e,n)=>{const r=kee(e),f=XU(n),w=f.length>0,B=r.length>0,Z=n.theme==="mobile";if(w||B||Z){const oe=`
- `,be=Z?`

Themes:${oe}mobile`:"",Pe=w?`

Plugins:${oe}${f.join(oe)}`:"",Ke=B?`

Options:${oe}${r.join(oe)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+be+Pe+Ke)}},qU=e=>de(MO,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),qa=(e,n)=>{const r=Kh(e),f=JU(n),w=f.length>0,B=r.length>0;if(w||B){const Z=`
- `,oe=w?`

Plugins:${Z}${f.map(qU).join(Z)}`:"",be=B?`

Options:${Z}${r.join(Z)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+oe+be)}},Aee=(e,n)=>{QU(e,n),qa(e,n)},pA=Cs.DOM,eW=e=>{pA.setStyle(e.id,"display",e.orgDisplay)},Ns=e=>X.from(e).each(n=>n.destroy()),tW=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const r=e.selection;if(r){const f=r.dom;n.selection=r.win=r.dom=f.doc=null}},aS=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),pA.unbind(n,"submit reset",e.formEventDelegate))},nW=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:r}=e,f=e.getBody(),w=e.getElement();f&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&k(w==null?void 0:w.nextSibling)&&pA.remove(w.nextSibling),Iv(e),e.editorManager.remove(e),!e.inline&&f&&eW(e),Nv(e),pA.remove(e.getContainer()),Ns(n),Ns(r),e.destroy()}},rW=(e,n)=>{const{selection:r,dom:f}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Ns(r),Ns(f)),aS(e),tW(e),e.destroyed=!0}},sS=(()=>{const e={};return{add:(w,B)=>{e[w]=B},get:w=>e[w]?e[w]:{icons:{}},has:w=>lt(e,w)}})(),fd=rc.ModelManager,$u=(e,n)=>n.dom[e],Bx=(e,n)=>parseInt(ui(n,e),10),Jv=Q($u,"clientWidth"),rg=Q($u,"clientHeight"),iS=Q(Bx,"margin-top"),_R=Q(Bx,"margin-left"),RR=e=>e.dom.getBoundingClientRect(),_O=(e,n,r)=>{const f=Jv(e),w=rg(e);return n>=0&&r>=0&&n<=f&&r<=w},RO=(e,n,r,f)=>{const w=RR(n),B=e?w.left+n.dom.clientLeft+_R(n):0,Z=e?w.top+n.dom.clientTop+iS(n):0,oe=r-B,be=f-Z;return{x:oe,y:be}},oW=(e,n,r)=>{const f=jt.fromDom(e.getBody()),w=e.inline?f:I0(f),B=RO(e.inline,w,n,r);return _O(w,B.x,B.y)},aW=e=>X.from(e).map(jt.fromDom),LO=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return aW(n).map(Td).getOr(!1)};var DO=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const LR=e=>{const n=[],r=()=>{const at=e.theme;return at&&at.getNotificationManagerImpl?at.getNotificationManagerImpl():DO()},f=()=>X.from(n[0]),w=(at,Rt)=>at.type===Rt.type&&at.text===Rt.text&&!at.progressBar&&!at.timeout&&!Rt.progressBar&&!Rt.timeout,B=()=>{ie(n,at=>{at.reposition()})},Z=at=>{n.push(at)},oe=at=>{Me(n,Rt=>Rt===at).each(Rt=>{n.splice(Rt,1)})},be=(at,Rt=!0)=>e.removed||!LO(e)?{}:(Rt&&e.dispatch("BeforeOpenNotification",{notification:at}),de(n,Ht=>w(r().getArgs(Ht),at)).getOrThunk(()=>{e.editorManager.setActive(e);const Ht=r().open(at,()=>{oe(Ht),B(),A$(e)&&f().fold(()=>e.focus(),At=>ik(jt.fromDom(At.getEl())))});return Z(Ht),B(),e.dispatch("OpenNotification",{notification:{...Ht}}),Ht})),Pe=()=>{f().each(at=>{r().close(at),oe(at),B()})},Ke=J(n);return(at=>{at.on("SkinLoaded",()=>{const Rt=w4(at);Rt&&be({text:Rt,type:"warning",timeout:0},!1),B()}),at.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(B)}),at.on("remove",()=>{ie(n.slice(),Rt=>{r().close(Rt)})})})(e),{open:be,close:Pe,getNotifications:Ke}},uy=rc.PluginManager,gp=rc.ThemeManager;var Eee=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const $O=e=>{let n=[];const r=()=>{const At=e.theme;return At&&At.getWindowManagerImpl?At.getWindowManagerImpl():Eee()},f=(At,It)=>(...ln)=>It?It.apply(At,ln):void 0,w=At=>{e.dispatch("OpenWindow",{dialog:At})},B=At=>{e.dispatch("CloseWindow",{dialog:At})},Z=At=>{n.push(At),w(At)},oe=At=>{B(At),n=ue(n,It=>It!==At),n.length===0&&e.focus()},be=()=>X.from(n[n.length-1]),Pe=At=>{e.editorManager.setActive(e),px(e),e.ui.show();const It=At();return Z(It),It},Ke=(At,It)=>Pe(()=>r().open(At,It,oe)),Je=At=>Pe(()=>r().openUrl(At,oe)),at=(At,It,ln)=>{const xn=r();xn.alert(At,f(ln||xn,It))},Rt=(At,It,ln)=>{const xn=r();xn.confirm(At,f(ln||xn,It))},Ht=()=>{be().each(At=>{r().close(At),oe(At)})};return e.on("remove",()=>{ie(n,At=>{r().close(At)})}),{open:Ke,openUrl:Je,alert:at,confirm:Rt,close:Ht}},sW=(e,n)=>{e.notificationManager.open({type:"error",text:n})},vA=(e,n)=>{e._skinLoaded?sW(e,n):e.on("SkinLoaded",()=>{sW(e,n)})},iW=(e,n)=>{vA(e,Cf.translate(["Failed to upload image: {0}",n]))},Df=(e,n,r)=>{ou(e,n,{message:r}),console.error(r)},yA=(e,n,r)=>r?`Failed to load ${e}: ${r} from url ${n}`:`Failed to load ${e} url: ${n}`,_ee=(e,n,r)=>{Df(e,"PluginLoadError",yA("plugin",n,r))},lW=(e,n,r)=>{Df(e,"IconsLoadError",yA("icons",n,r))},lS=(e,n,r)=>{Df(e,"LanguageLoadError",yA("language",n,r))},cW=(e,n,r)=>{Df(e,"ThemeLoadError",yA("theme",n,r))},OO=(e,n,r)=>{Df(e,"ModelLoadError",yA("model",n,r))},PO=(e,n,r)=>{const f=Cf.translate(["Failed to initialize plugin: {0}",n]);ou(e,"PluginLoadError",{message:f}),cS(f,r),vA(e,f)},cS=(e,...n)=>{const r=window.console;r&&(r.error?r.error(e,...n):r.log(e,...n))},uW=e=>/^[a-z0-9\-]+$/i.test(e),DR=e=>"content/"+e+"/content.css",Qv=e=>tinymce.Resource.has(DR(e)),fW=e=>IO(e,Rw(e)),dW=e=>IO(e,uT(e)),IO=(e,n)=>{const r=e.editorManager.baseURL+"/skins/content",w=`content${e.editorManager.suffix}.css`;return Fe(n,B=>Qv(B)?B:uW(B)&&!e.inline?`${r}/${B}/${w}`:e.documentBaseURI.toAbsolute(B))},hW=e=>{e.contentCSS=e.contentCSS.concat(fW(e),dW(e))},mW=e=>e?tt(e.getElementsByTagName("img")):[],gW=(e,n)=>{const r={};return{findAll:(w,B=fe)=>{const Z=ue(mW(w),be=>{const Pe=be.src;return be.hasAttribute("data-mce-bogus")||be.hasAttribute("data-mce-placeholder")||!Pe||Pe===Lr.transparentSrc?!1:wr(Pe,"blob:")?!e.isUploaded(Pe)&&B(be):wr(Pe,"data:")?B(be):!1}),oe=Fe(Z,be=>{const Pe=be.src;if(lt(r,Pe))return r[Pe].then(Ke=>C(Ke)?Ke:{image:be,blobInfo:Ke.blobInfo});{const Ke=_V(n,Pe).then(Je=>(delete r[Pe],{image:be,blobInfo:Je})).catch(Je=>(delete r[Pe],Je));return r[Pe]=Ke,Ke}});return Promise.all(oe)}}},NO=()=>{let r={};const f=(at,Rt)=>({status:at,resultUri:Rt}),w=at=>at in r;return{hasBlobUri:w,getResultUri:at=>{const Rt=r[at];return Rt?Rt.resultUri:null},isPending:at=>w(at)?r[at].status===1:!1,isUploaded:at=>w(at)?r[at].status===2:!1,markPending:at=>{r[at]=f(1,null)},markUploaded:(at,Rt)=>{r[at]=f(2,Rt)},removeFailed:at=>{delete r[at]},destroy:()=>{r={}}}};let pW=0;const vW=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},yW=e=>e+pW+++vW(),bW=()=>{let e=[];const n=Je=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[Je.toLowerCase()]||"dat",r=(Je,at,Rt,Ht,At)=>{if(C(Je))return f({id:Je,name:Ht,filename:At,blob:at,base64:Rt});if(_(Je))return f(Je);throw new Error("Unknown input type")},f=Je=>{if(!Je.blob||!Je.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const at=Je.id||yW("blobid"),Rt=Je.name||at,Ht=Je.blob;return{id:J(at),name:J(Rt),filename:J(Je.filename||Rt+"."+n(Ht.type)),blob:J(Ht),base64:J(Je.base64),blobUri:J(Je.blobUri||URL.createObjectURL(Ht)),uri:J(Je.uri)}},w=Je=>{Z(Je.id())||e.push(Je)},B=Je=>de(e,Je).getOrUndefined(),Z=Je=>B(at=>at.id()===Je);return{create:r,add:w,get:Z,getByUri:Je=>B(at=>at.blobUri()===Je),getByData:(Je,at)=>B(Rt=>Rt.base64()===Je&&Rt.blob().type===at),findFirst:B,removeByUri:Je=>{e=ue(e,at=>at.blobUri()===Je?(URL.revokeObjectURL(at.blobUri()),!1):!0)},destroy:()=>{ie(e,Je=>{URL.revokeObjectURL(Je.blobUri())}),e=[]}}},Ree=(e,n)=>{const r={},f=(At,It)=>At?At.replace(/\/$/,"")+"/"+It.replace(/^\//,""):It,w=(At,It)=>new Promise((ln,xn)=>{const yn=new XMLHttpRequest;yn.open("POST",n.url),yn.withCredentials=n.credentials,yn.upload.onprogress=nr=>{It(nr.loaded/nr.total*100)},yn.onerror=()=>{xn("Image upload failed due to a XHR Transport error. Code: "+yn.status)},yn.onload=()=>{if(yn.status<200||yn.status>=300){xn("HTTP Error: "+yn.status);return}const nr=JSON.parse(yn.responseText);if(!nr||!C(nr.location)){xn("Invalid JSON: "+yn.responseText);return}ln(f(n.basePath,nr.location))};const $n=new FormData;$n.append("file",At.blob(),At.filename()),yn.send($n)}),B=R(n.handler)?n.handler:w,Z=()=>new Promise(At=>{At([])}),oe=(At,It)=>({url:It,blobInfo:At,status:!0}),be=(At,It)=>({url:"",blobInfo:At,status:!1,error:It}),Pe=(At,It)=>{ur.each(r[At],ln=>{ln(It)}),delete r[At]},Ke=(At,It,ln)=>(e.markPending(At.blobUri()),new Promise(xn=>{let yn,$n;try{const nr=()=>{yn&&(yn.close(),$n=j)},mr=zn=>{nr(),e.markUploaded(At.blobUri(),zn),Pe(At.blobUri(),oe(At,zn)),xn(oe(At,zn))},Nr=zn=>{nr(),e.removeFailed(At.blobUri()),Pe(At.blobUri(),be(At,zn)),xn(be(At,zn))};$n=zn=>{zn<0||zn>100||X.from(yn).orThunk(()=>X.from(ln).map(Se)).each(Nn=>{yn=Nn,Nn.progressBar.value(zn)})},It(At,$n).then(mr,zn=>{Nr(C(zn)?{message:zn}:zn)})}catch(nr){xn(be(At,nr))}})),Je=At=>At===w,at=At=>{const It=At.blobUri();return new Promise(ln=>{r[It]=r[It]||[],r[It].push(ln)})},Rt=(At,It)=>(At=ur.grep(At,ln=>!e.isUploaded(ln.blobUri())),Promise.all(ur.map(At,ln=>e.isPending(ln.blobUri())?at(ln):Ke(ln,B,It))));return{upload:(At,It)=>!n.url&&Je(B)?Z():Rt(At,It)}},Hx=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),FO=(e,n)=>Ree(n,{url:p4(e),basePath:v4(e),credentials:Mw(e),handler:y4(e)}),$R=e=>{const n=NO(),r=FO(e,n);return{upload:(f,w=!0)=>r.upload(f,w?Hx(e):void 0)}},xW=(e,n)=>e.dom.isEmpty(n.dom)&&k(e.schema.getTextBlockElements()[La(n)]),wW=e=>n=>{xW(e,n)&&di(n,jt.fromHtml('<br data-mce-bogus="1" />'))},CW=e=>{const n=bW();let r,f;const w=NO(),B=[],Z=yn=>$n=>e.selection?yn($n):[],oe=yn=>yn+(yn.indexOf("?")===-1?"?":"&")+new Date().getTime(),be=(yn,$n,nr)=>{let mr=0;do mr=yn.indexOf($n,mr),mr!==-1&&(yn=yn.substring(0,mr)+nr+yn.substr(mr+$n.length),mr+=nr.length-$n.length+1);while(mr!==-1);return yn},Pe=(yn,$n,nr)=>{const mr=`src="${nr}"${nr===Lr.transparentSrc?' data-mce-placeholder="1"':""}`;return yn=be(yn,`src="${$n}"`,mr),yn=be(yn,'data-mce-src="'+$n+'"','data-mce-src="'+nr+'"'),yn},Ke=(yn,$n)=>{ie(e.undoManager.data,nr=>{nr.type==="fragmented"?nr.fragments=Fe(nr.fragments,mr=>Pe(mr,yn,$n)):nr.content=Pe(nr.content,yn,$n)})},Je=(yn,$n)=>{const nr=e.convertURL($n,"src");Ke(yn.src,$n),Kc(jt.fromDom(yn),{src:y1(e)?oe($n):$n,"data-mce-src":nr})},at=()=>(r||(r=FO(e,w)),It().then(Z(yn=>{const $n=Fe(yn,nr=>nr.blobInfo);return r.upload($n,Hx(e)).then(Z(nr=>{const mr=[];let Nr=!1;const zn=Fe(nr,(Nn,er)=>{const{blobInfo:Qr,image:ho}=yn[er];let na=!1;return Nn.status&&cT(e)?(Nn.url&&!or(ho.src,Nn.url)&&(Nr=!0),n.removeByUri(ho.src),mp(e)||Je(ho,Nn.url)):Nn.error&&(Nn.error.remove&&(Ke(ho.src,Lr.transparentSrc),mr.push(ho),na=!0),iW(e,Nn.error.message)),{element:ho,status:Nn.status,uploadUri:Nn.url,blobInfo:Qr,removed:na}});return mr.length>0&&!mp(e)?e.undoManager.transact(()=>{ie(Pg(mr),Nn=>{const er=Rc(Nn);Ua(Nn),er.each(wW(e)),n.removeByUri(Nn.dom.src)})}):Nr&&e.undoManager.dispatchChange(),zn}))}))),Rt=()=>lT(e)?at():Promise.resolve([]),Ht=yn=>We(B,$n=>$n(yn)),At=yn=>{B.push(yn)},It=()=>(f||(f=gW(w,n)),f.findAll(e.getBody(),Ht).then(Z(yn=>{const $n=ue(yn,nr=>C(nr)?(vA(e,nr),!1):nr.uriType!=="blob");return mp(e)||ie($n,nr=>{Ke(nr.image.src,nr.blobInfo.blobUri()),nr.image.src=nr.blobInfo.blobUri(),nr.image.removeAttribute("data-mce-src")}),$n}))),ln=()=>{n.destroy(),w.destroy(),f=r=null},xn=yn=>yn.replace(/src="(blob:[^"]+)"/g,($n,nr)=>{const mr=w.getResultUri(nr);if(mr)return'src="'+mr+'"';let Nr=n.getByUri(nr);return Nr||(Nr=le(e.editorManager.get(),(zn,Nn)=>zn||Nn.editorUpload&&Nn.editorUpload.blobCache.getByUri(nr),void 0)),Nr?'src="data:'+Nr.blob().type+";base64,"+Nr.base64()+'"':$n});return e.on("SetContent",()=>{lT(e)?Rt():It()}),e.on("RawSaveContent",yn=>{yn.content=xn(yn.content)}),e.on("GetContent",yn=>{yn.source_view||yn.format==="raw"||yn.format==="tree"||(yn.content=xn(yn.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",yn=>{ie(yn,$n=>{const nr=$n.attr("src");if(!nr||n.getByUri(nr))return;const mr=w.getResultUri(nr);mr&&$n.attr("src",mr)})})}),{blobCache:n,addFilter:At,uploadImages:at,uploadImagesAuto:Rt,scanForImages:It,destroy:ln}},SW=e=>{const n=e.dom,r=e.schema.type,f={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:w=>{n.setStyle(w,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:w=>{n.setStyle(w,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const w={inline:"span",styles:{textDecoration:"line-through"},exact:!0},B={inline:"strike",remove:"all",preserve_attributes:["class","style"]},Z={inline:"s",remove:"all",preserve_attributes:["class","style"]};return r!=="html4"?[Z,w,B]:[w,Z,B]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(w,B,Z)=>Gr(w)&&w.hasAttribute("href"),onformat:(w,B,Z)=>{ur.each(Z,(oe,be)=>{n.setAttrib(w,be,oe)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":w=>{var B;return(B=w==null?void 0:w.customValue)!==null&&B!==void 0?B:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return ur.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),w=>{f[w]={block:w,remove:"all"}}),f},qv={remove_similar:!0,inherit:!1},Kd={selector:"td,th",...qv},bA={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Kd},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Kd},tablecellbordercolor:{styles:{borderColor:"%value"},...Kd},tablecellclass:{classes:["%value"],...Kd},tableclass:{selector:"table",classes:["%value"],...qv},tablecellborderstyle:{styles:{borderStyle:"%value"},...Kd},tablecellborderwidth:{styles:{borderWidth:"%value"},...Kd}},xA=J(bA),fy=e=>{const n={},r=Z=>k(Z)?n[Z]:n,f=Z=>lt(n,Z),w=(Z,oe)=>{Z&&(C(Z)?(S(oe)||(oe=[oe]),ie(oe,be=>{N(be.deep)&&(be.deep=!El(be)),N(be.split)&&(be.split=!El(be)||$i(be)),N(be.remove)&&El(be)&&!$i(be)&&(be.remove="none"),El(be)&&$i(be)&&(be.mixed=!0,be.block_expand=!0),C(be.classes)&&(be.classes=be.classes.split(/\s+/))}),n[Z]=oe):Ft(Z,(be,Pe)=>{w(Pe,be)}))},B=Z=>(Z&&n[Z]&&delete n[Z],n);return w(SW(e)),w(xA()),w(S4(e)),{get:r,has:f,register:w,unregister:B}},og=ur.each,Ou=Cs.DOM,zx=e=>k(e)&&_(e),OR=(e,n)=>{const r=n&&n.schema||_h({}),f=(be,Pe)=>{Pe.classes.length>0&&Ou.addClass(be,Pe.classes.join(" ")),Ou.setAttribs(be,Pe.attrs)},w=be=>{const Pe=C(be)?{name:be,classes:[],attrs:{}}:be,Ke=Ou.create(Pe.name);return f(Ke,Pe),Ke},B=(be,Pe)=>{const Ke=r.getElementRule(be.nodeName.toLowerCase()),Je=Ke==null?void 0:Ke.parentsRequired;return Je&&Je.length?Pe&&Ve(Je,Pe)?Pe:Je[0]:!1},Z=(be,Pe,Ke)=>{let Je;const at=Pe[0],Rt=zx(at)?at.name:void 0,Ht=B(be,Rt);if(Ht)Rt===Ht?(Je=at,Pe=Pe.slice(1)):Je=Ht;else if(at)Je=at,Pe=Pe.slice(1);else if(!Ke)return be;const At=Je?w(Je):Ou.create("div");At.appendChild(be),Ke&&ur.each(Ke,ln=>{const xn=w(ln);At.insertBefore(xn,be)});const It=zx(Je)?Je.siblings:void 0;return Z(At,Pe,It)},oe=Ou.create("div");if(e.length>0){const be=e[0],Pe=w(be),Ke=zx(be)?be.siblings:void 0;oe.appendChild(Z(Pe,e.slice(1),Ke))}return oe},PR=e=>{e=ur.trim(e);let n="div";const r={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(f,w,B,Z,oe)=>{switch(w){case"#":r.attrs.id=B;break;case".":r.classes.push(B);break;case":":ur.inArray("checked disabled enabled read-only required".split(" "),B)!==-1&&(r.attrs[B]=B);break}if(Z==="["){const be=oe.match(/([\w\-]+)(?:\=\"([^\"]+))?/);be&&(r.attrs[be[1]]=be[2])}return""})),r.name=n||"div",r},IR=e=>C(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),ur.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const r=ur.map(n.split(/(?:~\+|~|\+)/),PR),f=r.pop();return r.length&&(f.siblings=r),f}).reverse()):[],BO=(e,n)=>{let r="",f=hT(e);if(f==="")return"";const w=at=>C(at)?at.replace(/%(\w+)/g,""):"",B=(at,Rt)=>Ou.getStyle(Rt??e.getBody(),at,!0);if(C(n)){const at=e.formatter.get(n);if(!at)return"";n=at[0]}if("preview"in n){const at=n.preview;if(at===!1)return"";f=at||f}let Z=n.block||n.inline||"span",oe;const be=IR(n.selector);be.length>0?(be[0].name||(be[0].name=Z),Z=n.selector,oe=OR(be,e)):oe=OR([Z],e);const Pe=Ou.select(Z,oe)[0]||oe.firstChild;og(n.styles,(at,Rt)=>{const Ht=w(at);Ht&&Ou.setStyle(Pe,Rt,Ht)}),og(n.attributes,(at,Rt)=>{const Ht=w(at);Ht&&Ou.setAttrib(Pe,Rt,Ht)}),og(n.classes,at=>{const Rt=w(at);Ou.hasClass(Pe,Rt)||Ou.addClass(Pe,Rt)}),e.dispatch("PreviewFormats"),Ou.setStyles(oe,{position:"absolute",left:-65535}),e.getBody().appendChild(oe);const Ke=B("fontSize"),Je=/px$/.test(Ke)?parseInt(Ke,10):0;return og(f.split(" "),at=>{let Rt=B(at,Pe);if(!(at==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(Rt)&&(Rt=B(at),Xp(Rt).toLowerCase()==="#ffffff"))&&!(at==="color"&&Xp(Rt).toLowerCase()==="#000000")){if(at==="font-size"&&/em|%$/.test(Rt)){if(Je===0)return;Rt=parseFloat(Rt)/(/%$/.test(Rt)?100:1)*Je+"px"}at==="border"&&Rt&&(r+="padding:0 2px;"),r+=at+":"+Rt+";"}}),e.dispatch("AfterPreviewFormats"),Ou.remove(oe),r},HO=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},dy=e=>{const n=fy(e),r=Us({});return HO(e),aV(e),mp(e)||vV(r,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(f,w,B)=>{SU(e,f,w,B)},remove:(f,w,B,Z)=>{TU(e,f,w,B,Z)},toggle:(f,w,B)=>{kU(e,f,w,B)},match:(f,w,B,Z)=>hO(e,f,w,B,Z),closest:f=>kR(e,f),matchAll:(f,w)=>mO(e,f,w),matchNode:(f,w,B,Z)=>TR(e,f,w,B,Z),canApply:f=>gO(e,f),formatChanged:(f,w,B,Z)=>ud(e,r,f,w,B,Z),getCssText:Q(BO,e)}},NR=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},zO=(e,n,r)=>{const f=Us(!1),w=be=>{dA(n,!1,r),n.add({},be)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",be=>{const Pe=be.command;NR(Pe)||(iO(n,r),n.beforeChange())}),e.on("ExecCommand",be=>{const Pe=be.command;NR(Pe)||w(be)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",w),e.on("dragend",w),e.on("keyup",be=>{const Pe=be.keyCode;if(be.isDefaultPrevented())return;const Ke=Lr.os.isMacOS()&&be.key==="Meta";(Pe>=33&&Pe<=36||Pe>=37&&Pe<=40||Pe===45||be.ctrlKey||Ke)&&(w(),e.nodeChanged()),(Pe===46||Pe===8)&&e.nodeChanged(),f.get()&&n.typing&&!xR(fA(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),f.set(!1),e.nodeChanged())}),e.on("keydown",be=>{const Pe=be.keyCode;if(be.isDefaultPrevented())return;if(Pe>=33&&Pe<=36||Pe>=37&&Pe<=40||Pe===45){n.typing&&w(be);return}const Ke=be.ctrlKey&&!be.altKey||be.metaKey;if((Pe<16||Pe>20)&&Pe!==224&&Pe!==91&&!n.typing&&!Ke){n.beforeChange(),dA(n,!0,r),n.add({},be),f.set(!0);return}(Lr.os.isMacOS()?be.metaKey:be.ctrlKey&&!be.altKey)&&n.beforeChange()}),e.on("mousedown",be=>{n.typing&&w(be)});const B=be=>be.inputType==="insertReplacementText",Z=be=>be.inputType==="insertText"&&be.data===null,oe=be=>be.inputType==="insertFromPaste"||be.inputType==="insertFromDrop";e.on("input",be=>{be.inputType&&(B(be)||Z(be)||oe(be))&&w(be)}),e.on("AddUndo Undo Redo ClearUndos",be=>{be.isDefaultPrevented()||e.nodeChanged()})},VO=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},uS=e=>{const n=Em(),r=Us(0),f=Us(0),w={data:[],typing:!1,beforeChange:()=>{See(e,r,n)},add:(B,Z)=>cc(e,w,f,r,n,B,Z),dispatchChange:()=>{e.setDirty(!0);const B=fA(e);B.bookmark=dv(e.selection),e.dispatch("change",{level:B,lastLevel:qe(w.data,f.get()).getOrUndefined()})},undo:()=>uO(e,w,r,f),redo:()=>fO(e,f,w.data),clear:()=>{dO(e,w,f)},reset:()=>{bU(e,w)},hasUndo:()=>xU(e,w,f),hasRedo:()=>hA(e,w,f),transact:B=>wU(e,w,r,B),ignore:B=>{SR(e,r,B)},extra:(B,Z)=>{CU(e,w,f,B,Z)}};return mp(e)||zO(e,w,r),VO(e),w},UO=[9,27,Wr.HOME,Wr.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Wr.DOWN,Wr.UP,Wr.LEFT,Wr.RIGHT].concat(Lr.browser.isFirefox()?[224]:[]),FR="data-mce-placeholder",BR=e=>e.type==="keydown"||e.type==="keyup",HR=e=>{const n=e.keyCode;return n===Wr.BACKSPACE||n===Wr.DELETE},pp=e=>{if(BR(e)){const n=e.keyCode;return!HR(e)&&(Wr.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||Ve(UO,n))}else return!1},e0=e=>BR(e)&&!(HR(e)||e.type==="keyup"&&e.keyCode===229),Xd=(e,n,r)=>{if(Za(jt.fromDom(n),!1)){const f=n.firstElementChild;return f?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:r===f.nodeName.toLowerCase():!0}else return!1},TW=e=>{var n;const r=e.dom,f=ac(e),w=(n=i$(e))!==null&&n!==void 0?n:"",B=(Z,oe)=>{if(pp(Z))return;const be=e.getBody(),Pe=e0(Z)?!1:Xd(r,be,f);(r.getAttrib(be,FR)!==""!==Pe||oe)&&(r.setAttrib(be,FR,Pe?w:null),r.setAttrib(be,"aria-placeholder",Pe?w:null),c_(e,Pe),e.on(Pe?"keydown":"keyup",B),e.off(Pe?"keyup":"keydown",B))};St(w)&&e.on("init",Z=>{B(Z,!0),e.on("change SetContent ExecCommand",B),e.on("paste",oe=>Ef.setEditorTimeout(e,()=>B(oe)))})},kW=(e,n)=>({block:e,position:n}),AW=(e,n)=>({from:e,to:n}),zR=(e,n)=>{const r=jt.fromDom(e),f=jt.fromDom(n.container());return LC(r,f).map(w=>kW(w,n))},MW=e=>!Ba(e.from.block,e.to.block),WO=(e,n)=>Xc(n,w=>bc(w)||wl(w.dom),w=>Ba(w,e)).filter(sl).getOr(e),EW=(e,n)=>{const r=jt.fromDom(e);return Ba(WO(r,n.from.block),WO(r,n.to.block))},_W=e=>fa(e.from.block.dom)===!1&&fa(e.to.block.dom)===!1,RW=e=>{const n=r=>En(r)||ib(r.dom);return n(e.from.block)&&n(e.to.block)},LW=(e,n,r)=>Ja(r.position.getNode())&&!Za(r.block)?_v(!1,r.block.dom).bind(f=>f.isEqual(r.position)?dl(n,e,f).bind(w=>zR(e,w)):X.some(r)).getOr(r):r,DW=(e,n,r)=>{const f=zR(e,In.fromRangeStart(r)),w=f.bind(B=>dl(n,e,B.position).bind(Z=>zR(e,Z).map(oe=>LW(e,n,oe))));return Es(f,w,AW).filter(B=>MW(B)&&EW(e,B)&&_W(B)&&RW(B))},$W=(e,n,r)=>r.collapsed?DW(e,n,r):X.none(),VR=(e,n)=>{const r=zi(e);return Me(r,f=>n.isBlock(La(f))).fold(J(r),f=>r.slice(0,f))},wA=(e,n)=>{const r=VR(e,n);return ie(r,Ua),r},UR=(e,n)=>{const r=Ym(n,e);return de(r.reverse(),f=>Za(f)).each(Ua)},OW=e=>ue(F0(e),n=>!Za(n)).length===0,PW=(e,n,r,f,w)=>{if(Za(r))return U(r),Sc(r.dom);OW(w)&&Za(n)&&Ri(w,jt.fromTag("br"));const B=Nc(r.dom,In.before(w.dom));return ie(wA(n,f),Z=>{Ri(w,Z)}),UR(e,n),B},GO=(e,n)=>e.isInline(La(n)),ZO=(e,n,r,f)=>{if(Za(r)){if(Za(n)){const Z=pe((oe=>{const be=(Pe,Ke)=>pm(Pe).fold(()=>Ke,Je=>GO(f,Je)?be(Je,Ke.concat(tu(Je))):Ke);return be(oe,[])})(r),(oe,be)=>(ym(oe,be),be),ec());Ad(n),di(n,Z)}return Ua(r),Sc(n.dom)}const w=kf(r.dom);return ie(wA(n,f),B=>{di(r,B)}),UR(e,n),w},WR=(e,n)=>{const r=Ym(n,e);return X.from(r[r.length-1])},jO=(e,n)=>Dl(n,e)?WR(n,e):X.none(),GR=(e,n)=>{_v(e,n.dom).bind(r=>X.from(r.getNode())).map(jt.fromDom).filter(vf).each(Ua)},CA=(e,n,r,f)=>(GR(!0,n),GR(!1,r),jO(n,r).fold(Q(ZO,e,n,r,f),Q(PW,e,n,r,f))),YO=(e,n,r,f,w)=>n?CA(e,f,r,w):CA(e,r,f,w),ZR=(e,n)=>{const r=jt.fromDom(e.getBody());return $W(r.dom,n,e.selection.getRng()).map(w=>()=>{YO(r,n,w.from.block,w.to.block,e.schema).each(B=>{e.selection.setRng(B.toRange())})})},ag=(e,n,r)=>{const f=n.getRng();return Es(LC(e,jt.fromDom(f.startContainer)),LC(e,jt.fromDom(f.endContainer)),(w,B)=>Ba(w,B)?X.none():X.some(()=>{f.deleteContents(),YO(e,!0,w,B,r).each(Z=>{n.setRng(Z.toRange())})})).getOr(X.none())},dd=(e,n)=>{const r=jt.fromDom(n),f=Q(Ba,e);return Js(r,bc,f).isSome()},SA=(e,n)=>dd(e,n.startContainer)||dd(e,n.endContainer),KO=(e,n)=>{const r=Nc(e.dom,In.fromRangeStart(n)).isNone(),f=ic(e.dom,In.fromRangeEnd(n)).isNone();return!SA(e,n)&&r&&f},TA=e=>X.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),XO=e=>{const n=jt.fromDom(e.getBody()),r=e.selection.getRng();return KO(n,r)?TA(e):ag(n,e.selection,e.schema)},kA=(e,n)=>e.selection.isCollapsed()?X.none():XO(e),sg=(e,n,r,f,w)=>X.from(n._selectionOverrides.showCaret(e,r,f,w)),JO=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},Vx=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?X.none():X.some(JO(n)),QO=(e,n,r)=>{const f=Kw(1,e.getBody(),n),w=In.fromRangeStart(f),B=w.getNode();if(Ub(B))return sg(1,e,B,!w.isAtEnd(),!1);const Z=w.getNode(!0);if(Ub(Z))return sg(1,e,Z,!1,!1);const oe=ay(e.dom.getRoot(),w.getNode());return Ub(oe)?sg(1,e,oe,!1,r):X.none()},Ux=(e,n,r)=>n.collapsed?QO(e,n,r).getOr(n):n,jR=e=>lp(e)||kC(e),IW=e=>Gh(e)||vx(e),NW=(e,n)=>{ir(n)&&n.data.length===0&&e.remove(n)},qO=(e,n,r,f,w,B)=>{sg(f,e,B.getNode(!w),w,!0).each(Z=>{if(n.collapsed){const oe=n.cloneRange();w?oe.setEnd(Z.startContainer,Z.startOffset):oe.setStart(Z.endContainer,Z.endOffset),oe.deleteContents()}else n.deleteContents();e.selection.setRng(Z)}),NW(e.dom,r)},FW=(e,n)=>{const r=e.selection.getRng();if(!ir(r.commonAncestorContainer))return X.none();const f=n?gi.Forwards:gi.Backwards,w=nd(e.getBody()),B=Q($T,n?w.next:w.prev),Z=n?jR:IW,oe=Bm(f,e.getBody(),r),be=B(oe),Pe=be&&Ta(n,be);if(!Pe||!Xw(oe,Pe))return X.none();if(Z(Pe))return X.some(()=>qO(e,r,oe.getNode(),f,n,Pe));const Ke=B(Pe);return Ke&&Z(Ke)&&Xw(Pe,Ke)?X.some(()=>qO(e,r,oe.getNode(),f,n,Ke)):X.none()},AA=(e,n)=>FW(e,n),YR=(e,n)=>{const r=e.getBody();return n?Sc(r).filter(lp):kf(r).filter(Gh)},KR=e=>{const n=e.selection.getRng();return!n.collapsed&&(YR(e,!0).exists(r=>r.isEqual(In.fromRangeStart(n)))||YR(e,!1).exists(r=>r.isEqual(In.fromRangeEnd(n))))},XR=e=>k(e)&&(bc(jt.fromDom(e))||yf(jt.fromDom(e))),$f=ed.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),BW=(e,n)=>{const r=n.getNode(!e),f=e?"after":"before";return Gr(r)&&r.getAttribute("data-mce-caret")===f},HW=(e,n,r,f,w)=>{const B=Z=>w.isInline(Z.nodeName.toLowerCase())&&!td(r,f,e);return DT(!n,r).fold(()=>DT(n,f).fold(ne,B),B)},eP=(e,n,r,f)=>{const w=f.getNode(!n);return LC(jt.fromDom(e),jt.fromDom(r.getNode())).map(B=>Za(B)?$f.remove(B.dom):$f.moveToElement(w)).orThunk(()=>X.some($f.moveToElement(w)))},tP=(e,n,r,f)=>dl(n,e,r).bind(w=>XR(w.getNode())||HW(e,n,r,w,f)?X.none():n&&fa(w.getNode())||!n&&fa(w.getNode(!0))?eP(e,n,r,w):n&&Gh(r)||!n&&lp(r)?X.some($f.moveToPosition(w)):X.none()),zW=(e,n)=>M(n)?X.none():e&&fa(n.nextSibling)?X.some($f.moveToElement(n.nextSibling)):!e&&fa(n.previousSibling)?X.some($f.moveToElement(n.previousSibling)):X.none(),VW=(e,n,r)=>r.fold(f=>X.some($f.remove(f)),f=>X.some($f.moveToElement(f)),f=>td(n,f,e)?X.none():X.some($f.moveToPosition(f))),MA=(e,n,r,f)=>BW(n,r)?zW(n,r.getNode(!n)).orThunk(()=>tP(e,n,r,f)):tP(e,n,r,f).bind(w=>VW(e,r,w)),JR=(e,n,r,f)=>{const w=Kw(n?1:-1,e,r),B=In.fromRangeStart(w),Z=jt.fromDom(e);return!n&&Gh(B)?X.some($f.remove(B.getNode(!0))):n&&lp(B)?X.some($f.remove(B.getNode())):!n&&lp(B)&&MC(Z,B,f)?dz(Z,B,f).map(oe=>$f.remove(oe.getNode())):n&&Gh(B)&&AC(Z,B,f)?hz(Z,B,f).map(oe=>$f.remove(oe.getNode())):MA(e,n,B,f)},UW=(e,n)=>r=>(e._selectionOverrides.hideFakeCaret(),up(e,n,jt.fromDom(r)),!0),WW=(e,n)=>r=>{const f=n?In.before(r):In.after(r);return e.selection.setRng(f.toRange()),!0},GW=e=>n=>(e.selection.setRng(n.toRange()),!0),nP=(e,n)=>X.from(ay(e.getBody(),n)),rP=(e,n)=>{const r=e.selection.getNode();return nP(e,r).filter(fa).fold(()=>JR(e.getBody(),n,e.selection.getRng(),e.schema).map(f=>()=>f.fold(UW(e,n),WW(e,n),GW(e))),()=>X.some(j))},ZW=e=>{ie(Vi(e,".mce-offscreen-selection"),Ua)},jW=(e,n)=>{const r=e.selection.getNode();return fa(r)&&!Bg(r)?nP(e,r.parentNode).filter(fa).fold(()=>X.some(()=>{ZW(jt.fromDom(e.getBody())),up(e,n,jt.fromDom(e.selection.getNode())),kk(e)}),()=>X.some(j)):KR(e)?X.some(()=>{DC(e,e.selection.getRng(),jt.fromDom(e.getBody()))}):X.none()},EA=e=>{const n=e.dom,r=e.selection,f=ay(e.getBody(),r.getNode());if(wl(f)&&n.isBlock(f)&&n.isEmpty(f)){const w=n.create("br",{"data-mce-bogus":"1"});n.setHTML(f,""),f.appendChild(w),r.setRng(In.before(w).toRange())}return!0},QR=(e,n)=>e.selection.isCollapsed()?rP(e,n):jW(e,n),YW=(e,n)=>{const r=In.fromRangeStart(e.selection.getRng());return dl(n,e.getBody(),r).filter(f=>n?sz(f):iz(f)).bind(f=>M1(n?0:-1,f)).map(f=>()=>e.selection.select(f))},qR=(e,n)=>e.selection.isCollapsed()?YW(e,n):X.none(),Wx=ir,oP=e=>Wx(e)&&e.data[0]===ve,aP=e=>Wx(e)&&e.data[e.data.length-1]===ve,sP=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(ve)},_A=e=>{var n;if(Wx(e.previousSibling))return aP(e.previousSibling)||e.previousSibling.appendData(ve),e.previousSibling;if(Wx(e))return oP(e)||e.insertData(0,ve),e;{const r=sP(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(r,e),r}},RA=e=>{var n,r;if(Wx(e.nextSibling))return oP(e.nextSibling)||e.nextSibling.insertData(0,ve),e.nextSibling;if(Wx(e))return aP(e)||e.appendData(ve),e;{const f=sP(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(f,e.nextSibling):(r=e.parentNode)===null||r===void 0||r.appendChild(f),f}},LA=(e,n)=>e?_A(n):RA(n),KW=Q(LA,!0),DA=Q(LA,!1),iP=(e,n)=>ir(e.container())?LA(n,e.container()):LA(n,e.getNode()),lP=(e,n)=>{const r=n.get();return r&&e.container()===r&&yt(r)},eL=(e,n)=>n.fold(r=>{Xi(e.get());const f=KW(r);return e.set(f),X.some(In(f,f.length-1))},r=>Sc(r).map(f=>{if(lP(f,e)){const w=e.get();return In(w,1)}else{Xi(e.get());const w=iP(f,!0);return e.set(w),In(w,1)}}),r=>kf(r).map(f=>{if(lP(f,e)){const w=e.get();return In(w,w.length-1)}else{Xi(e.get());const w=iP(f,!1);return e.set(w),In(w,w.length-1)}}),r=>{Xi(e.get());const f=DA(r);return e.set(f),X.some(In(f,1))}),cP=(e,n)=>{for(let r=0;r<e.length;r++){const f=e[r].apply(null,n);if(f.isSome())return f}return X.none()},su=ed.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),uP=(e,n)=>{const r=Ph(n,e);return r||e},XW=(e,n,r)=>{const f=ry(r),w=uP(n,f.container());return Ud(e,w,f).fold(()=>ic(w,f).bind(Q(Ud,e,w)).map(B=>su.before(B)),X.none)},JW=(e,n)=>ep(e,n)===null,fP=(e,n,r)=>Ud(e,n,r).filter(Q(JW,n)),QW=(e,n,r)=>{const f=_C(r);return fP(e,n,f).bind(w=>Nc(w,f).isNone()?X.some(su.start(w)):X.none())},qW=(e,n,r)=>{const f=ry(r);return fP(e,n,f).bind(w=>ic(w,f).isNone()?X.some(su.end(w)):X.none())},Lee=(e,n,r)=>{const f=_C(r),w=uP(n,f.container());return Ud(e,w,f).fold(()=>Nc(w,f).bind(Q(Ud,e,w)).map(B=>su.after(B)),X.none)},hd=e=>!c8($A(e)),Jd=(e,n,r)=>cP([XW,QW,qW,Lee],[e,n,r]).filter(hd),$A=e=>e.fold(K,K,K,K),tL=e=>e.fold(J("before"),J("start"),J("end"),J("after")),OA=e=>e.fold(su.before,su.before,su.after,su.after),PA=e=>e.fold(su.start,su.start,su.end,su.end),eG=(e,n)=>tL(e)===tL(n)&&$A(e)===$A(n),dP=(e,n,r,f,w,B)=>Es(Ud(n,r,f),Ud(n,r,w),(Z,oe)=>Z!==oe&&Wd(r,Z,oe)?su.after(e?Z:oe):B).getOr(B),tG=(e,n)=>e.fold(fe,r=>!eG(r,n)),nG=(e,n,r,f,w)=>{const B=Ta(e,w);return dl(e,r,B).map(Q(Ta,e)).fold(()=>f.map(OA),be=>Jd(n,r,be).map(Q(dP,e,n,r,B,be)).filter(Q(tG,f))).filter(hd)},rG=(e,n)=>e?n.fold(P(X.some,su.start),X.none,P(X.some,su.after),X.none):n.fold(X.none,P(X.some,su.before),X.none,P(X.some,su.end)),Gx=(e,n,r,f)=>{const w=Ta(e,f),B=Jd(n,r,w);return Jd(n,r,w).bind(Q(rG,e)).orThunk(()=>nG(e,n,r,B,f))},hP=e=>R(e.selection.getSel().modify),nL=(e,n,r)=>{const f=e?1:-1;return n.setRng(In(r.container(),r.offset()+f).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},mP=(e,n)=>{const r=n.selection.getRng(),f=e?In.fromRangeEnd(r):In.fromRangeStart(r);return hP(n)?e&&mn(f)?nL(!0,n.selection,f):!e&&An(f)?nL(!1,n.selection,f):!1:!1};var Qd;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Qd||(Qd={}));const IA=(e,n)=>e===gi.Backwards?ot(n):n,oG=(e,n,r)=>e===gi.Forwards?n.next(r):n.prev(r),aG=(e,n,r,f)=>Ja(f.getNode(n===gi.Forwards))?Qd.Br:td(r,f)===!1?Qd.Block:Qd.Wrap,sG=(e,n,r,f)=>{const w=nd(r);let B=f;const Z=[];for(;B;){const oe=oG(n,w,B);if(!oe)break;if(Ja(oe.getNode(!1)))return n===gi.Forwards?{positions:IA(n,Z).concat([oe]),breakType:Qd.Br,breakAt:X.some(oe)}:{positions:IA(n,Z),breakType:Qd.Br,breakAt:X.some(oe)};if(!oe.isVisible()){B=oe;continue}if(e(B,oe)){const be=aG(r,n,B,oe);return{positions:IA(n,Z),breakType:be,breakAt:X.some(oe)}}Z.push(oe),B=oe}return{positions:IA(n,Z),breakType:Qd.Eol,breakAt:X.none()}},iG=(e,n,r,f)=>n(r,f).breakAt.map(w=>{const B=n(r,w).positions;return e===gi.Backwards?B.concat(w):[w].concat(B)}).getOr([]),gP=(e,n)=>le(e,(r,f)=>r.fold(()=>X.some(f),w=>Es(gt(w.getClientRects()),gt(f.getClientRects()),(B,Z)=>{const oe=Math.abs(n-B.left);return Math.abs(n-Z.left)<=oe?f:w}).or(r)),X.none()),sf=(e,n)=>gt(n.getClientRects()).bind(r=>gP(e,r.left)),fS=Q(sG,In.isAbove,-1),dS=Q(sG,In.isBelow,1),t0=Q(iG,-1,fS),rL=Q(iG,1,dS),pP=(e,n)=>fS(e,n).breakAt.isNone(),hS=(e,n)=>dS(e,n).breakAt.isNone(),lG=e=>Sc(e).map(n=>[n].concat(dS(e,n).positions)).getOr([]),cG=e=>kf(e).map(n=>fS(e,n).positions.concat(n)).getOr([]),uG=(e,n)=>sf(t0(e,n),n),fG=(e,n)=>sf(rL(e,n),n),dG=fa,vP=(e,n)=>Math.abs(e.left-n),ig=(e,n)=>Math.abs(e.right-n),hG=e=>ft(e,"node"),yP=(e,n)=>fn(e,(r,f)=>{const w=Math.min(vP(r,n),ig(r,n)),B=Math.min(vP(f,n),ig(f,n));return B===w&&hG(f)&&dG(f.node)||B<w?f:r}),mG=e=>{const n=r=>Fe(r,f=>{const w=jg(f);return w.node=e,w});if(Gr(e))return n(e.getClientRects());if(ir(e)){const r=e.ownerDocument.createRange();return r.setStart(e,0),r.setEnd(e,e.data.length),n(r.getClientRects())}else return[]},bP=e=>ze(e,mG);var mS;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(mS||(mS={}));const oL=(e,n,r,f)=>{let w=f;for(;w=Sv(w,e,sa,n);)if(r(w))return},NA=(e,n,r,f,w,B)=>{let Z=0;const oe=[],be=Je=>{let at=bP([Je]);e===-1&&(at=at.reverse());for(let Rt=0;Rt<at.length;Rt++){const Ht=at[Rt];if(!r(Ht,Pe)){if(oe.length>0&&n(Ht,Zt(oe))&&Z++,Ht.line=Z,w(Ht))return!0;oe.push(Ht)}}return!1},Pe=Zt(B.getClientRects());if(!Pe)return oe;const Ke=B.getNode();return Ke&&(be(Ke),oL(e,f,be,Ke)),oe},aL=(e,n)=>n.line>e,xP=(e,n)=>n.line===e,wP=Q(NA,mS.Up,Rm,Kg),CP=Q(NA,mS.Down,Kg,Rm),SP=e=>Zt(e.getClientRects()),gS=(e,n,r,f)=>{const w=nd(n);let B,Z,oe,be;const Pe=[];let Ke=0;e===1?(B=w.next,Z=Kg,oe=Rm,be=In.after(f)):(B=w.prev,Z=Rm,oe=Kg,be=In.before(f));const Je=SP(be);do{if(!be.isVisible())continue;const at=SP(be);if(oe(at,Je))continue;Pe.length>0&&Z(at,Zt(Pe))&&Ke++;const Rt=jg(at);if(Rt.position=be,Rt.line=Ke,r(Rt))return Pe;Pe.push(Rt)}while(be=B(be));return Pe},pS=e=>n=>aL(e,n),FA=e=>n=>xP(e,n),lg=(e,n)=>{e.selection.setRng(n),J1(e,e.selection.getRng())},BA=(e,n,r)=>X.some(Ux(e,n,r)),sL=(e,n,r,f,w,B)=>{const Z=n===gi.Forwards,oe=nd(e.getBody()),be=Q($T,Z?oe.next:oe.prev),Pe=Z?f:w;if(!r.collapsed){const Ht=sw(r);if(B(Ht))return sg(n,e,Ht,n===gi.Backwards,!1);if(KR(e)){const At=r.cloneRange();return At.collapse(n===gi.Backwards),X.from(At)}}const Ke=Bm(n,e.getBody(),r);if(Pe(Ke))return Vx(e,Ke.getNode(!Z));let Je=be(Ke);const at=vn(r);if(Je)Je=Ta(Z,Je);else return at?X.some(r):X.none();if(Pe(Je))return sg(n,e,Je.getNode(!Z),Z,!1);const Rt=be(Je);return Rt&&Pe(Rt)&&Xw(Je,Rt)?sg(n,e,Rt.getNode(!Z),Z,!1):at?BA(e,Je.toRange(),!1):X.none()},vS=(e,n,r,f,w,B)=>{const Z=Bm(n,e.getBody(),r),oe=Zt(Z.getClientRects()),be=n===mS.Down,Pe=e.getBody();if(!oe)return X.none();if(KR(e)){const It=be?In.fromRangeEnd(r):In.fromRangeStart(r);return(be?fG:uG)(Pe,It).orThunk(()=>X.from(It)).map(xn=>xn.toRange())}const Je=(be?CP:wP)(Pe,pS(1),Z),at=ue(Je,FA(1)),Rt=oe.left,Ht=yP(at,Rt);if(Ht&&B(Ht.node)){const It=Math.abs(Rt-Ht.left),ln=Math.abs(Rt-Ht.right);return sg(n,e,Ht.node,It<ln,!1)}let At;if(f(Z)?At=Z.getNode():w(Z)?At=Z.getNode(!0):At=sw(r),At){const It=gS(n,Pe,pS(1),At);let ln=yP(ue(It,FA(1)),Rt);if(ln||(ln=Zt(ue(It,FA(0))),ln))return BA(e,ln.position.toRange(),!1)}return at.length===0?yS(e,be).filter(be?w:f).map(It=>Ux(e,It.toRange(),!1)):X.none()},yS=(e,n)=>{const r=e.selection.getRng(),f=n?In.fromRangeEnd(r):In.fromRangeStart(r),w=jw(f.container(),e.getBody());if(n){const B=dS(w,f);return ut(B.positions)}else{const B=fS(w,f);return gt(B.positions)}},Zx=(e,n,r)=>yS(e,n).filter(r).exists(f=>(e.selection.setRng(f.toRange()),!0)),HA=(e,n)=>{const r=e.dom.createRng();r.setStart(n.container(),n.offset()),r.setEnd(n.container(),n.offset()),e.selection.setRng(r)},iL=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},TP=(e,n,r)=>eL(n,r).map(f=>(HA(e,f),r)),gG=(e,n,r)=>{const f=In.fromRangeStart(e);if(e.collapsed)return f;{const w=In.fromRangeEnd(e);return r?Nc(n,w).getOr(w):ic(n,f).getOr(f)}},kP=(e,n,r)=>{const f=e.getBody(),w=gG(e.selection.getRng(),f,r),B=Q(ny,e);return Gx(r,B,f,w).bind(oe=>TP(e,n,oe))},pG=(e,n,r)=>{const f=Fe(Vi(jt.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),Z=>Z.dom),w=ue(f,e),B=ue(r,e);ie(dt(w,B),Q(iL,!1)),ie(dt(B,w),Q(iL,!0))},AP=(e,n)=>{const r=n.get();if(e.selection.isCollapsed()&&!e.composing&&r){const f=In.fromRangeStart(e.selection.getRng());In.isTextPosition(f)&&!Dz(f)&&(HA(e,MT(r,f)),n.set(null))}},Dee=(e,n,r,f)=>{if(n.selection.isCollapsed()){const w=ue(f,e);ie(w,B=>{const Z=In.fromRangeStart(n.selection.getRng());Jd(e,n.getBody(),Z).bind(oe=>TP(n,r,oe))})}},MP=(e,n,r)=>Jg(e)?kP(e,n,r).isSome():!1,EP=(e,n,r)=>Jg(n)?mP(e,n):!1,vG=e=>{const n=Us(null),r=Q(ny,e);return e.on("NodeChange",f=>{Jg(e)&&(pG(r,e.dom,f.parents),AP(e,n),Dee(r,e,n,f.parents))}),n},yG=Q(EP,!0),bG=Q(EP,!1),zA=(e,n,r)=>{if(Jg(e)){const f=yS(e,n).getOrThunk(()=>{const w=e.selection.getRng();return n?In.fromRangeEnd(w):In.fromRangeStart(w)});return Jd(Q(ny,e),e.getBody(),f).exists(w=>{const B=OA(w);return eL(r,B).exists(Z=>(HA(e,Z),!0))})}else return!1},xG=(e,n)=>{const r=document.createRange();return r.setStart(e.container(),e.offset()),r.setEnd(n.container(),n.offset()),r},wG=e=>Es(Sc(e),kf(e),(n,r)=>{const f=Ta(!0,n),w=Ta(!1,r);return ic(e,f).forall(B=>B.isEqual(w))}).getOr(!0),lL=(e,n)=>r=>eL(n,r).map(f=>()=>HA(e,f)),_P=(e,n,r,f)=>{const w=e.getBody(),B=Q(ny,e);e.undoManager.ignore(()=>{e.selection.setRng(xG(r,f)),RC(e),Jd(B,w,In.fromRangeStart(e.selection.getRng())).map(PA).bind(lL(e,n)).each(ce)}),e.nodeChanged()},hy=(e,n)=>{const r=Ph(n,e);return r||e},RP=(e,n,r,f)=>{const w=hy(e.getBody(),f.container()),B=Q(ny,e),Z=Jd(B,w,f);return Z.bind(be=>r?be.fold(J(X.some(PA(be))),X.none,J(X.some(OA(be))),X.none):be.fold(X.none,J(X.some(OA(be))),X.none,J(X.some(PA(be))))).map(lL(e,n)).getOrThunk(()=>{const be=Nh(r,w,f),Pe=be.bind(Ke=>Jd(B,w,Ke));return Es(Z,Pe,()=>Ud(B,w,f).bind(Ke=>wG(Ke)?X.some(()=>{up(e,r,jt.fromDom(Ke))}):X.none())).getOrThunk(()=>Pe.bind(()=>be.map(Ke=>()=>{r?_P(e,n,f,Ke):_P(e,n,Ke,f)})))})},bS=(e,n,r)=>{if(e.selection.isCollapsed()&&Jg(e)){const f=In.fromRangeStart(e.selection.getRng());return RP(e,n,r,f)}return X.none()},LP=e=>ll(e)>1,VA=(e,n)=>{const r=jt.fromDom(e.getBody()),f=jt.fromDom(e.selection.getStart()),w=Ym(f,r);return Me(w,n).fold(J(w),B=>w.slice(0,B))},n0=e=>ll(e)===1,DP=e=>VA(e,n=>e.schema.isBlock(La(n))||LP(n)),md=e=>VA(e,n=>e.schema.isBlock(La(n))),r0=(e,n)=>{const r=Q(Jm,e);return ze(n,f=>r(f)?[f.dom]:[])},UA=e=>{const n=md(e);return r0(e,n)},CG=(e,n,r,f)=>{const w=r0(n,f);if(w.length===0)up(n,e,r);else{const B=X8(r.dom,w);n.selection.setRng(B.toRange())}},$P=(e,n)=>{const r=ue(DP(e),n0);return ut(r).bind(f=>{const w=In.fromRangeStart(e.selection.getRng());return Ak(n,w,f.dom)&&!H1(f)?X.some(()=>CG(n,e,f,r)):X.none()})},SG=(e,n)=>{const r=n.parentElement;return Ja(n)&&!O(r)&&e.dom.isEmpty(r)},TG=e=>H1(jt.fromDom(e)),OP=(e,n)=>{const r=e.selection.getStart(),f=SG(e,r)||TG(r)?X8(r,n):Wk(e.selection.getRng(),n);e.selection.setRng(f.toRange())},kG=(e,n)=>{const r=dt(n,UA(e));r.length>0&&OP(e,r)},PP=e=>ir(e.startContainer),IP=e=>e.startOffset===0&&PP(e),AG=(e,n)=>{const r=n.startContainer.parentElement;return!O(r)&&Jm(e,jt.fromDom(r))},MG=e=>{const n=e.startContainer.parentNode,r=e.endContainer.parentNode;return!O(n)&&!O(r)&&n.isEqualNode(r)},jx=e=>{const n=e.endContainer;return e.endOffset===(ir(n)?n.length:n.childNodes.length)},cL=e=>MG(e)&&jx(e),NP=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),FP=e=>cL(e)||NP(e),uL=e=>{const n=e.selection.getRng();return IP(n)&&AG(e,n)&&FP(n)},EG=e=>{if(uL(e)){const n=UA(e);return X.some(()=>{RC(e),kG(e,n)})}else return X.none()},fL=(e,n)=>e.selection.isCollapsed()?$P(e,n):EG(e),_G=(e,n)=>Pz(e,r=>Mu(r.dom),r=>n.isBlock(La(r))),RG=e=>_G(jt.fromDom(e.selection.getStart()),e.schema),LG=e=>{const n=e.selection.getRng();return n.collapsed&&(PP(n)||e.dom.isEmpty(n.startContainer))&&!RG(e)},xS=e=>(LG(e)&&OP(e,[]),!0),dL=(e,n,r)=>k(r)?X.some(()=>{e._selectionOverrides.hideFakeCaret(),up(e,n,jt.fromDom(r))}):X.none(),BP=(e,n)=>{const r=n?kC:vx,f=n?gi.Forwards:gi.Backwards,w=Bm(f,e.getBody(),e.selection.getRng());return r(w)?dL(e,n,w.getNode(!n)):X.from(Ta(n,w)).filter(B=>r(B)&&Xw(w,B)).bind(B=>dL(e,n,B.getNode(!n)))},DG=(e,n)=>{const r=e.selection.getNode();return zs(r)?dL(e,n,r):X.none()},hL=(e,n)=>e.selection.isCollapsed()?BP(e,n):DG(e,n),Of=e=>Xc(e,n=>wl(n.dom)||fa(n.dom)).exists(n=>wl(n.dom)),mL=e=>Bt(e??"").getOr(0),WA=(e,n)=>{const r=e||Ql(n)?"margin":"padding",f=ui(n,"direction")==="rtl"?"-right":"-left";return r+f},HP=(e,n,r,f,w,B)=>{const Z=WA(r,jt.fromDom(B)),oe=mL(e.getStyle(B,Z));if(n==="outdent"){const be=Math.max(0,oe-f);e.setStyle(B,Z,be?be+w:"")}else{const be=oe+f+w;e.setStyle(B,Z,be)}},gL=(e,n)=>We(n,r=>{const f=WA(Pb(e),r),w=_i(r,f).map(mL).getOr(0);return e.dom.getContentEditable(r.dom)!=="false"&&w>0}),zP=e=>{const n=UP(e);return!e.mode.isReadOnly()&&(n.length>1||gL(e,n))},VP=e=>ql(e)||yf(e),$G=e=>Rc(e).exists(VP),UP=e=>ue(Pg(e.selection.getSelectedBlocks()),n=>!VP(n)&&!$G(n)&&Of(n)),WP=(e,n)=>{var r,f;const{dom:w}=e,B=_w(e),Z=(f=(r=/[a-z%]+$/i.exec(B))===null||r===void 0?void 0:r[0])!==null&&f!==void 0?f:"px",oe=mL(B),be=Pb(e);ie(UP(e),Pe=>{HP(w,n,be,oe,Z,Pe.dom)})},GP=e=>WP(e,"indent"),ZP=e=>WP(e,"outdent"),jP=e=>{if(e.selection.isCollapsed()&&zP(e)){const n=e.dom,r=e.selection.getRng(),f=In.fromRangeStart(r),w=n.getParent(r.startContainer,n.isBlock);if(w!==null&&B_(jt.fromDom(w),f,e.schema))return X.some(()=>ZP(e))}return X.none()},Yx=(e,n,r)=>Ct([jP,QR,AA,(f,w)=>bS(f,n,w),ZR,BC,qR,hL,kA,fL],f=>f(e,r)).filter(f=>e.selection.isEditable()),vp=(e,n)=>{Yx(e,n,!1).fold(()=>{e.selection.isEditable()&&(RC(e),kk(e))},ce)},my=(e,n)=>{Yx(e,n,!0).fold(()=>{e.selection.isEditable()&&$z(e)},ce)},GA=(e,n)=>{e.addCommand("delete",()=>{vp(e,n)}),e.addCommand("forwardDelete",()=>{my(e,n)})},ZA=5,pL=400,vL=e=>e.touches===void 0||e.touches.length!==1?X.none():X.some(e.touches[0]),OG=(e,n)=>{const r=Math.abs(e.clientX-n.x),f=Math.abs(e.clientY-n.y);return r>ZA||f>ZA},YP=e=>{const n=Em(),r=Us(!1),f=wb(w=>{e.dispatch("longpress",{...w,type:"longpress"}),r.set(!0)},pL);e.on("touchstart",w=>{vL(w).each(B=>{f.cancel();const Z={x:B.clientX,y:B.clientY,target:w.target};f.throttle(w),r.set(!1),n.set(Z)})},!0),e.on("touchmove",w=>{f.cancel(),vL(w).each(B=>{n.on(Z=>{OG(B,Z)&&(n.clear(),r.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",w=>{f.cancel(),w.type!=="touchcancel"&&n.get().filter(B=>B.target.isEqualNode(w.target)).each(()=>{r.get()?w.preventDefault():e.dispatch("tap",{...w,type:"tap"})})},!0)},jA=(e,n)=>lt(e,n.nodeName),PG=(e,n)=>ir(n)?!0:Gr(n)?!jA(e.getBlockElements(),n)&&!Eu(n)&&!pa(e,n)&&!Yf(n):!1,IG=(e,n,r)=>Oe(N_(jt.fromDom(r),jt.fromDom(n)),f=>jA(e,f.dom)),NG=(e,n)=>{if(ir(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data))return!n.nextSibling||jA(e,n.nextSibling)||Yf(n.nextSibling)}return!1},KP=e=>e.dom.create(ac(e),v1(e)),FG=e=>{const n=e.dom,r=e.selection,f=e.schema,w=f.getBlockElements(),B=r.getStart(),Z=e.getBody();let oe,be,Pe=!1;const Ke=ac(e);if(!B||!Gr(B))return;const Je=Z.nodeName.toLowerCase();if(!f.isValidChild(Je,Ke.toLowerCase())||IG(w,Z,B))return;const at=r.getRng(),{startContainer:Rt,startOffset:Ht,endContainer:At,endOffset:It}=at,ln=Vv(e);let xn=Z.firstChild;for(;xn;)if(Gr(xn)&&sb(f,xn),PG(f,xn)){if(NG(w,xn)){be=xn,xn=xn.nextSibling,n.remove(be);continue}oe||(oe=KP(e),Z.insertBefore(oe,xn),Pe=!0),be=xn,xn=xn.nextSibling,oe.appendChild(be)}else oe=null,xn=xn.nextSibling;Pe&&ln&&(at.setStart(Rt,Ht),at.setEnd(At,It),r.setRng(at),e.nodeChanged())},XP=(e,n,r)=>{const f=jt.fromDom(KP(e)),w=ec();di(f,w),r(n,f);const B=document.createRange();return B.setStartBefore(w.dom),B.setEndBefore(w.dom),B},JP=e=>{e.on("NodeChange",Q(FG,e))},yL=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,$ee=(e,n,r)=>function(f){const w=arguments,B=w[w.length-2],Z=B>0?n.charAt(B-1):"";if(Z==='"')return f;if(Z===">"){const oe=n.lastIndexOf("<",B);if(oe!==-1&&n.substring(oe,B).indexOf('contenteditable="false"')!==-1)return f}return'<span class="'+r+'" data-mce-content="'+e.dom.encode(w[0])+'">'+e.dom.encode(typeof w[1]=="string"?w[1]:w[0])+"</span>"},Oee=(e,n,r)=>{let f=n.length,w=r.content;if(r.format!=="raw"){for(;f--;)w=w.replace(n[f],$ee(e,w,Fw(e)));r.content=w}},Pee=e=>{const n="contenteditable",r=" "+ur.trim(CT(e))+" ",f=" "+ur.trim(Fw(e))+" ",w=yL(r),B=yL(f),Z=P4(e);Z.length>0&&e.on("BeforeSetContent",oe=>{Oee(e,Z,oe)}),e.parser.addAttributeFilter("class",oe=>{let be=oe.length;for(;be--;){const Pe=oe[be];w(Pe)?Pe.attr(n,"true"):B(Pe)&&Pe.attr(n,"false")}}),e.serializer.addAttributeFilter(n,oe=>{let be=oe.length;for(;be--;){const Pe=oe[be];!w(Pe)&&!B(Pe)||(Z.length>0&&Pe.attr("data-mce-content")?(Pe.name="#text",Pe.type=3,Pe.raw=!0,Pe.value=Pe.attr("data-mce-content")):Pe.attr(n,null))}})},BG=e=>Jl(jt.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),HG=(e,n)=>{n.hasAttribute("data-mce-caret")&&(Mn(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},Iee=(e,n)=>{const r=BG(e);if(r){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),HG(e,r);return}Vt(r)&&(HG(e,r),e.undoManager.add())}},zG=e=>{e.on("keyup compositionstart",Q(Iee,e))},QP=fa,Nee=(e,n,r)=>sL(n,e,r,lp,Gh,QP),VG=(e,n,r)=>vS(n,e,r,B=>lp(B)||G$(B),B=>Gh(B)||qo(B),QP),lf=e=>{const n=e.dom.create(ac(e));return n.innerHTML='<br data-mce-bogus="1">',n},bL=(e,n,r)=>{const f=nd(e.getBody()),w=Q($T,n===1?f.next:f.prev);if(r.collapsed){const B=e.dom.getParent(r.startContainer,"PRE");if(!B)return;if(!w(In.fromRangeStart(r))){const oe=jt.fromDom(lf(e));n===1?gu(jt.fromDom(B),oe):Ri(jt.fromDom(B),oe),e.selection.select(oe.dom,!0),e.selection.collapse()}}},wS=(e,n)=>{const r=n?gi.Forwards:gi.Backwards,f=e.selection.getRng();return Nee(r,e,f).orThunk(()=>(bL(e,r,f),X.none()))},UG=(e,n)=>{const r=n?1:-1,f=e.selection.getRng();return VG(r,e,f).orThunk(()=>(bL(e,r,f),X.none()))},qP=(e,n)=>{const r=n?e.getEnd(!0):e.getStart(!0);return c8(r)?!n:n},xL=(e,n)=>wS(e,qP(e.selection,n)).exists(r=>(lg(e,r),!0)),YA=(e,n)=>UG(e,n).exists(r=>(lg(e,r),!0)),eI=(e,n)=>Zx(e,n,n?Gh:lp),KA=(e,n)=>YR(e,!n).map(r=>{const f=r.toRange(),w=e.selection.getRng();return n?f.setStart(w.startContainer,w.startOffset):f.setEnd(w.endContainer,w.endOffset),f}).exists(r=>(lg(e,r),!0)),tI=e=>Ve(["figcaption"],La(e)),WG=(e,n,r)=>{const f=Q(Ba,n);return Xc(jt.fromDom(e.container()),w=>r.isBlock(La(w)),f).filter(tI)},GG=(e,n,r)=>n?hS(e.dom,r):pP(e.dom,r),ZG=(e,n)=>{const r=jt.fromDom(e.getBody()),f=In.fromRangeStart(e.selection.getRng());return WG(f,r,e.schema).exists(()=>{if(GG(r,n,f)){const B=XP(e,r,n?di:yh);return e.selection.setRng(B),!0}else return!1})},XA=(e,n)=>e.selection.isCollapsed()?ZG(e,n):!1,jG=(e,n,r)=>{const f=e.selection.getRng(),w=In.fromRangeStart(f);return e.getBody().firstChild===n&&pP(r,w)?(e.execCommand("InsertNewBlockBefore"),!0):!1},YG=(e,n)=>{const r=e.selection.getRng(),f=In.fromRangeStart(r);return e.getBody().lastChild===n&&hS(n,f)?(e.execCommand("InsertNewBlockAfter"),!0):!1},Fee=(e,n)=>n?X.from(e.dom.getParent(e.selection.getNode(),"details")).map(r=>YG(e,r)).getOr(!1):X.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(r=>X.from(e.dom.getParent(r,"details")).map(f=>jG(e,f,r))).getOr(!1),nI=(e,n)=>Fee(e,n),wL={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},Bee=e=>Fe(e,n=>({...wL,...n})),KG=e=>Fe(e,n=>({...wL,...n})),rI=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,XG=(e,n)=>ze(Bee(e),r=>rI(r,n)?[r]:[]),CL=(e,n)=>ze(KG(e),r=>rI(r,n)?[r]:[]),Eo=(e,...n)=>()=>e.apply(null,n),Kx=(e,n)=>de(XG(e,n),r=>r.action()),SL=(e,n)=>Ct(CL(e,n),r=>r.action()),oI=(e,n)=>{const r=n?gi.Forwards:gi.Backwards,f=e.selection.getRng();return sL(e,r,f,kC,vx,zs).exists(w=>(lg(e,w),!0))},aI=(e,n)=>{const r=n?1:-1,f=e.selection.getRng();return vS(e,r,f,kC,vx,zs).exists(w=>(lg(e,w),!0))},JA=(e,n)=>Zx(e,n,n?vx:kC),sI=ed.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),CS={...sI,none:e=>sI.none(e)},JG=(e,n)=>gd(e,n,fe),gd=(e,n,r)=>ze(zi(e),f=>du(f,n)?r(f)?[f]:[]:gd(f,n,r)),iI=(e,n,r=ne)=>{if(r(n))return X.none();if(Ve(e,La(n)))return X.some(n);const f=w=>du(w,"table")||r(w);return vm(n,e.join(","),f)},lI=(e,n)=>iI(["td","th"],e,n),zee=e=>JG(e,"th,td"),QG=(e,n)=>Ku(e,"table",n),cI=(e,n,r,f,w=fe)=>{const B=f===1;if(!B&&r<=0)return CS.first(e[0]);if(B&&r>=e.length-1)return CS.last(e[e.length-1]);{const Z=r+f,oe=e[Z];return w(oe)?CS.middle(n,oe):cI(e,n,Z,f,w)}},qG=(e,n)=>QG(e,n).bind(r=>{const f=zee(r);return Me(f,B=>Ba(e,B)).map(B=>({index:B,all:f}))}),eZ=(e,n,r)=>qG(e,r).fold(()=>CS.none(e),w=>cI(w.all,e,w.index,1,n)),QA=(e,n,r)=>qG(e,r).fold(()=>CS.none(),w=>cI(w.all,e,w.index,-1,n)),tZ=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),TL=(e,n)=>ze(n,r=>{const f=tZ(jg(r.getBoundingClientRect()),-1);return[{x:f.left,y:e(f),cell:r},{x:f.right,y:e(f),cell:r}]}),uI=(e,n,r)=>le(e,(f,w)=>f.fold(()=>X.some(w),B=>{const Z=Math.sqrt(Math.abs(B.x-n)+Math.abs(B.y-r)),oe=Math.sqrt(Math.abs(w.x-n)+Math.abs(w.y-r));return X.some(oe<Z?w:B)}),X.none()),kL=(e,n,r,f,w)=>{const B=Vi(jt.fromDom(r),"td,th,caption").map(oe=>oe.dom),Z=ue(TL(e,B),oe=>n(oe,w));return uI(Z,f,w).map(oe=>oe.cell)},fI=e=>e.bottom,nZ=e=>e.top,rZ=(e,n)=>e.y<n,oZ=(e,n)=>e.y>n,aZ=Q(kL,fI,rZ),qA=Q(kL,nZ,oZ),sZ=(e,n)=>gt(n.getClientRects()).bind(r=>aZ(e,r.left,r.top)).bind(r=>sf(cG(r),n)),iZ=(e,n)=>ut(n.getClientRects()).bind(r=>qA(e,r.left,r.top)).bind(r=>sf(lG(r),n)),lZ=(e,n,r)=>r.breakAt.exists(f=>e(n,f).breakAt.isSome()),AL=e=>e.breakType===Qd.Wrap&&e.positions.length===0,cZ=e=>e.breakType===Qd.Br&&e.positions.length===1,dI=(e,n,r)=>{const f=e(n,r);return AL(f)||!Ja(r.getNode())&&cZ(f)?!lZ(e,n,f):f.breakAt.isNone()},hI=Q(dI,fS),uZ=Q(dI,dS),fZ=(e,n,r)=>{const f=In.fromRangeStart(n);return _v(!e,r).exists(w=>w.isEqual(f))},dZ=(e,n,r,f)=>{const w=e.selection.getRng(),B=n?1:-1;return k1()&&fZ(n,w,r)?(sg(B,e,r,!n,!1).each(Z=>{lg(e,Z)}),!0):!1},hZ=(e,n,r)=>sZ(n,r).orThunk(()=>gt(r.getClientRects()).bind(f=>gP(t0(e,In.before(n)),f.left))).getOr(In.before(n)),mZ=(e,n,r)=>iZ(n,r).orThunk(()=>gt(r.getClientRects()).bind(f=>gP(rL(e,In.after(n)),f.left))).getOr(In.after(n)),mI=(e,n)=>{const r=n.getNode(e);return yu(r)?X.some(r):X.none()},ML=(e,n,r)=>{n.undoManager.transact(()=>{const f=e?gu:Ri,w=XP(n,jt.fromDom(r),f);lg(n,w)})},gI=(e,n,r)=>{const f=mI(!!n,r),w=n===!1;f.fold(()=>lg(e,r.toRange()),B=>_v(w,e.getBody()).filter(Z=>Z.isEqual(r)).fold(()=>lg(e,r.toRange()),Z=>ML(n,e,B)))},pI=(e,n,r,f)=>{const w=e.selection.getRng(),B=In.fromRangeStart(w),Z=e.getBody();if(!n&&hI(f,B)){const oe=hZ(Z,r,B);return gI(e,n,oe),!0}else if(n&&uZ(f,B)){const oe=mZ(Z,r,B);return gI(e,n,oe),!0}else return!1},vI=(e,n,r)=>X.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(f=>X.from(e.dom.getParent(f,"table")).map(w=>r(e,n,w,f))).getOr(!1),yI=(e,n)=>vI(e,n,dZ),EL=(e,n)=>vI(e,n,pI),gZ=e=>{const n=Wh.exact(e,0,e,0);return T_(n)},bI=(e,n,r)=>r.fold(X.none,X.none,(f,w)=>zH(w).map(B=>gZ(B)),f=>(e.execCommand("mceTableInsertRowAfter"),xI(e,n,f))),xI=(e,n,r)=>bI(e,n,eZ(r,Wo)),tl=(e,n,r)=>bI(e,n,QA(r,Wo)),wI=(e,n)=>{const r=["table","li","dl"],f=jt.fromDom(e.getBody()),w=oe=>{const be=La(oe);return Ba(oe,f)||Ve(r,be)},B=e.selection.getRng(),Z=jt.fromDom(n?B.endContainer:B.startContainer);return lI(Z,w).map(oe=>(QG(oe,w).each(Ke=>{e.model.table.clearSelectedCells(Ke.dom)}),e.selection.collapse(!n),(n?xI:tl)(e,w,oe).each(Ke=>{e.selection.setRng(Ke)}),!0)).getOr(!1)},pZ=(e,n,r)=>{const f=Lr.os.isMacOS()||Lr.os.isiOS();Kx([{keyCode:Wr.RIGHT,action:Eo(xL,e,!0)},{keyCode:Wr.LEFT,action:Eo(xL,e,!1)},{keyCode:Wr.UP,action:Eo(YA,e,!1)},{keyCode:Wr.DOWN,action:Eo(YA,e,!0)},...f?[{keyCode:Wr.UP,action:Eo(KA,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Wr.DOWN,action:Eo(KA,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Wr.RIGHT,action:Eo(yI,e,!0)},{keyCode:Wr.LEFT,action:Eo(yI,e,!1)},{keyCode:Wr.UP,action:Eo(EL,e,!1)},{keyCode:Wr.DOWN,action:Eo(EL,e,!0)},{keyCode:Wr.UP,action:Eo(EL,e,!1)},{keyCode:Wr.UP,action:Eo(nI,e,!1)},{keyCode:Wr.DOWN,action:Eo(nI,e,!0)},{keyCode:Wr.RIGHT,action:Eo(oI,e,!0)},{keyCode:Wr.LEFT,action:Eo(oI,e,!1)},{keyCode:Wr.UP,action:Eo(aI,e,!1)},{keyCode:Wr.DOWN,action:Eo(aI,e,!0)},{keyCode:Wr.RIGHT,action:Eo(MP,e,n,!0)},{keyCode:Wr.LEFT,action:Eo(MP,e,n,!1)},{keyCode:Wr.RIGHT,ctrlKey:!f,altKey:f,action:Eo(yG,e,n)},{keyCode:Wr.LEFT,ctrlKey:!f,altKey:f,action:Eo(bG,e,n)},{keyCode:Wr.UP,action:Eo(XA,e,!1)},{keyCode:Wr.DOWN,action:Eo(XA,e,!0)}],r).each(w=>{r.preventDefault()})},vZ=(e,n)=>{e.on("keydown",r=>{r.isDefaultPrevented()||pZ(e,n,r)})},qd=(e,n)=>({container:e,offset:n}),Xx=Cs.DOM,SS=e=>n=>e===n?-1:0,o0=e=>n=>e.isBlock(n)||Ve(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",TS=(e,n,r)=>{if(ir(e)&&n>=0)return X.some(qd(e,n));{const f=_m(Xx);return X.from(f.backwards(e,n,SS(e),r)).map(w=>qd(w.container,w.container.data.length))}},CI=(e,n,r)=>{if(ir(e)&&n>=e.length)return X.some(qd(e,n));{const f=_m(Xx);return X.from(f.forwards(e,n,SS(e),r)).map(w=>qd(w.container,0))}},kS=(e,n,r)=>{if(!ir(e))return X.none();const f=e.data;if(n>=0&&n<=f.length)return X.some(qd(e,n));{const w=_m(Xx);return X.from(w.backwards(e,n,SS(e),r)).bind(B=>{const Z=B.container.data;return kS(B.container,n+Z.length,r)})}},eM=(e,n,r)=>{if(!ir(e))return X.none();const f=e.data;if(n<=f.length)return X.some(qd(e,n));{const w=_m(Xx);return X.from(w.forwards(e,n,SS(e),r)).bind(B=>eM(B.container,n-f.length,r))}},AS=(e,n,r,f,w)=>{const B=_m(e,o0(e));return X.from(B.backwards(n,r,f,w))},SI=e=>e.collapsed&&ir(e.startContainer),MS=e=>_e(e.toString().replace(/\u00A0/g," ")),ES=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,gy=(e,n)=>e.substring(n.length),_S=(e,n,r)=>{let f;const w=r.charAt(0);for(f=n-1;f>=0;f--){const B=e.charAt(f);if(ES(B))return X.none();if(w===B&&or(e,r,f,n))break}return X.some(f)},eh=(e,n,r,f=0)=>{if(!SI(n))return X.none();const w={text:"",offset:0},B=(oe,be,Pe)=>(w.text=Pe+w.text,w.offset+=be,_S(w.text,w.offset,r).getOr(be)),Z=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return AS(e,n.startContainer,n.startOffset,B,Z).bind(oe=>{const be=n.cloneRange();if(be.setStart(oe.container,oe.offset),be.setEnd(n.endContainer,n.endOffset),be.collapsed)return X.none();const Pe=MS(be);return Pe.lastIndexOf(r)!==0||gy(Pe,r).length<f?X.none():X.some({text:gy(Pe,r),range:be,trigger:r})})},Jx=(e,n,r,f=0)=>GH(jt.fromDom(n.startContainer)).fold(()=>eh(e,n,r,f),w=>{const B=e.createRng();B.selectNode(w.dom);const Z=MS(B);return X.some({range:B,text:gy(Z,r),trigger:r})}),TI=e=>e.nodeType===dh,kI=e=>e.nodeType===wd,AI=e=>{if(TI(e))return qd(e,e.data.length);{const n=e.childNodes;return n.length>0?AI(n[n.length-1]):qd(e,n.length)}},_L=(e,n)=>{const r=e.childNodes;return r.length>0&&n<r.length?_L(r[n],0):r.length>0&&kI(e)&&r.length===n?AI(r[r.length-1]):qd(e,n)},yZ=(e,n)=>{var r;const f=(r=e.getParent(n.container,e.isBlock))!==null&&r!==void 0?r:e.getRoot();return AS(e,n.container,n.offset,(w,B)=>B===0?-1:B,f).filter(w=>{const B=w.container.data.charAt(w.offset-1);return!ES(B)}).isSome()},bZ=e=>n=>{const r=_L(n.startContainer,n.startOffset);return!yZ(e,r)},RS=(e,n,r)=>Ct(r.triggers,f=>Jx(e,n,f)),xZ=(e,n)=>{const r=n(),f=e.selection.getRng();return RS(e.dom,f,r).bind(w=>MI(e,n,w))},MI=(e,n,r,f={})=>{var w;const B=n(),oe=(w=e.selection.getRng().startContainer.nodeValue)!==null&&w!==void 0?w:"",be=ue(B.lookupByTrigger(r.trigger),Ke=>r.text.length>=Ke.minChars&&Ke.matches.getOrThunk(()=>bZ(e.dom))(r.range,oe,r.text));if(be.length===0)return X.none();const Pe=Promise.all(Fe(be,Ke=>Ke.fetch(r.text,Ke.maxResults,f).then(at=>({matchText:r.text,items:at,columns:Ke.columns,onAction:Ke.onAction,highlightOn:Ke.highlightOn}))));return X.some({lookupData:Pe,context:r})};var Xh;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Xh||(Xh={}));const RL=(e,n,r)=>e.stype===Xh.Error?n(e.serror):r(e.svalue),wZ=e=>{const n=[],r=[];return ie(e,f=>{RL(f,w=>r.push(w),w=>n.push(w))}),{values:n,errors:r}},CZ=(e,n)=>e.stype===Xh.Error?{stype:Xh.Error,serror:n(e.serror)}:e,SZ=(e,n)=>e.stype===Xh.Value?{stype:Xh.Value,svalue:n(e.svalue)}:e,TZ=(e,n)=>e.stype===Xh.Value?n(e.svalue):e,kZ=(e,n)=>e.stype===Xh.Error?n(e.serror):e,EI=e=>({stype:Xh.Value,svalue:e}),_I=e=>({stype:Xh.Error,serror:e}),uc={fromResult:e=>e.fold(_I,EI),toResult:e=>RL(e,Oc.error,Oc.value),svalue:EI,partition:wZ,serror:_I,bind:TZ,bindError:kZ,map:SZ,mapError:CZ,fold:RL},tM=e=>_(e)&&Yt(e).length>100?" removed due to size":JSON.stringify(e,null,2),RI=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:J("... (only showing first ten failures)")}]):e;return Fe(n,r=>"Failed path: ("+r.path.join(" > ")+`)
`+r.getErrorInfo())},LS=(e,n)=>uc.serror([{path:e,getErrorInfo:n}]),AZ=(e,n,r)=>LS(e,()=>'Could not find valid *required* value for "'+n+'" in '+tM(r)),MZ=(e,n)=>LS(e,()=>'Choice schema did not contain choice key: "'+n+'"'),EZ=(e,n,r)=>LS(e,()=>'The chosen schema: "'+r+'" did not exist in branches: '+tM(n)),_Z=(e,n)=>LS(e,J(n)),LI=(e,n,r,f)=>wn(r,f).fold(()=>EZ(e,r,f),B=>B.extract(e.concat(["branch: "+f]),n)),RZ=(e,n)=>({extract:(w,B)=>wn(B,e).fold(()=>MZ(w,e),oe=>LI(w,B,n,oe)),toString:()=>"chooseOn("+e+"). Possible values: "+Yt(n)}),DI=(e,n)=>n,LZ=(e,n)=>$(e)&&$(n)?DS(e,n):n,LL=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const r={};for(let f=0;f<n.length;f++){const w=n[f];for(const B in w)lt(w,B)&&(r[B]=e(r[B],w[B]))}return r},DS=LL(LZ),DZ=LL(DI),$I=()=>({tag:"required",process:{}}),$Z=e=>({tag:"defaultedThunk",process:e}),DL=e=>$Z(J(e)),OZ=()=>({tag:"option",process:{}}),PZ=(e,n)=>e.length>0?uc.svalue(DS(n,DZ.apply(void 0,e))):uc.svalue(n),$L=e=>P(uc.serror,Re)(e),OI={consolidateObj:(e,n)=>{const r=uc.partition(e);return r.errors.length>0?$L(r.errors):PZ(r.values,n)},consolidateArr:e=>{const n=uc.partition(e);return n.errors.length>0?$L(n.errors):uc.svalue(n.values)}},IZ=(e,n,r,f)=>({tag:"field",key:e,newKey:n,presence:r,prop:f}),NZ=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),PI=(e,n,r)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return r(e.newKey,e.instantiator)}},nM=e=>{const n=(f,w)=>uc.bindError(e(w),B=>_Z(f,B)),r=J("val");return{extract:n,toString:r}},II=nM(uc.svalue),FZ=(e,n,r,f)=>wn(n,r).fold(()=>AZ(e,r,n),f),NI=(e,n,r,f)=>{const w=wn(e,n).getOrThunk(()=>r(e));return f(w)},BZ=(e,n,r)=>r(wn(e,n)),HZ=(e,n,r,f)=>{const w=wn(e,n).map(B=>B===!0?r(e):B);return f(w)},zZ=(e,n,r,f,w)=>{const B=oe=>w.extract(n.concat([f]),oe),Z=oe=>oe.fold(()=>uc.svalue(X.none()),be=>{const Pe=w.extract(n.concat([f]),be);return uc.map(Pe,X.some)});switch(e.tag){case"required":return FZ(n,r,f,B);case"defaultedThunk":return NI(r,f,e.process,B);case"option":return BZ(r,f,Z);case"defaultedOptionThunk":return HZ(r,f,e.process,Z);case"mergeWithThunk":return NI(r,f,J({}),oe=>{const be=DS(e.process(r),oe);return B(be)})}},VZ=(e,n,r)=>{const f={},w=[];for(const B of r)PI(B,(Z,oe,be,Pe)=>{const Ke=zZ(be,e,n,Z,Pe);uc.fold(Ke,Je=>{w.push(...Je)},Je=>{f[oe]=Je})},(Z,oe)=>{f[Z]=oe(n)});return w.length>0?uc.serror(w):uc.svalue(f)},OL=e=>({extract:(f,w)=>VZ(f,w,e),toString:()=>`obj{
`+Fe(e,w=>PI(w,(B,Z,oe,be)=>B+" -> "+be.toString(),(B,Z)=>"state("+B+")")).join(`
`)+"}"}),FI=e=>({extract:(f,w)=>{const B=Fe(w,(Z,oe)=>e.extract(f.concat(["["+oe+"]"]),Z));return OI.consolidateArr(B)},toString:()=>"array("+e.toString()+")"}),Zee=e=>nM(n=>e(n).fold(uc.serror,uc.svalue)),UZ=(e,n,r)=>{const f=n.extract([e],r);return uc.mapError(f,w=>({input:r,errors:w}))},rM=(e,n,r)=>uc.toResult(UZ(e,n,r)),BI=e=>`Errors: 
`+RI(e.errors).join(`
`)+`

Input object: `+tM(e.input),PL=(e,n)=>RZ(e,pn(n,OL)),WZ=J(II),$S=(e,n)=>nM(r=>{const f=typeof r;return e(r)?uc.svalue(r):uc.serror(`Expected type: ${n} but got: ${f}`)}),HI=$S(F,"number"),oM=$S(C,"string"),GZ=$S(D,"boolean"),IL=$S(R,"function"),Qx=IZ,zI=NZ,NL=e=>Zee(n=>Ve(e,n)?Oc.value(n):Oc.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),VI=(e,n)=>Qx(e,e,$I(),n),UI=e=>VI(e,oM),WI=e=>VI(e,IL),GI=(e,n)=>Qx(e,e,$I(),FI(n)),FL=(e,n)=>Qx(e,e,OZ(),n),aM=e=>FL(e,oM),ZZ=e=>FL(e,IL),jZ=(e,n)=>Qx(e,e,DL(n),WZ()),qx=(e,n,r)=>Qx(e,e,DL(n),r),nl=(e,n)=>qx(e,n,HI),cg=(e,n)=>qx(e,n,oM),ZI=(e,n,r)=>qx(e,n,NL(r)),jI=(e,n)=>qx(e,n,GZ),BL=(e,n)=>qx(e,n,IL),YZ=(e,n,r)=>qx(e,n,FI(r)),KZ=UI("type"),XZ=WI("fetch"),sM=WI("onAction"),e2=BL("onSetup",()=>j),jee=aM("text"),JZ=aM("icon"),QZ=aM("tooltip"),Jh=aM("label"),qZ=jI("active",!1),ej=jI("enabled",!0),HL=jI("primary",!1),tj=e=>jZ("columns",e),py=e=>cg("type",e),YI=OL([KZ,UI("trigger"),nl("minChars",1),tj(1),nl("maxResults",10),ZZ("matches"),XZ,sM,YZ("highlightOn",[],oM)]),nj=e=>rM("Autocompleter",YI,{trigger:e.ch,...e}),zL=[ej,QZ,JZ,jee,e2],KI=[qZ].concat(zL),XI=[BL("predicate",ne),ZI("scope","node",["node","editor"]),ZI("position","selection",["node","selection","line"])],JI=zL.concat([py("contextformbutton"),HL,sM,zI("original",K)]),VL=KI.concat([py("contextformbutton"),HL,sM,zI("original",K)]),UL=zL.concat([py("contextformbutton")]),WL=KI.concat([py("contextformtogglebutton")]),rj=PL("type",{contextformbutton:JI,contextformtogglebutton:VL});OL([py("contextform"),BL("initValue",J("")),Jh,GI("commands",rj),FL("launch",PL("type",{contextformbutton:UL,contextformtogglebutton:WL}))].concat(XI));const oj=e=>{const n=e.ui.registry.getAll().popups,r=pn(n,Z=>nj(Z).fold(oe=>{throw new Error(BI(oe))},K)),f=vt(jn(r,Z=>Z.trigger)),w=Wn(r);return{dataset:r,triggers:f,lookupByTrigger:Z=>ue(w,oe=>oe.trigger===Z)}},aj=(e,n)=>{const r=wb(n.load,50);e.on("keypress compositionend",f=>{f.which!==27&&r.throttle()}),e.on("keydown",f=>{const w=f.which;w===8?r.throttle():w===27&&n.cancelIfNecessary()}),e.on("remove",r.cancel)},sj=e=>{const n=Em(),r=Us(!1),f=n.isSet,w=()=>{f()&&(DU(e),pC(e),r.set(!1),n.clear())},B=Pe=>{f()||(LU(e,Pe.range),n.set({trigger:Pe.trigger,matchLength:Pe.text.length}))},Z=Dt(()=>oj(e)),oe=Pe=>n.get().map(Ke=>Jx(e.dom,e.selection.getRng(),Ke.trigger).bind(Je=>MI(e,Z,Je,Pe))).getOrThunk(()=>xZ(e,Z)),be=Pe=>{oe(Pe).fold(w,Ke=>{B(Ke.context),Ke.lookupData.then(Je=>{n.get().map(at=>{const Rt=Ke.context;at.trigger===Rt.trigger&&(Rt.text.length-at.matchLength>=10?w():(n.set({...at,matchLength:Rt.text.length}),r.get()?qT(e,{lookupData:Je}):(r.set(!0),gC(e,{lookupData:Je}))))})})})};e.addCommand("mceAutocompleterReload",(Pe,Ke)=>{const Je=_(Ke)?Ke.fetchOptions:{};be(Je)}),e.addCommand("mceAutocompleterClose",w),aj(e,{cancelIfNecessary:w,load:be})},qI=Ys().browser.isSafari(),e9=e=>U(jt.fromDom(e)),GL=(e,n)=>{var r;return e.startOffset===0&&e.endOffset===((r=n.textContent)===null||r===void 0?void 0:r.length)},iM=(e,n)=>X.from(e.getParent(n.container(),"details")),lM=(e,n)=>iM(e,n).isSome(),ij=(e,n)=>{const r=X.from(e.getParent(n.startContainer,"details")),f=X.from(e.getParent(n.endContainer,"details"));if(r.isSome()||f.isSome()){const w=r.bind(B=>X.from(e.select("summary",B)[0]));return X.some({startSummary:w,startDetails:r,endDetails:f})}else return X.none()},lj=(e,n)=>Sc(n).exists(r=>r.isEqual(e)),cj=(e,n)=>kf(n).exists(r=>Ja(r.getNode())&&Nc(n,r).exists(f=>f.isEqual(e))||r.isEqual(e)),uj=(e,n)=>n.startSummary.exists(r=>lj(e,r)),fj=(e,n)=>n.startSummary.exists(r=>cj(e,r)),t9=(e,n)=>n.startDetails.exists(r=>Nc(r,e).forall(f=>n.startSummary.exists(w=>!w.contains(e.container())&&w.contains(f.container())))),ZL=(e,n,r)=>r.startDetails.exists(f=>ic(e,n).forall(w=>!f.contains(w.container()))),jL=(e,n)=>{const r=n.getNode();N(r)||e.selection.setCursorLocation(r,n.offset())},YL=(e,n,r)=>{const f=e.dom.getParent(n.container(),"details");if(f&&!f.open){const w=e.dom.select("summary",f)[0];w&&(r?Sc(w):kf(w)).each(Z=>jL(e,Z))}else jL(e,n)},dj=(e,n)=>{const r=be=>be.contains(e.startContainer),f=be=>be.contains(e.endContainer),w=n.startSummary.exists(r),B=n.startSummary.exists(f),Z=n.startDetails.forall(be=>n.endDetails.forall(Pe=>be!==Pe));return(w||B)&&!(w&&B)||Z},n9=(e,n,r)=>{const{dom:f,selection:w}=e,B=e.getBody();if(r==="character"){const Z=In.fromRangeStart(w.getRng()),oe=f.getParent(Z.container(),f.isBlock),be=iM(f,Z),Pe=oe&&f.isEmpty(oe),Ke=O(oe==null?void 0:oe.previousSibling),Je=O(oe==null?void 0:oe.nextSibling);return Pe&&(n?Je:Ke)&&Nh(!n,B,Z).exists(Ht=>lM(f,Ht)&&!li(be,iM(f,Ht)))?!0:Nh(n,B,Z).fold(ne,at=>{const Rt=iM(f,at);if(lM(f,at)&&!li(be,Rt)){if(n||YL(e,at,!1),oe&&Pe){if(n&&Ke)return!0;if(!n&&Je)return!0;YL(e,at,n),e.dom.remove(oe)}return!0}else return!1})}else return!1},hj=(e,n,r,f)=>{const B=e.selection.getRng(),Z=In.fromRangeStart(B),oe=e.getBody();return f==="selection"?dj(B,n):r?fj(Z,n)||ZL(oe,Z,n):uj(Z,n)||t9(Z,n)},cM=(e,n,r)=>ij(e.dom,e.selection.getRng()).fold(()=>n9(e,n,r),f=>hj(e,f,n,r)||n9(e,n,r)),r9=(e,n,r)=>{const f=e.selection,w=f.getNode(),B=f.getRng(),Z=In.fromRangeStart(B);return yc(w)?(r==="selection"&&GL(B,w)||Ak(n,Z,w)?e9(w):e.undoManager.transact(()=>{const oe=f.getSel();let{anchorNode:be,anchorOffset:Pe,focusNode:Ke,focusOffset:Je}=oe??{};const at=()=>{k(be)&&k(Pe)&&k(Ke)&&k(Je)&&(oe==null||oe.setBaseAndExtent(be,Pe,Ke,Je))},Rt=()=>{be=oe==null?void 0:oe.anchorNode,Pe=oe==null?void 0:oe.anchorOffset,Ke=oe==null?void 0:oe.focusNode,Je=oe==null?void 0:oe.focusOffset},Ht=(It,ln)=>{ie(It.childNodes,xn=>{O1(xn)&&ln.appendChild(xn)})},At=e.dom.create("span",{"data-mce-bogus":"1"});Ht(w,At),w.appendChild(At),at(),(r==="word"||r==="line")&&(oe==null||oe.modify("extend",n?"right":"left",r)),!f.isCollapsed()&&GL(f.getRng(),At)?e9(w):(e.execCommand(n?"ForwardDelete":"Delete"),Rt(),Ht(At,w),at()),e.dom.remove(At)}),!0):!1},a0=(e,n,r)=>cM(e,n,r)||qI&&r9(e,n,r)?X.some(j):X.none(),o9=e=>(n,r,f={})=>{const w=n.getBody(),B={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:w,currentTarget:w,eventPhase:Event.AT_TARGET,originalTarget:w,explicitOriginalTarget:w,isTrusted:!1,srcElement:w,cancelable:!1,preventDefault:j,inputType:r},Z=Jp(new InputEvent(e));return n.dispatch(e,{...Z,...B,...f})},OS=o9("input"),KL=o9("beforeinput"),mj=Ys(),gj=mj.os,a9=gj.isMacOS()||gj.isiOS(),pj=mj.browser.isFirefox(),vj=(e,n,r)=>{const f=r.keyCode===Wr.BACKSPACE?"deleteContentBackward":"deleteContentForward",w=e.selection.isCollapsed(),B=w?"character":"selection",Z=oe=>w?oe?"word":"line":"selection";SL([{keyCode:Wr.BACKSPACE,action:Eo(jP,e)},{keyCode:Wr.BACKSPACE,action:Eo(QR,e,!1)},{keyCode:Wr.DELETE,action:Eo(QR,e,!0)},{keyCode:Wr.BACKSPACE,action:Eo(AA,e,!1)},{keyCode:Wr.DELETE,action:Eo(AA,e,!0)},{keyCode:Wr.BACKSPACE,action:Eo(bS,e,n,!1)},{keyCode:Wr.DELETE,action:Eo(bS,e,n,!0)},{keyCode:Wr.BACKSPACE,action:Eo(BC,e,!1)},{keyCode:Wr.DELETE,action:Eo(BC,e,!0)},{keyCode:Wr.BACKSPACE,action:Eo(a0,e,!1,B)},{keyCode:Wr.DELETE,action:Eo(a0,e,!0,B)},...a9?[{keyCode:Wr.BACKSPACE,altKey:!0,action:Eo(a0,e,!1,Z(!0))},{keyCode:Wr.DELETE,altKey:!0,action:Eo(a0,e,!0,Z(!0))},{keyCode:Wr.BACKSPACE,metaKey:!0,action:Eo(a0,e,!1,Z(!1))}]:[{keyCode:Wr.BACKSPACE,ctrlKey:!0,action:Eo(a0,e,!1,Z(!0))},{keyCode:Wr.DELETE,ctrlKey:!0,action:Eo(a0,e,!0,Z(!0))}],{keyCode:Wr.BACKSPACE,action:Eo(qR,e,!1)},{keyCode:Wr.DELETE,action:Eo(qR,e,!0)},{keyCode:Wr.BACKSPACE,action:Eo(hL,e,!1)},{keyCode:Wr.DELETE,action:Eo(hL,e,!0)},{keyCode:Wr.BACKSPACE,action:Eo(kA,e,!1)},{keyCode:Wr.DELETE,action:Eo(kA,e,!0)},{keyCode:Wr.BACKSPACE,action:Eo(ZR,e,!1)},{keyCode:Wr.DELETE,action:Eo(ZR,e,!0)},{keyCode:Wr.BACKSPACE,action:Eo(fL,e,!1)},{keyCode:Wr.DELETE,action:Eo(fL,e,!0)}],r).filter(oe=>e.selection.isEditable()).each(oe=>{r.preventDefault(),KL(e,f).isDefaultPrevented()||(oe(),OS(e,f))})},Yee=(e,n,r)=>Kx([{keyCode:Wr.BACKSPACE,action:Eo(EA,e)},{keyCode:Wr.DELETE,action:Eo(EA,e)},...a9?[{keyCode:Wr.BACKSPACE,altKey:!0,action:Eo(xS,e)},{keyCode:Wr.DELETE,altKey:!0,action:Eo(xS,e)},...r?[{keyCode:pj?224:91,action:Eo(xS,e)}]:[]]:[{keyCode:Wr.BACKSPACE,ctrlKey:!0,action:Eo(xS,e)},{keyCode:Wr.DELETE,ctrlKey:!0,action:Eo(xS,e)}]],n),yj=(e,n)=>{let r=!1;e.on("keydown",f=>{r=f.keyCode===Wr.BACKSPACE,f.isDefaultPrevented()||vj(e,n,f)}),e.on("keyup",f=>{f.isDefaultPrevented()||Yee(e,f,r),r=!1})},Ti=e=>{for(;e;){if(Gr(e)||ir(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},s0=(e,n)=>{const r=e.dom,f=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const B=Ti(n.firstChild);B&&/^(UL|OL|DL)$/.test(B.nodeName)&&n.insertBefore(r.doc.createTextNode(Da),n.firstChild)}const w=r.createRng();if(n.normalize(),n.hasChildNodes()){const B=new es(n,n);let Z=n,oe;for(;oe=B.current();){if(ir(oe)){w.setStart(oe,0),w.setEnd(oe,0);break}if(f[oe.nodeName.toLowerCase()]){w.setStartBefore(oe),w.setEndBefore(oe);break}Z=oe,oe=B.next()}oe||(w.setStart(Z,0),w.setEnd(Z,0))}else Ja(n)?n.nextSibling&&r.isBlock(n.nextSibling)?(w.setStartBefore(n),w.setEndBefore(n)):(w.setStartAfter(n),w.setEndAfter(n)):(w.setStart(n,0),w.setEnd(n,0));e.selection.setRng(w),J1(e,w)},Pf=(e,n)=>{const r=e.getRoot();let f,w=n;for(;w!==r&&w&&e.getContentEditable(w)!=="false";){if(e.getContentEditable(w)==="true"){f=w;break}w=w.parentNode}return w!==r?f:r},uM=e=>X.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),s9=e=>uM(e).fold(J(""),n=>n.nodeName.toUpperCase()),bj=e=>uM(e).filter(n=>yf(jt.fromDom(n))).isSome(),t2=e=>{e.innerHTML='<br data-mce-bogus="1">'},XL=(e,n,r)=>{const f=e.dom;X.from(r.style).map(f.parseStyle).each(be=>{const Ke={...W0(jt.fromDom(n)),...be};f.setStyles(n,Ke)});const w=X.from(r.class).map(be=>be.split(/\s+/)),B=X.from(n.className).map(be=>ue(be.split(/\s+/),Pe=>Pe!==""));Es(w,B,(be,Pe)=>{const Ke=ue(Pe,at=>!Ve(be,at)),Je=[...be,...Ke];f.setAttrib(n,"class",Je.join(" "))});const Z=["style","class"],oe=Cn(r,(be,Pe)=>!Ve(Z,Pe));f.setAttribs(n,oe)},n2=(e,n)=>{if(ac(e).toLowerCase()===n.tagName.toLowerCase()){const f=v1(e);XL(e,n,f)}},JL=(e,n,r,f,w=!0,B,Z)=>{const oe=e.dom,be=e.schema,Pe=ac(e),Ke=r?r.nodeName.toUpperCase():"";let Je=n;const at=be.getTextInlineElements();let Rt;B||Ke==="TABLE"||Ke==="HR"?Rt=oe.create(B||Pe,Z||{}):Rt=r.cloneNode(!1);let Ht=Rt;if(!w)oe.setAttrib(Rt,"style",null),oe.setAttrib(Rt,"class",null);else do if(at[Je.nodeName]){if(Mu(Je)||Eu(Je))continue;const At=Je.cloneNode(!1);oe.setAttrib(At,"id",""),Rt.hasChildNodes()?(At.appendChild(Rt.firstChild),Rt.appendChild(At)):(Ht=At,Rt.appendChild(At))}while((Je=Je.parentNode)&&Je!==f);return n2(e,Rt),t2(Ht),Rt},xj=(e,n)=>e.dom.getParent(n,qn),wj=(e,n,r)=>{let f=n;for(;f&&f!==e&&O(f.nextSibling);){const w=f.parentElement;if(!w||!r(w))return qn(w);f=w}return!1},Cj=(e,n,r)=>!n&&r.nodeName.toLowerCase()===ac(e)&&e.dom.isEmpty(r)&&wj(e.getBody(),r,f=>lt(e.schema.getTextBlockElements(),f.nodeName.toLowerCase())),Sj=(e,n,r)=>{var f,w,B;const Z=n(ac(e)),oe=xj(e,r);oe&&(e.dom.insertAfter(Z,oe),s0(e,Z),((B=(w=(f=r.parentElement)===null||f===void 0?void 0:f.childNodes)===null||w===void 0?void 0:w.length)!==null&&B!==void 0?B:0)>1&&e.dom.remove(r))},Tj=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,i9=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},l9=(e,n)=>{const r=e==null?void 0:e.parentNode;return k(r)&&r.nodeName===n},c9=e=>k(e)&&/^(OL|UL|LI)$/.test(e.nodeName),QL=e=>k(e)&&/^(LI|DT|DD)$/.test(e.nodeName),kj=e=>c9(e)&&c9(e.parentNode),fM=e=>{const n=e.parentNode;return QL(n)?n:e},PS=(e,n,r)=>{let f=e[r?"firstChild":"lastChild"];for(;f&&!Gr(f);)f=f[r?"nextSibling":"previousSibling"];return f===n},qL=e=>le(jn(W0(jt.fromDom(e)),(n,r)=>`${r}: ${n};`),(n,r)=>n+r,""),Aj=(e,n,r,f,w)=>{const B=e.dom,Z=e.selection.getRng(),oe=r.parentNode;if(r===e.getBody()||!oe)return;kj(r)&&(w="LI");const be=QL(f)?qL(f):void 0;let Pe=QL(f)&&be?n(w,{style:qL(f)}):n(w);if(PS(r,f,!0)&&PS(r,f,!1))if(l9(r,"LI")){const Ke=fM(r);B.insertAfter(Pe,Ke),i9(r)?B.remove(Ke):B.remove(r)}else B.replace(Pe,r);else if(PS(r,f,!0))l9(r,"LI")?(B.insertAfter(Pe,fM(r)),Pe.appendChild(B.doc.createTextNode(" ")),Pe.appendChild(r)):oe.insertBefore(Pe,r),B.remove(f);else if(PS(r,f,!1))B.insertAfter(Pe,fM(r)),B.remove(f);else{r=fM(r);const Ke=Z.cloneRange();Ke.setStartAfter(f),Ke.setEndAfter(r);const Je=Ke.extractContents();if(w==="LI"&&Tj(Je,"LI")){const at=ue(Fe(Pe.children,jt.fromDom),he(Yc("br")));Pe=Je.firstChild,B.insertAfter(Je,r),ie(at,Rt=>yh(jt.fromDom(Pe),Rt)),be&&Pe.setAttribute("style",be)}else B.insertAfter(Je,r),B.insertAfter(Pe,r);B.remove(f)}s0(e,Pe)},Mj=e=>{ie(zp(jt.fromDom(e),Ei),n=>{const r=n.dom;r.nodeValue=_e(r.data)})},Kee=(e,n)=>{const r=e.dom.getParent(n,"ol,ul,dl");return r!==null&&e.dom.getContentEditableParent(r)==="false"},eD=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),tD=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,nD=(e,n)=>k(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",Ej=(e,n,r)=>{var f;const w=[];if(!r)return;let B=r;for(;B=B.firstChild;){if(e.isBlock(B))return;Gr(B)&&!n[B.nodeName.toLowerCase()]&&w.push(B)}let Z=w.length;for(;Z--;)B=w[Z],(!B.hasChildNodes()||B.firstChild===B.lastChild&&((f=B.firstChild)===null||f===void 0?void 0:f.nodeValue)===""||eD(e,B))&&e.remove(B)},dM=(e,n,r)=>ir(n)?e?r===1&&n.data.charAt(r-1)===ve?0:r:r===n.data.length-1&&n.data.charAt(r)===ve?n.data.length:r:r,_j=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,dM(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,dM(!1,e.endContainer,e.endOffset)),n},u9=e=>{let n=e;do ir(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},Rj=(e,n,r,f,w)=>{var B,Z;const oe=e.dom,be=(B=Pf(oe,f))!==null&&B!==void 0?B:oe.getRoot();let Pe=oe.getParent(f,oe.isBlock);if(!Pe||!nD(oe,Pe)){if(Pe=Pe||be,!Pe.hasChildNodes()){const Rt=oe.create(n);return n2(e,Rt),Pe.appendChild(Rt),r.setStart(Rt,0),r.setEnd(Rt,0),Rt}let Ke=f;for(;Ke&&Ke.parentNode!==Pe;)Ke=Ke.parentNode;let Je;for(;Ke&&!oe.isBlock(Ke);)Je=Ke,Ke=Ke.previousSibling;const at=(Z=Je==null?void 0:Je.parentElement)===null||Z===void 0?void 0:Z.nodeName;if(Je&&at&&e.schema.isValidChild(at,n.toLowerCase())){const Rt=Je.parentNode,Ht=oe.create(n);for(n2(e,Ht),Rt.insertBefore(Ht,Je),Ke=Je;Ke&&!oe.isBlock(Ke);){const At=Ke.nextSibling;Ht.appendChild(Ke),Ke=At}r.setStart(f,w),r.setEnd(f,w)}}return f},Lj=(e,n)=>{n.normalize();const r=n.lastChild;(!r||Gr(r)&&/^(left|right)$/gi.test(e.getStyle(r,"float",!0)))&&e.add(n,"br")},Xee=(e,n)=>{const r=iT(e);return M(n)?!1:C(r)?Ve(ur.explode(r),n.nodeName.toLowerCase()):r},f9={insert:(e,n)=>{let r,f,w,B,Z=!1;const oe=e.dom,be=e.schema,Pe=be.getNonEmptyElements(),Ke=e.selection.getRng(),Je=ac(e),at=jt.fromDom(Ke.startContainer),Rt=Sd(at,Ke.startOffset),Ht=Rt.exists(er=>Ps(er)&&!Wo(er)),At=Ke.collapsed&&Ht,It=(er,Qr)=>JL(e,r,mr,nr,g4(e),er,Qr),ln=er=>{const Qr=dM(er,r,f);if(ir(r)&&(er?Qr>0:Qr<r.data.length))return!1;if(r.parentNode===mr&&Z&&!er||er&&Gr(r)&&r===mr.firstChild)return!0;if(tD(r,"TABLE")||tD(r,"HR"))return Z&&!er||!Z&&er;const ho=new es(r,mr);ir(r)&&(er&&Qr===0?ho.prev():!er&&Qr===r.data.length&&ho.next());let na;for(;na=ho.current();){if(Gr(na)){if(!na.getAttribute("data-mce-bogus")){const ca=na.nodeName.toLowerCase();if(Pe[ca]&&ca!=="br")return!1}}else if(ir(na)&&!As(na.data))return!1;er?ho.prev():ho.next()}return!0},xn=()=>{let er;return/^(H[1-6]|PRE|FIGURE)$/.test(w)&&Nr!=="HGROUP"?er=It(Je):er=It(),Xee(e,B)&&nD(oe,B)&&oe.isEmpty(mr,void 0,{includeZwsp:!0})?er=oe.split(B,mr):oe.insertAfter(er,mr),s0(e,er),er};Le(oe,Ke).each(er=>{Ke.setStart(er.startContainer,er.startOffset),Ke.setEnd(er.endContainer,er.endOffset)}),r=Ke.startContainer,f=Ke.startOffset;const yn=!!(n&&n.shiftKey),$n=!!(n&&n.ctrlKey);Gr(r)&&r.hasChildNodes()&&!At&&(Z=f>r.childNodes.length-1,r=r.childNodes[Math.min(f,r.childNodes.length-1)]||r,Z&&ir(r)?f=r.data.length:f=0);const nr=Pf(oe,r);if(!nr||Kee(e,r))return;yn||(r=Rj(e,Je,Ke,r,f));let mr=oe.getParent(r,oe.isBlock)||oe.getRoot();B=k(mr==null?void 0:mr.parentNode)?oe.getParent(mr.parentNode,oe.isBlock):null,w=mr?mr.nodeName.toUpperCase():"";const Nr=B?B.nodeName.toUpperCase():"";if(Nr==="LI"&&!$n){const er=B;mr=er,B=er.parentNode,w=Nr}if(Gr(B)&&Cj(e,yn,mr))return Sj(e,It,mr);if(/^(LI|DT|DD)$/.test(w)&&Gr(B)&&oe.isEmpty(mr)){Aj(e,It,B,mr,Je);return}if(!At&&(mr===e.getBody()||!nD(oe,mr)))return;const zn=mr.parentNode;let Nn;if(At)Nn=It(Je),Rt.fold(()=>{di(at,jt.fromDom(Nn))},er=>{Ri(er,jt.fromDom(Nn))}),e.selection.setCursorLocation(Nn,0);else if(rt(mr))Nn=Mn(mr),oe.isEmpty(mr)&&t2(mr),n2(e,Nn),s0(e,Nn);else if(ln(!1))Nn=xn();else if(ln(!0)&&zn){Nn=zn.insertBefore(It(),mr);const er=mu(jt.fromDom(Ke.startContainer))&&Ke.collapsed;s0(e,tD(mr,"HR")||er?Nn:mr)}else{const er=_j(Ke).cloneRange();er.setEndAfter(mr);const Qr=er.extractContents();Mj(Qr),u9(Qr),Nn=Qr.firstChild,oe.insertAfter(Qr,mr),Ej(oe,Pe,Nn),Lj(oe,mr),oe.isEmpty(mr)&&t2(mr),Nn.normalize(),oe.isEmpty(Nn)?(oe.remove(Nn),xn()):(n2(e,Nn),s0(e,Nn))}oe.setAttrib(Nn,"id",""),e.dispatch("NewBlock",{newBlock:Nn})},fakeEventName:"insertParagraph"},Dj=(e,n,r)=>{const f=new es(n,r);let w;const B=e.getNonEmptyElements();for(;w=f.next();)if(B[w.nodeName.toLowerCase()]||ir(w)&&w.length>0)return!0;return!1},d9=(e,n,r)=>{const f=e.dom.createRng();r?(f.setStartBefore(n),f.setEndBefore(n)):(f.setStartAfter(n),f.setEndAfter(n)),e.selection.setRng(f),J1(e,f)},$j=(e,n)=>{const r=e.selection,f=e.dom,w=r.getRng();let B,Z=!1;Le(f,w).each(Rt=>{w.setStart(Rt.startContainer,Rt.startOffset),w.setEnd(Rt.endContainer,Rt.endOffset)});let oe=w.startOffset,be=w.startContainer;if(Gr(be)&&be.hasChildNodes()){const Rt=oe>be.childNodes.length-1;be=be.childNodes[Math.min(oe,be.childNodes.length-1)]||be,Rt&&ir(be)?oe=be.data.length:oe=0}let Pe=f.getParent(be,f.isBlock);const Ke=Pe&&Pe.parentNode?f.getParent(Pe.parentNode,f.isBlock):null,Je=Ke?Ke.nodeName.toUpperCase():"",at=!!(n&&n.ctrlKey);Je==="LI"&&!at&&(Pe=Ke),ir(be)&&oe>=be.data.length&&(Dj(e.schema,be,Pe||f.getRoot())||(B=f.create("br"),w.insertNode(B),w.setStartAfter(B),w.setEndAfter(B),Z=!0)),B=f.create("br"),fw(f,w,B),d9(e,B,Z),e.undoManager.add()},Oj=(e,n)=>{const r=jt.fromTag("br");Ri(jt.fromDom(n),r),e.undoManager.add()},Pj=(e,n)=>{Ij(e.getBody(),n)||gu(jt.fromDom(n),jt.fromTag("br"));const r=jt.fromTag("br");gu(jt.fromDom(n),r),d9(e,r.dom,!1),e.undoManager.add()},hM=e=>Ja(e.getNode()),Ij=(e,n)=>hM(In.after(n))?!0:ic(e,In.after(n)).map(r=>Ja(r.getNode())).getOr(!1),h9=e=>e&&e.nodeName==="A"&&"href"in e,rD=e=>e.fold(ne,h9,h9,ne),oD=e=>{const n=Q(ny,e),r=In.fromRangeStart(e.selection.getRng());return Jd(n,e.getBody(),r).filter(rD)},Nj=(e,n)=>{n.fold(j,Q(Oj,e),Q(Pj,e),j)},Fj={insert:(e,n)=>{const r=oD(e);r.isSome()?r.each(Q(Nj,e)):$j(e,n)},fakeEventName:"insertLineBreak"},m9=(e,n)=>uM(e).filter(r=>n.length>0&&du(jt.fromDom(r),n)).isSome(),Bj=e=>m9(e,m4(e)),Qee=e=>m9(e,kw(e)),If=ed.generate([{br:[]},{block:[]},{none:[]}]),Qh=(e,n)=>Qee(e),g9=e=>(n,r)=>bj(n)===e,aD=(e,n)=>(r,f)=>s9(r)===e.toUpperCase()===n,Hj=e=>{const n=Pf(e.dom,e.selection.getStart());return M(n)},IS=e=>aD("pre",e),zj=()=>aD("summary",!0),mM=e=>(n,r)=>d4(n)===e,Vj=(e,n)=>Bj(e),gM=(e,n)=>n,Uj=e=>{const n=ac(e),r=Pf(e.dom,e.selection.getStart());return k(r)&&e.schema.isValidChild(r.nodeName,n)},sD=e=>{const n=e.selection.getRng(),r=jt.fromDom(n.startContainer),w=Sd(r,n.startOffset).map(B=>Ps(B)&&!Wo(B));return n.collapsed&&w.getOr(!0)},Nf=(e,n)=>(r,f)=>le(e,(B,Z)=>B&&Z(r,f),!0)?X.some(n):X.none(),pM=(e,n)=>cP([Nf([Qh],If.none()),Nf([IS(!0),Hj],If.none()),Nf([zj()],If.br()),Nf([IS(!0),mM(!1),gM],If.br()),Nf([IS(!0),mM(!1)],If.block()),Nf([IS(!0),mM(!0),gM],If.block()),Nf([IS(!0),mM(!0)],If.br()),Nf([g9(!0),gM],If.br()),Nf([g9(!0)],If.block()),Nf([Vj],If.br()),Nf([gM],If.br()),Nf([Uj],If.block()),Nf([sD],If.block())],[e,!!(n&&n.shiftKey)]).getOr(If.none()),vM=(e,n,r)=>{n.selection.isCollapsed()||G_(n),!(k(r)&&KL(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,r),k(r)&&OS(n,e.fakeEventName))},p9=(e,n)=>{const r=()=>vM(Fj,e,n),f=()=>vM(f9,e,n),w=pM(e,n);switch(h4(e)){case"linebreak":w.fold(r,r,j);break;case"block":w.fold(f,f,j);break;case"invert":w.fold(f,r,j);break;default:w.fold(r,f,j);break}},v9=Ys(),Wj=v9.os.isiOS()&&v9.browser.isSafari(),y9=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),lU(e.undoManager),e.undoManager.transact(()=>{p9(e,n)}))},b9=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(ir(n)){const r=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,f=n.data.charAt(e.startOffset-1);return r.test(f)}else return!1},Gj=e=>{let n=X.none();const r=w=>{n=X.some(w.selection.getBookmark()),w.undoManager.add()},f=(w,B)=>{w.undoManager.undo(),n.fold(j,Z=>w.selection.moveToBookmark(Z)),y9(w,B),n=X.none()};e.on("keydown",w=>{w.keyCode===Wr.ENTER&&(Wj&&b9(e.selection.getRng())?r(e):y9(e,w))}),e.on("keyup",w=>{w.keyCode===Wr.ENTER&&n.each(()=>f(e,w))})},x9=(e,n,r)=>{const f=Lr.os.isMacOS()||Lr.os.isiOS();Kx([{keyCode:Wr.END,action:Eo(eI,e,!0)},{keyCode:Wr.HOME,action:Eo(eI,e,!1)},...f?[]:[{keyCode:Wr.HOME,action:Eo(KA,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Wr.END,action:Eo(KA,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Wr.END,action:Eo(JA,e,!0)},{keyCode:Wr.HOME,action:Eo(JA,e,!1)},{keyCode:Wr.END,action:Eo(zA,e,!0,n)},{keyCode:Wr.HOME,action:Eo(zA,e,!1,n)}],r).each(w=>{r.preventDefault()})},w9=(e,n)=>{e.on("keydown",r=>{r.isDefaultPrevented()||x9(e,n,r)})},Zj=e=>{e.on("input",n=>{n.isComposing||Cz(e)})},jj=Ys(),iD=(e,n,r)=>{Kx([{keyCode:Wr.PAGE_UP,action:Eo(zA,e,!1,n)},{keyCode:Wr.PAGE_DOWN,action:Eo(zA,e,!0,n)}],r)},C9=e=>e.stopImmediatePropagation(),S9=e=>e.keyCode===Wr.PAGE_UP||e.keyCode===Wr.PAGE_DOWN,NS=(e,n,r)=>{r&&!e.get()?n.on("NodeChange",C9,!0):!r&&e.get()&&n.off("NodeChange",C9),e.set(r)},Yj=(e,n)=>{if(jj.os.isMacOS())return;const r=Us(!1);e.on("keydown",f=>{S9(f)&&NS(r,e,!0)}),e.on("keyup",f=>{f.isDefaultPrevented()||iD(e,n,f),S9(f)&&r.get()&&(NS(r,e,!1),e.nodeChanged())})},lD=e=>{e.on("beforeinput",n=>{(!e.selection.isEditable()||Oe(n.getTargetRanges(),r=>!M$(e.dom,r)))&&n.preventDefault()})},yM=(e,n)=>{const r=n.container(),f=n.offset();return ir(r)?(r.insertData(f,e),X.some(In(r,f+e.length))):Gb(n).map(w=>{const B=jt.fromText(e);return n.isAtEnd()?gu(w,B):Ri(w,B),In(B.dom,e.length)})},cD=Q(yM,Da),T9=Q(yM," "),qee=(e,n,r)=>o8(e,n,r)?cD(n):T9(n),i0=e=>n=>n.fold(r=>Nc(e.dom,In.before(r)),r=>Sc(r),r=>kf(r),r=>ic(e.dom,In.after(r))),Kj=(e,n,r)=>f=>o8(e,f,r)?cD(n):T9(n),k9=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},Xj=(e,n)=>e.isEditable(e.getParent(n,"summary")),bM=e=>{const n=In.fromRangeStart(e.selection.getRng()),r=jt.fromDom(e.getBody());if(e.selection.isCollapsed()){const f=Q(ny,e),w=In.fromRangeStart(e.selection.getRng());return Jd(f,e.getBody(),w).bind(i0(r)).map(B=>()=>Kj(r,n,e.schema)(B).each(k9(e)))}else return X.none()},A9=e=>{const n=()=>{const r=jt.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const f=In.fromRangeStart(e.selection.getRng());qee(r,f,e.schema).each(k9(e))};return Bo(Lr.browser.isFirefox()&&e.selection.isEditable()&&Xj(e.dom,e.selection.getRng().startContainer),n)},M9=(e,n)=>{SL([{keyCode:Wr.SPACEBAR,action:Eo(bM,e)},{keyCode:Wr.SPACEBAR,action:Eo(A9,e)}],n).each(r=>{n.preventDefault(),KL(e,"insertText",{data:" "}).isDefaultPrevented()||(r(),OS(e,"insertText",{data:" "}))})},Jj=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||M9(e,n)})},E9=e=>z4(e)?[{keyCode:Wr.TAB,action:Eo(wI,e,!0)},{keyCode:Wr.TAB,shiftKey:!0,action:Eo(wI,e,!1)}]:[],Qj=(e,n)=>{Kx([...E9(e)],n).each(r=>{n.preventDefault()})},qj=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||Qj(e,n)})},eY=e=>{if(e.addShortcut("Meta+P","","mcePrint"),sj(e),mp(e))return Us(null);{const n=vG(e);return lD(e),zG(e),vZ(e,n),yj(e,n),Gj(e),Jj(e),Zj(e),qj(e),w9(e,n),Yj(e,n),n}};class _9{constructor(n){this.lastPath=[],this.editor=n;let r;const f=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",w=>{const B=n.selection.getRng(),Z={startContainer:B.startContainer,startOffset:B.startOffset,endContainer:B.endContainer,endOffset:B.endOffset};(w.type==="nodechange"||!Zm(Z,r))&&n.dispatch("SelectionChange"),r=Z}),n.on("contextmenu",()=>{n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const w=n.selection.getStart(!0);w&&ex(n)&&!f.isSameElementPath(w)&&n.dom.isChildOf(w,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",w=>{!w.isDefaultPrevented()&&ex(n)&&(n.selection.getNode().nodeName==="IMG"?Ef.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const r=this.editor.selection;let f;if(this.editor.initialized&&r&&!Nb(this.editor)&&!this.editor.mode.isReadOnly()){const w=this.editor.getBody();f=r.getStart(!0)||w,(f.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(f,w))&&(f=w);const B=[];this.editor.dom.getParent(f,Z=>Z===w?!0:(B.push(Z),!1)),this.editor.dispatch("NodeChange",{...n,element:f,parents:B})}}isSameElementPath(n){let r;const f=this.editor,w=ot(f.dom.getParents(n,fe,f.getBody()));if(w.length===this.lastPath.length){for(r=w.length;r>=0&&w[r]===this.lastPath[r];r--);if(r===-1)return this.lastPath=w,!0}return this.lastPath=w,!1}}const xM=Gg("image"),tY=e=>{const n=e;return X.from(n[xM])},uD=(e,n)=>{const r=e;r[xM]=n},wM=Gg("event"),CM=e=>{const n=e;return X.from(n[wM])},FS=e=>n=>{const r=n;r[wM]=e},R9=(e,n)=>FS(n)(e),L9=FS(0),nY=FS(2),SM=FS(1),oY=(e=>n=>{const r=n;return X.from(r[wM]).exists(f=>f===e)})(0),aY=()=>Object.freeze({length:0,item:e=>null}),TM=Gg("mode"),sY=e=>{const n=e;return X.from(n[TM])},kM=e=>n=>{const r=n;r[TM]=e},D9=(e,n)=>kM(n)(e),$9=kM(0),fD=kM(2),O9=kM(1),P9=e=>n=>{const r=n;return X.from(r[TM]).exists(f=>f===e)},vy=P9(0),I9=P9(1),iY=(e,n)=>({...n,get length(){return n.length},add:(r,f)=>{if(vy(e))if(C(r)){if(!N(f))return n.add(r,f)}else return n.add(r);return null},remove:r=>{vy(e)&&n.remove(r)},clear:()=>{vy(e)&&n.clear()}}),lY=["none","copy","link","move"],cY=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],dD=()=>{const e=new window.DataTransfer;let n="move",r="all";const f={get dropEffect(){return n},set dropEffect(w){Ve(lY,w)&&(n=w)},get effectAllowed(){return r},set effectAllowed(w){oY(f)&&Ve(cY,w)&&(r=w)},get items(){return iY(f,e.items)},get files(){return I9(f)?aY():e.files},get types(){return e.types},setDragImage:(w,B,Z)=>{vy(f)&&(uD(f,{image:w,x:B,y:Z}),e.setDragImage(w,B,Z))},getData:w=>I9(f)?"":e.getData(w),setData:(w,B)=>{vy(f)&&e.setData(w,B)},clearData:w=>{vy(f)&&e.clearData(w)}};return $9(f),f},r2=e=>{const n=dD(),r=sY(e);return fD(e),L9(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,tY(e).each(f=>n.setDragImage(f.image,f.x,f.y)),ie(e.types,f=>{f!=="Files"&&n.setData(f,e.getData(f))}),ie(e.files,f=>n.items.add(f)),CM(e).each(f=>{R9(n,f)}),r.each(f=>{D9(e,f),D9(n,f)}),n},uY=e=>{const n=e.getData("text/html");return n===""?X.none():X.some(n)},N9=(e,n)=>e.setData("text/html",n),hD="x-tinymce/html",AM=J(hD),mD="<!-- "+hD+" -->",fY=e=>mD+e,F9=e=>e.replace(mD,""),B9=e=>e.indexOf(mD)!==-1,dY=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),ete=(e,n)=>{let r="<"+e;const f=jn(n,(w,B)=>B+'="'+km.encodeAllRaw(w)+'"');return f.length&&(r+=" "+f.join(" ")),r+">"},MM=(e,n,r)=>{const f=e.split(/\n\n/),w=ete(n,r),B="</"+n+">",Z=Fe(f,be=>be.split(/\n/).join("<br />")),oe=be=>w+be+B;return Z.length===1?Z[0]:Fe(Z,oe).join("")},H9="%MCEPASTEBIN%",hY=(e,n)=>{const{dom:r,selection:f}=e,w=e.getBody();n.set(f.getRng());const B=r.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},H9);Lr.browser.isFirefox()&&r.setStyle(B,"left",r.getStyle(w,"direction",!0)==="rtl"?65535:-65535),r.bind(B,"beforedeactivate focusin focusout",Z=>{Z.stopPropagation()}),B.focus(),f.select(B,!0)},mY=(e,n)=>{const r=e.dom;if(gD(e)){let f;const w=n.get();for(;f=gD(e);)r.remove(f),r.unbind(f);w&&e.selection.setRng(w)}n.set(null)},gD=e=>e.dom.get("mcepastebin"),gY=e=>k(e)&&e.id==="mcepastebin",pY=e=>{const n=e.dom,r=(Z,oe)=>{Z.appendChild(oe),n.remove(oe,!0)},[f,...w]=ue(e.getBody().childNodes,gY);ie(w,Z=>{r(f,Z)});const B=n.select("div[id=mcepastebin]",f);for(let Z=B.length-1;Z>=0;Z--){const oe=n.create("div");f.insertBefore(oe,B[Z]),r(oe,B[Z])}return f?f.innerHTML:""},z9=e=>e===H9,vY=e=>{const n=Us(null);return{create:()=>hY(e,n),remove:()=>mY(e,n),getEl:()=>gD(e),getHtml:()=>pY(e),getLastRng:n.get}},V9=(e,n)=>(ur.each(n,r=>{x(r,RegExp)?e=e.replace(r,""):e=e.replace(r[0],r[1])}),e),yY=e=>{const n=_h(),r=Yd({},n);let f="";const w=n.getVoidElements(),B=ur.makeMap("script noscript style textarea video audio iframe object"," "),Z=n.getBlockElements(),oe=be=>{const Pe=be.name,Ke=be;if(Pe==="br"){f+=`
`;return}if(Pe!=="wbr"){if(w[Pe]&&(f+=" "),B[Pe]){f+=" ";return}if(be.type===3&&(f+=be.value),!(be.name in n.getVoidElements())){let Je=be.firstChild;if(Je)do oe(Je);while(Je=Je.next)}Z[Pe]&&Ke.next&&(f+=`
`,Pe==="p"&&(f+=`
`))}};return e=V9(e,[/<!\[[^\]]+\]>/g]),oe(r.parse(e)),f},U9=e=>(e=V9(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(r,f,w)=>!f&&!w?" ":Da],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),bY=e=>{let n=0;return()=>e+n++},xY=e=>{const n=e.toLowerCase(),r={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return ur.hasOwn(r,n)?"image/"+r[n]:"image/"+n},Ss=(e,n)=>{const r=Yd({sanitize:bv(e),sandbox_iframes:Vb(e)},e.schema);r.addNodeFilter("meta",w=>{ur.each(w,B=>{B.remove()})});const f=r.parse(n,{forced_root_block:!1,isRootContent:!0});return Uv({validate:!0},e.schema).serialize(f)},W9=(e,n)=>({content:e,cancelled:n}),G9=(e,n,r)=>{const f=e.dom.create("div",{style:"display:none"},n),w=d_(e,f,r);return W9(w.node.innerHTML,w.isDefaultPrevented())},wY=(e,n,r)=>{const f=f_(e,n,r),w=Ss(e,f.content);return e.hasEventListeners("PastePostProcess")&&!f.isDefaultPrevented()?G9(e,w,r):W9(w,f.isDefaultPrevented())},pD=(e,n,r)=>wY(e,n,r),EM=(e,n)=>(e.insertContent(n,{merge:Iw(e),paste:!0}),!0),vD=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),CY=(e,n)=>vD(n)&&Oe(ST(e),r=>ro(n.toLowerCase(),`.${r.toLowerCase()}`)),Z9=(e,n,r)=>(e.undoManager.extra(()=>{r(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),yD=(e,n,r)=>(e.undoManager.extra(()=>{r(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),SY=(e,n,r)=>!e.selection.isCollapsed()&&vD(n)?yD(e,n,r):!1,TY=(e,n,r)=>CY(e,n)?Z9(e,n,r):!1,kY=(e,n)=>{ur.each([SY,TY,EM],r=>!r(e,n,EM))},j9=(e,n,r)=>{r||!wT(e)?EM(e,n):kY(e,n)},AY=bY("mceclip"),MY=e=>{const n=dD();return N9(n,e),fD(n),n},yy=(e,n,r,f,w)=>{const B=pD(e,n,r);if(!B.cancelled){const Z=B.content,oe=()=>j9(e,Z,f);w?KL(e,"insertFromPaste",{dataTransfer:MY(Z)}).isDefaultPrevented()||(oe(),OS(e,"insertFromPaste")):oe()}},_M=(e,n,r,f)=>{const w=r||B9(n);yy(e,F9(n),w,!1,f)},l0=(e,n,r)=>{const f=e.dom.encode(n).replace(/\r\n/g,`
`),w=Ii(f,$4(e)),B=MM(w,ac(e),v1(e));yy(e,B,!1,!0,r)},o2=e=>{const n={};if(e&&e.types)for(let r=0;r<e.types.length;r++){const f=e.types[r];try{n[f]=e.getData(f)}catch{n[f]=""}}return n},c0=(e,n)=>n in e&&e[n].length>0,Y9=e=>c0(e,"text/html")||c0(e,"text/plain"),a2=(e,n)=>{const r=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return k(r)?e.dom.encode(r[1]):void 0},EY=(e,n,r,f)=>{const w=AY(),B=y1(e)&&k(r.name),Z=B?a2(e,r.name):w,oe=B?r.name:void 0,be=n.create(w,r,f,Z,oe);return n.add(be),be},bD=(e,n)=>{Jk(n.uri).each(({data:r,type:f,base64Encoded:w})=>{const B=w?r:btoa(r),Z=n.file,oe=e.editorUpload.blobCache,be=oe.getByData(B,f),Pe=be??EY(e,oe,Z,B);_M(e,`<img src="${Pe.blobUri()}">`,!1,!0)})},xD=e=>e.type==="paste",K9=e=>Promise.all(Fe(e,n=>AV(n).then(r=>({file:n,uri:r})))),wD=e=>{const n=ST(e);return r=>wr(r.type,"image/")&&Oe(n,f=>xY(f)===r.type)},X9=(e,n)=>{const r=n.items?ze(tt(n.items),w=>w.kind==="file"?[w.getAsFile()]:[]):[],f=n.files?tt(n.files):[];return ue(r.length>0?r:f,wD(e))},J9=(e,n,r)=>{const f=xD(n)?n.clipboardData:n.dataTransfer;if(Bb(e)&&f){const w=X9(e,f);if(w.length>0)return n.preventDefault(),K9(w).then(B=>{r&&e.selection.setRng(r),ie(B,Z=>{bD(e,Z)})}),!0}return!1},_Y=e=>{var n,r;return Lr.os.isAndroid()&&((r=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||r===void 0?void 0:r.length)===0},Q9=e=>Wr.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,BS=(e,n,r,f,w)=>{let B=U9(r);const Z=c0(n,AM())||B9(r),oe=!Z&&dY(B),be=vD(B);(z9(B)||!B.length||oe&&!be)&&(f=!0),(f||be)&&(c0(n,"text/plain")&&oe?B=n["text/plain"]:B=yY(B)),!z9(B)&&(f?l0(e,B,w):_M(e,B,Z,w))},CD=(e,n,r)=>{let f;const w=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",B=>{Q9(B)&&!B.isDefaultPrevented()&&(f=B.shiftKey&&B.keyCode===86)}),e.on("paste",B=>{if(B.isDefaultPrevented()||_Y(B))return;const Z=r.get()==="text"||f;f=!1;const oe=o2(B.clipboardData);!Y9(oe)&&J9(e,B,w())||(c0(oe,"text/html")?(B.preventDefault(),BS(e,oe,oe["text/html"],Z,!0)):c0(oe,"text/plain")&&c0(oe,"text/uri-list")?(B.preventDefault(),BS(e,oe,oe["text/plain"],Z,!0)):(n.create(),Ef.setEditorTimeout(e,()=>{const be=n.getHtml();n.remove(),BS(e,oe,be,Z,!1)},0)))})},q9=e=>{const n=w=>wr(w,"webkit-fake-url"),r=w=>wr(w,"data:"),f=w=>{var B;return((B=w.data)===null||B===void 0?void 0:B.paste)===!0};e.parser.addNodeFilter("img",(w,B,Z)=>{if(!Bb(e)&&f(Z))for(const oe of w){const be=oe.attr("src");C(be)&&!oe.attr("data-mce-object")&&be!==Lr.transparentSrc&&(n(be)||!Hb(e)&&r(be))&&oe.remove()}})},RY=(e,n,r)=>{CD(e,n,r),q9(e)},LY=(e,n)=>{n.get()==="text"?(n.set("html"),ek(e,!1)):(n.set("text"),ek(e,!0)),e.focus()},SD=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{LY(e,n)}),e.addCommand("mceInsertClipboardContent",(r,f)=>{f.html&&_M(e,f.html,f.internal,!1),f.text&&l0(e,f.text,!1)})},TD=(e,n,r)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",r),e.setData(AM(),n),!0}catch{return!1}else return!1},eN=(e,n,r,f)=>{TD(e.clipboardData,n.html,n.text)?(e.preventDefault(),f()):r(n.html,f)},kD=e=>(n,r)=>{const{dom:f,selection:w}=e,B=f.create("div",{contenteditable:"false","data-mce-bogus":"all"}),Z=f.create("div",{contenteditable:"true"},n);f.setStyles(B,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),B.appendChild(Z),f.add(e.getBody(),B);const oe=w.getRng();Z.focus();const be=f.createRng();be.selectNodeContents(Z),w.setRng(be),Ef.setEditorTimeout(e,()=>{w.setRng(oe),f.remove(B),r()},0)},AD=e=>({html:fY(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),DY=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),MD=e=>!e.selection.isCollapsed()||DY(e),$Y=e=>n=>{!n.isDefaultPrevented()&&MD(e)&&e.selection.isEditable()&&eN(n,AD(e),kD(e),()=>{if(Lr.browser.isChromium()||Lr.browser.isFirefox()){const r=e.selection.getRng();Ef.setEditorTimeout(e,()=>{e.selection.setRng(r),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},OY=e=>n=>{!n.isDefaultPrevented()&&MD(e)&&eN(n,AD(e),kD(e),j)},PY=e=>{e.on("cut",$Y(e)),e.on("copy",OY(e))},tN=(e,n)=>{var r,f;return xt.getCaretRangeFromPoint((r=n.clientX)!==null&&r!==void 0?r:0,(f=n.clientY)!==null&&f!==void 0?f:0,e.getDoc())},IY=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},HS=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},NY=e=>Oe(e.files,n=>/^image\//.test(n.type)),nN=(e,n,r,f)=>{const w=e.getParent(r,Z=>pa(n,Z));if(!O(e.getParent(r,"summary")))return!0;if(w&&lt(f,"text/html")){const Z=new DOMParser().parseFromString(f["text/html"],"text/html").body;return!O(Z.querySelector(w.nodeName.toLowerCase()))}else return!1},FY=e=>{e.on("input",n=>{const r=f=>O(f.querySelector("summary"));if(n.inputType==="deleteByDrag"){const f=ue(e.dom.select("details"),r);ie(f,w=>{Ja(w.firstChild)&&w.firstChild.remove();const B=e.dom.create("summary");B.appendChild(ec().dom),w.prepend(B)})}})},ED=(e,n)=>{L4(e)&&e.on("dragend dragover draggesture dragdrop drop drag",r=>{r.preventDefault(),r.stopPropagation()}),Bb(e)||e.on("drop",r=>{const f=r.dataTransfer;f&&NY(f)&&r.preventDefault()}),e.on("drop",r=>{if(r.isDefaultPrevented())return;const f=tN(e,r);if(M(f))return;const w=o2(r.dataTransfer),B=c0(w,AM());if((!Y9(w)||IY(w))&&J9(e,r,f))return;const Z=w[AM()],oe=Z||w["text/html"]||w["text/plain"],be=nN(e.dom,e.schema,f.startContainer,w),Pe=n.get();Pe&&!be||oe&&(r.preventDefault(),Ef.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(Z||Pe&&be)&&e.execCommand("Delete"),HS(e,f);const Ke=U9(oe);w["text/html"]?_M(e,Ke,B,!0):l0(e,Ke,!0)})}))}),e.on("dragstart",r=>{n.set(!0)}),e.on("dragover dragend",r=>{Bb(e)&&!n.get()&&(r.preventDefault(),HS(e,tN(e,r))),r.type==="dragend"&&n.set(!1)}),FY(e)},rN=e=>{const n=w=>B=>{w(e,B)},r=D4(e);R(r)&&e.on("PastePreProcess",n(r));const f=xT(e);R(f)&&e.on("PastePostProcess",n(f))},BY=(e,n)=>{e.on("PastePreProcess",r=>{r.content=n(e,r.content,r.internal)})},HY=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,oN=e=>ur.trim(e).replace(HY,Xp).toLowerCase(),zY=(e,n,r)=>{const f=Ow(e);if(r||f==="all"||!Pw(e))return n;const w=f?f.split(/[, ]/):[];if(w&&f!=="none"){const B=e.dom,Z=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(oe,be,Pe,Ke)=>{const Je=B.parseStyle(B.decode(Pe)),at={};for(let Ht=0;Ht<w.length;Ht++){const At=Je[w[Ht]];let It=At,ln=B.getStyle(Z,w[Ht],!0);/color/.test(w[Ht])&&(It=oN(It),ln=oN(ln)),ln!==It&&(at[w[Ht]]=At)}const Rt=B.serializeStyle(at,"span");return Rt?be+' style="'+Rt+'"'+Ke:be+Ke})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(B,Z,oe,be)=>Z+' style="'+oe+'"'+be),n},VY=e=>{(Lr.browser.isChromium()||Lr.browser.isSafari())&&BY(e,zY)},aN=e=>{const n=Us(!1),r=Us(Nw(e)?"text":"html"),f=vY(e);VY(e),SD(e,r),rN(e),e.on("PreInit",()=>{PY(e),ED(e,n),RY(e,f,r)})},UY=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},WY=e=>{e.parser.addNodeFilter("details",n=>{const r=fl(e);ie(n,f=>{r==="expanded"?f.attr("open","open"):r==="collapsed"&&f.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const r=l$(e);ie(n,f=>{r==="expanded"?f.attr("open","open"):r==="collapsed"&&f.attr("open",null)})})},GY=e=>{UY(e),WY(e)},ZY=Ja,sN=ir,jY=e=>fa(e.dom),YY=e=>wl(e.dom),RM=e=>n=>Ba(jt.fromDom(e),n),iN=(e,n,r)=>Xc(jt.fromDom(e),f=>YY(f)||r.isBlock(La(f)),RM(n)).getOr(jt.fromDom(n)).dom,lN=(e,n)=>Xc(jt.fromDom(e),jY,RM(n)),cN=(e,n,r)=>{const f=new es(e,n),w=r?f.next.bind(f):f.prev.bind(f);let B=e;for(let Z=r?e:w();Z&&!ZY(Z);Z=w())fo(Z)&&(B=Z);return B},KY=(e,n,r)=>{const w=In.fromRangeStart(e).getNode(),B=iN(w,n,r),Z=cN(w,B,!1),oe=cN(w,B,!0),be=document.createRange();return lN(Z,B).fold(()=>{sN(Z)?be.setStart(Z,0):be.setStartBefore(Z)},Pe=>be.setStartBefore(Pe.dom)),lN(oe,B).fold(()=>{sN(oe)?be.setEnd(oe,oe.data.length):be.setEndAfter(oe)},Pe=>be.setEndAfter(Pe.dom)),be},XY=e=>{const n=KY(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(Tx(n))},JY=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),XY(e))})};var s2;(function(e){e.Before="before",e.After="after"})(s2||(s2={}));const QY=(e,n)=>Math.abs(e.left-n),LM=(e,n)=>Math.abs(e.right-n),uN=(e,n)=>e>=n.top&&e<=n.bottom,qY=(e,n)=>e.top<n.bottom&&e.bottom>n.top,fN=(e,n)=>{const r=r4(e,n)/Math.min(e.height,n.height);return qY(e,n)&&r>.5},dN=(e,n)=>{const r=ue(e,f=>uN(n,f));return n4(r).fold(()=>[[],e],f=>{const{pass:w,fail:B}=se(e,Z=>fN(Z,f));return[w,B]})},_D=(e,n)=>({node:e.node,position:QY(e,n)<LM(e,n)?s2.Before:s2.After}),eK=(e,n,r)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),DM=(e,n,r)=>{const f=Ke=>fo(Ke.node)?X.some(Ke):Gr(Ke.node)?DM(tt(Ke.node.childNodes),n,r):X.none(),w=(Ke,Je)=>{if(Ke.length>=2){const at=f(Ke[0]).getOr(Ke[0]),Rt=f(Ke[1]).getOr(Ke[1]);if(Math.abs(Je(at,n,r)-Je(Rt,n,r))<2){if(ir(at.node))return X.some(at);if(ir(Rt.node))return X.some(Rt)}}return X.none()},B=(Ke,Je)=>{const at=Xe(Ke,(Rt,Ht)=>Je(Rt,n,r)-Je(Ht,n,r));return w(at,Je).orThunk(()=>Ct(at,f))},[Z,oe]=dN(bP(e),r),{pass:be,fail:Pe}=se(oe,Ke=>Ke.top<r);return B(Z,eK).orThunk(()=>B(Pe,aw)).orThunk(()=>B(be,aw))},tK=(e,n,r,f)=>{const w=(B,Z)=>{const oe=Pe=>Gr(Pe)&&Pe.classList.contains("mce-drag-container"),be=ue(B.dom.childNodes,he(oe));return Z.fold(()=>DM(be,r,f),Pe=>{const Ke=ue(be,Je=>Je!==Pe.dom);return DM(Ke,r,f)}).orThunk(()=>(Ba(B,e)?X.none():gm(B)).bind(Ke=>w(Ke,X.some(B))))};return w(n,X.none())},hN=(e,n,r)=>{const f=jt.fromDom(e),w=mf(f),Z=jt.fromPoint(w,n,r).filter(oe=>Dl(f,oe)).getOr(f);return tK(f,Z,n,r)},mN=(e,n,r)=>hN(e,n,r).filter(f=>Cv(f.node)).map(f=>_D(f,n)),RD=e=>{var n,r;const f=e.getBoundingClientRect(),w=e.ownerDocument,B=w.documentElement,Z=w.defaultView;return{top:f.top+((n=Z==null?void 0:Z.scrollY)!==null&&n!==void 0?n:0)-B.clientTop,left:f.left+((r=Z==null?void 0:Z.scrollX)!==null&&r!==void 0?r:0)-B.clientLeft}},nK=e=>e.inline?RD(e.getBody()):{left:0,top:0},rK=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},oK=e=>{const n=e.getBody(),r=e.getDoc().documentElement,f={left:n.scrollLeft,top:n.scrollTop},w={left:n.scrollLeft||r.scrollLeft,top:n.scrollTop||r.scrollTop};return e.inline?f:w},zS=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const r=RD(e.getContentAreaContainer()),f=oK(e);return{left:n.pageX-r.left+f.left,top:n.pageY-r.top+f.top}}return{left:n.pageX,top:n.pageY}},aK=(e,n,r)=>({pageX:r.left-e.left+n.left,pageY:r.top-e.top+n.top}),sK=(e,n)=>aK(nK(e),rK(e),zS(e,n)),LD=e=>({target:e,srcElement:e}),iK=(e,n,r,f)=>({...n,dataTransfer:f,type:e,...LD(r)}),lK=(e,n,r)=>{const f=ge("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:f,initEvent:f,preventDefault:j,stopImmediatePropagation:j,stopPropagation:j,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:f,initMouseEvent:f,getModifierState:f,dataTransfer:r,...LD(n)}},cK=(e,n)=>{const r=r2(e);return n==="dragstart"?(L9(r),$9(r)):n==="drop"?(nY(r),fD(r)):(SM(r),O9(r)),r},uK=(e,n,r,f)=>{const w=cK(r,e);return N(f)?lK(e,n,w):iK(e,f,n,w)},$M=32,OM=100,VS=8,US=16,gN=fa,fK=o4(gN,wl),dK=(e,n,r)=>gN(r)&&r!==n&&e.isEditable(r.parentElement),tte=(e,n,r)=>M(n)||n===r||e.dom.isChildOf(n,r)?!1:e.dom.isEditable(n),hK=(e,n,r,f)=>{const w=e.dom,B=n.cloneNode(!0);w.setStyles(B,{width:r,height:f}),w.setAttrib(B,"data-mce-selected",null);const Z=w.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return w.setStyles(Z,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:r,height:f}),w.setStyles(B,{margin:0,boxSizing:"border-box"}),Z.appendChild(B),Z},DD=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},i2=(e,n)=>r=>()=>{const f=e==="left"?r.scrollX:r.scrollY;r.scroll({[e]:f+n,behavior:"smooth"})},WS=i2("left",-$M),pN=i2("left",$M),vN=i2("top",-$M),$D=i2("top",$M),mK=(e,n,r,f,w,B,Z,oe,be,Pe,Ke,Je)=>{let at=0,Rt=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+r>w&&(at=n.pageX+r-w),n.pageY+f>B&&(Rt=n.pageY+f-B),e.style.width=r-at+"px",e.style.height=f-Rt+"px";const Ht=be.clientHeight,At=be.clientWidth,It=Z+be.getBoundingClientRect().top,ln=oe+be.getBoundingClientRect().left;Ke.on(xn=>{xn.intervalId.clear(),xn.dragging&&Je&&(Z+VS>=Ht?xn.intervalId.set($D(Pe)):Z-VS<=0?xn.intervalId.set(vN(Pe)):oe+VS>=At?xn.intervalId.set(pN(Pe)):oe-VS<=0?xn.intervalId.set(WS(Pe)):It+US>=window.innerHeight?xn.intervalId.set($D(window)):It-US<=0?xn.intervalId.set(vN(window)):ln+US>=window.innerWidth?xn.intervalId.set(pN(window)):ln-US<=0&&xn.intervalId.set(WS(window)))})},PM=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},yN=(e,n)=>{const r=e.getParent(n.parentNode,e.isBlock);PM(n),r&&r!==e.getRoot()&&e.isEmpty(r)&&U(jt.fromDom(r))},gK=e=>e.button===0,pK=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),bN=(e,n)=>r=>{if(gK(r)){const f=de(n.dom.getParents(r.target),fK).getOr(null);if(k(f)&&dK(n.dom,n.getBody(),f)){const w=n.dom.getPos(f),B=n.getBody(),Z=n.getDoc().documentElement;e.set({element:f,dataTransfer:dD(),dragging:!1,screenX:r.screenX,screenY:r.screenY,maxX:(n.inline?B.scrollWidth:Z.offsetWidth)-2,maxY:(n.inline?B.scrollHeight:Z.offsetHeight)-2,relX:r.pageX-w.x,relY:r.pageY-w.y,width:f.offsetWidth,height:f.offsetHeight,ghost:hK(n,f,f.offsetWidth,f.offsetHeight),intervalId:e4(OM)})}}},vK=(e,n,r)=>{e._selectionOverrides.hideFakeCaret(),mN(e.getBody(),n,r).fold(()=>e.selection.placeCaretAt(n,r),f=>{const w=e._selectionOverrides.showCaret(1,f.node,f.position===s2.Before,!1);w?e.selection.setRng(w):e.selection.placeCaretAt(n,r)})},IM=(e,n,r,f,w)=>{n==="dragstart"&&N9(f,e.dom.getOuterHTML(r));const B=uK(n,r,f,w);return e.dispatch(n,B)},yK=(e,n)=>{const r=l1((w,B)=>vK(n,w,B),0);n.on("remove",r.cancel);const f=e;return w=>e.on(B=>{const Z=Math.max(Math.abs(w.screenX-B.screenX),Math.abs(w.screenY-B.screenY));if(!B.dragging&&Z>10){const oe=IM(n,"dragstart",B.element,B.dataTransfer,w);if(k(oe.dataTransfer)&&(B.dataTransfer=oe.dataTransfer),oe.isDefaultPrevented())return;B.dragging=!0,n.focus()}if(B.dragging){const oe=w.currentTarget===n.getDoc().documentElement,be=pK(B,sK(n,w));DD(B.ghost,n.getBody()),mK(B.ghost,be,B.width,B.height,B.maxX,B.maxY,w.clientY,w.clientX,n.getContentAreaContainer(),n.getWin(),f,oe),r.throttle(w.clientX,w.clientY)}})},bK=e=>{const n=e.getSel();if(k(n)){const f=n.getRangeAt(0).startContainer;return ir(f)?f.parentNode:f}else return null},xK=(e,n)=>r=>{e.on(f=>{var w;if(f.intervalId.clear(),f.dragging){if(tte(n,bK(n.selection),f.element)){const B=(w=n.getDoc().elementFromPoint(r.clientX,r.clientY))!==null&&w!==void 0?w:n.getBody();IM(n,"drop",B,f.dataTransfer,r).isDefaultPrevented()||n.undoManager.transact(()=>{yN(n.dom,f.element),uY(f.dataTransfer).each(oe=>n.insertContent(oe)),n._selectionOverrides.hideFakeCaret()})}IM(n,"dragend",n.getBody(),f.dataTransfer,r)}}),PD(e)},OD=(e,n,r)=>{e.on(f=>{f.intervalId.clear(),f.dragging&&r.fold(()=>IM(n,"dragend",f.element,f.dataTransfer),w=>IM(n,"dragend",f.element,f.dataTransfer,w))}),PD(e)},wK=(e,n)=>r=>OD(e,n,X.some(r)),PD=e=>{e.on(n=>{n.intervalId.clear(),PM(n.ghost)}),e.clear()},CK=e=>{const n=Em(),r=Cs.DOM,f=document,w=bN(n,e),B=yK(n,e),Z=xK(n,e),oe=wK(n,e);e.on("mousedown",w),e.on("mousemove",B),e.on("mouseup",Z),r.bind(f,"mousemove",B),r.bind(f,"mouseup",oe),e.on("remove",()=>{r.unbind(f,"mousemove",B),r.unbind(f,"mouseup",oe)}),e.on("keydown",be=>{be.keyCode===Wr.ESC&&OD(n,e,X.none())})},SK=e=>{const n=w=>{if(!w.isDefaultPrevented()){const B=w.dataTransfer;B&&(Ve(B.types,"Files")||B.files.length>0)&&(w.preventDefault(),w.type==="drop"&&vA(e,"Dropped file type is not supported"))}},r=w=>{mk(e,w.target)&&n(w)},f=()=>{const w=Cs.DOM,B=e.dom,Z=document,oe=e.inline?e.getBody():e.getDoc(),be=["drop","dragover"];ie(be,Pe=>{w.bind(Z,Pe,r),B.bind(oe,Pe,n)}),e.on("remove",()=>{ie(be,Pe=>{w.unbind(Z,Pe,r),B.unbind(oe,Pe,n)})})};e.on("init",()=>{Ef.setEditorTimeout(e,f,0)})},TK=e=>{CK(e),Fb(e)&&SK(e)},kK=e=>{const n=l1(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const r=e.selection.getRng();if(r.collapsed){const f=Ux(e,r,!1);e.selection.setRng(f)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},AK=e=>{e.on("init",()=>{e.on("focusin",n=>{const r=n.target;if(zs(r)){const f=ay(e.getBody(),r),w=fa(f)?f:r;e.selection.getNode()!==w&&Vx(e,w).each(B=>e.selection.setRng(B))}})})},l2=fa,MK=(e,n)=>ay(e.getBody(),n),EK=e=>{const n=e.selection,r=e.dom,f=e.getBody(),w=Ww(e,f,r.isBlock,()=>Vv(e)),B="sel-"+r.uniqueId(),Z="data-mce-selected";let oe;const be=Nr=>k(Nr)&&r.hasClass(Nr,"mce-offscreen-selection"),Pe=Nr=>Nr!==f&&(l2(Nr)||zs(Nr))&&r.isChildOf(Nr,f)&&r.isEditable(Nr.parentNode),Ke=Nr=>{Nr&&n.setRng(Nr)},Je=(Nr,zn,Nn,er=!0)=>e.dispatch("ShowCaret",{target:zn,direction:Nr,before:Nn}).isDefaultPrevented()?null:(er&&n.scrollIntoView(zn,Nr===-1),w.show(Nn,zn)),at=Nr=>{Nr.hasAttribute("data-mce-caret")&&(Mn(Nr),n.scrollIntoView(Nr))},Rt=()=>{e.on("click",zn=>{r.isEditable(zn.target)||(zn.preventDefault(),e.focus())}),e.on("blur NewBlock",$n),e.on("ResizeWindow FullscreenStateChanged",w.reposition),e.on("tap",zn=>{const Nn=zn.target,er=MK(e,Nn);l2(er)?(zn.preventDefault(),Vx(e,er).each(yn)):Pe(Nn)&&Vx(e,Nn).each(yn)},!0),e.on("mousedown",zn=>{const Nn=zn.target;if(Nn!==f&&Nn.nodeName!=="HTML"&&!r.isChildOf(Nn,f)||!oW(e,zn.clientX,zn.clientY))return;$n(),mr();const er=MK(e,Nn);l2(er)?(zn.preventDefault(),Vx(e,er).each(yn)):mN(f,zn.clientX,zn.clientY).each(Qr=>{zn.preventDefault();const ho=Je(1,Qr.node,Qr.position===s2.Before,!1);Ke(ho),xl(er)?er.focus():e.getBody().focus()})}),e.on("keypress",zn=>{Wr.modifierPressed(zn)||l2(n.getNode())&&zn.preventDefault()}),e.on("GetSelectionRange",zn=>{let Nn=zn.range;if(oe){if(!oe.parentNode){oe=null;return}Nn=Nn.cloneRange(),Nn.selectNode(oe),zn.range=Nn}}),e.on("SetSelectionRange",zn=>{zn.range=It(zn.range);const Nn=yn(zn.range,zn.forward);Nn&&(zn.range=Nn)});const Nr=zn=>Gr(zn)&&zn.id==="mcepastebin";e.on("AfterSetSelectionRange",zn=>{const Nn=zn.range,er=Nn.startContainer.parentElement;!At(Nn)&&!Nr(er)&&mr(),be(er)||$n()}),TK(e),kK(e),AK(e)},Ht=Nr=>bt(Nr)||en(Nr)||dn(Nr),At=Nr=>Ht(Nr.startContainer)||Ht(Nr.endContainer),It=Nr=>{const zn=e.schema.getVoidElements(),Nn=r.createRng(),er=Nr.startContainer,Qr=Nr.startOffset,ho=Nr.endContainer,na=Nr.endOffset;return lt(zn,er.nodeName.toLowerCase())?Qr===0?Nn.setStartBefore(er):Nn.setStartAfter(er):Nn.setStart(er,Qr),lt(zn,ho.nodeName.toLowerCase())?na===0?Nn.setEndBefore(ho):Nn.setEndAfter(ho):Nn.setEnd(ho,na),Nn},ln=(Nr,zn)=>{const Nn=jt.fromDom(e.getBody()),er=e.getDoc(),Qr=Jl(Nn,"#"+B).getOrThunk(()=>{const ca=jt.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',er);return ws(ca,"id",B),di(Nn,ca),ca}),ho=r.createRng();Ad(Qr),hs(Qr,[jt.fromText(Da,er),jt.fromDom(zn),jt.fromText(Da,er)]),ho.setStart(Qr.dom.firstChild,1),ho.setEnd(Qr.dom.lastChild,0),$l(Qr,{top:r.getPos(Nr,e.getBody()).y+"px"}),ik(Qr);const na=n.getSel();return na&&(na.removeAllRanges(),na.addRange(ho)),ho},xn=Nr=>{const zn=Nr.cloneNode(!0),Nn=e.dispatch("ObjectSelected",{target:Nr,targetClone:zn});if(Nn.isDefaultPrevented())return null;const er=ln(Nr,Nn.targetClone),Qr=jt.fromDom(Nr);return ie(Vi(jt.fromDom(e.getBody()),`*[${Z}]`),ho=>{Ba(Qr,ho)||Xs(ho,Z)}),r.getAttrib(Nr,Z)||Nr.setAttribute(Z,"1"),oe=Nr,mr(),er},yn=(Nr,zn)=>{if(!Nr)return null;if(Nr.collapsed){if(!At(Nr)){const ho=zn?1:-1,na=Bm(ho,f,Nr),ca=na.getNode(!zn);if(k(ca)){if(Cv(ca))return Je(ho,ca,zn?!na.isAtEnd():!1,!1);if(yt(ca)&&fa(ca.nextSibling)){const ka=r.createRng();return ka.setStart(ca,0),ka.setEnd(ca,0),ka}}const os=na.getNode(zn);if(k(os)){if(Cv(os))return Je(ho,os,zn?!1:!na.isAtEnd(),!1);if(yt(os)&&fa(os.previousSibling)){const ka=r.createRng();return ka.setStart(os,1),ka.setEnd(os,1),ka}}}return null}let Nn=Nr.startContainer,er=Nr.startOffset;const Qr=Nr.endOffset;if(ir(Nn)&&er===0&&l2(Nn.parentNode)&&(Nn=Nn.parentNode,er=r.nodeIndex(Nn),Nn=Nn.parentNode),!Gr(Nn))return null;if(Qr===er+1&&Nn===Nr.endContainer){const ho=Nn.childNodes[er];if(Pe(ho))return xn(ho)}return null},$n=()=>{oe&&oe.removeAttribute(Z),Jl(jt.fromDom(e.getBody()),"#"+B).each(Ua),oe=null},nr=()=>{w.destroy(),oe=null},mr=()=>{w.hide()};return mp(e)||Rt(),{showCaret:Je,showBlockCaretContainer:at,hideFakeCaret:mr,destroy:nr}},xN=(e,n)=>{let r=n;for(let f=e.previousSibling;ir(f);f=f.previousSibling)r+=f.data.length;return r},wN=(e,n,r,f,w)=>{if(ir(r)&&(f<0||f>r.data.length))return[];const B=w&&ir(r)?[xN(r,f)]:[f];let Z=r;for(;Z!==n&&Z.parentNode;)B.push(e.nodeIndex(Z,w)),Z=Z.parentNode;return Z===n?B.reverse():[]},GS=(e,n,r,f,w,B,Z=!1)=>{const oe=wN(e,n,r,f,Z),be=wN(e,n,w,B,Z);return{start:oe,end:be}},CN=(e,n)=>{const r=n.slice(),f=r.pop();return F(f)?le(r,(B,Z)=>B.bind(oe=>X.from(oe.childNodes[Z])),X.some(e)).bind(B=>ir(B)&&(f<0||f>B.data.length)?X.none():X.some({node:B,offset:f})):X.none()},SN=(e,n)=>CN(e,n.start).bind(({node:r,offset:f})=>CN(e,n.end).map(({node:w,offset:B})=>{const Z=document.createRange();return Z.setStart(r,f),Z.setEnd(w,B),Z})),_K=(e,n,r,f=!1)=>GS(e,n,r.startContainer,r.startOffset,r.endContainer,r.endOffset,f),by=(e,n,r)=>{if(n&&e.isEmpty(n)&&!r(n)){const f=n.parentNode;e.remove(n,ir(n.firstChild)&&As(n.firstChild.data)),by(e,f,r)}},xy=(e,n,r,f=!0)=>{const w=n.startContainer.parentNode,B=n.endContainer.parentNode;n.deleteContents(),f&&!r(n.startContainer)&&(ir(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),ir(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),by(e,w,r),w!==B&&by(e,B,r))},NM=(e,n)=>X.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),ID=(e,n,r)=>{const f=e.dynamicPatternsLookup({text:r,block:n});return{...e,blockPatterns:Ob(f).concat(e.blockPatterns),inlinePatterns:xw(f).concat(e.inlinePatterns)}},TN=(e,n,r,f)=>{const w=e.createRng();return w.setStart(n,0),w.setEnd(r,f),w.toString()},RK=e=>/^\s[^\s]/.test(e),ND=(e,n,r)=>{CI(n,0,n).each(w=>{const B=w.container;eM(B,r.start.length,n).each(be=>{const Pe=e.createRng();Pe.setStart(B,0),Pe.setEnd(be.container,be.offset),xy(e,Pe,Ke=>Ke===n)});const Z=jt.fromDom(B),oe=Dc(Z);RK(oe)&&Ol(Z,oe.slice(1))})},LK=(e,n)=>{const r=e.dom,f=n.pattern,w=SN(r.getRoot(),n.range).getOrDie("Unable to resolve path range"),B=(Z,oe)=>{const be=oe.get(Z);return S(be)&&gt(be).exists(Pe=>lt(Pe,"block"))};return NM(e,w).each(Z=>{f.type==="block-format"?B(f.format,e.formatter)&&e.undoManager.transact(()=>{ND(e.dom,Z,f),e.formatter.apply(f.format)}):f.type==="block-command"&&e.undoManager.transact(()=>{ND(e.dom,Z,f),e.execCommand(f.cmd,!1,f.value)})}),!0},DK=e=>Xe(e,(n,r)=>r.start.length-n.start.length),$K=(e,n)=>{const r=DK(e),f=n.replace(Da," ");return de(r,w=>n.indexOf(w.start)===0||f.indexOf(w.start)===0)},FD=(e,n,r,f)=>{var w;const B=e.dom,Z=ac(e);if(!B.is(n,Z))return[];const oe=(w=n.textContent)!==null&&w!==void 0?w:"";return $K(r.blockPatterns,oe).map(be=>ur.trim(oe).length===be.start.length?[]:[{pattern:be,range:GS(B,B.getRoot(),n,0,n,0,f)}]).getOr([])},OK=(e,n)=>{if(n.length===0)return;const r=e.selection.getBookmark();ie(n,f=>LK(e,f)),e.selection.moveToBookmark(r)},kN=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),FM=(e,n)=>{const r=e.createRng();return r.setStartAfter(n.start),r.setEndBefore(n.end),r},AN=(e,n,r)=>{const f=SN(e.getRoot(),r).getOrDie("Unable to resolve path range"),w=f.startContainer,B=f.endContainer,Z=f.endOffset===0?B:B.splitText(f.endOffset),oe=f.startOffset===0?w:w.splitText(f.startOffset),be=oe.parentNode,Pe=Z.parentNode;return{prefix:n,end:Pe.insertBefore(kN(e,n+"-end"),Z),start:be.insertBefore(kN(e,n+"-start"),oe)}},MN=(e,n,r)=>{by(e,e.get(n.prefix+"-end"),r),by(e,e.get(n.prefix+"-start"),r)},BD=e=>e.start.length===0,EN=e=>(n,r)=>{const w=n.data.substring(0,r),B=w.lastIndexOf(e.charAt(e.length-1)),Z=w.lastIndexOf(e);return Z!==-1?Z+e.length:B!==-1?B+1:-1},HD=(e,n,r,f)=>{const w=n.start;return AS(e,f.container,f.offset,EN(w),r).bind(Z=>{var oe,be;const Pe=(be=(oe=r.textContent)===null||oe===void 0?void 0:oe.indexOf(w))!==null&&be!==void 0?be:-1;if(Pe!==-1&&Z.offset>=Pe+w.length){const Je=e.createRng();return Je.setStart(Z.container,Z.offset-w.length),Je.setEnd(Z.container,Z.offset),X.some(Je)}else{const Je=Z.offset-w.length;return kS(Z.container,Je,r).map(at=>{const Rt=e.createRng();return Rt.setStart(at.container,at.offset),Rt.setEnd(Z.container,Z.offset),Rt}).filter(at=>at.toString()===w).orThunk(()=>HD(e,n,r,qd(Z.container,0)))}})},zD=(e,n,r,f,w,B=!1)=>{if(n.start.length===0&&!B){const Z=e.createRng();return Z.setStart(r,f),Z.setEnd(r,f),X.some(Z)}return TS(r,f,w).bind(Z=>HD(e,n,w,Z).bind(be=>{var Pe;if(B){if(be.endContainer===Z.container&&be.endOffset===Z.offset)return X.none();if(Z.offset===0&&((Pe=be.endContainer.textContent)===null||Pe===void 0?void 0:Pe.length)===be.endOffset)return X.none()}return X.some(be)}))},VD=(e,n,r,f)=>{const w=e.dom,B=w.getRoot(),Z=r.pattern,oe=r.position.container,be=r.position.offset;return kS(oe,be-r.pattern.end.length,n).bind(Pe=>{const Ke=GS(w,B,Pe.container,Pe.offset,oe,be,f);if(BD(Z))return X.some({matches:[{pattern:Z,startRng:Ke,endRng:Ke}],position:Pe});{const Je=BM(e,r.remainingPatterns,Pe.container,Pe.offset,n,f),at=Je.getOr({matches:[],position:Pe}),Rt=at.position;return zD(w,Z,Rt.container,Rt.offset,n,Je.isNone()).map(At=>{const It=_K(w,B,At,f);return{matches:at.matches.concat([{pattern:Z,startRng:It,endRng:Ke}]),position:qd(At.startContainer,At.startOffset)}})}})},BM=(e,n,r,f,w,B)=>{const Z=e.dom;return TS(r,f,Z.getRoot()).bind(oe=>{const be=TN(Z,w,r,f);for(let Pe=0;Pe<n.length;Pe++){const Ke=n[Pe];if(!ro(be,Ke.end))continue;const Je=n.slice();Je.splice(Pe,1);const at=VD(e,w,{pattern:Ke,remainingPatterns:Je,position:oe},B);if(at.isNone()&&f>0)return BM(e,n,r,f-1,w,B);if(at.isSome())return at}return X.none()})},HM=(e,n,r)=>{e.selection.setRng(r),n.type==="inline-format"?ie(n.format,f=>{e.formatter.apply(f)}):e.execCommand(n.cmd,!1,n.value)},PK=(e,n,r,f)=>{const w=FM(e.dom,r);xy(e.dom,w,f),HM(e,n,w)},IK=(e,n,r,f,w)=>{const B=e.dom,Z=FM(B,f),oe=FM(B,r);xy(B,oe,w),xy(B,Z,w);const be={prefix:r.prefix,start:r.end,end:f.start},Pe=FM(B,be);HM(e,n,Pe)},_N=(e,n)=>{const r=Gg("mce_textpattern"),f=pe(n,(w,B)=>{const Z=AN(e,r+`_end${w.length}`,B.endRng);return w.concat([{...B,endMarker:Z}])},[]);return pe(f,(w,B)=>{const Z=f.length-w.length-1,oe=BD(B.pattern)?B.endMarker:AN(e,r+`_start${Z}`,B.startRng);return w.concat([{...B,startMarker:oe}])},[])},NK=e=>Xe(e,(n,r)=>r.end.length-n.end.length),FK=(e,n)=>{const r=We(e,f=>Oe(n,w=>f.pattern.start===w.pattern.start&&f.pattern.end===w.pattern.end));return e.length===n.length?r?e:n:e.length>n.length?e:n},RN=(e,n,r,f,w,B)=>{const Z=BM(e,w.inlinePatterns,r,f,n,B).fold(()=>[],be=>be.matches),oe=BM(e,NK(w.inlinePatterns),r,f,n,B).fold(()=>[],be=>be.matches);return FK(Z,oe)},LN=(e,n)=>{if(n.length===0)return;const r=e.dom,f=e.selection.getBookmark(),w=_N(r,n);ie(w,B=>{const Z=r.getParent(B.startMarker.start,r.isBlock),oe=be=>be===Z;BD(B.pattern)?PK(e,B.pattern,B.endMarker,oe):IK(e,B.pattern,B.startMarker,B.endMarker,oe),MN(r,B.endMarker,oe),MN(r,B.startMarker,oe)}),e.selection.moveToBookmark(f)},BK=(e,n)=>{const r=e.selection.getRng();return NM(e,r).map(f=>{var w;const B=Math.max(0,r.startOffset),Z=ID(n,f,(w=f.textContent)!==null&&w!==void 0?w:""),oe=RN(e,f,r.startContainer,B,Z,!0),be=FD(e,f,Z,!0);return be.length>0||oe.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{Ie(e),LN(e,oe),OK(e,be);const Pe=e.selection.getRng(),Ke=TS(Pe.startContainer,Pe.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),Ke.each(Je=>{const at=Je.container;at.data.charAt(Je.offset-1)===Cm&&(at.deleteData(Je.offset-1,1),by(e.dom,at.parentNode,Rt=>Rt===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},HK=(e,n)=>{const r=e.selection.getRng();NM(e,r).map(f=>{const w=Math.max(0,r.startOffset-1),B=TN(e.dom,f,r.startContainer,w),Z=ID(n,f,B),oe=RN(e,f,r.startContainer,w,Z,!1);oe.length>0&&e.undoManager.transact(()=>{LN(e,oe)})})},DN=(e,n,r)=>{for(let f=0;f<e.length;f++)if(r(e[f],n))return!0;return!1},$N=(e,n)=>DN(e,n,(r,f)=>r===f.keyCode&&!Wr.modifierPressed(f)),zK=(e,n)=>DN(e,n,(r,f)=>r.charCodeAt(0)===f.charCode),UD=e=>{const n=[",",".",";",":","!","?"],r=[32],f=()=>Pc(zb(e),O4(e)),w=()=>Hw(e);e.on("keydown",Z=>{if(Z.keyCode===13&&!Wr.modifierPressed(Z)&&e.selection.isCollapsed()){const oe=f();(oe.inlinePatterns.length>0||oe.blockPatterns.length>0||w())&&BK(e,oe)&&Z.preventDefault()}},!0);const B=()=>{if(e.selection.isCollapsed()){const Z=f();(Z.inlinePatterns.length>0||w())&&HK(e,Z)}};e.on("keyup",Z=>{$N(r,Z)&&B()}),e.on("keypress",Z=>{zK(n,Z)&&Ef.setEditorTimeout(e,B)})},VK=e=>{UD(e)},UK=e=>{const n=ur.each,r=Wr.BACKSPACE,f=Wr.DELETE,w=e.dom,B=e.selection,Z=e.parser,oe=Lr.browser,be=oe.isFirefox(),Pe=oe.isChromium()||oe.isSafari(),Ke=Lr.deviceType.isiPhone()||Lr.deviceType.isiPad(),Je=Lr.os.isMacOS()||Lr.os.isiOS(),at=(to,Lo)=>{try{e.getDoc().execCommand(to,!1,String(Lo))}catch{}},Rt=to=>to.isDefaultPrevented(),Ht=()=>{const to=vr=>{const Oo=w.create("body"),Aa=vr.cloneContents();return Oo.appendChild(Aa),B.serializer.serialize(Oo,{format:"html"})},Lo=vr=>{const Oo=to(vr),Aa=w.createRng();Aa.selectNode(e.getBody());const ps=to(Aa);return Oo===ps};e.on("keydown",vr=>{const Oo=vr.keyCode;if(!Rt(vr)&&(Oo===f||Oo===r)&&e.selection.isEditable()){const Aa=e.selection.isCollapsed(),ps=e.getBody();if(Aa&&!Za(jt.fromDom(ps))||!Aa&&!Lo(e.selection.getRng()))return;vr.preventDefault(),e.setContent(""),ps.firstChild&&w.isBlock(ps.firstChild)?e.selection.setCursorLocation(ps.firstChild,0):e.selection.setCursorLocation(ps,0),e.nodeChanged()}})},At=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},It=()=>{e.inline||w.bind(e.getDoc(),"mousedown mouseup",to=>{let Lo;if(to.target===e.getDoc().documentElement)if(Lo=B.getRng(),e.getBody().focus(),to.type==="mousedown"){if(bt(Lo.startContainer))return;B.placeCaretAt(to.clientX,to.clientY)}else B.setRng(Lo)})},ln=()=>{e.on("keydown",to=>{if(!Rt(to)&&to.keyCode===r){if(!e.getBody().getElementsByTagName("hr").length)return;if(B.isCollapsed()&&B.getRng().startOffset===0){const Lo=B.getNode(),vr=Lo.previousSibling;if(Lo.nodeName==="HR"){w.remove(Lo),to.preventDefault();return}vr&&vr.nodeName&&vr.nodeName.toLowerCase()==="hr"&&(w.remove(vr),to.preventDefault())}}})},xn=()=>{Range.prototype.getClientRects||e.on("mousedown",to=>{if(!Rt(to)&&to.target.nodeName==="HTML"){const Lo=e.getBody();Lo.blur(),Ef.setEditorTimeout(e,()=>{Lo.focus()})}})},yn=()=>{const to=vT(e);e.on("click",Lo=>{const vr=Lo.target;/^(IMG|HR)$/.test(vr.nodeName)&&w.isEditable(vr)&&(Lo.preventDefault(),e.selection.select(vr),e.nodeChanged()),vr.nodeName==="A"&&w.hasClass(vr,to)&&vr.childNodes.length===0&&w.isEditable(vr.parentNode)&&(Lo.preventDefault(),B.select(vr))})},$n=()=>{const to=()=>{const vr=w.getAttribs(B.getStart().cloneNode(!1));return()=>{const Oo=B.getStart();Oo!==e.getBody()&&(w.setAttrib(Oo,"style",null),n(vr,Aa=>{Oo.setAttributeNode(Aa.cloneNode(!0))}))}},Lo=()=>!B.isCollapsed()&&w.getParent(B.getStart(),w.isBlock)!==w.getParent(B.getEnd(),w.isBlock);e.on("keypress",vr=>{let Oo;return!Rt(vr)&&(vr.keyCode===8||vr.keyCode===46)&&Lo()?(Oo=to(),e.getDoc().execCommand("delete",!1),Oo(),vr.preventDefault(),!1):!0}),w.bind(e.getDoc(),"cut",vr=>{if(!Rt(vr)&&Lo()){const Oo=to();Ef.setEditorTimeout(e,()=>{Oo()})}})},nr=()=>{e.on("keydown",to=>{if(!Rt(to)&&to.keyCode===r&&B.isCollapsed()&&B.getRng().startOffset===0){const Lo=B.getNode().previousSibling;if(Lo&&Lo.nodeName&&Lo.nodeName.toLowerCase()==="table")return to.preventDefault(),!1}return!0})},mr=()=>{e.on("keydown",to=>{if(Rt(to)||to.keyCode!==Wr.BACKSPACE)return;let Lo=B.getRng();const vr=Lo.startContainer,Oo=Lo.startOffset,Aa=w.getRoot();let ps=vr;if(!(!Lo.collapsed||Oo!==0)){for(;ps.parentNode&&ps.parentNode.firstChild===ps&&ps.parentNode!==Aa;)ps=ps.parentNode;ps.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,ps),Lo=w.createRng(),Lo.setStart(vr,0),Lo.setEnd(vr,0),B.setRng(Lo))}})},Nr=()=>{const to=()=>{at("StyleWithCSS",!1),at("enableInlineTableEditing",!1),mv(e)||at("enableObjectResizing",!1)};w1(e)||e.on("BeforeExecCommand mousedown",to)},zn=()=>{const to=()=>{n(w.select("a:not([data-mce-block])"),Lo=>{var vr;let Oo=Lo.parentNode;const Aa=w.getRoot();if((Oo==null?void 0:Oo.lastChild)===Lo){for(;Oo&&!w.isBlock(Oo);){if(((vr=Oo.parentNode)===null||vr===void 0?void 0:vr.lastChild)!==Oo||Oo===Aa)return;Oo=Oo.parentNode}w.add(Oo,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Lo=>{(Lo.type==="setcontent"||Lo.command==="mceInsertLink")&&to()})},Nn=()=>{e.on("init",()=>{at("DefaultParagraphSeparator",ac(e))})},er=to=>{const Lo=to.getBody(),vr=to.selection.getRng();return vr.startContainer===vr.endContainer&&vr.startContainer===Lo&&vr.startOffset===0&&vr.endOffset===Lo.childNodes.length},Qr=()=>{e.on("keyup focusin mouseup",to=>{!Wr.modifierPressed(to)&&!er(e)&&B.normalize()},!0)},ho=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},na=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},ca=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",to=>{let Lo;to.target.nodeName==="HTML"&&(Lo=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Lo),e.selection.normalize(),e.nodeChanged())}))},os=()=>{Je&&e.on("keydown",to=>{Wr.metaKeyPressed(to)&&!to.shiftKey&&(to.keyCode===37||to.keyCode===39)&&(to.preventDefault(),e.selection.getSel().modify("move",to.keyCode===37?"backward":"forward","lineboundary"))})},ka=()=>{e.on("click",to=>{let Lo=to.target;do if(Lo.tagName==="A"){to.preventDefault();return}while(Lo=Lo.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},ei=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",to=>{to.preventDefault()})})},zl=()=>{Z.addNodeFilter("br",to=>{let Lo=to.length;for(;Lo--;)to[Lo].attr("class")==="Apple-interchange-newline"&&to[Lo].remove()})},as=j,Sr=()=>{if(!be||e.removed)return!1;const to=e.selection.getSel();return!to||!to.rangeCount||to.rangeCount===0},so=()=>{Pe&&(It(),yn(),ei(),At(),Ke&&(na(),ca(),ka())),be&&(xn(),Nr(),ho(),os())},$a=()=>{e.on("drop",to=>{var Lo;const vr=(Lo=to.dataTransfer)===null||Lo===void 0?void 0:Lo.getData("text/html");C(vr)&&/^<img[^>]*>$/.test(vr)&&e.dispatch("dragend",new window.DragEvent("dragend",to))})},ha=()=>{mr(),Ht(),Lr.windowsPhone||Qr(),Pe&&(It(),yn(),Nn(),ei(),nr(),zl(),Ke?(na(),ca(),ka()):At()),be&&(ln(),xn(),$n(),Nr(),zn(),ho(),os(),nr(),$a())};return mp(e)?so():ha(),{refreshContentEditable:as,isHidden:Sr}},WD=Cs.DOM,WK=(e,n)=>{const r=jt.fromDom(e.getBody()),f=qy(Yu(r)),w=jt.fromTag("style");ws(w,"type","text/css"),di(w,jt.fromText(n)),di(f,w),e.on("remove",()=>{Ua(w)})},GK=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,GD=e=>Cn(e,n=>N(n)===!1),ZS=e=>{const n=e.options.get,r=e.editorUpload.blobCache;return GD({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_unsafe_embeds:n("convert_unsafe_embeds"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:GK(e),sandbox_iframes:n("sandbox_iframes"),sanitize:n("xss_sanitization"),validate:!0,blob_cache:r,document:e.getDoc()})},ON=e=>{const n=e.options.get;return GD({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},ZK=e=>{const n=e.options.get;return{...ZS(e),...ON(e),...GD({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},jK=e=>{const n=Yd(ZS(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(r,f)=>{const w=e.dom,B="data-mce-"+f;let Z=r.length;for(;Z--;){const oe=r[Z];let be=oe.attr(f);if(be&&!oe.attr(B)){if(be.indexOf("data:")===0||be.indexOf("blob:")===0)continue;f==="style"?(be=w.serializeStyle(w.parseStyle(be),oe.name),be.length||(be=null),oe.attr(B,be),oe.attr(f,be)):f==="tabindex"?(oe.attr(B,be),oe.attr(f,null)):oe.attr(B,e.convertURL(be,f,oe.name))}}}),n.addNodeFilter("script",r=>{let f=r.length;for(;f--;){const w=r[f],B=w.attr("type")||"no/type";B.indexOf("mce-")!==0&&w.attr("type","mce-"+B)}}),Bw(e)&&n.addNodeFilter("#cdata",r=>{var f;let w=r.length;for(;w--;){const B=r[w];B.type=8,B.name="#comment",B.value="[CDATA["+e.dom.encode((f=B.value)!==null&&f!==void 0?f:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",r=>{let f=r.length;const w=e.schema.getNonEmptyElements();for(;f--;){const B=r[f];B.isEmpty(w)&&B.getAll("br").length===0&&B.append(new Hc("br",1))}}),n},YK=e=>{const n=yT(e);n&&Ef.setEditorTimeout(e,()=>{let r;n===!0?r=e:r=e.editorManager.get(n),r&&!r.destroyed&&(r.focus(),r.selection.scrollIntoView())},100)},KK=e=>{const n=e.dom.getRoot();!e.inline&&(!ex(e)||e.selection.getStart(!0)===n)&&Sc(n).each(r=>{const f=r.getNode(),w=yu(f)?Sc(f).getOr(r):r;e.selection.setRng(w.toRange())})},XK=e=>{e.bindPendingEventDelegates(),e.initialized=!0,G1(e),e.focus(!0),KK(e),e.nodeChanged({initial:!0});const n=E4(e);R(n)&&n.call(e,e),YK(e)},ZD=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,JK=(e,n,r)=>{const{pass:f,fail:w}=se(n,oe=>tinymce.Resource.has(DR(oe))),Z=[...f.map(oe=>{const be=tinymce.Resource.get(DR(oe));return C(be)?Promise.resolve(ZD(e).loadRawCss(oe,be)):Promise.resolve()}),ZD(e).loadAll(w)];return e.inline?Z:Z.concat([e.ui.styleSheetLoader.loadAll(r)])},PN=e=>{const n=ZD(e),r=uT(e),f=e.contentCSS,w=()=>{n.unloadAll(f),e.inline||e.ui.styleSheetLoader.unloadAll(r)},B=()=>{e.removed?w():e.on("remove",w)};if(e.contentStyles.length>0){let be="";ur.each(e.contentStyles,Pe=>{be+=Pe+`\r
`}),e.dom.addStyle(be)}const Z=Promise.all(JK(e,f,r)).then(B).catch(B),oe=Ib(e);return oe&&WK(e,oe),Z},IN=e=>{const n=e.getDoc(),r=e.getBody();Wm(e),R4(e)||(n.body.spellcheck=!1,WD.setAttrib(r,"spellcheck","false")),e.quirks=UK(e),l_(e);const f=b4(e);f!==void 0&&(r.dir=f);const w=bT(e);w&&e.on("BeforeSetContent",B=>{ur.each(w,Z=>{B.content=B.content.replace(Z,oe=>"<!--mce:protected "+escape(oe)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",B=>{e.composing=B.type==="compositionstart"})},QK=e=>{mp(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},zM=e=>{e.removed!==!0&&(QK(e),XK(e))},qK=e=>{let n=!1;const r=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(r),n=!0,e.setProgressState(!1)}},NN=e=>{const n=e.getElement();let r=e.getDoc();e.inline&&(WD.addClass(n,"mce-content-body"),e.contentDocument=r=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const f=e.getBody();f.disabled=!0,e.readonly=w1(e),e._editableRoot=tf(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&WD.getStyle(f,"position",!0)==="static"&&(f.style.position="relative"),f.contentEditable="true"),f.disabled=!1,e.editorUpload=CW(e),e.schema=_h(ON(e)),e.dom=Cs(r,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:Oh(e),referrerPolicy:ia(e),onSetAttrib:Z=>{e.dispatch("SetAttrib",Z)},force_hex_color:xv(e)}),e.parser=jK(e),e.serializer=SO(ZK(e),e),e.selection=Xv(e.dom,e.getWin(),e.serializer,e),e.annotator=uC(e),e.formatter=dy(e),e.undoManager=uS(e),e._nodeChangeDispatcher=new _9(e),e._selectionOverrides=EK(e),YP(e),GY(e),Pee(e),mp(e)||(JY(e),VK(e));const w=eY(e);GA(e,w),JP(e),TW(e),aN(e);const B=yU(e);IN(e),B.fold(()=>{const Z=qK(e);PN(e).then(()=>{zM(e),Z()})},Z=>{e.setProgressState(!0),PN(e).then(()=>{Z().then(oe=>{e.setProgressState(!1),zM(e),AR(e)},oe=>{e.notificationManager.open({type:"error",text:String(oe)}),zM(e),AR(e)})})})},FN=fe,jS=(e,n,r)=>xh(e,n,FN,r),jD=Cs.DOM,BN=(e,n,r,f)=>{const w=jt.fromTag("iframe");return f.each(B=>ws(w,"tabindex",B)),Kc(w,r),Kc(w,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),hh(w,"tox-edit-area__iframe"),w},eX=e=>{let n=sT(e)+"<html><head>";Cw(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const r=Sw(e),f=f4(e),w=e.translate(M4(e));return Tw(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+Tw(e)+'" />'),n+=`</head><body id="${r}" class="mce-content-body ${f}" data-id="${e.id}" aria-label="${w}"><br></body></html>`,n},tX=(e,n)=>{const r=e.translate("Rich Text Area"),f=Yl(jt.fromDom(e.getElement()),"tabindex").bind(Bt),w=BN(e.id,r,ww(e),f).dom;w.onload=()=>{w.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=w,e.iframeHTML=eX(e),jD.add(n.iframeContainer,w)},nX=e=>{const n=e.iframeElement,r=()=>{e.contentDocument=n.contentDocument,NN(e)};if(N4(e)||Lr.browser.isFirefox()){const f=e.getDoc();f.open(),f.write(e.iframeHTML),f.close(),r()}else{const f=jS(jt.fromDom(n),"load",()=>{f.unbind(),r()});n.srcdoc=e.iframeHTML}},rX=(e,n)=>{tX(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=jD.isHidden(n.editorContainer)),e.getElement().style.display="none",jD.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,nX(e)},YD=Cs.DOM,oX=(e,n,r)=>{const f=uy.get(r),w=uy.urls[r]||e.documentBaseUrl.replace(/\/$/,"");if(r=ur.trim(r),f&&ur.inArray(n,r)===-1){if(e.plugins[r])return;try{const B=f(e,w)||{};e.plugins[r]=B,R(B.init)&&(B.init(e,w),n.push(r))}catch(B){PO(e,r,B)}}},HN=e=>e.replace(/^\-/,""),aX=e=>{const n=[];ie(C1(e),r=>{oX(e,n,HN(r))})},sX=e=>{const n=ur.trim(Aw(e)),r=e.ui.registry.getAll().icons,f={...sS.get("default").icons,...sS.get(n).icons};Ft(f,(w,B)=>{lt(r,B)||e.ui.registry.addIcon(B,w)})},iX=e=>{const n=gv(e);if(C(n)){const r=gp.get(n);e.theme=r(e,gp.urls[n])||{},R(e.theme.init)&&e.theme.init(e,gp.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},lX=e=>{const n=Lw(e),r=fd.get(n);e.model=r(e,fd.urls[n])},cX=e=>{const n=e.theme.renderUI;return n?n():VN(e)},uX=e=>{const n=e.getElement(),f=gv(e)(e,n);return f.editorContainer.nodeType&&(f.editorContainer.id=f.editorContainer.id||e.id+"_parent"),f.iframeContainer&&f.iframeContainer.nodeType&&(f.iframeContainer.id=f.iframeContainer.id||e.id+"_iframecontainer"),f.height=f.iframeHeight?f.iframeHeight:n.offsetHeight,f},zN=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),fX=e=>{const n=YD.create("div");return YD.insertAfter(n,e),zN(n,n)},VN=e=>{const n=e.getElement();return e.inline?zN(null):fX(n)},UN=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,C(gv(e))?cX(e):R(gv(e))?uX(e):VN(e)},KD=(e,n)=>{const r={show:X.from(n.show).getOr(j),hide:X.from(n.hide).getOr(j),isEnabled:X.from(n.isEnabled).getOr(fe),setEnabled:f=>{e.mode.isReadOnly()||X.from(n.setEnabled).each(w=>w(f))}};e.ui={...e.ui,...r}},WN=async e=>{e.dispatch("ScriptsLoaded"),sX(e),iX(e),lX(e),aX(e);const n=await UN(e);KD(e,X.from(n.api).getOr({})),e.editorContainer=n.editorContainer,hW(e),e.inline?NN(e):rX(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},u0=Cs.DOM,GN=e=>e.charAt(0)==="-",dX=(e,n)=>{const r=Ew(n),f=sc(n);if(!Cf.hasCode(r)&&r!=="en"){const w=St(f)?f:`${n.editorManager.baseURL}/langs/${r}.js`;e.add(w).catch(()=>{lS(n,w,r)})}},hX=(e,n)=>{const r=gv(e);if(C(r)&&!GN(r)&&!lt(gp.urls,r)){const f=C4(e),w=f?e.documentBaseURI.toAbsolute(f):`themes/${r}/theme${n}.js`;gp.load(r,w).catch(()=>{cW(e,w,r)})}},ZN=(e,n)=>{const r=Lw(e);if(r!=="plugin"&&!lt(fd.urls,r)){const f=dT(e),w=C(f)?e.documentBaseURI.toAbsolute(f):`models/${r}/model${n}.js`;fd.load(r,w).catch(()=>{OO(e,w,r)})}},jN=e=>X.from(Xg(e)).filter(St).map(n=>({url:n,name:X.none()})),YN=(e,n,r)=>X.from(n).filter(f=>St(f)&&!sS.has(f)).map(f=>({url:`${e.editorManager.baseURL}/icons/${f}/icons${r}.js`,name:X.some(f)})),mX=(e,n,r)=>{const f=YN(n,"default",r),w=jN(n).orThunk(()=>YN(n,Aw(n),""));ie(Rs([f,w]),B=>{e.add(B.url).catch(()=>{lW(n,B.url,B.name.getOrUndefined())})})},XD=(e,n)=>{const r=(f,w)=>{uy.load(f,w).catch(()=>{_ee(e,w,f)})};Ft(Om(e),(f,w)=>{r(w,f),e.options.set("plugins",C1(e).concat(w))}),ie(C1(e),f=>{f=ur.trim(f),f&&!uy.urls[f]&&!GN(f)&&r(f,`plugins/${f}/plugin${n}.js`)})},VM=e=>{const n=gv(e);return!C(n)||k(gp.get(n))},UM=e=>{const n=Lw(e);return k(fd.get(n))},yp=(e,n)=>{const r=Ni.ScriptLoader,f=()=>{!e.removed&&VM(e)&&UM(e)&&WN(e)};hX(e,n),ZN(e,n),dX(r,e),mX(r,e,n),XD(e,n),r.loadQueue().then(f,f)},WM=(e,n)=>G2.forElement(e,{contentCssCors:vv(n),referrerPolicy:ia(n)}),c2=e=>{const n=e.id;Cf.setCode(Ew(e));const r=()=>{u0.unbind(window,"ready",r),e.render()};if(!eu.Event.domLoaded){u0.bind(window,"ready",r);return}if(!e.getElement())return;const f=jt.fromDom(e.getElement()),w=Mg(f);e.on("remove",()=>{we(f.dom.attributes,Z=>Xs(f,Z.name)),Kc(f,w)}),e.ui.styleSheetLoader=WM(f,e),Dw(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const B=e.getElement().form||u0.getParent(n,"form");B&&(e.formElement=B,T4(e)&&!Vp(e.getElement())&&(u0.insertAfter(u0.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=Z=>{e.dispatch(Z.type,Z)},u0.bind(B,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),pT(e)&&!B.submit.nodeType&&!B.submit.length&&!B._mceOldSubmit&&(B._mceOldSubmit=B.submit,B.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),B._mceOldSubmit(B)))),e.windowManager=$O(e),e.notificationManager=LR(e),H4(e)&&e.on("GetContent",Z=>{Z.save&&(Z.content=u0.encode(Z.content))}),Nd(e)&&e.on("submit",()=>{e.initialized&&e.save()}),b1(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),yp(e,e.suffix)},KN=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),h_(e,n))},gX=e=>e._editableRoot,pX=(e,n)=>({sections:J(e),options:J(n)}),JD=Ys().deviceType,XN=JD.isPhone(),QD=JD.isTablet(),f0=e=>{if(M(e))return[];{const n=S(e)?e:e.split(/[ ,]/),r=Fe(n,Cr);return ue(r,St)}},d0=(e,n)=>{const r=an(n,(f,w)=>Ve(e,w));return pX(r.t,r.f)},wy=(e,n,r={})=>{const f=e.sections(),w=wn(f,n).getOr({});return ur.extend({},r,w)},GM=(e,n)=>lt(e.sections(),n),vX=(e,n)=>GM(e,n)?e.sections()[n]:{},yX=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:wn(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),bX=(e,n)=>{var r;const f=(r=n.external_plugins)!==null&&r!==void 0?r:{};return e&&e.external_plugins?ur.extend({},e.external_plugins,f):f},xX=(e,n)=>[...f0(e),...f0(n)],wX=(e,n,r,f)=>e&&GM(n,"mobile")?f:r,CX=(e,n,r,f)=>{const w=f0(r.forced_plugins),B=f0(f.plugins),Z=vX(n,"mobile"),oe=Z.plugins?f0(Z.plugins):B,be=wX(e,n,B,oe),Pe=xX(w,be);return ur.extend(f,{forced_plugins:w,plugins:Pe})},JN=(e,n)=>e&&GM(n,"mobile"),SX=(e,n,r,f,w)=>{var B;const Z=e?{mobile:yX((B=w.mobile)!==null&&B!==void 0?B:{},n)}:{},oe=d0(["mobile"],DS(Z,w)),be=ur.extend(r,f,oe.options(),JN(e,oe)?wy(oe,"mobile"):{},{external_plugins:bX(f,oe.options())});return CX(e,oe,f,be)},TX=(e,n)=>SX(XN||QD,XN,n,e,n),kX=(e,n)=>RU(e,n),nte=e=>{const n=(f,w)=>{e.formatter.toggle(f,w),e.nodeChanged()},r=f=>()=>{ie("left,center,right,justify".split(","),w=>{f!==w&&e.formatter.remove("align"+w)}),f!=="none"&&n("align"+f)};e.editorCommands.addCommands({JustifyLeft:r("left"),JustifyCenter:r("center"),JustifyRight:r("right"),JustifyFull:r("justify"),JustifyNone:r("none")})},AX=e=>{const n=r=>()=>{const f=e.selection,w=f.isCollapsed()?[e.dom.getParent(f.getNode(),e.dom.isBlock)]:f.getSelectedBlocks();return Oe(w,B=>k(e.formatter.matchNode(B,r)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},qD=e=>{nte(e),AX(e)},MX=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const r=e.getDoc();let f;try{r.execCommand(n)}catch{f=!0}if(n==="paste"&&!r.queryCommandEnabled(n)&&(f=!0),f||!r.queryCommandSupported(n)){let w=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Lr.os.isMacOS()||Lr.os.isiOS())&&(w=w.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:w,type:"error"})}}})},EX=(e,n,r,f)=>{const w=jt.fromDom(e.getRoot());return yx(w,In.fromRangeStart(n),f)?r=r.replace(/^ /,"&nbsp;"):r=r.replace(/^&nbsp;/," "),bx(w,In.fromRangeEnd(n),f)?r=r.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):r=r.replace(/&nbsp;(<br( \/)?>)?$/," "),r},QN=e=>{if(typeof e!="string"){const n=ur.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},_X=(e,n)=>{const r=e.selection,f=e.dom;return/^ | $/.test(n)?EX(f,r.getRng(),n,e.schema):n},YS=(e,n)=>{if(e.selection.isEditable()){const{content:r,details:f}=QN(n);oR(e,{...f,content:_X(e,r),format:"html",set:!1,selection:!0}).each(w=>{const B=EU(e,w.content,f);oA(e,B,w),e.addVisual()})}},RX=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,r,f)=>{YS(e,e.dom.createHTML("img",{src:f}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,r,f)=>{YS(e,e.dom.encode(f))},insertHTML:(n,r,f)=>{YS(e,f)},mceInsertContent:(n,r,f)=>{YS(e,f)},mceSetContent:(n,r,f)=>{e.setContent(f)},mceReplaceContent:(n,r,f)=>{e.execCommand("mceInsertContent",!1,f.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(yv(e))}})},e6={"font-size":"size","font-family":"face"},LX=Yc("font"),DX=(e,n,r)=>{const f=B=>_i(B,e).orThunk(()=>LX(B)?wn(e6,e).bind(Z=>Yl(B,Z)):X.none()),w=B=>Ba(jt.fromDom(n),B);return fp(jt.fromDom(r),B=>f(B),w)},$X=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),OX=(e,n)=>X.from(Cs.DOM.getStyle(n,e,!0)),t6=e=>(n,r)=>X.from(r).map(jt.fromDom).filter(sl).bind(f=>DX(e,n,f.dom).or(OX(e,f.dom))).getOr(""),n6=t6("font-size"),qN=P($X,t6("font-family")),r6=e=>Sc(e.getBody()).bind(n=>{const r=n.container();return X.from(ir(r)?r.parentNode:r)}),PX=e=>X.from(e.selection.getRng()).bind(n=>{const r=e.getBody();return n.startContainer===r&&n.startOffset===0?X.none():X.from(e.selection.getStart(!0))}),rte=(e,n)=>PX(e).orThunk(Q(r6,e)).map(jt.fromDom).filter(sl).bind(n),eF=(e,n)=>rte(e,ee(X.some,n)),tF=(e,n)=>{if(/^[0-9.]+$/.test(n)){const r=parseInt(n,10);if(r>=1&&r<=7){const f=F4(e),w=B4(e);return w.length>0?w[r-1]||n:f[r-1]||n}else return n}else return n},nF=e=>{const n=e.split(/\s*,\s*/);return Fe(n,r=>r.indexOf(" ")!==-1&&!(wr(r,'"')||wr(r,"'"))?`'${r}'`:r).join(",")},IX=(e,n)=>{const r=tF(e,n);e.formatter.toggle("fontname",{value:nF(r)}),e.nodeChanged()},NX=e=>eF(e,n=>qN(e.getBody(),n.dom)).getOr(""),FX=(e,n)=>{e.formatter.toggle("fontsize",{value:tF(e,n)}),e.nodeChanged()},ote=e=>eF(e,n=>n6(e.getBody(),n.dom)).getOr(""),ate=e=>eF(e,n=>{const r=jt.fromDom(e.getBody()),f=fp(n,B=>_i(B,"line-height"),Q(Ba,r)),w=()=>{const B=parseFloat(ui(n,"line-height")),Z=parseFloat(ui(n,"font-size"));return String(B/Z)};return f.getOrThunk(w)}).getOr(""),rF=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},oF=e=>{const n=(r,f)=>{e.formatter.toggle(r,f),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":r=>{n(r)},"ForeColor,HiliteColor":(r,f,w)=>{n(r,{value:w})},BackColor:(r,f,w)=>{n("hilitecolor",{value:w})},FontName:(r,f,w)=>{IX(e,w)},FontSize:(r,f,w)=>{FX(e,w)},LineHeight:(r,f,w)=>{rF(e,w)},Lang:(r,f,w)=>{var B;n(r,{value:w.code,customValue:(B=w.customCode)!==null&&B!==void 0?B:null})},RemoveFormat:r=>{e.formatter.remove(r)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(r,f,w)=>{n(C(w)?w:"p")},mceToggleFormat:(r,f,w)=>{n(w)}})},BX=e=>{const n=r=>e.formatter.match(r);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":r=>n(r),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>NX(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>ote(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>ate(e))},HX=e=>{oF(e),BX(e)},zX=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},ste=e=>{e.editorCommands.addCommands({Indent:()=>{GP(e)},Outdent:()=>{ZP(e)}}),e.editorCommands.addCommands({Outdent:()=>zP(e)},"state")},ite=e=>{const n=(r,f,w)=>{const B=C(w)?{href:w}:w,Z=e.dom.getParent(e.selection.getNode(),"a");_(B)&&C(B.href)&&(B.href=B.href.replace(/ /g,"%20"),(!Z||!B.href)&&e.formatter.remove("link"),B.href&&e.formatter.apply("link",B,Z))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const r=e.dom.getParent(e.selection.getStart(),"a");r&&e.dom.remove(r,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},lte=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{e.getDoc().execCommand(n);const r=e.dom.getParent(e.selection.getNode(),"ol,ul");if(r){const f=r.parentNode;if(f&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(f.nodeName)){const w=e.selection.getBookmark();e.dom.split(f,r),e.selection.moveToBookmark(w)}}}})},VX=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{const r=e.dom.getParent(e.selection.getNode(),"ul,ol");return r&&(n==="insertunorderedlist"&&r.tagName==="UL"||n==="insertorderedlist"&&r.tagName==="OL")}},"state")},cte=e=>{lte(e),VX(e)},UX=(e,n,r,f)=>{const w=e.dom,B=oe=>w.isBlock(oe)&&oe.parentElement===r,Z=B(n)?n:w.getParent(f,B,r);return X.from(Z).map(jt.fromDom)},h0=(e,n)=>{const r=e.dom,f=e.selection.getRng(),w=n?e.selection.getStart():e.selection.getEnd(),B=n?f.startContainer:f.endContainer,Z=Pf(r,B);if(!Z||!Z.isContentEditable)return;const oe=n?Ri:gu,be=ac(e);UX(e,w,Z,B).each(Pe=>{const Ke=JL(e,B,Pe.dom,Z,!1,be);oe(Pe,jt.fromDom(Ke)),e.selection.setCursorLocation(Ke,0),e.dispatch("NewBlock",{newBlock:Ke}),OS(e,"insertParagraph")})},o6=e=>h0(e,!0),ZM=e=>h0(e,!1),aF=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{o6(e)},InsertNewBlockAfter:()=>{ZM(e)}})},sF=e=>{e.editorCommands.addCommands({insertParagraph:()=>{vM(f9,e)},mceInsertNewLine:(n,r,f)=>{p9(e,f)},InsertLineBreak:(n,r,f)=>{vM(Fj,e)}})},iF=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,r,f)=>{let w=0;e.dom.getParent(e.selection.getNode(),B=>Gr(B)&&w++===f?(e.selection.select(B),!1):!0,e.getBody())},mceSelectNode:(n,r,f)=>{e.selection.select(f)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),wl);if(n){const r=e.dom.createRng();r.selectNodeContents(n),e.selection.setRng(r)}}})},WX=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,r,f)=>{const w=f??e.selection.getNode();if(w!==e.getBody()){const B=e.selection.getBookmark();e.dom.remove(w,!0),e.selection.moveToBookmark(B)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,r,f)=>{OH(e,f===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},GX=e=>{qD(e),MX(e),zX(e),iF(e),RX(e),ite(e),ste(e),aF(e),sF(e),cte(e),HX(e),WX(e)},ZX=["toggleview"],lF=e=>Ve(ZX,e.toLowerCase());class bp{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,r=!1,f,w){const B=this.editor,Z=n.toLowerCase(),oe=w==null?void 0:w.skip_focus;if(B.removed||(Z!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(Z)&&!oe?B.focus():xH(B)),B.dispatch("BeforeExecCommand",{command:n,ui:r,value:f}).isDefaultPrevented()))return!1;const Pe=this.commands.exec[Z];return R(Pe)?(Pe(Z,r,f),B.dispatch("ExecCommand",{command:n,ui:r,value:f}),!0):!1}queryCommandState(n){if(!lF(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const r=n.toLowerCase(),f=this.commands.state[r];return R(f)?f(r):!1}queryCommandValue(n){if(!lF(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const r=n.toLowerCase(),f=this.commands.value[r];return R(f)?f(r):""}addCommands(n,r="exec"){const f=this.commands;Ft(n,(w,B)=>{ie(B.toLowerCase().split(","),Z=>{f[r][Z]=w})})}addCommand(n,r,f){const w=n.toLowerCase();this.commands.exec[w]=(B,Z,oe)=>r.call(f??this.editor,Z,oe)}queryCommandSupported(n){const r=n.toLowerCase();return!!this.commands.exec[r]}addQueryStateHandler(n,r,f){this.commands.state[n.toLowerCase()]=()=>r.call(f??this.editor)}addQueryValueHandler(n,r,f){this.commands.value[n.toLowerCase()]=()=>r.call(f??this.editor)}}const Cy="data-mce-contenteditable",cF=(e,n,r)=>{Cd(e,n)&&!r?mh(e,n):r&&hh(e,n)},a6=(e,n,r)=>{try{e.getDoc().execCommand(n,!1,String(r))}catch{}},Sy=(e,n)=>{e.dom.contentEditable=n?"true":"false"},jX=e=>{ie(Vi(e,'*[contenteditable="true"]'),n=>{ws(n,Cy,"true"),Sy(n,!1)})},YX=e=>{ie(Vi(e,`*[${Cy}="true"]`),n=>{Xs(n,Cy),Sy(n,!0)})},KX=e=>{X.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},uF=e=>{e.selection.setRng(e.selection.getRng())},XX=(e,n)=>{const r=jt.fromDom(e.getBody());cF(r,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),KX(e),e.readonly=!0,Sy(r,!1),jX(r)):(e.readonly=!1,e.hasEditableRoot()&&Sy(r,!0),YX(r),a6(e,"StyleWithCSS",!1),a6(e,"enableInlineTableEditing",!1),a6(e,"enableObjectResizing",!1),A$(e)&&e.focus(),uF(e),e.nodeChanged())},Ty=e=>e.readonly,fF=e=>{e.parser.addAttributeFilter("contenteditable",n=>{Ty(e)&&ie(n,r=>{r.attr(Cy,r.attr("contenteditable")),r.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Cy,n=>{Ty(e)&&ie(n,r=>{r.attr("contenteditable",r.attr(Cy))})}),e.serializer.addTempAttr(Cy)},s6=e=>{e.serializer?fF(e):e.on("PreInit",()=>{fF(e)})},JX=e=>e.type==="click",QX=["copy"],rl=e=>Ve(QX,e.type),qX=(e,n)=>Ku(n,"a",f=>Ba(f,jt.fromDom(e.getBody()))).bind(f=>Yl(f,"href")),eJ=(e,n)=>{if(JX(n)&&!Wr.metaKeyPressed(n)){const r=jt.fromDom(n.target);qX(e,r).each(f=>{if(n.preventDefault(),/^#/.test(f)){const w=e.dom.select(`${f},[name="${xr(f,"#")}"]`);w.length&&e.selection.scrollIntoView(w[0],!0)}else window.open(f,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else rl(n)&&e.dispatch(n.type,n)},i6=e=>{e.on("ShowCaret",n=>{Ty(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{Ty(e)&&n.preventDefault()})},dF=ur.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class KS{static isNative(n){return!!dF[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||ne}fire(n,r){return this.dispatch(n,r)}dispatch(n,r){const f=n.toLowerCase(),w=Qp(f,r??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(w);const B=this.bindings[f];if(B)for(let Z=0,oe=B.length;Z<oe;Z++){const be=B[Z];if(!be.removed){if(be.once&&this.off(f,be.func),w.isImmediatePropagationStopped())return w;if(be.func.call(this.scope,w)===!1)return w.preventDefault(),w}}return w}on(n,r,f,w){if(r===!1&&(r=ne),r){const B={func:r,removed:!1};w&&ur.extend(B,w);const Z=n.toLowerCase().split(" ");let oe=Z.length;for(;oe--;){const be=Z[oe];let Pe=this.bindings[be];Pe||(Pe=[],this.toggleEvent(be,!0)),f?Pe=[B,...Pe]:Pe=[...Pe,B],this.bindings[be]=Pe}}return this}off(n,r){if(n){const f=n.toLowerCase().split(" ");let w=f.length;for(;w--;){const B=f[w];let Z=this.bindings[B];if(!B)return Ft(this.bindings,(oe,be)=>{this.toggleEvent(be,!1),delete this.bindings[be]}),this;if(Z){if(!r)Z.length=0;else{const oe=se(Z,be=>be.func===r);Z=oe.fail,this.bindings[B]=Z,ie(oe.pass,be=>{be.removed=!0})}Z.length||(this.toggleEvent(n,!1),delete this.bindings[B])}}}else Ft(this.bindings,(f,w)=>{this.toggleEvent(w,!1)}),this.bindings={};return this}once(n,r,f){return this.on(n,r,f,{once:!0})}has(n){n=n.toLowerCase();const r=this.bindings[n];return!(!r||r.length===0)}}const XS=e=>(e._eventDispatcher||(e._eventDispatcher=new KS({scope:e,toggleEvent:(n,r)=>{KS.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,r)}})),e._eventDispatcher),l6={fire(e,n,r){return this.dispatch(e,n,r)},dispatch(e,n,r){const f=this;if(f.removed&&e!=="remove"&&e!=="detach")return Qp(e.toLowerCase(),n??{},f);const w=XS(f).dispatch(e,n);if(r!==!1&&f.parent){let B=f.parent();for(;B&&!w.isPropagationStopped();)B.dispatch(e,w,!1),B=B.parent?B.parent():void 0}return w},on(e,n,r){return XS(this).on(e,n,r)},off(e,n){return XS(this).off(e,n)},once(e,n){return XS(this).once(e,n)},hasEventListeners(e){return XS(this).has(e)}},jM=Cs.DOM;let ky;const YM=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const r=$m(e);return r?(e.eventRoot||(e.eventRoot=jM.select(r)[0]),e.eventRoot):e.getBody()},tJ=e=>!e.hidden&&!Ty(e),hF=(e,n,r)=>{tJ(e)?e.dispatch(n,r):Ty(e)&&eJ(e,r)},mF=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const r=YM(e,n);if($m(e)){if(ky||(ky={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||ky&&(Ft(ky,(w,B)=>{e.dom.unbind(YM(e,B))}),ky=null)})),ky[n])return;const f=w=>{const B=w.target,Z=e.editorManager.get();let oe=Z.length;for(;oe--;){const be=Z[oe].getBody();(be===B||jM.isChildOf(B,be))&&hF(Z[oe],n,w)}};ky[n]=f,jM.bind(r,n,f)}else{const f=w=>{hF(e,n,w)};jM.bind(r,n,f),e.delegates[n]=f}},Ay={...l6,bindPendingEventDelegates(){const e=this;ur.each(e._pendingNativeEvents,n=>{mF(e,n)})},toggleNativeEvent(e,n){const r=this;e==="focus"||e==="blur"||r.removed||(n?r.initialized?mF(r,e):r._pendingNativeEvents?r._pendingNativeEvents.push(e):r._pendingNativeEvents=[e]:r.initialized&&r.delegates&&(r.dom.unbind(YM(r,e),e,r.delegates[e]),delete r.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),r=e.dom;e.delegates&&(Ft(e.delegates,(f,w)=>{e.dom.unbind(YM(e,w),w,f)}),delete e.delegates),!e.inline&&n&&r&&(n.onload=null,r.unbind(e.getWin()),r.unbind(e.getDoc())),r&&(r.unbind(n),r.unbind(e.getContainer()))}},qh=e=>C(e)?{value:e.split(/[ ,]/),valid:!0}:H(e,C)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},nJ=e=>{const n=(()=>{switch(e){case"array":return S;case"boolean":return D;case"function":return R;case"number":return F;case"object":return _;case"string":return C;case"string[]":return qh;case"object[]":return r=>H(r,_);case"regexp":return r=>x(r,RegExp);default:return fe}})();return r=>c6(r,n,`The value must be a ${e}.`)},rJ=e=>C(e.processor),gF=(e,n)=>{const r=kt(n.message)?"":`. ${n.message}`;return e+r},pF=e=>e.valid,c6=(e,n,r="")=>{const f=n(e);return D(f)?f?{value:e,valid:!0}:{valid:!1,message:r}:f},oJ=(e,n,r)=>{if(!N(n)){const f=c6(n,r);if(pF(f))return f.value;console.error(gF(`Invalid default value passed for the "${e}" option`,f))}},aJ=(e,n)=>{const r={},f={},w=(Je,at,Rt)=>{const Ht=c6(at,Rt);return pF(Ht)?(f[Je]=Ht.value,!0):(console.warn(gF(`Invalid value passed for the ${Je} option`,Ht)),!1)},B=(Je,at)=>{const Rt=rJ(at)?nJ(at.processor):at.processor,Ht=oJ(Je,at.default,Rt);r[Je]={...at,default:Ht,processor:Rt},wn(f,Je).orThunk(()=>wn(n,Je)).each(It=>w(Je,It,Rt))},Z=Je=>lt(r,Je);return{register:B,isRegistered:Z,get:Je=>wn(f,Je).orThunk(()=>wn(r,Je).map(at=>at.default)).getOrUndefined(),set:(Je,at)=>{if(Z(Je)){const Rt=r[Je];return Rt.immutable?(console.error(`"${Je}" is an immutable option and cannot be updated`),!1):w(Je,at,Rt.processor)}else return console.warn(`"${Je}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:Je=>{const at=Z(Je);return at&&delete f[Je],at},isSet:Je=>lt(f,Je)}},sJ=["design","readonly"],vF=(e,n,r,f)=>{const w=r[n.get()],B=r[f];try{B.activate()}catch(Z){console.error(`problem while activating editor mode ${f}:`,Z);return}w.deactivate(),w.editorReadOnly!==B.editorReadOnly&&XX(e,B.editorReadOnly),n.set(f),hC(e,f)},ute=(e,n,r,f)=>{if(f!==r.get()){if(!lt(n,f))throw new Error(`Editor mode '${f}' is invalid`);e.initialized?vF(e,r,n,f):e.on("init",()=>vF(e,r,n,f))}},iJ=(e,n,r)=>{if(Ve(sJ,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...r,deactivate:()=>{try{r.deactivate()}catch(f){console.error(`problem while deactivating editor mode ${n}:`,f)}}}}},lJ=e=>{const n=Us("design"),r=Us({design:{activate:j,deactivate:j,editorReadOnly:!1},readonly:{activate:j,deactivate:j,editorReadOnly:!0}});return s6(e),i6(e),{isReadOnly:()=>Ty(e),set:f=>ute(e,r.get(),n,f),get:()=>n.get(),register:(f,w)=>{r.set(iJ(r.get(),f,w))}}},u6=ur.each,f6=ur.explode,cJ={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},yF=ur.makeMap("alt,ctrl,shift,meta,access"),fte=e=>e in yF,uJ=e=>{const n={},r=Lr.os.isMacOS()||Lr.os.isiOS();u6(f6(e.toLowerCase(),"+"),B=>{fte(B)?n[B]=!0:/^[0-9]{2,}$/.test(B)?n.keyCode=parseInt(B,10):(n.charCode=B.charCodeAt(0),n.keyCode=cJ[B]||B.toUpperCase().charCodeAt(0))});const f=[n.keyCode];let w;for(w in yF)n[w]?f.push(w):n[w]=!1;return n.id=f.join(","),n.access&&(n.alt=!0,r?n.ctrl=!0:n.shift=!0),n.meta&&(r?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class bF{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const r=this;n.on("keyup keypress keydown",f=>{(r.hasModifier(f)||r.isFunctionKey(f))&&!f.isDefaultPrevented()&&(u6(r.shortcuts,w=>{r.matchShortcut(f,w)&&(r.pendingPatterns=w.subpatterns.slice(0),f.type==="keydown"&&r.executeShortcutAction(w))}),r.matchShortcut(f,r.pendingPatterns[0])&&(r.pendingPatterns.length===1&&f.type==="keydown"&&r.executeShortcutAction(r.pendingPatterns[0]),r.pendingPatterns.shift()))})}add(n,r,f,w){const B=this,Z=B.normalizeCommandFunc(f);return u6(f6(ur.trim(n)),oe=>{const be=B.createShortcut(oe,r,Z,w);B.shortcuts[be.id]=be}),!0}remove(n){const r=this.createShortcut(n);return this.shortcuts[r.id]?(delete this.shortcuts[r.id],!0):!1}normalizeCommandFunc(n){const r=this,f=n;return typeof f=="string"?()=>{r.editor.execCommand(f,!1,null)}:ur.isArray(f)?()=>{r.editor.execCommand(f[0],f[1],f[2])}:f}createShortcut(n,r,f,w){const B=ur.map(f6(n,">"),uJ);return B[B.length-1]=ur.extend(B[B.length-1],{func:f,scope:w||this.editor}),ur.extend(B[0],{desc:this.editor.translate(r),subpatterns:B.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,r){return!r||r.ctrl!==n.ctrlKey||r.meta!==n.metaKey||r.alt!==n.altKey||r.shift!==n.shiftKey?!1:n.keyCode===r.keyCode||n.charCode&&n.charCode===r.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const fJ=()=>{const e={},n={},r={},f={},w={},B={},Z={},oe={},be=(Ke,Je)=>(at,Rt)=>{Ke[at.toLowerCase()]={...Rt,type:Je}},Pe=(Ke,Je)=>f[Ke.toLowerCase()]=Je;return{addButton:be(e,"button"),addGroupToolbarButton:be(e,"grouptoolbarbutton"),addToggleButton:be(e,"togglebutton"),addMenuButton:be(e,"menubutton"),addSplitButton:be(e,"splitbutton"),addMenuItem:be(n,"menuitem"),addNestedMenuItem:be(n,"nestedmenuitem"),addToggleMenuItem:be(n,"togglemenuitem"),addAutocompleter:be(r,"autocompleter"),addContextMenu:be(w,"contextmenu"),addContextToolbar:be(B,"contexttoolbar"),addContextForm:be(B,"contextform"),addSidebar:be(Z,"sidebar"),addView:be(oe,"views"),addIcon:Pe,getAll:()=>({buttons:e,menuItems:n,icons:f,popups:r,contextMenus:w,contextToolbars:B,sidebars:Z,views:oe})}},dJ=()=>{const e=fJ();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},My=Cs.DOM,xF=ur.extend,hJ=ur.each;class KM{constructor(n,r,f){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=f,this.documentBaseUrl=f.documentBaseURL,xF(this,Ay);const w=this;this.id=n,this.hidden=!1;const B=TX(f.defaultOptions,r);this.options=aJ(w,B),aT(w);const Z=this.options.get;Z("deprecation_warnings")&&Aee(r,B);const oe=Z("suffix");oe&&(f.suffix=oe),this.suffix=f.suffix;const be=Z("base_url");be&&f._setBaseUrl(be),this.baseUri=f.baseURI;const Pe=ia(w);Pe&&(Ni.ScriptLoader._setReferrerPolicy(Pe),Cs.DOM.styleSheetLoader._setReferrerPolicy(Pe));const Ke=vv(w);k(Ke)&&Cs.DOM.styleSheetLoader._setContentCssCors(Ke),rc.languageLoad=Z("language_load"),rc.baseURL=f.baseURL,this.setDirty(!1),this.documentBaseURI=new cd(Cw(w),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Dw(w),this.hasVisual=k4(w),this.shortcuts=new bF(this),this.editorCommands=new bp(this),GX(this);const Je=Z("cache_suffix");Je&&(Lr.cacheSuffix=Je.replace(/^[\?\&]+/,"")),this.ui={registry:dJ(),styleSheetLoader:void 0,show:j,hide:j,setEnabled:j,isEnabled:fe},this.mode=lJ(w),f.dispatch("SetupEditor",{editor:this});const at=$w(w);R(at)&&at.call(w,w)}render(){c2(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return Vv(this)}translate(n){return Cf.translate(n)}getParam(n,r,f){const w=this.options;return w.isRegistered(n)||(k(f)?w.register(n,{processor:f,default:r}):w.register(n,{processor:fe,default:r})),!w.isSet(n)&&!N(r)?r:w.get(n)}hasPlugin(n,r){return Ve(C1(this),n)?r?uy.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,r,f){this.editorCommands.addCommand(n,r,f)}addQueryStateHandler(n,r,f){this.editorCommands.addQueryStateHandler(n,r,f)}addQueryValueHandler(n,r,f){this.editorCommands.addQueryValueHandler(n,r,f)}addShortcut(n,r,f,w){this.shortcuts.add(n,r,f,w)}execCommand(n,r,f,w){return this.editorCommands.execCommand(n,r,f,w)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(My.show(n.getContainer()),My.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(My.hide(n.getContainer()),My.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,r){this.dispatch("ProgressState",{state:n,time:r})}load(n={}){const r=this,f=r.getElement();if(r.removed)return"";if(f){const w={...n,load:!0},B=Vp(f)?f.value:f.innerHTML,Z=r.setContent(B,w);return w.no_events||r.dispatch("LoadContent",{...w,element:f}),Z}else return""}save(n={}){const r=this;let f=r.getElement();if(!f||!r.initialized||r.removed)return"";const w={...n,save:!0,element:f};let B=r.getContent(w);const Z={...w,content:B};if(Z.no_events||r.dispatch("SaveContent",Z),Z.format==="raw"&&r.dispatch("RawSaveContent",Z),B=Z.content,Vp(f))f.value=B;else{(n.is_removing||!r.inline)&&(f.innerHTML=B);const oe=My.getParent(r.id,"form");oe&&hJ(oe.elements,be=>be.name===r.id?(be.value=B,!1):!0)}return Z.element=w.element=f=null,Z.set_dirty!==!1&&r.setDirty(!1),B}setContent(n,r){return ER(this,n,r)}getContent(n){return kO(this,n)}insertContent(n,r){r&&(n=xF({content:n},r)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?ER(this,this.startContent,{format:"raw"}):ER(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const r=!this.isNotDirty;this.isNotDirty=!n,n&&n!==r&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||My.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=My.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const r=n.iframeElement;r&&(n.contentWindow=r.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const r=n.getWin();r&&(n.contentDocument=r.document)}return n.contentDocument}getBody(){var n,r;const f=this.getDoc();return(r=(n=this.bodyElement)!==null&&n!==void 0?n:f==null?void 0:f.body)!==null&&r!==void 0?r:null}convertURL(n,r,f){const w=this,B=w.options.get,Z=_4(w);if(R(Z))return Z.call(w,n,f,!0,r);if(!B("convert_urls")||f==="link"||_(f)&&f.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0)return n;const oe=new cd(n);return oe.protocol!=="http"&&oe.protocol!=="https"&&oe.protocol!==""?n:B("relative_urls")?w.documentBaseURI.toRelative(n):(n=w.documentBaseURI.toAbsolute(n,B("remove_script_host")),n)}addVisual(n){kX(this,n)}setEditableRoot(n){KN(this,n)}hasEditableRoot(){return gX(this)}remove(){nW(this)}destroy(n){rW(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const u2=Cs.DOM,XM=ur.each;let wF=!1,JM,Pu=[];const QM=e=>{const n=e.type;XM(m0.get(),r=>{switch(n){case"scroll":r.dispatch("ScrollWindow",e);break;case"resize":r.dispatch("ResizeWindow",e);break}})},CF=e=>{if(e!==wF){const n=Cs.DOM;e?(n.bind(window,"resize",QM),n.bind(window,"scroll",QM)):(n.unbind(window,"resize",QM),n.unbind(window,"scroll",QM)),wF=e}},SF=e=>{const n=Pu;return Pu=ue(Pu,r=>e!==r),m0.activeEditor===e&&(m0.activeEditor=Pu.length>0?Pu[0]:null),m0.focusedEditor===e&&(m0.focusedEditor=null),n.length!==Pu.length},TF=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(SF(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},mJ=document.compatMode!=="CSS1Compat",m0={...l6,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"8.0",releaseDate:"2023-11-22",i18n:Cf,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",r="",f=cd.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(f)&&(f=f.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(f)||(f+="/"));const w=window.tinymce||window.tinyMCEPreInit;if(w)n=w.base||w.baseURL,r=w.suffix;else{const B=document.getElementsByTagName("script");for(let Z=0;Z<B.length;Z++){const oe=B[Z].src||"";if(oe==="")continue;const be=oe.substring(oe.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(oe)){be.indexOf(".min")!==-1&&(r=".min"),n=oe.substring(0,oe.lastIndexOf("/"));break}}if(!n&&document.currentScript){const Z=document.currentScript.src;Z.indexOf(".min")!==-1&&(r=".min"),n=Z.substring(0,Z.lastIndexOf("/"))}}e.baseURL=new cd(f).toAbsolute(n),e.documentBaseURL=f,e.baseURI=new cd(e.baseURL),e.suffix=r,MH(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const r=e.suffix;r&&(this.suffix=r),this.defaultOptions=e;const f=e.plugin_base_urls;f!==void 0&&Ft(f,(w,B)=>{rc.PluginManager.urls[B]=w})},init(e){const n=this;let r;const f=ur.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),w=(Ke,Je)=>Ke.inline&&Je.tagName.toLowerCase()in f,B=Ke=>{let Je=Ke.id;return Je||(Je=wn(Ke,"name").filter(at=>!u2.get(at)).getOrThunk(u2.uniqueId),Ke.setAttribute("id",Je)),Je},Z=Ke=>{const Je=e[Ke];if(Je)return Je.apply(n,[])},oe=Ke=>Lr.browser.isIE()||Lr.browser.isEdge()?(cS("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):mJ?(cS("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):C(Ke.selector)?u2.select(Ke.selector):k(Ke.target)?[Ke.target]:[];let be=Ke=>{r=Ke};const Pe=()=>{let Ke=0;const Je=[];let at;const Rt=(Ht,At,It)=>{const ln=new KM(Ht,At,n);Je.push(ln),ln.on("init",()=>{++Ke===at.length&&be(Je)}),ln.targetElm=ln.targetElm||It,ln.render()};u2.unbind(window,"ready",Pe),Z("onpageload"),at=Gt(oe(e)),ur.each(at,Ht=>{TF(n.get(Ht.id))}),at=ur.grep(at,Ht=>!n.get(Ht.id)),at.length===0?be([]):XM(at,Ht=>{w(e,Ht)?cS("Could not initialize inline editor on invalid inline target element",Ht):Rt(B(Ht),e,Ht)})};return u2.bind(window,"ready",Pe),new Promise(Ke=>{r?Ke(r):be=Je=>{Ke(Je)}})},get(e){return arguments.length===0?Pu.slice(0):C(e)?de(Pu,n=>n.id===e).getOr(null):F(e)&&Pu[e]?Pu[e]:null},add(e){const n=this,r=n.get(e.id);return r===e||(r===null&&Pu.push(e),CF(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),JM||(JM=f=>{const w=n.dispatch("BeforeUnload");if(w.returnValue)return f.preventDefault(),f.returnValue=w.returnValue,w.returnValue},window.addEventListener("beforeunload",JM))),e},createEditor(e,n){return this.add(new KM(e,n,this))},remove(e){const n=this;let r;if(!e){for(let f=Pu.length-1;f>=0;f--)n.remove(Pu[f]);return}if(C(e)){XM(u2.select(e),f=>{r=n.get(f.id),r&&n.remove(r)});return}return r=e,O(n.get(r.id))?null:(SF(r)&&n.dispatch("RemoveEditor",{editor:r}),Pu.length===0&&window.removeEventListener("beforeunload",JM),r.remove(),CF(Pu.length>0),r)},execCommand(e,n,r){var f;const w=this,B=_(r)?(f=r.id)!==null&&f!==void 0?f:r.index:r;switch(e){case"mceAddEditor":{if(!w.get(B)){const Z=r.options;new KM(B,Z,w).render()}return!0}case"mceRemoveEditor":{const Z=w.get(B);return Z&&Z.remove(),!0}case"mceToggleEditor":{const Z=w.get(B);return Z?(Z.isHidden()?Z.show():Z.hide(),!0):(w.execCommand("mceAddEditor",!1,r),!0)}}return w.activeEditor?w.activeEditor.execCommand(e,n,r):!1},triggerSave:()=>{XM(Pu,e=>{e.save()})},addI18n:(e,n)=>{Cf.add(e,n)},translate:e=>Cf.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new cd(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new cd(this.baseURL)}};m0.setup();const gJ=(()=>{const e=Em(),n=B=>({items:B,types:Yt(B),getType:Z=>wn(B,Z).getOrUndefined()}),r=B=>{e.set(B)},f=()=>e.get().getOrUndefined(),w=e.clear;return{FakeClipboardItem:n,write:r,read:f,clear:w}})(),kF=Math.min,f2=Math.max,qM=Math.round,AF=(e,n,r)=>{let f=n.x,w=n.y;const B=e.w,Z=e.h,oe=n.w,be=n.h,Pe=(r||"").split("");return Pe[0]==="b"&&(w+=be),Pe[1]==="r"&&(f+=oe),Pe[0]==="c"&&(w+=qM(be/2)),Pe[1]==="c"&&(f+=qM(oe/2)),Pe[3]==="b"&&(w-=Z),Pe[4]==="r"&&(f-=B),Pe[3]==="c"&&(w-=qM(Z/2)),Pe[4]==="c"&&(f-=qM(B/2)),d2(f,w,B,Z)},MF=(e,n,r,f)=>{for(let w=0;w<f.length;w++){const B=AF(e,n,f[w]);if(B.x>=r.x&&B.x+B.w<=r.w+r.x&&B.y>=r.y&&B.y+B.h<=r.h+r.y)return f[w]}return null},pJ=(e,n,r)=>d2(e.x-n,e.y-r,e.w+n*2,e.h+r*2),vJ=(e,n)=>{const r=f2(e.x,n.x),f=f2(e.y,n.y),w=kF(e.x+e.w,n.x+n.w),B=kF(e.y+e.h,n.y+n.h);return w-r<0||B-f<0?null:d2(r,f,w-r,B-f)},yJ=(e,n,r)=>{let f=e.x,w=e.y,B=e.x+e.w,Z=e.y+e.h;const oe=n.x+n.w,be=n.y+n.h,Pe=f2(0,n.x-f),Ke=f2(0,n.y-w),Je=f2(0,B-oe),at=f2(0,Z-be);return f+=Pe,w+=Ke,r&&(B+=Pe,Z+=Ke,f-=Je,w-=at),B-=Je,Z-=at,d2(f,w,B-f,Z-w)},d2=(e,n,r,f)=>({x:e,y:n,w:r,h:f}),bJ={inflate:pJ,relativePosition:AF,findBestRelativePosition:MF,intersect:vJ,clamp:yJ,create:d2,fromClientRect:e=>d2(e.left,e.top,e.width,e.height)},xJ=(e,n,r=1e3)=>{let f=!1,w=null;const B=Pe=>(...Ke)=>{f||(f=!0,w!==null&&(clearTimeout(w),w=null),Pe.apply(null,Ke))},Z=B(e),oe=B(n);return{start:(...Pe)=>{!f&&w===null&&(w=setTimeout(()=>oe.apply(null,Pe),r))},resolve:Z,reject:oe}},EF=(()=>{const e={},n={},r={};return{load:(be,Pe)=>{const Ke=`Script at URL "${Pe}" failed to load`,Je=`Script at URL "${Pe}" did not call \`tinymce.Resource.add('${be}', data)\` within 1 second`;if(e[be]!==void 0)return e[be];{const at=new Promise((Rt,Ht)=>{const At=xJ(Rt,Ht);n[be]=At.resolve,Ni.ScriptLoader.loadScript(Pe).then(()=>At.start(Je),()=>At.reject(Ke))});return e[be]=at,at}},add:(be,Pe)=>{n[be]!==void 0&&(n[be](Pe),delete n[be]),e[be]=Promise.resolve(Pe),r[be]=Pe},has:be=>be in r,get:be=>r[be],unload:be=>{delete e[be]}}})(),gte=()=>(()=>{let e={},n=[];const r={getItem:f=>{const w=e[f];return w||null},setItem:(f,w)=>{n.push(f),e[f]=String(w)},key:f=>n[f],removeItem:f=>{n=n.filter(w=>w===f),delete e[f]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(r,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),r})();let h2;try{const e="__storage_test__";h2=window.localStorage,h2.setItem(e,e),h2.removeItem(e)}catch{h2=gte()}var wJ=h2;const _F={geom:{Rect:bJ},util:{Delay:Ef,Tools:ur,VK:Wr,URI:cd,EventDispatcher:KS,Observable:l6,I18n:Cf,LocalStorage:wJ,ImageUploader:$R},dom:{EventUtils:eu,TreeWalker:es,TextSeeker:_m,DOMUtils:Cs,ScriptLoader:Ni,RangeUtils:xt,Serializer:SO,StyleSheetLoader:U2,ControlSelection:g$,BookmarkManager:rp,Selection:Xv,Event:eu.Event},html:{Styles:hb,Entities:km,Node:Hc,Schema:_h,DomParser:Yd,Writer:H$,Serializer:Uv},Env:Lr,AddOnManager:rc,Annotator:uC,Formatter:dy,UndoManager:uS,EditorCommands:bp,WindowManager:$O,NotificationManager:LR,EditorObservable:Ay,Shortcuts:bF,Editor:KM,FocusManager:x$,EditorManager:m0,DOM:Cs.DOM,ScriptLoader:Ni.ScriptLoader,PluginManager:uy,ThemeManager:gp,ModelManager:fd,IconManager:sS,Resource:EF,FakeClipboard:gJ,trim:ur.trim,isArray:ur.isArray,is:ur.is,toArray:ur.toArray,makeMap:ur.makeMap,each:ur.each,map:ur.map,grep:ur.grep,inArray:ur.inArray,extend:ur.extend,walk:ur.walk,resolve:ur.resolve,explode:ur.explode,_addCacheSuffix:ur._addCacheSuffix},RF=ur.extend(m0,_F),CJ=e=>{try{o.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(RF),CJ(RF)})()})(yve);(function(){var o=tinymce.util.Tools.resolve("tinymce.ModelManager");const b=(I,W,te)=>{var me;return te(I,W.prototype)?!0:((me=I.constructor)===null||me===void 0?void 0:me.name)===W.name},y=I=>{const W=typeof I;return I===null?"null":W==="object"&&Array.isArray(I)?"array":W==="object"&&b(I,String,(te,me)=>me.isPrototypeOf(te))?"string":W},T=I=>W=>y(W)===I,G=I=>W=>typeof W===I,V=I=>W=>I===W,L=T("string"),A=T("object"),s=T("array"),m=V(null),h=G("boolean"),l=V(void 0),c=I=>I==null,i=I=>!c(I),u=G("function"),d=G("number"),g=()=>{},v=(I,W)=>(...te)=>I(W.apply(null,te)),x=(I,W)=>te=>I(W(te)),C=I=>()=>I,_=I=>I,$=(I,W)=>I===W;function S(I,...W){return(...te)=>{const me=W.concat(te);return I.apply(null,me)}}const O=I=>W=>!I(W),D=I=>()=>{throw new Error(I)},N=I=>I(),M=C(!1),k=C(!0);class R{constructor(W,te){this.tag=W,this.value=te}static some(W){return new R(!0,W)}static none(){return R.singletonNone}fold(W,te){return this.tag?te(this.value):W()}isSome(){return this.tag}isNone(){return!this.tag}map(W){return this.tag?R.some(W(this.value)):R.none()}bind(W){return this.tag?W(this.value):R.none()}exists(W){return this.tag&&W(this.value)}forall(W){return!this.tag||W(this.value)}filter(W){return!this.tag||W(this.value)?this:R.none()}getOr(W){return this.tag?this.value:W}or(W){return this.tag?this:W}getOrThunk(W){return this.tag?this.value:W()}orThunk(W){return this.tag?this:W()}getOrDie(W){if(this.tag)return this.value;throw new Error(W??"Called getOrDie on None")}static from(W){return i(W)?R.some(W):R.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(W){this.tag&&W(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}R.singletonNone=new R(!1);const F=Array.prototype.slice,H=Array.prototype.indexOf,j=Array.prototype.push,P=(I,W)=>H.call(I,W),ee=(I,W)=>P(I,W)>-1,J=(I,W)=>{for(let te=0,me=I.length;te<me;te++){const Le=I[te];if(W(Le,te))return!0}return!1},K=(I,W)=>{const te=[];for(let me=0;me<I;me++)te.push(W(me));return te},ae=(I,W)=>{const te=I.length,me=new Array(te);for(let Le=0;Le<te;Le++){const Ue=I[Le];me[Le]=W(Ue,Le)}return me},Q=(I,W)=>{for(let te=0,me=I.length;te<me;te++){const Le=I[te];W(Le,te)}},he=(I,W)=>{for(let te=I.length-1;te>=0;te--){const me=I[te];W(me,te)}},ge=(I,W)=>{const te=[],me=[];for(let Le=0,Ue=I.length;Le<Ue;Le++){const nt=I[Le];(W(nt,Le)?te:me).push(nt)}return{pass:te,fail:me}},Se=(I,W)=>{const te=[];for(let me=0,Le=I.length;me<Le;me++){const Ue=I[me];W(Ue,me)&&te.push(Ue)}return te},ce=(I,W,te)=>(he(I,(me,Le)=>{te=W(te,me,Le)}),te),ne=(I,W,te)=>(Q(I,(me,Le)=>{te=W(te,me,Le)}),te),fe=(I,W,te)=>{for(let me=0,Le=I.length;me<Le;me++){const Ue=I[me];if(W(Ue,me))return R.some(Ue);if(te(Ue,me))break}return R.none()},X=(I,W)=>fe(I,W,M),ye=(I,W)=>{for(let te=0,me=I.length;te<me;te++){const Le=I[te];if(W(Le,te))return R.some(te)}return R.none()},Ce=I=>{const W=[];for(let te=0,me=I.length;te<me;++te){if(!s(I[te]))throw new Error("Arr.flatten item "+te+" was not an array, input: "+I);j.apply(W,I[te])}return W},$e=(I,W)=>Ce(ae(I,W)),ke=(I,W)=>{for(let te=0,me=I.length;te<me;++te){const Le=I[te];if(W(Le,te)!==!0)return!1}return!0},Ne=I=>{const W=F.call(I,0);return W.reverse(),W},Ve=(I,W)=>{const te={};for(let me=0,Le=I.length;me<Le;me++){const Ue=I[me];te[String(Ue)]=W(Ue,me)}return te},Oe=(I,W)=>{const te=F.call(I,0);return te.sort(W),te},Fe=(I,W)=>W>=0&&W<I.length?R.some(I[W]):R.none(),ie=I=>Fe(I,0),we=I=>Fe(I,I.length-1),se=(I,W)=>{for(let te=0;te<I.length;te++){const me=W(I[te],te);if(me.isSome())return me}return R.none()},ue=Object.keys,pe=Object.hasOwnProperty,le=(I,W)=>{const te=ue(I);for(let me=0,Le=te.length;me<Le;me++){const Ue=te[me],nt=I[Ue];W(nt,Ue)}},Te=(I,W)=>de(I,(te,me)=>({k:me,v:W(te,me)})),de=(I,W)=>{const te={};return le(I,(me,Le)=>{const Ue=W(me,Le);te[Ue.k]=Ue.v}),te},Me=I=>(W,te)=>{I[te]=W},Re=(I,W,te,me)=>{le(I,(Le,Ue)=>{(W(Le,Ue)?te:me)(Le,Ue)})},ze=(I,W)=>{const te={};return Re(I,W,Me(te),g),te},We=(I,W)=>{const te=[];return le(I,(me,Le)=>{te.push(W(me,Le))}),te},ot=I=>We(I,_),dt=(I,W)=>Ge(I,W)?R.from(I[W]):R.none(),Ge=(I,W)=>pe.call(I,W),Xe=(I,W)=>Ge(I,W)&&I[W]!==void 0&&I[W]!==null,qe=I=>{for(const W in I)if(pe.call(I,W))return!1;return!0},gt=typeof window<"u"?window:Function("return this;")(),ut=(I,W)=>{let te=W??gt;for(let me=0;me<I.length&&te!==void 0&&te!==null;++me)te=te[I[me]];return te},tt=(I,W)=>{const te=I.split(".");return ut(te,W)},Ct=(I,W)=>tt(I,W),Gt=(I,W)=>{const te=Ct(I,W);if(te==null)throw new Error(I+" not available on this browser");return te},Yt=Object.getPrototypeOf,Nt=I=>Gt("HTMLElement",I),Ft=I=>{const W=tt("ownerDocument.defaultView",I);return A(I)&&(Nt(W).prototype.isPrototypeOf(I)||/^HTML\w*Element$/.test(Yt(I).constructor.name))},pn=8,_n=9,sn=11,Zn=1,an=3,Cn=I=>I.dom.nodeName.toLowerCase(),jn=I=>I.dom.nodeType,Wn=I=>W=>jn(W)===I,wn=I=>jn(I)===pn||Cn(I)==="#comment",lt=I=>ft(I)&&Ft(I.dom),ft=Wn(Zn),wt=Wn(an),vt=Wn(_n),$t=Wn(sn),Ze=I=>W=>ft(W)&&Cn(W)===I,it=(I,W,te)=>{if(L(te)||h(te)||d(te))I.setAttribute(W,te+"");else throw console.error("Invalid call to Attribute.set. Key ",W,":: Value ",te,":: Element ",I),new Error("Attribute value was not simple")},ht=(I,W,te)=>{it(I.dom,W,te)},pt=(I,W)=>{const te=I.dom;le(W,(me,Le)=>{it(te,Le,me)})},Tt=(I,W)=>{le(W,(te,me)=>{te.fold(()=>{tn(I,me)},Le=>{it(I.dom,me,Le)})})},Et=(I,W)=>{const te=I.dom.getAttribute(W);return te===null?void 0:te},fn=(I,W)=>R.from(Et(I,W)),tn=(I,W)=>{I.dom.removeAttribute(W)},Zt=I=>ne(I.dom.attributes,(W,te)=>(W[te.name]=te.value,W),{}),Dt=(I,W)=>{const me=(W||document).createElement("div");if(me.innerHTML=I,!me.hasChildNodes()||me.childNodes.length>1){const Le="HTML does not have a single root node";throw console.error(Le,I),new Error(Le)}return tr(me.childNodes[0])},un=(I,W)=>{const me=(W||document).createElement(I);return tr(me)},Un=(I,W)=>{const me=(W||document).createTextNode(I);return tr(me)},tr=I=>{if(I==null)throw new Error("Node cannot be null or undefined");return{dom:I}},zt={fromHtml:Dt,fromTag:un,fromText:Un,fromDom:tr,fromPoint:(I,W,te)=>R.from(I.dom.elementFromPoint(W,te)).map(tr)},pr=(I,W)=>{const te=I.dom;if(te.nodeType!==Zn)return!1;{const me=te;if(me.matches!==void 0)return me.matches(W);if(me.msMatchesSelector!==void 0)return me.msMatchesSelector(W);if(me.webkitMatchesSelector!==void 0)return me.webkitMatchesSelector(W);if(me.mozMatchesSelector!==void 0)return me.mozMatchesSelector(W);throw new Error("Browser lacks native selectors")}},Gn=I=>I.nodeType!==Zn&&I.nodeType!==_n&&I.nodeType!==sn||I.childElementCount===0,Ir=(I,W)=>{const te=W===void 0?document:W.dom;return Gn(te)?[]:ae(te.querySelectorAll(I),zt.fromDom)},Tr=(I,W)=>{const te=W===void 0?document:W.dom;return Gn(te)?R.none():R.from(te.querySelector(I)).map(zt.fromDom)},rr=(I,W)=>I.dom===W.dom,Yr=(I,W)=>{const te=I.dom,me=W.dom;return te===me?!1:te.contains(me)},_r=pr,Ln=I=>zt.fromDom(I.dom.ownerDocument),xr=I=>vt(I)?I:Ln(I),or=I=>zt.fromDom(xr(I).dom.documentElement),wr=I=>zt.fromDom(xr(I).dom.defaultView),ro=I=>R.from(I.dom.parentNode).map(zt.fromDom),vo=I=>R.from(I.dom.parentElement).map(zt.fromDom),Cr=(I,W)=>{const te=u(W)?W:M;let me=I.dom;const Le=[];for(;me.parentNode!==null&&me.parentNode!==void 0;){const Ue=me.parentNode,nt=zt.fromDom(Ue);if(Le.push(nt),te(nt)===!0)break;me=Ue}return Le},He=I=>R.from(I.dom.previousSibling).map(zt.fromDom),De=I=>R.from(I.dom.nextSibling).map(zt.fromDom),St=I=>ae(I.dom.childNodes,zt.fromDom),kt=(I,W)=>{const te=I.dom.childNodes;return R.from(te[W]).map(zt.fromDom)},Pt=I=>kt(I,0),Bt=(I,W)=>{ro(I).each(me=>{me.dom.insertBefore(W.dom,I.dom)})},Ut=(I,W)=>{De(I).fold(()=>{ro(I).each(Le=>{_t(Le,W)})},me=>{Bt(me,W)})},Ot=(I,W)=>{Pt(I).fold(()=>{_t(I,W)},me=>{I.dom.insertBefore(W.dom,me.dom)})},_t=(I,W)=>{I.dom.appendChild(W.dom)},qt=(I,W,te)=>{kt(I,te).fold(()=>{_t(I,W)},me=>{Bt(me,W)})},cn=(I,W)=>{Bt(I,W),_t(W,I)},Qt=(I,W)=>{Q(W,(te,me)=>{const Le=me===0?I:W[me-1];Ut(Le,te)})},nn=(I,W)=>{Q(W,te=>{_t(I,te)})},Sn=I=>{I.dom.textContent="",Q(St(I),W=>{bn(W)})},bn=I=>{const W=I.dom;W.parentNode!==null&&W.parentNode.removeChild(W)},gn=I=>{const W=St(I);W.length>0&&Qt(I,W),bn(I)},Qn=(I,W)=>zt.fromDom(I.dom.cloneNode(W)),Bn=I=>Qn(I,!1),Hr=I=>Qn(I,!0),fr=(I,W)=>{const te=zt.fromTag(W),me=Zt(I);return pt(te,me),te},Vr=(I,W)=>{const te=fr(I,W),me=St(Hr(I));return nn(te,me),te},ar=(I,W)=>{const te=fr(I,W);Ut(I,te);const me=St(I);return nn(te,me),bn(I),te},cr=["tfoot","thead","tbody","colgroup"],Kr=I=>ee(cr,I),qr=(I,W)=>({rows:I,columns:W}),So=(I,W)=>({row:I,column:W}),wa=(I,W,te)=>({element:I,rowspan:W,colspan:te}),bo=(I,W,te,me)=>({element:I,rowspan:W,colspan:te,isNew:me}),Zo=(I,W,te,me,Le,Ue)=>({element:I,rowspan:W,colspan:te,row:me,column:Le,isLocked:Ue}),oa=(I,W,te)=>({element:I,cells:W,section:te}),Va=(I,W,te,me)=>({element:I,cells:W,section:te,isNew:me}),Yo=(I,W,te)=>({element:I,isNew:W,isLocked:te}),Fa=(I,W,te,me)=>({element:I,cells:W,section:te,isNew:me}),Os=(I,W,te,me)=>({startRow:I,startCol:W,finishRow:te,finishCol:me}),Zl=(I,W,te)=>({element:I,colspan:W,column:te}),Ys=(I,W)=>({element:I,columns:W}),Ec=I=>$t(I)&&i(I.dom.host),ks=u(Element.prototype.attachShadow)&&u(Node.prototype.getRootNode),Wa=C(ks),ss=ks?I=>zt.fromDom(I.dom.getRootNode()):xr,Ya=I=>{const W=ss(I);return Ec(W)?R.some(W):R.none()},_c=I=>zt.fromDom(I.dom.host),Lr=I=>{if(Wa()&&i(I.target)){const W=zt.fromDom(I.target);if(ft(W)&&jl(W)&&I.composed&&I.composedPath){const te=I.composedPath();if(te)return ie(te)}}return R.from(I.target)},jl=I=>i(I.dom.shadowRoot),Ka=I=>{const W=wt(I)?I.dom.parentNode:I.dom;if(W==null||W.ownerDocument===null)return!1;const te=W.ownerDocument;return Ya(zt.fromDom(W)).fold(()=>te.body.contains(W),x(Ka,_c))},yi=()=>Hf(zt.fromDom(document)),Hf=I=>{const W=I.dom.body;if(W==null)throw new Error("Body is not available yet");return zt.fromDom(W)},Xa=(I,W,te)=>Se(Cr(I,te),W),Zc=(I,W)=>Se(St(I),W),zf=(I,W)=>{let te=[];return Q(St(I),me=>{W(me)&&(te=te.concat([me])),te=te.concat(zf(me,W))}),te},jc=(I,W,te)=>Xa(I,me=>pr(me,W),te),To=(I,W)=>Zc(I,te=>pr(te,W)),Mi=(I,W)=>Ir(W,I);var ur=(I,W,te,me,Le)=>I(te,me)?R.some(te):u(Le)&&Le(te)?R.none():W(te,me,Le);const Ms=(I,W,te)=>{let me=I.dom;const Le=u(te)?te:M;for(;me.parentNode;){me=me.parentNode;const Ue=zt.fromDom(me);if(W(Ue))return R.some(Ue);if(Le(Ue))break}return R.none()},li=(I,W,te)=>ur((Le,Ue)=>Ue(Le),Ms,I,W,te),Rs=(I,W)=>{const te=Le=>W(zt.fromDom(Le));return X(I.dom.childNodes,te).map(zt.fromDom)},Es=(I,W)=>{const te=me=>{for(let Le=0;Le<me.childNodes.length;Le++){const Ue=zt.fromDom(me.childNodes[Le]);if(W(Ue))return R.some(Ue);const nt=te(me.childNodes[Le]);if(nt.isSome())return nt}return R.none()};return te(I.dom)},qi=(I,W,te)=>Ms(I,me=>pr(me,W),te),Bo=(I,W)=>Rs(I,te=>pr(te,W)),Ks=(I,W)=>Tr(W,I),Bs=(I,W,te)=>ur((Le,Ue)=>pr(Le,Ue),qi,I,W,te),df=(I,W,te=$)=>I.exists(me=>te(me,W)),Ls=I=>{const W=[],te=me=>{W.push(me)};for(let me=0;me<I.length;me++)I[me].each(te);return W},cu=(I,W)=>I!=null?W(I):R.none(),uu=(I,W)=>I?R.some(W):R.none(),Vf=(I,W,te)=>W===""||I.length>=W.length&&I.substr(te,te+W.length)===W,Ma=(I,W,te=0,me)=>{const Le=I.indexOf(W,te);return Le!==-1?l(me)?!0:Le+W.length<=me:!1},Uf=(I,W)=>Vf(I,W,0),gc=(I,W)=>Vf(I,W,I.length-W.length),wd=(I=>W=>W.replace(I,""))(/^\s+|\s+$/g),dh=I=>I.length>0,La=I=>{const W=parseFloat(I);return isNaN(W)?R.none():R.some(W)},ci=I=>I.style!==void 0&&u(I.style.getPropertyValue),Wu=(I,W,te)=>{if(!L(te))throw console.error("Invalid call to CSS.set. Property ",W,":: Value ",te,":: Element ",I),new Error("CSS value must be a string: "+te);ci(I)&&I.style.setProperty(W,te)},P2=(I,W)=>{ci(I)&&I.style.removeProperty(W)},Ps=(I,W,te)=>{const me=I.dom;Wu(me,W,te)},sl=(I,W)=>{const te=I.dom;le(W,(me,Le)=>{Wu(te,Le,me)})},Ei=(I,W)=>{const te=I.dom,Le=window.getComputedStyle(te).getPropertyValue(W);return Le===""&&!Ka(I)?Zy(te,W):Le},Zy=(I,W)=>ci(I)?I.style.getPropertyValue(W):"",Ag=(I,W)=>{const te=I.dom,me=Zy(te,W);return R.from(me).filter(Le=>Le.length>0)},Yc=(I,W)=>{const te=I.dom;P2(te,W),df(fn(I,"style").map(wd),"")&&tn(I,"style")},fu=(I,W)=>{const te=I.dom,me=W.dom;ci(te)&&ci(me)&&(me.style.cssText=te.style.cssText)},ws=(I,W,te=0)=>fn(I,W).map(me=>parseInt(me,10)).getOr(te),Kc=(I,W)=>ws(I,W,1),il=I=>Ze("col")(I)?ws(I,"span",1)>1:Kc(I,"colspan")>1,Yl=I=>Kc(I,"rowspan")>1,Gu=(I,W)=>parseInt(Ei(I,W),10),Xs=C(10),Zu=C(10),Mg=(I,W)=>Eg(I,W,k),Eg=(I,W,te)=>$e(St(I),me=>pr(me,W)?te(me)?[me]:[]:Eg(me,W,te)),D0=(I,W,te=M)=>{if(te(W))return R.none();if(ee(I,Cn(W)))return R.some(W);const me=Le=>pr(Le,"table")||te(Le);return qi(W,I.join(","),me)},Dp=(I,W)=>D0(["td","th"],I,W),ju=I=>Mg(I,"th,td"),_g=I=>pr(I,"colgroup")?To(I,"col"):$e($0(I),W=>To(W,"col")),Kl=(I,W)=>Bs(I,"table",W),$p=I=>Mg(I,"tr"),$0=I=>Kl(I).fold(C([]),W=>To(W,"colgroup")),hh=(I,W)=>ae(I,te=>{if(Cn(te)==="colgroup"){const me=ae(_g(te),Le=>{const Ue=ws(Le,"span",1);return wa(Le,1,Ue)});return oa(te,me,"colgroup")}else{const me=ae(ju(te),Le=>{const Ue=ws(Le,"rowspan",1),nt=ws(Le,"colspan",1);return wa(Le,Ue,nt)});return oa(te,me,W(te))}}),O0=I=>ro(I).map(W=>{const te=Cn(W);return Kr(te)?te:"tbody"}).getOr("tbody"),mh=I=>{const W=$p(I),me=[...$0(I),...W];return hh(me,O0)},jy=(I,W)=>hh(I,()=>W),Cd=I=>{let W=!1,te;return(...me)=>(W||(W=!0,te=I.apply(null,me)),te)},Yy=(I,W,te,me)=>{const Le=I.isiOS()&&/ipad/i.test(te)===!0,Ue=I.isiOS()&&!Le,nt=I.isiOS()||I.isAndroid(),xt=nt||me("(pointer:coarse)"),Lt=Le||!Ue&&nt&&me("(min-device-width:768px)"),Jt=Ue||nt&&!Lt,Tn=W.isSafari()&&I.isiOS()&&/safari/i.test(te)===!1,sr=!Jt&&!Lt&&!Tn;return{isiPad:C(Le),isiPhone:C(Ue),isTablet:C(Lt),isPhone:C(Jt),isTouch:C(xt),isAndroid:I.isAndroid,isiOS:I.isiOS,isWebView:C(Tn),isDesktop:C(sr)}},Ky=(I,W)=>{for(let te=0;te<I.length;te++){const me=I[te];if(me.test(W))return me}},Xy=(I,W)=>{const te=Ky(I,W);if(!te)return{major:0,minor:0};const me=Le=>Number(W.replace(te,"$"+Le));return jt(me(1),me(2))},gh=(I,W)=>{const te=String(W).toLowerCase();return I.length===0?P0():Xy(I,te)},P0=()=>jt(0,0),jt=(I,W)=>({major:I,minor:W}),ph={nu:jt,detect:gh,unknown:P0},du=(I,W)=>se(W.brands,te=>{const me=te.brand.toLowerCase();return X(I,Le=>{var Ue;return me===((Ue=Le.brand)===null||Ue===void 0?void 0:Ue.toLowerCase())}).map(Le=>({current:Le.name,version:ph.nu(parseInt(te.version,10),0)}))}),Op=(I,W)=>{const te=String(W).toLowerCase();return X(I,me=>me.search(te))},Rg=(I,W)=>Op(I,W).map(te=>{const me=ph.detect(te.versionRegexes,W);return{current:te.name,version:me}}),I2=(I,W)=>Op(I,W).map(te=>{const me=ph.detect(te.versionRegexes,W);return{current:te.name,version:me}}),Ba=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Dl=I=>W=>Ma(W,I),hf=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:I=>Ma(I,"edge/")&&Ma(I,"chrome")&&Ma(I,"safari")&&Ma(I,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ba],search:I=>Ma(I,"chrome")&&!Ma(I,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:I=>Ma(I,"msie")||Ma(I,"trident")},{name:"Opera",versionRegexes:[Ba,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Dl("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Dl("firefox")},{name:"Safari",versionRegexes:[Ba,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:I=>(Ma(I,"safari")||Ma(I,"mobile/"))&&Ma(I,"applewebkit")}],mf=[{name:"Windows",search:Dl("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:I=>Ma(I,"iphone")||Ma(I,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Dl("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Dl("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Dl("linux"),versionRegexes:[]},{name:"Solaris",search:Dl("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Dl("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Dl("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],I0={browsers:C(hf),oses:C(mf)},mm="Edge",Rc="Chromium",gm="IE",N0="Opera",Jy="Firefox",hu="Safari",Lg=()=>F0({current:void 0,version:ph.unknown()}),F0=I=>{const W=I.current,te=I.version,me=Le=>()=>W===Le;return{current:W,version:te,isEdge:me(mm),isChromium:me(Rc),isIE:me(gm),isOpera:me(N0),isFirefox:me(Jy),isSafari:me(hu)}},pc={unknown:Lg,nu:F0,edge:C(mm),chromium:C(Rc),ie:C(gm),opera:C(N0),firefox:C(Jy),safari:C(hu)},zi="Windows",Sd="iOS",pm="Android",Xl="Linux",ll="macOS",mu="Solaris",Qy="FreeBSD",Dg="ChromeOS",B0=()=>Pp({current:void 0,version:ph.unknown()}),Pp=I=>{const W=I.current,te=I.version,me=Le=>()=>W===Le;return{current:W,version:te,isWindows:me(zi),isiOS:me(Sd),isAndroid:me(pm),isMacOS:me(ll),isLinux:me(Xl),isSolaris:me(mu),isFreeBSD:me(Qy),isChromeOS:me(Dg)}},Yu={unknown:B0,nu:Pp,windows:C(zi),ios:C(Sd),android:C(pm),linux:C(Xl),macos:C(ll),solaris:C(mu),freebsd:C(Qy),chromeos:C(Dg)},_3={detect:(I,W,te)=>{const me=I0.browsers(),Le=I0.oses(),Ue=W.bind(Lt=>du(me,Lt)).orThunk(()=>Rg(me,I)).fold(pc.unknown,pc.nu),nt=I2(Le,I).fold(Yu.unknown,Yu.nu),xt=Yy(nt,Ue,I,te);return{browser:Ue,os:nt,deviceType:xt}}},R3=I=>window.matchMedia(I).matches;let N2=Cd(()=>_3.detect(navigator.userAgent,R.from(navigator.userAgentData),R3));const $g=()=>N2(),Ip=(I,W)=>{const te=(xt,Lt)=>{if(!d(Lt)&&!Lt.match(/^[0-9]+$/))throw new Error(I+".set accepts only positive integer values. Value was "+Lt);const Jt=xt.dom;ci(Jt)&&(Jt.style[I]=Lt+"px")},me=xt=>{const Lt=W(xt);if(Lt<=0||Lt===null){const Jt=Ei(xt,I);return parseFloat(Jt)||0}return Lt},Le=me,Ue=(xt,Lt)=>ne(Lt,(Jt,Tn)=>{const sr=Ei(xt,Tn),Dr=sr===void 0?0:parseInt(sr,10);return isNaN(Dr)?Jt:Jt+Dr},0);return{set:te,get:me,getOuter:Le,aggregate:Ue,max:(xt,Lt,Jt)=>{const Tn=Ue(xt,Jt);return Lt>Tn?Lt-Tn:0}}},Td=(I,W)=>La(I).getOr(W),Hs=(I,W,te)=>Td(Ei(I,W),te),Js=(I,W,te,me)=>{const Le=Hs(I,`padding-${te}`,0),Ue=Hs(I,`padding-${me}`,0),nt=Hs(I,`border-${te}-width`,0),xt=Hs(I,`border-${me}-width`,0);return W-Le-Ue-nt-xt},Xc=(I,W)=>{const te=I.dom,me=te.getBoundingClientRect().width||te.offsetWidth;return W==="border-box"?me:Js(I,me,"left","right")},H0=I=>Hs(I,"height",I.dom.offsetHeight),eb=I=>Hs(I,"width",I.dom.offsetWidth),bl=I=>Xc(I,"content-box"),vm=Ip("width",I=>I.dom.offsetWidth),Jl=I=>vm.get(I),Ku=I=>vm.getOuter(I),z0=bl,Wo=eb,vc=(I,W,te)=>{const me=I.cells,Le=me.slice(0,W),Ue=me.slice(W),nt=Le.concat(te).concat(Ue);return V0(I,nt)},kd=(I,W,te)=>vc(I,W,[te]),vh=(I,W,te)=>{const me=I.cells;me[W]=te},V0=(I,W)=>Fa(I.element,W,I.section,I.isNew),U0=(I,W)=>{const te=I.cells,me=ae(te,W);return Fa(I.element,me,I.section,I.isNew)},$l=(I,W)=>I.cells[W],ui=(I,W)=>$l(I,W).element,Lc=I=>I.cells.length,_i=I=>{const W=ge(I,te=>te.section==="colgroup");return{rows:W.fail,cols:W.pass}},W0=(I,W,te)=>{const me=ae(I.cells,te);return Fa(W(I.element),me,I.section,!0)},Np="data-snooker-locked-cols",fi=I=>fn(I,Np).bind(W=>R.from(W.match(/\d+/g))).map(W=>Ve(W,k)),Ri=I=>{const W=ne(_i(I).rows,(me,Le)=>(Q(Le.cells,(Ue,nt)=>{Ue.isLocked&&(me[nt]=!0)}),me),{}),te=We(W,(me,Le)=>parseInt(Le,10));return Oe(te)},gu=(I,W)=>I+","+W,yh=(I,W,te)=>R.from(I.access[gu(W,te)]),di=(I,W,te)=>{const me=ym(I,Le=>te(W,Le.element));return me.length>0?R.some(me[0]):R.none()},ym=(I,W)=>{const te=$e(I.all,me=>me.cells);return Se(te,W)},Og=I=>{const W={};let te=0;return Q(I.cells,me=>{const Le=me.colspan;K(Le,Ue=>{const nt=te+Ue;W[nt]=Zl(me.element,Le,nt)}),te+=Le}),W},hs=I=>{const W={},te=[],Le=ie(I).map(Rr=>Rr.element).bind(Kl).bind(fi).getOr({});let Ue=0,nt=0,xt=0;const{pass:Lt,fail:Jt}=ge(I,Rr=>Rr.section==="colgroup");Q(Jt,Rr=>{const Jn=[];Q(Rr.cells,Or=>{let Kn=0;for(;W[gu(xt,Kn)]!==void 0;)Kn++;const oo=Xe(Le,Kn.toString()),Ro=Zo(Or.element,Or.rowspan,Or.colspan,xt,Kn,oo);for(let Qo=0;Qo<Or.colspan;Qo++)for(let _s=0;_s<Or.rowspan;_s++){const Ji=xt+_s,si=Kn+Qo,Bc=gu(Ji,si);W[Bc]=Ro,nt=Math.max(nt,si+1)}Jn.push(Ro)}),Ue++,te.push(oa(Rr.element,Jn,Rr.section)),xt++});const{columns:Tn,colgroups:sr}=we(Lt).map(Rr=>{const Jn=Og(Rr);return{colgroups:[Ys(Rr.element,ot(Jn))],columns:Jn}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:qr(Ue,nt),access:W,all:te,columns:Tn,colgroups:sr}},aa={fromTable:I=>{const W=mh(I);return hs(W)},generate:hs,getAt:yh,findItem:di,filterItems:ym,justCells:I=>$e(I.all,W=>W.cells),justColumns:I=>ot(I.columns),hasColumns:I=>ue(I.columns).length>0,getColumnAt:(I,W)=>R.from(I.columns[W])},bh=(I,W=k)=>{const te=I.grid,me=K(te.columns,_),Le=K(te.rows,_);return ae(me,Ue=>Fp(()=>$e(Le,Jt=>aa.getAt(I,Jt,Ue).filter(Tn=>Tn.column===Ue).toArray()),Jt=>Jt.colspan===1&&W(Jt.element),()=>aa.getAt(I,0,Ue)))},Fp=(I,W,te)=>{const me=I();return X(me,W).orThunk(()=>R.from(me[0]).orThunk(te)).map(nt=>nt.element)},Ig=I=>{const W=I.grid,te=K(W.rows,_),me=K(W.columns,_);return ae(te,Le=>Fp(()=>$e(me,Lt=>aa.getAt(I,Le,Lt).filter(Jt=>Jt.row===Le).fold(C([]),Jt=>[Jt])),Lt=>Lt.rowspan===1,()=>aa.getAt(I,Le,0)))},F2=(I,W)=>{if(W<0||W>=I.length-1)return R.none();const te=I[W].fold(()=>{const Le=Ne(I.slice(0,W));return se(Le,(Ue,nt)=>Ue.map(xt=>({value:xt,delta:nt+1})))},Le=>R.some({value:Le,delta:0})),me=I[W+1].fold(()=>{const Le=I.slice(W+1);return se(Le,(Ue,nt)=>Ue.map(xt=>({value:xt,delta:nt+1})))},Le=>R.some({value:Le,delta:1}));return te.bind(Le=>me.map(Ue=>{const nt=Ue.delta+Le.delta;return Math.abs(Ue.value-Le.value)/nt}))},B2=(I,W)=>te=>Z0(te)==="rtl"?W:I,Z0=I=>Ei(I,"direction")==="rtl"?"rtl":"ltr",xh=Ip("height",I=>{const W=I.dom;return Ka(I)?W.getBoundingClientRect().height:W.offsetHeight}),Bp=I=>xh.get(I),wh=I=>xh.getOuter(I),bm=H0,tb=(I,W)=>({left:I,top:W,translate:(me,Le)=>tb(I+me,W+Le)}),pu=tb,nb=I=>{const W=I.getBoundingClientRect();return pu(W.left,W.top)},Ch=(I,W)=>I!==void 0?I:W!==void 0?W:0,Jc=I=>{const W=I.dom.ownerDocument,te=W.body,me=W.defaultView,Le=W.documentElement;if(te===I.dom)return pu(te.offsetLeft,te.offsetTop);const Ue=Ch(me==null?void 0:me.pageYOffset,Le.scrollTop),nt=Ch(me==null?void 0:me.pageXOffset,Le.scrollLeft),xt=Ch(Le.clientTop,te.clientTop),Lt=Ch(Le.clientLeft,te.clientLeft);return Hp(I).translate(nt-Lt,Ue-xt)},Hp=I=>{const W=I.dom,me=W.ownerDocument.body;return me===W?pu(me.offsetLeft,me.offsetTop):Ka(I)?nb(W):pu(0,0)},j0=(I,W)=>({row:I,y:W}),xm=(I,W)=>({col:I,x:W}),Y0=I=>Jc(I).left+Ku(I),K0=I=>Jc(I).left,X0=(I,W)=>xm(I,K0(W)),zp=(I,W)=>xm(I,Y0(W)),Vi=I=>Jc(I).top,Ng=(I,W)=>j0(I,Vi(W)),es=(I,W)=>j0(I,Vi(W)+wh(W)),io=(I,W,te)=>{if(te.length===0)return[];const me=ae(te.slice(1),(Ue,nt)=>Ue.map(xt=>I(nt,xt))),Le=te[te.length-1].map(Ue=>W(te.length-1,Ue));return me.concat([Le])},vu=I=>-I,Gr={delta:_,positions:I=>io(Ng,es,I),edge:Vi},Wf=B2({delta:_,edge:K0,positions:I=>io(X0,zp,I)},{delta:vu,edge:Y0,positions:I=>io(zp,X0,I)}),oi={delta:(I,W)=>Wf(W).delta(I,W),positions:(I,W)=>Wf(W).positions(I,W),edge:I=>Wf(I).edge(I)},Gf={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Fg=(()=>{const I="[0-9]+",te="[eE]"+("[+-]?"+I),me="\\.",Le=xt=>`(?:${xt})?`,nt=`[+-]?(?:${["Infinity",I+me+Le(I)+Le(te),me+I+Le(te),I+Le(te)].join("|")})`;return new RegExp(`^(${nt})(.*)$`)})(),Ui=(I,W)=>J(W,te=>J(Gf[te],me=>I===me)),Ju=(I,W)=>R.from(Fg.exec(I)).bind(me=>{const Le=Number(me[1]),Ue=me[2];return Ui(Ue,W)?R.some({value:Le,unit:Ue}):R.none()}),Sh=/(\d+(\.\d+)?)%/,yu=/(\d+(\.\d+)?)px|em/,J0=Ze("col"),Vp=(I,W,te)=>{const me=vo(I).getOrThunk(()=>Hf(Ln(I)));return W(I)/te(me)*100},ir=(I,W)=>{Ps(I,"width",W+"px")},rb=(I,W)=>{Ps(I,"width",W+"%")},cl=(I,W)=>{Ps(I,"height",W+"px")},gf=I=>bm(I)+"px",wm=(I,W,te,me)=>{const Le=Kl(I).map(Ue=>{const nt=te(Ue);return Math.floor(W/100*nt)}).getOr(W);return me(I,Le),Le},ns=(I,W,te,me)=>{const Le=parseFloat(I);return gc(I,"%")&&Cn(W)!=="table"?wm(W,Le,te,me):Le},Ja=I=>{const W=gf(I);return W?ns(W,I,Bp,cl):Bp(I)},ul=(I,W,te)=>{const me=te(I),Le=Kc(I,W);return me/Le},wl=(I,W)=>Ag(I,W).orThunk(()=>fn(I,W).map(te=>te+"px")),fa=I=>wl(I,"width"),Bg=I=>wl(I,"height"),Wi=I=>Vp(I,Jl,z0),zs=I=>J0(I)?Jl(I):Wo(I),Hg=I=>ul(I,"rowspan",Ja),qn=I=>fa(I).bind(te=>Ju(te,["fixed","relative","empty"])),yc=(I,W,te)=>{Ps(I,"width",W+te)},Cm=I=>Jl(I)+"px",Da=I=>Vp(I,Jl,z0)+"%",Qu=I=>fa(I).exists(W=>Sh.test(W)),z2=I=>fa(I).exists(W=>yu.test(W)),bu=I=>fa(I).isNone(),Up=C(Sh),Dc=Ze("col"),Wp=I=>fa(I).getOrThunk(()=>zs(I)+"px"),Ol=I=>Bg(I).getOrThunk(()=>Hg(I)+"px"),Ia=I=>ae(aa.justColumns(I),W=>R.from(W.element)),$c=I=>{const W=$g().browser,te=W.isChromium()||W.isFirefox();return Dc(I)?te:!0},Qs=(I,W,te,me,Le,Ue)=>I.filter(me).fold(()=>Ue(F2(te,W)),nt=>Le(nt)),Gi=(I,W,te,me)=>{const Le=bh(I),Ue=aa.hasColumns(I)?Ia(I):Le,nt=[R.some(oi.edge(W))].concat(ae(oi.positions(Le,W),Lt=>Lt.map(Jt=>Jt.x))),xt=O(il);return ae(Ue,(Lt,Jt)=>Qs(Lt,Jt,nt,xt,Tn=>{if($c(Tn))return te(Tn);{const sr=cu(Le[Jt],_);return Qs(sr,Jt,nt,xt,Dr=>me(R.some(Jl(Dr))),me)}},me))},Zf=I=>I.map(W=>W+"px").getOr(""),pf=(I,W)=>Gi(I,W,Wp,Zf),jf=(I,W,te)=>Gi(I,W,Wi,me=>me.fold(()=>te.minCellWidth(),Le=>Le/te.pixelWidth()*100)),Ql=(I,W,te)=>Gi(I,W,zs,me=>me.getOrThunk(te.minCellWidth)),vf=(I,W,te,me,Le)=>{const Ue=Ig(I),nt=[R.some(te.edge(W))].concat(ae(te.positions(Ue,W),xt=>xt.map(Lt=>Lt.y)));return ae(Ue,(xt,Lt)=>Qs(xt,Lt,nt,O(Yl),me,Le))},En=(I,W,te)=>vf(I,W,te,Hg,me=>me.getOrThunk(Zu)),ql=(I,W,te)=>vf(I,W,te,Ol,Zf),yf=(I,W)=>()=>Ka(I)?W(I):parseFloat(Ag(I,"width").getOr("0")),bf=I=>{const W=yf(I,Jl),te=C(0);return{width:W,pixelWidth:W,getWidths:(Le,Ue)=>Ql(Le,I,Ue),getCellDelta:te,singleColumnWidth:C([0]),minCellWidth:te,setElementWidth:g,adjustTableWidth:g,isRelative:!0,label:"none"}},bc=I=>{const W=yf(I,Lt=>parseFloat(Da(Lt))),te=yf(I,Jl);return{width:W,pixelWidth:te,getWidths:(Lt,Jt)=>jf(Lt,I,Jt),getCellDelta:Lt=>Lt/te()*100,singleColumnWidth:(Lt,Jt)=>[100-Lt],minCellWidth:()=>Xs()/te()*100,setElementWidth:rb,adjustTableWidth:Lt=>{const Jt=W(),Tn=Lt/100*Jt,sr=Jt+Tn;rb(I,sr)},isRelative:!0,label:"percent"}},Li=I=>{const W=yf(I,Jl);return{width:W,pixelWidth:W,getWidths:(nt,xt)=>Ql(nt,I,xt),getCellDelta:_,singleColumnWidth:(nt,xt)=>[Math.max(Xs(),nt+xt)-nt],minCellWidth:Xs,setElementWidth:ir,adjustTableWidth:nt=>{const xt=W()+nt;ir(I,xt)},isRelative:!1,label:"pixel"}},bi=(I,W)=>Up().exec(W)!==null?bc(I):Li(I),ec={getTableSize:I=>fa(I).fold(()=>bf(I),te=>bi(I,te)),pixelSize:Li,percentageSize:bc,noneSize:bf},U=(I,W,te,me,Le,Ue)=>({minRow:I,minCol:W,maxRow:te,maxCol:me,allCells:Le,selectedCells:Ue}),q=(I,W)=>{const te=I.grid.columns;let Le=I.grid.rows,Ue=te,nt=0,xt=0;const Lt=[],Jt=[];return le(I.access,Tn=>{if(Lt.push(Tn),W(Tn)){Jt.push(Tn);const sr=Tn.row,Dr=sr+Tn.rowspan-1,Rr=Tn.column,Jn=Rr+Tn.colspan-1;sr<Le?Le=sr:Dr>nt&&(nt=Dr),Rr<Ue?Ue=Rr:Jn>xt&&(xt=Jn)}}),U(Le,Ue,nt,xt,Lt,Jt)},ve=(I,W,te)=>{const me=I[te].element,Le=zt.fromTag("td");_t(Le,zt.fromTag("br")),(W?_t:Ot)(me,Le)},Ae=(I,W,te,me)=>{const Le=Se(I,xt=>xt.section!=="colgroup"),Ue=W.grid.columns,nt=W.grid.rows;for(let xt=0;xt<nt;xt++){let Lt=!1;for(let Jt=0;Jt<Ue;Jt++)xt<te.minRow||xt>te.maxRow||Jt<te.minCol||Jt>te.maxCol||(aa.getAt(W,xt,Jt).filter(me).isNone()?ve(Le,Lt,xt):Lt=!0)}},_e=(I,W,te,me)=>{le(te.columns,nt=>{(nt.column<W.minCol||nt.column>W.maxCol)&&bn(nt.element)});const Le=Se(Mg(I,"tr"),nt=>nt.dom.childElementCount===0);Q(Le,bn),(W.minCol===W.maxCol||W.minRow===W.maxRow)&&Q(Mg(I,"th,td"),nt=>{tn(nt,"rowspan"),tn(nt,"colspan")}),tn(I,Np),tn(I,"data-snooker-col-series"),ec.getTableSize(I).adjustTableWidth(me)},Ie=(I,W,te,me)=>{if(me.minCol===0&&W.grid.columns===me.maxCol+1)return 0;const Le=Ql(W,I,te),Ue=ne(Le,(Jt,Tn)=>Jt+Tn,0),Lt=ne(Le.slice(me.minCol,me.maxCol+1),(Jt,Tn)=>Jt+Tn,0)/Ue*te.pixelWidth()-te.pixelWidth();return te.getCellDelta(Lt)},Qe=(I,W)=>{const te=Dr=>pr(Dr.element,W),me=Hr(I),Le=mh(me),Ue=ec.getTableSize(I),nt=aa.generate(Le),xt=q(nt,te),Lt="th:not("+W+"),td:not("+W+")",Jt=Eg(me,"th,td",Dr=>pr(Dr,Lt));Q(Jt,bn),Ae(Le,nt,xt,te);const Tn=aa.fromTable(I),sr=Ie(I,Tn,Ue,xt);return _e(me,xt,nt,sr),me},Ye=" ",yt=((I,W)=>{const te=Ue=>{if(!I(Ue))throw new Error("Can only get "+W+" value of a "+W+" node");return me(Ue).getOr("")},me=Ue=>I(Ue)?R.from(Ue.dom.nodeValue):R.none();return{get:te,getOption:me,set:(Ue,nt)=>{if(!I(Ue))throw new Error("Can only set raw "+W+" value of a "+W+" node");Ue.dom.nodeValue=nt}}})(wt,"text"),bt=I=>yt.get(I),Vt=I=>yt.getOption(I),Wt=(I,W)=>yt.set(I,W),mn=I=>Cn(I)==="img"?1:Vt(I).fold(()=>St(I).length,W=>W.length),An=I=>Vt(I).filter(W=>W.trim().length!==0||W.indexOf(Ye)>-1).isSome(),Kt=I=>lt(I)&&Et(I,"contenteditable")==="false",en=["img","br"],dn=I=>An(I)||ee(en,Cn(I))||Kt(I),Rn=I=>Es(I,dn),Mn=I=>vn(I,dn),vn=(I,W)=>{const te=me=>{const Le=St(me);for(let Ue=Le.length-1;Ue>=0;Ue--){const nt=Le[Ue];if(W(nt))return R.some(nt);const xt=te(nt);if(xt.isSome())return xt}return R.none()};return te(I)},lr={scope:["row","col"]},zr=I=>()=>{const W=zt.fromTag("td",I.dom);return _t(W,zt.fromTag("br",I.dom)),W},Jr=I=>()=>zt.fromTag("col",I.dom),kr=I=>()=>zt.fromTag("colgroup",I.dom),eo=I=>()=>zt.fromTag("tr",I.dom),lo=(I,W,te)=>{const me=Vr(I,W);return le(te,(Le,Ue)=>{Le===null?tn(me,Ue):ht(me,Ue,Le)}),me},Ko=I=>I,yo=(I,W,te)=>Rn(I).map(Le=>{const Ue=te.join(","),nt=jc(Le,Ue,xt=>rr(xt,I));return ce(nt,(xt,Lt)=>{const Jt=Bn(Lt);return _t(xt,Jt),Jt},W)}).getOr(W),fo=(I,W)=>{le(lr,(te,me)=>fn(I,me).filter(Le=>ee(te,Le)).each(Le=>ht(W,me,Le)))},Ha=(I,W,te)=>{const me=(nt,xt)=>{fu(nt.element,xt),Yc(xt,"height"),nt.colspan!==1&&Yc(xt,"width")},Le=nt=>{const xt=zt.fromTag(Cn(nt.element),W.dom),Lt=te.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Jt=Lt.length>0?yo(nt.element,xt,Lt):xt;return _t(Jt,zt.fromTag("br")),me(nt,xt),fo(nt.element,xt),I(nt.element,xt),xt};return{col:nt=>{const xt=zt.fromTag(Cn(nt.element),W.dom);return me(nt,xt),I(nt.element,xt),xt},colgroup:kr(W),row:eo(W),cell:Le,replace:lo,colGap:Jr(W),gap:zr(W)}},Vs=I=>({col:Jr(I),colgroup:kr(I),row:eo(I),cell:zr(I),replace:Ko,colGap:Jr(I),gap:zr(I)}),is=(I,W)=>{const me=(W||document).createElement("div");return me.innerHTML=I,St(zt.fromDom(me))},$r=I=>ae(I,zt.fromDom),_o=I=>W=>W.options.get(I),sa="100%",Ca=I=>{var W;const te=I.dom,me=(W=te.getParent(I.selection.getStart(),te.isBlock))!==null&&W!==void 0?W:I.getBody();return z0(zt.fromDom(me))+"px"},As=(I,W)=>wi(I)||!Ci(I)?W:Sl(I)?{...W,width:Ca(I)}:{...W,width:sa},qs=(I,W)=>wi(I)||Ci(I)?W:Sl(I)?{...W,width:Ca(I)}:{...W,width:sa},Di=I=>{const W=I.options.register;W("table_clone_elements",{processor:"string[]"}),W("table_use_colgroups",{processor:"boolean",default:!0}),W("table_header_type",{processor:te=>{const me=ee(["section","cells","sectionCells","auto"],te);return me?{value:te,valid:me}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),W("table_sizing_mode",{processor:"string",default:"auto"}),W("table_default_attributes",{processor:"object",default:{border:"1"}}),W("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),W("table_column_resizing",{processor:te=>{const me=ee(["preservetable","resizetable"],te);return me?{value:te,valid:me}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),W("table_resize_bars",{processor:"boolean",default:!0}),W("table_style_by_css",{processor:"boolean",default:!0}),W("table_merge_content_on_paste",{processor:"boolean",default:!0})},xi=I=>R.from(I.options.get("table_clone_elements")),xc=I=>{const W=I.options.get("object_resizing");return ee(W.split(","),"table")},Ii=_o("table_header_type"),tc=_o("table_column_resizing"),Cl=I=>tc(I)==="preservetable",Ga=I=>tc(I)==="resizetable",xu=_o("table_sizing_mode"),qu=I=>xu(I)==="relative",Sl=I=>xu(I)==="fixed",wi=I=>xu(I)==="responsive",Tl=_o("table_resize_bars"),Ci=_o("table_style_by_css"),Za=_o("table_merge_content_on_paste"),nc=I=>{const W=I.options,te=W.get("table_default_attributes");return W.isSet("table_default_attributes")?te:qs(I,te)},Yf=I=>{const W=I.options,te=W.get("table_default_styles");return W.isSet("table_default_styles")?te:As(I,te)},wu=_o("table_use_colgroups"),Th=I=>Bs(I,"[contenteditable]"),Kf=(I,W=!1)=>Ka(I)?I.dom.isContentEditable:Th(I).fold(C(W),te=>Q0(te)==="true"),Q0=I=>I.dom.contentEditable,ob=I=>zt.fromDom(I.getBody()),Md=I=>W=>rr(W,ob(I)),Xf=I=>{tn(I,"data-mce-style");const W=te=>tn(te,"data-mce-style");Q(ju(I),W),Q(_g(I),W),Q($p(I),W)},Cu=I=>zt.fromDom(I.selection.getStart()),Sm=I=>I.getBoundingClientRect().width,Tm=I=>I.getBoundingClientRect().height,D3=(I,W)=>{const te=I.dom.getStyle(W,"width")||I.dom.getAttrib(W,"width");return R.from(te).filter(dh)},ab=I=>/^(\d+(\.\d+)?)%$/.test(I),q0=I=>/^(\d+(\.\d+)?)px$/.test(I),sb=I=>li(I,Ze("table")).exists(Kf),$3=(I,W)=>{const te=W.column,me=W.column+W.colspan-1,Le=W.row,Ue=W.row+W.rowspan-1;return te<=I.finishCol&&me>=I.startCol&&Le<=I.finishRow&&Ue>=I.startRow},ib=(I,W)=>W.column>=I.startCol&&W.column+W.colspan-1<=I.finishCol&&W.row>=I.startRow&&W.row+W.rowspan-1<=I.finishRow,e1=(I,W)=>{let te=!0;const me=S(ib,W);for(let Le=W.startRow;Le<=W.finishRow;Le++)for(let Ue=W.startCol;Ue<=W.finishCol;Ue++)te=te&&aa.getAt(I,Le,Ue).exists(me);return te?R.some(W):R.none()},t1=(I,W)=>Os(Math.min(I.row,W.row),Math.min(I.column,W.column),Math.max(I.row+I.rowspan-1,W.row+W.rowspan-1),Math.max(I.column+I.colspan-1,W.column+W.colspan-1)),pa=(I,W,te)=>{const me=aa.findItem(I,W,rr),Le=aa.findItem(I,te,rr);return me.bind(Ue=>Le.map(nt=>t1(Ue,nt)))},go=(I,W,te)=>pa(I,W,te).bind(me=>e1(I,me)),kh=(I,W,te,me)=>aa.findItem(I,W,rr).bind(Le=>{const Ue=te>0?Le.row+Le.rowspan-1:Le.row,nt=me>0?Le.column+Le.colspan-1:Le.column;return aa.getAt(I,Ue+te,nt+me).map(Lt=>Lt.element)}),lb=(I,W,te)=>pa(I,W,te).map(me=>{const Le=aa.filterItems(I,S($3,me));return ae(Le,Ue=>Ue.element)}),n1=(I,W)=>{const te=(me,Le)=>Yr(Le,me);return aa.findItem(I,W,te).map(me=>me.element)},BE=(I,W,te)=>Kl(I).bind(me=>{const Le=W2(me);return kh(Le,I,W,te)}),V2=(I,W,te)=>{const me=W2(I);return lb(me,W,te)},bs=(I,W,te,me,Le)=>{const Ue=W2(I),nt=rr(I,te)?R.some(W):n1(Ue,W),xt=rr(I,Le)?R.some(me):n1(Ue,me);return nt.bind(Lt=>xt.bind(Jt=>lb(Ue,Lt,Jt)))},U2=(I,W,te)=>{const me=W2(I);return go(me,W,te)},W2=aa.fromTable;var G2=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Xn=()=>{const I=Jt=>zt.fromDom(Jt.dom.cloneNode(!1)),W=Jt=>xr(Jt).dom,te=Jt=>ft(Jt)?Cn(Jt)==="body"?!0:ee(G2,Cn(Jt)):!1,me=Jt=>ft(Jt)?ee(["br","img","hr","input"],Cn(Jt)):!1,Le=Jt=>ft(Jt)&&Et(Jt,"contenteditable")==="false",Ue=(Jt,Tn)=>Jt.dom.compareDocumentPosition(Tn.dom),nt=(Jt,Tn)=>{const sr=Zt(Jt);pt(Tn,sr)},xt=Jt=>{const Tn=Cn(Jt);return ee(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Tn)},Lt=Jt=>ft(Jt)?fn(Jt,"lang"):R.none();return{up:C({selector:qi,closest:Bs,predicate:Ms,all:Cr}),down:C({selector:Mi,predicate:zf}),styles:C({get:Ei,getRaw:Ag,set:Ps,remove:Yc}),attrs:C({get:Et,set:ht,remove:tn,copyTo:nt}),insert:C({before:Bt,after:Ut,afterAll:Qt,append:_t,appendAll:nn,prepend:Ot,wrap:cn}),remove:C({unwrap:gn,remove:bn}),create:C({nu:zt.fromTag,clone:I,text:zt.fromText}),query:C({comparePosition:Ue,prevSibling:He,nextSibling:De}),property:C({children:St,name:Cn,parent:ro,document:W,isText:wt,isComment:wn,isElement:ft,isSpecial:xt,getLanguage:Lt,getText:bt,setText:Wt,isBoundary:te,isEmptyTag:me,isNonEditable:Le}),eq:rr,is:_r}};const cb=(I,W,te,me)=>{const Le=te[0],Ue=te.slice(1);return me(I,W,Le,Ue)},HE=(I,W,te)=>te.length>0?cb(I,W,te,r1):R.none(),r1=(I,W,te,me)=>{const Le=W(I,te);return ce(me,(Ue,nt)=>{const xt=W(I,nt);return zE(I,Ue,xt)},Le)},zE=(I,W,te)=>W.bind(me=>te.filter(S(I.eq,me))),Gp=(I,W)=>S(I.eq,W),Z2=(I,W,te,me=M)=>{const Le=[W].concat(I.up().all(W)),Ue=[te].concat(I.up().all(te)),nt=Tn=>ye(Tn,me).fold(()=>Tn,Dr=>Tn.slice(0,Dr+1)),xt=nt(Le),Lt=nt(Ue),Jt=X(xt,Tn=>J(Lt,Gp(I,Tn)));return{firstpath:xt,secondpath:Lt,shared:Jt}},Ah=HE,VE=Z2,Ed=Xn(),ms=(I,W)=>Ah(Ed,(te,me)=>I(me),W),_d=(I,W,te)=>VE(Ed,I,W,te),j2=I=>qi(I,"table"),xf=(I,W,te)=>{const me=Le=>Ue=>te!==void 0&&te(Ue)||rr(Ue,Le);return rr(I,W)?R.some({boxes:R.some([I]),start:I,finish:W}):j2(I).bind(Le=>j2(W).bind(Ue=>{if(rr(Le,Ue))return R.some({boxes:V2(Le,I,W),start:I,finish:W});if(Yr(Le,Ue)){const nt=jc(W,"td,th",me(Le)),xt=nt.length>0?nt[nt.length-1]:W;return R.some({boxes:bs(Le,I,Le,W,Ue),start:I,finish:xt})}else if(Yr(Ue,Le)){const nt=jc(I,"td,th",me(Ue)),xt=nt.length>0?nt[nt.length-1]:I;return R.some({boxes:bs(Ue,I,Le,W,Ue),start:I,finish:xt})}else return _d(I,W).shared.bind(nt=>Bs(nt,"table",te).bind(xt=>{const Lt=jc(W,"td,th",me(xt)),Jt=Lt.length>0?Lt[Lt.length-1]:W,Tn=jc(I,"td,th",me(xt)),sr=Tn.length>0?Tn[Tn.length-1]:I;return R.some({boxes:bs(xt,I,Le,W,Ue),start:sr,finish:Jt})}))}))},Mh=(I,W)=>{const te=Mi(I,W);return te.length>0?R.some(te):R.none()},Y2=(I,W)=>X(I,te=>pr(te,W)),zg=(I,W,te)=>Ks(I,W).bind(me=>Ks(I,te).bind(Le=>ms(j2,[me,Le]).map(Ue=>({first:me,last:Le,table:Ue})))),O3=(I,W)=>qi(I,"table").bind(te=>Ks(te,W).bind(me=>xf(me,I).bind(Le=>Le.boxes.map(Ue=>({boxes:Ue,start:Le.start,finish:Le.finish}))))),ub=(I,W,te,me,Le)=>Y2(I,Le).bind(Ue=>BE(Ue,W,te).bind(nt=>O3(nt,me))),K2=(I,W)=>Mh(I,W),UE=(I,W,te)=>zg(I,W,te).bind(me=>{const Le=Lt=>rr(I,Lt),Ue="thead,tfoot,tbody,table",nt=qi(me.first,Ue,Le),xt=qi(me.last,Ue,Le);return nt.bind(Lt=>xt.bind(Jt=>rr(Lt,Jt)?U2(me.table,me.first,me.last):R.none()))}),X2=_,Rd=I=>{const W=(me,Le)=>fn(me,Le).exists(Ue=>parseInt(Ue,10)>1),te=me=>W(me,"rowspan")||W(me,"colspan");return I.length>0&&ke(I,te)?R.some(I):R.none()},t$=(I,W,te)=>W.length<=1?R.none():UE(I,te.firstSelectedSelector,te.lastSelectedSelector).map(me=>({bounds:me,cells:W})),J2="data-mce-selected",km="td["+J2+"],th["+J2+"]",kl="["+J2+"]",Xr="data-mce-first-selected",WE="td["+Xr+"],th["+Xr+"]",Q2="data-mce-last-selected",GE="td["+Q2+"],th["+Q2+"]",P3=kl,Vg={selected:J2,selectedSelector:km,firstSelected:Xr,firstSelectedSelector:WE,lastSelected:Q2,lastSelectedSelector:GE},Zp=(I,W,te)=>({element:te,mergable:t$(W,I,Vg),unmergable:Rd(I),selection:X2(I)}),o1=(I,W,te)=>({element:I,clipboard:W,generators:te}),jp=(I,W,te,me)=>({selection:X2(I),clipboard:te,generators:me}),fb=I=>Kl(I).bind(W=>K2(W,Vg.firstSelectedSelector)).fold(C(I),W=>W[0]),Eh=I=>(W,te)=>{const me=Cn(W),Le=me==="col"||me==="colgroup"?fb(W):W;return Bs(Le,I,te)},Jf=Eh("th,td,caption"),a1=Eh("th,td"),ef=I=>$r(I.model.table.getSelectedCells()),db=I=>Se(ef(I),W=>pr(W,Vg.selectedSelector)),I3=I=>Kl(I[0]).map(W=>{const te=Qe(W,P3);return Xf(te),[te]}),Yp=(I,W)=>ae(W,te=>I.selection.serializer.serialize(te.dom,{})).join(""),_h=I=>ae(I,W=>W.dom.innerText).join(""),ZE=(I,W)=>{I.on("BeforeGetContent",te=>{const me=Le=>{te.preventDefault(),I3(Le).each(Ue=>{te.content=te.format==="text"?_h(Ue):Yp(I,Ue)})};if(te.selection===!0){const Le=db(I);Le.length>=1&&me(Le)}}),I.on("BeforeSetContent",te=>{if(te.selection===!0&&te.paste===!0){const me=ef(I);ie(me).each(Le=>{Kl(Le).each(Ue=>{const nt=Se(is(te.content),Lt=>Cn(Lt)!=="meta"),xt=Ze("table");if(Za(I)&&nt.length===1&&xt(nt[0])){te.preventDefault();const Lt=zt.fromDom(I.getDoc()),Jt=Vs(Lt),Tn=o1(Le,nt[0],Jt);W.pasteCells(Ue,Tn).each(()=>{I.focus()})}})})}})},Kp=(I,W)=>({element:I,offset:W}),Ug=(I,W,te)=>I.property().isText(W)&&I.property().getText(W).trim().length===0||I.property().isComment(W)?te(W).bind(me=>Ug(I,me,te).orThunk(()=>R.some(me))):R.none(),wf=(I,W)=>I.property().isText(W)?I.property().getText(W).length:I.property().children(W).length,Qc=(I,W)=>{const te=Ug(I,W,I.query().prevSibling).getOr(W);if(I.property().isText(te))return Kp(te,wf(I,te));const me=I.property().children(te);return me.length>0?Qc(I,me[me.length-1]):Kp(te,wf(I,te))},jE=Qc,N3=Xn(),F3=I=>jE(N3,I),q2=(I,W)=>{il(I)||qn(I).each(me=>{const Le=me.value/2;yc(I,Le,me.unit),yc(W,Le,me.unit)})},qc=I=>ae(I,C(0)),Xp=(I,W,te,me,Le)=>Le(I.slice(0,W)).concat(me).concat(Le(I.slice(te))),hb=I=>(W,te,me,Le)=>{if(I(me)){const Ue=Math.max(Le,W[te]-Math.abs(me)),nt=Math.abs(Ue-W[te]);return me>=0?nt:-nt}else return me},mb=hb(I=>I<0),YE=hb(k),B3=()=>{const I=(xt,Lt,Jt,Tn,sr)=>{const Dr=mb(xt,Lt,Tn,sr);return Xp(xt,Lt,Jt+1,[Dr,0],qc)},W=(xt,Lt,Jt,Tn)=>{const sr=(100+Jt)/100,Dr=Math.max(Tn,(xt[Lt]+Jt)/sr);return ae(xt,(Rr,Jn)=>(Jn===Lt?Dr:Rr/sr)-Rr)},te=(xt,Lt,Jt,Tn,sr,Dr)=>Dr?W(xt,Lt,Tn,sr):I(xt,Lt,Jt,Tn,sr);return{resizeTable:(xt,Lt)=>xt(Lt),clampTableDelta:mb,calcLeftEdgeDeltas:te,calcMiddleDeltas:(xt,Lt,Jt,Tn,sr,Dr,Rr)=>te(xt,Jt,Tn,sr,Dr,Rr),calcRightEdgeDeltas:(xt,Lt,Jt,Tn,sr,Dr)=>{if(Dr)return W(xt,Jt,Tn,sr);{const Rr=mb(xt,Jt,Tn,sr);return qc(xt.slice(0,Jt)).concat([Rr])}},calcRedestributedWidths:(xt,Lt,Jt,Tn)=>{if(Tn){const Dr=(Lt+Jt)/Lt,Rr=ae(xt,Jn=>Jn/Dr);return{delta:Dr*100-100,newSizes:Rr}}else return{delta:Jt,newSizes:xt}}}},ew=()=>{const I=(nt,xt,Lt,Jt,Tn)=>{const sr=Jt>=0?Lt:xt,Dr=YE(nt,sr,Jt,Tn);return Xp(nt,xt,Lt+1,[Dr,-Dr],qc)};return{resizeTable:(nt,xt,Lt)=>{Lt&&nt(xt)},clampTableDelta:(nt,xt,Lt,Jt,Tn)=>{if(Tn){if(Lt>=0)return Lt;{const sr=ne(nt,(Dr,Rr)=>Dr+Rr-Jt,0);return Math.max(-sr,Lt)}}else return mb(nt,xt,Lt,Jt)},calcLeftEdgeDeltas:I,calcMiddleDeltas:(nt,xt,Lt,Jt,Tn,sr)=>I(nt,Lt,Jt,Tn,sr),calcRightEdgeDeltas:(nt,xt,Lt,Jt,Tn,sr)=>{if(sr)return qc(nt);{const Dr=Jt/nt.length;return ae(nt,C(Dr))}},calcRedestributedWidths:(nt,xt,Lt,Jt)=>({delta:0,newSizes:nt})}},Jp=I=>aa.fromTable(I).grid,Qp=Ze("th"),gb=I=>ke(I,W=>Qp(W.element)),KE=(I,W)=>I&&W?"sectionCells":I?"section":"cells",pb=I=>{const W=I.section==="thead",te=df(qp(I.cells),"th");return I.section==="tfoot"?{type:"footer"}:W||te?{type:"header",subType:KE(W,te)}:{type:"body"}},qp=I=>{const W=Se(I,te=>Qp(te.element));return W.length===0?R.some("td"):W.length===I.length?R.some("th"):R.none()},XE=I=>{const W=ae(I,Le=>pb(Le).type),te=ee(W,"header"),me=ee(W,"footer");if(!te&&!me)return R.some("body");{const Le=ee(W,"body");return te&&!Le&&!me?R.some("header"):!te&&!Le&&me?R.some("footer"):R.none()}},s1=I=>se(I.all,W=>{const te=pb(W);return te.type==="header"?R.from(te.subType):R.none()}),tw=(I,W,te)=>Yo(te(I.element,W),!0,I.isLocked),eu=(I,W)=>I.section!==W?Fa(I.element,I.cells,W,I.isNew):I,vb=()=>({transformRow:eu,transformCell:(I,W,te)=>{const me=te(I.element,W),Le=Cn(me)!=="td"?ar(me,"td"):me;return Yo(Le,I.isNew,I.isLocked)}}),H3=()=>({transformRow:eu,transformCell:tw}),yb=()=>({transformRow:(I,W)=>eu(I,W==="thead"?"tbody":W),transformCell:tw}),Am={getTableSectionType:(I,W)=>{const te=aa.fromTable(I);switch(s1(te).getOr(W)){case"section":return vb();case"sectionCells":return H3();case"cells":return yb()}},section:vb,sectionCells:H3,cells:yb,fallback:()=>({transformRow:_,transformCell:tw})},Ld=(I,W,te,me)=>{te===me?tn(I,W):ht(I,W,te)},nw=(I,W,te)=>{we(To(I,W)).fold(()=>Ot(I,te),me=>Ut(me,te))},ev=(I,W)=>{const te=Bo(I,W).getOrThunk(()=>{const me=zt.fromTag(W,Ln(I).dom);return W==="thead"?nw(I,"caption,colgroup",me):W==="colgroup"?nw(I,"caption",me):_t(I,me),me});return Sn(te),te},xb=(I,W)=>{const te=[],me=[],Le=Rr=>ae(Rr,Jn=>{Jn.isNew&&te.push(Jn.element);const Or=Jn.element;return Sn(Or),Q(Jn.cells,Kn=>{Kn.isNew&&me.push(Kn.element),Ld(Kn.element,"colspan",Kn.colspan,1),Ld(Kn.element,"rowspan",Kn.rowspan,1),_t(Or,Kn.element)}),Or}),Ue=Rr=>$e(Rr,Jn=>ae(Jn.cells,Or=>(Ld(Or.element,"span",Or.colspan,1),Or.element))),nt=(Rr,Jn)=>{const Or=ev(I,Jn),oo=(Jn==="colgroup"?Ue:Le)(Rr);nn(Or,oo)},xt=Rr=>{Bo(I,Rr).each(bn)},Lt=(Rr,Jn)=>{Rr.length>0?nt(Rr,Jn):xt(Jn)},Jt=[],Tn=[],sr=[],Dr=[];return Q(W,Rr=>{switch(Rr.section){case"thead":Jt.push(Rr);break;case"tbody":Tn.push(Rr);break;case"tfoot":sr.push(Rr);break;case"colgroup":Dr.push(Rr);break}}),Lt(Dr,"colgroup"),Lt(Jt,"thead"),Lt(Tn,"tbody"),Lt(sr,"tfoot"),{newRows:te,newCells:me}},z3=I=>ae(I,W=>{const te=Bn(W.element);return Q(W.cells,me=>{const Le=Hr(me.element);Ld(Le,"colspan",me.colspan,1),Ld(Le,"rowspan",me.rowspan,1),_t(te,Le)}),te}),Cs=(I,W)=>ae(I,te=>$l(te,W)),JE=(I,W)=>I[W],hi=(I,W)=>{if(I.length===0)return 0;const te=I[0];return ye(I,Le=>!W(te.element,Le.element)).getOr(I.length)},V3=(I,W,te,me)=>{const Le=JE(I,W),Ue=Le.section==="colgroup",nt=hi(Le.cells.slice(te),me),xt=Ue?1:hi(Cs(I.slice(W),te),me);return{colspan:nt,rowspan:xt}},Is=(I,W)=>{const te=ae(I,Le=>ae(Le.cells,M)),me=(Le,Ue,nt,xt)=>{for(let Lt=Le;Lt<Le+nt;Lt++)for(let Jt=Ue;Jt<Ue+xt;Jt++)te[Lt][Jt]=!0};return ae(I,(Le,Ue)=>{const nt=$e(Le.cells,(xt,Lt)=>{if(te[Ue][Lt]===!1){const Jt=V3(I,Ue,Lt,W);return me(Ue,Lt,Jt.rowspan,Jt.colspan),[bo(xt.element,Jt.rowspan,Jt.colspan,xt.isNew)]}else return[]});return Va(Le.element,nt,Le.section,Le.isNew)})},tv=(I,W,te)=>{const me=[];Q(I.colgroups,Le=>{const Ue=[];for(let nt=0;nt<I.grid.columns;nt++){const xt=aa.getColumnAt(I,nt).map(Lt=>Yo(Lt.element,te,!1)).getOrThunk(()=>Yo(W.colGap(),!0,!1));Ue.push(xt)}me.push(Fa(Le.element,Ue,"colgroup",te))});for(let Le=0;Le<I.grid.rows;Le++){const Ue=[];for(let Lt=0;Lt<I.grid.columns;Lt++){const Jt=aa.getAt(I,Le,Lt).map(Tn=>Yo(Tn.element,te,Tn.isLocked)).getOrThunk(()=>Yo(W.gap(),!0,!1));Ue.push(Jt)}const nt=I.all[Le],xt=Fa(nt.element,Ue,nt.section,te);me.push(xt)}return me},Ni=(I,W)=>tv(I,W,!1),Us=I=>Is(I,rr),Su=(I,W)=>se(I.all,te=>X(te.cells,me=>rr(W,me.element))),rw=(I,W,te)=>{const me=ae(W.selection,Ue=>Dp(Ue).bind(nt=>Su(I,nt)).filter(te)),Le=Ls(me);return uu(Le.length>0,Le)},Al=(I,W,te,me,Le)=>(Ue,nt,xt,Lt)=>{const Jt=aa.fromTable(Ue),Tn=R.from(Lt==null?void 0:Lt.section).getOrThunk(Am.fallback);return W(Jt,nt).map(Dr=>{const Rr=Ni(Jt,xt),Jn=I(Rr,Dr,rr,Le(xt),Tn),Or=Ri(Jn.grid),Kn=Us(Jn.grid);return{info:Dr,grid:Kn,cursor:Jn.cursor,lockedColumns:Or}}).bind(Dr=>{const Rr=xb(Ue,Dr.grid),Jn=R.from(Lt==null?void 0:Lt.sizing).getOrThunk(()=>ec.getTableSize(Ue)),Or=R.from(Lt==null?void 0:Lt.resize).getOrThunk(ew);return te(Ue,Dr.grid,Dr.info,{sizing:Jn,resize:Or,section:Tn}),me(Ue),tn(Ue,Np),Dr.lockedColumns.length>0&&ht(Ue,Np,Dr.lockedColumns.join(",")),R.some({cursor:Dr.cursor,newRows:Rr.newRows,newCells:Rr.newCells})})},i1=(I,W)=>Dp(W.element).bind(te=>Su(I,te).map(me=>({...me,generators:W.generators,clipboard:W.clipboard}))),nv=(I,W)=>rw(I,W,k).map(te=>({cells:te,generators:W.generators,clipboard:W.clipboard})),Dd=(I,W)=>W.mergable,rv=(I,W)=>W.unmergable,Mm=(I,W)=>rw(I,W,k),Rh=(I,W)=>rw(I,W,te=>!te.isLocked),QE=(I,W)=>Su(I,W).exists(te=>!te.isLocked),U3=(I,W)=>ke(W,te=>QE(I,te)),r$=(I,W)=>Dd(I,W).filter(te=>U3(I,te.cells)),o$=(I,W)=>rv(I,W).filter(te=>U3(I,te)),Cf=(I,W,te,me)=>{const Le=_i(I).rows;if(Le.length===0)return I;for(let Ue=W.startRow;Ue<=W.finishRow;Ue++)for(let nt=W.startCol;nt<=W.finishCol;nt++){const xt=Le[Ue],Lt=$l(xt,nt).isLocked;vh(xt,nt,Yo(me(),!1,Lt))}return I},rc=(I,W,te,me)=>{const Le=_i(I).rows;let Ue=!0;for(let nt=0;nt<Le.length;nt++)for(let xt=0;xt<Lc(Le[0]);xt++){const Lt=Le[nt],Jt=$l(Lt,xt),Tn=Jt.element,sr=te(Tn,W);sr&&!Ue?vh(Lt,xt,Yo(me(),!0,Jt.isLocked)):sr&&(Ue=!1)}return I},qE=(I,W)=>ne(I,(te,me)=>J(te,Le=>W(Le.element,me.element))?te:te.concat([me]),[]),e4=(I,W,te,me)=>(W>0&&W<I[0].cells.length&&Q(I,Le=>{const Ue=Le.cells[W-1];let nt=0;const xt=me();for(;Le.cells.length>W+nt&&te(Ue.element,Le.cells[W+nt].element);)vh(Le,W+nt,Yo(xt,!0,Le.cells[W+nt].isLocked)),nt++}),I),Em=(I,W,te,me)=>{const Le=_i(I).rows;if(W>0&&W<Le.length){const Ue=Le[W-1].cells,nt=qE(Ue,te);Q(nt,xt=>{let Lt=R.none();for(let Jt=W;Jt<Le.length;Jt++)for(let Tn=0;Tn<Lc(Le[0]);Tn++){const sr=Le[Jt],Dr=$l(sr,Tn);te(Dr.element,xt.element)&&(Lt.isNone()&&(Lt=R.some(me())),Lt.each(Jn=>{vh(sr,Tn,Yo(Jn,!0,Dr.isLocked))}))}})}return I},l1=I=>{const W=Ue=>Ue(I),te=C(I),me=()=>Le,Le={tag:!0,inner:I,fold:(Ue,nt)=>nt(I),isValue:k,isError:M,map:Ue=>$d.value(Ue(I)),mapError:me,bind:W,exists:W,forall:W,getOr:te,or:me,getOrThunk:te,orThunk:me,getOrDie:te,each:Ue=>{Ue(I)},toOptional:()=>R.some(I)};return Le},wb=I=>{const W=()=>te,te={tag:!1,inner:I,fold:(me,Le)=>me(I),isValue:M,isError:k,map:W,mapError:me=>$d.error(me(I)),bind:W,exists:M,forall:k,getOr:_,or:_,getOrThunk:N,orThunk:N,getOrDie:D(String(I)),each:g,toOptional:R.none};return te},$d={value:l1,error:wb,fromOption:(I,W)=>I.fold(()=>wb(W),l1)},ov=(I,W,te)=>{if(I.row>=W.length||I.column>Lc(W[0]))return $d.error("invalid start address out of table bounds, row: "+I.row+", column: "+I.column);const me=W.slice(I.row),Le=me[0].cells.slice(I.column),Ue=Lc(te[0]),nt=te.length;return $d.value({rowDelta:me.length-nt,colDelta:Le.length-Ue})},av=(I,W)=>{const te=Lc(I[0]),me=Lc(W[0]);return{rowDelta:0,colDelta:te-me}},sv=(I,W)=>{const te=I.length,me=W.length;return{rowDelta:te-me,colDelta:0}},Wg=(I,W,te,me)=>{const Le=W.section==="colgroup"?te.col:te.cell;return K(I,Ue=>Yo(Le(),!0,me(Ue)))},W3=(I,W,te,me)=>{const Le=I[I.length-1];return I.concat(K(W,()=>{const Ue=Le.section==="colgroup"?te.colgroup:te.row,nt=W0(Le,Ue,_),xt=Wg(nt.cells.length,nt,te,Lt=>Ge(me,Lt.toString()));return V0(nt,xt)}))},ai=(I,W,te,me)=>ae(I,Le=>{const Ue=Wg(W,Le,te,M);return vc(Le,me,Ue)}),G3=(I,W,te)=>ae(I,me=>ne(te,(Le,Ue)=>{const nt=Wg(1,me,W,k)[0];return kd(Le,Ue,nt)},me)),iv=(I,W,te)=>{const me=W.colDelta<0?ai:_,Le=W.rowDelta<0?W3:_,Ue=Ri(I),nt=Lc(I[0]),xt=J(Ue,Tn=>Tn===nt-1),Lt=me(I,Math.abs(W.colDelta),te,xt?nt-1:nt),Jt=Ri(Lt);return Le(Lt,Math.abs(W.rowDelta),te,Ve(Jt,k))},Z3=(I,W,te,me)=>{const Le=$l(I[W],te),Ue=S(me,Le.element),nt=I[W];return I.length>1&&Lc(nt)>1&&(te>0&&Ue(ui(nt,te-1))||te<nt.cells.length-1&&Ue(ui(nt,te+1))||W>0&&Ue(ui(I[W-1],te))||W<I.length-1&&Ue(ui(I[W+1],te)))},Sb=(I,W,te,me,Le,Ue)=>{const nt=I.row,xt=I.column,Lt=te.length,Jt=Lc(te[0]),Tn=nt+Lt,sr=xt+Jt+Ue.length,Dr=Ve(Ue,k);for(let Rr=nt;Rr<Tn;Rr++){let Jn=0;for(let Or=xt;Or<sr;Or++){if(Dr[Or]){Jn++;continue}Z3(W,Rr,Or,Le)&&rc(W,ui(W[Rr],Or),Le,me.cell);const Kn=Or-xt-Jn,oo=$l(te[Rr-nt],Kn),Ro=oo.element,Qo=me.replace(Ro);vh(W[Rr],Or,Yo(Qo,!0,oo.isLocked))}}return W},Pl=(I,W,te)=>{const me=Lc(W[0]),Le=_i(W).cols.length+I.row,Ue=K(me-I.column,xt=>xt+I.column),nt=X(Ue,xt=>ke(te,Lt=>Lt!==xt)).getOr(me-1);return{row:Le,column:nt}},Tu=(I,W,te)=>Se(te,me=>me>=I.column&&me<=Lc(W[0])+I.column),j3=(I,W,te,me,Le)=>{const Ue=Ri(W),nt=Pl(I,W,Ue),xt=_i(te).rows,Lt=Tu(nt,xt,Ue);return ov(nt,W,xt).map(Tn=>{const sr={...Tn,colDelta:Tn.colDelta-Lt.length},Dr=iv(W,sr,me),Rr=Ri(Dr),Jn=Tu(nt,xt,Rr);return Sb(nt,Dr,xt,me,Le,Jn)})},Tb=(I,W,te,me,Le)=>{e4(W,I,Le,me.cell);const Ue=sv(te,W),nt=iv(te,Ue,me),xt=sv(W,nt),Lt=iv(W,xt,me);return ae(Lt,(Jt,Tn)=>vc(Jt,I,nt[Tn].cells))},Gg=(I,W,te,me,Le)=>{Em(W,I,Le,me.cell);const Ue=Ri(W),nt=av(W,te),xt={...nt,colDelta:nt.colDelta-Ue.length},Lt=iv(W,xt,me),{cols:Jt,rows:Tn}=_i(Lt),sr=Ri(Lt),Dr=av(te,W),Rr={...Dr,colDelta:Dr.colDelta+sr.length},Jn=G3(te,me,sr),Or=iv(Jn,Rr,me);return[...Jt,...Tn.slice(0,I),...Or,...Tn.slice(I,Tn.length)]},t4=(I,W,te,me)=>W0(I,Le=>me(Le,te),W),Y3=(I,W,te,me,Le)=>{const{rows:Ue,cols:nt}=_i(I),xt=Ue.slice(0,W),Lt=Ue.slice(W),Jt=t4(Ue[te],(Tn,sr)=>W>0&&W<Ue.length&&me(ui(Ue[W-1],sr),ui(Ue[W],sr))?$l(Ue[W],sr):Yo(Le(Tn.element,me),!0,Tn.isLocked),me,Le);return[...nt,...xt,Jt,...Lt]},ow=(I,W,te,me,Le,Ue,nt)=>{if(te==="colgroup"||!me){const xt=$l(I,Le);return Yo(nt(xt.element,Ue),!0,!1)}else return $l(I,W)},tu=(I,W,te,me,Le)=>ae(I,Ue=>{const nt=W>0&&W<Lc(Ue)&&me(ui(Ue,W-1),ui(Ue,W)),xt=ow(Ue,W,Ue.section,nt,te,me,Le);return kd(Ue,W,xt)}),kb=(I,W)=>$e(I,te=>{const me=te.cells,Le=ce(W,(Ue,nt)=>nt>=0&&nt<Ue.length?Ue.slice(0,nt).concat(Ue.slice(nt+1)):Ue,me);return Le.length>0?[Fa(te.element,Le,te.section,te.isNew)]:[]}),mi=(I,W,te)=>{const{rows:me,cols:Le}=_i(I);return[...Le,...me.slice(0,W),...me.slice(te+1)]},Qf=(I,W,te,me)=>ui(I[W],te)!==void 0&&W>0&&me(ui(I[W-1],te),ui(I[W],te)),lv=(I,W,te)=>W>0&&te(ui(I,W-1),ui(I,W)),_m=(I,W,te,me)=>Qf(I,W,te,me)||lv(I[W],te,me),Zg=(I,W)=>ke(W,_)&&gb(I.cells)?k:(me,Le,Ue)=>!(Cn(me.element)==="th"&&W[Ue]),jg=(I,W)=>ke(W,_)&&gb(I)?k:(me,Le,Ue)=>!(Cn(me.element)==="th"&&W[Le]),Lh=(I,W,te,me)=>{const Le=nt=>nt==="row"?Yl(W):il(W),Ue=nt=>Le(nt)?`${nt}group`:nt;return I?Qp(W)?Ue(te):null:me&&Qp(W)?Ue(te==="row"?"col":"row"):null},K3=(I,W)=>(te,me,Le)=>R.some(Lh(I,te.element,"col",W[Le])),Yg=(I,W)=>(te,me)=>R.some(Lh(I,te.element,"row",W[me])),Rm=(I,W,te)=>Yo(te(I.element,W),!0,I.isLocked),Kg=(I,W,te,me,Le,Ue,nt)=>{const xt=Lt=>J(W,Jt=>te(Lt.element,Jt.element));return ae(I,(Lt,Jt)=>U0(Lt,(Tn,sr)=>{if(xt(Tn)){const Dr=nt(Tn,Jt,sr)?Le(Tn,te,me):Tn;return Ue(Dr,Jt,sr).each(Rr=>{Tt(Dr.element,{scope:R.from(Rr)})}),Dr}else return Tn}))},X3=(I,W,te)=>$e(I,(me,Le)=>_m(I,Le,W,te)?[]:[$l(me,W)]),n4=(I,W,te)=>{const me=I[W];return $e(me.cells,(Le,Ue)=>_m(I,W,Ue,te)?[]:[Le])},aw=(I,W,te,me,Le)=>{const Ue=_i(I).rows,nt=$e(W,Tn=>X3(Ue,Tn,me)),xt=ae(Ue,Tn=>gb(Tn.cells)),Lt=jg(nt,xt),Jt=Yg(te,xt);return Kg(I,nt,me,Le,Rm,Jt,Lt)},r4=(I,W,te,me,Le,Ue,nt)=>{const{cols:xt,rows:Lt}=_i(I),Jt=Lt[W[0]],Tn=$e(W,Kn=>n4(Lt,Kn,Le)),sr=ae(Jt.cells,(Kn,oo)=>gb(X3(Lt,oo,Le))),Dr=[...Lt];Q(W,Kn=>{Dr[Kn]=nt.transformRow(Lt[Kn],te)});const Rr=[...xt,...Dr],Jn=Zg(Jt,sr),Or=K3(me,sr);return Kg(Rr,Tn,Le,Ue,nt.transformCell,Or,Jn)},Ab=(I,W,te,me)=>{const Le=_i(I).rows,Ue=ae(W,nt=>$l(Le[nt.row],nt.column));return Kg(I,Ue,te,me,Rm,R.none,k)},nu={generate:I=>{if(!s(I))throw new Error("cases must be an array");if(I.length===0)throw new Error("there must be at least one case");const W=[],te={};return Q(I,(me,Le)=>{const Ue=ue(me);if(Ue.length!==1)throw new Error("one and only one name per case");const nt=Ue[0],xt=me[nt];if(te[nt]!==void 0)throw new Error("duplicate key detected:"+nt);if(nt==="cata")throw new Error("cannot have a case named cata (sorry)");if(!s(xt))throw new Error("case arguments must be an array");W.push(nt),te[nt]=(...Lt)=>{const Jt=Lt.length;if(Jt!==xt.length)throw new Error("Wrong number of arguments to case "+nt+". Expected "+xt.length+" ("+xt+"), got "+Jt);return{fold:(...sr)=>{if(sr.length!==I.length)throw new Error("Wrong number of arguments to fold. Expected "+I.length+", got "+sr.length);return sr[Le].apply(null,Lt)},match:sr=>{const Dr=ue(sr);if(W.length!==Dr.length)throw new Error("Wrong number of arguments to match. Expected: "+W.join(",")+`
Actual: `+Dr.join(","));if(!ke(W,Jn=>ee(Dr,Jn)))throw new Error("Not all branches were specified when using match. Specified: "+Dr.join(", ")+`
Required: `+W.join(", "));return sr[nt].apply(null,Lt)},log:sr=>{console.log(sr,{constructors:W,constructor:nt,params:Lt})}}}}),te}},cv={...nu.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Q3=(I,W)=>I.length===0?cv.none():I.length===1?cv.only(0):W===0?cv.left(0,1):W===I.length-1?cv.right(W-1,W):W>0&&W<I.length-1?cv.middle(W-1,W,W+1):cv.none(),o4=(I,W,te,me,Le)=>{const Ue=I.slice(0),nt=Q3(I,W),xt=C(ae(Ue,C(0))),Lt=Dr=>me.singleColumnWidth(Ue[Dr],te),Jt=(Dr,Rr)=>Le.calcLeftEdgeDeltas(Ue,Dr,Rr,te,me.minCellWidth(),me.isRelative),Tn=(Dr,Rr,Jn)=>Le.calcMiddleDeltas(Ue,Dr,Rr,Jn,te,me.minCellWidth(),me.isRelative),sr=(Dr,Rr)=>Le.calcRightEdgeDeltas(Ue,Dr,Rr,te,me.minCellWidth(),me.isRelative);return nt.fold(xt,Lt,Jt,Tn,sr)},c1=(I,W,te)=>{let me=0;for(let Le=I;Le<W;Le++)me+=te[Le]!==void 0?te[Le]:0;return me},Lm=(I,W)=>{const te=aa.justCells(I);return ae(te,me=>{const Le=c1(me.column,me.column+me.colspan,W);return{element:me.element,width:Le,colspan:me.colspan}})},Mb=(I,W)=>{const te=aa.justColumns(I);return ae(te,(me,Le)=>({element:me.element,width:W[Le],colspan:me.colspan}))},Sa=(I,W)=>{const te=aa.justCells(I);return ae(te,me=>{const Le=c1(me.row,me.row+me.rowspan,W);return{element:me.element,height:Le,rowspan:me.rowspan}})},ru=(I,W)=>ae(I.all,(te,me)=>({element:te.element,height:W[me]})),qf=I=>ce(I,(W,te)=>W+te,0),iw=(I,W)=>aa.hasColumns(I)?Mb(I,W):Lm(I,W),rs=(I,W,te)=>{const me=iw(I,W);Q(me,Le=>{te.setElementWidth(Le.element,Le.width)})},u1=(I,W,te,me,Le)=>{const Ue=aa.fromTable(I),nt=Le.getCellDelta(W),xt=Le.getWidths(Ue,Le),Lt=te===Ue.grid.columns-1,Jt=me.clampTableDelta(xt,te,nt,Le.minCellWidth(),Lt),Tn=o4(xt,te,Jt,Le,me),sr=ae(Tn,(Dr,Rr)=>Dr+xt[Rr]);rs(Ue,sr,Le),me.resizeTable(Le.adjustTableWidth,Jt,Lt)},lw=(I,W,te,me)=>{const Le=aa.fromTable(I),Ue=En(Le,I,me),nt=ae(Ue,(Tn,sr)=>te===sr?Math.max(W+Tn,Zu()):Tn),xt=Sa(Le,nt),Lt=ru(Le,nt);Q(Lt,Tn=>{cl(Tn.element,Tn.height)}),Q(xt,Tn=>{cl(Tn.element,Tn.height)});const Jt=qf(nt);cl(I,Jt)},Zi=(I,W,te,me,Le)=>{const Ue=aa.generate(W),nt=me.getWidths(Ue,me),xt=me.pixelWidth(),{newSizes:Lt,delta:Jt}=Le.calcRedestributedWidths(nt,xt,te.pixelDelta,me.isRelative);rs(Ue,Lt,me),me.adjustTableWidth(Jt)},Od=(I,W,te,me)=>{const Le=aa.generate(W),Ue=me.getWidths(Le,me);rs(Le,Ue,me)},Dm=I=>ne(I,(te,me)=>J(te,Ue=>Ue.column===me.column)?te:te.concat([me]),[]).sort((te,me)=>te.column-me.column),cw=Ze("col"),Eb=Ze("colgroup"),f1=I=>Cn(I)==="tr"||Eb(I),uw=I=>{const W=ws(I,"colspan",1),te=ws(I,"rowspan",1);return{element:I,colspan:W,rowspan:te}},_b=(I,W=uw)=>{const te=xt=>cw(xt.element)?I.col(xt):I.cell(xt),me=xt=>Eb(xt.element)?I.colgroup(xt):I.row(xt),Le=xt=>{if(f1(xt))return me({element:xt});{const Lt=xt,Jt=te(W(Lt));return Ue=R.some({item:Lt,replacement:Jt}),Jt}};let Ue=R.none();return{getOrInit:(xt,Lt)=>Ue.fold(()=>Le(xt),Jt=>Lt(xt,Jt.item)?Jt.replacement:Le(xt))}},Pd=I=>W=>{const te=[],me=(nt,xt)=>X(te,Lt=>xt(Lt.item,nt)),Le=nt=>{const xt=I==="td"?{scope:null}:{},Lt=W.replace(nt,I,xt);return te.push({item:nt,sub:Lt}),Lt};return{replaceOrInit:(nt,xt)=>{if(f1(nt)||cw(nt))return nt;{const Lt=nt;return me(Lt,xt).fold(()=>Le(Lt),Jt=>xt(nt,Jt.item)?Jt.sub:Le(Lt))}}}},Dh=I=>fn(I,"scope").map(W=>W.substr(0,3)),In={modification:_b,transform:Pd,merging:I=>({unmerge:me=>{const Le=Dh(me);return Le.each(Ue=>ht(me,"scope",Ue)),()=>{const Ue=I.cell({element:me,colspan:1,rowspan:1});return Yc(Ue,"width"),Yc(me,"width"),Le.each(nt=>ht(Ue,"scope",nt)),Ue}},merge:me=>{const Le=()=>{const Ue=Ls(ae(me,Dh));if(Ue.length===0)return R.none();{const nt=Ue[0],xt=["row","col"];return J(Ue,Jt=>Jt!==nt&&ee(xt,Jt))?R.none():R.from(nt)}};return Yc(me[0],"width"),Le().fold(()=>tn(me[0],"scope"),Ue=>ht(me[0],"scope",Ue+"group")),C(me[0])}})},d1=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],uv=(I,W)=>{const te=I.property().name(W);return ee(["ol","ul"],te)},ku=(I,W)=>{const te=I.property().name(W);return ee(d1,te)},fw=(I,W)=>ee(["br","img","hr","input"],I.property().name(W)),Ds=Xn(),Rb=I=>ku(Ds,I),$h=I=>uv(Ds,I),dw=I=>fw(Ds,I),Lb=I=>{const W=Ze("br"),te=Lt=>ke(Lt,Jt=>W(Jt)||wt(Jt)&&bt(Jt).trim().length===0),me=Lt=>Cn(Lt)==="li"||Ms(Lt,$h).isSome(),Le=Lt=>De(Lt).map(Jt=>Rb(Jt)?!0:dw(Jt)?Cn(Jt)!=="img":!1).getOr(!1),Ue=Lt=>Mn(Lt).bind(Jt=>{const Tn=Le(Jt);return ro(Jt).map(sr=>Tn===!0||me(sr)||W(Jt)||Rb(sr)&&!rr(Lt,sr)?[]:[zt.fromTag("br")])}).getOr([]),xt=(()=>{const Lt=$e(I,Jt=>{const Tn=St(Jt);return te(Tn)?[]:Tn.concat(Ue(Jt))});return Lt.length===0?[zt.fromTag("br")]:Lt})();Sn(I[0]),nn(I[0],xt)},hw=I=>Kf(I,!0),h1=I=>{ju(I).length===0&&bn(I)},fv=(I,W)=>({grid:I,cursor:W}),mw=I=>se(I,W=>se(W.cells,te=>{const me=te.element;return uu(hw(me),me)})),s4=(I,W,te)=>{var me,Le;const Ue=_i(I).rows;return R.from((Le=(me=Ue[W])===null||me===void 0?void 0:me.cells[te])===null||Le===void 0?void 0:Le.element).filter(hw).orThunk(()=>mw(Ue))},wc=(I,W,te)=>{const me=s4(I,W,te);return fv(I,me)},ji=I=>ne(I,(te,me)=>J(te,Ue=>Ue.row===me.row)?te:te.concat([me]),[]).sort((te,me)=>te.row-me.row),Ml=(I,W,te,me)=>{const Le=W[0].row,Ue=ji(W),nt=ce(Ue,(xt,Lt)=>({grid:Y3(xt.grid,Le,Lt.row+xt.delta,te,me.getOrInit),delta:xt.delta+1}),{grid:I,delta:0}).grid;return wc(nt,Le,W[0].column)},Cc=(I,W,te,me)=>{const Le=ji(W),Ue=Le[Le.length-1],nt=Ue.row+Ue.rowspan,xt=ce(Le,(Lt,Jt)=>Y3(Lt,nt,Jt.row,te,me.getOrInit),I);return wc(xt,nt,W[0].column)},Il=(I,W,te,me)=>{const Le=W.details,Ue=Dm(Le),nt=Ue[0].column,xt=ce(Ue,(Lt,Jt)=>({grid:tu(Lt.grid,nt,Jt.column+Lt.delta,te,me.getOrInit),delta:Lt.delta+1}),{grid:I,delta:0}).grid;return wc(xt,Le[0].row,nt)},oc=(I,W,te,me)=>{const Le=W.details,Ue=Le[Le.length-1],nt=Ue.column+Ue.colspan,xt=Dm(Le),Lt=ce(xt,(Jt,Tn)=>tu(Jt,nt,Tn.column,te,me.getOrInit),I);return wc(Lt,Le[0].row,nt)},Yi=(I,W,te,me)=>{const Le=Dm(W),Ue=ae(Le,xt=>xt.column),nt=aw(I,Ue,!0,te,me.replaceOrInit);return wc(nt,W[0].row,W[0].column)},gw=(I,W,te,me)=>{const Le=Ab(I,W,te,me.replaceOrInit);return wc(Le,W[0].row,W[0].column)},m1=(I,W,te,me)=>{const Le=Dm(W),Ue=ae(Le,xt=>xt.column),nt=aw(I,Ue,!1,te,me.replaceOrInit);return wc(nt,W[0].row,W[0].column)},pw=(I,W,te,me)=>{const Le=Ab(I,W,te,me.replaceOrInit);return wc(Le,W[0].row,W[0].column)},g1=(I,W)=>(te,me,Le,Ue,nt)=>{const xt=ji(me),Lt=ae(xt,Tn=>Tn.row),Jt=r4(te,Lt,I,W,Le,Ue.replaceOrInit,nt);return wc(Jt,me[0].row,me[0].column)},vw=g1("thead",!0),q3=g1("tbody",!1),Db=g1("tfoot",!1),yw=(I,W,te,me)=>{const Le=Dm(W.details),Ue=kb(I,ae(Le,xt=>xt.column)),nt=Ue.length>0?Ue[0].cells.length-1:0;return wc(Ue,Le[0].row,Math.min(Le[0].column,nt))},i4=(I,W,te,me)=>{const Le=ji(W),Ue=mi(I,Le[0].row,Le[Le.length-1].row),nt=Ue.length>0?Ue.length-1:0;return wc(Ue,Math.min(W[0].row,nt),W[0].column)},l4=(I,W,te,me)=>{const Le=W.cells;Lb(Le);const Ue=Cf(I,W.bounds,te,me.merge(Le));return fv(Ue,R.from(Le[0]))},eT=(I,W,te,me)=>{const Ue=ce(W,(nt,xt)=>rc(nt,xt,te,me.unmerge(xt)),I);return fv(Ue,R.from(W[0]))},c4=(I,W,te,me)=>{const Ue=((Lt,Jt)=>{const Tn=aa.fromTable(Lt);return tv(Tn,Jt,!0)})(W.clipboard,W.generators),nt=So(W.row,W.column);return j3(nt,I,Ue,W.generators,te).fold(()=>fv(I,R.some(W.element)),Lt=>wc(Lt,W.row,W.column))},dv=(I,W,te)=>{const me=jy(I,te.section),Le=aa.generate(me);return tv(Le,W,!0)},$b=(I,W,te,me)=>{const Le=_i(I).rows,Ue=W.cells[0].column,nt=Le[W.cells[0].row],xt=dv(W.clipboard,W.generators,nt),Lt=Tb(Ue,I,xt,W.generators,te);return wc(Lt,W.cells[0].row,W.cells[0].column)},tT=(I,W,te,me)=>{const Le=_i(I).rows,Ue=W.cells[W.cells.length-1].column+W.cells[W.cells.length-1].colspan,nt=Le[W.cells[0].row],xt=dv(W.clipboard,W.generators,nt),Lt=Tb(Ue,I,xt,W.generators,te);return wc(Lt,W.cells[0].row,W.cells[0].column)},a$=(I,W,te,me)=>{const Le=_i(I).rows,Ue=W.cells[0].row,nt=Le[Ue],xt=dv(W.clipboard,W.generators,nt),Lt=Gg(Ue,I,xt,W.generators,te);return wc(Lt,W.cells[0].row,W.cells[0].column)},Oc=(I,W,te,me)=>{const Le=_i(I).rows,Ue=W.cells[W.cells.length-1].row+W.cells[W.cells.length-1].rowspan,nt=Le[W.cells[0].row],xt=dv(W.clipboard,W.generators,nt),Lt=Gg(Ue,I,xt,W.generators,te);return wc(Lt,W.cells[0].row,W.cells[0].column)},s$=(I,W)=>{const te=aa.fromTable(I);return Mm(te,W).bind(Le=>{const Ue=Le[Le.length-1],nt=Le[0].column,xt=Ue.column+Ue.colspan,Lt=Ce(ae(te.all,Jt=>Se(Jt.cells,Tn=>Tn.column>=nt&&Tn.column<xt)));return qp(Lt)}).getOr("")},ed=(I,W)=>{const te=aa.fromTable(I);return Mm(te,W).bind(qp).getOr("")},gr=(I,W)=>{const te=aa.fromTable(I);return Mm(te,W).bind(Le=>{const Ue=Le[Le.length-1],nt=Le[0].row,xt=Ue.row+Ue.rowspan,Lt=te.all.slice(nt,xt);return XE(Lt)}).getOr("")},bw=(I,W,te,me)=>Od(I,W,te,me.sizing),Ki=(I,W,te,me)=>Zi(I,W,te,me.sizing,me.resize),nT=(I,W)=>J(W,te=>te.column===0&&te.isLocked),Ob=(I,W)=>J(W,te=>te.column+te.colspan>=I.grid.columns&&te.isLocked),xw=(I,W)=>{const te=bh(I),me=Dm(W);return ne(me,(Le,Ue)=>{const xt=te[Ue.column].map(Ku).getOr(0);return Le+xt},0)},Pc=I=>(W,te)=>Mm(W,te).filter(me=>!(I?nT:Ob)(W,me)).map(me=>({details:me,pixelDelta:xw(W,me)})),u4=(I,W)=>Rh(I,W).map(te=>({details:te,pixelDelta:-xw(I,te)})),rT=I=>(W,te)=>nv(W,te).filter(me=>!(I?nT:Ob)(W,me.cells)),Ic=In.transform("th"),hv=In.transform("td"),p1=Al(Ml,Mm,g,g,In.modification),Id=Al(Cc,Mm,g,g,In.modification),Sf=Al(Il,Pc(!0),Ki,g,In.modification),Ur=Al(oc,Pc(!1),Ki,g,In.modification),Au=Al(yw,u4,Ki,h1,In.modification),oT=Al(i4,Mm,g,h1,In.modification),aT=Al(Yi,Rh,g,g,Ic),ww=Al(m1,Rh,g,g,hv),sT=Al(vw,Rh,g,g,Ic),Cw=Al(q3,Rh,g,g,hv),Sw=Al(Db,Rh,g,g,hv),f4=Al(gw,Rh,g,g,Ic),Tw=Al(pw,Rh,g,g,hv),d4=Al(l4,r$,bw,g,In.merging),ac=Al(eT,o$,bw,g,In.merging),v1=Al(c4,i1,bw,g,In.modification),h4=Al($b,rT(!0),g,g,In.modification),m4=Al(tT,rT(!1),g,g,In.modification),kw=Al(a$,nv,g,g,In.modification),g4=Al(Oc,nv,g,g,In.modification),iT=s$,lT=ed,y1=gr,cT=(I,W)=>I.dispatch("NewRow",{node:W}),Aw=(I,W)=>I.dispatch("NewCell",{node:W}),Xg=(I,W,te)=>{I.dispatch("TableModified",{...te,table:W})},p4=(I,W,te,me,Le)=>{I.dispatch("TableSelectionChange",{cells:W,start:te,finish:me,otherCells:Le})},v4=I=>{I.dispatch("TableSelectionClear")},Mw=(I,W,te,me,Le)=>{I.dispatch("ObjectResizeStart",{target:W,width:te,height:me,origin:Le})},y4=(I,W,te,me,Le)=>{I.dispatch("ObjectResized",{target:W,width:te,height:me,origin:Le})},Oh={structure:!1,style:!0},ia={structure:!0,style:!1},Ew={structure:!0,style:!0},sc=(I,W)=>qu(I)?ec.percentageSize(W):Sl(I)?ec.pixelSize(W):ec.getTableSize(W),Pb=(I,W,te)=>{const me=Tc=>Cn(ob(Tc))==="table",Le=Tc=>!me(I)||Jp(Tc).rows>1,Ue=Tc=>!me(I)||Jp(Tc).columns>1,nt=xi(I),xt=Ga(I)?g:q2,Lt=Tc=>{switch(Ii(I)){case"section":return Am.section();case"sectionCells":return Am.sectionCells();case"cells":return Am.cells();default:return Am.getTableSectionType(Tc,"section")}},Jt=(Tc,SC)=>SC.cursor.fold(()=>{const X1=ju(Tc);return ie(X1).filter(Ka).map(Vd=>{te.clearSelectedCells(Tc.dom);const Hl=I.dom.createRng();return Hl.selectNode(Vd.dom),I.selection.setRng(Hl),ht(Vd,"data-mce-selected","1"),Hl})},X1=>{const Vd=F3(X1),Hl=I.dom.createRng();return Hl.setStart(Vd.element.dom,Vd.offset),Hl.setEnd(Vd.element.dom,Vd.offset),I.selection.setRng(Hl),te.clearSelectedCells(Tc.dom),R.some(Hl)}),Tn=(Tc,SC,X1,Vd)=>(Hl,J1,ik=!1)=>{Xf(Hl);const lk=zt.fromDom(I.getDoc()),zv=Ha(X1,lk,nt),ck={sizing:sc(I,Hl),resize:Ga(I)?B3():ew(),section:Lt(Hl)};return SC(Hl)?Tc(Hl,J1,zv,ck).bind(gx=>{W.refresh(Hl.dom),Q(gx.newRows,ip=>{cT(I,ip.dom)}),Q(gx.newCells,ip=>{Aw(I,ip.dom)});const uk=Jt(Hl,gx);return Ka(Hl)&&(Xf(Hl),ik||Xg(I,Hl.dom,Vd)),uk.map(ip=>({rng:ip,effect:Vd}))}):R.none()},sr=Tn(oT,Le,g,ia),Dr=Tn(Au,Ue,g,ia),Rr=Tn(p1,k,g,ia),Jn=Tn(Id,k,g,ia),Or=Tn(Sf,k,xt,ia),Kn=Tn(Ur,k,xt,ia),oo=Tn(d4,k,g,ia),Ro=Tn(ac,k,g,ia),Qo=Tn(h4,k,g,ia),_s=Tn(m4,k,g,ia),Ji=Tn(kw,k,g,ia),si=Tn(g4,k,g,ia),Bc=Tn(v1,k,g,Ew),ap=Tn(f4,k,g,ia),sp=Tn(Tw,k,g,ia),CC=Tn(aT,k,g,ia),mx=Tn(ww,k,g,ia),ls=Tn(sT,k,g,ia),lc=Tn(Cw,k,g,ia),_l=Tn(Sw,k,g,ia);return{deleteRow:sr,deleteColumn:Dr,insertRowsBefore:Rr,insertRowsAfter:Jn,insertColumnsBefore:Or,insertColumnsAfter:Kn,mergeCells:oo,unmergeCells:Ro,pasteColsBefore:Qo,pasteColsAfter:_s,pasteRowsBefore:Ji,pasteRowsAfter:si,pasteCells:Bc,makeCellsHeader:ap,unmakeCellsHeader:sp,makeColumnsHeader:CC,unmakeColumnsHeader:mx,makeRowsHeader:ls,makeRowsBody:lc,makeRowsFooter:_l,getTableRowType:y1,getTableCellType:lT,getTableColType:iT}},_w=(I,W,te)=>{const me=ws(I,W,1);te===1||me<=1?tn(I,W):ht(I,W,Math.min(te,me))},Rw=(I,W)=>te=>{const me=te.column+te.colspan-1,Le=te.column;return me>=I&&Le<W},Ib=(I,W,te)=>{if(aa.hasColumns(I)){const me=Se(aa.justColumns(I),Rw(W,te)),Le=ae(me,nt=>{const xt=Hr(nt.element);return _w(xt,"span",te-W),xt}),Ue=zt.fromTag("colgroup");return nn(Ue,Le),[Ue]}else return[]},uT=(I,W,te)=>ae(I.all,me=>{const Le=Se(me.cells,Rw(W,te)),Ue=ae(Le,xt=>{const Lt=Hr(xt.element);return _w(Lt,"colspan",te-W),Lt}),nt=zt.fromTag("tr");return nn(nt,Ue),nt}),b4=(I,W)=>{const te=aa.fromTable(I);return Rh(te,W).map(Le=>{const Ue=Le[Le.length-1],nt=Le[0].column,xt=Ue.column+Ue.colspan,Lt=Ib(te,nt,xt),Jt=uT(te,nt,xt);return[...Lt,...Jt]})},x4=(I,W,te)=>{const me=aa.fromTable(I);return Mm(me,W).bind(Ue=>{const nt=tv(me,te,!1),Lt=_i(nt).rows.slice(Ue[0].row,Ue[Ue.length-1].row+Ue[Ue.length-1].rowspan),Jt=$e(Lt,sr=>{const Dr=Se(sr.cells,Rr=>!Rr.isLocked);return Dr.length>0?[{...sr,cells:Dr}]:[]}),Tn=Us(Jt);return uu(Tn.length>0,Tn)}).map(Ue=>z3(Ue))},mv=nu.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),fT=(I,W,te)=>{const me=te.substring(0,te.length-I.length),Le=parseFloat(me);return me===Le.toString()?W(Le):mv.invalid(te)},$m={...mv,from:I=>gc(I,"%")?fT("%",mv.percent,I):gc(I,"px")?fT("px",mv.pixels,I):mv.invalid(I)},w4=(I,W)=>ae(I,te=>$m.from(te).fold(()=>te,Le=>Le/W*100+"%",Le=>Le+"%")),gv=(I,W,te)=>{const me=te/W;return ae(I,Le=>$m.from(Le).fold(()=>Le,nt=>nt*me+"px",nt=>nt/100*te+"px"))},C4=(I,W)=>{const te=I.fold(()=>C(""),me=>{const Le=me/W;return C(Le+"px")},()=>{const me=100/W;return C(me+"%")});return K(W,te)},Lw=(I,W,te)=>I.fold(()=>W,me=>gv(W,te,me),me=>w4(W,te)),dT=(I,W,te)=>{const me=$m.from(te),Le=ke(I,Ue=>Ue==="0px")?C4(me,I.length):Lw(me,I,W);return mT(Le)},Jg=(I,W)=>I.length===0?W:ce(I,(te,me)=>$m.from(me).fold(C(0),_,_)+te,0),S4=(I,W)=>{const te=Math.floor(I);return{value:te+W,remainder:I-te}},hT=(I,W)=>$m.from(I).fold(C(I),te=>te+W+"px",te=>te+W+"%"),mT=I=>{if(I.length===0)return I;const W=ce(I,(me,Le)=>{const Ue=$m.from(Le).fold(()=>({value:Le,remainder:0}),nt=>S4(nt,"px"),nt=>({value:nt+"%",remainder:0}));return{output:[Ue.value].concat(me.output),remainder:me.remainder+Ue.remainder}},{output:[],remainder:0}),te=W.output;return te.slice(0,te.length-1).concat([hT(te[te.length-1],Math.round(W.remainder))])},pv=$m.from,gT=(I,W,te)=>{Q(W,me=>{const Le=I.slice(me.column,me.colspan+me.column),Ue=Jg(Le,Xs());Ps(me.element,"width",Ue+te)})},Dw=(I,W,te)=>{Q(W,(me,Le)=>{const Ue=Jg([I[Le]],Xs());Ps(me.element,"width",Ue+te)})},T4=(I,W,te,me)=>{Q(te,Le=>{const Ue=I.slice(Le.row,Le.rowspan+Le.row),nt=Jg(Ue,Zu());Ps(Le.element,"height",nt+me)}),Q(W,(Le,Ue)=>{Ps(Le.element,"height",I[Ue])})},pT=I=>pv(I).fold(C("px"),C("px"),C("%")),Nd=(I,W,te)=>{const me=aa.fromTable(I),Le=me.all,Ue=aa.justCells(me),nt=aa.justColumns(me);W.each(xt=>{const Lt=pT(xt),Jt=Jl(I),Tn=pf(me,I),sr=dT(Tn,Jt,xt);aa.hasColumns(me)?Dw(sr,nt,Lt):gT(sr,Ue,Lt),Ps(I,"width",xt)}),te.each(xt=>{const Lt=pT(xt),Jt=Bp(I),Tn=ql(me,I,Gr),sr=dT(Tn,Jt,xt);T4(sr,Le,Ue,Lt),Ps(I,"height",xt)})},b1=Qu,x1=z2,Nb=bu,w1=I=>{tn(I,"width")},tf=I=>{const W=Da(I);Nd(I,R.some(W),R.none()),w1(I)},vv=I=>{const W=Cm(I);Nd(I,R.some(W),R.none()),w1(I)},C1=I=>{Yc(I,"width");const W=_g(I),te=W.length>0?W:ju(I);Q(te,me=>{Yc(me,"width"),w1(me)}),w1(I)},Om={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Fb=()=>zt.fromTag("th"),k4=()=>zt.fromTag("td"),A4=()=>zt.fromTag("col"),vT=(I,W,te,me)=>{const Le=zt.fromTag("tr");for(let Ue=0;Ue<I;Ue++){const nt=me<W||Ue<te?Fb():k4();Ue<te&&ht(nt,"scope","row"),me<W&&ht(nt,"scope","col"),_t(nt,zt.fromTag("br")),_t(Le,nt)}return Le},M4=I=>{const W=zt.fromTag("colgroup");return K(I,()=>_t(W,A4())),W},$w=(I,W,te,me)=>K(I,Le=>vT(W,te,me,Le)),E4=(I,W,te,me,Le,Ue=Om)=>{const nt=zt.fromTag("table"),xt=Le!=="cells";sl(nt,Ue.styles),pt(nt,Ue.attributes),Ue.colGroups&&_t(nt,M4(W));const Lt=Math.min(I,te);if(xt&&te>0){const Rr=zt.fromTag("thead");_t(nt,Rr);const Or=$w(te,W,Le==="sectionCells"?Lt:0,me);nn(Rr,Or)}const Jt=zt.fromTag("tbody");_t(nt,Jt);const Tn=xt?I-Lt:I,Dr=$w(Tn,W,xt?0:te,me);return nn(Jt,Dr),nt},_4=I=>I.dom.innerHTML,yT=I=>{const W=zt.fromTag("div"),te=zt.fromDom(I.dom.cloneNode(!0));return _t(W,te),_4(W)},R4=(I,W)=>{I.selection.select(W.dom,!0),I.selection.collapse(!0)},bT=(I,W)=>{Ks(W,"td,th").each(S(R4,I))},L4=(I,W)=>{Q(Mi(W,"tr"),te=>{cT(I,te.dom),Q(Mi(te,"th,td"),me=>{Aw(I,me.dom)})})},Bb=I=>L(I)&&I.indexOf("%")!==-1,D4=(I,W,te,me,Le)=>{const Ue=Yf(I),nt={styles:Ue,attributes:nc(I),colGroups:wu(I)};return I.undoManager.ignore(()=>{const xt=E4(te,W,Le,me,Ii(I),nt);ht(xt,"data-mce-id","__mce");const Lt=yT(xt);I.insertContent(Lt),I.addVisual()}),Ks(ob(I),'table[data-mce-id="__mce"]').map(xt=>(Sl(I)?vv(xt):wi(I)?C1(xt):(qu(I)||Bb(Ue.width))&&tf(xt),Xf(xt),tn(xt,"data-mce-id"),L4(I,xt),bT(I,xt),xt.dom)).getOrNull()},xT=(I,W,te,me={})=>{const Le=Ue=>d(Ue)&&Ue>0;if(Le(W)&&Le(te)){const Ue=me.headerRows||0,nt=me.headerColumns||0;return D4(I,te,W,nt,Ue)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var yv=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Ow="x-tinymce/dom-table-",Pw=Ow+"rows",Iw=Ow+"columns",wT=I=>{const W=yv.FakeClipboardItem(I);yv.write([W])},Nw=I=>{var W;const te=(W=yv.read())!==null&&W!==void 0?W:[];return se(te,me=>R.from(me.getType(I)))},$4=I=>{Nw(I).isSome()&&yv.clear()},Hb=I=>{I.fold(O4,W=>wT({[Pw]:W}))},zb=()=>Nw(Pw),O4=()=>$4(Pw),Fw=I=>{I.fold(P4,W=>wT({[Iw]:W}))},CT=()=>Nw(Iw),P4=()=>$4(Iw),Bw=I=>Jf(Cu(I),Md(I)).filter(sb),I4=I=>a1(Cu(I),Md(I)).filter(sb),bv=(I,W)=>{const te=Md(I),me=()=>Bw(I).each(Kn=>{Kl(Kn,te).filter(O(te)).each(oo=>{const Ro=zt.fromText("");if(Ut(oo,Ro),bn(oo),I.dom.isEmpty(I.getBody()))I.setContent(""),I.selection.setCursorLocation();else{const Qo=I.dom.createRng();Qo.setStart(Ro.dom,0),Qo.setEnd(Ro.dom,0),I.selection.setRng(Qo),I.nodeChanged()}})}),Le=Kn=>Bw(I).each(oo=>{wi(I)||Sl(I)||qu(I)||Kl(oo,te).each(Qo=>{Kn==="relative"&&!b1(Qo)?tf(Qo):Kn==="fixed"&&!x1(Qo)?vv(Qo):Kn==="responsive"&&!Nb(Qo)&&C1(Qo),Xf(Qo),Xg(I,Qo.dom,ia)})}),Ue=Kn=>Kl(Kn,te),nt=Kn=>I4(I).bind(oo=>Ue(oo).map(Ro=>Kn(Ro,oo))),xt=(Kn,oo)=>{nt(Ro=>{I.formatter.toggle("tableclass",{value:oo},Ro.dom),Xg(I,Ro.dom,Oh)})},Lt=(Kn,oo)=>{nt(Ro=>{const Qo=ef(I),Ji=ke(Qo,si=>I.formatter.match("tablecellclass",{value:oo},si.dom))?I.formatter.remove:I.formatter.apply;Q(Qo,si=>Ji("tablecellclass",{value:oo},si.dom)),Xg(I,Ro.dom,Oh)})},Jt=()=>{Bw(I).each(Kn=>{Kl(Kn,te).each(oo=>{Bo(oo,"caption").fold(()=>{const Ro=zt.fromTag("caption");_t(Ro,zt.fromText("Caption")),qt(oo,Ro,0),I.selection.setCursorLocation(Ro.dom,0)},Ro=>{Ze("caption")(Kn)&&Tr("td",oo).each(Qo=>I.selection.setCursorLocation(Qo.dom,0)),bn(Ro)}),Xg(I,oo.dom,ia)})})},Tn=Kn=>{I.focus()},sr=(Kn,oo=!1)=>nt((Ro,Qo)=>{const _s=Zp(ef(I),Ro,Qo);Kn(Ro,_s,oo).each(Tn)}),Dr=()=>nt((Kn,oo)=>{const Ro=Zp(ef(I),Kn,oo),Qo=Ha(g,zt.fromDom(I.getDoc()),R.none());return x4(Kn,Ro,Qo)}),Rr=()=>nt((Kn,oo)=>{const Ro=Zp(ef(I),Kn,oo);return b4(Kn,Ro)}),Jn=(Kn,oo)=>oo().each(Ro=>{const Qo=ae(Ro,_s=>Hr(_s));nt((_s,Ji)=>{const si=Vs(zt.fromDom(I.getDoc())),Bc=jp(ef(I),Ji,Qo,si);Kn(_s,Bc).each(Tn)})}),Or=Kn=>(oo,Ro)=>dt(Ro,"type").each(Qo=>{sr(Kn(Qo),Ro.no_events)});le({mceTableSplitCells:()=>sr(W.unmergeCells),mceTableMergeCells:()=>sr(W.mergeCells),mceTableInsertRowBefore:()=>sr(W.insertRowsBefore),mceTableInsertRowAfter:()=>sr(W.insertRowsAfter),mceTableInsertColBefore:()=>sr(W.insertColumnsBefore),mceTableInsertColAfter:()=>sr(W.insertColumnsAfter),mceTableDeleteCol:()=>sr(W.deleteColumn),mceTableDeleteRow:()=>sr(W.deleteRow),mceTableCutCol:()=>Rr().each(Kn=>{Fw(Kn),sr(W.deleteColumn)}),mceTableCutRow:()=>Dr().each(Kn=>{Hb(Kn),sr(W.deleteRow)}),mceTableCopyCol:()=>Rr().each(Kn=>Fw(Kn)),mceTableCopyRow:()=>Dr().each(Kn=>Hb(Kn)),mceTablePasteColBefore:()=>Jn(W.pasteColsBefore,CT),mceTablePasteColAfter:()=>Jn(W.pasteColsAfter,CT),mceTablePasteRowBefore:()=>Jn(W.pasteRowsBefore,zb),mceTablePasteRowAfter:()=>Jn(W.pasteRowsAfter,zb),mceTableDelete:me,mceTableCellToggleClass:Lt,mceTableToggleClass:xt,mceTableToggleCaption:Jt,mceTableSizingMode:(Kn,oo)=>Le(oo),mceTableCellType:Or(Kn=>Kn==="th"?W.makeCellsHeader:W.unmakeCellsHeader),mceTableColType:Or(Kn=>Kn==="th"?W.makeColumnsHeader:W.unmakeColumnsHeader),mceTableRowType:Or(Kn=>{switch(Kn){case"header":return W.makeRowsHeader;case"footer":return W.makeRowsFooter;default:return W.makeRowsBody}})},(Kn,oo)=>I.addCommand(oo,Kn)),I.addCommand("mceInsertTable",(Kn,oo)=>{xT(I,oo.rows,oo.columns,oo.options)}),I.addCommand("mceTableApplyCellStyle",(Kn,oo)=>{const Ro=Ji=>"tablecell"+Ji.toLowerCase().replace("-","");if(!A(oo))return;const Qo=Se(ef(I),sb);if(Qo.length===0)return;const _s=ze(oo,(Ji,si)=>I.formatter.has(Ro(si))&&L(Ji));qe(_s)||(le(_s,(Ji,si)=>{const Bc=Ro(si);Q(Qo,ap=>{Ji===""?I.formatter.remove(Bc,{value:null},ap.dom,!0):I.formatter.apply(Bc,{value:Ji},ap.dom)})}),Ue(Qo[0]).each(Ji=>Xg(I,Ji.dom,Oh)))})},N4=(I,W)=>{const te=Md(I),me=Le=>a1(Cu(I)).bind(Ue=>Kl(Ue,te).map(nt=>{const xt=Zp(ef(I),nt,Ue);return Le(nt,xt)})).getOr("");le({mceTableRowType:()=>me(W.getTableRowType),mceTableCellType:()=>me(W.getTableCellType),mceTableColType:()=>me(W.getTableColType)},(Le,Ue)=>I.addQueryValueHandler(Ue,Le))},Hw=nu.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),F4=(I,W,te,me)=>I.fold(W,te,me),B4=I=>I.fold(_,_,_),H4=Hw.before,ST=Hw.on,z4=Hw.after,fl={before:H4,on:ST,after:z4,cata:F4,getStart:B4},xv={create:(I,W)=>({selection:I,kill:W})},Vb=(I,W)=>{const te=I.document.createRange();return te.selectNode(W.dom),te},TT=(I,W)=>{const te=I.document.createRange();return zw(te,W),te},zw=(I,W)=>I.selectNodeContents(W.dom),kT=(I,W)=>{W.fold(te=>{I.setStartBefore(te.dom)},(te,me)=>{I.setStart(te.dom,me)},te=>{I.setStartAfter(te.dom)})},AT=(I,W)=>{W.fold(te=>{I.setEndBefore(te.dom)},(te,me)=>{I.setEnd(te.dom,me)},te=>{I.setEndAfter(te.dom)})},Qg=(I,W,te)=>{const me=I.document.createRange();return kT(me,W),AT(me,te),me},S1=(I,W,te,me,Le)=>{const Ue=I.document.createRange();return Ue.setStart(W.dom,te),Ue.setEnd(me.dom,Le),Ue},V4=I=>({left:I.left,top:I.top,right:I.right,bottom:I.bottom,width:I.width,height:I.height}),U4=I=>{const W=I.getClientRects(),te=W.length>0?W[0]:I.getBoundingClientRect();return te.width>0||te.height>0?R.some(te).map(V4):R.none()},T1=nu.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Vw=(I,W,te)=>W(zt.fromDom(te.startContainer),te.startOffset,zt.fromDom(te.endContainer),te.endOffset),MT=(I,W)=>W.match({domRange:te=>({ltr:C(te),rtl:R.none}),relative:(te,me)=>({ltr:Cd(()=>Qg(I,te,me)),rtl:Cd(()=>R.some(Qg(I,me,te)))}),exact:(te,me,Le,Ue)=>({ltr:Cd(()=>S1(I,te,me,Le,Ue)),rtl:Cd(()=>R.some(S1(I,Le,Ue,te,me)))})}),Xi=(I,W)=>{const te=W.ltr();return te.collapsed?W.rtl().filter(Le=>Le.collapsed===!1).map(Le=>T1.rtl(zt.fromDom(Le.endContainer),Le.endOffset,zt.fromDom(Le.startContainer),Le.startOffset)).getOrThunk(()=>Vw(I,T1.ltr,te)):Vw(I,T1.ltr,te)},ET=(I,W)=>{const te=MT(I,W);return Xi(I,te)},Uw=(I,W)=>ET(I,W).match({ltr:(me,Le,Ue,nt)=>{const xt=I.document.createRange();return xt.setStart(me.dom,Le),xt.setEnd(Ue.dom,nt),xt},rtl:(me,Le,Ue,nt)=>{const xt=I.document.createRange();return xt.setStart(Ue.dom,nt),xt.setEnd(me.dom,Le),xt}});T1.ltr,T1.rtl;const wv={create:(I,W,te,me)=>({start:I,soffset:W,finish:te,foffset:me})},_T={create:(I,W,te,me)=>({start:fl.on(I,W),finish:fl.on(te,me)})},Ww=(I,W)=>{const te=Uw(I,W);return wv.create(zt.fromDom(te.startContainer),te.startOffset,zt.fromDom(te.endContainer),te.endOffset)},k1=_T.create,Ub=(I,W,te,me,Le,Ue,nt)=>rr(te,Le)&&me===Ue?R.none():Bs(te,"td,th",W).bind(xt=>Bs(Le,"td,th",W).bind(Lt=>Cv(I,W,xt,Lt,nt))),Cv=(I,W,te,me,Le)=>rr(te,me)?R.none():xf(te,me,W).bind(Ue=>{const nt=Ue.boxes.getOr([]);return nt.length>1?(Le(I,nt,Ue.start,Ue.finish),R.some(xv.create(R.some(k1(te,0,te,mn(te))),!0))):R.none()}),G4=(I,W,te,me,Le)=>{const Ue=nt=>(Le.clearBeforeUpdate(te),Le.selectRange(te,nt.boxes,nt.start,nt.finish),nt.boxes);return ub(me,I,W,Le.firstSelectedSelector,Le.lastSelectedSelector).map(Ue)},Pm=(I,W)=>({item:I,mode:W}),RT=(I,W,te,me=Im)=>I.property().parent(W).map(Le=>Pm(Le,me)),Im=(I,W,te,me=Nm)=>te.sibling(I,W).map(Le=>Pm(Le,me)),Nm=(I,W,te,me=Nm)=>{const Le=I.property().children(W);return te.first(Le).map(nt=>Pm(nt,me))},Gw=[{current:RT,next:Im,fallback:R.none()},{current:Im,next:Nm,fallback:R.some(RT)},{current:Nm,next:Nm,fallback:R.some(Im)}],LT=(I,W,te,me,Le=Gw)=>X(Le,nt=>nt.current===te).bind(nt=>nt.current(I,W,me,nt.next).orThunk(()=>nt.fallback.bind(xt=>LT(I,W,xt,me)))),Fm={left:()=>({sibling:(te,me)=>te.query().prevSibling(me),first:te=>te.length>0?R.some(te[te.length-1]):R.none()}),right:()=>({sibling:(te,me)=>te.query().nextSibling(me),first:te=>te.length>0?R.some(te[0]):R.none()})},Fd=(I,W,te,me,Le,Ue)=>LT(I,W,me,Le).bind(xt=>Ue(xt.item)?R.none():te(xt.item)?R.some(xt.item):Fd(I,xt.item,te,xt.mode,Le,Ue)),A1=(I,W,te,me)=>Fd(I,W,te,Im,Fm.left(),me),Sv=(I,W,te,me)=>Fd(I,W,te,Im,Fm.right(),me),jw=I=>W=>I.property().children(W).length===0,Ph=(I,W,te)=>M1(I,W,jw(I),te),td=(I,W,te)=>Wb(I,W,jw(I),te),M1=A1,Wb=Sv,E1=Xn(),Yw=(I,W)=>Ph(E1,I,W),Tv=(I,W)=>td(E1,I,W),_1=(I,W,te)=>M1(E1,I,W,te),Kw=(I,W,te)=>Wb(E1,I,W,te),DT=(I,W,te)=>Ms(I,W,te).isSome(),Bm=nu.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Gb=(I,W,te)=>{const me=I.getRect(W),Le=I.getRect(te);return Le.right>me.left&&Le.left<me.right},Z4=I=>Bs(I,"tr"),gi={...Bm,verify:(I,W,te,me,Le,Ue,nt)=>Bs(me,"td,th",nt).bind(xt=>Bs(W,"td,th",nt).map(Lt=>rr(xt,Lt)?rr(me,xt)&&mn(xt)===Le?Ue(Lt):Bm.none("in same cell"):ms(Z4,[xt,Lt]).fold(()=>Gb(I,Lt,xt)?Bm.success():Ue(Lt),Jt=>Ue(Lt)))).getOr(Bm.none("default")),cata:(I,W,te,me,Le)=>I.fold(W,te,me,Le)},f$=(I,W,te,me)=>({parent:I,children:W,element:te,index:me}),Ih=I=>ro(I).bind(W=>{const te=St(W);return OT(te,I).map(me=>f$(W,te,I,me))}),OT=(I,W)=>ye(I,S(rr,W)),Zb=Ze("br"),Hm=(I,W,te)=>W(I,te).bind(me=>wt(me)&&bt(me).trim().length===0?Hm(me,W,te):R.some(me)),Nl=(I,W,te)=>te.traverse(W).orThunk(()=>Hm(W,te.gather,I)).map(te.relative),kv=(I,W)=>kt(I,W).filter(Zb).orThunk(()=>kt(I,W-1).filter(Zb)),R1=(I,W,te,me)=>kv(W,te).bind(Le=>me.traverse(Le).fold(()=>Hm(Le,me.gather,I).map(me.relative),Ue=>Ih(Ue).map(nt=>fl.on(nt.parent,nt.index)))),Av=(I,W,te,me)=>(Zb(W)?Nl(I,W,me):R1(I,W,te,me)).map(Ue=>({start:Ue,finish:Ue})),Jw=I=>gi.cata(I,W=>R.none(),()=>R.none(),W=>R.some(Kp(W,0)),W=>R.some(Kp(W,mn(W)))),Mv=(I,W)=>({left:I.left,top:I.top+W,right:I.right,bottom:I.bottom+W}),qg=(I,W)=>({left:I.left,top:I.top-W,right:I.right,bottom:I.bottom-W}),nd=(I,W,te)=>({left:I.left+W,top:I.top+te,right:I.right+W,bottom:I.bottom+te}),j4=I=>I.top,Y4=I=>I.bottom,zm=(I,W,te)=>te>=0&&te<mn(W)?I.getRangedRect(W,te,W,te+1):te>0?I.getRangedRect(W,te-1,W,te):R.none(),Ev=I=>({left:I.left,top:I.top,right:I.right,bottom:I.bottom}),jb=(I,W)=>R.some(I.getRect(W)),Bd=(I,W,te)=>ft(W)?jb(I,W).map(Ev):wt(W)?zm(I,W,te).map(Ev):R.none(),Qw=(I,W)=>ft(W)?jb(I,W).map(Ev):wt(W)?I.getRangedRect(W,0,W,mn(W)).map(Ev):R.none(),dl=5,Nh=100,Tf=nu.generate([{none:[]},{retry:["caret"]}]),_v=(I,W)=>I.left<W.left||Math.abs(W.right-I.left)<1||I.left>W.right,ic=(I,W,te)=>li(W,Rb).fold(M,me=>Qw(I,me).exists(Le=>_v(te,Le))),Nc=(I,W,te,me,Le)=>{const Ue=Mv(Le,dl);return Math.abs(te.bottom-me.bottom)<1||te.top>Le.bottom?Tf.retry(Ue):te.top===Le.bottom?Tf.retry(Mv(Le,1)):ic(I,W,Le)?Tf.retry(nd(Ue,dl,0)):Tf.none()},kf={point:j4,adjuster:(I,W,te,me,Le)=>{const Ue=qg(Le,dl);return Math.abs(te.top-me.top)<1||te.bottom<Le.top?Tf.retry(Ue):te.bottom===Le.top?Tf.retry(qg(Le,1)):ic(I,W,Le)?Tf.retry(nd(Ue,dl,0)):Tf.none()},move:qg,gather:Yw},Yb={point:Y4,adjuster:Nc,move:Mv,gather:Tv},Mu=(I,W,te)=>I.elementFromPoint(W,te).filter(me=>Cn(me)==="table").isSome(),ep=(I,W,te,me,Le)=>qw(I,W,te,W.move(me,dl),Le),qw=(I,W,te,me,Le)=>Le===0?R.some(me):Mu(I,me.left,W.point(me))?ep(I,W,te,me,Le-1):I.situsFromPoint(me.left,W.point(me)).bind(Ue=>Ue.start.fold(R.none,nt=>Qw(I,nt).bind(xt=>W.adjuster(I,nt,xt,te,me).fold(R.none,Lt=>qw(I,W,te,Lt,Le-1))).orThunk(()=>R.some(me)),R.none)),K4=(I,W,te)=>I.point(W)>te.getInnerHeight()?R.some(I.point(W)-te.getInnerHeight()):I.point(W)<0?R.some(-I.point(W)):R.none(),PT=(I,W,te)=>{const me=I.move(te,dl),Le=qw(W,I,te,me,Nh).getOr(me);return K4(I,Le,W).fold(()=>W.situsFromPoint(Le.left,I.point(Le)),Ue=>(W.scrollBy(0,Ue),W.situsFromPoint(Le.left,I.point(Le)-Ue)))},L1={tryUp:S(PT,kf),tryDown:S(PT,Yb),getJumpSize:C(dl)},IT=20,D1=(I,W,te)=>I.getSelection().bind(me=>Av(W,me.finish,me.foffset,te).fold(()=>R.some(Kp(me.finish,me.foffset)),Le=>{const Ue=I.fromSitus(Le),nt=gi.verify(I,me.finish,me.foffset,Ue.finish,Ue.foffset,te.failure,W);return Jw(nt)})),Kb=(I,W,te,me,Le,Ue)=>Ue===0?R.none():J4(I,W,te,me,Le).bind(nt=>{const xt=I.fromSitus(nt),Lt=gi.verify(I,te,me,xt.finish,xt.foffset,Le.failure,W);return gi.cata(Lt,()=>R.none(),()=>R.some(nt),Jt=>rr(te,Jt)&&me===0?X4(I,te,me,qg,Le):Kb(I,W,Jt,0,Le,Ue-1),Jt=>rr(te,Jt)&&me===mn(Jt)?X4(I,te,me,Mv,Le):Kb(I,W,Jt,mn(Jt),Le,Ue-1))}),X4=(I,W,te,me,Le)=>Bd(I,W,te).bind(Ue=>NT(I,Le,me(Ue,L1.getJumpSize()))),NT=(I,W,te)=>{const me=$g().browser;return me.isChromium()||me.isSafari()||me.isFirefox()?W.retry(I,te):R.none()},J4=(I,W,te,me,Le)=>Bd(I,te,me).bind(Ue=>NT(I,Le,Ue)),d$=(I,W,te)=>D1(I,W,te).bind(me=>Kb(I,W,me.element,me.offset,te,IT).map(I.fromSitus)),FT=(I,W)=>DT(I,te=>ro(te).exists(me=>rr(me,W))),va=(I,W,te,me,Le)=>Bs(me,"td,th",W).bind(Ue=>Bs(Ue,"table",W).bind(nt=>FT(Le,nt)?d$(I,W,te).bind(xt=>Bs(xt.finish,"td,th",W).map(Lt=>({start:Ue,finish:Lt,range:xt}))):R.none())),rd=(I,W,te,me,Le,Ue)=>Ue(me,W).orThunk(()=>va(I,W,te,me,Le).map(nt=>{const xt=nt.range;return xv.create(R.some(k1(xt.start,xt.soffset,xt.finish,xt.foffset)),!0)})),tp=(I,W)=>Bs(I,"tr",W).bind(te=>Bs(te,"table",W).bind(me=>{const Le=Mi(me,"tr");return rr(te,Le[0])?_1(me,Ue=>Mn(Ue).isSome(),W).map(Ue=>{const nt=mn(Ue);return xv.create(R.some(k1(Ue,nt,Ue,nt)),!0)}):R.none()})),eC=(I,W)=>Bs(I,"tr",W).bind(te=>Bs(te,"table",W).bind(me=>{const Le=Mi(me,"tr");return rr(te,Le[Le.length-1])?Kw(me,Ue=>Rn(Ue).isSome(),W).map(Ue=>xv.create(R.some(k1(Ue,0,Ue,0)),!0)):R.none()})),BT=(I,W,te,me,Le,Ue,nt)=>va(I,te,me,Le,Ue).bind(xt=>Cv(W,te,xt.start,xt.finish,nt)),$1=I=>{let W=I;return{get:()=>W,set:Le=>{W=Le}}},Q4=I=>{const W=$1(R.none()),te=()=>W.get().each(I);return{clear:()=>{te(),W.set(R.none())},isSet:()=>W.get().isSome(),get:()=>W.get(),set:xt=>{te(),W.set(R.some(xt))}}},Rv=()=>{const I=Q4(g);return{...I,on:te=>I.get().each(te)}},Xb=(I,W)=>Bs(I,"td,th",W),Eu=I=>vo(I).exists(Kf),mH=(I,W,te,me)=>{const Le=Rv(),Ue=Le.clear,nt=Tn=>{Le.on(sr=>{me.clearBeforeUpdate(W),Xb(Tn.target,te).each(Dr=>{xf(sr,Dr,te).each(Rr=>{const Jn=Rr.boxes.getOr([]);if(Jn.length===1){const Or=Jn[0],Kn=Q0(Or)==="false",oo=df(Th(Tn.target),Or,rr);Kn&&oo&&(me.selectRange(W,Jn,Or,Or),I.selectContents(Or))}else Jn.length>1&&(me.selectRange(W,Jn,Rr.start,Rr.finish),I.selectContents(Dr))})})})};return{clearstate:Ue,mousedown:Tn=>{me.clear(W),Xb(Tn.target,te).filter(Eu).each(Le.set)},mouseover:Tn=>{nt(Tn)},mouseup:Tn=>{nt(Tn),Ue()}}},Jb={traverse:De,gather:Tv,relative:fl.before,retry:L1.tryDown,failure:gi.failedDown},Lv={traverse:He,gather:Yw,relative:fl.before,retry:L1.tryUp,failure:gi.failedUp},Vm=I=>W=>W===I,Qb=Vm(38),qb=Vm(40),np=I=>I>=37&&I<=40,q4={isBackward:Vm(37),isForward:Vm(39)},HT={isBackward:Vm(39),isForward:Vm(37)},e_=I=>{const W=I!==void 0?I.dom:document,te=W.body.scrollLeft||W.documentElement.scrollLeft,me=W.body.scrollTop||W.documentElement.scrollTop;return pu(te,me)},Dv=(I,W,te)=>{const Le=(te!==void 0?te.dom:document).defaultView;Le&&Le.scrollBy(I,W)},Fh=nu.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),t_=I=>Fh.exact(I.start,I.soffset,I.finish,I.foffset),n_=I=>I.match({domRange:W=>zt.fromDom(W.startContainer),relative:(W,te)=>fl.getStart(W),exact:(W,te,me,Le)=>W}),zT=Fh.domRange,tC=Fh.relative,nC=Fh.exact,rC=I=>{const W=n_(I);return wr(W)},ex=wv.create,Um={domRange:zT,relative:tC,exact:nC,exactFromRange:t_,getWin:rC,range:ex},VT=(I,W,te)=>{var me,Le;return R.from((Le=(me=I.dom).caretPositionFromPoint)===null||Le===void 0?void 0:Le.call(me,W,te)).bind(Ue=>{if(Ue.offsetNode===null)return R.none();const nt=I.dom.createRange();return nt.setStart(Ue.offsetNode,Ue.offset),nt.collapse(),R.some(nt)})},O1=(I,W,te)=>{var me,Le;return R.from((Le=(me=I.dom).caretRangeFromPoint)===null||Le===void 0?void 0:Le.call(me,W,te))},oC=(()=>document.caretPositionFromPoint?VT:document.caretRangeFromPoint?O1:R.none)(),r_=(I,W,te)=>{const me=zt.fromDom(I.document);return oC(me,W,te).map(Le=>wv.create(zt.fromDom(Le.startContainer),Le.startOffset,zt.fromDom(Le.endContainer),Le.endOffset))},P1=(I,W)=>{const te=Cn(I);return te==="input"?fl.after(I):ee(["br","img"],te)?W===0?fl.before(I):fl.after(I):fl.on(I,W)},o_=(I,W)=>{const te=I.fold(fl.before,P1,fl.after),me=W.fold(fl.before,P1,fl.after);return Um.relative(te,me)},Fr=(I,W,te,me)=>{const Le=P1(I,W),Ue=P1(te,me);return Um.relative(Le,Ue)},Fi=(I,W,te,me)=>{const Ue=Ln(I).dom.createRange();return Ue.setStart(I.dom,W),Ue.setEnd(te.dom,me),Ue},Bh=(I,W,te,me)=>{const Le=Fi(I,W,te,me),Ue=rr(I,te)&&W===me;return Le.collapsed&&!Ue},Si=I=>R.from(I.getSelection()),nf=(I,W)=>{Si(I).each(te=>{te.removeAllRanges(),te.addRange(W)})},tx=(I,W,te,me,Le)=>{const Ue=S1(I,W,te,me,Le);nf(I,Ue)},I1=(I,W,te,me,Le,Ue)=>{W.collapse(te.dom,me),W.extend(Le.dom,Ue)},od=(I,W)=>ET(I,W).match({ltr:(te,me,Le,Ue)=>{tx(I,te,me,Le,Ue)},rtl:(te,me,Le,Ue)=>{Si(I).each(nt=>{if(nt.setBaseAndExtent)nt.setBaseAndExtent(te.dom,me,Le.dom,Ue);else if(nt.extend)try{I1(I,nt,te,me,Le,Ue)}catch{tx(I,Le,Ue,te,me)}else tx(I,Le,Ue,te,me)})}}),nx=(I,W,te,me,Le)=>{const Ue=Fr(W,te,me,Le);od(I,Ue)},rx=(I,W,te)=>{const me=o_(W,te);od(I,me)},$v=I=>{if(I.rangeCount>0){const W=I.getRangeAt(0),te=I.getRangeAt(I.rangeCount-1);return R.some(wv.create(zt.fromDom(W.startContainer),W.startOffset,zt.fromDom(te.endContainer),te.endOffset))}else return R.none()},UT=I=>{if(I.anchorNode===null||I.focusNode===null)return $v(I);{const W=zt.fromDom(I.anchorNode),te=zt.fromDom(I.focusNode);return Bh(W,I.anchorOffset,te,I.focusOffset)?R.some(wv.create(W,I.anchorOffset,te,I.focusOffset)):$v(I)}},N1=(I,W,te=!0)=>{const Le=(te?TT:Vb)(I,W);nf(I,Le)},aC=I=>Si(I).filter(W=>W.rangeCount>0).bind(UT),sC=I=>aC(I).map(W=>Um.exact(W.start,W.soffset,W.finish,W.foffset)),a_=(I,W)=>{const te=Uw(I,W);return U4(te)},ad=(I,W,te)=>r_(I,W,te),ox=I=>{Si(I).each(W=>W.removeAllRanges())},Ov=I=>({elementFromPoint:(Kn,oo)=>zt.fromPoint(zt.fromDom(I.document),Kn,oo),getRect:Kn=>Kn.dom.getBoundingClientRect(),getRangedRect:(Kn,oo,Ro,Qo)=>{const _s=Um.exact(Kn,oo,Ro,Qo);return a_(I,_s)},getSelection:()=>sC(I).map(Kn=>Ww(I,Kn)),fromSitus:Kn=>{const oo=Um.relative(Kn.start,Kn.finish);return Ww(I,oo)},situsFromPoint:(Kn,oo)=>ad(I,Kn,oo).map(Ro=>_T.create(Ro.start,Ro.soffset,Ro.finish,Ro.foffset)),clearSelection:()=>{ox(I)},collapseSelection:(Kn=!1)=>{sC(I).each(oo=>oo.fold(Ro=>Ro.collapse(Kn),(Ro,Qo)=>{const _s=Kn?Ro:Qo;rx(I,_s,_s)},(Ro,Qo,_s,Ji)=>{const si=Kn?Ro:_s,Bc=Kn?Qo:Ji;nx(I,si,Bc,si,Bc)}))},setSelection:Kn=>{nx(I,Kn.start,Kn.soffset,Kn.finish,Kn.foffset)},setRelativeSelection:(Kn,oo)=>{rx(I,Kn,oo)},selectNode:Kn=>{N1(I,Kn,!1)},selectContents:Kn=>{N1(I,Kn)},getInnerHeight:()=>I.innerHeight,getScrollY:()=>e_(zt.fromDom(I.document)).top,scrollBy:(Kn,oo)=>{Dv(Kn,oo,zt.fromDom(I.document))}}),El=(I,W)=>({rows:I,cols:W}),$i=(I,W,te,me)=>{const Le=Ov(I),Ue=mH(Le,W,te,me);return{clearstate:Ue.clearstate,mousedown:Ue.mousedown,mouseover:Ue.mouseover,mouseup:Ue.mouseup}},ax=I=>li(I,lt).exists(Kf),F1=(I,W)=>ax(I)||ax(W),sx=(I,W,te,me)=>{const Le=Ov(I),Ue=()=>(me.clear(W),R.none());return{keydown:(Lt,Jt,Tn,sr,Dr,Rr)=>{const Jn=Lt.raw,Or=Jn.which,Kn=Jn.shiftKey===!0;return Mh(W,me.selectedSelector).fold(()=>(np(Or)&&!Kn&&me.clearBeforeUpdate(W),np(Or)&&Kn&&!F1(Jt,sr)?R.none:qb(Or)&&Kn?S(BT,Le,W,te,Jb,sr,Jt,me.selectRange):Qb(Or)&&Kn?S(BT,Le,W,te,Lv,sr,Jt,me.selectRange):qb(Or)?S(rd,Le,te,Jb,sr,Jt,eC):Qb(Or)?S(rd,Le,te,Lv,sr,Jt,tp):R.none),Ro=>{const Qo=_s=>()=>se(_s,si=>G4(si.rows,si.cols,W,Ro,me)).fold(()=>zg(W,me.firstSelectedSelector,me.lastSelectedSelector).map(si=>{const Bc=qb(Or)||Rr.isForward(Or)?fl.after:fl.before;return Le.setRelativeSelection(fl.on(si.first,0),Bc(si.table)),me.clear(W),xv.create(R.none(),!0)}),si=>R.some(xv.create(R.none(),!0)));return np(Or)&&Kn&&!F1(Jt,sr)?R.none:qb(Or)&&Kn?Qo([El(1,0)]):Qb(Or)&&Kn?Qo([El(-1,0)]):Rr.isBackward(Or)&&Kn?Qo([El(0,-1),El(-1,0)]):Rr.isForward(Or)&&Kn?Qo([El(0,1),El(1,0)]):np(Or)&&!Kn?Ue:R.none})()},keyup:(Lt,Jt,Tn,sr,Dr)=>Mh(W,me.selectedSelector).fold(()=>{const Rr=Lt.raw,Jn=Rr.which;return Rr.shiftKey===!0&&np(Jn)&&F1(Jt,sr)?Ub(W,te,Jt,Tn,sr,Dr,me.selectRange):R.none()},R.none)}},B1=(I,W,te,me)=>{const Le=Ov(I);return(Ue,nt)=>{me.clearBeforeUpdate(W),xf(Ue,nt,te).each(xt=>{const Lt=xt.boxes.getOr([]);me.selectRange(W,Lt,xt.start,xt.finish),Le.selectContents(nt),Le.collapseSelection()})}},H1=(I,W)=>{const te=Et(I,W);return te===void 0||te===""?[]:te.split(" ")},Pv=(I,W,te)=>{const Le=H1(I,W).concat([te]);return ht(I,W,Le.join(" ")),!0},WT=(I,W,te)=>{const me=Se(H1(I,W),Le=>Le!==te);return me.length>0?ht(I,W,me.join(" ")):tn(I,W),!1},z1=I=>I.dom.classList!==void 0,GT=I=>H1(I,"class"),ZT=(I,W)=>Pv(I,"class",W),jT=(I,W)=>WT(I,"class",W),rf=(I,W)=>{z1(I)?I.dom.classList.add(W):ZT(I,W)},Fl=I=>{(z1(I)?I.dom.classList:GT(I)).length===0&&tn(I,"class")},Af=(I,W)=>{z1(I)?I.dom.classList.remove(W):jT(I,W),Fl(I)},Fc=(I,W)=>z1(I)&&I.dom.classList.contains(W),V1=(I,W)=>{Q(W,te=>{Af(I,te)})},ix=I=>W=>{rf(W,I)},YT=I=>W=>{V1(W,I)},Hh={byClass:I=>{const W=ix(I.selected),te=YT([I.selected,I.lastSelected,I.firstSelected]),me=Ue=>{const nt=Mi(Ue,I.selectedSelector);Q(nt,te)};return{clearBeforeUpdate:me,clear:me,selectRange:(Ue,nt,xt,Lt)=>{me(Ue),Q(nt,W),rf(xt,I.firstSelected),rf(Lt,I.lastSelected)},selectedSelector:I.selectedSelector,firstSelectedSelector:I.firstSelectedSelector,lastSelectedSelector:I.lastSelectedSelector}},byAttr:(I,W,te)=>{const me=Lt=>{tn(Lt,I.selected),tn(Lt,I.firstSelected),tn(Lt,I.lastSelected)},Le=Lt=>{ht(Lt,I.selected,"1")},Ue=Lt=>{nt(Lt),te()},nt=Lt=>{const Jt=Mi(Lt,`${I.selectedSelector},${I.firstSelectedSelector},${I.lastSelectedSelector}`);Q(Jt,me)};return{clearBeforeUpdate:nt,clear:Ue,selectRange:(Lt,Jt,Tn,sr)=>{Ue(Lt),Q(Jt,Le),ht(Tn,I.firstSelected,"1"),ht(sr,I.lastSelected,"1"),W(Jt,Tn,sr)},selectedSelector:I.selectedSelector,firstSelectedSelector:I.firstSelectedSelector,lastSelectedSelector:I.lastSelectedSelector}}},W1=(I,W,te,me)=>{switch(I.tag){case"none":return W();case"single":return me(I.element);case"multiple":return te(I.elements)}},iC=()=>({tag:"none"}),KT=I=>({tag:"multiple",elements:I}),XT=I=>({tag:"single",element:I}),lC=(I,W,te)=>({get:()=>K2(I(),te).fold(()=>W().fold(iC,XT),KT)}),lx=(I,W)=>{const te=I.slice(0,W[W.length-1].row+1),me=Us(te);return $e(me,Le=>{const Ue=Le.cells.slice(0,W[W.length-1].column+1);return ae(Ue,nt=>nt.element)})},gs=(I,W)=>{const te=I.slice(W[0].row+W[0].rowspan-1,I.length),me=Us(te);return $e(me,Le=>{const Ue=Le.cells.slice(W[0].column+W[0].colspan-1,Le.cells.length);return ae(Ue,nt=>nt.element)})},zh=(I,W,te)=>{const me=aa.fromTable(I);return Mm(me,W).map(Ue=>{const nt=tv(me,te,!1),{rows:xt}=_i(nt),Lt=lx(xt,Ue),Jt=gs(xt,Ue);return{upOrLeftCells:Lt,downOrRightCells:Jt}})},JT=(I,W,te,me,Le,Ue,nt)=>({target:I,x:W,y:te,stop:me,prevent:Le,kill:Ue,raw:nt}),cC=I=>{const W=zt.fromDom(Lr(I).getOr(I.target)),te=()=>I.stopPropagation(),me=()=>I.preventDefault(),Le=v(me,te);return JT(W,I.clientX,I.clientY,te,me,Le,I)},uC=(I,W)=>te=>{I(te)&&W(cC(te))},rp=(I,W,te,me,Le)=>{const Ue=uC(te,me);return I.dom.addEventListener(W,Ue,Le),{unbind:S(dC,I,W,Ue,Le)}},fC=(I,W,te,me)=>rp(I,W,te,me,!1),dC=(I,W,te,me)=>{I.dom.removeEventListener(W,te,me)},i_=k,Iv=(I,W,te)=>fC(I,W,i_,te),Nv=cC,hC=I=>!Fc(zt.fromDom(I.target),"ephox-snooker-resizer-bar"),mC=(I,W)=>{const te=lC(()=>zt.fromDom(I.getBody()),()=>a1(Cu(I),Md(I)),Vg.selectedSelector),me=(Lt,Jt,Tn)=>{Kl(Jt).each(Dr=>{const Rr=xi(I),Jn=Ha(g,zt.fromDom(I.getDoc()),Rr),Or=ef(I),Kn=zh(Dr,{selection:Or},Jn);p4(I,Lt,Jt,Tn,Kn)})},Le=()=>v4(I),Ue=Hh.byAttr(Vg,me,Le);return I.on("init",Lt=>{const Jt=I.getWin(),Tn=ob(I),sr=Md(I),Dr=()=>{const ls=I.selection,lc=zt.fromDom(ls.getStart()),_l=zt.fromDom(ls.getEnd());ms(Kl,[lc,_l]).fold(()=>Ue.clear(Tn),g)},Rr=$i(Jt,Tn,sr,Ue),Jn=sx(Jt,Tn,sr,Ue),Or=B1(Jt,Tn,sr,Ue),Kn=ls=>ls.raw.shiftKey===!0;I.on("TableSelectorChange",ls=>Or(ls.start,ls.finish));const oo=(ls,lc)=>{Kn(ls)&&(lc.kill&&ls.kill(),lc.selection.each(_l=>{const Lu=Um.relative(_l.start,_l.finish),au=Uw(Jt,Lu);I.selection.setRng(au)}))},Ro=ls=>{const lc=Nv(ls);if(lc.raw.shiftKey&&np(lc.raw.which)){const _l=I.selection.getRng(),Lu=zt.fromDom(_l.startContainer),au=zt.fromDom(_l.endContainer);Jn.keyup(lc,Lu,_l.startOffset,au,_l.endOffset).each(jm=>{oo(lc,jm)})}},Qo=ls=>{const lc=Nv(ls);W.hide();const _l=I.selection.getRng(),Lu=zt.fromDom(_l.startContainer),au=zt.fromDom(_l.endContainer),jm=B2(q4,HT)(zt.fromDom(I.selection.getStart()));Jn.keydown(lc,Lu,_l.startOffset,au,_l.endOffset,jm).each(Tc=>{oo(lc,Tc)}),W.show()},_s=ls=>ls.button===0,Ji=ls=>ls.buttons===void 0?!0:(ls.buttons&1)!==0,si=ls=>{Rr.clearstate()},Bc=ls=>{_s(ls)&&hC(ls)&&Rr.mousedown(Nv(ls))},ap=ls=>{Ji(ls)&&hC(ls)&&Rr.mouseover(Nv(ls))},sp=ls=>{_s(ls)&&hC(ls)&&Rr.mouseup(Nv(ls))},mx=(()=>{const ls=$1(zt.fromDom(Tn)),lc=$1(0);return{touchEnd:Lu=>{const au=zt.fromDom(Lu.target);if(Ze("td")(au)||Ze("th")(au)){const jm=ls.get(),Tc=lc.get();rr(jm,au)&&Lu.timeStamp-Tc<300&&(Lu.preventDefault(),Or(au,au))}ls.set(au),lc.set(Lu.timeStamp)}}})();I.on("dragstart",si),I.on("mousedown",Bc),I.on("mouseover",ap),I.on("mouseup",sp),I.on("touchend",mx.touchEnd),I.on("keyup",Ro),I.on("keydown",Qo),I.on("NodeChange",Dr)}),I.on("PreInit",()=>{I.serializer.addTempAttr(Vg.firstSelected),I.serializer.addTempAttr(Vg.lastSelected)}),{getSelectedCells:()=>W1(te.get(),C([]),Lt=>ae(Lt,Jt=>Jt.dom),Lt=>[Lt.dom]),clearSelectedCells:Lt=>Ue.clear(zt.fromDom(Lt))}},Mf=I=>{let W=[];return{bind:Ue=>{if(Ue===void 0)throw new Error("Event bind error: undefined handler");W.push(Ue)},unbind:Ue=>{W=Se(W,nt=>nt!==Ue)},trigger:(...Ue)=>{const nt={};Q(I,(xt,Lt)=>{nt[xt]=Ue[Lt]}),Q(W,xt=>{xt(nt)})}}},Wm=I=>{const W=Te(I,me=>({bind:me.bind,unbind:me.unbind})),te=Te(I,me=>me.trigger);return{registry:W,trigger:te}},l_=(I,W)=>{let te=null;const me=()=>{m(te)||(clearTimeout(te),te=null)};return{cancel:me,throttle:(...Ue)=>{me(),te=setTimeout(()=>{te=null,I.apply(null,Ue)},W)}}},G1=I=>I.slice(0).sort(),c_=(I,W)=>{throw new Error("All required keys ("+G1(I).join(", ")+") were not specified. Specified keys were: "+G1(W).join(", ")+".")},ou=I=>{throw new Error("Unsupported keys for object: "+G1(I).join(", "))},Bl=(I,W)=>{if(!s(W))throw new Error("The "+I+" fields must be an array. Was: "+W+".");Q(W,te=>{if(!L(te))throw new Error("The value "+te+" in the "+I+" fields was not a string.")})},op=(I,W)=>{throw new Error("All values need to be of type: "+W+". Keys ("+G1(I).join(", ")+") were not.")},h$=I=>{const W=G1(I);X(W,(me,Le)=>Le<W.length-1&&me===W[Le+1]).each(me=>{throw new Error("The field: "+me+" occurs more than once in the combined fields: ["+W.join(", ")+"].")})},QT=(I,W)=>u_(I,W,{validate:u,label:"function"}),u_=(I,W,te)=>{if(W.length===0)throw new Error("You must specify at least one required field.");return Bl("required",W),h$(W),me=>{const Le=ue(me);ke(W,xt=>ee(Le,xt))||c_(W,Le),I(W,Le);const nt=Se(W,xt=>!te.validate(me[xt],xt));return nt.length>0&&op(nt,te.label),me}},da=(I,W)=>{const te=Se(W,me=>!ee(I,me));te.length>0&&ou(te)},gC=I=>QT(da,I),qT=gC(["compare","extract","mutate","sink"]),pC=gC(["element","start","stop","destroy"]),f_=gC(["forceDrop","drop","move","delayDrop"]),d_=()=>{let I=R.none();const W=()=>{I=R.none()},te=(Ue,nt)=>{const xt=I.map(Lt=>Ue.compare(Lt,nt));return I=R.some(nt),xt},me=(Ue,nt)=>{nt.extract(Ue).each(Lt=>{te(nt,Lt).each(Tn=>{Le.trigger.move(Tn)})})},Le=Wm({move:Mf(["info"])});return{onEvent:me,reset:W,events:Le.registry}},ek=()=>{const I=Wm({move:Mf(["info"])});return{onEvent:g,reset:g,events:I.registry}},h_=()=>{const I=ek(),W=d_();let te=I;return{on:()=>{te.reset(),te=W},off:()=>{te.reset(),te=I},isOn:()=>te===W,onEvent:(xt,Lt)=>{te.onEvent(xt,Lt)},events:W.events}},Wr=(I,W,te)=>{let me=!1;const Le=Wm({start:Mf([]),stop:Mf([])}),Ue=h_(),nt=()=>{Jn.stop(),Ue.isOn()&&(Ue.off(),Le.trigger.stop())},xt=l_(nt,200),Lt=Kn=>{Jn.start(Kn),Ue.on(),Le.trigger.start()},Jt=Kn=>{xt.cancel(),Ue.onEvent(Kn,W)};Ue.events.move.bind(Kn=>{W.mutate(I,Kn.info)});const Tn=()=>{me=!0},sr=()=>{me=!1},Dr=()=>me,Rr=Kn=>(...oo)=>{me&&Kn.apply(null,oo)},Jn=W.sink(f_({forceDrop:nt,drop:Rr(nt),move:Rr(Jt),delayDrop:Rr(xt.throttle)}),te),Or=()=>{Jn.destroy()};return{element:Jn.element,go:Lt,on:Tn,off:sr,isActive:Dr,destroy:Or,events:Le.registry}},Gm=I=>{const W=I.replace(/\./g,"-");return{resolve:me=>W+"-"+me}},Z1=Gm("ephox-dragster").resolve,j1=I=>{const W={layerClass:Z1("blocker"),...I},te=zt.fromTag("div");return ht(te,"role","presentation"),sl(te,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),rf(te,Z1("blocker")),rf(te,W.layerClass),{element:C(te),destroy:()=>{bn(te)}}};var g_=qT({compare:(I,W)=>pu(W.left-I.left,W.top-I.top),extract:I=>R.some(pu(I.x,I.y)),sink:(I,W)=>{const te=j1(W),me=Iv(te.element(),"mousedown",I.forceDrop),Le=Iv(te.element(),"mouseup",I.drop),Ue=Iv(te.element(),"mousemove",I.move),nt=Iv(te.element(),"mouseout",I.delayDrop),xt=()=>{te.destroy(),Le.unbind(),Ue.unbind(),nt.unbind(),me.unbind()},Lt=Tn=>{_t(Tn,te.element())},Jt=()=>{bn(te.element())};return pC({element:te.element,start:Lt,stop:Jt,destroy:xt})},mutate:(I,W)=>{I.mutate(W.left,W.top)}});const nk=(I,W={})=>{var te;const me=(te=W.mode)!==null&&te!==void 0?te:g_;return Wr(I,me,W)},Vh=Gm("ephox-snooker").resolve,rk=()=>{const I=Wm({drag:Mf(["xDelta","yDelta"])});return{mutate:(te,me)=>{I.trigger.drag(te,me)},events:I.registry}},p_=()=>{const I=Wm({drag:Mf(["xDelta","yDelta","target"])});let W=R.none();const te=rk();return te.events.drag.bind(Ue=>{W.each(nt=>{I.trigger.drag(Ue.xDelta,Ue.yDelta,nt)})}),{assign:Ue=>{W=R.some(Ue)},get:()=>W,mutate:te.mutate,events:I.registry}},Y1=(I,W,te,me,Le)=>{const Ue=zt.fromTag("div");return sl(Ue,{position:"absolute",left:W-me/2+"px",top:te+"px",height:Le+"px",width:me+"px"}),pt(Ue,{"data-column":I,role:"presentation"}),Ue},v_=(I,W,te,me,Le)=>{const Ue=zt.fromTag("div");return sl(Ue,{position:"absolute",left:W+"px",top:te-Le/2+"px",height:Le+"px",width:me+"px"}),pt(Ue,{"data-row":I,role:"presentation"}),Ue},ok=Vh("resizer-bar"),vC=Vh("resizer-rows"),ak=Vh("resizer-cols"),cx=7,y_=(I,W)=>$e(I.all,(te,me)=>W(te.element)?[me]:[]),b_=(I,W)=>{const te=[];return K(I.grid.columns,me=>{aa.getColumnAt(I,me).map(Ue=>Ue.element).forall(W)&&te.push(me)}),Se(te,me=>{const Le=aa.filterItems(I,Ue=>Ue.column===me);return ke(Le,Ue=>W(Ue.element))})},Fv=I=>{const W=Mi(I.parent(),"."+ok);Q(W,bn)},yC=(I,W,te)=>{const me=I.origin();Q(W,Le=>{Le.each(Ue=>{const nt=te(me,Ue);rf(nt,ok),_t(I.parent(),nt)})})},sk=(I,W,te,me)=>{yC(I,W,(Le,Ue)=>{const nt=Y1(Ue.col,Ue.x-Le.left,te.top-Le.top,cx,me);return rf(nt,ak),nt})},x_=(I,W,te,me)=>{yC(I,W,(Le,Ue)=>{const nt=v_(Ue.row,te.left-Le.left,Ue.y-Le.top,me,cx);return rf(nt,vC),nt})},w_=(I,W,te,me,Le)=>{const Ue=Jc(te),nt=W.isResizable,xt=me.length>0?Gr.positions(me,te):[],Lt=xt.length>0?y_(I,nt):[],Jt=Se(xt,(Rr,Jn)=>J(Lt,Or=>Jn===Or));x_(W,Jt,Ue,Ku(te));const Tn=Le.length>0?oi.positions(Le,te):[],sr=Tn.length>0?b_(I,nt):[],Dr=Se(Tn,(Rr,Jn)=>J(sr,Or=>Jn===Or));sk(W,Dr,Ue,wh(te))},ux=(I,W)=>{if(Fv(I),I.isResizable(W)){const te=aa.fromTable(W),me=Ig(te),Le=bh(te);w_(te,I,W,me,Le)}},Hd=(I,W)=>{const te=Mi(I.parent(),"."+ok);Q(te,W)},fx=I=>{Hd(I,W=>{Ps(W,"display","none")})},Na=I=>{Hd(I,W=>{Ps(W,"display","block")})},C_=I=>Fc(I,vC),Uh=I=>Fc(I,ak),zd=Vh("resizer-bar-dragging"),dx=I=>{const W=p_(),te=nk(W,{});let me=R.none();const Le=(Jn,Or)=>R.from(Et(Jn,Or));W.events.drag.bind(Jn=>{Le(Jn.target,"data-row").each(Or=>{const Kn=Gu(Jn.target,"top");Ps(Jn.target,"top",Kn+Jn.yDelta+"px")}),Le(Jn.target,"data-column").each(Or=>{const Kn=Gu(Jn.target,"left");Ps(Jn.target,"left",Kn+Jn.xDelta+"px")})});const Ue=(Jn,Or)=>{const Kn=Gu(Jn,Or),oo=ws(Jn,"data-initial-"+Or,0);return Kn-oo};te.events.stop.bind(()=>{W.get().each(Jn=>{me.each(Or=>{Le(Jn,"data-row").each(Kn=>{const oo=Ue(Jn,"top");tn(Jn,"data-initial-top"),Rr.trigger.adjustHeight(Or,oo,parseInt(Kn,10))}),Le(Jn,"data-column").each(Kn=>{const oo=Ue(Jn,"left");tn(Jn,"data-initial-left"),Rr.trigger.adjustWidth(Or,oo,parseInt(Kn,10))}),ux(I,Or)})})});const nt=(Jn,Or)=>{Rr.trigger.startAdjust(),W.assign(Jn),ht(Jn,"data-initial-"+Or,Gu(Jn,Or)),rf(Jn,zd),Ps(Jn,"opacity","0.2"),te.go(I.parent())},xt=Iv(I.parent(),"mousedown",Jn=>{C_(Jn.target)&&nt(Jn.target,"top"),Uh(Jn.target)&&nt(Jn.target,"left")}),Lt=Jn=>rr(Jn,I.view()),Jt=Jn=>Bs(Jn,"table",Lt).filter(Kf),Tn=Iv(I.view(),"mouseover",Jn=>{Jt(Jn.target).fold(()=>{Ka(Jn.target)&&Fv(I)},Or=>{te.isActive()&&(me=R.some(Or),ux(I,Or))})}),sr=()=>{xt.unbind(),Tn.unbind(),te.destroy(),Fv(I)},Dr=Jn=>{ux(I,Jn)},Rr=Wm({adjustHeight:Mf(["table","delta","row"]),adjustWidth:Mf(["table","delta","column"]),startAdjust:Mf([])});return{destroy:sr,refresh:Dr,on:te.on,off:te.off,hideBars:S(fx,I),showBars:S(Na,I),events:Rr.registry}},hx={create:(I,W,te)=>{const me=Gr,Le=oi,Ue=dx(I),nt=Wm({beforeResize:Mf(["table","type"]),afterResize:Mf(["table","type"]),startDrag:Mf([])});return Ue.events.adjustHeight.bind(xt=>{const Lt=xt.table;nt.trigger.beforeResize(Lt,"row");const Jt=me.delta(xt.delta,Lt);lw(Lt,Jt,xt.row,me),nt.trigger.afterResize(Lt,"row")}),Ue.events.startAdjust.bind(xt=>{nt.trigger.startDrag()}),Ue.events.adjustWidth.bind(xt=>{const Lt=xt.table;nt.trigger.beforeResize(Lt,"col");const Jt=Le.delta(xt.delta,Lt),Tn=te(Lt);u1(Lt,Jt,xt.column,W,Tn),nt.trigger.afterResize(Lt,"col")}),{on:Ue.on,off:Ue.off,refreshBars:Ue.refresh,hideBars:Ue.hideBars,showBars:Ue.showBars,destroy:Ue.destroy,events:nt.registry}}},bC={only:(I,W)=>{const te=vt(I)?or(I):I;return{parent:C(te),view:C(I),origin:C(pu(0,0)),isResizable:W}},detached:(I,W,te)=>{const me=()=>Jc(W);return{parent:C(W),view:C(I),origin:me,isResizable:te}},body:(I,W,te)=>({parent:C(W),view:C(I),origin:C(pu(0,0)),isResizable:te})},S_=()=>{const I=zt.fromTag("div");return sl(I,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),_t(yi(),I),I},xC=(I,W)=>I.inline?bC.body(zt.fromDom(I.getBody()),S_(),W):bC.only(zt.fromDom(I.getDoc()),W),T_=(I,W)=>{I.inline&&bn(W.parent())},ya=I=>i(I)&&I.nodeName==="TABLE",Ru="bar-",Zm=I=>Et(I,"data-mce-resize")!=="false",k_=I=>{const W=aa.fromTable(I);aa.hasColumns(W)||Q(ju(I),te=>{const me=Ei(te,"width");Ps(te,"width",me),tn(te,"width")})},Hv=I=>{const W=Rv(),te=Rv(),me=Rv();let Le,Ue;const nt=Jn=>sc(I,Jn),xt=()=>Cl(I)?ew():B3(),Lt=Jn=>Jp(Jn).columns,Jt=(Jn,Or,Kn)=>{const oo=gc(Or,"e");if(Ue===""&&tf(Jn),Kn!==Le&&Ue!==""){Ps(Jn,"width",Ue);const Ro=xt(),Qo=nt(Jn),_s=Cl(I)||oo?Lt(Jn)-1:0;u1(Jn,Kn-Le,_s,Ro,Qo)}else if(ab(Ue)){const Ro=parseFloat(Ue.replace("%","")),Qo=Kn*Ro/Le;Ps(Jn,"width",Qo+"%")}q0(Ue)&&k_(Jn)},Tn=()=>{te.on(Jn=>{Jn.destroy()}),me.on(Jn=>{T_(I,Jn)})};return I.on("init",()=>{const Jn=xC(I,Zm);if(me.set(Jn),xc(I)&&Tl(I)){const Or=xt(),Kn=hx.create(Jn,Or,nt);Kn.on(),Kn.events.startDrag.bind(oo=>{W.set(I.selection.getRng())}),Kn.events.beforeResize.bind(oo=>{const Ro=oo.table.dom;Mw(I,Ro,Sm(Ro),Tm(Ro),Ru+oo.type)}),Kn.events.afterResize.bind(oo=>{const Ro=oo.table,Qo=Ro.dom;Xf(Ro),W.on(_s=>{I.selection.setRng(_s),I.focus()}),y4(I,Qo,Sm(Qo),Tm(Qo),Ru+oo.type),I.undoManager.add()}),te.set(Kn)}}),I.on("ObjectResizeStart",Jn=>{const Or=Jn.target;if(ya(Or)){const Kn=zt.fromDom(Or);Q(I.dom.select(".mce-clonedresizable"),oo=>{I.dom.addClass(oo,"mce-"+tc(I)+"-columns")}),!x1(Kn)&&Sl(I)?vv(Kn):!b1(Kn)&&qu(I)&&tf(Kn),Nb(Kn)&&Uf(Jn.origin,Ru)&&tf(Kn),Le=Jn.width,Ue=wi(I)?"":D3(I,Or).getOr("")}}),I.on("ObjectResized",Jn=>{const Or=Jn.target;if(ya(Or)){const Kn=zt.fromDom(Or),oo=Jn.origin;Uf(oo,"corner-")&&Jt(Kn,oo,Jn.width),Xf(Kn),Xg(I,Kn.dom,Oh)}}),I.on("SwitchMode",()=>{te.on(Jn=>{I.mode.isReadOnly()?Jn.hideBars():Jn.showBars()})}),I.on("dragstart dragend",Jn=>{te.on(Or=>{Jn.type==="dragstart"?(Or.hideBars(),Or.off()):(Or.on(),Or.showBars())})}),I.on("remove",()=>{Tn()}),{refresh:Jn=>{te.on(Or=>Or.refreshBars(zt.fromDom(Jn)))},hide:()=>{te.on(Jn=>Jn.hideBars())},show:()=>{te.on(Jn=>Jn.showBars())}}},_a=I=>{Di(I);const W=Hv(I),te=mC(I,W),me=Pb(I,W,te);return bv(I,me),N4(I,me),ZE(I,me),{getSelectedCells:te.getSelectedCells,clearSelectedCells:te.clearSelectedCells}},A_=I=>({table:_a(I)});var wC=()=>{o.add("dom",A_)};wC()})();(function(){const o=Object.getPrototypeOf,b=(t,a,p)=>{var E;return p(t,a.prototype)?!0:((E=t.constructor)===null||E===void 0?void 0:E.name)===a.name},y=t=>{const a=typeof t;return t===null?"null":a==="object"&&Array.isArray(t)?"array":a==="object"&&b(t,String,(p,E)=>E.isPrototypeOf(p))?"string":a},T=t=>a=>y(a)===t,G=t=>a=>typeof a===t,V=t=>a=>t===a,L=(t,a)=>s(t)&&b(t,a,(p,E)=>o(p)===E),A=T("string"),s=T("object"),m=t=>L(t,Object),h=T("array"),l=V(null),c=G("boolean"),i=V(void 0),u=t=>t==null,d=t=>!u(t),g=G("function"),v=G("number"),x=(t,a)=>{if(h(t)){for(let p=0,E=t.length;p<E;++p)if(!a(t[p]))return!1;return!0}return!1},C=()=>{},_=t=>()=>t(),$=(t,a)=>(...p)=>t(a.apply(null,p)),S=(t,a)=>p=>t(a(p)),O=t=>()=>t,D=t=>t,N=(t,a)=>t===a;function M(t,...a){return(...p)=>{const E=a.concat(p);return t.apply(null,E)}}const k=t=>a=>!t(a),R=t=>()=>{throw new Error(t)},F=t=>t(),H=O(!1),j=O(!0);class P{constructor(a,p){this.tag=a,this.value=p}static some(a){return new P(!0,a)}static none(){return P.singletonNone}fold(a,p){return this.tag?p(this.value):a()}isSome(){return this.tag}isNone(){return!this.tag}map(a){return this.tag?P.some(a(this.value)):P.none()}bind(a){return this.tag?a(this.value):P.none()}exists(a){return this.tag&&a(this.value)}forall(a){return!this.tag||a(this.value)}filter(a){return!this.tag||a(this.value)?this:P.none()}getOr(a){return this.tag?this.value:a}or(a){return this.tag?this:a}getOrThunk(a){return this.tag?this.value:a()}orThunk(a){return this.tag?this:a()}getOrDie(a){if(this.tag)return this.value;throw new Error(a??"Called getOrDie on None")}static from(a){return d(a)?P.some(a):P.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(a){this.tag&&a(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}P.singletonNone=new P(!1);const ee=Array.prototype.slice,J=Array.prototype.indexOf,K=Array.prototype.push,ae=(t,a)=>J.call(t,a),Q=(t,a)=>{const p=ae(t,a);return p===-1?P.none():P.some(p)},he=(t,a)=>ae(t,a)>-1,ge=(t,a)=>{for(let p=0,E=t.length;p<E;p++){const z=t[p];if(a(z,p))return!0}return!1},Se=(t,a)=>{const p=[];for(let E=0;E<t;E++)p.push(a(E));return p},ce=(t,a)=>{const p=[];for(let E=0;E<t.length;E+=a){const z=ee.call(t,E,E+a);p.push(z)}return p},ne=(t,a)=>{const p=t.length,E=new Array(p);for(let z=0;z<p;z++){const Y=t[z];E[z]=a(Y,z)}return E},fe=(t,a)=>{for(let p=0,E=t.length;p<E;p++){const z=t[p];a(z,p)}},X=(t,a)=>{for(let p=t.length-1;p>=0;p--){const E=t[p];a(E,p)}},ye=(t,a)=>{const p=[],E=[];for(let z=0,Y=t.length;z<Y;z++){const re=t[z];(a(re,z)?p:E).push(re)}return{pass:p,fail:E}},Ce=(t,a)=>{const p=[];for(let E=0,z=t.length;E<z;E++){const Y=t[E];a(Y,E)&&p.push(Y)}return p},$e=(t,a,p)=>(X(t,(E,z)=>{p=a(p,E,z)}),p),ke=(t,a,p)=>(fe(t,(E,z)=>{p=a(p,E,z)}),p),Ne=(t,a,p)=>{for(let E=0,z=t.length;E<z;E++){const Y=t[E];if(a(Y,E))return P.some(Y);if(p(Y,E))break}return P.none()},Ve=(t,a)=>Ne(t,a,H),Oe=(t,a)=>{for(let p=0,E=t.length;p<E;p++){const z=t[p];if(a(z,p))return P.some(p)}return P.none()},Fe=t=>{const a=[];for(let p=0,E=t.length;p<E;++p){if(!h(t[p]))throw new Error("Arr.flatten item "+p+" was not an array, input: "+t);K.apply(a,t[p])}return a},ie=(t,a)=>Fe(ne(t,a)),we=(t,a)=>{for(let p=0,E=t.length;p<E;++p){const z=t[p];if(a(z,p)!==!0)return!1}return!0},se=t=>{const a=ee.call(t,0);return a.reverse(),a},ue=(t,a)=>Ce(t,p=>!he(a,p)),pe=(t,a)=>{const p={};for(let E=0,z=t.length;E<z;E++){const Y=t[E];p[String(Y)]=a(Y,E)}return p},le=t=>[t],Te=(t,a)=>{const p=ee.call(t,0);return p.sort(a),p},de=(t,a)=>a>=0&&a<t.length?P.some(t[a]):P.none(),Me=t=>de(t,0),Re=t=>de(t,t.length-1),ze=g(Array.from)?Array.from:t=>ee.call(t),We=(t,a)=>{for(let p=0;p<t.length;p++){const E=a(t[p],p);if(E.isSome())return E}return P.none()},ot=Object.keys,dt=Object.hasOwnProperty,Ge=(t,a)=>{const p=ot(t);for(let E=0,z=p.length;E<z;E++){const Y=p[E],re=t[Y];a(re,Y)}},Xe=(t,a)=>qe(t,(p,E)=>({k:E,v:a(p,E)})),qe=(t,a)=>{const p={};return Ge(t,(E,z)=>{const Y=a(E,z);p[Y.k]=Y.v}),p},gt=t=>(a,p)=>{t[p]=a},ut=(t,a,p,E)=>{Ge(t,(z,Y)=>{(a(z,Y)?p:E)(z,Y)})},tt=(t,a)=>{const p={},E={};return ut(t,a,gt(p),gt(E)),{t:p,f:E}},Ct=(t,a)=>{const p={};return ut(t,a,gt(p),C),p},Gt=(t,a)=>{const p=[];return Ge(t,(E,z)=>{p.push(a(E,z))}),p},Yt=(t,a)=>{const p=ot(t);for(let E=0,z=p.length;E<z;E++){const Y=p[E],re=t[Y];if(a(re,Y,t))return P.some(re)}return P.none()},Nt=t=>Gt(t,D),Ft=(t,a)=>pn(t,a)?P.from(t[a]):P.none(),pn=(t,a)=>dt.call(t,a),_n=(t,a)=>pn(t,a)&&t[a]!==void 0&&t[a]!==null,sn=(t,a,p=N)=>t.exists(E=>p(E,a)),Zn=(t,a,p=N)=>jn(t,a,p).getOr(t.isNone()&&a.isNone()),an=t=>{const a=[],p=E=>{a.push(E)};for(let E=0;E<t.length;E++)t[E].each(p);return a},Cn=t=>{const a=[];for(let p=0;p<t.length;p++){const E=t[p];if(E.isSome())a.push(E.getOrDie());else return P.none()}return P.some(a)},jn=(t,a,p)=>t.isSome()&&a.isSome()?P.some(p(t.getOrDie(),a.getOrDie())):P.none(),Wn=(t,a,p,E)=>t.isSome()&&a.isSome()&&p.isSome()?P.some(E(t.getOrDie(),a.getOrDie(),p.getOrDie())):P.none(),wn=(t,a)=>t!=null?P.some(a(t)):P.none(),lt=(t,a)=>t?P.some(a):P.none(),ft=(t,a)=>t+a,wt=(t,a)=>t.substring(a),vt=(t,a,p)=>a===""||t.length>=a.length&&t.substr(p,p+a.length)===a,$t=(t,a)=>ht(t,a)?wt(t,a.length):t,Ze=(t,a)=>pt(t,a)?t:ft(t,a),it=(t,a,p=0,E)=>{const z=t.indexOf(a,p);return z!==-1?i(E)?!0:z+a.length<=E:!1},ht=(t,a)=>vt(t,a,0),pt=(t,a)=>vt(t,a,t.length-a.length),Et=(t=>a=>a.replace(t,""))(/^\s+|\s+$/g),fn=t=>t.length>0,tn=t=>!fn(t),Zt=t=>t.style!==void 0&&g(t.style.getPropertyValue),Dt=(t,a)=>{const E=(a||document).createElement("div");if(E.innerHTML=t,!E.hasChildNodes()||E.childNodes.length>1){const z="HTML does not have a single root node";throw console.error(z,t),new Error(z)}return tr(E.childNodes[0])},un=(t,a)=>{const E=(a||document).createElement(t);return tr(E)},Un=(t,a)=>{const E=(a||document).createTextNode(t);return tr(E)},tr=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},zt={fromHtml:Dt,fromTag:un,fromText:Un,fromDom:tr,fromPoint:(t,a,p)=>P.from(t.dom.elementFromPoint(a,p)).map(tr)},pr=typeof window<"u"?window:Function("return this;")(),Gn=(t,a)=>{let p=a??pr;for(let E=0;E<t.length&&p!==void 0&&p!==null;++E)p=p[t[E]];return p},Ir=(t,a)=>{const p=t.split(".");return Gn(p,a)},Tr=(t,a)=>Ir(t,a),rr=(t,a)=>{const p=Tr(t,a);if(p==null)throw new Error(t+" not available on this browser");return p},Yr=Object.getPrototypeOf,_r=t=>rr("HTMLElement",t),Ln=t=>{const a=Ir("ownerDocument.defaultView",t);return s(t)&&(_r(a).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(Yr(t).constructor.name))},xr=9,or=11,wr=1,ro=3,vo=t=>t.dom.nodeName.toLowerCase(),Cr=t=>t.dom.nodeType,He=t=>a=>Cr(a)===t,De=t=>St(t)&&Ln(t.dom),St=He(wr),kt=He(ro),Pt=He(xr),Bt=He(or),Ut=t=>a=>St(a)&&vo(a)===t,Ot=(t,a)=>{const p=t.dom;if(p.nodeType!==wr)return!1;{const E=p;if(E.matches!==void 0)return E.matches(a);if(E.msMatchesSelector!==void 0)return E.msMatchesSelector(a);if(E.webkitMatchesSelector!==void 0)return E.webkitMatchesSelector(a);if(E.mozMatchesSelector!==void 0)return E.mozMatchesSelector(a);throw new Error("Browser lacks native selectors")}},_t=t=>t.nodeType!==wr&&t.nodeType!==xr&&t.nodeType!==or||t.childElementCount===0,qt=(t,a)=>{const p=a===void 0?document:a.dom;return _t(p)?[]:ne(p.querySelectorAll(t),zt.fromDom)},cn=(t,a)=>{const p=a===void 0?document:a.dom;return _t(p)?P.none():P.from(p.querySelector(t)).map(zt.fromDom)},Qt=(t,a)=>t.dom===a.dom,nn=(t,a)=>{const p=t.dom,E=a.dom;return p===E?!1:p.contains(E)},Sn=t=>zt.fromDom(t.dom.ownerDocument),bn=t=>Pt(t)?t:Sn(t),gn=t=>zt.fromDom(bn(t).dom.documentElement),Qn=t=>zt.fromDom(bn(t).dom.defaultView),Bn=t=>P.from(t.dom.parentNode).map(zt.fromDom),Hr=t=>Bn(t),fr=t=>P.from(t.dom.parentElement).map(zt.fromDom),Vr=(t,a)=>{const p=g(a)?a:H;let E=t.dom;const z=[];for(;E.parentNode!==null&&E.parentNode!==void 0;){const Y=E.parentNode,re=zt.fromDom(Y);if(z.push(re),p(re)===!0)break;E=Y}return z},ar=t=>P.from(t.dom.offsetParent).map(zt.fromDom),cr=t=>P.from(t.dom.nextSibling).map(zt.fromDom),Kr=t=>ne(t.dom.childNodes,zt.fromDom),qr=(t,a)=>{const p=t.dom.childNodes;return P.from(p[a]).map(zt.fromDom)},So=t=>qr(t,0),wa=(t,a)=>({element:t,offset:a}),bo=(t,a)=>{const p=Kr(t);return p.length>0&&a<p.length?wa(p[a],0):wa(t,a)},Zo=t=>Bt(t)&&d(t.dom.host),oa=g(Element.prototype.attachShadow)&&g(Node.prototype.getRootNode),Va=O(oa),Yo=oa?t=>zt.fromDom(t.dom.getRootNode()):bn,Fa=t=>Zo(t)?t:zt.fromDom(bn(t).dom.body),Os=t=>Zl(t).isSome(),Zl=t=>{const a=Yo(t);return Zo(a)?P.some(a):P.none()},Ys=t=>zt.fromDom(t.dom.host),Ec=t=>{if(Va()&&d(t.target)){const a=zt.fromDom(t.target);if(St(a)&&ks(a)&&t.composed&&t.composedPath){const p=t.composedPath();if(p)return Me(p)}}return P.from(t.target)},ks=t=>d(t.dom.shadowRoot),Wa=t=>{const a=kt(t)?t.dom.parentNode:t.dom;if(a==null||a.ownerDocument===null)return!1;const p=a.ownerDocument;return Zl(zt.fromDom(a)).fold(()=>p.body.contains(a),S(Wa,Ys))},ss=()=>Ya(zt.fromDom(document)),Ya=t=>{const a=t.dom.body;if(a==null)throw new Error("Body is not available yet");return zt.fromDom(a)},_c=(t,a,p)=>{if(A(p)||c(p)||v(p))t.setAttribute(a,p+"");else throw console.error("Invalid call to Attribute.set. Key ",a,":: Value ",p,":: Element ",t),new Error("Attribute value was not simple")},Lr=(t,a,p)=>{_c(t.dom,a,p)},jl=(t,a)=>{const p=t.dom;Ge(a,(E,z)=>{_c(p,z,E)})},Ka=(t,a)=>{const p=t.dom.getAttribute(a);return p===null?void 0:p},yi=(t,a)=>P.from(Ka(t,a)),Hf=(t,a)=>{const p=t.dom;return p&&p.hasAttribute?p.hasAttribute(a):!1},Xa=(t,a)=>{t.dom.removeAttribute(a)},Zc=t=>ke(t.dom.attributes,(a,p)=>(a[p.name]=p.value,a),{}),zf=(t,a,p)=>{if(!A(p))throw console.error("Invalid call to CSS.set. Property ",a,":: Value ",p,":: Element ",t),new Error("CSS value must be a string: "+p);Zt(t)&&t.style.setProperty(a,p)},jc=(t,a)=>{Zt(t)&&t.style.removeProperty(a)},To=(t,a,p)=>{const E=t.dom;zf(E,a,p)},Mi=(t,a)=>{const p=t.dom;Ge(a,(E,z)=>{zf(p,z,E)})},ur=(t,a)=>{const p=t.dom;Ge(a,(E,z)=>{E.fold(()=>{jc(p,z)},Y=>{zf(p,z,Y)})})},Ms=(t,a)=>{const p=t.dom,z=window.getComputedStyle(p).getPropertyValue(a);return z===""&&!Wa(t)?li(p,a):z},li=(t,a)=>Zt(t)?t.style.getPropertyValue(a):"",Rs=(t,a)=>{const p=t.dom,E=li(p,a);return P.from(E).filter(z=>z.length>0)},Es=t=>{const a={},p=t.dom;if(Zt(p))for(let E=0;E<p.style.length;E++){const z=p.style.item(E);a[z]=p.style[z]}return a},qi=(t,a,p)=>{const E=zt.fromTag(t);return To(E,a,p),Rs(E,a).isSome()},Bo=(t,a)=>{const p=t.dom;jc(p,a),sn(yi(t,"style").map(Et),"")&&Xa(t,"style")},Ks=t=>t.dom.offsetWidth,Bs=(t,a)=>{const p=(xe,Ee)=>{if(!v(Ee)&&!Ee.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+Ee);const Be=xe.dom;Zt(Be)&&(Be.style[t]=Ee+"px")},E=xe=>{const Ee=a(xe);if(Ee<=0||Ee===null){const Be=Ms(xe,t);return parseFloat(Be)||0}return Ee},z=E,Y=(xe,Ee)=>ke(Ee,(Be,je)=>{const et=Ms(xe,je),st=et===void 0?0:parseInt(et,10);return isNaN(st)?Be:Be+st},0);return{set:p,get:E,getOuter:z,aggregate:Y,max:(xe,Ee,Be)=>{const je=Y(xe,Be);return Ee>je?Ee-je:0}}},df=Bs("height",t=>{const a=t.dom;return Wa(t)?a.getBoundingClientRect().height:a.offsetHeight}),Ls=t=>df.get(t),cu=t=>df.getOuter(t),uu=(t,a)=>{const p=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],E=df.max(t,a,p);To(t,"max-height",E+"px")},Vf=(t,a)=>({left:t,top:a,translate:(E,z)=>Vf(t+E,a+z)}),Ma=Vf,Uf=t=>{const a=t.getBoundingClientRect();return Ma(a.left,a.top)},gc=(t,a)=>t!==void 0?t:a!==void 0?a:0,al=t=>{const a=t.dom.ownerDocument,p=a.body,E=a.defaultView,z=a.documentElement;if(p===t.dom)return Ma(p.offsetLeft,p.offsetTop);const Y=gc(E==null?void 0:E.pageYOffset,z.scrollTop),re=gc(E==null?void 0:E.pageXOffset,z.scrollLeft),xe=gc(z.clientTop,p.clientTop),Ee=gc(z.clientLeft,p.clientLeft);return wd(t).translate(re-Ee,Y-xe)},wd=t=>{const a=t.dom,E=a.ownerDocument.body;return E===a?Ma(E.offsetLeft,E.offsetTop):Wa(t)?Uf(a):Ma(0,0)},dh=Bs("width",t=>t.dom.offsetWidth),La=(t,a)=>dh.set(t,a),ci=t=>dh.get(t),Wu=t=>dh.getOuter(t),P2=(t,a)=>{const p=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],E=dh.max(t,a,p);To(t,"max-width",E+"px")},Ps=t=>{let a=!1,p;return(...E)=>(a||(a=!0,p=t.apply(null,E)),p)},sl=(t,a,p,E)=>{const z=t.isiOS()&&/ipad/i.test(p)===!0,Y=t.isiOS()&&!z,re=t.isiOS()||t.isAndroid(),xe=re||E("(pointer:coarse)"),Ee=z||!Y&&re&&E("(min-device-width:768px)"),Be=Y||re&&!Ee,je=a.isSafari()&&t.isiOS()&&/safari/i.test(p)===!1,et=!Be&&!Ee&&!je;return{isiPad:O(z),isiPhone:O(Y),isTablet:O(Ee),isPhone:O(Be),isTouch:O(xe),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:O(je),isDesktop:O(et)}},Ei=(t,a)=>{for(let p=0;p<t.length;p++){const E=t[p];if(E.test(a))return E}},Zy=(t,a)=>{const p=Ei(t,a);if(!p)return{major:0,minor:0};const E=z=>Number(a.replace(p,"$"+z));return fu(E(1),E(2))},Ag=(t,a)=>{const p=String(a).toLowerCase();return t.length===0?Yc():Zy(t,p)},Yc=()=>fu(0,0),fu=(t,a)=>({major:t,minor:a}),ws={nu:fu,detect:Ag,unknown:Yc},Kc=(t,a)=>We(a.brands,p=>{const E=p.brand.toLowerCase();return Ve(t,z=>{var Y;return E===((Y=z.brand)===null||Y===void 0?void 0:Y.toLowerCase())}).map(z=>({current:z.name,version:ws.nu(parseInt(p.version,10),0)}))}),il=(t,a)=>{const p=String(a).toLowerCase();return Ve(t,E=>E.search(p))},Yl=(t,a)=>il(t,a).map(p=>{const E=ws.detect(p.versionRegexes,a);return{current:p.name,version:E}}),Gu=(t,a)=>il(t,a).map(p=>{const E=ws.detect(p.versionRegexes,a);return{current:p.name,version:E}}),Xs=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Zu=t=>a=>it(a,t),Mg=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>it(t,"edge/")&&it(t,"chrome")&&it(t,"safari")&&it(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Xs],search:t=>it(t,"chrome")&&!it(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>it(t,"msie")||it(t,"trident")},{name:"Opera",versionRegexes:[Xs,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Zu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Zu("firefox")},{name:"Safari",versionRegexes:[Xs,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(it(t,"safari")||it(t,"mobile/"))&&it(t,"applewebkit")}],Eg=[{name:"Windows",search:Zu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>it(t,"iphone")||it(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Zu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Zu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Zu("linux"),versionRegexes:[]},{name:"Solaris",search:Zu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Zu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Zu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],D0={browsers:O(Mg),oses:O(Eg)},Dp="Edge",ju="Chromium",_g="IE",Kl="Opera",$p="Firefox",$0="Safari",hh=()=>O0({current:void 0,version:ws.unknown()}),O0=t=>{const a=t.current,p=t.version,E=z=>()=>a===z;return{current:a,version:p,isEdge:E(Dp),isChromium:E(ju),isIE:E(_g),isOpera:E(Kl),isFirefox:E($p),isSafari:E($0)}},mh={unknown:hh,nu:O0,edge:O(Dp),chromium:O(ju),ie:O(_g),opera:O(Kl),firefox:O($p),safari:O($0)},jy="Windows",Cd="iOS",Yy="Android",Ky="Linux",Xy="macOS",gh="Solaris",P0="FreeBSD",jt="ChromeOS",ph=()=>du({current:void 0,version:ws.unknown()}),du=t=>{const a=t.current,p=t.version,E=z=>()=>a===z;return{current:a,version:p,isWindows:E(jy),isiOS:E(Cd),isAndroid:E(Yy),isMacOS:E(Xy),isLinux:E(Ky),isSolaris:E(gh),isFreeBSD:E(P0),isChromeOS:E(jt)}},Op={unknown:ph,nu:du,windows:O(jy),ios:O(Cd),android:O(Yy),linux:O(Ky),macos:O(Xy),solaris:O(gh),freebsd:O(P0),chromeos:O(jt)},I2={detect:(t,a,p)=>{const E=D0.browsers(),z=D0.oses(),Y=a.bind(Ee=>Kc(E,Ee)).orThunk(()=>Yl(E,t)).fold(mh.unknown,mh.nu),re=Gu(z,t).fold(Op.unknown,Op.nu),xe=sl(re,Y,t,p);return{browser:Y,os:re,deviceType:xe}}},Ba=t=>window.matchMedia(t).matches;let Dl=Ps(()=>I2.detect(navigator.userAgent,P.from(navigator.userAgentData),Ba));const hf=()=>Dl(),mf=(t,a,p,E,z,Y,re)=>({target:t,x:a,y:p,stop:E,prevent:z,kill:Y,raw:re}),I0=t=>{const a=zt.fromDom(Ec(t).getOr(t.target)),p=()=>t.stopPropagation(),E=()=>t.preventDefault(),z=$(E,p);return mf(a,t.clientX,t.clientY,p,E,z,t)},mm=(t,a)=>p=>{t(p)&&a(I0(p))},Rc=(t,a,p,E,z)=>{const Y=mm(p,E);return t.dom.addEventListener(a,Y,z),{unbind:M(Jy,t,a,Y,z)}},gm=(t,a,p,E)=>Rc(t,a,p,E,!1),N0=(t,a,p,E)=>Rc(t,a,p,E,!0),Jy=(t,a,p,E)=>{t.dom.removeEventListener(a,p,E)},hu=(t,a)=>{Bn(t).each(E=>{E.dom.insertBefore(a.dom,t.dom)})},Lg=(t,a)=>{cr(t).fold(()=>{Bn(t).each(z=>{pc(z,a)})},E=>{hu(E,a)})},F0=(t,a)=>{So(t).fold(()=>{pc(t,a)},E=>{t.dom.insertBefore(a.dom,E.dom)})},pc=(t,a)=>{t.dom.appendChild(a.dom)},zi=(t,a,p)=>{qr(t,p).fold(()=>{pc(t,a)},E=>{hu(E,a)})},Sd=(t,a)=>{fe(a,p=>{pc(t,p)})},pm=t=>{t.dom.textContent="",fe(Kr(t),a=>{Xl(a)})},Xl=t=>{const a=t.dom;a.parentNode!==null&&a.parentNode.removeChild(a)},ll=t=>{const a=t!==void 0?t.dom:document,p=a.body.scrollLeft||a.documentElement.scrollLeft,E=a.body.scrollTop||a.documentElement.scrollTop;return Ma(p,E)},mu=(t,a,p)=>{const z=(p!==void 0?p.dom:document).defaultView;z&&z.scrollTo(t,a)},Qy=t=>{const a=t===void 0?window:t;return hf().browser.isFirefox()?P.none():P.from(a.visualViewport)},Dg=(t,a,p,E)=>({x:t,y:a,width:p,height:E,right:t+p,bottom:a+E}),B0=t=>{const a=t===void 0?window:t,p=a.document,E=ll(zt.fromDom(p));return Qy(a).fold(()=>{const z=a.document.documentElement,Y=z.clientWidth,re=z.clientHeight;return Dg(E.left,E.top,Y,re)},z=>Dg(Math.max(z.pageLeft,E.left),Math.max(z.pageTop,E.top),z.width,z.height))},Pp=()=>zt.fromDom(document),Yu=(t,a)=>t.view(a).fold(O([]),E=>{const z=t.owner(E),Y=Yu(t,z);return[E].concat(Y)}),qy=(t,a)=>{const p=a.owner(t),E=Yu(a,p);return P.some(E)};var N2=Object.freeze({__proto__:null,view:t=>{var a;return(t.dom===document?P.none():P.from((a=t.dom.defaultView)===null||a===void 0?void 0:a.frameElement)).map(zt.fromDom)},owner:t=>Sn(t)});const $g=t=>{const a=Pp(),p=ll(a);return qy(t,N2).fold(M(al,t),z=>{const Y=wd(t),re=$e(z,(xe,Ee)=>{const Be=wd(Ee);return{left:xe.left+Be.left,top:xe.top+Be.top}},{left:0,top:0});return Ma(re.left+Y.left+p.left,re.top+Y.top+p.top)})},Ip=(t,a,p)=>({point:t,width:a,height:p}),Td=(t,a,p,E)=>({x:t,y:a,width:p,height:E}),Hs=(t,a,p,E)=>({x:t,y:a,width:p,height:E,right:t+p,bottom:a+E}),Js=t=>{const a=al(t),p=Wu(t),E=cu(t);return Hs(a.left,a.top,p,E)},Xc=t=>{const a=$g(t),p=Wu(t),E=cu(t);return Hs(a.left,a.top,p,E)},H0=(t,a)=>{const p=Math.max(t.x,a.x),E=Math.max(t.y,a.y),z=Math.min(t.right,a.right),Y=Math.min(t.bottom,a.bottom),re=z-p,xe=Y-E;return Hs(p,E,re,xe)},eb=(t,a)=>ke(a,(p,E)=>H0(p,E),t),bl=()=>B0(window);var vm=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Jl=t=>{const a=Y=>Y(t),p=O(t),E=()=>z,z={tag:!0,inner:t,fold:(Y,re)=>re(t),isValue:j,isError:H,map:Y=>Wo.value(Y(t)),mapError:E,bind:a,exists:a,forall:a,getOr:p,or:E,getOrThunk:p,orThunk:E,getOrDie:p,each:Y=>{Y(t)},toOptional:()=>P.some(t)};return z},Ku=t=>{const a=()=>p,p={tag:!1,inner:t,fold:(E,z)=>E(t),isValue:H,isError:j,map:a,mapError:E=>Wo.error(E(t)),bind:a,exists:H,forall:j,getOr:D,or:D,getOrThunk:F,orThunk:F,getOrDie:R(String(t)),each:C,toOptional:P.none};return p},Wo={value:Jl,error:Ku,fromOption:(t,a)=>t.fold(()=>Ku(a),Jl)};var vc;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(vc||(vc={}));const kd=(t,a,p)=>t.stype===vc.Error?a(t.serror):p(t.svalue),vh=t=>{const a=[],p=[];return fe(t,E=>{kd(E,z=>p.push(z),z=>a.push(z))}),{values:a,errors:p}},V0=(t,a)=>t.stype===vc.Error?{stype:vc.Error,serror:a(t.serror)}:t,U0=(t,a)=>t.stype===vc.Value?{stype:vc.Value,svalue:a(t.svalue)}:t,$l=(t,a)=>t.stype===vc.Value?a(t.svalue):t,ui=(t,a)=>t.stype===vc.Error?a(t.serror):t,Lc=t=>({stype:vc.Value,svalue:t}),_i=t=>({stype:vc.Error,serror:t}),fi={fromResult:t=>t.fold(_i,Lc),toResult:t=>kd(t,Wo.error,Wo.value),svalue:Lc,partition:vh,serror:_i,bind:$l,bindError:ui,map:U0,mapError:V0,fold:kd},Ri=(t,a,p,E)=>({tag:"field",key:t,newKey:a,presence:p,prop:E}),gu=(t,a)=>({tag:"custom",newKey:t,instantiator:a}),yh=(t,a,p)=>{switch(t.tag){case"field":return a(t.key,t.newKey,t.presence,t.prop);case"custom":return p(t.newKey,t.instantiator)}},di=(t,a)=>a,ym=(t,a)=>m(t)&&m(a)?hs(t,a):a,Og=t=>(...a)=>{if(a.length===0)throw new Error("Can't merge zero objects");const p={};for(let E=0;E<a.length;E++){const z=a[E];for(const Y in z)pn(z,Y)&&(p[Y]=t(p[Y],z[Y]))}return p},hs=Og(ym),Ad=Og(di),Ua=()=>({tag:"required",process:{}}),Xu=t=>({tag:"defaultedThunk",process:t}),G0=t=>Xu(O(t)),Pg=()=>({tag:"option",process:{}}),aa=t=>({tag:"mergeWithThunk",process:t}),bh=t=>aa(O(t)),Fp=(t,a)=>t.length>0?fi.svalue(hs(a,Ad.apply(void 0,t))):fi.svalue(a),Ig=t=>$(fi.serror,Fe)(t),Z0={consolidateObj:(t,a)=>{const p=fi.partition(t);return p.errors.length>0?Ig(p.errors):Fp(p.values,a)},consolidateArr:t=>{const a=fi.partition(t);return a.errors.length>0?Ig(a.errors):fi.svalue(a.values)}},xh=t=>s(t)&&ot(t).length>100?" removed due to size":JSON.stringify(t,null,2),Bp=t=>{const a=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:O("... (only showing first ten failures)")}]):t;return ne(a,p=>"Failed path: ("+p.path.join(" > ")+`)
`+p.getErrorInfo())},wh=(t,a)=>fi.serror([{path:t,getErrorInfo:a}]),bm=(t,a,p)=>wh(t,()=>'Could not find valid *required* value for "'+a+'" in '+xh(p)),tb=(t,a)=>wh(t,()=>'Choice schema did not contain choice key: "'+a+'"'),pu=(t,a,p)=>wh(t,()=>'The chosen schema: "'+p+'" did not exist in branches: '+xh(a)),nb=(t,a)=>wh(t,()=>"There are unsupported fields: ["+a.join(", ")+"] specified"),Ch=(t,a)=>wh(t,O(a)),Jc=t=>{const a=(E,z)=>fi.bindError(t(z),Y=>Ch(E,Y)),p=O("val");return{extract:a,toString:p}},Hp=Jc(fi.svalue),j0=(t,a,p,E)=>Ft(a,p).fold(()=>bm(t,p,a),E),xm=(t,a,p,E)=>{const z=Ft(t,a).getOrThunk(()=>p(t));return E(z)},Y0=(t,a,p)=>p(Ft(t,a)),K0=(t,a,p,E)=>{const z=Ft(t,a).map(Y=>Y===!0?p(t):Y);return E(z)},X0=(t,a,p,E,z)=>{const Y=xe=>z.extract(a.concat([E]),xe),re=xe=>xe.fold(()=>fi.svalue(P.none()),Ee=>{const Be=z.extract(a.concat([E]),Ee);return fi.map(Be,P.some)});switch(t.tag){case"required":return j0(a,p,E,Y);case"defaultedThunk":return xm(p,E,t.process,Y);case"option":return Y0(p,E,re);case"defaultedOptionThunk":return K0(p,E,t.process,re);case"mergeWithThunk":return xm(p,E,O({}),xe=>{const Ee=hs(t.process(p),xe);return Y(Ee)})}},zp=(t,a,p)=>{const E={},z=[];for(const Y of p)yh(Y,(re,xe,Ee,Be)=>{const je=X0(Ee,t,a,re,Be);fi.fold(je,et=>{z.push(...et)},et=>{E[xe]=et})},(re,xe)=>{E[re]=xe(a)});return z.length>0?fi.serror(z):fi.svalue(E)},Vi=t=>({extract:(E,z)=>t().extract(E,z),toString:()=>t().toString()}),Ng=t=>ot(Ct(t,d)),es=t=>{const a=io(t),p=$e(t,(z,Y)=>yh(Y,re=>hs(z,{[re]:!0}),O(z)),{});return{extract:(z,Y)=>{const re=c(Y)?[]:Ng(Y),xe=Ce(re,Ee=>!_n(p,Ee));return xe.length===0?a.extract(z,Y):nb(z,xe)},toString:a.toString}},io=t=>({extract:(E,z)=>zp(E,z,t),toString:()=>`obj{
`+ne(t,z=>yh(z,(Y,re,xe,Ee)=>Y+" -> "+Ee.toString(),(Y,re)=>"state("+Y+")")).join(`
`)+"}"}),vu=t=>({extract:(E,z)=>{const Y=ne(z,(re,xe)=>t.extract(E.concat(["["+xe+"]"]),re));return Z0.consolidateArr(Y)},toString:()=>"array("+t.toString()+")"}),Gr=(t,a)=>{const p=a!==void 0?a:D;return{extract:(Y,re)=>{const xe=[];for(const Ee of t){const Be=Ee.extract(Y,re);if(Be.stype===vc.Value)return{stype:vc.Value,svalue:p(Be.svalue)};xe.push(Be)}return Z0.consolidateArr(xe)},toString:()=>"oneOf("+ne(t,Y=>Y.toString()).join(", ")+")"}},xl=(t,a)=>{const p=(Y,re)=>vu(Jc(t)).extract(Y,re);return{extract:(Y,re)=>{const xe=ot(re),Ee=p(Y,xe);return fi.bind(Ee,Be=>{const je=ne(Be,et=>Ri(et,et,Ua(),a));return io(je).extract(Y,re)})},toString:()=>"setOf("+a.toString()+")"}},H2=(t,a)=>{const p=Ps(a);return{extract:(Y,re)=>p().extract(Y,re),toString:()=>p().toString()}},Wf=$(vu,io),oi=O(Hp),Gf=(t,a)=>Jc(p=>{const E=typeof p;return t(p)?fi.svalue(p):fi.serror(`Expected type: ${a} but got: ${E}`)}),Fg=Gf(v,"number"),Ui=Gf(A,"string"),Ju=Gf(c,"boolean"),Sh=Gf(g,"function"),yu=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(a=>yu(t[a]));default:return!1}},J0=Jc(t=>yu(t)?fi.svalue(t):fi.serror("Expected value to be acceptable for sending via postMessage")),Vp=(t,a,p,E)=>Ft(p,E).fold(()=>pu(t,p,E),Y=>Y.extract(t.concat(["branch: "+E]),a)),ir=(t,a)=>({extract:(z,Y)=>Ft(Y,t).fold(()=>tb(z,t),xe=>Vp(z,Y,a,xe)),toString:()=>"chooseOn("+t+"). Possible values: "+ot(a)}),rb=()=>vu(Hp),cl=t=>Jc(a=>t(a).fold(fi.serror,fi.svalue)),gf=(t,a)=>xl(p=>fi.fromResult(t(p)),a),wm=(t,a,p)=>{const E=a.extract([t],p);return fi.mapError(E,z=>({input:p,errors:z}))},ns=(t,a,p)=>fi.toResult(wm(t,a,p)),Ja=t=>t.fold(a=>{throw new Error(wl(a))},D),ul=(t,a,p)=>Ja(ns(t,a,p)),wl=t=>`Errors: 
`+Bp(t.errors).join(`
`)+`

Input object: `+xh(t.input),fa=(t,a)=>ir(t,Xe(a,io)),Bg=(t,a)=>H2(t,a),Wi=Ri,zs=gu,Hg=t=>cl(a=>he(t,a)?Wo.value(a):Wo.error(`Unsupported value: "${a}", choose one of "${t.join(", ")}".`)),qn=t=>Wi(t,t,Ua(),oi()),yc=(t,a)=>Wi(t,t,Ua(),a),Cm=t=>yc(t,Fg),Da=t=>yc(t,Ui),Qu=(t,a)=>Wi(t,t,Ua(),Hg(a)),z2=t=>yc(t,Ju),bu=t=>yc(t,Sh),Up=(t,a)=>Wi(t,t,Pg(),Jc(p=>fi.serror("The field: "+t+" is forbidden. "+a))),Dc=(t,a)=>Wi(t,t,Ua(),io(a)),Wp=(t,a)=>Wi(t,t,Ua(),Wf(a)),Ol=(t,a)=>Wi(t,t,Ua(),vu(a)),Ia=t=>Wi(t,t,Pg(),oi()),$c=(t,a)=>Wi(t,t,Pg(),a),Qs=t=>$c(t,Fg),Gi=t=>$c(t,Ui),Zf=(t,a)=>$c(t,Hg(a)),pf=t=>$c(t,Sh),jf=(t,a)=>$c(t,vu(a)),Ql=(t,a)=>$c(t,io(a)),vf=(t,a)=>$c(t,es(a)),En=(t,a)=>Wi(t,t,G0(a),oi()),ql=(t,a,p)=>Wi(t,t,G0(a),p),yf=(t,a)=>ql(t,a,Fg),bf=(t,a)=>ql(t,a,Ui),bc=(t,a,p)=>ql(t,a,Hg(p)),Li=(t,a)=>ql(t,a,Ju),bi=(t,a)=>ql(t,a,Sh),L3=(t,a)=>ql(t,a,J0),ec=(t,a,p)=>ql(t,a,vu(p)),U=(t,a,p)=>ql(t,a,io(p)),q=t=>{let a=t;return{get:()=>a,set:z=>{a=z}}},Ae={generate:t=>{if(!h(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const a=[],p={};return fe(t,(E,z)=>{const Y=ot(E);if(Y.length!==1)throw new Error("one and only one name per case");const re=Y[0],xe=E[re];if(p[re]!==void 0)throw new Error("duplicate key detected:"+re);if(re==="cata")throw new Error("cannot have a case named cata (sorry)");if(!h(xe))throw new Error("case arguments must be an array");a.push(re),p[re]=(...Ee)=>{const Be=Ee.length;if(Be!==xe.length)throw new Error("Wrong number of arguments to case "+re+". Expected "+xe.length+" ("+xe+"), got "+Be);return{fold:(...et)=>{if(et.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+et.length);return et[z].apply(null,Ee)},match:et=>{const st=ot(et);if(a.length!==st.length)throw new Error("Wrong number of arguments to match. Expected: "+a.join(",")+`
Actual: `+st.join(","));if(!we(a,Mt=>he(st,Mt)))throw new Error("Not all branches were specified when using match. Specified: "+st.join(", ")+`
Required: `+a.join(", "));return et[re].apply(null,Ee)},log:et=>{console.log(et,{constructors:a,constructor:re,params:Ee})}}}}),p}};Ae.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const _e=t=>{const a=[],p=[];return fe(t,E=>{E.fold(z=>{a.push(z)},z=>{p.push(z)})}),{errors:a,values:p}},Ie=(t,a)=>{const p={};return Ge(t,(E,z)=>{he(a,z)||(p[z]=E)}),p},Qe=(t,a)=>({[t]:a}),Ye=t=>{const a={};return fe(t,p=>{a[p.key]=p.value}),a},rt=(t,a)=>Ie(t,a),yt=(t,a)=>Qe(t,a),bt=t=>Ye(t),Vt=(t,a)=>t.length===0?Wo.value(a):Wo.value(hs(a,Ad.apply(void 0,t))),Wt=t=>Wo.error(Fe(t)),mn=(t,a)=>{const p=_e(t);return p.errors.length>0?Wt(p.errors):Vt(p.values,a)},An=t=>g(t)?t:H,Kt=(t,a,p)=>{let E=t.dom;const z=An(p);for(;E.parentNode;){E=E.parentNode;const Y=zt.fromDom(E),re=a(Y);if(re.isSome())return re;if(z(Y))break}return P.none()},en=(t,a,p)=>{const E=a(t),z=An(p);return E.orThunk(()=>z(t)?P.none():Kt(t,a,z))},dn=(t,a)=>Qt(t.element,a.event.target),Rn={can:j,abort:H,run:C},Mn=t=>{if(!_n(t,"can")&&!_n(t,"abort")&&!_n(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...Rn,...t}},vn=(t,a)=>(...p)=>ke(t,(E,z)=>E&&a(z).apply(void 0,p),!0),lr=(t,a)=>(...p)=>ke(t,(E,z)=>E||a(z).apply(void 0,p),!1),zr=t=>g(t)?{can:j,abort:H,run:t}:t,Jr=t=>{const a=vn(t,z=>z.can),p=lr(t,z=>z.abort);return{can:a,abort:p,run:(...z)=>{fe(t,Y=>{Y.run.apply(void 0,z)})}}},kr=O,eo=kr("touchstart"),lo=kr("touchmove"),Ko=kr("touchend"),yo=kr("touchcancel"),fo=kr("mousedown"),Ha=kr("mousemove"),Vs=kr("mouseout"),is=kr("mouseup"),$r=kr("mouseover"),_o=kr("focusin"),sa=kr("focusout"),Ca=kr("keydown"),As=kr("keyup"),qs=kr("input"),Di=kr("change"),xi=kr("click"),xc=kr("transitioncancel"),Ii=kr("transitionend"),tc=kr("transitionstart"),Cl=kr("selectstart"),Ga=t=>O("alloy."+t),xu={tap:Ga("tap")},qu=Ga("focus"),Sl=Ga("blur.post"),wi=Ga("paste.post"),Tl=Ga("receive"),Ci=Ga("execute"),Za=Ga("focus.item"),nc=xu.tap,Yf=Ga("longpress"),wu=Ga("sandbox.close"),Th=Ga("typeahead.cancel"),Kf=Ga("system.init"),Q0=Ga("system.touchmove"),ob=Ga("system.touchend"),Md=Ga("system.scroll"),Xf=Ga("system.resize"),Cu=Ga("system.attached"),Sm=Ga("system.detached"),Tm=Ga("system.dismissRequested"),D3=Ga("system.repositionRequested"),ab=Ga("focusmanager.shifted"),q0=Ga("slotcontainer.visibility"),sb=Ga("system.external.element.scroll"),$3=Ga("change.tab"),ib=Ga("dismiss.tab"),e1=Ga("highlight"),t1=Ga("dehighlight"),pa=(t,a)=>{n1(t,t.element,a,{})},go=(t,a,p)=>{n1(t,t.element,a,p)},kh=t=>{pa(t,Ci())},lb=(t,a,p)=>{n1(t,a,p,{})},n1=(t,a,p,E)=>{const z={target:a,...E};t.getSystem().triggerEvent(p,a,z)},BE=(t,a,p,E)=>{const z={...E,target:a};t.getSystem().triggerEvent(p,a,z)},V2=(t,a,p,E)=>{t.getSystem().triggerEvent(p,a,E.event)},bs=t=>bt(t),U2=(t,a)=>({key:t,value:Mn({abort:a})}),W2=(t,a)=>({key:t,value:Mn({can:a})}),G2=t=>({key:t,value:Mn({run:(a,p)=>{p.event.prevent()}})}),Xn=(t,a)=>({key:t,value:Mn({run:a})}),cb=(t,a,p)=>({key:t,value:Mn({run:(E,z)=>{a.apply(void 0,[E,z].concat(p))}})}),HE=t=>a=>Xn(t,a),r1=t=>a=>({key:t,value:Mn({run:(p,E)=>{dn(p,E)&&a(p,E)}})}),zE=(t,a)=>Xn(t,(p,E)=>{p.getSystem().getByUid(a).each(z=>{V2(z,z.element,t,E)})}),Gp=(t,a,p)=>{const E=a.partUids[p];return zE(t,E)},Z2=(t,a)=>Xn(t,(p,E)=>{const z=E.event,Y=p.getSystem().getByDom(z.target).getOrThunk(()=>en(z.target,xe=>p.getSystem().getByDom(xe).toOptional(),H).getOr(p));a(p,Y,E)}),Ah=t=>Xn(t,(a,p)=>{p.cut()}),VE=t=>Xn(t,(a,p)=>{p.stop()}),Ed=(t,a)=>r1(t)(a),ms=r1(Cu()),_d=r1(Sm()),j2=r1(Kf()),xf=HE(Ci()),Mh=(t,a)=>{const E=(a||document).createElement("div");return E.innerHTML=t,Kr(zt.fromDom(E))},Y2=t=>t.dom.innerHTML,zg=(t,a)=>{const E=Sn(t).dom,z=zt.fromDom(E.createDocumentFragment()),Y=Mh(a,E);Sd(z,Y),pm(t),pc(t,z)},O3=t=>{const a=zt.fromTag("div"),p=zt.fromDom(t.dom.cloneNode(!0));return pc(a,p),Y2(a)},ub=(t,a)=>zt.fromDom(t.dom.cloneNode(a)),K2=t=>ub(t,!1),UE=t=>ub(t,!0),X2=t=>{if(Zo(t))return"#shadow-root";{const a=K2(t);return O3(a)}},Rd=t=>X2(t),t$=(t,a,p)=>Qt(a,t.element)&&!Qt(a,p),J2=bs([W2(qu(),(t,a)=>{const p=a.event,E=p.originator,z=p.target;return t$(t,E,z)?(console.warn(qu()+` did not get interpreted by the desired target. 
Originator: `+Rd(E)+`
Target: `+Rd(z)+`
Check the `+qu()+" event handlers"),!1):!0})]);var km=Object.freeze({__proto__:null,events:J2});let kl=0;const Xr=t=>{const p=new Date().getTime(),E=Math.floor(Math.random()*1e9);return kl++,t+"_"+E+kl+String(p)},WE=O("alloy-id-"),Q2=O("data-alloy-id"),GE=WE(),P3=Q2(),Vg=(t,a)=>{const p=Xr(GE+t);return Zp(a,p),p},Zp=(t,a)=>{Object.defineProperty(t.dom,P3,{value:a,writable:!0})},o1=t=>{const a=St(t)?t.dom[P3]:null;return P.from(a)},jp=t=>Xr(t),fb=D,Eh=t=>{const a=z=>`The component must be in a context to execute: ${z}`+(t?`
`+Rd(t().element)+" is not in context.":""),p=z=>()=>{throw new Error(a(z))},E=z=>()=>{console.warn(a(z))};return{debugInfo:O("fake"),triggerEvent:E("triggerEvent"),triggerFocus:E("triggerFocus"),triggerEscape:E("triggerEscape"),broadcast:E("broadcast"),broadcastOn:E("broadcastOn"),broadcastEvent:E("broadcastEvent"),build:p("build"),buildOrPatch:p("buildOrPatch"),addToWorld:p("addToWorld"),removeFromWorld:p("removeFromWorld"),addToGui:p("addToGui"),removeFromGui:p("removeFromGui"),getByUid:p("getByUid"),getByDom:p("getByDom"),isConnected:H}},Jf=Eh(),a1=(t,a,p)=>{const E=p.toString(),z=E.indexOf(")")+1,Y=E.indexOf("("),re=E.substring(Y+1,z-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:a,parameters:ef(re.slice(0,1).concat(re.slice(3)))}),t},ef=t=>ne(t,a=>pt(a,"/*")?a.substring(0,a.length-2):a),db=(t,a)=>{const p=t.toString(),E=p.indexOf(")")+1,z=p.indexOf("("),Y=p.substring(z+1,E-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:a,parameters:ef(Y)}),t},I3=(t,a)=>{const p=a.toString(),E=p.indexOf(")")+1,z=p.indexOf("("),Y=p.substring(z+1,E-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:ef(Y.slice(1))}),t},Yp=Xr("alloy-premade"),_h=t=>(Object.defineProperty(t.element.dom,Yp,{value:t.uid,writable:!0}),yt(Yp,t)),ZE=t=>pn(t.dom,Yp),Kp=t=>Ft(t,Yp),Ug=t=>I3((a,...p)=>t(a.getApis(),a,...p),t),wf={init:()=>Qc({readState:O("No State required")})},Qc=t=>t,jE=(t,a)=>{const p=ne(a,z=>Ql(z.name(),[qn("config"),En("state",wf)])),E=ns("component.behaviours",io(p),t.behaviours).fold(z=>{throw new Error(wl(z)+`
Complete spec:
`+JSON.stringify(t,null,2))},D);return{list:a,data:Xe(E,z=>{const Y=z.map(re=>({config:re.config,state:re.state.init(re.config)}));return O(Y)})}},N3=t=>t.list,F3=t=>t.data,q2=(t,a)=>{const p={};return Ge(t,(E,z)=>{Ge(E,(Y,re)=>{const xe=Ft(p,re).getOr([]);p[re]=xe.concat([a(z,Y)])})}),p},qc=t=>({classes:i(t.classes)?[]:t.classes,attributes:i(t.attributes)?{}:t.attributes,styles:i(t.styles)?{}:t.styles}),Xp=(t,a)=>({...t,attributes:{...t.attributes,...a.attributes},styles:{...t.styles,...a.styles},classes:t.classes.concat(a.classes)}),hb=(t,a,p,E)=>{const z={...a};fe(p,je=>{z[je.name()]=je.exhibit(t,E)});const Y=q2(z,(je,et)=>({name:je,modification:et})),re=je=>$e(je,(et,st)=>({...st.modification,...et}),{}),xe=$e(Y.classes,(je,et)=>et.modification.concat(je),[]),Ee=re(Y.attributes),Be=re(Y.styles);return qc({classes:xe,attributes:Ee,styles:Be})},mb=(t,a,p,E)=>{try{const z=Te(p,(Y,re)=>{const xe=Y[a],Ee=re[a],Be=E.indexOf(xe),je=E.indexOf(Ee);if(Be===-1)throw new Error("The ordering for "+t+" does not have an entry for "+xe+`.
Order specified: `+JSON.stringify(E,null,2));if(je===-1)throw new Error("The ordering for "+t+" does not have an entry for "+Ee+`.
Order specified: `+JSON.stringify(E,null,2));return Be<je?-1:je<Be?1:0});return Wo.value(z)}catch(z){return Wo.error([z])}},YE=(t,a)=>({handler:t,purpose:a}),B3=(t,a)=>({cHandler:t,purpose:a}),ew=(t,a)=>B3(M.apply(void 0,[t.handler].concat(a)),t.purpose),Jp=t=>t.cHandler,Qp=(t,a)=>({name:t,handler:a}),gb=(t,a)=>{const p={};return fe(t,E=>{p[E.name()]=E.handlers(a)}),p},KE=(t,a,p)=>{const E={...p,...gb(a,t)};return q2(E,Qp)},pb=(t,a,p,E)=>{const z=KE(t,p,E);return tw(z,a)},qp=t=>{const a=zr(t);return(p,E,...z)=>{const Y=[p,E].concat(z);a.abort.apply(void 0,Y)?E.stop():a.can.apply(void 0,Y)&&a.run.apply(void 0,Y)}},XE=(t,a)=>Wo.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(ne(a,p=>p.name),null,2)]),s1=(t,a,p)=>{const E=a[p];return E?mb("Event: "+p,"name",t,E).map(z=>{const Y=ne(z,re=>re.handler);return Jr(Y)}):XE(p,t)},tw=(t,a)=>{const p=Gt(t,(E,z)=>(E.length===1?Wo.value(E[0].handler):s1(E,a,z)).map(re=>{const xe=qp(re),Ee=E.length>1?Ce(a[z],Be=>ge(E,je=>je.name===Be)).join(" > "):E[0].name;return yt(z,YE(xe,Ee))}));return mn(p,{})},eu="alloy.base.behaviour",vb=io([Wi("dom","dom",Ua(),io([qn("tag"),En("styles",{}),En("classes",[]),En("attributes",{}),Ia("value"),Ia("innerHtml")])),qn("components"),qn("uid"),En("events",{}),En("apis",{}),Wi("eventOrder","eventOrder",bh({[Ci()]:["disabling",eu,"toggling","typeaheadevents"],[qu()]:[eu,"focusing","keying"],[Kf()]:[eu,"disabling","toggling","representing"],[qs()]:[eu,"representing","streaming","invalidating"],[Sm()]:[eu,"representing","item-events","tooltipping"],[fo()]:["focusing",eu,"item-type-events"],[eo()]:["focusing",eu,"item-type-events"],[$r()]:["item-type-events","tooltipping"],[Tl()]:["receiving","reflecting","tooltipping"]}),oi()),Ia("domModification")]),H3=t=>ns("custom.definition",vb,t),yb=t=>({...t.dom,uid:t.uid,domChildren:ne(t.components,a=>a.element)}),n$=t=>t.domModification.fold(()=>qc({}),qc),bb=t=>t.events,Am=(t,a)=>{const p=Ka(t,a);return p===void 0||p===""?[]:p.split(" ")},Ld=(t,a,p)=>{const z=Am(t,a).concat([p]);return Lr(t,a,z.join(" ")),!0},nw=(t,a,p)=>{const E=Ce(Am(t,a),z=>z!==p);return E.length>0?Lr(t,a,E.join(" ")):Xa(t,a),!1},ev=t=>t.dom.classList!==void 0,xb=t=>Am(t,"class"),z3=(t,a)=>Ld(t,"class",a),Cs=(t,a)=>nw(t,"class",a),JE=(t,a)=>he(xb(t),a)?Cs(t,a):z3(t,a),hi=(t,a)=>{ev(t)?t.dom.classList.add(a):z3(t,a)},V3=t=>{(ev(t)?t.dom.classList:xb(t)).length===0&&Xa(t,"class")},Is=(t,a)=>{ev(t)?t.dom.classList.remove(a):Cs(t,a),V3(t)},tv=(t,a)=>{const p=ev(t)?t.dom.classList.toggle(a):JE(t,a);return V3(t),p},Ni=(t,a)=>ev(t)&&t.dom.classList.contains(a),Us=(t,a)=>{fe(a,p=>{hi(t,p)})},Su=(t,a)=>{fe(a,p=>{Is(t,p)})},rw=(t,a)=>{fe(a,p=>{tv(t,p)})},Al=(t,a)=>we(a,p=>Ni(t,p)),i1=t=>{const a=t.dom.classList,p=new Array(a.length);for(let E=0;E<a.length;E++){const z=a.item(E);z!==null&&(p[E]=z)}return p},nv=t=>ev(t)?i1(t):xb(t),Dd=t=>t.dom.value,rv=(t,a)=>{if(a===void 0)throw new Error("Value.set was undefined");t.dom.value=a},Mm=(t,a,p)=>qr(t,a).map(z=>{if(p.exists(re=>!Qt(re,z))){const re=p.map(vo).getOr("span"),xe=zt.fromTag(re);return hu(z,xe),xe}else return z}),Rh=(t,a,p)=>{p.fold(()=>pc(t,a),E=>{Qt(E,a)||(hu(E,a),Xl(E))})},QE=(t,a,p)=>{const E=ne(a,p),z=Kr(t);return fe(z.slice(E.length),Xl),E},U3=(t,a,p,E)=>{const z=qr(t,a),Y=E(p,z),re=Mm(t,a,z);return Rh(t,Y.element,re),Y},r$=(t,a,p)=>QE(t,a,(E,z)=>U3(t,z,E,p)),o$=(t,a)=>QE(t,a,(p,E)=>{const z=qr(t,E);return Rh(t,p,z),p}),Cf=(t,a)=>{const p=ot(t),E=ot(a),z=ue(E,p),Y=tt(t,(re,xe)=>!pn(a,xe)||re!==a[xe]).t;return{toRemove:z,toSet:Y}},rc=(t,a)=>{const{class:p,style:E,...z}=Zc(a),{toSet:Y,toRemove:re}=Cf(t.attributes,z),xe=()=>{fe(re,kn=>Xa(a,kn)),jl(a,Y)},Ee=Es(a),{toSet:Be,toRemove:je}=Cf(t.styles,Ee),et=()=>{fe(je,kn=>Bo(a,kn)),Mi(a,Be)},st=nv(a),mt=ue(st,t.classes),Mt=ue(t.classes,st),Xt=()=>{Us(a,Mt),Su(a,mt)},Dn=kn=>{zg(a,kn)},hn=()=>{const kn=t.domChildren;o$(a,kn)},rn=()=>{const kn=a,Vn=t.value.getOrUndefined();Vn!==Dd(kn)&&rv(kn,Vn??"")};return xe(),Xt(),et(),t.innerHtml.fold(hn,Dn),rn(),a},qE=t=>{const a=zt.fromTag(t.tag);jl(a,t.attributes),Us(a,t.classes),Mi(a,t.styles),t.innerHtml.each(E=>zg(a,E));const p=t.domChildren;return Sd(a,p),t.value.each(E=>{rv(a,E)}),a},e4=(t,a)=>{try{const p=rc(t,a);return P.some(p)}catch{return P.none()}},Em=t=>t.innerHtml.isSome()&&t.domChildren.length>0,l1=(t,a)=>{const p=z=>vo(z)===t.tag&&!Em(t)&&!ZE(z),E=a.filter(p).bind(z=>e4(t,z)).getOrThunk(()=>qE(t));return Zp(E,t.uid),E},wb=t=>{const a=Ft(t,"behaviours").getOr({});return ie(ot(a),p=>{const E=a[p];return d(E)?[E.me]:[]})},Cb=(t,a)=>jE(t,a),$d=t=>{const a=wb(t);return Cb(t,a)},ov=(t,a,p)=>{const E=yb(t),z=n$(t),Y={"alloy.base.modification":z},re=a.length>0?hb(p,Y,a,E):z;return Xp(E,re)},av=(t,a,p)=>{const E={"alloy.base.behaviour":bb(t)};return pb(p,t.eventOrder,a,E).getOrDie()},sv=(t,a)=>{const p=()=>kn,E=q(Jf),z=Ja(H3(t)),Y=$d(t),re=N3(Y),xe=F3(Y),Ee=ov(z,re,xe),Be=l1(Ee,a),je=av(z,re,xe),et=q(z.components),st=Vn=>{E.set(Vn)},mt=()=>{E.set(Eh(p))},Mt=()=>{const Vn=Kr(Be),hr=ie(Vn,Yn=>E.get().getByDom(Yn).fold(()=>[],le));et.set(hr)},Xt=Vn=>{const hr=xe;return(g(hr[Vn.name()])?hr[Vn.name()]:()=>{throw new Error("Could not find "+Vn.name()+" in "+JSON.stringify(t,null,2))})()},Dn=Vn=>g(xe[Vn.name()]),hn=()=>z.apis,rn=Vn=>xe[Vn]().map(hr=>hr.state.readState()).getOr("not enabled"),kn={uid:t.uid,getSystem:E.get,config:Xt,hasConfigured:Dn,spec:t,readState:rn,getApis:hn,connect:st,disconnect:mt,element:Be,syncComponents:Mt,components:et.get,events:je};return kn},Wg=(t,a)=>{const p=Ft(t,"components").getOr([]);return a.fold(()=>ne(p,Pl),E=>ne(p,(z,Y)=>Sb(z,qr(E,Y))))},W3=(t,a)=>{const{events:p,...E}=fb(t),z=Wg(E,a),Y={...E,events:{...km,...p},components:z};return Wo.value(sv(Y,a))},ai=t=>{const a=zt.fromText(t);return G3({element:a})},G3=t=>{const a=ul("external.component",es([qn("element"),Ia("uid")]),t),p=q(Eh()),E=xe=>{p.set(xe)},z=()=>{p.set(Eh(()=>re))},Y=a.uid.getOrThunk(()=>jp("external"));Zp(a.element,Y);const re={uid:Y,getSystem:p.get,config:P.none,hasConfigured:H,connect:E,disconnect:z,getApis:()=>({}),element:a.element,spec:t,readState:O("No state"),syncComponents:C,components:O([]),events:{}};return _h(re)},iv=jp,Z3=t=>pn(t,"uid"),Sb=(t,a)=>Kp(t).getOrThunk(()=>{const p=Z3(t)?t:{uid:iv(""),...t};return W3(p,a).getOrDie()}),Pl=t=>Sb(t,P.none()),Tu=_h;var j3=(t,a,p,E,z)=>t(p,E)?P.some(p):g(z)&&z(p)?P.none():a(p,E,z);const Tb=(t,a,p)=>{let E=t.dom;const z=g(p)?p:H;for(;E.parentNode;){E=E.parentNode;const Y=zt.fromDom(E);if(a(Y))return P.some(Y);if(z(Y))break}return P.none()},Gg=(t,a,p)=>j3((z,Y)=>Y(z),Tb,t,a,p),t4=(t,a)=>{const p=z=>a(zt.fromDom(z));return Ve(t.dom.childNodes,p).map(zt.fromDom)},Y3=(t,a)=>{const p=E=>{for(let z=0;z<E.childNodes.length;z++){const Y=zt.fromDom(E.childNodes[z]);if(a(Y))return P.some(Y);const re=p(E.childNodes[z]);if(re.isSome())return re}return P.none()};return p(t.dom)},ow=(t,a,p)=>Gg(t,a,p).isSome(),tu=(t,a,p)=>Tb(t,E=>Ot(E,a),p),kb=(t,a)=>t4(t,p=>Ot(p,a)),mi=(t,a)=>cn(a,t),Qf=(t,a,p)=>j3((z,Y)=>Ot(z,Y),tu,t,a,p),lv="aria-controls",_m=t=>Gg(t,p=>{if(!St(p))return!1;const E=Ka(p,"id");return E!==void 0&&E.indexOf(lv)>-1}).bind(p=>{const E=Ka(p,"id"),z=Yo(p);return mi(z,`[${lv}="${E}"]`)}),Zg=()=>{const t=Xr(lv);return{id:t,link:E=>{Lr(E,lv,t)},unlink:E=>{Xa(E,lv)}}},jg=(t,a)=>_m(a).exists(p=>Lh(t,p)),Lh=(t,a)=>ow(a,p=>Qt(p,t.element),H)||jg(t,a),K3="unknown";var Yg;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(Yg||(Yg={}));const Rm=q({}),Kg=(t,a)=>{const p=[],E=new Date().getTime();return{logEventCut:(z,Y,re)=>{p.push({outcome:"cut",target:Y,purpose:re})},logEventStopped:(z,Y,re)=>{p.push({outcome:"stopped",target:Y,purpose:re})},logNoParent:(z,Y,re)=>{p.push({outcome:"no-parent",target:Y,purpose:re})},logEventNoHandlers:(z,Y)=>{p.push({outcome:"no-handlers-left",target:Y})},logEventResponse:(z,Y,re)=>{p.push({outcome:"response",purpose:re,target:Y})},write:()=>{const z=new Date().getTime();he(["mousemove","mouseover","mouseout",Kf()],t)||console.log(t,{event:t,time:z-E,target:a.dom,sequence:ne(p,Y=>he(["cut","stopped","response"],Y.outcome)?"{"+Y.purpose+"} "+Y.outcome+" at ("+Rd(Y.target)+")":Y.outcome)})}}},X3=(t,a,p)=>{switch(Ft(Rm.get(),t).orThunk(()=>{const z=ot(Rm.get());return We(z,Y=>t.indexOf(Y)>-1?P.some(Rm.get()[Y]):P.none())}).getOr(Yg.NORMAL)){case Yg.NORMAL:return p(sw());case Yg.LOGGING:{const z=Kg(t,a),Y=p(z);return z.write(),Y}case Yg.STOP:return!0}},n4=["alloy/data/Fields","alloy/debugging/Debugging"],aw=()=>{const t=new Error;if(t.stack!==void 0){const a=t.stack.split(`
`);return Ve(a,p=>p.indexOf("alloy")>0&&!ge(n4,E=>p.indexOf(E)>-1)).getOr(K3)}else return K3},r4={logEventCut:C,logEventStopped:C,logNoParent:C,logEventNoHandlers:C,logEventResponse:C,write:C},Ab=(t,a,p)=>X3(t,a,p),sw=O(r4),nu=O([qn("menu"),qn("selectedMenu")]),J3=O([qn("item"),qn("selectedItem")]);O(io(J3().concat(nu())));const cv=O(io(J3())),Q3=Dc("initSize",[qn("numColumns"),qn("numRows")]),o4=()=>yc("markers",cv()),c1=()=>Dc("markers",[qn("backgroundMenu")].concat(nu()).concat(J3())),Lm=t=>Dc("markers",ne(t,qn)),Mb=(t,a,p)=>(aw(),Wi(a,a,p,cl(E=>Wo.value((...z)=>E.apply(void 0,z))))),Sa=t=>Mb("onHandler",t,G0(C)),ru=t=>Mb("onKeyboardHandler",t,G0(P.none)),qf=t=>Mb("onHandler",t,Ua()),iw=t=>Mb("onKeyboardHandler",t,Ua()),rs=(t,a)=>zs(t,O(a)),u1=t=>zs(t,D),lw=O(Q3),Zi=(t,a,p,E,z,Y,re,xe=!1)=>({x:t,y:a,bubble:p,direction:E,placement:z,restriction:Y,label:`${re}-${z}`,alwaysFit:xe}),Od=Ae.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Dm=(t,a,p,E,z,Y,re,xe,Ee)=>t.fold(a,p,E,z,Y,re,xe,Ee),cw=(t,a,p,E)=>t.fold(a,a,E,E,a,E,p,p),Eb=(t,a,p,E)=>t.fold(a,E,a,E,p,p,a,E),f1=Od.southeast,uw=Od.southwest,_b=Od.northeast,Pd=Od.northwest,Dh=Od.south,a4=Od.north,In=Od.east,d1=Od.west,uv=(t,a,p,E)=>{const z=t+a;return z>E?p:z<p?E:z},ku=(t,a,p)=>Math.min(Math.max(t,a),p),fw=(t,a)=>{switch(a){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Ds=(t,a)=>pe(["left","right","top","bottom"],p=>Ft(a,p).map(E=>fw(t,E))),Rb=(t,a,p)=>{const E=(Ee,Be)=>a[Ee].map(je=>{const et=Ee==="top"||Ee==="bottom",st=et?p.top:p.left,Mt=(Ee==="left"||Ee==="top"?Math.max:Math.min)(je,Be)+st;return et?ku(Mt,t.y,t.bottom):ku(Mt,t.x,t.right)}).getOr(Be),z=E("left",t.x),Y=E("top",t.y),re=E("right",t.right),xe=E("bottom",t.bottom);return Hs(z,Y,re-z,xe-Y)},$h="layout",dw=t=>t.x,Lb=(t,a)=>t.x+t.width/2-a.width/2,hw=(t,a)=>t.x+t.width-a.width,h1=(t,a)=>t.y-a.height,fv=t=>t.y+t.height,mw=(t,a)=>t.y+t.height/2-a.height/2,s4=t=>t.x+t.width,wc=(t,a)=>t.x-a.width,ji=(t,a,p)=>Zi(dw(t),fv(t),p.southeast(),f1(),"southeast",Ds(t,{left:1,top:3}),$h),Ml=(t,a,p)=>Zi(hw(t,a),fv(t),p.southwest(),uw(),"southwest",Ds(t,{right:0,top:3}),$h),Cc=(t,a,p)=>Zi(dw(t),h1(t,a),p.northeast(),_b(),"northeast",Ds(t,{left:1,bottom:2}),$h),Il=(t,a,p)=>Zi(hw(t,a),h1(t,a),p.northwest(),Pd(),"northwest",Ds(t,{right:0,bottom:2}),$h),oc=(t,a,p)=>Zi(Lb(t,a),h1(t,a),p.north(),a4(),"north",Ds(t,{bottom:2}),$h),Yi=(t,a,p)=>Zi(Lb(t,a),fv(t),p.south(),Dh(),"south",Ds(t,{top:3}),$h),gw=(t,a,p)=>Zi(s4(t),mw(t,a),p.east(),In(),"east",Ds(t,{left:0}),$h),m1=(t,a,p)=>Zi(wc(t,a),mw(t,a),p.west(),d1(),"west",Ds(t,{right:1}),$h),pw=()=>[ji,Ml,Cc,Il,Yi,oc,gw,m1],g1=()=>[Ml,ji,Il,Cc,Yi,oc,gw,m1],vw=()=>[Cc,Il,ji,Ml,oc,Yi],q3=()=>[Il,Cc,Ml,ji,oc,Yi],Db=()=>[ji,Ml,Cc,Il,Yi,oc],yw=()=>[Ml,ji,Il,Cc,Yi,oc],i4=(t,a)=>a.universal?t:Ce(t,p=>he(a.channels,p));var eT=Object.freeze({__proto__:null,events:t=>bs([Xn(Tl(),(a,p)=>{const E=t.channels,z=ot(E),Y=p,re=i4(z,Y);fe(re,xe=>{const Ee=E[xe],Be=Ee.schema,je=ul("channel["+xe+`] data
Receiver: `+Rd(a.element),Be,Y.data);Ee.onReceive(a,je)})})])}),c4=[yc("channels",gf(Wo.value,es([qf("onReceive"),En("schema",oi())])))];const dv=(t,a,p)=>xf(E=>{p(E,t,a)}),$b=(t,a,p)=>j2((E,z)=>{p(E,t,a)}),tT=(t,a,p,E,z,Y)=>{const re=es(t),xe=Ql(a,[vf("config",t)]);return ed(re,xe,a,p,E,z,Y)},a$=(t,a,p,E,z,Y)=>{const re=t,xe=Ql(a,[$c("config",t)]);return ed(re,xe,a,p,E,z,Y)},Oc=(t,a,p)=>a1((z,...Y)=>{const re=[z].concat(Y);return z.config({name:O(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+p)},xe=>{const Ee=Array.prototype.slice.call(re,1);return a.apply(void 0,[z,xe.config,xe.state].concat(Ee))})},p,a),s$=t=>({key:t,value:void 0}),ed=(t,a,p,E,z,Y,re)=>{const xe=et=>_n(et,p)?et[p]():P.none(),Ee=Xe(z,(et,st)=>Oc(p,et,st)),je={...Xe(Y,(et,st)=>db(et,st)),...Ee,revoke:M(s$,p),config:et=>{const st=ul(p+"-config",t,et);return{key:p,value:{config:st,me:je,configAsRaw:Ps(()=>ul(p+"-config",t,et)),initialConfig:et,state:re}}},schema:O(a),exhibit:(et,st)=>jn(xe(et),Ft(E,"exhibit"),(mt,Mt)=>Mt(st,mt.config,mt.state)).getOrThunk(()=>qc({})),name:O(p),handlers:et=>xe(et).map(st=>Ft(E,"events").getOr(()=>({}))(st.config,st.state)).getOr({})};return je},gr=t=>bt(t),bw=es([qn("fields"),qn("name"),En("active",{}),En("apis",{}),En("state",wf),En("extra",{})]),Ki=t=>{const a=ul("Creating behaviour: "+t.name,bw,t);return tT(a.fields,a.name,a.active,a.apis,a.extra,a.state)},nT=es([qn("branchKey"),qn("branches"),qn("name"),En("active",{}),En("apis",{}),En("state",wf),En("extra",{})]),Ob=t=>{const a=ul("Creating behaviour: "+t.name,nT,t);return a$(fa(a.branchKey,a.branches),a.name,a.active,a.apis,a.extra,a.state)},xw=O(void 0),Pc=Ki({fields:c4,name:"receiving",active:eT});var rT=Object.freeze({__proto__:null,exhibit:(t,a)=>qc({classes:[],styles:a.useFixed()?{}:{position:"relative"}})});const Ic=(t,a=!1)=>t.dom.focus({preventScroll:a}),hv=t=>t.dom.blur(),p1=t=>{const a=Yo(t).dom;return t.dom===a.activeElement},Id=(t=Pp())=>P.from(t.dom.activeElement).map(zt.fromDom),Sf=t=>Id(Yo(t)).filter(a=>t.dom.contains(a.dom)),Ur=(t,a)=>{const p=Yo(a),E=Id(p).bind(Y=>{const re=xe=>Qt(Y,xe);return re(a)?P.some(a):Y3(a,re)}),z=t(a);return E.each(Y=>{Id(p).filter(re=>Qt(re,Y)).fold(()=>{Ic(Y)},C)}),z},Au=(t,a,p,E,z)=>{const Y=re=>re+"px";return{position:t,left:a.map(Y),top:p.map(Y),right:E.map(Y),bottom:z.map(Y)}},oT=t=>({...t,position:P.some(t.position)}),aT=(t,a)=>{ur(t,oT(a))},ww=Ae.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),sT=(t,a,p,E,z,Y)=>{const re=a.rect,xe=re.x-p,Ee=re.y-E,Be=re.width,je=re.height,et=z-(xe+Be),st=Y-(Ee+je),mt=P.some(xe),Mt=P.some(Ee),Xt=P.some(et),Dn=P.some(st),hn=P.none();return Dm(a.direction,()=>Au(t,mt,Mt,hn,hn),()=>Au(t,hn,Mt,Xt,hn),()=>Au(t,mt,hn,hn,Dn),()=>Au(t,hn,hn,Xt,Dn),()=>Au(t,mt,Mt,hn,hn),()=>Au(t,mt,hn,hn,Dn),()=>Au(t,mt,Mt,hn,hn),()=>Au(t,hn,Mt,Xt,hn))},Cw=(t,a)=>t.fold(()=>{const p=a.rect;return Au("absolute",P.some(p.x),P.some(p.y),P.none(),P.none())},(p,E,z,Y)=>sT("absolute",a,p,E,z,Y),(p,E,z,Y)=>sT("fixed",a,p,E,z,Y)),Sw=(t,a)=>{const p=M($g,a),E=t.fold(p,p,()=>{const re=ll();return $g(a).translate(-re.left,-re.top)}),z=Wu(a),Y=cu(a);return Hs(E.left,E.top,z,Y)},f4=(t,a)=>a.fold(()=>t.fold(bl,bl,Hs),p=>t.fold(O(p),O(p),()=>{const E=Tw(t,p.x,p.y);return Hs(E.left,E.top,p.width,p.height)})),Tw=(t,a,p)=>{const E=Ma(a,p),z=()=>{const Y=ll();return E.translate(-Y.left,-Y.top)};return t.fold(O(E),O(E),z)},d4=(t,a,p,E)=>t.fold(a,p,E);ww.none;const ac=ww.relative,v1=ww.fixed,h4=(t,a)=>({anchorBox:t,origin:a}),m4=(t,a)=>h4(t,a),kw="data-alloy-placement",g4=(t,a)=>{Lr(t,kw,a)},iT=t=>yi(t,kw),lT=t=>Xa(t,kw),y1=Ae.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),cT=(t,a)=>{const{x:p,y:E,right:z,bottom:Y}=a,{x:re,y:xe,right:Ee,bottom:Be,width:je,height:et}=t,st=re>=p&&re<=z,mt=xe>=E&&xe<=Y,Mt=st&&mt,Xt=Ee<=z&&Ee>=p,Dn=Be<=Y&&Be>=E,hn=Xt&&Dn,rn=Math.min(je,re>=p?z-re:Ee-p),kn=Math.min(et,xe>=E?Y-xe:Be-E);return{originInBounds:Mt,sizeInBounds:hn,visibleW:rn,visibleH:kn}},Aw=(t,a)=>{const{x:p,y:E,right:z,bottom:Y}=a,{x:re,y:xe,width:Ee,height:Be}=t,je=Math.max(p,z-Ee),et=Math.max(E,Y-Be),st=ku(re,p,je),mt=ku(xe,E,et),Mt=Math.min(st+Ee,z)-st,Xt=Math.min(mt+Be,Y)-mt;return Hs(st,mt,Mt,Xt)},Xg=(t,a,p)=>{const E=O(a.bottom-p.y),z=O(p.bottom-a.y),Y=cw(t,z,z,E),re=O(a.right-p.x),xe=O(p.right-a.x);return{maxWidth:Eb(t,xe,xe,re),maxHeight:Y}},p4=(t,a,p,E)=>{const z=t.bubble,Y=z.offset,re=Rb(E,t.restriction,Y),xe=t.x+Y.left,Ee=t.y+Y.top,Be=Hs(xe,Ee,a,p),{originInBounds:je,sizeInBounds:et,visibleW:st,visibleH:mt}=cT(Be,re),Mt=je&&et,Xt=Mt?Be:Aw(Be,re),Dn=Xt.width>0&&Xt.height>0,{maxWidth:hn,maxHeight:rn}=Xg(t.direction,Xt,E),kn={rect:Xt,maxHeight:rn,maxWidth:hn,direction:t.direction,placement:t.placement,classes:{on:z.classesOn,off:z.classesOff},layout:t.label,testY:Ee};return Mt||t.alwaysFit?y1.fit(kn):y1.nofit(kn,st,mt,Dn)},v4=(t,a,p,E,z,Y)=>{const re=E.width,xe=E.height,Ee=(je,et,st,mt,Mt)=>{const Xt=je(p,E,z,t,Y),Dn=p4(Xt,re,xe,Y);return Dn.fold(O(Dn),(hn,rn,kn,Vn)=>(Mt===Vn?kn>mt||rn>st:!Mt&&Vn)?Dn:y1.nofit(et,st,mt,Mt))};return ke(a,(je,et)=>{const st=M(Ee,et);return je.fold(O(je),st)},y1.nofit({rect:p,maxHeight:E.height,maxWidth:E.width,direction:f1(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:p.y},-1,-1,!1)).fold(D,D)},Mw=t=>{const a=q(P.none()),p=()=>a.get().each(t);return{clear:()=>{p(),a.set(P.none())},isSet:()=>a.get().isSome(),get:()=>a.get(),set:xe=>{p(),a.set(P.some(xe))}}},y4=()=>Mw(t=>t.destroy()),Oh=()=>Mw(t=>t.unbind()),ia=()=>{const t=Mw(C);return{...t,on:p=>t.get().each(p)}},Ew=j,sc=(t,a,p)=>gm(t,a,Ew,p),Pb=(t,a,p)=>N0(t,a,Ew,p),_w=I0,Rw=["top","bottom","right","left"],Ib="data-alloy-transition-timer",uT=(t,a)=>Al(t,a.classes),b4=(t,a,p)=>p.exists(E=>{const z=t.mode;return z==="all"?!0:E[z]!==a[z]}),x4=(t,a)=>{const p=E=>parseFloat(E).toFixed(3);return Yt(a,(E,z)=>{const Y=t[z].map(p),re=E.map(p);return!Zn(Y,re)}).isSome()},mv=t=>{const a=Y=>{const xe=Ms(t,Y).split(/\s*,\s*/);return Ce(xe,fn)},p=Y=>{if(A(Y)&&/^[\d.]+/.test(Y)){const re=parseFloat(Y);return pt(Y,"ms")?re:re*1e3}else return 0},E=a("transition-delay"),z=a("transition-duration");return ke(z,(Y,re,xe)=>{const Ee=p(E[xe])+p(re);return Math.max(Y,Ee)},0)},fT=(t,a)=>{const p=Oh(),E=Oh();let z;const Y=Be=>{var je;const et=(je=Be.raw.pseudoElement)!==null&&je!==void 0?je:"";return Qt(Be.target,t)&&tn(et)&&he(Rw,Be.raw.propertyName)},re=Be=>{if(u(Be)||Y(Be)){p.clear(),E.clear();const je=Be==null?void 0:Be.raw.type;(u(je)||je===Ii())&&(clearTimeout(z),Xa(t,Ib),Su(t,a.classes))}},xe=sc(t,tc(),Be=>{Y(Be)&&(xe.unbind(),p.set(sc(t,Ii(),re)),E.set(sc(t,xc(),re)))}),Ee=mv(t);requestAnimationFrame(()=>{z=setTimeout(re,Ee+17),Lr(t,Ib,z)})},i$=(t,a)=>{Us(t,a.classes),yi(t,Ib).each(p=>{clearTimeout(parseInt(p,10)),Xa(t,Ib)}),fT(t,a)},$m=(t,a,p,E,z,Y)=>{const re=b4(E,z,Y);if(re||uT(t,E)){To(t,"position",p.position);const xe=Sw(a,t),Ee=Cw(a,{...z,rect:xe}),Be=pe(Rw,je=>Ee[je]);x4(p,Be)&&(ur(t,Be),re&&i$(t,E),Ks(t))}else Su(t,E.classes)},w4=t=>({width:Wu(t),height:cu(t)}),gv=(t,a,p,E)=>{Bo(a,"max-height"),Bo(a,"max-width");const z=w4(a);return v4(a,E.preference,t,z,p,E.bounds)},C4=(t,a)=>{const p=a.classes;Su(t,p.off),Us(t,p.on)},Lw=(t,a,p)=>{const E=p.maxHeightFunction;E(t,a.maxHeight)},dT=(t,a,p)=>{const E=p.maxWidthFunction;E(t,a.maxWidth)},Jg=(t,a,p)=>{const E=Cw(p.origin,a);p.transition.each(z=>{$m(t,p.origin,E,z,a,p.lastPlacement)}),aT(t,E)},S4=(t,a)=>{g4(t,a.placement)},hT=(t,a)=>{uu(t,Math.floor(a))},mT=O((t,a)=>{hT(t,a),Mi(t,{"overflow-x":"hidden","overflow-y":"auto"})}),pv=O((t,a)=>{hT(t,a)}),gT=(t,a,p)=>t[a]===void 0?p:t[a],Dw=(t,a,p,E,z,Y,re,xe)=>{const Ee=gT(re,"maxHeightFunction",mT()),Be=gT(re,"maxWidthFunction",C),je=t.anchorBox,et=t.origin,st={bounds:f4(et,Y),origin:et,preference:E,maxHeightFunction:Ee,maxWidthFunction:Be,lastPlacement:z,transition:xe};return T4(je,a,p,st)},T4=(t,a,p,E)=>{const z=gv(t,a,p,E);return Jg(a,z,E),S4(a,z),C4(a,z),Lw(a,z,E),dT(a,z,E),{layout:z.layout,placement:z.placement}},pT=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Nd=(t,a,p,E=1)=>{const z=t*E,Y=a*E,re=Ee=>Ft(p,Ee).getOr([]),xe=(Ee,Be,je)=>{const et=ue(pT,je);return{offset:Ma(Ee,Be),classesOn:ie(je,re),classesOff:ie(et,re)}};return{southeast:()=>xe(-t,a,["top","alignLeft"]),southwest:()=>xe(t,a,["top","alignRight"]),south:()=>xe(-t/2,a,["top","alignCentre"]),northeast:()=>xe(-t,-a,["bottom","alignLeft"]),northwest:()=>xe(t,-a,["bottom","alignRight"]),north:()=>xe(-t/2,-a,["bottom","alignCentre"]),east:()=>xe(t,-a/2,["valignCentre","left"]),west:()=>xe(-t,-a/2,["valignCentre","right"]),insetNortheast:()=>xe(z,Y,["top","alignLeft","inset"]),insetNorthwest:()=>xe(-z,Y,["top","alignRight","inset"]),insetNorth:()=>xe(-z/2,Y,["top","alignCentre","inset"]),insetSoutheast:()=>xe(z,-Y,["bottom","alignLeft","inset"]),insetSouthwest:()=>xe(-z,-Y,["bottom","alignRight","inset"]),insetSouth:()=>xe(-z/2,-Y,["bottom","alignCentre","inset"]),insetEast:()=>xe(-z,-Y/2,["valignCentre","right","inset"]),insetWest:()=>xe(z,-Y/2,["valignCentre","left","inset"])}},b1=()=>Nd(0,0,{}),x1=D,Nb=(t,a)=>p=>w1(p)==="rtl"?a:t,w1=t=>Ms(t,"direction")==="rtl"?"rtl":"ltr";var tf;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(tf||(tf={}));const vv="data-alloy-vertical-dir",C1=t=>ow(t,a=>St(a)&&Ka(a,"data-alloy-vertical-dir")===tf.BottomToTop),Om=()=>Ql("layouts",[qn("onLtr"),qn("onRtl"),Ia("onBottomLtr"),Ia("onBottomRtl")]),Fb=(t,a,p,E,z,Y,re)=>{const xe=re.map(C1).getOr(!1),Ee=a.layouts.map(mt=>mt.onLtr(t)),Be=a.layouts.map(mt=>mt.onRtl(t)),je=xe?a.layouts.bind(mt=>mt.onBottomLtr.map(Mt=>Mt(t))).or(Ee).getOr(z):Ee.getOr(p),et=xe?a.layouts.bind(mt=>mt.onBottomRtl.map(Mt=>Mt(t))).or(Be).getOr(Y):Be.getOr(E);return Nb(je,et)(t)},k4=(t,a,p)=>{const E=a.hotspot,z=Sw(p,E.element),Y=Fb(t.element,a,Db(),yw(),vw(),q3(),P.some(a.hotspot.element));return P.some(x1({anchorBox:z,bubble:a.bubble.getOr(b1()),overrides:a.overrides,layouts:Y}))};var A4=[qn("hotspot"),Ia("bubble"),En("overrides",{}),Om(),rs("placement",k4)];const vT=(t,a,p)=>{const E=Tw(p,a.x,a.y),z=Hs(E.left,E.top,a.width,a.height),Y=Fb(t.element,a,pw(),g1(),pw(),g1(),P.none());return P.some(x1({anchorBox:z,bubble:a.bubble,overrides:a.overrides,layouts:Y}))};var M4=[qn("x"),qn("y"),En("height",0),En("width",0),En("bubble",b1()),En("overrides",{}),Om(),rs("placement",vT)];const $w=Ae.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),E4=t=>t.fold(D,(a,p,E)=>a.translate(-p,-E)),_4=t=>t.fold(D,D),yT=t=>ke(t,(a,p)=>a.translate(p.left,p.top),Ma(0,0)),R4=t=>{const a=ne(t,E4);return yT(a)},bT=t=>{const a=ne(t,_4);return yT(a)},L4=$w.screen,Bb=$w.absolute,D4=(t,a,p)=>{const E=Qn(p.root).dom,z=Y=>{const re=Sn(Y),xe=Sn(t.element);return Qt(re,xe)};return P.from(E.frameElement).map(zt.fromDom).filter(z).map(al)},xT=(t,a,p)=>{const E=Sn(t.element),z=ll(E),Y=D4(t,a,p).getOr(z);return Bb(Y,z.left,z.top)},yv=(t,a,p,E)=>{const z=L4(Ma(t,a));return P.some(Ip(z,p,E))},Ow=(t,a,p,E,z)=>t.map(Y=>{const re=[a,Y.point],xe=d4(E,()=>bT(re),()=>bT(re),()=>R4(re)),Ee=Td(xe.left,xe.top,Y.width,Y.height),Be=p.showAbove?vw():Db(),je=p.showAbove?q3():yw(),et=Fb(z,p,Be,je,Be,je,P.none());return x1({anchorBox:Ee,bubble:p.bubble.getOr(b1()),overrides:p.overrides,layouts:et})}),Pw=(t,a,p)=>{const E=xT(t,p,a);return a.node.filter(Wa).bind(z=>{const Y=z.dom.getBoundingClientRect(),re=yv(Y.left,Y.top,Y.width,Y.height),xe=a.node.getOr(t.element);return Ow(re,E,a,p,xe)})};var Iw=[qn("node"),qn("root"),Ia("bubble"),Om(),En("overrides",{}),En("showAbove",!1),rs("placement",Pw)];const wT="\uFEFF",Nw=" ",Hb={create:(t,a,p,E)=>({start:t,soffset:a,finish:p,foffset:E})},zb=Ae.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),O4=(t,a,p,E)=>t.fold(a,p,E),Fw=t=>t.fold(D,D,D),CT=zb.before,P4=zb.on,Bw=zb.after,I4={before:CT,on:P4,after:Bw,cata:O4,getStart:Fw},bv=Ae.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),N4=t=>bv.exact(t.start,t.soffset,t.finish,t.foffset),Hw=t=>t.match({domRange:a=>zt.fromDom(a.startContainer),relative:(a,p)=>I4.getStart(a),exact:(a,p,E,z)=>a}),F4=bv.domRange,B4=bv.relative,H4=bv.exact,ST=t=>{const a=Hw(t);return Qn(a)},z4=Hb.create,fl={domRange:F4,relative:B4,exact:H4,exactFromRange:N4,getWin:ST,range:z4},l$=(t,a)=>{a.fold(p=>{t.setStartBefore(p.dom)},(p,E)=>{t.setStart(p.dom,E)},p=>{t.setStartAfter(p.dom)})},xv=(t,a)=>{a.fold(p=>{t.setEndBefore(p.dom)},(p,E)=>{t.setEnd(p.dom,E)},p=>{t.setEndAfter(p.dom)})},Vb=(t,a,p)=>{const E=t.document.createRange();return l$(E,a),xv(E,p),E},TT=(t,a,p,E,z)=>{const Y=t.document.createRange();return Y.setStart(a.dom,p),Y.setEnd(E.dom,z),Y},zw=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),kT=t=>{const a=t.getClientRects(),p=a.length>0?a[0]:t.getBoundingClientRect();return p.width>0||p.height>0?P.some(p).map(zw):P.none()},AT=t=>{const a=t.getBoundingClientRect();return a.width>0||a.height>0?P.some(a).map(zw):P.none()},Qg=Ae.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),S1=(t,a,p)=>a(zt.fromDom(p.startContainer),p.startOffset,zt.fromDom(p.endContainer),p.endOffset),V4=(t,a)=>a.match({domRange:p=>({ltr:O(p),rtl:P.none}),relative:(p,E)=>({ltr:Ps(()=>Vb(t,p,E)),rtl:Ps(()=>P.some(Vb(t,E,p)))}),exact:(p,E,z,Y)=>({ltr:Ps(()=>TT(t,p,E,z,Y)),rtl:Ps(()=>P.some(TT(t,z,Y,p,E)))})}),U4=(t,a)=>{const p=a.ltr();return p.collapsed?a.rtl().filter(z=>z.collapsed===!1).map(z=>Qg.rtl(zt.fromDom(z.endContainer),z.endOffset,zt.fromDom(z.startContainer),z.startOffset)).getOrThunk(()=>S1(t,Qg.ltr,p)):S1(t,Qg.ltr,p)},T1=(t,a)=>{const p=V4(t,a);return U4(t,p)},Vw=(t,a)=>T1(t,a).match({ltr:(E,z,Y,re)=>{const xe=t.document.createRange();return xe.setStart(E.dom,z),xe.setEnd(Y.dom,re),xe},rtl:(E,z,Y,re)=>{const xe=t.document.createRange();return xe.setStart(Y.dom,re),xe.setEnd(E.dom,z),xe}});Qg.ltr,Qg.rtl;const MT=(t,a,p)=>Ce(Vr(t,p),a),Xi=(t,a)=>qt(a,t),ET=(t,a,p,E)=>{const Y=Sn(t).dom.createRange();return Y.setStart(t.dom,a),Y.setEnd(p.dom,E),Y},Uw=(t,a,p,E)=>{const z=ET(t,a,p,E),Y=Qt(t,p)&&a===E;return z.collapsed&&!Y},c$=t=>P.from(t.getSelection()),wv=t=>{if(t.rangeCount>0){const a=t.getRangeAt(0),p=t.getRangeAt(t.rangeCount-1);return P.some(Hb.create(zt.fromDom(a.startContainer),a.startOffset,zt.fromDom(p.endContainer),p.endOffset))}else return P.none()},W4=t=>{if(t.anchorNode===null||t.focusNode===null)return wv(t);{const a=zt.fromDom(t.anchorNode),p=zt.fromDom(t.focusNode);return Uw(a,t.anchorOffset,p,t.focusOffset)?P.some(Hb.create(a,t.anchorOffset,p,t.focusOffset)):wv(t)}},_T=t=>c$(t).filter(a=>a.rangeCount>0).bind(W4),Ww=(t,a)=>{const p=Vw(t,a);return kT(p)},k1=(t,a)=>{const p=Vw(t,a);return AT(p)},Cv=((t,a)=>{const p=Y=>{if(!t(Y))throw new Error("Can only get "+a+" value of a "+a+" node");return E(Y).getOr("")},E=Y=>t(Y)?P.from(Y.dom.nodeValue):P.none();return{get:p,getOption:E,set:(Y,re)=>{if(!t(Y))throw new Error("Can only set raw "+a+" value of a "+a+" node");Y.dom.nodeValue=re}}})(kt,"text"),G4=t=>Cv.get(t),Pm=(t,a)=>({element:t,offset:a}),RT=(t,a)=>{const p=Kr(t);if(p.length===0)return Pm(t,a);if(a<p.length)return Pm(p[a],0);{const E=p[p.length-1],z=kt(E)?G4(E).length:Kr(E).length;return Pm(E,z)}},Im=(t,a)=>kt(t)?Pm(t,a):RT(t,a),Nm=t=>t.foffset!==void 0,Gw=(t,a)=>a.getSelection.getOrThunk(()=>()=>_T(t))().map(E=>{if(Nm(E)){const z=Im(E.start,E.soffset),Y=Im(E.finish,E.foffset);return fl.range(z.element,z.offset,Y.element,Y.offset)}else return E}),LT=(t,a,p)=>{const E=Qn(a.root).dom,z=xT(t,p,a),Y=Gw(E,a).bind(Ee=>{if(Nm(Ee))return k1(E,fl.exactFromRange(Ee)).orThunk(()=>{const je=zt.fromText(wT);hu(Ee.start,je);const et=Ww(E,fl.exact(je,0,je,1));return Xl(je),et}).bind(je=>yv(je.left,je.top,je.width,je.height));{const Be=Xe(Ee,et=>et.dom.getBoundingClientRect()),je={left:Math.min(Be.firstCell.left,Be.lastCell.left),right:Math.max(Be.firstCell.right,Be.lastCell.right),top:Math.min(Be.firstCell.top,Be.lastCell.top),bottom:Math.max(Be.firstCell.bottom,Be.lastCell.bottom)};return yv(je.left,je.top,je.right-je.left,je.bottom-je.top)}}),xe=Gw(E,a).bind(Ee=>Nm(Ee)?St(Ee.start)?P.some(Ee.start):fr(Ee.start):P.some(Ee.firstCell)).getOr(t.element);return Ow(Y,z,a,p,xe)};var u$=[Ia("getSelection"),qn("root"),Ia("bubble"),Om(),En("overrides",{}),En("showAbove",!1),rs("placement",LT)];const Zw="link-layout",Fm=t=>t.x+t.width,Fd=(t,a)=>t.x-a.width,A1=(t,a)=>t.y-a.height+t.height,Sv=t=>t.y,jw=(t,a,p)=>Zi(Fm(t),Sv(t),p.southeast(),f1(),"southeast",Ds(t,{left:0,top:2}),Zw),Ph=(t,a,p)=>Zi(Fd(t,a),Sv(t),p.southwest(),uw(),"southwest",Ds(t,{right:1,top:2}),Zw),td=(t,a,p)=>Zi(Fm(t),A1(t,a),p.northeast(),_b(),"northeast",Ds(t,{left:0,bottom:3}),Zw),M1=(t,a,p)=>Zi(Fd(t,a),A1(t,a),p.northwest(),Pd(),"northwest",Ds(t,{right:1,bottom:3}),Zw),Wb=()=>[jw,Ph,td,M1],E1=()=>[Ph,jw,M1,td],Yw=(t,a,p)=>{const E=Sw(p,a.item.element),z=Fb(t.element,a,Wb(),E1(),Wb(),E1(),P.none());return P.some(x1({anchorBox:E,bubble:b1(),overrides:a.overrides,layouts:z}))};var Tv=[qn("item"),Om(),En("overrides",{}),rs("placement",Yw)],_1=fa("type",{selection:u$,node:Iw,hotspot:A4,submenu:Tv,makeshift:M4});const Kw=[Ol("classes",Ui),bc("mode","all",["all","layout","placement"])],DT=[En("useFixed",H),Ia("getBounds")],Bm=[yc("anchor",_1),Ql("transition",Kw)],Gb=()=>{const t=document.documentElement;return v1(0,0,t.clientWidth,t.clientHeight)},Z4=t=>{const a=al(t.element),p=t.element.dom.getBoundingClientRect();return ac(a.left,a.top,p.width,p.height)},$T=(t,a,p,E,z,Y)=>{const re=m4(a.anchorBox,t);return Dw(re,E.element,a.bubble,a.layouts,z,p,a.overrides,Y)},Xw=(t,a,p,E,z)=>{const Y=P.none();gi(t,a,p,E,z,Y)},gi=(t,a,p,E,z,Y)=>{const re=ul("placement.info",io(Bm),z),xe=re.anchor,Ee=E.element,Be=p.get(E.uid);Ur(()=>{To(Ee,"position","fixed");const je=Rs(Ee,"visibility");To(Ee,"visibility","hidden");const et=a.useFixed()?Gb():Z4(t);xe.placement(t,xe,et).each(st=>{const mt=Y.orThunk(()=>a.getBounds.map(F)),Mt=$T(et,st,mt,E,Be,re.transition);p.set(E.uid,Mt)}),je.fold(()=>{Bo(Ee,"visibility")},st=>{To(Ee,"visibility",st)}),Rs(Ee,"left").isNone()&&Rs(Ee,"top").isNone()&&Rs(Ee,"right").isNone()&&Rs(Ee,"bottom").isNone()&&sn(Rs(Ee,"position"),"fixed")&&Bo(Ee,"position")},Ee)};var OT=Object.freeze({__proto__:null,position:Xw,positionWithinBounds:gi,getMode:(t,a,p)=>a.useFixed()?"fixed":"absolute",reset:(t,a,p,E)=>{const z=E.element;fe(["position","left","right","top","bottom"],Y=>Bo(z,Y)),lT(z),p.clear(E.uid)}}),Hm=Object.freeze({__proto__:null,init:()=>{let t={};return Qc({readState:()=>t,clear:z=>{d(z)?delete t[z]:t={}},set:(z,Y)=>{t[z]=Y},get:z=>Ft(t,z)})}});const Nl=Ki({fields:DT,name:"positioning",active:rT,apis:OT,state:Hm}),kv=t=>t.getSystem().isConnected(),R1=t=>{pa(t,Sm());const a=t.components();fe(a,R1)},Av=t=>{const a=t.components();fe(a,Av),pa(t,Cu())},Jw=(t,a)=>{t.getSystem().addToWorld(a),Wa(t.element)&&Av(a)},Mv=t=>{R1(t),t.getSystem().removeFromWorld(t)},qg=(t,a)=>{pc(t.element,a.element)},nd=t=>{fe(t.components(),a=>Xl(a.element)),pm(t.element),t.syncComponents()},j4=(t,a,p)=>{const E=t.components();nd(t);const z=p(a),Y=ue(E,z);fe(Y,re=>{R1(re),t.getSystem().removeFromWorld(re)}),fe(z,re=>{kv(re)?qg(t,re):(t.getSystem().addToWorld(re),qg(t,re),Wa(t.element)&&Av(re))}),t.syncComponents()},Y4=(t,a,p)=>{const E=t.components(),z=ie(a,xe=>Kp(xe).toArray());fe(E,xe=>{he(z,xe)||Mv(xe)});const Y=p(a),re=ue(E,Y);fe(re,xe=>{kv(xe)&&Mv(xe)}),fe(Y,xe=>{kv(xe)||Jw(t,xe)}),t.syncComponents()},zm=(t,a)=>{Ev(t,a,pc)},Ev=(t,a,p)=>{t.getSystem().addToWorld(a),p(t.element,a.element),Wa(t.element)&&Av(a),t.syncComponents()},jb=t=>{R1(t),Xl(t.element),t.getSystem().removeFromWorld(t)},Bd=t=>{const a=Bn(t.element).bind(p=>t.getSystem().getByDom(p).toOptional());jb(t),a.each(p=>{p.syncComponents()})},Qw=t=>{const a=t.components();fe(a,jb),pm(t.element),t.syncComponents()},dl=(t,a)=>{Tf(t,a,pc)},Nh=(t,a)=>{Tf(t,a,Lg)},Tf=(t,a,p)=>{p(t,a.element);const E=Kr(a.element);fe(E,z=>{a.getByDom(z).each(Av)})},_v=t=>{const a=Kr(t.element);fe(a,p=>{t.getByDom(p).each(R1)}),Xl(t.element)},ic=(t,a,p,E)=>{p.get().each(re=>{Qw(t)});const z=a.getAttachPoint(t);zm(z,t);const Y=t.getSystem().build(E);return zm(t,Y),p.set(Y),Y},Nc=(t,a,p,E)=>{const z=ic(t,a,p,E);return a.onOpen(t,z),z},Sc=(t,a,p,E)=>p.get().map(()=>ic(t,a,p,E)),kf=(t,a,p,E,z)=>{L1(t,a),Nc(t,a,p,E),z(),D1(t,a)},Yb=(t,a,p)=>{p.get().each(E=>{Qw(t),Bd(t),a.onClose(t,E),p.clear()})},Mu=(t,a,p)=>p.isOpen(),ep=(t,a,p,E)=>Mu(t,a,p)&&p.get().exists(z=>a.isPartOf(t,z,E)),qw=(t,a,p)=>p.get(),K4=(t,a,p,E)=>{Rs(t.element,a).fold(()=>{Xa(t.element,p)},z=>{Lr(t.element,p,z)}),To(t.element,a,E)},PT=(t,a,p)=>{yi(t.element,p).fold(()=>Bo(t.element,a),E=>To(t.element,a,E))},L1=(t,a,p)=>{const E=a.getAttachPoint(t);To(t.element,"position",Nl.getMode(E)),K4(t,"visibility",a.cloakVisibilityAttr,"hidden")},IT=t=>ge(["top","left","right","bottom"],a=>Rs(t,a).isSome()),D1=(t,a,p)=>{IT(t.element)||Bo(t.element,"position"),PT(t,"visibility",a.cloakVisibilityAttr)};var Kb=Object.freeze({__proto__:null,cloak:L1,decloak:D1,open:Nc,openWhileCloaked:kf,close:Yb,isOpen:Mu,isPartOf:ep,getState:qw,setContent:Sc}),NT=Object.freeze({__proto__:null,events:(t,a)=>bs([Xn(wu(),(p,E)=>{Yb(p,t,a)})])}),J4=[Sa("onOpen"),Sa("onClose"),qn("isPartOf"),qn("getAttachPoint"),En("cloakVisibilityAttr","data-precloak-visibility")],FT=Object.freeze({__proto__:null,init:()=>{const t=ia(),a=O("not-implemented");return Qc({readState:a,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const va=Ki({fields:J4,name:"sandboxing",active:NT,apis:Kb,state:FT}),rd=O("dismiss.popups"),tp=O("reposition.popups"),eC=O("mouse.released"),BT=es([En("isExtraPart",H),Ql("fireEventInstead",[En("event",Tm())])]),$1=t=>{const a=ul("Dismissal",BT,t);return{[rd()]:{schema:es([qn("target")]),onReceive:(p,E)=>{va.isOpen(p)&&(va.isPartOf(p,E.target)||a.isExtraPart(p,E.target)||a.fireEventInstead.fold(()=>va.close(p),Y=>pa(p,Y.event)))}}}},Q4=es([Ql("fireEventInstead",[En("event",D3())]),bu("doReposition")]),Rv=t=>{const a=ul("Reposition",Q4,t);return{[tp()]:{onReceive:p=>{va.isOpen(p)&&a.fireEventInstead.fold(()=>a.doReposition(p),E=>pa(p,E.event))}}}},Xb=(t,a,p)=>{a.store.manager.onLoad(t,a,p)},Eu=(t,a,p)=>{a.store.manager.onUnload(t,a,p)};var Vm=Object.freeze({__proto__:null,onLoad:Xb,onUnload:Eu,setValue:(t,a,p,E)=>{a.store.manager.setValue(t,a,p,E)},getValue:(t,a,p)=>a.store.manager.getValue(t,a,p),getState:(t,a,p)=>p}),qb=Object.freeze({__proto__:null,events:(t,a)=>{const p=t.resetOnDom?[ms((E,z)=>{Xb(E,t,a)}),_d((E,z)=>{Eu(E,t,a)})]:[$b(t,a,Xb)];return bs(p)}});const np=()=>{const t=q(null),a=()=>({mode:"memory",value:t.get()}),p=()=>t.get()===null,E=()=>{t.set(null)};return Qc({set:t.set,get:t.get,isNotSet:p,clear:E,readState:a})},q4=()=>Qc({readState:C}),HT=()=>{const t=q({}),a=q({});return Qc({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:a.get()}),lookup:re=>Ft(t.get(),re).orThunk(()=>Ft(a.get(),re)),update:re=>{const xe=t.get(),Ee=a.get(),Be={},je={};fe(re,et=>{Be[et.value]=et,Ft(et,"meta").each(st=>{Ft(st,"text").each(mt=>{je[mt]=et})})}),t.set({...xe,...Be}),a.set({...Ee,...je})},clear:()=>{t.set({}),a.set({})}})};var Dv=Object.freeze({__proto__:null,memory:np,dataset:HT,manual:q4,init:t=>t.store.manager.state(t)});const Fh=(t,a,p,E)=>{const z=a.store;p.update([E]),z.setValue(t,E),a.onSetValue(t,E)},t_=(t,a,p)=>{const E=a.store,z=E.getDataKey(t);return p.lookup(z).getOrThunk(()=>E.getFallbackEntry(z))},n_=(t,a,p)=>{a.store.initialValue.each(z=>{Fh(t,a,p,z)})},zT=(t,a,p)=>{p.clear()};var tC=[Ia("initialValue"),qn("getFallbackEntry"),qn("getDataKey"),qn("setValue"),rs("manager",{setValue:Fh,getValue:t_,onLoad:n_,onUnload:zT,state:HT})];const nC=(t,a,p)=>a.store.getValue(t),rC=(t,a,p,E)=>{a.store.setValue(t,E),a.onSetValue(t,E)},ex=(t,a,p)=>{a.store.initialValue.each(E=>{a.store.setValue(t,E)})};var Um=[qn("getValue"),En("setValue",C),Ia("initialValue"),rs("manager",{setValue:rC,getValue:nC,onLoad:ex,onUnload:C,state:wf.init})];const VT=(t,a,p,E)=>{p.set(E),a.onSetValue(t,E)},O1=(t,a,p)=>p.get(),oC=(t,a,p)=>{a.store.initialValue.each(E=>{p.isNotSet()&&p.set(E)})},r_=(t,a,p)=>{p.clear()};var P1=[Ia("initialValue"),rs("manager",{setValue:VT,getValue:O1,onLoad:oC,onUnload:r_,state:np})],o_=[ql("store",{mode:"memory"},fa("mode",{memory:P1,manual:Um,dataset:tC})),Sa("onSetValue"),En("resetOnDom",!1)];const Fr=Ki({fields:o_,name:"representing",active:qb,apis:Vm,extra:{setValueFrom:(t,a)=>{const p=Fr.getValue(a);Fr.setValue(t,p)}},state:Dv}),Fi=(t,a)=>U(t,{},ne(a,p=>Up(p.name(),"Cannot configure "+p.name()+" for "+t)).concat([zs("dump",D)])),Bh=t=>t.dump,Si=(t,a)=>({...gr(a),...t.dump}),nf={field:Fi,augment:Si,get:Bh},tx="placeholder",I1=Ae.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),od=t=>pn(t,"uiType"),nx=(t,a,p,E)=>t.exists(z=>z!==p.owner)?I1.single(!0,O(p)):Ft(E,p.name).fold(()=>{throw new Error("Unknown placeholder component: "+p.name+`
Known: [`+ot(E)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(p,null,2))},z=>z.replace()),rx=(t,a,p,E)=>od(p)&&p.uiType===tx?nx(t,a,p,E):I1.single(!1,O(p)),$v=(t,a,p,E)=>rx(t,a,p,E).fold((Y,re)=>{const xe=od(p)?re(a,p.config,p.validated):re(a),Ee=Ft(xe,"components").getOr([]),Be=ie(Ee,je=>$v(t,a,je,E));return[{...xe,components:Be}]},(Y,re)=>{if(od(p)){const xe=re(a,p.config,p.validated);return p.validated.preprocess.getOr(D)(xe)}else return re(a)}),UT=(t,a,p,E)=>ie(p,z=>$v(t,a,z,E)),N1=(t,a)=>{let p=!1;const E=()=>p,z=()=>{if(p)throw new Error("Trying to use the same placeholder more than once: "+t);return p=!0,a},Y=()=>a.fold((re,xe)=>re,(re,xe)=>re);return{name:O(t),required:Y,used:E,replace:z}},aC=(t,a,p,E)=>{const z=Xe(E,(re,xe)=>N1(xe,re)),Y=UT(t,a,p,z);return Ge(z,re=>{if(re.used()===!1&&re.required())throw new Error("Placeholder: "+re.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(a.components,null,2))}),Y},sC=I1.single,a_=I1.multiple,ad=O(tx),ox=Ae.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Ov=En("factory",{sketch:D}),El=En("schema",[]),$i=qn("name"),ax=Wi("pname","pname",Xu(t=>"<alloy."+Xr(t.name)+">"),oi()),F1=zs("schema",()=>[Ia("preprocess")]),sx=En("defaults",O({})),B1=En("overrides",O({})),H1=io([Ov,El,$i,ax,sx,B1]),Pv=io([Ov,El,$i,sx,B1]),WT=io([Ov,El,$i,ax,sx,B1]),z1=io([Ov,F1,$i,qn("unit"),ax,sx,B1]),GT=t=>t.fold(P.some,P.none,P.some,P.some),ZT=t=>{const a=p=>p.name;return t.fold(a,a,a,a)},jT=t=>t.fold(D,D,D,D),rf=(t,a)=>p=>{const E=ul("Converting part type",a,p);return t(E)},Fl=rf(ox.required,H1),Af=rf(ox.external,Pv),Fc=rf(ox.optional,WT),V1=rf(ox.group,z1),ix=O("entirety");var YT=Object.freeze({__proto__:null,required:Fl,external:Af,optional:Fc,group:V1,asNamedPart:GT,name:ZT,asCommon:jT,original:ix});const U1=(t,a,p,E)=>hs(a.defaults(t,p,E),p,{uid:t.partUids[a.name]},a.overrides(t,p,E)),s_=(t,a,p)=>{const E={},z={};return fe(p,Y=>{Y.fold(re=>{E[re.pname]=sC(!0,(xe,Ee,Be)=>re.factory.sketch(U1(xe,re,Ee,Be)))},re=>{const xe=a.parts[re.name];z[re.name]=O(re.factory.sketch(U1(a,re,xe[ix()]),xe))},re=>{E[re.pname]=sC(!1,(xe,Ee,Be)=>re.factory.sketch(U1(xe,re,Ee,Be)))},re=>{E[re.pname]=a_(!0,(xe,Ee,Be)=>{const je=xe[re.name];return ne(je,et=>re.factory.sketch(hs(re.defaults(xe,et,Be),et,re.overrides(xe,et))))})})}),{internals:O(E),externals:O(z)}},Hh=(t,a)=>{const p={};return fe(a,E=>{GT(E).each(z=>{const Y=W1(t,z.pname);p[z.name]=re=>{const xe=ul("Part: "+z.name+" in "+t,io(z.schema),re);return{...Y,config:re,validated:xe}}})}),p},W1=(t,a)=>({uiType:ad(),owner:t,name:a}),iC=(t,a,p)=>({uiType:ad(),owner:t,name:a,config:p,validated:{}}),KT=t=>ie(t,a=>a.fold(P.none,P.some,P.none,P.none).map(p=>Dc(p.name,p.schema.concat([u1(ix())]))).toArray()),XT=t=>ne(t,ZT),lC=(t,a,p)=>s_(t,a,p),lx=(t,a,p)=>aC(P.some(t),a,a.components,p),gs=(t,a,p)=>{const E=a.partUids[p];return t.getSystem().getByUid(E).toOptional()},zh=(t,a,p)=>gs(t,a,p).getOrDie("Could not find part: "+p),JT=(t,a,p)=>{const E={},z=a.partUids,Y=t.getSystem();return fe(p,re=>{E[re]=O(Y.getByUid(z[re]))}),E},cC=(t,a)=>{const p=t.getSystem();return Xe(a.partUids,(E,z)=>O(p.getByUid(E)))},uC=t=>ot(t.partUids),rp=(t,a,p)=>{const E={},z=a.partUids,Y=t.getSystem();return fe(p,re=>{E[re]=O(Y.getByUid(z[re]).getOrDie())}),E},fC=(t,a)=>{const p=XT(a);return bt(ne(p,E=>({key:E,value:t+"-"+E})))},dC=t=>Wi("partUids","partUids",aa(a=>fC(a.uid,t)),oi());var i_=Object.freeze({__proto__:null,generate:Hh,generateOne:iC,schemas:KT,names:XT,substitutes:lC,components:lx,defaultUids:fC,defaultUidsSchema:dC,getAllParts:cC,getAllPartNames:uC,getPart:gs,getPartOrDie:zh,getParts:JT,getPartsOrDie:rp});const Iv=(t,a)=>(t.length>0?[Dc("parts",t)]:[]).concat([qn("uid"),En("dom",{}),En("components",[]),u1("originalSpec"),En("debug.sketcher",{})]).concat(a),Nv=(t,a,p,E,z)=>{const Y=Iv(E,z);return ul(t+" [SpecSchema]",es(Y.concat(a)),p)},hC=(t,a,p,E)=>{const z=Wm(E),Y=Nv(t,a,z,[],[]);return p(Y,z)},mC=(t,a,p,E,z)=>{const Y=Wm(z),re=KT(p),xe=dC(p),Ee=Nv(t,a,Y,re,[xe]),Be=lC(t,Ee,p),je=lx(t,Ee,Be.internals());return E(Ee,je,Y,Be.externals())},Mf=t=>pn(t,"uid"),Wm=t=>Mf(t)?t:{...t,uid:jp("uid")},l_=t=>t.uid!==void 0,G1=es([qn("name"),qn("factory"),qn("configFields"),En("apis",{}),En("extraApis",{})]),c_=es([qn("name"),qn("factory"),qn("configFields"),qn("partFields"),En("apis",{}),En("extraApis",{})]),ou=t=>{const a=ul("Sketcher for "+t.name,G1,t),p=Y=>hC(a.name,a.configFields,a.factory,Y),E=Xe(a.apis,Ug),z=Xe(a.extraApis,(Y,re)=>db(Y,re));return{name:a.name,configFields:a.configFields,sketch:p,...E,...z}},Bl=t=>{const a=ul("Sketcher for "+t.name,c_,t),p=re=>mC(a.name,a.configFields,a.partFields,a.factory,re),E=Hh(a.name,a.partFields),z=Xe(a.apis,Ug),Y=Xe(a.extraApis,(re,xe)=>db(re,xe));return{name:a.name,partFields:a.partFields,configFields:a.configFields,sketch:p,parts:E,...z,...Y}},op=t=>Ut("input")(t)&&Ka(t,"type")!=="radio"||Ut("textarea")(t);var QT=Object.freeze({__proto__:null,getCurrent:(t,a,p)=>a.find(t)});const u_=[qn("find")],da=Ki({fields:u_,name:"composing",apis:QT}),gC=["input","button","textarea","select"],qT=(t,a,p)=>{(a.disabled()?tk:Z1)(t,a)},pC=(t,a)=>a.useNative===!0&&he(gC,vo(t.element)),f_=t=>Hf(t.element,"disabled"),d_=t=>{Lr(t.element,"disabled","disabled")},ek=t=>{Xa(t.element,"disabled")},h_=t=>Ka(t.element,"aria-disabled")==="true",Wr=t=>{Lr(t.element,"aria-disabled","true")},Gm=t=>{Lr(t.element,"aria-disabled","false")},tk=(t,a,p)=>{a.disableClass.each(z=>{hi(t.element,z)}),(pC(t,a)?d_:Wr)(t),a.onDisabled(t)},Z1=(t,a,p)=>{a.disableClass.each(z=>{Is(t.element,z)}),(pC(t,a)?ek:Gm)(t),a.onEnabled(t)},j1=(t,a)=>pC(t,a)?f_(t):h_(t);var m$=Object.freeze({__proto__:null,enable:Z1,disable:tk,isDisabled:j1,onLoad:qT,set:(t,a,p,E)=>{(E?tk:Z1)(t,a)}}),g_=Object.freeze({__proto__:null,exhibit:(t,a)=>qc({classes:a.disabled()?a.disableClass.toArray():[]}),events:(t,a)=>bs([U2(Ci(),(p,E)=>j1(p,t)),$b(t,a,qT)])}),nk=[bi("disabled",H),En("useNative",!0),Ia("disableClass"),Sa("onDisabled"),Sa("onEnabled")];const Co=Ki({fields:nk,name:"disabling",active:g_,apis:m$}),Vh=(t,a,p,E)=>{const z=Xi(t.element,"."+a.highlightClass);fe(z,Y=>{ge(E,xe=>Qt(xe.element,Y))||(Is(Y,a.highlightClass),t.getSystem().getByDom(Y).each(xe=>{a.onDehighlight(t,xe),pa(xe,t1())}))})},rk=(t,a,p)=>Vh(t,a,p,[]),p_=(t,a,p,E)=>{cx(t,a,p,E)&&(Is(E.element,a.highlightClass),a.onDehighlight(t,E),pa(E,t1()))},Y1=(t,a,p,E)=>{Vh(t,a,p,[E]),cx(t,a,p,E)||(hi(E.element,a.highlightClass),a.onHighlight(t,E),pa(E,e1()))},v_=(t,a,p)=>{Fv(t,a).each(E=>{Y1(t,a,p,E)})},ok=(t,a,p)=>{yC(t,a).each(E=>{Y1(t,a,p,E)})},vC=(t,a,p,E)=>{b_(t,a,p,E).fold(z=>{throw z},z=>{Y1(t,a,p,z)})},ak=(t,a,p,E)=>{const z=ux(t,a);Ve(z,E).each(re=>{Y1(t,a,p,re)})},cx=(t,a,p,E)=>Ni(E.element,a.highlightClass),y_=(t,a,p)=>mi(t.element,"."+a.highlightClass).bind(E=>t.getSystem().getByDom(E).toOptional()),b_=(t,a,p,E)=>{const z=Xi(t.element,"."+a.itemClass);return P.from(z[E]).fold(()=>Wo.error(new Error("No element found with index "+E)),t.getSystem().getByDom)},Fv=(t,a,p)=>mi(t.element,"."+a.itemClass).bind(E=>t.getSystem().getByDom(E).toOptional()),yC=(t,a,p)=>{const E=Xi(t.element,"."+a.itemClass);return(E.length>0?P.some(E[E.length-1]):P.none()).bind(Y=>t.getSystem().getByDom(Y).toOptional())},sk=(t,a,p,E)=>{const z=Xi(t.element,"."+a.itemClass);return Oe(z,re=>Ni(re,a.highlightClass)).bind(re=>{const xe=uv(re,E,0,z.length-1);return t.getSystem().getByDom(z[xe]).toOptional()})},x_=(t,a,p)=>sk(t,a,p,-1),w_=(t,a,p)=>sk(t,a,p,1),ux=(t,a,p)=>{const E=Xi(t.element,"."+a.itemClass);return an(ne(E,z=>t.getSystem().getByDom(z).toOptional()))};var Hd=Object.freeze({__proto__:null,dehighlightAll:rk,dehighlight:p_,highlight:Y1,highlightFirst:v_,highlightLast:ok,highlightAt:vC,highlightBy:ak,isHighlighted:cx,getHighlighted:y_,getFirst:Fv,getLast:yC,getPrevious:x_,getNext:w_,getCandidates:ux}),fx=[qn("highlightClass"),qn("itemClass"),Sa("onHighlight"),Sa("onDehighlight")];const Na=Ki({fields:fx,name:"highlighting",apis:Hd}),C_=[8],Uh=[9],zd=[13],dx=[27],_u=[32],hx=[37],Wh=[38],Bv=[39],K1=[40],bC=(t,a,p)=>{const E=se(t.slice(0,a)),z=se(t.slice(a+1));return Ve(E.concat(z),p)},S_=(t,a,p)=>{const E=se(t.slice(0,a));return Ve(E,p)},xC=(t,a,p)=>{const E=t.slice(0,a),z=t.slice(a+1);return Ve(z.concat(E),p)},T_=(t,a,p)=>{const E=t.slice(a+1);return Ve(E,p)},ya=t=>a=>{const p=a.raw;return he(t,p.which)},Ru=t=>a=>we(t,p=>p(a)),Zm=t=>t.raw.shiftKey===!0,k_=t=>t.raw.ctrlKey===!0,Hv=k(Zm),_a=(t,a)=>({matches:t,classification:a}),A_=(t,a)=>Ve(t,E=>E.matches(a)).map(E=>E.classification),wC=(t,a,p)=>{a.exists(z=>p.exists(Y=>Qt(Y,z)))||go(t,ab(),{prevFocus:a,newFocus:p})},I=()=>{const t=p=>Sf(p.element);return{get:t,set:(p,E)=>{const z=t(p);p.getSystem().triggerFocus(E,p.element);const Y=t(p);wC(p,z,Y)}}},W=()=>{const t=p=>Na.getHighlighted(p).map(E=>E.element);return{get:t,set:(p,E)=>{const z=t(p);p.getSystem().getByDom(E).fold(C,re=>{Na.highlight(p,re)});const Y=t(p);wC(p,z,Y)}}};var te;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(te||(te={}));const me=(t,a,p,E,z)=>{const Y=()=>t.concat([En("focusManager",I()),ql("focusInside","onFocus",cl(Be=>he(["onFocus","onEnterOrSpace","onApi"],Be)?Wo.value(Be):Wo.error("Invalid value for focusInside"))),rs("handler",Ee),rs("state",a),rs("sendFocusIn",z)]),re=(Be,je,et,st,mt)=>{const Mt=et(Be,je,st,mt);return A_(Mt,je.event).bind(Xt=>Xt(Be,je,st,mt))},Ee={schema:Y,processKey:re,toEvents:(Be,je)=>{const et=Be.focusInside!==te.OnFocusMode?P.none():z(Be).map(Mt=>Xn(qu(),(Xt,Dn)=>{Mt(Xt,Be,je),Dn.stop()})),st=(Mt,Xt)=>{const Dn=ya(_u.concat(zd))(Xt.event);Be.focusInside===te.OnEnterOrSpaceMode&&Dn&&dn(Mt,Xt)&&z(Be).each(hn=>{hn(Mt,Be,je),Xt.stop()})},mt=[Xn(Ca(),(Mt,Xt)=>{re(Mt,Xt,p,Be,je).fold(()=>{st(Mt,Xt)},Dn=>{Xt.stop()})}),Xn(As(),(Mt,Xt)=>{re(Mt,Xt,E,Be,je).each(Dn=>{Xt.stop()})})];return bs(et.toArray().concat(mt))}};return Ee},Le=t=>{const a=[Ia("onEscape"),Ia("onEnter"),En("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),En("firstTabstop",0),En("useTabstopAt",j),Ia("visibilitySelector")].concat([t]),p=(hn,rn)=>{const kn=hn.visibilitySelector.bind(Vn=>Qf(rn,Vn)).getOr(rn);return Ls(kn)>0},E=(hn,rn)=>{const kn=Xi(hn.element,rn.selector),Vn=Ce(kn,hr=>p(rn,hr));return P.from(Vn[rn.firstTabstop])},z=(hn,rn)=>rn.focusManager.get(hn).bind(kn=>Qf(kn,rn.selector)),Y=(hn,rn)=>p(hn,rn)&&hn.useTabstopAt(rn),re=(hn,rn,kn)=>{E(hn,rn).each(Vn=>{rn.focusManager.set(hn,Vn)})},xe=(hn,rn,kn,Vn,hr)=>hr(rn,kn,Yn=>Y(Vn,Yn)).fold(()=>Vn.cyclic?P.some(!0):P.none(),Yn=>(Vn.focusManager.set(hn,Yn),P.some(!0))),Ee=(hn,rn,kn,Vn)=>{const hr=Xi(hn.element,kn.selector);return z(hn,kn).bind(Yn=>Oe(hr,M(Qt,Yn)).bind(Mr=>xe(hn,hr,Mr,kn,Vn)))},Be=(hn,rn,kn)=>{const Vn=kn.cyclic?bC:S_;return Ee(hn,rn,kn,Vn)},je=(hn,rn,kn)=>{const Vn=kn.cyclic?xC:T_;return Ee(hn,rn,kn,Vn)},et=hn=>Hr(hn).bind(So).exists(rn=>Qt(rn,hn)),st=(hn,rn,kn)=>z(hn,kn).filter(Vn=>!kn.useTabstopAt(Vn)).bind(Vn=>(et(Vn)?Be:je)(hn,rn,kn)),mt=(hn,rn,kn)=>kn.onEnter.bind(Vn=>Vn(hn,rn)),Mt=(hn,rn,kn)=>kn.onEscape.bind(Vn=>Vn(hn,rn)),Xt=O([_a(Ru([Zm,ya(Uh)]),Be),_a(ya(Uh),je),_a(Ru([Hv,ya(zd)]),mt)]),Dn=O([_a(ya(dx),Mt),_a(ya(Uh),st)]);return me(a,wf.init,Xt,Dn,()=>P.some(re))};var Ue=Le(zs("cyclic",H)),nt=Le(zs("cyclic",j));const xt=(t,a,p)=>(lb(t,p,Ci()),P.some(!0)),Lt=(t,a,p)=>op(p)&&ya(_u)(a.event)?P.none():xt(t,a,p),Jt=(t,a)=>P.some(!0),Tn=[En("execute",Lt),En("useSpace",!1),En("useEnter",!0),En("useControlEnter",!1),En("useDown",!1)],sr=(t,a,p)=>p.execute(t,a,t.element),Dr=(t,a,p,E)=>{const z=p.useSpace&&!op(t.element)?_u:[],Y=p.useEnter?zd:[],re=p.useDown?K1:[],xe=z.concat(Y).concat(re);return[_a(ya(xe),sr)].concat(p.useControlEnter?[_a(Ru([k_,ya(zd)]),sr)]:[])},Rr=(t,a,p,E)=>p.useSpace&&!op(t.element)?[_a(ya(_u),Jt)]:[];var Jn=me(Tn,wf.init,Dr,Rr,()=>P.none());const Or=()=>{const t=ia();return Qc({readState:()=>t.get().map(z=>({numRows:String(z.numRows),numColumns:String(z.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(z,Y)=>{t.set({numRows:z,numColumns:Y})},getNumRows:()=>t.get().map(z=>z.numRows),getNumColumns:()=>t.get().map(z=>z.numColumns)})};var oo=Object.freeze({__proto__:null,flatgrid:Or,init:t=>t.state(t)});const Ro=t=>(a,p,E,z)=>{const Y=t(a.element);return si(Y,a,p,E,z)},Qo=(t,a)=>{const p=Nb(t,a);return Ro(p)},_s=(t,a)=>{const p=Nb(a,t);return Ro(p)},Ji=t=>(a,p,E,z)=>si(t,a,p,E,z),si=(t,a,p,E,z)=>E.focusManager.get(a).bind(re=>t(a.element,re,E,z)).map(re=>(E.focusManager.set(a,re),!0)),Bc=Ji,ap=Ji,sp=Ji,CC=t=>t.offsetWidth<=0&&t.offsetHeight<=0,mx=t=>!CC(t.dom),ls=(t,a)=>Oe(t,a).map(p=>({index:p,candidates:t})),lc=(t,a,p)=>{const E=re=>Qt(re,a),z=Xi(t,p),Y=Ce(z,mx);return ls(Y,E)},_l=(t,a)=>Oe(t,p=>Qt(a,p)),Lu=(t,a,p,E)=>{const z=Math.floor(a/p),Y=a%p;return E(z,Y).bind(re=>{const xe=re.row*p+re.column;return xe>=0&&xe<t.length?P.some(t[xe]):P.none()})},au=(t,a,p,E,z)=>Lu(t,a,E,(Y,re)=>{const Ee=Y===p-1?t.length-Y*E:E,Be=uv(re,z,0,Ee-1);return P.some({row:Y,column:Be})}),jm=(t,a,p,E,z)=>Lu(t,a,E,(Y,re)=>{const xe=uv(Y,z,0,p-1),Be=xe===p-1?t.length-xe*E:E,je=ku(re,0,Be-1);return P.some({row:xe,column:je})}),Tc=(t,a,p,E)=>au(t,a,p,E,1),SC=(t,a,p,E)=>au(t,a,p,E,-1),X1=(t,a,p,E)=>jm(t,a,p,E,-1),Vd=(t,a,p,E)=>jm(t,a,p,E,1),Hl=[qn("selector"),En("execute",Lt),ru("onEscape"),En("captureTab",!1),lw()],J1=(t,a,p)=>{mi(t.element,a.selector).each(E=>{a.focusManager.set(t,E)})},ik=(t,a)=>a.focusManager.get(t).bind(p=>Qf(p,a.selector)),lk=(t,a,p,E)=>ik(t,p).bind(z=>p.execute(t,a,z)),zv=t=>(a,p,E,z)=>lc(a,p,E.selector).bind(Y=>t(Y.candidates,Y.index,z.getNumRows().getOr(E.initSize.numRows),z.getNumColumns().getOr(E.initSize.numColumns))),ck=(t,a,p)=>p.captureTab?P.some(!0):P.none(),gx=(t,a,p)=>p.onEscape(t,a),uk=zv(SC),ip=zv(Tc),p$=zv(X1),pH=zv(Vd),vH=O([_a(ya(hx),Qo(uk,ip)),_a(ya(Bv),_s(uk,ip)),_a(ya(Wh),Bc(p$)),_a(ya(K1),ap(pH)),_a(Ru([Zm,ya(Uh)]),ck),_a(Ru([Hv,ya(Uh)]),ck),_a(ya(_u.concat(zd)),lk)]),yH=O([_a(ya(dx),gx),_a(ya(_u),Jt)]);var bH=me(Hl,Or,vH,yH,()=>P.some(J1));const v$=(t,a,p,E,z)=>{const Y=xe=>vo(xe)==="button"&&Ka(xe,"disabled")==="disabled",re=(xe,Ee,Be)=>z(xe,Ee,E,0,Be.length-1,Be[Ee],je=>Y(Be[je])?re(xe,je,Be):P.from(Be[je]));return lc(t,p,a).bind(xe=>{const Ee=xe.index,Be=xe.candidates;return re(Ee,Ee,Be)})},y$=(t,a,p,E)=>v$(t,a,p,E,(z,Y,re,xe,Ee,Be,je)=>{const et=ku(Y+re,xe,Ee);return et===z?P.from(Be):je(et)}),px=(t,a,p,E)=>v$(t,a,p,E,(z,Y,re,xe,Ee,Be,je)=>{const et=uv(Y,re,xe,Ee);return et===z?P.none():je(et)}),M_=[qn("selector"),En("getInitial",P.none),En("execute",Lt),ru("onEscape"),En("executeOnMove",!1),En("allowVertical",!0),En("allowHorizontal",!0),En("cycles",!0)],xH=(t,a)=>a.focusManager.get(t).bind(p=>Qf(p,a.selector)),b$=(t,a,p)=>xH(t,p).bind(E=>p.execute(t,a,E)),x$=(t,a,p)=>{a.getInitial(t).orThunk(()=>mi(t.element,a.selector)).each(E=>{a.focusManager.set(t,E)})},w$=(t,a,p)=>(p.cycles?px:y$)(t,p.selector,a,-1),C$=(t,a,p)=>(p.cycles?px:y$)(t,p.selector,a,1),Ef=t=>(a,p,E,z)=>t(a,p,E,z).bind(()=>E.executeOnMove?b$(a,p,E):P.some(!0)),wH=(t,a,p)=>p.onEscape(t,a),CH=(t,a,p,E)=>{const z=[...p.allowHorizontal?hx:[]].concat(p.allowVertical?Wh:[]),Y=[...p.allowHorizontal?Bv:[]].concat(p.allowVertical?K1:[]);return[_a(ya(z),Ef(Qo(w$,C$))),_a(ya(Y),Ef(_s(w$,C$))),_a(ya(zd),b$),_a(ya(_u),b$)]},SH=O([_a(ya(_u),Jt),_a(ya(dx),wH)]);var TH=me(M_,wf.init,CH,SH,()=>P.some(x$));const fk=(t,a,p)=>P.from(t[a]).bind(E=>P.from(E[p]).map(z=>({rowIndex:a,columnIndex:p,cell:z}))),Q1=(t,a,p,E)=>{const Y=t[a].length,re=uv(p,E,0,Y-1);return fk(t,a,re)},dk=(t,a,p,E)=>{const z=uv(p,E,0,t.length-1),Y=t[z].length,re=ku(a,0,Y-1);return fk(t,z,re)},S$=(t,a,p,E)=>{const Y=t[a].length,re=ku(p+E,0,Y-1);return fk(t,a,re)},hk=(t,a,p,E)=>{const z=ku(p+E,0,t.length-1),Y=t[z].length,re=ku(a,0,Y-1);return fk(t,z,re)},mk=(t,a,p)=>Q1(t,a,p,1),E_=(t,a,p)=>Q1(t,a,p,-1),kH=(t,a,p)=>dk(t,p,a,-1),AH=(t,a,p)=>dk(t,p,a,1),MH=(t,a,p)=>S$(t,a,p,-1),EH=(t,a,p)=>S$(t,a,p,1),_H=(t,a,p)=>hk(t,p,a,-1),RH=(t,a,p)=>hk(t,p,a,1),T$=[Dc("selectors",[qn("row"),qn("cell")]),En("cycles",!0),En("previousSelector",P.none),En("execute",Lt)],__=(t,a,p)=>{a.previousSelector(t).orThunk(()=>{const z=a.selectors;return mi(t.element,z.cell)}).each(z=>{a.focusManager.set(t,z)})},LH=(t,a,p)=>Sf(t.element).bind(E=>p.execute(t,a,E)),DH=(t,a)=>ne(t,p=>Xi(p,a.selectors.cell)),gk=(t,a)=>(p,E,z)=>{const Y=z.cycles?t:a;return Qf(E,z.selectors.row).bind(re=>{const xe=Xi(re,z.selectors.cell);return _l(xe,E).bind(Ee=>{const Be=Xi(p,z.selectors.row);return _l(Be,re).bind(je=>{const et=DH(Be,z);return Y(et,je,Ee).map(st=>st.cell)})})})},k$=gk(E_,MH),Vv=gk(mk,EH),A$=gk(kH,_H),$H=gk(AH,RH),R_=O([_a(ya(hx),Qo(k$,Vv)),_a(ya(Bv),_s(k$,Vv)),_a(ya(Wh),Bc(A$)),_a(ya(K1),ap($H)),_a(ya(_u.concat(zd)),LH)]),OH=O([_a(ya(_u),Jt)]);var M$=me(T$,wf.init,R_,OH,()=>P.some(__));const E$=[qn("selector"),En("execute",Lt),En("moveOnTab",!1)],L_=(t,a,p)=>p.focusManager.get(t).bind(E=>p.execute(t,a,E)),_$=(t,a,p)=>{mi(t.element,a.selector).each(E=>{a.focusManager.set(t,E)})},D_=(t,a,p)=>px(t,p.selector,a,-1),R$=(t,a,p)=>px(t,p.selector,a,1),PH=(t,a,p,E)=>p.moveOnTab?sp(D_)(t,a,p,E):P.none(),IH=(t,a,p,E)=>p.moveOnTab?sp(R$)(t,a,p,E):P.none(),$_=O([_a(ya(Wh),sp(D_)),_a(ya(K1),sp(R$)),_a(Ru([Zm,ya(Uh)]),PH),_a(Ru([Hv,ya(Uh)]),IH),_a(ya(zd),L_),_a(ya(_u),L_)]),NH=O([_a(ya(_u),Jt)]);var FH=me(E$,wf.init,$_,NH,()=>P.some(_$));const BH=[ru("onSpace"),ru("onEnter"),ru("onShiftEnter"),ru("onLeft"),ru("onRight"),ru("onTab"),ru("onShiftTab"),ru("onUp"),ru("onDown"),ru("onEscape"),En("stopSpaceKeyup",!1),Ia("focusIn")],HH=(t,a,p)=>[_a(ya(_u),p.onSpace),_a(Ru([Hv,ya(zd)]),p.onEnter),_a(Ru([Zm,ya(zd)]),p.onShiftEnter),_a(Ru([Zm,ya(Uh)]),p.onShiftTab),_a(Ru([Hv,ya(Uh)]),p.onTab),_a(ya(Wh),p.onUp),_a(ya(K1),p.onDown),_a(ya(hx),p.onLeft),_a(ya(Bv),p.onRight),_a(ya(_u),p.onSpace)],L$=(t,a,p)=>[...p.stopSpaceKeyup?[_a(ya(_u),Jt)]:[],_a(ya(dx),p.onEscape)];var zH=me(BH,wf.init,HH,L$,t=>t.focusIn);const VH=Ue.schema(),UH=nt.schema(),D$=TH.schema(),WH=bH.schema(),GH=M$.schema(),$$=Jn.schema(),ZH=FH.schema(),jH=zH.schema();var pk=Object.freeze({__proto__:null,acyclic:VH,cyclic:UH,flow:D$,flatgrid:WH,matrix:GH,execution:$$,menu:ZH,special:jH});const YH=t=>_n(t,"setGridSize"),po=Ob({branchKey:"mode",branches:pk,name:"keying",active:{events:(t,a)=>t.handler.toEvents(t,a)},apis:{focusIn:(t,a,p)=>{a.sendFocusIn(a).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},E=>{E(t,a,p)})},setGridSize:(t,a,p,E,z)=>{YH(p)?p.setGridSize(E,z):console.error("Layout does not support setGridSize")}},state:oo}),Hc=(t,a)=>{Ur(()=>{j4(t,a,()=>ne(a,t.getSystem().build))},t.element)},O$=(t,a)=>{Ur(()=>{Y4(t,a,()=>r$(t.element,a,t.getSystem().buildOrPatch))},t.element)},P$=(t,a,p,E)=>{Mv(a);const z=U3(t.element,p,E,t.getSystem().buildOrPatch);Jw(t,z),t.syncComponents()},vk=(t,a,p)=>{const E=t.getSystem().build(p);Ev(t,E,a)},KH=(t,a,p,E)=>{Bd(a),vk(t,(z,Y)=>zi(z,Y,p),E)},I$=(t,a,p,E)=>(a.reuseDom?O$:Hc)(t,E),N$=(t,a,p,E)=>{vk(t,pc,E)},XH=(t,a,p,E)=>{vk(t,F0,E)},JH=(t,a,p,E)=>{const z=yk(t);Ve(z,re=>Qt(E.element,re.element)).each(Bd)},yk=(t,a)=>t.components(),F$=(t,a,p,E,z)=>{const Y=yk(t);return P.from(Y[E]).map(re=>(z.fold(()=>Bd(re),xe=>{(a.reuseDom?P$:KH)(t,re,E,xe)}),re))};var qH=Object.freeze({__proto__:null,append:N$,prepend:XH,remove:JH,replaceAt:F$,replaceBy:(t,a,p,E,z)=>{const Y=yk(t);return Oe(Y,E).bind(re=>F$(t,a,p,re,z))},set:I$,contents:yk});const Ho=Ki({fields:[Li("reuseDom",!0)],name:"replacing",apis:qH}),B$=(t,a)=>{const p=bs(a);return Ki({fields:[qn("enabled")],name:t,active:{events:O(p)}})},jo=(t,a)=>{const p=B$(t,a);return{key:t,value:{config:{},me:p,configAsRaw:O({}),initialConfig:{},state:wf}}},O_=(t,a)=>{a.ignore||(Ic(t.element),a.onFocus(t))};var ez=Object.freeze({__proto__:null,focus:O_,blur:(t,a)=>{a.ignore||hv(t.element)},isFocused:t=>p1(t.element)}),H$=Object.freeze({__proto__:null,exhibit:(t,a)=>{const p=a.ignore?{}:{attributes:{tabindex:"-1"}};return qc(p)},events:t=>bs([Xn(qu(),(a,p)=>{O_(a,t),p.stop()})].concat(t.stopMousedown?[Xn(fo(),(a,p)=>{p.event.prevent()})]:[]))}),Uv=[Sa("onFocus"),En("stopMousedown",!1),En("ignore",!1)];const ko=Ki({fields:Uv,name:"focusing",active:H$,apis:ez}),z$=t=>({init:()=>{const p=q(t);return{get:()=>p.get(),set:xe=>p.set(xe),clear:()=>p.set(t),readState:()=>p.get()}}}),P_=(t,a,p)=>{const E=a.aria;E.update(t,E,p.get())},nz=(t,a,p)=>{a.toggleClass.each(E=>{p.get()?hi(t.element,E):Is(t.element,E)})},TC=(t,a,p,E)=>{const z=p.get();p.set(E),nz(t,a,p),P_(t,a,p),z!==E&&a.onToggled(t,E)},V$=(t,a,p)=>{TC(t,a,p,!p.get())},rz=(t,a,p)=>{TC(t,a,p,!0)},U$=(t,a,p)=>{TC(t,a,p,!1)},I_=(t,a,p)=>p.get(),bk=(t,a,p)=>{TC(t,a,p,a.selected)};var oz=Object.freeze({__proto__:null,onLoad:bk,toggle:V$,isOn:I_,on:rz,off:U$,set:TC}),W$=Object.freeze({__proto__:null,exhibit:()=>qc({}),events:(t,a)=>{const p=dv(t,a,V$),E=$b(t,a,bk);return bs(Fe([t.toggleOnExecute?[p]:[],[E]]))}});const sz=(t,a,p)=>{Lr(t.element,"aria-pressed",p),a.syncWithExpanded&&vx(t,a,p)},iz=(t,a,p)=>{Lr(t.element,"aria-selected",p)},kC=(t,a,p)=>{Lr(t.element,"aria-checked",p)},vx=(t,a,p)=>{Lr(t.element,"aria-expanded",p)};var G$=[En("selected",!1),Ia("toggleClass"),En("toggleOnExecute",!0),Sa("onToggled"),ql("aria",{mode:"none"},fa("mode",{pressed:[En("syncWithExpanded",!1),rs("update",sz)],checked:[rs("update",kC)],expanded:[rs("update",vx)],selected:[rs("update",iz)],none:[rs("update",C)]}))];const qo=Ki({fields:G$,name:"toggling",active:W$,apis:oz,state:z$(!1)}),lp=()=>{const t=(a,p)=>{p.stop(),kh(a)};return[Xn(xi(),t),Xn(nc(),t),Ah(eo()),Ah(fo())]},Gh=t=>{const a=p=>xf((E,z)=>{p(E),z.stop()});return bs(Fe([t.map(a).toArray(),lp()]))},Z$="alloy.item-hover",j$="alloy.item-focus",N_="alloy.item-toggled",Ym=t=>{(Sf(t.element).isNone()||ko.isFocused(t))&&(ko.isFocused(t)||ko.focus(t),go(t,Z$,{item:t}))},xk=t=>{go(t,j$,{item:t})},lz=(t,a)=>{go(t,N_,{item:t,state:a})},F_=O(Z$),Y$=O(j$),K$=O(N_),B_=t=>t.toggling.map(a=>a.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),X$=t=>({aria:{mode:"checked"},...Ct(t,(a,p)=>p!=="exclusive"),onToggled:(a,p)=>{g(t.onToggled)&&t.onToggled(a,p),lz(a,p)}}),cz=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:B_(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:nf.augment(t.itemBehaviours,[t.toggling.fold(qo.revoke,a=>qo.config(X$(a))),ko.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:a=>{xk(a)}}),po.config({mode:"execution"}),Fr.config({store:{mode:"memory",initialValue:t.data}}),jo("item-type-events",[...lp(),Xn($r(),Ym),Xn(Za(),ko.focus)])]),components:t.components,eventOrder:t.eventOrder}),uz=[qn("data"),qn("components"),qn("dom"),En("hasSubmenu",!1),Ia("toggling"),nf.field("itemBehaviours",[qo,ko,po,Fr]),En("ignoreFocus",!1),En("domModification",{}),rs("builder",cz),En("eventOrder",{})],fz=t=>({dom:t.dom,components:t.components,events:bs([VE(Za())])}),wk=[qn("dom"),qn("components"),rs("builder",fz)],AC=O("item-widget"),MC=O([Fl({name:"widget",overrides:t=>({behaviours:gr([Fr.config({store:{mode:"manual",getValue:a=>t.data,setValue:C}})])})})]),dz=t=>{const a=lC(AC(),t,MC()),p=lx(AC(),t,a.internals()),E=Y=>gs(Y,t,"widget").map(re=>(po.focusIn(re),re)),z=(Y,re)=>op(re.event.target)?P.none():(()=>(t.autofocus&&re.setSource(Y.element),P.none()))();return{dom:t.dom,components:p,domModification:t.domModification,events:bs([xf((Y,re)=>{E(Y).each(xe=>{re.stop()})}),Xn($r(),Ym),Xn(Za(),(Y,re)=>{t.autofocus?E(Y):ko.focus(Y)})]),behaviours:nf.augment(t.widgetBehaviours,[Fr.config({store:{mode:"memory",initialValue:t.data}}),ko.config({ignore:t.ignoreFocus,onFocus:Y=>{xk(Y)}}),po.config({mode:"special",focusIn:t.autofocus?Y=>{E(Y)}:xw(),onLeft:z,onRight:z,onEscape:(Y,re)=>!ko.isFocused(Y)&&!t.autofocus?(ko.focus(Y),P.some(!0)):(t.autofocus&&re.setSource(Y.element),P.none())})])}},hz=[qn("uid"),qn("data"),qn("components"),qn("dom"),En("autofocus",!1),En("ignoreFocus",!1),nf.field("widgetBehaviours",[Fr,ko,po]),En("domModification",{}),dC(MC()),rs("builder",dz)],J$=fa("type",{widget:hz,item:uz,separator:wk}),Q$=(t,a)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:a.initSize.numColumns,numRows:a.initSize.numRows},focusManager:t.focusManager}),q$=(t,a)=>({mode:"matrix",selectors:{row:a.rowSelector,cell:"."+t.markers.item},previousSelector:a.previousSelector,focusManager:t.focusManager}),e8=(t,a)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:a.moveOnTab,focusManager:t.focusManager}),mz=O([V1({factory:{sketch:t=>{const a=ul("menu.spec item",J$,t);return a.builder(a)}},name:"items",unit:"item",defaults:(t,a)=>pn(a,"uid")?a:{...a,uid:jp("item")},overrides:(t,a)=>({type:a.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),H_=O([qn("value"),qn("items"),qn("dom"),qn("components"),En("eventOrder",{}),Fi("menuBehaviours",[Na,Fr,da,po]),ql("movement",{mode:"menu",moveOnTab:!0},fa("mode",{grid:[lw(),rs("config",Q$)],matrix:[rs("config",q$),qn("rowSelector"),En("previousSelector",P.none)],menu:[En("moveOnTab",!0),rs("config",e8)]})),o4(),En("fakeFocus",!1),En("focusManager",I()),Sa("onHighlight"),Sa("onDehighlight")]),t8=O("alloy.menu-focus"),gz=(t,a)=>{const p=Xi(t.element,'[role="menuitemradio"][aria-checked="true"]');fe(p,E=>{Qt(E,a.element)||t.getSystem().getByDom(E).each(z=>{qo.off(z)})})},pz=(t,a,p,E)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Si(t.menuBehaviours,[Na.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),Fr.config({store:{mode:"memory",initialValue:t.value}}),da.config({find:P.some}),po.config(t.movement.config(t,t.movement))]),events:bs([Xn(Y$(),(z,Y)=>{const re=Y.event;z.getSystem().getByDom(re.target).each(xe=>{Na.highlight(z,xe),Y.stop(),go(z,t8(),{menu:z,item:xe})})}),Xn(F_(),(z,Y)=>{const re=Y.event.item;Na.highlight(z,re)}),Xn(K$(),(z,Y)=>{const{item:re,state:xe}=Y.event;xe&&Ka(re.element,"role")==="menuitemradio"&&gz(z,re)})]),components:a,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}),ey=Bl({name:"Menu",configFields:H_(),partFields:mz(),factory:pz}),n8=t=>qe(t,(a,p)=>({k:a,v:p})),r8=(t,a,p,E)=>Ft(p,E).bind(z=>Ft(t,z).bind(Y=>{const re=r8(t,a,p,Y);return P.some([Y].concat(re))})).getOr([]),vz=(t,a)=>{const p={};Ge(t,(re,xe)=>{fe(re,Ee=>{p[Ee]=xe})});const E=a,z=n8(a),Y=Xe(z,(re,xe)=>[xe].concat(r8(p,E,z,xe)));return Xe(p,re=>Ft(Y,re).getOr([re]))},o8=()=>{const t=q({}),a=q({}),p=q({}),E=ia(),z=q({}),Y=()=>{t.set({}),a.set({}),p.set({}),E.clear()},re=()=>E.get().isNone(),xe=(hr,Yn)=>{a.set({...a.get(),[hr]:{type:"prepared",menu:Yn}})},Ee=(hr,Yn,br,Mr)=>{E.set(hr),t.set(br),a.set(Yn),z.set(Mr);const ea=vz(Mr,br);p.set(ea)},Be=hr=>Yt(t.get(),(Yn,br)=>Yn===hr),je=(hr,Yn,br)=>Xt(hr).bind(Mr=>Be(hr).bind(ea=>Yn(ea).map(Zr=>({triggeredMenu:Mr,triggeringItem:Zr,triggeringPath:br})))),et=(hr,Yn)=>{const br=Ce(hn(hr).toArray(),Mr=>Xt(Mr).isSome());return Ft(p.get(),hr).bind(Mr=>{const ea=se(br.concat(Mr)),Zr=ie(ea,(Do,Mo)=>je(Do,Yn,ea.slice(0,Mo+1)).fold(()=>sn(E.get(),Do)?[]:[P.none()],ja=>[P.some(ja)]));return Cn(Zr)})},st=hr=>Ft(t.get(),hr).map(Yn=>{const br=Ft(p.get(),hr).getOr([]);return[Yn].concat(br)}),mt=hr=>Ft(p.get(),hr).bind(Yn=>Yn.length>1?P.some(Yn.slice(1)):P.none()),Mt=hr=>Ft(p.get(),hr),Xt=hr=>Dn(hr).bind(yx),Dn=hr=>Ft(a.get(),hr),hn=hr=>Ft(t.get(),hr);return{setMenuBuilt:xe,setContents:Ee,expand:st,refresh:Mt,collapse:mt,lookupMenu:Dn,lookupItem:hn,otherMenus:hr=>{const Yn=z.get();return ue(ot(Yn),hr)},getPrimary:()=>E.get().bind(Xt),getMenus:()=>a.get(),clear:Y,isClear:re,getTriggeringPath:et}},yx=t=>t.type==="prepared"?P.some(t.menu):P.none(),a8={init:o8,extractPreparedMenu:yx},bx=Xr("tiered-menu-item-highlight"),Ck=Xr("tiered-menu-item-dehighlight");var zc;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(zc||(zc={}));const s8=(t,a)=>{const p=ia(),E=(Ar,no,$o)=>Xe($o,(Po,wo)=>{const Vo=()=>ey.sketch({...Po,value:wo,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(ys,Ra)=>{go(ys,bx,{menuComp:ys,itemComp:Ra})},onDehighlight:(ys,Ra)=>{go(ys,Ck,{menuComp:ys,itemComp:Ra})},focusManager:t.fakeFocus?W():I()});return wo===no?{type:"prepared",menu:Ar.getSystem().build(Vo())}:{type:"notbuilt",nbMenu:Vo}}),z=a8.init(),Y=Ar=>{const no=E(Ar,t.data.primary,t.data.menus),$o=Ee();return z.setContents(t.data.primary,no,t.data.expansions,$o),z.getPrimary()},re=Ar=>Fr.getValue(Ar).value,xe=(Ar,no,$o)=>We(no,Po=>{if(!Po.getSystem().isConnected())return P.none();const wo=Na.getCandidates(Po);return Ve(wo,Vo=>re(Vo)===$o)}),Ee=Ar=>Xe(t.data.menus,(no,$o)=>ie(no.items,Po=>Po.type==="separator"?[]:[Po.data.value])),Be=Na.highlight,je=(Ar,no)=>{Be(Ar,no),Na.getHighlighted(no).orThunk(()=>Na.getFirst(no)).each($o=>{t.fakeFocus?Na.highlight(no,$o):lb(Ar,$o.element,Za())})},et=(Ar,no)=>an(ne(no,$o=>Ar.lookupMenu($o).bind(Po=>Po.type==="prepared"?P.some(Po.menu):P.none()))),st=(Ar,no,$o)=>{const Po=et(no,no.otherMenus($o));fe(Po,wo=>{Su(wo.element,[t.markers.backgroundMenu]),t.stayInDom||Ho.remove(Ar,wo)})},mt=Ar=>p.get().getOrThunk(()=>{const no={},$o=Xi(Ar.element,`.${t.markers.item}`),Po=Ce($o,wo=>Ka(wo,"aria-haspopup")==="true");return fe(Po,wo=>{Ar.getSystem().getByDom(wo).each(Vo=>{const ys=re(Vo);no[ys]=Vo})}),p.set(no),no}),Mt=(Ar,no)=>{const $o=mt(Ar);Ge($o,(Po,wo)=>{const Vo=he(no,wo);Lr(Po.element,"aria-expanded",Vo)})},Xt=(Ar,no,$o)=>P.from($o[0]).bind(Po=>no.lookupMenu(Po).bind(wo=>{if(wo.type==="notbuilt")return P.none();{const Vo=wo.menu,ys=et(no,$o.slice(1));return fe(ys,Ra=>{hi(Ra.element,t.markers.backgroundMenu)}),Wa(Vo.element)||Ho.append(Ar,Tu(Vo)),Su(Vo.element,[t.markers.backgroundMenu]),je(Ar,Vo),st(Ar,no,$o),P.some(Vo)}}));let Dn;(function(Ar){Ar[Ar.HighlightSubmenu=0]="HighlightSubmenu",Ar[Ar.HighlightParent=1]="HighlightParent"})(Dn||(Dn={}));const hn=(Ar,no,$o)=>{if($o.type==="notbuilt"){const Po=Ar.getSystem().build($o.nbMenu());return z.setMenuBuilt(no,Po),Po}else return $o.menu},rn=(Ar,no,$o=Dn.HighlightSubmenu)=>{if(no.hasConfigured(Co)&&Co.isDisabled(no))return P.some(no);{const Po=re(no);return z.expand(Po).bind(wo=>(Mt(Ar,wo),P.from(wo[0]).bind(Vo=>z.lookupMenu(Vo).bind(ys=>{const Ra=hn(Ar,Vo,ys);return Wa(Ra.element)||Ho.append(Ar,Tu(Ra)),t.onOpenSubmenu(Ar,no,Ra,se(wo)),$o===Dn.HighlightSubmenu?(Na.highlightFirst(Ra),Xt(Ar,z,wo)):(Na.dehighlightAll(Ra),P.some(no))}))))}},kn=(Ar,no)=>{const $o=re(no);return z.collapse($o).bind(Po=>(Mt(Ar,Po),Xt(Ar,z,Po).map(wo=>(t.onCollapseMenu(Ar,no,wo),wo))))},Vn=(Ar,no)=>{const $o=re(no);return z.refresh($o).bind(Po=>(Mt(Ar,Po),Xt(Ar,z,Po)))},hr=(Ar,no)=>op(no.element)?P.none():rn(Ar,no,Dn.HighlightSubmenu),Yn=(Ar,no)=>op(no.element)?P.none():kn(Ar,no),br=(Ar,no)=>kn(Ar,no).orThunk(()=>t.onEscape(Ar,no).map(()=>Ar)),Mr=Ar=>(no,$o)=>Qf($o.getSource(),`.${t.markers.item}`).bind(Po=>no.getSystem().getByDom(Po).toOptional().bind(wo=>Ar(no,wo).map(j))),ea=bs([Xn(t8(),(Ar,no)=>{const $o=no.event.item;z.lookupItem(re($o)).each(()=>{const Po=no.event.menu;Na.highlight(Ar,Po);const wo=re(no.event.item);z.refresh(wo).each(Vo=>st(Ar,z,Vo))})}),xf((Ar,no)=>{const $o=no.event.target;Ar.getSystem().getByDom($o).each(Po=>{re(Po).indexOf("collapse-item")===0&&kn(Ar,Po),rn(Ar,Po,Dn.HighlightSubmenu).fold(()=>{t.onExecute(Ar,Po)},C)})}),ms((Ar,no)=>{Y(Ar).each($o=>{Ho.append(Ar,Tu($o)),t.onOpenMenu(Ar,$o),t.highlightOnOpen===zc.HighlightMenuAndItem?je(Ar,$o):t.highlightOnOpen===zc.HighlightJustMenu&&Be(Ar,$o)})}),Xn(bx,(Ar,no)=>{t.onHighlightItem(Ar,no.event.menuComp,no.event.itemComp)}),Xn(Ck,(Ar,no)=>{t.onDehighlightItem(Ar,no.event.menuComp,no.event.itemComp)}),...t.navigateOnHover?[Xn(F_(),(Ar,no)=>{const $o=no.event.item;Vn(Ar,$o),rn(Ar,$o,Dn.HighlightParent),t.onHover(Ar,$o)})]:[]]),Zr=Ar=>Na.getHighlighted(Ar).bind(Na.getHighlighted),Do=Ar=>{Zr(Ar).each(no=>{kn(Ar,no)})},Mo=Ar=>{z.getPrimary().each(no=>{je(Ar,no)})},ja=Ar=>P.from(Ar.components()[0]).filter(no=>Ka(no.element,"role")==="menu"),Ea={collapseMenu:Do,highlightPrimary:Mo,repositionMenus:Ar=>{z.getPrimary().bind($o=>Zr(Ar).bind(Po=>{const wo=re(Po),Vo=Nt(z.getMenus()),ys=an(ne(Vo,a8.extractPreparedMenu));return z.getTriggeringPath(wo,Ra=>xe(Ar,ys,Ra))}).map(Po=>({primary:$o,triggeringPath:Po}))).fold(()=>{ja(Ar).each($o=>{t.onRepositionMenu(Ar,$o,[])})},({primary:$o,triggeringPath:Po})=>{t.onRepositionMenu(Ar,$o,Po)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Si(t.tmenuBehaviours,[po.config({mode:"special",onRight:Mr(hr),onLeft:Mr(Yn),onEscape:Mr(br),focusIn:(Ar,no)=>{z.getPrimary().each($o=>{lb(Ar,$o.element,Za())})}}),Na.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),da.config({find:Ar=>Na.getHighlighted(Ar)}),Ho.config({})]),eventOrder:t.eventOrder,apis:Ea,events:ea}},yz=O("collapse-item"),bz=(t,a,p)=>({primary:t,menus:a,expansions:p}),i8=(t,a)=>({primary:t,menus:yt(t,a),expansions:{}}),xz=t=>({value:Xr(yz()),meta:{text:t}}),Wv=ou({name:"TieredMenu",configFields:[iw("onExecute"),iw("onEscape"),qf("onOpenMenu"),qf("onOpenSubmenu"),Sa("onRepositionMenu"),Sa("onCollapseMenu"),En("highlightOnOpen",zc.HighlightMenuAndItem),Dc("data",[qn("primary"),qn("menus"),qn("expansions")]),En("fakeFocus",!1),Sa("onHighlightItem"),Sa("onDehighlightItem"),Sa("onHover"),c1(),qn("dom"),En("navigateOnHover",!0),En("stayInDom",!1),Fi("tmenuBehaviours",[po,Na,da,Ho]),En("eventOrder",{})],apis:{collapseMenu:(t,a)=>{t.collapseMenu(a)},highlightPrimary:(t,a)=>{t.highlightPrimary(a)},repositionMenus:(t,a)=>{t.repositionMenus(a)}},factory:s8,extraApis:{tieredData:bz,singleData:i8,collapseItem:xz}}),wz=(t,a,p,E,z)=>{const Y=()=>t.lazySink(a),re=E.type==="horizontal"?{layouts:{onLtr:()=>Db(),onRtl:()=>yw()}}:{},xe=Be=>Be.length===2,Ee=Be=>xe(Be)?re:{};return Wv.sketch({dom:{tag:"div"},data:E.data,markers:E.menu.markers,highlightOnOpen:E.menu.highlightOnOpen,fakeFocus:E.menu.fakeFocus,onEscape:()=>(va.close(a),t.onEscape.map(Be=>Be(a)),P.some(!0)),onExecute:()=>P.some(!0),onOpenMenu:(Be,je)=>{Nl.positionWithinBounds(Y().getOrDie(),je,p,z())},onOpenSubmenu:(Be,je,et,st)=>{const mt=Y().getOrDie();Nl.position(mt,et,{anchor:{type:"submenu",item:je,...Ee(st)}})},onRepositionMenu:(Be,je,et)=>{const st=Y().getOrDie();Nl.positionWithinBounds(st,je,p,z()),fe(et,mt=>{const Mt=Ee(mt.triggeringPath);Nl.position(st,mt.triggeredMenu,{anchor:{type:"submenu",item:mt.triggeringItem,...Mt}})})}})},Cz=(t,a)=>{const p=(st,mt)=>t.getRelated(st).exists(Xt=>Lh(Xt,mt)),E=(st,mt)=>{va.setContent(st,mt)},z=(st,mt,Mt)=>{const Xt=P.none;Y(st,mt,Mt,Xt)},Y=(st,mt,Mt,Xt)=>{const Dn=t.lazySink(st).getOrDie();va.openWhileCloaked(st,mt,()=>Nl.positionWithinBounds(Dn,st,Mt,Xt())),Fr.setValue(st,P.some({mode:"position",config:Mt,getBounds:Xt}))},re=(st,mt,Mt)=>{xe(st,mt,Mt,P.none)},xe=(st,mt,Mt,Xt)=>{const Dn=wz(t,st,mt,Mt,Xt);va.open(st,Dn),Fr.setValue(st,P.some({mode:"menu",menu:Dn}))},Ee=st=>{va.isOpen(st)&&(Fr.setValue(st,P.none()),va.close(st))},Be=st=>va.getState(st),je=st=>{va.isOpen(st)&&Fr.getValue(st).each(mt=>{switch(mt.mode){case"menu":va.getState(st).each(Wv.repositionMenus);break;case"position":const Mt=t.lazySink(st).getOrDie();Nl.positionWithinBounds(Mt,st,mt.config,mt.getBounds());break}})},et={setContent:E,showAt:z,showWithinBounds:Y,showMenuAt:re,showMenuWithinBounds:xe,hide:Ee,getContent:Be,reposition:je,isOpen:va.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Si(t.inlineBehaviours,[va.config({isPartOf:(st,mt,Mt)=>Lh(mt,Mt)||p(st,Mt),getAttachPoint:st=>t.lazySink(st).getOrDie(),onOpen:st=>{t.onShow(st)},onClose:st=>{t.onHide(st)}}),Fr.config({store:{mode:"memory",initialValue:P.none()}}),Pc.config({channels:{...$1({isExtraPart:a.isExtraPart,...t.fireDismissalEventInstead.map(st=>({fireEventInstead:{event:st.event}})).getOr({})}),...Rv({...t.fireRepositionEventInstead.map(st=>({fireEventInstead:{event:st.event}})).getOr({}),doReposition:je})}})]),eventOrder:t.eventOrder,apis:et}},Ws=ou({name:"InlineView",configFields:[qn("lazySink"),Sa("onShow"),Sa("onHide"),pf("onEscape"),Fi("inlineBehaviours",[va,Fr,Pc]),Ql("fireDismissalEventInstead",[En("event",Tm())]),Ql("fireRepositionEventInstead",[En("event",D3())]),En("getRelated",P.none),En("isExtraPart",H),En("eventOrder",P.none)],factory:Cz,apis:{showAt:(t,a,p,E)=>{t.showAt(a,p,E)},showWithinBounds:(t,a,p,E,z)=>{t.showWithinBounds(a,p,E,z)},showMenuAt:(t,a,p,E)=>{t.showMenuAt(a,p,E)},showMenuWithinBounds:(t,a,p,E,z)=>{t.showMenuWithinBounds(a,p,E,z)},hide:(t,a)=>{t.hide(a)},isOpen:(t,a)=>t.isOpen(a),getContent:(t,a)=>t.getContent(a),setContent:(t,a,p)=>{t.setContent(a,p)},reposition:(t,a)=>{t.reposition(a)}}});var ty=tinymce.util.Tools.resolve("tinymce.util.Delay");const hl=ou({name:"Button",factory:t=>{const a=Gh(t.action),p=t.dom.tag,E=Y=>Ft(t.dom,"attributes").bind(re=>Ft(re,Y)),z=()=>{if(p==="button"){const Y=E("type").getOr("button"),re=E("role").map(xe=>({role:xe})).getOr({});return{type:Y,...re}}else return{role:t.role.getOr(E("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:a,behaviours:nf.augment(t.buttonBehaviours,[ko.config({}),po.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:z()},eventOrder:t.eventOrder}},configFields:[En("uid",void 0),qn("dom"),En("components",[]),nf.field("buttonBehaviours",[ko,po]),Ia("action"),Ia("role"),En("eventOrder",{})]}),Sz=t=>{const a=t.dom.attributes!==void 0?t.dom.attributes:[];return ke(a,(p,E)=>E.name==="class"?p:{...p,[E.name]:E.value},{})},Tz=t=>Array.prototype.slice.call(t.dom.classList,0),cp=t=>{const a=zt.fromHtml(t),p=Kr(a),E=Sz(a),z=Tz(a),Y=p.length===0?{}:{innerHtml:Y2(a)};return{tag:vo(a),classes:z,attributes:E,...Y}},Qa=t=>{const a=l_(t)&&_n(t,"uid")?t.uid:jp("memento");return{get:Y=>Y.getSystem().getByUid(a).getOrDie(),getOpt:Y=>Y.getSystem().getByUid(a).toOptional(),asSpec:()=>({...t,uid:a})}},{entries:z_,setPrototypeOf:V_,isFrozen:kz,getPrototypeOf:Az,getOwnPropertyDescriptor:Mz}=Object;let{freeze:of,seal:Zh,create:Ez}=Object,{apply:Sk,construct:U_}=typeof Reflect<"u"&&Reflect;Sk||(Sk=function(a,p,E){return a.apply(p,E)}),of||(of=function(a){return a}),Zh||(Zh=function(a){return a}),U_||(U_=function(a,p){return new a(...p)});const _z=Wd(Array.prototype.forEach),Rz=Wd(Array.prototype.pop),EC=Wd(Array.prototype.push),Tk=Wd(String.prototype.toLowerCase),up=Wd(String.prototype.toString),Lz=Wd(String.prototype.match),jh=Wd(String.prototype.replace),ny=Wd(String.prototype.indexOf),c8=Wd(String.prototype.trim),sd=Wd(RegExp.prototype.test),Ud=Dz(TypeError);function Wd(t){return function(a){for(var p=arguments.length,E=new Array(p>1?p-1:0),z=1;z<p;z++)E[z-1]=arguments[z];return Sk(t,a,E)}}function Dz(t){return function(){for(var a=arguments.length,p=new Array(a),E=0;E<a;E++)p[E]=arguments[E];return U_(t,p)}}function Ta(t,a,p){var E;p=(E=p)!==null&&E!==void 0?E:Tk,V_&&V_(t,null);let z=a.length;for(;z--;){let Y=a[z];if(typeof Y=="string"){const re=p(Y);re!==Y&&(kz(a)||(a[z]=re),Y=re)}t[Y]=!0}return t}function ry(t){const a=Ez(null);for(const[p,E]of z_(t))a[p]=E;return a}function _C(t,a){for(;t!==null;){const E=Mz(t,a);if(E){if(E.get)return Wd(E.get);if(typeof E.value=="function")return Wd(E.value)}t=Az(t)}function p(E){return console.warn("fallback value for",E),null}return p}const W_=of(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),G_=of(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),RC=of(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$z=of(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Z_=of(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Oz=of(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),LC=of(["#text"]),kk=of(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ak=of(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),j_=of(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),DC=of(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Pz=Zh(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Iz=Zh(/<%[\w\W]*|[\w\W]*%>/gm),u8=Zh(/\${[\w\W]*}/gm),Nz=Zh(/^data-[\-\w.\u00B7-\uFFFF]/),Y_=Zh(/^aria-[\-\w]+$/),K_=Zh(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Fz=Zh(/^(?:\w+script|data):/i),Bz=Zh(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),f8=Zh(/^html$/i);var Mk=Object.freeze({__proto__:null,MUSTACHE_EXPR:Pz,ERB_EXPR:Iz,TMPLIT_EXPR:u8,DATA_ATTR:Nz,ARIA_ATTR:Y_,IS_ALLOWED_URI:K_,IS_SCRIPT_OR_DATA:Fz,ATTR_WHITESPACE:Bz,DOCTYPE_NAME:f8});const Hz=()=>typeof window>"u"?null:window,$C=function(a,p){if(typeof a!="object"||typeof a.createPolicy!="function")return null;let E=null;const z="data-tt-policy-suffix";p&&p.hasAttribute(z)&&(E=p.getAttribute(z));const Y="dompurify"+(E?"#"+E:"");try{return a.createPolicy(Y,{createHTML(re){return re},createScriptURL(re){return re}})}catch{return console.warn("TrustedTypes policy "+Y+" could not be created."),null}};function OC(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Hz();const a=ma=>OC(ma);if(a.version="3.0.5",a.removed=[],!t||!t.document||t.document.nodeType!==9)return a.isSupported=!1,a;const p=t.document,E=p.currentScript;let{document:z}=t;const{DocumentFragment:Y,HTMLTemplateElement:re,Node:xe,Element:Ee,NodeFilter:Be,NamedNodeMap:je=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:et,DOMParser:st,trustedTypes:mt}=t,Mt=Ee.prototype,Xt=_C(Mt,"cloneNode"),Dn=_C(Mt,"nextSibling"),hn=_C(Mt,"childNodes"),rn=_C(Mt,"parentNode");if(typeof re=="function"){const ma=z.createElement("template");ma.content&&ma.content.ownerDocument&&(z=ma.content.ownerDocument)}let kn,Vn="";const{implementation:hr,createNodeIterator:Yn,createDocumentFragment:br,getElementsByTagName:Mr}=z,{importNode:ea}=p;let Zr={};a.isSupported=typeof z_=="function"&&typeof rn=="function"&&hr&&hr.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Do,ERB_EXPR:Mo,TMPLIT_EXPR:ja,DATA_ATTR:xo,ARIA_ATTR:Ea,IS_SCRIPT_OR_DATA:Ar,ATTR_WHITESPACE:no}=Mk;let{IS_ALLOWED_URI:$o}=Mk,Po=null;const wo=Ta({},[...W_,...G_,...RC,...Z_,...LC]);let Vo=null;const ys=Ta({},[...kk,...Ak,...j_,...DC]);let Ra=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Rl=null,Fu=null,yd=!0,ah=!0,p0=!1,Ly=!0,nm=!1,wp=!1,t3=!1,h6=!1,y2=!1,sE=!1,IF=!1,xte=!0,wte=!1;const Bie="user-content-";let kJ=!0,m6=!1,iE={},lE=null;const Cte=Ta({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ste=null;const Tte=Ta({},["audio","video","img","source","image","track"]);let AJ=null;const kte=Ta({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),NF="http://www.w3.org/1998/Math/MathML",FF="http://www.w3.org/2000/svg",Dy="http://www.w3.org/1999/xhtml";let cE=Dy,MJ=!1,EJ=null;const Hie=Ta({},[NF,FF,Dy],up);let n3;const zie=["application/xhtml+xml","text/html"],Vie="text/html";let Bu,uE=null;const Uie=z.createElement("form"),Ate=function(Hn){return Hn instanceof RegExp||Hn instanceof Function},_J=function(Hn){if(!(uE&&uE===Hn)){if((!Hn||typeof Hn!="object")&&(Hn={}),Hn=ry(Hn),n3=zie.indexOf(Hn.PARSER_MEDIA_TYPE)===-1?n3=Vie:n3=Hn.PARSER_MEDIA_TYPE,Bu=n3==="application/xhtml+xml"?up:Tk,Po="ALLOWED_TAGS"in Hn?Ta({},Hn.ALLOWED_TAGS,Bu):wo,Vo="ALLOWED_ATTR"in Hn?Ta({},Hn.ALLOWED_ATTR,Bu):ys,EJ="ALLOWED_NAMESPACES"in Hn?Ta({},Hn.ALLOWED_NAMESPACES,up):Hie,AJ="ADD_URI_SAFE_ATTR"in Hn?Ta(ry(kte),Hn.ADD_URI_SAFE_ATTR,Bu):kte,Ste="ADD_DATA_URI_TAGS"in Hn?Ta(ry(Tte),Hn.ADD_DATA_URI_TAGS,Bu):Tte,lE="FORBID_CONTENTS"in Hn?Ta({},Hn.FORBID_CONTENTS,Bu):Cte,Rl="FORBID_TAGS"in Hn?Ta({},Hn.FORBID_TAGS,Bu):{},Fu="FORBID_ATTR"in Hn?Ta({},Hn.FORBID_ATTR,Bu):{},iE="USE_PROFILES"in Hn?Hn.USE_PROFILES:!1,yd=Hn.ALLOW_ARIA_ATTR!==!1,ah=Hn.ALLOW_DATA_ATTR!==!1,p0=Hn.ALLOW_UNKNOWN_PROTOCOLS||!1,Ly=Hn.ALLOW_SELF_CLOSE_IN_ATTR!==!1,nm=Hn.SAFE_FOR_TEMPLATES||!1,wp=Hn.WHOLE_DOCUMENT||!1,y2=Hn.RETURN_DOM||!1,sE=Hn.RETURN_DOM_FRAGMENT||!1,IF=Hn.RETURN_TRUSTED_TYPE||!1,h6=Hn.FORCE_BODY||!1,xte=Hn.SANITIZE_DOM!==!1,wte=Hn.SANITIZE_NAMED_PROPS||!1,kJ=Hn.KEEP_CONTENT!==!1,m6=Hn.IN_PLACE||!1,$o=Hn.ALLOWED_URI_REGEXP||K_,cE=Hn.NAMESPACE||Dy,Ra=Hn.CUSTOM_ELEMENT_HANDLING||{},Hn.CUSTOM_ELEMENT_HANDLING&&Ate(Hn.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ra.tagNameCheck=Hn.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Hn.CUSTOM_ELEMENT_HANDLING&&Ate(Hn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ra.attributeNameCheck=Hn.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Hn.CUSTOM_ELEMENT_HANDLING&&typeof Hn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ra.allowCustomizedBuiltInElements=Hn.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),nm&&(ah=!1),sE&&(y2=!0),iE&&(Po=Ta({},[...LC]),Vo=[],iE.html===!0&&(Ta(Po,W_),Ta(Vo,kk)),iE.svg===!0&&(Ta(Po,G_),Ta(Vo,Ak),Ta(Vo,DC)),iE.svgFilters===!0&&(Ta(Po,RC),Ta(Vo,Ak),Ta(Vo,DC)),iE.mathMl===!0&&(Ta(Po,Z_),Ta(Vo,j_),Ta(Vo,DC))),Hn.ADD_TAGS&&(Po===wo&&(Po=ry(Po)),Ta(Po,Hn.ADD_TAGS,Bu)),Hn.ADD_ATTR&&(Vo===ys&&(Vo=ry(Vo)),Ta(Vo,Hn.ADD_ATTR,Bu)),Hn.ADD_URI_SAFE_ATTR&&Ta(AJ,Hn.ADD_URI_SAFE_ATTR,Bu),Hn.FORBID_CONTENTS&&(lE===Cte&&(lE=ry(lE)),Ta(lE,Hn.FORBID_CONTENTS,Bu)),kJ&&(Po["#text"]=!0),wp&&Ta(Po,["html","head","body"]),Po.table&&(Ta(Po,["tbody"]),delete Rl.tbody),Hn.TRUSTED_TYPES_POLICY){if(typeof Hn.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ud('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Hn.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ud('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');kn=Hn.TRUSTED_TYPES_POLICY,Vn=kn.createHTML("")}else kn===void 0&&(kn=$C(mt,E)),kn!==null&&typeof Vn=="string"&&(Vn=kn.createHTML(""));of&&of(Hn),uE=Hn}},Mte=Ta({},["mi","mo","mn","ms","mtext"]),Ete=Ta({},["foreignobject","desc","title","annotation-xml"]),Wie=Ta({},["title","style","font","a","script"]),BF=Ta({},G_);Ta(BF,RC),Ta(BF,$z);const RJ=Ta({},Z_);Ta(RJ,Oz);const Gie=function(Hn){let co=rn(Hn);(!co||!co.tagName)&&(co={namespaceURI:cE,tagName:"template"});const Io=Tk(Hn.tagName),Hi=Tk(co.tagName);return EJ[Hn.namespaceURI]?Hn.namespaceURI===FF?co.namespaceURI===Dy?Io==="svg":co.namespaceURI===NF?Io==="svg"&&(Hi==="annotation-xml"||Mte[Hi]):!!BF[Io]:Hn.namespaceURI===NF?co.namespaceURI===Dy?Io==="math":co.namespaceURI===FF?Io==="math"&&Ete[Hi]:!!RJ[Io]:Hn.namespaceURI===Dy?co.namespaceURI===FF&&!Ete[Hi]||co.namespaceURI===NF&&!Mte[Hi]?!1:!RJ[Io]&&(Wie[Io]||!BF[Io]):!!(n3==="application/xhtml+xml"&&EJ[Hn.namespaceURI]):!1},r3=function(Hn){EC(a.removed,{element:Hn});try{Hn.parentNode.removeChild(Hn)}catch{Hn.remove()}},g6=function(Hn,co){try{EC(a.removed,{attribute:co.getAttributeNode(Hn),from:co})}catch{EC(a.removed,{attribute:null,from:co})}if(co.removeAttribute(Hn),Hn==="is"&&!Vo[Hn])if(y2||sE)try{r3(co)}catch{}else try{co.setAttribute(Hn,"")}catch{}},_te=function(Hn){let co,Io;if(h6)Hn="<remove></remove>"+Hn;else{const fg=Lz(Hn,/^[\r\n\t ]+/);Io=fg&&fg[0]}n3==="application/xhtml+xml"&&cE===Dy&&(Hn='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Hn+"</body></html>");const Hi=kn?kn.createHTML(Hn):Hn;if(cE===Dy)try{co=new st().parseFromString(Hi,n3)}catch{}if(!co||!co.documentElement){co=hr.createDocument(cE,"template",null);try{co.documentElement.innerHTML=MJ?Vn:Hi}catch{}}const Hu=co.body||co.documentElement;return Hn&&Io&&Hu.insertBefore(z.createTextNode(Io),Hu.childNodes[0]||null),cE===Dy?Mr.call(co,wp?"html":"body")[0]:wp?co.documentElement:Hu},Rte=function(Hn){return Yn.call(Hn.ownerDocument||Hn,Hn,Be.SHOW_ELEMENT|Be.SHOW_COMMENT|Be.SHOW_TEXT,null,!1)},Zie=function(Hn){return Hn instanceof et&&(typeof Hn.nodeName!="string"||typeof Hn.textContent!="string"||typeof Hn.removeChild!="function"||!(Hn.attributes instanceof je)||typeof Hn.removeAttribute!="function"||typeof Hn.setAttribute!="function"||typeof Hn.namespaceURI!="string"||typeof Hn.insertBefore!="function"||typeof Hn.hasChildNodes!="function")},HF=function(Hn){return typeof xe=="object"?Hn instanceof xe:Hn&&typeof Hn=="object"&&typeof Hn.nodeType=="number"&&typeof Hn.nodeName=="string"},$y=function(Hn,co,Io){Zr[Hn]&&_z(Zr[Hn],Hi=>{Hi.call(a,co,Io,uE)})},Lte=function(Hn){let co;if($y("beforeSanitizeElements",Hn,null),Zie(Hn))return r3(Hn),!0;const Io=Bu(Hn.nodeName);if($y("uponSanitizeElement",Hn,{tagName:Io,allowedTags:Po}),Hn.hasChildNodes()&&!HF(Hn.firstElementChild)&&(!HF(Hn.content)||!HF(Hn.content.firstElementChild))&&sd(/<[/\w]/g,Hn.innerHTML)&&sd(/<[/\w]/g,Hn.textContent))return r3(Hn),!0;if(!Po[Io]||Rl[Io]){if(!Rl[Io]&&$te(Io)&&(Ra.tagNameCheck instanceof RegExp&&sd(Ra.tagNameCheck,Io)||Ra.tagNameCheck instanceof Function&&Ra.tagNameCheck(Io)))return!1;if(kJ&&!lE[Io]){const Hi=rn(Hn)||Hn.parentNode,Hu=hn(Hn)||Hn.childNodes;if(Hu&&Hi){const fg=Hu.length;for(let Ul=fg-1;Ul>=0;--Ul)Hi.insertBefore(Xt(Hu[Ul],!0),Dn(Hn))}}return r3(Hn),!0}return Hn instanceof Ee&&!Gie(Hn)||(Io==="noscript"||Io==="noembed"||Io==="noframes")&&sd(/<\/no(script|embed|frames)/i,Hn.innerHTML)?(r3(Hn),!0):(nm&&Hn.nodeType===3&&(co=Hn.textContent,co=jh(co,Do," "),co=jh(co,Mo," "),co=jh(co,ja," "),Hn.textContent!==co&&(EC(a.removed,{element:Hn.cloneNode()}),Hn.textContent=co)),$y("afterSanitizeElements",Hn,null),!1)},Dte=function(Hn,co,Io){if(xte&&(co==="id"||co==="name")&&(Io in z||Io in Uie))return!1;if(!(ah&&!Fu[co]&&sd(xo,co))){if(!(yd&&sd(Ea,co))){if(!Vo[co]||Fu[co]){if(!($te(Hn)&&(Ra.tagNameCheck instanceof RegExp&&sd(Ra.tagNameCheck,Hn)||Ra.tagNameCheck instanceof Function&&Ra.tagNameCheck(Hn))&&(Ra.attributeNameCheck instanceof RegExp&&sd(Ra.attributeNameCheck,co)||Ra.attributeNameCheck instanceof Function&&Ra.attributeNameCheck(co))||co==="is"&&Ra.allowCustomizedBuiltInElements&&(Ra.tagNameCheck instanceof RegExp&&sd(Ra.tagNameCheck,Io)||Ra.tagNameCheck instanceof Function&&Ra.tagNameCheck(Io))))return!1}else if(!AJ[co]){if(!sd($o,jh(Io,no,""))){if(!((co==="src"||co==="xlink:href"||co==="href")&&Hn!=="script"&&ny(Io,"data:")===0&&Ste[Hn])){if(!(p0&&!sd(Ar,jh(Io,no,"")))){if(Io)return!1}}}}}}return!0},$te=function(Hn){return Hn.indexOf("-")>0},Ote=function(Hn){let co,Io,Hi,Hu;$y("beforeSanitizeAttributes",Hn,null);const{attributes:fg}=Hn;if(!fg)return;const Ul={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Vo};for(Hu=fg.length;Hu--;){co=fg[Hu];const{name:dg,namespaceURI:LJ}=co;Io=dg==="value"?co.value:c8(co.value);const Yie=Io;if(Hi=Bu(dg),Ul.attrName=Hi,Ul.attrValue=Io,Ul.keepAttr=!0,Ul.forceKeepAttr=void 0,$y("uponSanitizeAttribute",Hn,Ul),Io=Ul.attrValue,Ul.forceKeepAttr)continue;if(!Ul.keepAttr){g6(dg,Hn);continue}if(!Ly&&sd(/\/>/i,Io)){g6(dg,Hn);continue}nm&&(Io=jh(Io,Do," "),Io=jh(Io,Mo," "),Io=jh(Io,ja," "));const Pte=Bu(Hn.nodeName);if(!Dte(Pte,Hi,Io)){g6(dg,Hn);continue}if(wte&&(Hi==="id"||Hi==="name")&&(g6(dg,Hn),Io=Bie+Io),kn&&typeof mt=="object"&&typeof mt.getAttributeType=="function"&&!LJ)switch(mt.getAttributeType(Pte,Hi)){case"TrustedHTML":{Io=kn.createHTML(Io);break}case"TrustedScriptURL":{Io=kn.createScriptURL(Io);break}}if(Io!==Yie)try{LJ?Hn.setAttributeNS(LJ,dg,Io):Hn.setAttribute(dg,Io)}catch{g6(dg,Hn)}}$y("afterSanitizeAttributes",Hn,null)},jie=function ma(Hn){let co;const Io=Rte(Hn);for($y("beforeSanitizeShadowDOM",Hn,null);co=Io.nextNode();)$y("uponSanitizeShadowNode",co,null),!Lte(co)&&(co.content instanceof Y&&ma(co.content),Ote(co));$y("afterSanitizeShadowDOM",Hn,null)};return a.sanitize=function(ma){let Hn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},co,Io,Hi,Hu;if(MJ=!ma,MJ&&(ma="<!-->"),typeof ma!="string"&&!HF(ma))if(typeof ma.toString=="function"){if(ma=ma.toString(),typeof ma!="string")throw Ud("dirty is not a string, aborting")}else throw Ud("toString is not a function");if(!a.isSupported)return ma;if(t3||_J(Hn),a.removed=[],typeof ma=="string"&&(m6=!1),m6){if(ma.nodeName){const dg=Bu(ma.nodeName);if(!Po[dg]||Rl[dg])throw Ud("root node is forbidden and cannot be sanitized in-place")}}else if(ma instanceof xe)co=_te("<!---->"),Io=co.ownerDocument.importNode(ma,!0),Io.nodeType===1&&Io.nodeName==="BODY"||Io.nodeName==="HTML"?co=Io:co.appendChild(Io);else{if(!y2&&!nm&&!wp&&ma.indexOf("<")===-1)return kn&&IF?kn.createHTML(ma):ma;if(co=_te(ma),!co)return y2?null:IF?Vn:""}co&&h6&&r3(co.firstChild);const fg=Rte(m6?ma:co);for(;Hi=fg.nextNode();)Lte(Hi)||(Hi.content instanceof Y&&jie(Hi.content),Ote(Hi));if(m6)return ma;if(y2){if(sE)for(Hu=br.call(co.ownerDocument);co.firstChild;)Hu.appendChild(co.firstChild);else Hu=co;return(Vo.shadowroot||Vo.shadowrootmode)&&(Hu=ea.call(p,Hu,!0)),Hu}let Ul=wp?co.outerHTML:co.innerHTML;return wp&&Po["!doctype"]&&co.ownerDocument&&co.ownerDocument.doctype&&co.ownerDocument.doctype.name&&sd(f8,co.ownerDocument.doctype.name)&&(Ul="<!DOCTYPE "+co.ownerDocument.doctype.name+`>
`+Ul),nm&&(Ul=jh(Ul,Do," "),Ul=jh(Ul,Mo," "),Ul=jh(Ul,ja," ")),kn&&IF?kn.createHTML(Ul):Ul},a.setConfig=function(ma){_J(ma),t3=!0},a.clearConfig=function(){uE=null,t3=!1},a.isValidAttribute=function(ma,Hn,co){uE||_J({});const Io=Bu(ma),Hi=Bu(Hn);return Dte(Io,Hi,co)},a.addHook=function(ma,Hn){typeof Hn=="function"&&(Zr[ma]=Zr[ma]||[],EC(Zr[ma],Hn))},a.removeHook=function(ma){if(Zr[ma])return Rz(Zr[ma])},a.removeHooks=function(ma){Zr[ma]&&(Zr[ma]=[])},a.removeAllHooks=function(){Zr={}},a}var d8=OC();const X_=t=>d8().sanitize(t);var _f=tinymce.util.Tools.resolve("tinymce.util.I18n");const zz={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},h8="temporary-placeholder",J_=t=>()=>Ft(t,h8).getOr("!not found!"),PC=(t,a)=>{const p=t.toLowerCase();if(_f.isRtl()){const E=Ze(p,"-rtl");return pn(a,E)?E:p}else return p},Q_=(t,a)=>Ft(a,PC(t,a)),q_=(t,a)=>{const p=a();return Q_(t,p).getOrThunk(J_(p))},e5=(t,a,p)=>{const E=a();return Q_(t,E).or(p).getOrThunk(J_(E))},Vz=t=>_f.isRtl()?pn(zz,t):!1,Ek=()=>jo("add-focusable",[ms(t=>{kb(t.element,"svg").each(a=>Lr(a,"focusable","false"))})]),m8=(t,a,p,E)=>{var z,Y;const re=Vz(a)?["tox-icon--flip"]:[],xe=Ft(p,PC(a,p)).or(E).getOrThunk(J_(p));return{dom:{tag:t.tag,attributes:(z=t.attributes)!==null&&z!==void 0?z:{},classes:t.classes.concat(re),innerHtml:xe},behaviours:gr([...(Y=t.behaviours)!==null&&Y!==void 0?Y:[],Ek()])}},Gd=(t,a,p,E=P.none())=>m8(a,t,p(),E),Uz=(t,a,p)=>{const E=p(),z=Ve(t,Y=>pn(E,PC(Y,E)));return m8(a,z.getOr(h8),E,P.none())},g8={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},t5=ou({name:"Notification",factory:t=>{const a=Qa({dom:cp(`<p>${X_(t.translationProvider(t.text))}</p>`),behaviours:gr([Ho.config({})])}),p=mt=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${mt}%`}}}),E=mt=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${mt}%`}}),z=Qa({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[p(0)]},E(0)],behaviours:gr([Ho.config({})])}),xe={updateProgress:(mt,Mt)=>{mt.getSystem().isConnected()&&z.getOpt(mt).each(Xt=>{Ho.set(Xt,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[p(Mt)]},E(Mt)])})},updateText:(mt,Mt)=>{if(mt.getSystem().isConnected()){const Xt=a.get(mt);Ho.set(Xt,[ai(Mt)])}}},Ee=Fe([t.icon.toArray(),t.level.toArray(),t.level.bind(mt=>P.from(g8[mt])).toArray()]),Be=Qa(hl.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Gd("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:mt=>{t.onAction(mt)}})),je=Uz(Ee,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),et={dom:{tag:"div",classes:["tox-notification__body"]},components:[a.asSpec()],behaviours:gr([Ho.config({})])},st=[je,et];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(mt=>["tox-notification","tox-notification--in",`tox-notification--${mt}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:gr([ko.config({}),jo("notification-events",[Xn(_o(),mt=>{Be.getOpt(mt).each(ko.focus)})])]),components:st.concat(t.progress?[z.asSpec()]:[]).concat(t.closeButton?[Be.asSpec()]:[]),apis:xe}},configFields:[Ia("level"),qn("progress"),Ia("icon"),qn("onAction"),qn("text"),qn("iconProvider"),qn("translationProvider"),Li("closeButton",!0)],apis:{updateProgress:(t,a,p)=>{t.updateProgress(a,p)},updateText:(t,a,p)=>{t.updateText(a,p)}}});var n5=(t,a,p)=>{const E=a.backstage.shared,z=()=>{const Ee=Js(zt.fromDom(t.getContentAreaContainer())),Be=bl(),je=ku(Be.x,Ee.x,Ee.right),et=ku(Be.y,Ee.y,Ee.bottom),st=Math.max(Ee.right,Be.right),mt=Math.max(Ee.bottom,Be.bottom);return P.some(Hs(je,et,st-je,mt-et))};return{open:(Ee,Be)=>{const je=()=>{Be(),Ws.hide(st)},et=Pl(t5.sketch({text:Ee.text,level:he(["success","error","warning","warn","info"],Ee.type)?Ee.type:void 0,progress:Ee.progressBar===!0,icon:Ee.icon,closeButton:Ee.closeButton,onAction:je,iconProvider:E.providers.icons,translationProvider:E.providers.translate})),st=Pl(Ws.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:E.getSink,fireDismissalEventInstead:{},...E.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));p.add(st),v(Ee.timeout)&&Ee.timeout>0&&ty.setEditorTimeout(t,()=>{je()},Ee.timeout);const Mt={close:je,reposition:()=>{const Xt=Tu(et),Dn={maxHeightFunction:pv()},hn=t.notificationManager.getNotifications();if(hn[0]===Mt){const rn={...E.anchors.banner(),overrides:Dn};Ws.showWithinBounds(st,Xt,{anchor:rn},z)}else Q(hn,Mt).each(rn=>{const kn=hn[rn-1].getEl(),Vn={type:"node",root:ss(),node:P.some(zt.fromDom(kn)),overrides:Dn,layouts:{onRtl:()=>[Yi],onLtr:()=>[Yi]}};Ws.showWithinBounds(st,Xt,{anchor:Vn},z)})},text:Xt=>{t5.updateText(et,Xt)},settings:Ee,getEl:()=>et.element.dom,progressBar:{value:Xt=>{t5.updateProgress(et,Xt)}}};return Mt},close:Ee=>{Ee.close()},getArgs:Ee=>Ee.settings}},oy=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),p8=tinymce.util.Tools.resolve("tinymce.EditorManager"),xx=tinymce.util.Tools.resolve("tinymce.Env"),af;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(af||(af={}));var IC;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(IC||(IC={}));const xs=t=>a=>a.options.get(t),NC=t=>a=>P.from(t(a)),v8=t=>{const a=xx.deviceType.isPhone(),p=xx.deviceType.isTablet()||a,E=t.options.register,z=re=>A(re)||re===!1,Y=re=>A(re)||v(re);E("skin",{processor:re=>A(re)||re===!1,default:"oxide"}),E("skin_url",{processor:"string"}),E("height",{processor:Y,default:Math.max(t.getElement().offsetHeight,400)}),E("width",{processor:Y,default:oy.DOM.getStyle(t.getElement(),"width")}),E("min_height",{processor:"number",default:100}),E("min_width",{processor:"number"}),E("max_height",{processor:"number"}),E("max_width",{processor:"number"}),E("style_formats",{processor:"object[]"}),E("style_formats_merge",{processor:"boolean",default:!1}),E("style_formats_autohide",{processor:"boolean",default:!1}),E("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),E("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),E("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),E("font_size_input_default_unit",{processor:"string",default:"pt"}),E("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),E("content_langs",{processor:"object[]"}),E("removed_menuitems",{processor:"string",default:""}),E("menubar",{processor:re=>A(re)||c(re),default:!a}),E("menu",{processor:"object",default:{}}),E("toolbar",{processor:re=>c(re)||A(re)||h(re)?{value:re,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Se(9,re=>{E("toolbar"+(re+1),{processor:"string"})}),E("toolbar_mode",{processor:"string",default:p?"scrolling":"floating"}),E("toolbar_groups",{processor:"object",default:{}}),E("toolbar_location",{processor:"string",default:IC.auto}),E("toolbar_persist",{processor:"boolean",default:!1}),E("toolbar_sticky",{processor:"boolean",default:t.inline}),E("toolbar_sticky_offset",{processor:"number",default:0}),E("fixed_toolbar_container",{processor:"string",default:""}),E("fixed_toolbar_container_target",{processor:"object"}),E("ui_mode",{processor:"string",default:"combined"}),E("file_picker_callback",{processor:"function"}),E("file_picker_validator_handler",{processor:"function"}),E("file_picker_types",{processor:"string"}),E("typeahead_urls",{processor:"boolean",default:!0}),E("anchor_top",{processor:z,default:"#top"}),E("anchor_bottom",{processor:z,default:"#bottom"}),E("draggable_modal",{processor:"boolean",default:!1}),E("statusbar",{processor:"boolean",default:!0}),E("elementpath",{processor:"boolean",default:!0}),E("branding",{processor:"boolean",default:!0}),E("promotion",{processor:"boolean",default:!0}),E("resize",{processor:re=>re==="both"||c(re),default:!xx.deviceType.isTouch()}),E("sidebar_show",{processor:"string"}),E("help_accessibility",{processor:"boolean",default:t.hasPlugin("help")}),E("default_font_stack",{processor:"string[]",default:[]})},y8=xs("readonly"),_k=xs("height"),FC=xs("width"),r5=NC(xs("min_width")),wx=NC(xs("min_height")),Rk=NC(xs("max_width")),o5=NC(xs("max_height")),b8=NC(xs("style_formats")),x8=xs("style_formats_merge"),w8=xs("style_formats_autohide"),C8=xs("content_langs"),a5=xs("removed_menuitems"),Cx=xs("toolbar_mode"),S8=xs("toolbar_groups"),BC=xs("toolbar_location"),ay=xs("fixed_toolbar_container"),Wz=xs("fixed_toolbar_container_target"),T8=xs("toolbar_persist"),Lk=xs("toolbar_sticky_offset"),s5=xs("menubar"),Dk=xs("toolbar"),k8=xs("file_picker_callback"),i5=xs("file_picker_validator_handler"),A8=xs("font_size_input_default_unit"),l5=xs("file_picker_types"),c5=xs("typeahead_urls"),$k=xs("anchor_top"),M8=xs("anchor_bottom"),u5=xs("draggable_modal"),E8=xs("statusbar"),Sx=xs("elementpath"),f5=xs("branding"),_8=xs("resize"),Ok=xs("paste_as_text"),Pk=xs("sidebar_show"),R8=xs("promotion"),Ik=xs("help_accessibility"),L8=xs("default_font_stack"),d5=t=>t.options.get("skin")===!1,Tx=t=>t.options.get("menubar")!==!1,Nk=t=>{const a=t.options.get("skin_url");if(d5(t))return a;if(a)return t.documentBaseURI.toAbsolute(a);{const p=t.options.get("skin");return p8.baseURL+"/skins/ui/"+p}},h5=t=>P.from(t.options.get("skin_url")),D8=t=>t.options.get("line_height_formats").split(" "),Fk=t=>{const a=Dk(t),p=A(a),E=h(a)&&a.length>0;return!HC(t)&&(E||p||a===!0)},m5=t=>{const a=Se(9,E=>t.options.get("toolbar"+(E+1))),p=Ce(a,A);return lt(p.length>0,p)},HC=t=>m5(t).fold(()=>{const a=Dk(t);return x(a,A)&&a.length>0},j),g5=t=>BC(t)===IC.bottom,$8=t=>{var a;if(!t.inline)return P.none();const p=(a=ay(t))!==null&&a!==void 0?a:"";if(p.length>0)return mi(ss(),p);const E=Wz(t);return d(E)?P.some(zt.fromDom(E)):P.none()},kx=t=>t.inline&&$8(t).isSome(),p5=t=>$8(t).getOrThunk(()=>Fa(Yo(zt.fromDom(t.getElement())))),v5=t=>t.inline&&!Tx(t)&&!Fk(t)&&!HC(t),zC=t=>(t.options.get("toolbar_sticky")||t.inline)&&!kx(t)&&!v5(t),Km=t=>!kx(t)&&t.options.get("ui_mode")==="split",O8=t=>{const a=t.options.get("menu");return Xe(a,p=>({...p,items:p.items}))};var Gz=Object.freeze({__proto__:null,get ToolbarMode(){return af},get ToolbarLocation(){return IC},register:v8,getSkinUrl:Nk,getSkinUrlOption:h5,isReadOnly:y8,isSkinDisabled:d5,getHeightOption:_k,getWidthOption:FC,getMinWidthOption:r5,getMinHeightOption:wx,getMaxWidthOption:Rk,getMaxHeightOption:o5,getUserStyleFormats:b8,shouldMergeStyleFormats:x8,shouldAutoHideStyleFormats:w8,getLineHeightFormats:D8,getContentLanguages:C8,getRemovedMenuItems:a5,isMenubarEnabled:Tx,isMultipleToolbars:HC,isToolbarEnabled:Fk,isToolbarPersist:T8,getMultipleToolbarsOption:m5,getUiContainer:p5,useFixedContainer:kx,isSplitUiMode:Km,getToolbarMode:Cx,isDraggableModal:u5,isDistractionFree:v5,isStickyToolbar:zC,getStickyToolbarOffset:Lk,getToolbarLocation:BC,isToolbarLocationBottom:g5,getToolbarGroups:S8,getMenus:O8,getMenubar:s5,getToolbar:Dk,getFilePickerCallback:k8,getFilePickerTypes:l5,useTypeaheadUrls:c5,getAnchorTop:$k,getAnchorBottom:M8,getFilePickerValidatorHandler:i5,getFontSizeInputDefaultUnit:A8,useStatusBar:E8,useElementPath:Sx,promotionEnabled:R8,useBranding:f5,getResize:_8,getPasteAsText:Ok,getSidebarShow:Pk,useHelpAccessibility:Ik,getDefaultFontStack:L8});const P8="[data-mce-autocompleter]",y5=t=>Qf(t,P8),Zz=t=>mi(t,P8),jz={setup:(t,a)=>{const p=(z,Y)=>{go(z,Ca(),{raw:Y})},E=()=>t.getMenu().bind(Na.getHighlighted);a.on("keydown",z=>{const Y=z.which;t.isActive()&&(t.isMenuOpen()?Y===13?(E().each(kh),z.preventDefault()):Y===40?(E().fold(()=>{t.getMenu().each(Na.highlightFirst)},re=>{p(re,z)}),z.preventDefault(),z.stopImmediatePropagation()):(Y===37||Y===38||Y===39)&&E().each(re=>{p(re,z),z.preventDefault(),z.stopImmediatePropagation()}):(Y===13||Y===38||Y===40)&&t.cancelIfNecessary())}),a.on("NodeChange",z=>{t.isActive()&&!t.isProcessingAction()&&y5(zt.fromDom(z.element)).isNone()&&t.cancelIfNecessary()})}};var b5;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(b5||(b5={}));var Yh=b5;const x5="tox-menu-nav__js",Ax="tox-collection__item",w5="tox-swatch",Yz={normal:x5,color:w5},I8="tox-collection__item--enabled",Kz="tox-collection__group-heading",N8="tox-collection__item-icon",C5="tox-collection__item-label",Xz="tox-collection__item-accessory",F8="tox-collection__item-caret",Jz="tox-collection__item-checkmark",VC="tox-collection__item--active",B8="tox-collection__item-container",Qz="tox-collection__item-container--column",H8="tox-collection__item-container--row",Bk="tox-collection__item-container--align-right",qz="tox-collection__item-container--align-left",S5="tox-collection__item-container--valign-top",eV="tox-collection__item-container--valign-middle",tV="tox-collection__item-container--valign-bottom",z8=t=>Ft(Yz,t).getOr(x5),V8=t=>t==="color"?"tox-swatches":"tox-menu",T5=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:V8(t),tieredMenu:"tox-tiered-menu"}),fp=t=>{const a=T5(t);return{backgroundMenu:a.backgroundMenu,selectedMenu:a.selectedMenu,menu:a.menu,selectedItem:a.selectedItem,item:z8(t)}},k5=(t,a,p)=>{const E=T5(p);return{tag:"div",classes:Fe([[E.menu,`tox-menu-${a}-column`],t?[E.hasIcons]:[]])}},U8=[ey.parts.items({})],Mx=(t,a,p)=>{const E=T5(p);return{dom:{tag:"div",classes:Fe([[E.tieredMenu]])},markers:fp(p)}},UC=O([Ia("data"),En("inputAttributes",{}),En("inputStyles",{}),En("tag","input"),En("inputClasses",[]),Sa("onSetValue"),En("styles",{}),En("eventOrder",{}),Fi("inputBehaviours",[Fr,ko]),En("selectOnFocus",!0)]),A5=t=>gr([ko.config({onFocus:t.selectOnFocus?a=>{const p=a.element,E=Dd(p);p.dom.setSelectionRange(0,E.length)}:C})]),Xm=t=>({...A5(t),...Si(t.inputBehaviours,[Fr.config({store:{mode:"manual",...t.data.map(a=>({initialValue:a})).getOr({}),getValue:a=>Dd(a.element),setValue:(a,p)=>{Dd(a.element)!==p&&rv(a.element,p)}},onSetValue:t.onSetValue})])}),Hk=t=>({tag:t.tag,attributes:{type:"text",...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),nV=(t,a)=>({uid:t.uid,dom:Hk(t),components:[],behaviours:Xm(t),eventOrder:t.eventOrder}),sy=ou({name:"Input",configFields:UC(),factory:nV}),W8=Xr("refetch-trigger-event"),G8=Xr("redirect-menu-item-interaction"),Ex="tox-menu__searcher",zk=t=>mi(t.element,`.${Ex}`).bind(a=>t.getSystem().getByDom(a).toOptional()),M5=zk,E5=(t,a)=>{Fr.setValue(t,a.fetchPattern),t.element.dom.selectionStart=a.selectionStart,t.element.dom.selectionEnd=a.selectionEnd},Z8=t=>{const a=Fr.getValue(t),p=t.element.dom.selectionStart,E=t.element.dom.selectionEnd;return{fetchPattern:a,selectionStart:p,selectionEnd:E}},_5=(t,a)=>{yi(a.element,"id").each(p=>Lr(t.element,"aria-activedescendant",p))},R5=t=>{const a=(z,Y)=>(Y.cut(),P.none()),p=(z,Y)=>{const re={interactionEvent:Y.event,eventType:Y.event.raw.type};return go(z,G8,re),P.some(!0)},E="searcher-events";return{dom:{tag:"div",classes:[Ax]},components:[sy.sketch({inputClasses:[Ex,"tox-textfield"],inputAttributes:{...t.placeholder.map(z=>({placeholder:t.i18n(z)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:gr([jo(E,[Xn(qs(),z=>{pa(z,W8)}),Xn(Ca(),(z,Y)=>{Y.event.raw.key==="Escape"&&Y.stop()})]),po.config({mode:"special",onLeft:a,onRight:a,onSpace:a,onEnter:p,onEscape:p,onUp:p,onDown:p})]),eventOrder:{keydown:[E,po.name()]}})]}},Vk="tox-collection--results__js",L5=t=>{var a;return t.dom?{...t,dom:{...t.dom,attributes:{...(a=t.dom.attributes)!==null&&a!==void 0?a:{},id:Xr("aria-item-search-result-id"),"aria-selected":"false"}}}:t},Uk=(t,a)=>p=>{const E=ce(p,a);return ne(E,z=>({dom:t,components:z}))},rV=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[ey.parts.items({preprocess:t!=="auto"?Uk({tag:"div",classes:["tox-swatches__row"]},t):D})]}]}),oV=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[ey.parts.items({preprocess:Uk({tag:"div",classes:["tox-collection__group"]},t)})]}),j8=(t,a)=>{const p=[];let E=[];return fe(t,(z,Y)=>{a(z,Y)?(E.length>0&&p.push(E),E=[],(pn(z.dom,"innerHtml")||z.components&&z.components.length>0)&&E.push(z)):E.push(z)}),E.length>0&&p.push(E),ne(p,z=>({dom:{tag:"div",classes:["tox-collection__group"]},components:z}))},D5=(t,a,p)=>ey.parts.items({preprocess:E=>{const z=ne(E,p);return t!=="auto"&&t>1?Uk({tag:"div",classes:["tox-collection__group"]},t)(z):j8(z,(Y,re)=>a[re].type==="separator")}}),Y8=(t,a,p=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[D5(t,a,D)]}),aV=(t,a,p=!0)=>{const E=Xr("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Vk].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:E}},components:[D5(t,a,L5)]}},K8=(t,a,p)=>{const E=Xr("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[R5({i18n:_f.translate,placeholder:p.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],Vk],attributes:{id:E}},components:[D5(t,a,L5)]}]}},X8=(t,a=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[ey.parts.items({preprocess:p=>j8(p,(E,z)=>t[z].type==="separator")})]}),Wk=t=>ge(t,a=>"icon"in a&&a.icon!==void 0),Jm=t=>(console.error(wl(t)),console.log(t),P.none()),WC=(t,a,p,E,z)=>{const Y=X8(p);return{value:t,dom:Y.dom,components:Y.components,items:p}},Gk=(t,a,p,E,z)=>{const Y=()=>z.menuType!=="searchable"?Y8(E,p):z.searchMode.searchMode==="search-with-field"?K8(E,p,z.searchMode):aV(E,p);if(z.menuType==="color"){const re=rV(E);return{value:t,dom:re.dom,components:re.components,items:p}}else if(z.menuType==="normal"&&E==="auto"){const re=Y8(E,p);return{value:t,dom:re.dom,components:re.components,items:p}}else if(z.menuType==="normal"||z.menuType==="searchable"){const re=Y();return{value:t,dom:re.dom,components:re.components,items:p}}else if(z.menuType==="listpreview"&&E!=="auto"){const re=oV(E);return{value:t,dom:re.dom,components:re.components,items:p}}else return{value:t,dom:k5(a,E,z.menuType),components:U8,items:p}},Oi=Da("type"),$5=Da("name"),Zk=Da("label"),dp=Da("text"),J8=Da("title"),O5=Da("icon"),_x=Da("value"),Q8=bu("fetch"),q8=bu("getSubmenuItems"),Rx=bu("onAction"),sV=bu("onItemAction"),Gv=bi("onSetup",()=>C),P5=Gi("name"),Qm=Gi("text"),Rf=Gi("icon"),GC=Gi("tooltip"),jk=Gi("label"),iV=Gi("shortcut"),I5=pf("select"),Yk=Li("active",!1),e7=Li("borderless",!1),id=Li("enabled",!0),qm=Li("primary",!1),t7=t=>En("columns",t),ZC=En("meta",{}),Lx=bi("onAction",C),iy=t=>bf("type",t),Kk=t=>Wi("name","name",Xu(()=>Xr(`${t}-name`)),Ui),n7=t=>Wi("value","value",Xu(()=>Xr(`${t}-value`)),oi()),N5=io([Oi,Qm]),F5=t=>ns("separatormenuitem",N5,t),r7=io([iy("autocompleteitem"),Yk,id,ZC,_x,Qm,Rf]),lV=t=>ns("Autocompleter.Separator",N5,t),o7=t=>ns("Autocompleter.Item",r7,t),Dx=[id,GC,Rf,Qm,Gv],a7=io([Oi,Rx].concat(Dx)),B5=t=>ns("toolbarbutton",a7,t),H5=[Yk].concat(Dx),s7=io(H5.concat([Oi,Rx])),i7=t=>ns("ToggleButton",s7,t),l7=[bi("predicate",H),bc("scope","node",["node","editor"]),bc("position","selection",["node","selection","line"])],cV=Dx.concat([iy("contextformbutton"),qm,Rx,zs("original",D)]),uV=H5.concat([iy("contextformbutton"),qm,Rx,zs("original",D)]),c7=Dx.concat([iy("contextformbutton")]),jC=H5.concat([iy("contextformtogglebutton")]),u7=fa("type",{contextformbutton:cV,contextformtogglebutton:uV}),fV=io([iy("contextform"),bi("initValue",O("")),jk,Ol("commands",u7),$c("launch",fa("type",{contextformbutton:c7,contextformtogglebutton:jC}))].concat(l7)),dV=t=>ns("ContextForm",fV,t),hV=io([iy("contexttoolbar"),Da("items")].concat(l7)),mV=t=>ns("ContextToolbar",hV,t),gV=[Oi,Da("src"),Gi("alt"),ec("classes",[],Ui)],Xk=io(gV),pV=[Oi,dp,P5,ec("classes",["tox-collection__item-label"],Ui)],f7=io(pV),d7=Vi(()=>ir("type",{cardimage:Xk,cardtext:f7,cardcontainer:h7})),h7=io([Oi,bf("direction","horizontal"),bf("align","left"),bf("valign","middle"),Ol("items",d7)]),ly=[id,Qm,iV,n7("menuitem"),ZC],vV=io([Oi,jk,Ol("items",d7),Gv,Lx].concat(ly)),m7=t=>ns("cardmenuitem",vV,t),g7=io([Oi,Yk,Rf].concat(ly)),p7=t=>ns("choicemenuitem",g7,t),z5=[Oi,Da("fancytype"),Lx],yV=[En("initData",{})].concat(z5),bV=[pf("select"),U("initData",{},[Li("allowCustomColors",!0),bf("storageKey","default"),jf("colors",oi())])].concat(z5),xV=fa("fancytype",{inserttable:yV,colorswatch:bV}),wV=t=>ns("fancymenuitem",xV,t),v7=io([Oi,Gv,Lx,Rf].concat(ly)),y7=t=>ns("menuitem",v7,t),CV=io([Oi,q8,Gv,Rf].concat(ly)),SV=t=>ns("nestedmenuitem",CV,t),TV=io([Oi,Rf,Yk,Gv,Rx].concat(ly)),kV=t=>ns("togglemenuitem",TV,t),V5=(t,a,p)=>{const E=Xi(t.element,"."+p);if(E.length>0){const z=Oe(E,Y=>{const re=Y.dom.getBoundingClientRect().top,xe=E[0].dom.getBoundingClientRect().top;return Math.abs(re-xe)>a}).getOr(E.length);return P.some({numColumns:z,numRows:Math.ceil(E.length/z)})}else return P.none()},U5=(t,a)=>gr([jo(t,a)]),YC={namedEvents:U5,unnamedEvents:t=>U5(Xr("unnamed-events"),t)},Jk=Xr("tooltip.exclusive"),$x=Xr("tooltip.show"),KC=Xr("tooltip.hide"),b7=(t,a,p)=>{t.getSystem().broadcastOn([Jk],{})};var MV=Object.freeze({__proto__:null,hideAllExclusive:b7,setComponents:(t,a,p,E)=>{p.getTooltip().each(z=>{z.getSystem().isConnected()&&Ho.set(z,E)})}}),x7=Object.freeze({__proto__:null,events:(t,a)=>{const p=z=>{a.getTooltip().each(Y=>{Bd(Y),t.onHide(z,Y),a.clearTooltip()}),a.clearTimer()},E=z=>{if(!a.isShowing()){b7(z);const Y=t.lazySink(z).getOrDie(),re=z.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:bs(t.mode==="normal"?[Xn($r(),xe=>{pa(z,$x)}),Xn(Vs(),xe=>{pa(z,KC)})]:[]),behaviours:gr([Ho.config({})])});a.setTooltip(re),zm(Y,re),t.onShow(z,re),Nl.position(Y,re,{anchor:t.anchor(z)})}};return bs(Fe([[Xn($x,z=>{a.resetTimer(()=>{E(z)},t.delay)}),Xn(KC,z=>{a.resetTimer(()=>{p(z)},t.delay)}),Xn(Tl(),(z,Y)=>{const re=Y;re.universal||he(re.channels,Jk)&&p(z)}),_d(z=>{p(z)})],t.mode==="normal"?[Xn(_o(),z=>{pa(z,$x)}),Xn(Sl(),z=>{pa(z,KC)}),Xn($r(),z=>{pa(z,$x)}),Xn(Vs(),z=>{pa(z,KC)})]:[Xn(e1(),(z,Y)=>{pa(z,$x)}),Xn(t1(),z=>{pa(z,KC)})]]))}}),w7=[qn("lazySink"),qn("tooltipDom"),En("exclusive",!0),En("tooltipComponents",[]),En("delay",300),bc("mode","normal",["normal","follow-highlight"]),En("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:O([Yi,oc,ji,Cc,Ml,Il]),onRtl:O([Yi,oc,ji,Cc,Ml,Il])}})),Sa("onHide"),Sa("onShow")],_V=Object.freeze({__proto__:null,init:()=>{const t=ia(),a=ia(),p=()=>{t.on(clearTimeout)},E=(Y,re)=>{p(),t.set(setTimeout(Y,re))},z=O("not-implemented");return Qc({getTooltip:a.get,isShowing:a.isSet,setTooltip:a.set,clearTooltip:a.clear,clearTimer:p,resetTimer:E,readState:z})}});const C7=Ki({fields:w7,name:"tooltipping",active:x7,state:_V,apis:MV}),RV=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),S7="silver.readonly",W5=io([z2("readonly")]),Qk=(t,a)=>{const E=t.mainUi.outerContainer.element,z=[t.mainUi.mothership,...t.uiMotherships];a&&fe(z,Y=>{Y.broadcastOn([rd()],{target:E})}),fe(z,Y=>{Y.broadcastOn([S7],{readonly:a})})},T7=(t,a)=>{t.on("init",()=>{t.mode.isReadOnly()&&Qk(a,!0)}),t.on("SwitchMode",()=>Qk(a,t.mode.isReadOnly())),y8(t)&&t.mode.set("readonly")},Qi=()=>Pc.config({channels:{[S7]:{schema:W5,onReceive:(t,a)=>{Co.set(t,a.readonly)}}}}),Bi={item:t=>Co.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>Co.config({disabled:t}),splitButton:t=>Co.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>Co.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},Lf=(t,a)=>{const p=t.getApi(a);return E=>{E(p)}},Zv=(t,a)=>ms(p=>{Lf(t,p)(z=>{const Y=t.onSetup(z);g(Y)&&a.set(Y)})}),eg=(t,a)=>_d(p=>Lf(t,p)(a.get())),G5=(t,a)=>xf((p,E)=>{Lf(t,p)(t.onAction),!t.triggersSubmenu&&a===Yh.CLOSE_ON_EXECUTE&&(p.getSystem().isConnected()&&pa(p,wu()),E.stop())}),DV={[Ci()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Ox=an,tg=(t,a,p,E)=>{const z=q(C);return{type:"item",dom:a.dom,components:Ox(a.optComponents),data:t.data,eventOrder:DV,hasSubmenu:t.triggersSubmenu,itemBehaviours:gr([jo("item-events",[G5(t,p),Zv(t,z),eg(t,z)]),Bi.item(()=>!t.enabled||E.isDisabled()),Qi(),Ho.config({})].concat(t.itemBehaviours))}},hp=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),qk=t=>{const a=xx.os.isMacOS()||xx.os.isiOS(),z=a?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},Y=t.split("+"),re=ne(Y,xe=>{const Ee=xe.toLowerCase().trim();return pn(z,Ee)?z[Ee]:xe});return a?re.join(""):re.join("+")},Z5=(t,a,p=[N8])=>Gd(t,{tag:"div",classes:p},a),Zd=t=>({dom:{tag:"div",classes:[C5]},components:[ai(_f.translate(t))]}),k7=(t,a)=>({dom:{tag:"div",classes:a,innerHtml:t}}),$V=(t,a)=>({dom:{tag:"div",classes:[C5]},components:[{dom:{tag:t.tag,styles:t.styles},components:[ai(_f.translate(a))]}]}),ld=t=>({dom:{tag:"div",classes:[Xz]},components:[ai(qk(t))]}),Px=t=>Z5("checkmark",t,[Jz]),jd=t=>Z5("chevron-right",t,[F8]),OV=t=>Z5("chevron-down",t,[F8]),cs=(t,a)=>{const p=t.direction==="vertical"?Qz:H8,E=t.align==="left"?qz:Bk;return{dom:{tag:"div",classes:[B8,p,E,(()=>{switch(t.valign){case"top":return S5;case"middle":return eV;case"bottom":return tV}})()]},components:a}},Ix=(t,a,p)=>({dom:{tag:"img",classes:a,attributes:{src:t,alt:p.getOr("")}}}),eA=(t,a,p)=>{const E="custom",z="remove",Y=t.ariaLabel,re=t.value,xe=t.iconContent.map(Be=>e5(Be,a.icons,p));return{dom:(()=>{const Be=w5,je=xe.getOr(""),st={tag:"div",attributes:Y.map(mt=>({title:a.translate(mt)})).getOr({}),classes:[Be]};return re===E?{...st,tag:"button",classes:[...st.classes,"tox-swatches__picker-btn"],innerHtml:je}:re===z?{...st,classes:[...st.classes,"tox-swatch--remove"],innerHtml:je}:d(re)?{...st,attributes:{...st.attributes,"data-mce-color":re},styles:{"background-color":re},innerHtml:je}:st})(),optComponents:[]}},j5=t=>{const a=t.map(p=>({attributes:{title:_f.translate(p),id:Xr("menu-item")}})).getOr({});return{tag:"div",classes:[x5,Ax],...a}},Y5=(t,a,p,E)=>{const z={tag:"div",classes:[N8]},Y=st=>Gd(st,z,a.icons,E),re=()=>P.some({dom:z}),xe=p?t.iconContent.map(Y).orThunk(re):P.none(),Ee=t.checkMark,Be=P.from(t.meta).fold(()=>Zd,st=>pn(st,"style")?M($V,st.style):Zd),je=t.htmlContent.fold(()=>t.textContent.map(Be),st=>P.some(k7(st,[C5])));return{dom:j5(t.ariaLabel),optComponents:[xe,je,t.shortcutContent.map(ld),Ee,t.caret]}},cy=(t,a,p,E=P.none())=>t.presets==="color"?eA(t,a,E):Y5(t,a,p,E),A7=(t,a)=>Ft(t,"tooltipWorker").map(p=>[C7.config({lazySink:a.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:E=>({type:"submenu",item:E,overrides:{maxHeightFunction:pv}}),mode:"follow-highlight",onShow:(E,z)=>{p(Y=>{C7.setComponents(E,[G3({element:zt.fromDom(Y)})])})}})]).getOr([]),K5=t=>oy.DOM.encode(t),M7=(t,a)=>{const p=_f.translate(t),E=K5(p);if(a.length>0){const z=new RegExp(RV(a),"gi");return E.replace(z,Y=>`<span class="tox-autocompleter-highlight">${Y}</span>`)}else return E},E7=(t,a,p,E,z,Y,re,xe=!0)=>{const Ee=cy({presets:E,textContent:P.none(),htmlContent:p?t.text.map(Be=>M7(Be,a)):P.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:P.none(),checkMark:P.none(),caret:P.none(),value:t.value},re.providers,xe,t.icon);return tg({data:hp(t),enabled:t.enabled,getApi:O({}),onAction:Be=>z(t.value,t.meta),onSetup:O(C),triggersSubmenu:!1,itemBehaviours:A7(t.meta,re)},Ee,Y,re.providers)},X5=(t,a)=>ne(t,p=>{switch(p.type){case"cardcontainer":return cs(p,X5(p.items,a));case"cardimage":return Ix(p.src,p.classes,p.alt);case"cardtext":const z=p.name.exists(Y=>he(a.cardText.highlightOn,Y))?P.from(a.cardText.matchText).getOr(""):"";return k7(M7(p.text,z),p.classes)}}),J5=(t,a,p,E)=>{const z=re=>({isEnabled:()=>!Co.isDisabled(re),setEnabled:xe=>{Co.set(re,!xe),fe(Xi(re.element,"*"),Ee=>{re.getSystem().getByDom(Ee).each(Be=>{Be.hasConfigured(Co)&&Co.set(Be,!xe)})})}}),Y={dom:j5(t.label),optComponents:[P.some({dom:{tag:"div",classes:[B8,H8]},components:X5(t.items,E)})]};return tg({data:hp({text:P.none(),...t}),enabled:t.enabled,getApi:z,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:P.from(E.itemBehaviours).getOr([])},Y,a,p.providers)},_7=(t,a,p,E,z,Y,re,xe=!0)=>{const Ee=je=>({setActive:et=>{qo.set(je,et)},isActive:()=>qo.isOn(je),isEnabled:()=>!Co.isDisabled(je),setEnabled:et=>Co.set(je,!et)}),Be=cy({presets:p,textContent:a?t.text:P.none(),htmlContent:P.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:a?t.shortcut:P.none(),checkMark:a?P.some(Px(re.icons)):P.none(),caret:P.none(),value:t.value},re,xe);return hs(tg({data:hp(t),enabled:t.enabled,getApi:Ee,onAction:je=>E(t.value),onSetup:je=>(je.setActive(z),C),triggersSubmenu:!1,itemBehaviours:[]},Be,Y,re),{toggling:{toggleClass:I8,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},XC=Hh(AC(),MC()),R7=t=>({value:O7(t)}),L7=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,D7=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,$7=t=>L7.test(t)||D7.test(t),O7=t=>$t(t,"#").toUpperCase(),P7=t=>$7(t)?P.some({value:O7(t)}):P.none(),PV=t=>({value:t.value.replace(L7,(p,E,z,Y)=>E+E+z+z+Y+Y)}),IV=t=>{const a=PV(t),p=D7.exec(a.value);return p===null?["FFFFFF","FF","FF","FF"]:p},tA=t=>{const a=t.toString(16);return(a.length===1?"0"+a:a).toUpperCase()},Nx=t=>{const a=tA(t.red)+tA(t.green)+tA(t.blue);return R7(a)},I7=Math.min,N7=Math.max,JC=Math.round,F7=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,B7=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,jv=(t,a,p,E)=>({red:t,green:a,blue:p,alpha:E}),Q5=t=>{const a=parseInt(t,10);return a.toString()===t&&a>=0&&a<=255},H7=t=>{let a,p,E;const z=(t.hue||0)%360;let Y=t.saturation/100,re=t.value/100;if(Y=N7(0,I7(Y,1)),re=N7(0,I7(re,1)),Y===0)return a=p=E=JC(255*re),jv(a,p,E,1);const xe=z/60,Ee=re*Y,Be=Ee*(1-Math.abs(xe%2-1)),je=re-Ee;switch(Math.floor(xe)){case 0:a=Ee,p=Be,E=0;break;case 1:a=Be,p=Ee,E=0;break;case 2:a=0,p=Ee,E=Be;break;case 3:a=0,p=Be,E=Ee;break;case 4:a=Be,p=0,E=Ee;break;case 5:a=Ee,p=0,E=Be;break;default:a=p=E=0}return a=JC(255*(a+je)),p=JC(255*(p+je)),E=JC(255*(E+je)),jv(a,p,E,1)},QC=t=>{const a=IV(t),p=parseInt(a[1],16),E=parseInt(a[2],16),z=parseInt(a[3],16);return jv(p,E,z,1)},z7=(t,a,p,E)=>{const z=parseInt(t,10),Y=parseInt(a,10),re=parseInt(p,10),xe=parseFloat(E);return jv(z,Y,re,xe)},q5=t=>{if(t==="transparent")return P.some(jv(0,0,0,0));const a=F7.exec(t);if(a!==null)return P.some(z7(a[1],a[2],a[3],"1"));const p=B7.exec(t);return p!==null?P.some(z7(p[1],p[2],p[3],p[4])):P.none()},eR=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,cd=jv(255,0,0,1),NV=t=>{t.dispatch("SkinLoaded")},tR=(t,a)=>{t.dispatch("SkinLoadError",a)},V7=t=>{t.dispatch("ResizeEditor")},nA=(t,a)=>{t.dispatch("ResizeContent",a)},FV=(t,a)=>{t.dispatch("ScrollContent",a)},nR=(t,a)=>{t.dispatch("TextColorChange",a)},U7=(t,a)=>{t.dispatch("AfterProgressState",{state:a})},W7=(t,a)=>t.dispatch("ResolveName",{name:a.nodeName.toLowerCase(),target:a}),BV=(t,a)=>{t.dispatch("ToggleToolbarDrawer",{state:a})},HV=(t,a)=>{t.dispatch("StylesTextUpdate",a)},zV=(t,a)=>{t.dispatch("AlignTextUpdate",a)},VV=(t,a)=>{t.dispatch("FontSizeTextUpdate",a)},UV=(t,a)=>{t.dispatch("FontSizeInputTextUpdate",a)},G7=(t,a)=>{t.dispatch("BlocksTextUpdate",a)},Z7=(t,a)=>{t.dispatch("FontFamilyTextUpdate",a)},qC=(t,a)=>()=>{t(),a()},Vc=t=>Yd(t,"NodeChange",a=>{a.setEnabled(t.selection.isEditable())}),WV=(t,a)=>p=>{const E=Oh(),z=()=>{p.setActive(t.formatter.match(a));const Y=t.formatter.formatChanged(a,p.setActive);E.set(Y)};return t.initialized?z():t.once("init",z),()=>{t.off("init",z),E.clear()}},rA=(t,a)=>p=>{const E=Vc(t)(p),z=WV(t,a)(p);return()=>{E(),z()}},Yd=(t,a,p)=>E=>{const z=()=>p(E),Y=()=>{p(E),t.on(a,z)};return t.initialized?Y():t.once("init",Y),()=>{t.off("init",Y),t.off(a,z)}},j7=t=>a=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,a.format)})},Du=(t,a)=>()=>t.execCommand(a);var Yv=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const rR={},oR=(t,a=10)=>{const p=Yv.getItem(t),E=A(p)?JSON.parse(p):[],Y=(Be=>a-Be.length<0?Be.slice(0,a):Be)(E),re=Be=>{Q(Y,Be).each(xe),Y.unshift(Be),Y.length>a&&Y.pop(),Yv.setItem(t,JSON.stringify(Y))},xe=Be=>{Y.splice(Be,1)};return{add:re,state:()=>Y.slice(0)}},oA=t=>Ft(rR,t).getOrThunk(()=>{const a=`tinymce-custom-colors-${t}`,p=Yv.getItem(a);if(u(p)){const z=Yv.getItem("tinymce-custom-colors");Yv.setItem(a,d(z)?z:"[]")}const E=oR(a,10);return rR[t]=E,E}),aR=t=>ne(oA(t).state(),a=>({type:"choiceitem",text:a,icon:"checkmark",value:a})),sR=(t,a)=>{oA(t).add(a)},eS=(t,a,p)=>({hue:t,saturation:a,value:p}),aA=t=>{let a=0,p=0,E=0;const z=t.red/255,Y=t.green/255,re=t.blue/255,xe=Math.min(z,Math.min(Y,re)),Ee=Math.max(z,Math.max(Y,re));if(xe===Ee)return E=xe,eS(0,0,E*100);const Be=z===xe?Y-re:re===xe?z-Y:re-z;return a=z===xe?3:re===xe?1:5,a=60*(a-Be/(Ee-xe)),p=(Ee-xe)/Ee,E=Ee,eS(Math.round(a),Math.round(p*100),Math.round(E*100))},GV=t=>aA(QC(t)),Y7=t=>Nx(H7(t)),ZV=t=>P7(t).orThunk(()=>q5(t).map(Nx)).getOrThunk(()=>{const a=document.createElement("canvas");a.height=1,a.width=1;const p=a.getContext("2d");p.clearRect(0,0,a.width,a.height),p.fillStyle="#FFFFFF",p.fillStyle=t,p.fillRect(0,0,1,1);const E=p.getImageData(0,0,1,1).data,z=E[0],Y=E[1],re=E[2],xe=E[3];return Nx(jv(z,Y,re,xe))}),sA="forecolor",iA="hilitecolor",K7=5,jV=t=>{const a=[];for(let p=0;p<t.length;p+=2)a.push({text:t[p+1],value:"#"+ZV(t[p]).value,icon:"checkmark",type:"choiceitem"});return a},ng=t=>a=>a.options.get(t),iR="#000000",YV=t=>{const a=t.options.register,p=z=>x(z,A)?{value:jV(z),valid:!0}:{valid:!1,message:"Must be an array of strings."},E=z=>v(z)&&z>0?{value:z,valid:!0}:{valid:!1,message:"Must be a positive number."};a("color_map",{processor:p,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),a("color_map_background",{processor:p}),a("color_map_foreground",{processor:p}),a("color_cols",{processor:E,default:lR(t)}),a("color_cols_foreground",{processor:E,default:X7(t,sA)}),a("color_cols_background",{processor:E,default:X7(t,iA)}),a("custom_colors",{processor:"boolean",default:!0}),a("color_default_foreground",{processor:"string",default:iR}),a("color_default_background",{processor:"string",default:iR})},lA=(t,a)=>a===sA&&t.options.isSet("color_map_foreground")?ng("color_map_foreground")(t):a===iA&&t.options.isSet("color_map_background")?ng("color_map_background")(t):ng("color_map")(t),lR=(t,a="default")=>Math.max(K7,Math.ceil(Math.sqrt(lA(t,a).length))),X7=(t,a)=>{const p=ng("color_cols")(t),E=lR(t,a);return p===lR(t)?E:p},J7=(t,a="default")=>Math.round((()=>a===sA?ng("color_cols_foreground")(t):a===iA?ng("color_cols_background")(t):ng("color_cols")(t))()),Q7=ng("custom_colors"),KV=ng("color_default_foreground"),XV=ng("color_default_background"),q7="rgba(0, 0, 0, 0)",JV=t=>q5(t).exists(a=>a.alpha!==0),QV=t=>en(t,a=>{if(St(a)){const p=Ms(a,"background-color");return lt(JV(p),p)}else return P.none()}).getOr(q7),eO=(t,a)=>{const p=zt.fromDom(t.selection.getStart()),E=a==="hilitecolor"?QV(p):Ms(p,"color");return q5(E).map(z=>"#"+Nx(z).value)},qV=(t,a,p)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(a,{value:p}),t.nodeChanged()})},eU=(t,a)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(a,{value:null},void 0,!0),t.nodeChanged()})},cA=t=>{t.addCommand("mceApplyTextcolor",(a,p)=>{qV(t,a,p)}),t.addCommand("mceRemoveTextcolor",a=>{eU(t,a)})},cR=t=>{const a="choiceitem",p={type:a,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[p,{type:a,text:"Custom color",icon:"color-picker",value:"custom"}]:[p]},uR=(t,a,p,E)=>{p==="custom"?oO(t)(Y=>{Y.each(re=>{sR(a,re),t.execCommand("mceApplyTextcolor",a,re),E(re)})},eO(t,a).getOr(iR)):p==="remove"?(E(""),t.execCommand("mceRemoveTextcolor",a)):(E(p),t.execCommand("mceApplyTextcolor",a,p))},fR=(t,a,p)=>t.concat(aR(a).concat(cR(p))),tO=(t,a,p)=>E=>{E(fR(t,a,p))},dR=(t,a,p)=>{const E=a==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(E,p)},nO=(t,a)=>{t.setTooltip(a)},rO=(t,a)=>p=>{const E=eO(t,a);return sn(E,p.toUpperCase())},tS=(t,a,p)=>{if(tn(p))return a==="forecolor"?"Text color":"Background color";const E=a==="forecolor"?"Text color {0}":"Background color {0}",z=fR(lA(t,a),a,!1),Y=Ve(z,re=>re.value===p).getOr({text:""}).text;return t.translate([E,t.translate(Y)])},hR=(t,a,p,E)=>{t.ui.registry.addSplitButton(a,{tooltip:tS(t,p,E.get()),presets:"color",icon:a==="forecolor"?"text-color":"highlight-bg-color",select:rO(t,p),columns:J7(t,p),fetch:tO(lA(t,p),p,Q7(t)),onAction:z=>{uR(t,p,E.get(),C)},onItemAction:(z,Y)=>{uR(t,p,Y,re=>{E.set(re),nR(t,{name:a,color:re})})},onSetup:z=>{dR(z,a,E.get());const Y=re=>{re.name===a&&(dR(z,re.name,re.color),nO(z,tS(t,p,re.color)))};return t.on("TextColorChange",Y),qC(Vc(t)(z),()=>{t.off("TextColorChange",Y)})}})},mR=(t,a,p,E,z)=>{t.ui.registry.addNestedMenuItem(a,{text:E,icon:a==="forecolor"?"text-color":"highlight-bg-color",onSetup:Y=>(nO(Y,tS(t,p,z.get())),dR(Y,a,z.get()),Vc(t)(Y)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:rO(t,p),initData:{storageKey:p},onAction:Y=>{uR(t,p,Y.value,re=>{z.set(re),nR(t,{name:a,color:re})})}}]})},oO=t=>(a,p)=>{let E=!1;const z=xe=>{const Be=xe.getData().colorpicker;E?(a(P.from(Be)),xe.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",Be]))},Y=(xe,Ee)=>{Ee.name==="hex-valid"&&(E=Ee.value)},re={colorpicker:p};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:re,onAction:Y,onSubmit:z,onClose:C,onCancel:()=>{a(P.none())}})},gR=t=>{cA(t);const a=KV(t),p=XV(t),E=q(a),z=q(p);hR(t,"forecolor","forecolor",E),hR(t,"backcolor","hilitecolor",z),mR(t,"forecolor","forecolor","Text color",E),mR(t,"backcolor","hilitecolor","Background color",z)},pR=(t,a,p,E,z,Y,re,xe)=>{const Ee=Wk(a),je=tU(a,p,E,z!=="color"?"normal":"color",Y,re,xe);return Gk(t,Ee,je,E,{menuType:z})},tU=(t,a,p,E,z,Y,re)=>an(ne(t,xe=>xe.type==="choiceitem"?p7(xe).fold(Jm,Ee=>P.some(_7(Ee,p===1,E,a,Y(Ee.value),z,re,Wk(t)))):P.none())),uA=(t,a)=>{const p=fp(a);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+p.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(a==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:z=>a==="color"?mi(z.element,"[aria-checked=true]"):P.none()}},nU=(t,a)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:a==="color"?".tox-swatches__row":".tox-collection__group",cell:a==="color"?`.${w5}`:`.${Ax}`}},rU=(t,a)=>{const p=oU(t,a),E=a.colorinput.getColorCols(t.initData.storageKey),z="color",re={...pR(Xr("menu-value"),p,xe=>{t.onAction({value:xe})},E,z,Yh.CLOSE_ON_EXECUTE,t.select.getOr(H),a.shared.providers),markers:fp(z),movement:uA(E,z)};return{type:"widget",data:{value:Xr("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[XC.widget(ey.sketch(re))]}},oU=(t,a)=>{const p=t.initData.allowCustomColors&&a.colorinput.hasCustomColors();return t.initData.colors.fold(()=>fR(a.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,p),E=>E.concat(cR(p)))},aO=Xr("cell-over"),sO=Xr("cell-execute"),aU=t=>(a,p)=>t.shared.providers.translate(`${p} columns, ${a} rows`),sU=(t,a,p)=>{const E=re=>go(re,aO,{row:t,col:a}),z=re=>go(re,sO,{row:t,col:a}),Y=(re,xe)=>{xe.stop(),z(re)};return Pl({dom:{tag:"div",attributes:{role:"button","aria-label":p}},behaviours:gr([jo("insert-table-picker-cell",[Xn($r(),ko.focus),Xn(Ci(),z),Xn(xi(),Y),Xn(nc(),Y)]),qo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),ko.config({onFocus:E})])})},fA=(t,a,p)=>{const E=[];for(let z=0;z<a;z++){const Y=[];for(let re=0;re<p;re++){const xe=t(z+1,re+1);Y.push(sU(z,re,xe))}E.push(Y)}return E},vR=(t,a,p,E,z)=>{for(let Y=0;Y<E;Y++)for(let re=0;re<z;re++)qo.set(t[Y][re],Y<=a&&re<=p)},yR=t=>ie(t,a=>ne(a,Tu)),bR=(t,a)=>ai(`${a}x${t}`),iU={inserttable:(t,a)=>{const z=aU(a),Y=fA(z,10,10),re=bR(0,0),xe=Qa({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[re],behaviours:gr([Ho.config({})])});return{type:"widget",data:{value:Xr("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[XC.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:yR(Y).concat(xe.asSpec()),behaviours:gr([jo("insert-table-picker",[ms(Ee=>{Ho.set(xe.get(Ee),[re])}),Z2(aO,(Ee,Be,je)=>{const{row:et,col:st}=je.event;vR(Y,et,st,10,10),Ho.set(xe.get(Ee),[bR(et+1,st+1)])}),Z2(sO,(Ee,Be,je)=>{const{row:et,col:st}=je.event;t.onAction({numRows:et+1,numColumns:st+1}),pa(Ee,wu())})]),po.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:rU},xR=(t,a)=>Ft(iU,t.fancytype).map(p=>p(t,a)),wR=(t,a,p,E=!0,z=!1)=>{const Y=z?OV(p.icons):jd(p.icons),re=Ee=>({isEnabled:()=>!Co.isDisabled(Ee),setEnabled:Be=>Co.set(Ee,!Be),setIconFill:(Be,je)=>{mi(Ee.element,`svg path[class="${Be}"], rect[class="${Be}"]`).each(et=>{Lr(et,"fill",je)})},setTooltip:Be=>{const je=p.translate(Be);jl(Ee.element,{"aria-label":je,title:je})}}),xe=cy({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,caret:P.some(Y),checkMark:P.none(),shortcutContent:t.shortcut},p,E);return tg({data:hp(t),getApi:re,enabled:t.enabled,onAction:C,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},xe,a,p)},dA=(t,a,p,E=!0)=>{const z=re=>({isEnabled:()=>!Co.isDisabled(re),setEnabled:xe=>Co.set(re,!xe)}),Y=cy({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,caret:P.none(),checkMark:P.none(),shortcutContent:t.shortcut},p,E);return tg({data:hp(t),getApi:z,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},Y,a,p)},iO=t=>({type:"separator",dom:{tag:"div",classes:[Ax,Kz]},components:t.text.map(ai).toArray()}),lU=(t,a,p,E=!0)=>{const z=re=>({setActive:xe=>{qo.set(re,xe)},isActive:()=>qo.isOn(re),isEnabled:()=>!Co.isDisabled(re),setEnabled:xe=>Co.set(re,!xe)}),Y=cy({iconContent:t.icon,textContent:t.text,htmlContent:P.none(),ariaLabel:t.text,checkMark:P.some(Px(p.icons)),caret:P.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},p,E);return hs(tg({data:hp(t),enabled:t.enabled,getApi:z,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},Y,a,p),{toggling:{toggleClass:I8,toggleOnExecute:!1,selected:t.active}})},cU=E7,lO=iO,uU=dA,fU=wR,dU=lU,hU=xR,mU=J5;var gU=Object.freeze({__proto__:null,getCoupled:(t,a,p,E)=>p.getOrCreate(t,a,E),getExistingCoupled:(t,a,p,E)=>p.getExisting(t,a,E)}),pU=[yc("others",gf(Wo.value,oi()))],cO=Object.freeze({__proto__:null,init:()=>{const t={},a=(Y,re)=>{if(ot(Y.others).length===0)throw new Error("Cannot find any known coupled components");return Ft(t,re)},p=(Y,re,xe)=>a(re,xe).getOrThunk(()=>{const Be=Ft(re.others,xe).getOrDie("No information found for coupled component: "+xe)(Y),je=Y.getSystem().build(Be);return t[xe]=je,je}),E=(Y,re,xe)=>a(re,xe).orThunk(()=>(Ft(re.others,xe).getOrDie("No information found for coupled component: "+xe),P.none())),z=O({});return Qc({readState:z,getExisting:E,getOrCreate:p})}});const pi=Ki({fields:pU,name:"coupling",apis:gU,state:cO}),CR=t=>{let a=P.none(),p=[];const E=Be=>CR(je=>{z(et=>{je(Be(et))})}),z=Be=>{re()?Ee(Be):p.push(Be)},Y=Be=>{re()||(a=P.some(Be),xe(p),p=[])},re=()=>a.isSome(),xe=Be=>{fe(Be,Ee)},Ee=Be=>{a.each(je=>{setTimeout(()=>{Be(je)},0)})};return t(Y),{get:z,map:E,isReady:re}},vU={nu:CR,pure:t=>CR(a=>{a(t)})},yU=t=>{setTimeout(()=>{throw t},0)},Kv=t=>{const a=Ee=>{t().then(Ee,yU)};return{map:Ee=>Kv(()=>t().then(Ee)),bind:Ee=>Kv(()=>t().then(Be=>Ee(Be).toPromise())),anonBind:Ee=>Kv(()=>t().then(()=>Ee.toPromise())),toLazy:()=>vU.nu(a),toCached:()=>{let Ee=null;return Kv(()=>(Ee===null&&(Ee=t()),Ee))},toPromise:t,get:a}},cc={nu:t=>Kv(()=>new Promise(t)),pure:t=>Kv(()=>Promise.resolve(t))},uO=O("sink"),fO=O(Fc({name:uO(),overrides:O({dom:{tag:"div"},behaviours:gr([Nl.config({useFixed:j})]),events:bs([Ah(Ca()),Ah(fo()),Ah(xi())])})})),dO=(t,a)=>{const p=t.getHotspot(a).getOr(a),E="hotspot",z=t.getAnchorOverrides();return t.layouts.fold(()=>({type:E,hotspot:p,overrides:z}),Y=>({type:E,hotspot:p,overrides:z,layouts:Y}))},bU=(t,a,p)=>{const E=t.fetch;return E(p).map(a)},xU=(t,a,p,E,z,Y,re)=>{const xe=bU(t,a,E),Ee=hO(E,t);return xe.map(Be=>Be.bind(je=>P.from(Wv.sketch({...Y.menu(),uid:jp(""),data:je,highlightOnOpen:re,onOpenMenu:(et,st)=>{const mt=Ee().getOrDie();Nl.position(mt,st,{anchor:p}),va.decloak(z)},onOpenSubmenu:(et,st,mt)=>{const Mt=Ee().getOrDie();Nl.position(Mt,mt,{anchor:{type:"submenu",item:st}}),va.decloak(z)},onRepositionMenu:(et,st,mt)=>{const Mt=Ee().getOrDie();Nl.position(Mt,st,{anchor:p}),fe(mt,Xt=>{Nl.position(Mt,Xt.triggeredMenu,{anchor:{type:"submenu",item:Xt.triggeringItem}})})},onEscape:()=>(ko.focus(E),va.close(z),P.some(!0))}))))},hA=(t,a,p,E,z,Y,re)=>{const xe=dO(t,p);return xU(t,a,xe,p,E,z,re).map(Be=>(Be.fold(()=>{va.isOpen(E)&&va.close(E)},je=>{va.cloak(E),va.open(E,je),Y(E)}),E))},wU=(t,a,p,E,z,Y,re)=>(va.close(E),cc.pure(E)),SR=(t,a,p,E,z,Y)=>{const re=pi.getCoupled(p,"sandbox");return(va.isOpen(re)?wU:hA)(t,a,p,re,E,z,Y)},CU=(t,a,p)=>{const E=da.getCurrent(a).getOr(a),z=ci(t.element);p?To(E.element,"min-width",z+"px"):La(E.element,z)},hO=(t,a)=>t.getSystem().getByUid(a.uid+"-"+uO()).map(p=>()=>Wo.value(p)).getOrThunk(()=>a.lazySink.fold(()=>()=>Wo.error(new Error("No internal sink is specified, nor could an external sink be found")),p=>()=>p(t))),mO=t=>{va.getState(t).each(a=>{Wv.repositionMenus(a)})},TR=(t,a,p)=>{const E=Zg(),z=(xe,Ee)=>{const Be=dO(t,a);E.link(a.element),t.matchWidth&&CU(Be.hotspot,Ee,t.useMinWidth),t.onOpen(Be,xe,Ee),p!==void 0&&p.onOpen!==void 0&&p.onOpen(xe,Ee)},Y=(xe,Ee)=>{E.unlink(a.element),p!==void 0&&p.onClose!==void 0&&p.onClose(xe,Ee)},re=hO(a,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:E.id,role:"listbox"}},behaviours:nf.augment(t.sandboxBehaviours,[Fr.config({store:{mode:"memory",initialValue:a}}),va.config({onOpen:z,onClose:Y,isPartOf:(xe,Ee,Be)=>Lh(Ee,Be)||Lh(a,Be),getAttachPoint:()=>re().getOrDie()}),da.config({find:xe=>va.getState(xe).bind(Ee=>da.getCurrent(Ee))}),Pc.config({channels:{...$1({isExtraPart:H}),...Rv({doReposition:mO})}})])}},gO=t=>{const a=pi.getCoupled(t,"sandbox");mO(a)},kR=()=>[En("sandboxClasses",[]),nf.field("sandboxBehaviours",[da,Pc,va,Fr])],SU=O([qn("dom"),qn("fetch"),Sa("onOpen"),ru("onExecute"),En("getHotspot",P.some),En("getAnchorOverrides",O({})),Om(),Fi("dropdownBehaviours",[qo,pi,po,ko]),qn("toggleClass"),En("eventOrder",{}),Ia("lazySink"),En("matchWidth",!1),En("useMinWidth",!1),Ia("role")].concat(kR())),TU=O([Af({schema:[c1(),En("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),fO()]),kU=(t,a,p,E)=>{const z=je=>Ft(t.dom,"attributes").bind(et=>Ft(et,je)),Y=je=>{va.getState(je).each(et=>{Wv.highlightPrimary(et)})},re=(je,et,st)=>SR(t,D,je,E,et,st),xe=je=>{re(je,Y,zc.HighlightMenuAndItem).get(C)},Ee={expand:je=>{qo.isOn(je)||re(je,C,zc.HighlightNone).get(C)},open:je=>{qo.isOn(je)||re(je,C,zc.HighlightMenuAndItem).get(C)},refetch:je=>pi.getExistingCoupled(je,"sandbox").fold(()=>re(je,C,zc.HighlightMenuAndItem).map(C),st=>hA(t,D,je,st,E,C,zc.HighlightMenuAndItem).map(C)),isOpen:qo.isOn,close:je=>{qo.isOn(je)&&re(je,C,zc.HighlightMenuAndItem).get(C)},repositionMenus:je=>{qo.isOn(je)&&gO(je)}},Be=(je,et)=>(kh(je),P.some(!0));return{uid:t.uid,dom:t.dom,components:a,behaviours:Si(t.dropdownBehaviours,[qo.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),pi.config({others:{sandbox:je=>TR(t,je,{onOpen:()=>qo.on(je),onClose:()=>qo.off(je)})}}),po.config({mode:"special",onSpace:Be,onEnter:Be,onDown:(je,et)=>{if(ud.isOpen(je)){const st=pi.getCoupled(je,"sandbox");Y(st)}else ud.open(je);return P.some(!0)},onEscape:(je,et)=>ud.isOpen(je)?(ud.close(je),P.some(!0)):P.none()}),ko.config({})]),events:Gh(P.some(xe)),eventOrder:{...t.eventOrder,[Ci()]:["disabling","toggling","alloy.base.behaviour"]},apis:Ee,domModification:{attributes:{"aria-haspopup":"true",...t.role.fold(()=>({}),je=>({role:je})),...t.dom.tag==="button"?{type:z("type").getOr("button")}:{}}}}},ud=Bl({name:"Dropdown",configFields:SU(),partFields:TU(),factory:kU,apis:{open:(t,a)=>t.open(a),refetch:(t,a)=>t.refetch(a),expand:(t,a)=>t.expand(a),close:(t,a)=>t.close(a),isOpen:(t,a)=>t.isOpen(a),repositionMenus:(t,a)=>t.repositionMenus(a)}}),AU=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},MU=t=>{const a=Fr.getValue(t),p=zk(t).map(Z8);ud.refetch(a).get(()=>{const E=pi.getCoupled(a,"sandbox");p.each(z=>zk(E).each(Y=>E5(Y,z)))})},EU=(t,a)=>{_U(t).each(p=>{BE(t,p.element,a.event.eventType,a.event.interactionEvent)})},_U=t=>va.getState(t).bind(Na.getHighlighted).bind(Na.getHighlighted),RU=t=>Ni(t.element,Vk)?P.some(t.element):mi(t.element,"."+Vk),AR=(t,a,p)=>{M5(t).each(E=>{_5(E,p),RU(a).each(Y=>{yi(Y,"id").each(re=>Lr(E.element,"aria-controls",re))})}),Lr(p.element,"aria-selected","true")},LU=(t,a,p)=>{Lr(p.element,"aria-selected","false")},DU=t=>{M5(t).each(a=>ko.focus(a))},$U=t=>pi.getExistingCoupled(t,"sandbox").bind(zk).map(Z8).map(p=>p.fetchPattern).getOr("");var nS;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(nS||(nS={}));const OU=(t,a,p,E,z)=>{const Y=p.shared.providers,re=xe=>z?{...xe,shortcut:P.none(),icon:xe.text.isSome()?P.none():xe.icon}:xe;switch(t.type){case"menuitem":return y7(t).fold(Jm,xe=>P.some(uU(re(xe),a,Y,E)));case"nestedmenuitem":return SV(t).fold(Jm,xe=>P.some(fU(re(xe),a,Y,E,z)));case"togglemenuitem":return kV(t).fold(Jm,xe=>P.some(dU(re(xe),a,Y,E)));case"separator":return F5(t).fold(Jm,xe=>P.some(lO(xe)));case"fancymenuitem":return wV(t).fold(Jm,xe=>hU(xe,p));default:return console.error("Unknown item in general menu",t),P.none()}},PU=(t,a,p,E,z,Y,re)=>{const xe=E===1,Ee=!xe||Wk(t);return an(ne(t,Be=>{switch(Be.type){case"separator":return lV(Be).fold(Jm,je=>P.some(lO(je)));case"cardmenuitem":return m7(Be).fold(Jm,je=>P.some(mU({...je,onAction:et=>{je.onAction(et),p(je.value,je.meta)}},z,Y,{itemBehaviours:A7(je.meta,Y),cardText:{matchText:a,highlightOn:re}})));case"autocompleteitem":default:return o7(Be).fold(Jm,je=>P.some(cU(je,a,xe,"normal",p,z,Y,Ee)))}}))},pO=(t,a,p,E,z,Y)=>{const re=Wk(a),xe=an(ne(a,je=>{const et=mt=>z?!pn(mt,"text"):re,st=mt=>OU(mt,p,E,et(mt),z);return je.type==="nestedmenuitem"&&je.getSubmenuItems().length<=0?st({...je,enabled:!1}):st(je)})),Ee=AU(Y);return(z?WC:Gk)(t,re,xe,1,Ee)},mA=t=>Wv.singleData(t.value,t),IU=(t,a,p,E)=>{const z=uA(a,E),Y=fp(E);return{data:mA({...t,movement:z,menuBehaviours:YC.unnamedEvents(a!=="auto"?[]:[ms((re,xe)=>{V5(re,4,Y.item).each(({numColumns:Ee,numRows:Be})=>{po.setGridSize(re,Be,Ee)})})])}),menu:{markers:fp(E),fakeFocus:p===nS.ContentFocus}}},NU=(t,a)=>y5(zt.fromDom(a.startContainer)).map(p=>{const E=t.createRng();return E.selectNode(p.dom),E}),FU={register:(t,a)=>{const p=Xr("autocompleter"),E=q(!1),z=q(!1),Y=Pl(Ws.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:p}},components:[],fireDismissalEventInstead:{},inlineBehaviours:gr([jo("dismissAutocompleter",[Xn(Tm(),()=>je()),Xn(e1(),(Dn,hn)=>{yi(hn.event.target,"id").each(rn=>Lr(zt.fromDom(t.getBody()),"aria-activedescendant",rn))})])]),lazySink:a.getSink})),re=()=>Ws.isOpen(Y),xe=z.get,Ee=()=>{if(re()){Ws.hide(Y),t.dom.remove(p,!1);const Dn=zt.fromDom(t.getBody());yi(Dn,"aria-owns").filter(hn=>hn===p).each(()=>{Xa(Dn,"aria-owns"),Xa(Dn,"aria-activedescendant")})}},Be=()=>Ws.getContent(Y).bind(Dn=>de(Dn.components(),0)),je=()=>t.execCommand("mceAutocompleterClose"),et=Dn=>{const hn=We(Dn,rn=>P.from(rn.columns)).getOr(1);return ie(Dn,rn=>{const kn=rn.items;return PU(kn,rn.matchText,(Vn,hr)=>{const Yn=t.selection.getRng();NU(t.dom,Yn).each(br=>{const Mr={hide:()=>je(),reload:ea=>{Ee(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:ea})}};E.set(!0),rn.onAction(Mr,br,Vn,hr),E.set(!1)})},hn,Yh.BUBBLE_TO_SANDBOX,a,rn.highlightOn)})},st=(Dn,hn)=>{Zz(zt.fromDom(t.getBody())).each(rn=>{const kn=We(Dn,Vn=>P.from(Vn.columns)).getOr(1);Ws.showMenuAt(Y,{anchor:{type:"node",root:zt.fromDom(t.getBody()),node:P.from(rn)}},IU(Gk("autocompleter-value",!0,hn,kn,{menuType:"normal"}),kn,nS.ContentFocus,"normal"))}),Be().each(Na.highlightFirst)},mt=Dn=>{const hn=et(Dn);hn.length>0?(st(Dn,hn),Lr(zt.fromDom(t.getBody()),"aria-owns",p),t.inline||Mt()):Ee()},Mt=()=>{t.dom.get(p)&&t.dom.remove(p,!1);const Dn=t.getDoc().documentElement,hn=t.selection.getNode(),rn=UE(Y.element);Mi(rn,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${hn.offsetTop}px`,left:`${hn.offsetLeft}px`}),t.dom.add(Dn,rn.dom),mi(rn,'[role="menu"]').each(kn=>{Bo(kn,"position"),Bo(kn,"max-height")})};t.on("AutocompleterStart",({lookupData:Dn})=>{z.set(!0),E.set(!1),mt(Dn)}),t.on("AutocompleterUpdate",({lookupData:Dn})=>mt(Dn)),t.on("AutocompleterEnd",()=>{Ee(),z.set(!1),E.set(!1)});const Xt={cancelIfNecessary:je,isMenuOpen:re,isActive:xe,isProcessingAction:E.get,getMenu:Be};jz.setup(Xt,t)}},vO=["visible","hidden","clip"],yO=t=>Et(t).length>0&&!he(vO,t),MR=t=>{if(De(t)){const a=Ms(t,"overflow-x"),p=Ms(t,"overflow-y");return yO(a)||yO(p)}else return!1},BU=t=>{const a=MT(t,MR),p=a.length===0?Zl(t).map(Ys).map(E=>MT(E,MR)).getOr([]):a;return Me(p).map(E=>({element:E,others:p.slice(1)}))},Xv=(t,a)=>Km(t)?BU(a):P.none(),Fx=t=>{const a=[...ne(t.others,Js),bl()];return eb(Js(t.element),a)},rS=(t,a,p)=>Qf(t,a,p).isSome(),bO=(t,a)=>{let p=null;return{cancel:()=>{p!==null&&(clearTimeout(p),p=null)},schedule:(...Y)=>{p=setTimeout(()=>{t.apply(null,Y),p=null},a)}}},xO=5,HU=400,wO=t=>{const a=t.raw;return a.touches===void 0||a.touches.length!==1?P.none():P.some(a.touches[0])},zU=(t,a)=>{const p=Math.abs(t.clientX-a.x),E=Math.abs(t.clientY-a.y);return p>xO||E>xO},VU=t=>{const a=ia(),p=q(!1),E=bO(Be=>{t.triggerEvent(Yf(),Be),p.set(!0)},HU),z=Be=>(wO(Be).each(je=>{E.cancel();const et={x:je.clientX,y:je.clientY,target:Be.target};E.schedule(Be),p.set(!1),a.set(et)}),P.none()),Y=Be=>(E.cancel(),wO(Be).each(je=>{a.on(et=>{zU(je,et)&&a.clear()})}),P.none()),re=Be=>{E.cancel();const je=et=>Qt(et.target,Be.target);return a.get().filter(je).map(et=>p.get()?(Be.prevent(),!1):t.triggerEvent(nc(),Be))},xe=bt([{key:eo(),value:z},{key:lo(),value:Y},{key:Ko(),value:re}]);return{fireIfReady:(Be,je)=>Ft(xe,je).bind(et=>et(Be))}},UU=t=>t.raw.which===C_[0]&&!he(["input","textarea"],vo(t.target))&&!rS(t.target,'[contenteditable="true"]'),WU=(t,a)=>{const p={stopBackspace:!0,...a},E=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],z=VU(p),Y=ne(E.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),mt=>sc(t,mt,Mt=>{z.fireIfReady(Mt,mt).each(Dn=>{Dn&&Mt.kill()}),p.triggerEvent(mt,Mt)&&Mt.kill()})),re=ia(),xe=sc(t,"paste",mt=>{z.fireIfReady(mt,"paste").each(Xt=>{Xt&&mt.kill()}),p.triggerEvent("paste",mt)&&mt.kill(),re.set(setTimeout(()=>{p.triggerEvent(wi(),mt)},0))}),Ee=sc(t,"keydown",mt=>{p.triggerEvent("keydown",mt)?mt.kill():p.stopBackspace&&UU(mt)&&mt.prevent()}),Be=sc(t,"focusin",mt=>{p.triggerEvent("focusin",mt)&&mt.kill()}),je=ia(),et=sc(t,"focusout",mt=>{p.triggerEvent("focusout",mt)&&mt.kill(),je.set(setTimeout(()=>{p.triggerEvent(Sl(),mt)},0))});return{unbind:()=>{fe(Y,mt=>{mt.unbind()}),Ee.unbind(),Be.unbind(),et.unbind(),xe.unbind(),re.on(clearTimeout),je.on(clearTimeout)}}},CO=(t,a)=>{const p=Ft(t,"target").getOr(a);return q(p)},GU=(t,a)=>{const p=q(!1),E=q(!1);return{stop:()=>{p.set(!0)},cut:()=>{E.set(!0)},isStopped:p.get,isCut:E.get,event:t,setSource:a.set,getSource:a.get}},SO=t=>{const a=q(!1);return{stop:()=>{a.set(!0)},cut:C,isStopped:a.get,isCut:H,event:t,setSource:R("Cannot set source of a broadcasted event"),getSource:R("Cannot get source of a broadcasted event")}},oS=Ae.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),TO=(t,a,p,E,z,Y)=>{const re=t(a,E),xe=GU(p,z);return re.fold(()=>(Y.logEventNoHandlers(a,E),oS.complete()),Ee=>{const Be=Ee.descHandler;return Jp(Be)(xe),xe.isStopped()?(Y.logEventStopped(a,Ee.element,Be.purpose),oS.stopped()):xe.isCut()?(Y.logEventCut(a,Ee.element,Be.purpose),oS.complete()):Bn(Ee.element).fold(()=>(Y.logNoParent(a,Ee.element,Be.purpose),oS.complete()),et=>(Y.logEventResponse(a,Ee.element,Be.purpose),oS.resume(et)))})},kO=(t,a,p,E,z,Y)=>TO(t,a,p,E,z,Y).fold(j,re=>kO(t,a,p,re,z,Y),H),ZU=(t,a,p,E,z)=>{const Y=CO(p,E);return TO(t,a,p,E,Y,z)},jU=(t,a,p)=>{const E=SO(a);return fe(t,z=>{const Y=z.descHandler;Jp(Y)(E)}),E.isStopped()},ER=(t,a,p,E)=>AO(t,a,p,p.target,E),AO=(t,a,p,E,z)=>{const Y=CO(p,E);return kO(t,a,p,E,Y,z)},YU=(t,a)=>({element:t,descHandler:a}),KU=(t,a)=>({id:t,descHandler:a}),MO=()=>{const t={},a=(re,xe,Ee)=>{Ge(Ee,(Be,je)=>{const et=t[je]!==void 0?t[je]:{};et[xe]=ew(Be,re),t[je]=et})},p=(re,xe)=>o1(xe).bind(Ee=>Ft(re,Ee)).map(Ee=>YU(xe,Ee));return{registerId:a,unregisterId:re=>{Ge(t,(xe,Ee)=>{pn(xe,re)&&delete xe[re]})},filterByType:re=>Ft(t,re).map(xe=>Gt(xe,(Ee,Be)=>KU(Be,Ee))).getOr([]),find:(re,xe,Ee)=>Ft(t,xe).bind(Be=>en(Ee,je=>p(Be,je),re))}},EO=()=>{const t=MO(),a={},p=Be=>{const je=Be.element;return o1(je).getOrThunk(()=>Vg("uid-",Be.element))},E=(Be,je)=>{const et=a[je];if(et===Be)Y(Be);else throw new Error('The tagId "'+je+'" is already used by: '+Rd(et.element)+`
Cannot use it for: `+Rd(Be.element)+`
The conflicting element is`+(Wa(et.element)?" ":" not ")+"already in the DOM")},z=Be=>{const je=p(Be);_n(a,je)&&E(Be,je);const et=[Be];t.registerId(et,je,Be.events),a[je]=Be},Y=Be=>{o1(Be.element).each(je=>{delete a[je],t.unregisterId(je)})};return{find:(Be,je,et)=>t.find(Be,je,et),filter:Be=>t.filterByType(Be),register:z,unregister:Y,getById:Be=>Ft(a,Be)}},Kh=ou({name:"Container",factory:t=>{const{attributes:a,...p}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...a},...p},components:t.components,behaviours:Bh(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[En("components",[]),Fi("containerBehaviours",[]),En("events",{}),En("domModification",{}),En("eventOrder",{})]}),gA=t=>{const a=hn=>Bn(t.element).fold(j,rn=>Qt(hn,rn)),p=EO(),E=(hn,rn)=>p.find(a,hn,rn),z=WU(t.element,{triggerEvent:(hn,rn)=>Ab(hn,rn.target,kn=>ER(E,hn,rn,kn))}),Y={debugInfo:O("real"),triggerEvent:(hn,rn,kn)=>{Ab(hn,rn,Vn=>AO(E,hn,kn,rn,Vn))},triggerFocus:(hn,rn)=>{o1(hn).fold(()=>{Ic(hn)},kn=>{Ab(qu(),hn,Vn=>(ZU(E,qu(),{originator:rn,kill:C,prevent:C,target:hn},hn,Vn),!1))})},triggerEscape:(hn,rn)=>{Y.triggerEvent("keydown",hn.element,rn.event)},getByUid:hn=>Xt(hn),getByDom:hn=>Dn(hn),build:Pl,buildOrPatch:Sb,addToGui:hn=>{Ee(hn)},removeFromGui:hn=>{Be(hn)},addToWorld:hn=>{re(hn)},removeFromWorld:hn=>{xe(hn)},broadcast:hn=>{st(hn)},broadcastOn:(hn,rn)=>{mt(hn,rn)},broadcastEvent:(hn,rn)=>{Mt(hn,rn)},isConnected:j},re=hn=>{hn.connect(Y),kt(hn.element)||(p.register(hn),fe(hn.components(),re),Y.triggerEvent(Kf(),hn.element,{target:hn.element}))},xe=hn=>{kt(hn.element)||(fe(hn.components(),xe),p.unregister(hn)),hn.disconnect()},Ee=hn=>{zm(t,hn)},Be=hn=>{Bd(hn)},je=()=>{z.unbind(),Xl(t.element)},et=hn=>{const rn=p.filter(Tl());fe(rn,kn=>{const Vn=kn.descHandler;Jp(Vn)(hn)})},st=hn=>{et({universal:!0,data:hn})},mt=(hn,rn)=>{et({universal:!1,channels:hn,data:rn})},Mt=(hn,rn)=>{const kn=p.filter(hn);return jU(kn,rn)},Xt=hn=>p.getById(hn).fold(()=>Wo.error(new Error('Could not find component with uid: "'+hn+'" in system.')),Wo.value),Dn=hn=>{const rn=o1(hn).getOr("not found");return Xt(rn)};return re(t),{root:t,element:t.element,destroy:je,add:Ee,remove:Be,getByUid:Xt,getByDom:Dn,addToWorld:re,removeFromWorld:xe,broadcast:st,broadcastOn:mt,broadcastEvent:Mt}},XU=(t,a)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:ne(t.items,a.interpreter)}),JU=O([En("prefix","form-field"),Fi("fieldBehaviours",[da,Fr])]),QU=O([Fc({schema:[qn("dom")],name:"label"}),Fc({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[qn("text")],name:"aria-descriptor"}),Fl({factory:{sketch:t=>{const a=rt(t,["factory"]);return t.factory.sketch(a)}},schema:[qn("factory")],name:"field"})]),qU=(t,a,p,E)=>{const z=Si(t.fieldBehaviours,[da.config({find:xe=>gs(xe,t,"field")}),Fr.config({store:{mode:"manual",getValue:xe=>da.getCurrent(xe).bind(Fr.getValue),setValue:(xe,Ee)=>{da.getCurrent(xe).each(Be=>{Fr.setValue(Be,Ee)})}}})]),Y=bs([ms((xe,Ee)=>{const Be=JT(xe,t,["label","field","aria-descriptor"]);Be.field().each(je=>{const et=Xr(t.prefix);Be.label().each(st=>{Lr(st.element,"for",et),Lr(je.element,"id",et)}),Be["aria-descriptor"]().each(st=>{const mt=Xr(t.prefix);Lr(st.element,"id",mt),Lr(je.element,"aria-describedby",mt)})})})]),re={getField:xe=>gs(xe,t,"field"),getLabel:xe=>gs(xe,t,"label")};return{uid:t.uid,dom:t.dom,components:a,behaviours:z,events:Y,apis:re}},qa=Bl({name:"FormField",configFields:JU(),partFields:QU(),factory:qU,apis:{getField:(t,a)=>t.getField(a),getLabel:(t,a)=>t.getLabel(a)}});var pA=Object.freeze({__proto__:null,exhibit:(t,a)=>qc({attributes:bt([{key:a.tabAttr,value:"true"}])})}),eW=[En("tabAttr","data-alloy-tabstop")];const Ns=Ki({fields:eW,name:"tabstopping",active:pA});var tW=tinymce.util.Tools.resolve("tinymce.html.Entities");const aS=(t,a,p,E)=>{const z=rW(t,a,p,E);return qa.sketch(z)},nW=(t,a)=>aS(t,a,[],[]),rW=(t,a,p,E)=>({dom:sS(p),components:t.toArray().concat([a]),fieldBehaviours:gr(E)}),Mee=()=>sS([]),sS=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),fd=(t,a)=>qa.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ai(a.translate(t))]}),$u=Xr("form-component-change"),Bx=Xr("form-close"),Jv=Xr("form-cancel"),rg=Xr("form-action"),iS=Xr("form-submit"),_R=Xr("form-block"),RR=Xr("form-unblock"),_O=Xr("form-tabchange"),RO=Xr("form-resize"),oW=(t,a,p)=>{const E=t.label.map(mt=>fd(mt,a)),z=a.icons(),Y=mt=>{var Mt;return(Mt=z[mt])!==null&&Mt!==void 0?Mt:mt},re=mt=>(Mt,Xt)=>{Qf(Xt.event.target,"[data-collection-item-value]").each(Dn=>{mt(Mt,Xt,Dn,Ka(Dn,"data-collection-item-value"))})},xe=(mt,Mt)=>{const Xt=ne(Mt,rn=>{const kn=_f.translate(rn.text),Vn=t.columns===1?`<div class="tox-collection__item-label">${kn}</div>`:"",hr=`<div class="tox-collection__item-icon">${Y(rn.icon)}</div>`,Yn={_:" "," - ":" ","-":" "},br=kn.replace(/\_| \- |\-/g,ea=>Yn[ea]);return`<div class="tox-collection__item${a.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${tW.encodeAllRaw(rn.value)}" title="${br}" aria-label="${br}">${hr}${Vn}</div>`}),Dn=t.columns!=="auto"&&t.columns>1?ce(Xt,t.columns):[Xt],hn=ne(Dn,rn=>`<div class="tox-collection__group">${rn.join("")}</div>`);zg(mt.element,hn.join(""))},Ee=re((mt,Mt,Xt,Dn)=>{Mt.stop(),a.isDisabled()||go(mt,rg,{name:t.name,value:Dn})}),Be=[Xn($r(),re((mt,Mt,Xt)=>{Ic(Xt)})),Xn(xi(),Ee),Xn(nc(),Ee),Xn(_o(),re((mt,Mt,Xt)=>{mi(mt.element,"."+VC).each(Dn=>{Is(Dn,VC)}),hi(Xt,VC)})),Xn(sa(),re(mt=>{mi(mt.element,"."+VC).each(Mt=>{Is(Mt,VC)})})),xf(re((mt,Mt,Xt,Dn)=>{go(mt,rg,{name:t.name,value:Dn})}))],je=(mt,Mt)=>ne(Xi(mt.element,".tox-collection__item"),Mt),et=qa.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:D},behaviours:gr([Co.config({disabled:a.isDisabled,onDisabled:mt=>{je(mt,Mt=>{hi(Mt,"tox-collection__item--state-disabled"),Lr(Mt,"aria-disabled",!0)})},onEnabled:mt=>{je(mt,Mt=>{Is(Mt,"tox-collection__item--state-disabled"),Xa(Mt,"aria-disabled")})}}),Qi(),Ho.config({}),Fr.config({store:{mode:"memory",initialValue:p.getOr([])},onSetValue:(mt,Mt)=>{xe(mt,Mt),t.columns==="auto"&&V5(mt,5,"tox-collection__item").each(({numRows:Xt,numColumns:Dn})=>{po.setGridSize(mt,Xt,Dn)}),pa(mt,RO)}}),Ns.config({}),po.config(nU(t.columns,"normal")),jo("collection-events",Be)]),eventOrder:{[Ci()]:["disabling","alloy.base.behaviour","collection-events"]}});return aS(E,et,["tox-form__group--collection"],[])},aW=["input","textarea"],LO=t=>{const a=vo(t);return he(aW,a)},DO=(t,a)=>{const p=a.getRoot(t).getOr(t.element);Is(p,a.invalidClass),a.notify.each(E=>{LO(t.element)&&Lr(t.element,"aria-invalid",!1),E.getContainer(t).each(z=>{zg(z,E.validHtml)}),E.onValid(t)})},LR=(t,a,p,E)=>{const z=a.getRoot(t).getOr(t.element);hi(z,a.invalidClass),a.notify.each(Y=>{LO(t.element)&&Lr(t.element,"aria-invalid",!0),Y.getContainer(t).each(re=>{zg(re,E)}),Y.onInvalid(t,E)})},uy=(t,a,p)=>a.validator.fold(()=>cc.pure(Wo.value(!0)),E=>E.validate(t)),gp=(t,a,p)=>(a.notify.each(E=>{E.onValidate(t)}),uy(t,a).map(E=>t.getSystem().isConnected()?E.fold(z=>(LR(t,a,p,z),Wo.error(z)),z=>(DO(t,a),Wo.value(z))):Wo.error("No longer in system")));var $O=Object.freeze({__proto__:null,markValid:DO,markInvalid:LR,query:uy,run:gp,isInvalid:(t,a)=>{const p=a.getRoot(t).getOr(t.element);return Ni(p,a.invalidClass)}}),vA=Object.freeze({__proto__:null,events:(t,a)=>t.validator.map(p=>bs([Xn(p.onEvent,E=>{gp(E,t,a).get(D)})].concat(p.validateOnLoad?[ms(E=>{gp(E,t,a).get(C)})]:[]))).getOr({})}),iW=[qn("invalidClass"),En("getRoot",P.none),Ql("notify",[En("aria","alert"),En("getContainer",P.none),En("validHtml",""),Sa("onValid"),Sa("onInvalid"),Sa("onValidate")]),Ql("validator",[qn("validate"),En("onEvent","input"),En("validateOnLoad",!0)])];const Df=Ki({fields:iW,name:"invalidating",active:vA,apis:$O,extra:{validation:t=>a=>{const p=Fr.getValue(a);return cc.pure(t(p))}}});var lW=Object.freeze({__proto__:null,events:()=>bs([U2(Cl(),j)]),exhibit:()=>qc({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const lS=Ki({fields:[],name:"unselecting",active:lW}),cW=(t,a)=>ud.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:gr([Bi.button(a.providers.isDisabled),Qi(),lS.config({}),Ns.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:a.getSink,fetch:p=>cc.nu(E=>t.fetch(E)).map(E=>P.from(mA(hs(pR(Xr("menu-value"),E,z=>{t.onItemAction(p,z)},t.columns,t.presets,Yh.CLOSE_ON_EXECUTE,H,a.providers),{movement:uA(t.columns,t.presets)})))),parts:{menu:Mx(!1,1,t.presets)}}),OO=Xr("color-input-change"),PO=Xr("color-swatch-change"),cS=Xr("color-picker-cancel"),uW=(t,a,p,E)=>{const z=qa.parts.field({factory:sy,inputClasses:["tox-textfield"],data:E,onSetValue:Be=>Df.run(Be).get(C),inputBehaviours:gr([Co.config({disabled:a.providers.isDisabled}),Qi(),Ns.config({}),Df.config({invalidClass:"tox-textbox-field-invalid",getRoot:Be=>fr(Be.element),notify:{onValid:Be=>{const je=Fr.getValue(Be);go(Be,OO,{color:je})}},validator:{validateOnLoad:!1,validate:Be=>{const je=Fr.getValue(Be);if(je.length===0)return cc.pure(Wo.value(!0));{const et=zt.fromTag("span");To(et,"background-color",je);const st=Rs(et,"background-color").fold(()=>Wo.error("blah"),mt=>Wo.value(je));return cc.pure(st)}}}})]),selectOnFocus:!1}),Y=t.label.map(Be=>fd(Be,a.providers)),re=(Be,je)=>{go(Be,PO,{value:je})},xe=(Be,je)=>{Ee.getOpt(Be).each(et=>{je==="custom"?p.colorPicker(st=>{st.fold(()=>pa(et,cS),mt=>{re(et,mt),sR(t.storageKey,mt)})},"#ffffff"):je==="remove"?re(et,""):re(et,je)})},Ee=Qa(cW({dom:{tag:"span",attributes:{"aria-label":a.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Ml,ji,Yi],onLtr:()=>[ji,Ml,Yi]},components:[],fetch:tO(p.getColors(t.storageKey),t.storageKey,p.hasCustomColors()),columns:p.getColorCols(t.storageKey),presets:"color",onItemAction:xe},a));return qa.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Y.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[z,Ee.asSpec()]}]),fieldBehaviours:gr([jo("form-field-events",[Xn(OO,(Be,je)=>{Ee.getOpt(Be).each(et=>{To(et.element,"background-color",je.event.color)}),go(Be,$u,{name:t.name})}),Xn(PO,(Be,je)=>{qa.getField(Be).each(et=>{Fr.setValue(et,je.event.value),da.getCurrent(Be).each(ko.focus)})}),Xn(cS,(Be,je)=>{qa.getField(Be).each(et=>{da.getCurrent(Be).each(ko.focus)})})])])})},DR=Fc({schema:[qn("dom")],name:"label"}),Qv=t=>Fc({name:""+t+"-edge",overrides:a=>a.model.manager.edgeActions[t].fold(()=>({}),E=>({events:bs([cb(eo(),(z,Y,re)=>E(z,re),[a]),cb(fo(),(z,Y,re)=>E(z,re),[a]),cb(Ha(),(z,Y,re)=>{re.mouseIsDown.get()&&E(z,re)},[a])])}))}),fW=Qv("top-left"),dW=Qv("top"),IO=Qv("top-right"),hW=Qv("right"),mW=Qv("bottom-right"),gW=Qv("bottom"),NO=Qv("bottom-left"),pW=Qv("left"),vW=Fl({name:"thumb",defaults:O({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:bs([Gp(eo(),t,"spectrum"),Gp(lo(),t,"spectrum"),Gp(Ko(),t,"spectrum"),Gp(fo(),t,"spectrum"),Gp(Ha(),t,"spectrum"),Gp(is(),t,"spectrum")])})}),yW=Fl({schema:[zs("mouseIsDown",()=>q(!1))],name:"spectrum",overrides:t=>{const p=t.model.manager,E=(z,Y)=>p.getValueFromEvent(Y).map(re=>p.setValueFrom(z,t,re));return{behaviours:gr([po.config({mode:"special",onLeft:z=>p.onLeft(z,t),onRight:z=>p.onRight(z,t),onUp:z=>p.onUp(z,t),onDown:z=>p.onDown(z,t)}),ko.config({})]),events:bs([Xn(eo(),E),Xn(lo(),E),Xn(fo(),E),Xn(Ha(),(z,Y)=>{t.mouseIsDown.get()&&E(z,Y)})])}}});var bW=[DR,pW,hW,dW,gW,fW,IO,NO,mW,vW,yW];const Hx=O("slider.change.value"),FO=t=>t.type.indexOf("touch")!==-1,$R=t=>{const a=t.event.raw;if(FO(a)){const p=a;return p.touches!==void 0&&p.touches.length===1?P.some(p.touches[0]).map(E=>Ma(E.clientX,E.clientY)):P.none()}else{const p=a;return p.clientX!==void 0?P.some(p).map(E=>Ma(E.clientX,E.clientY)):P.none()}},xW="top",wW="right",CW="bottom",SW="left",qv=t=>t.model.minX,Kd=t=>t.model.minY,bA=t=>t.model.minX-1,xA=t=>t.model.minY-1,fy=t=>t.model.maxX,og=t=>t.model.maxY,Ou=t=>t.model.maxX+1,zx=t=>t.model.maxY+1,OR=(t,a,p)=>a(t)-p(t),PR=t=>OR(t,fy,qv),IR=t=>OR(t,og,Kd),BO=t=>PR(t)/2,HO=t=>IR(t)/2,dy=t=>t.stepSize,NR=t=>t.snapToGrid,zO=t=>t.snapStart,VO=t=>t.rounded,uS=(t,a)=>t[a+"-edge"]!==void 0,UO=t=>uS(t,SW),FR=t=>uS(t,wW),BR=t=>uS(t,xW),HR=t=>uS(t,CW),pp=t=>t.model.value.get(),e0=(t,a)=>({x:t,y:a}),Xd=(t,a)=>{go(t,Hx(),{value:a})},TW=(t,a)=>{Xd(t,e0(bA(a),xA(a)))},kW=(t,a)=>{Xd(t,xA(a))},AW=(t,a)=>{Xd(t,e0(BO(a),xA(a)))},zR=(t,a)=>{Xd(t,e0(Ou(a),xA(a)))},MW=(t,a)=>{Xd(t,Ou(a))},WO=(t,a)=>{Xd(t,e0(Ou(a),HO(a)))},EW=(t,a)=>{Xd(t,e0(Ou(a),zx(a)))},_W=(t,a)=>{Xd(t,zx(a))},RW=(t,a)=>{Xd(t,e0(BO(a),zx(a)))},LW=(t,a)=>{Xd(t,e0(bA(a),zx(a)))},DW=(t,a)=>{Xd(t,bA(a))},$W=(t,a)=>{Xd(t,e0(bA(a),HO(a)))},VR=(t,a,p,E)=>t<a?t:t>p?p:t===a?a-1:Math.max(a,t-E),wA=(t,a,p,E)=>t>p?t:t<a?a:t===p?p+1:Math.min(p,t+E),UR=(t,a,p)=>Math.max(a,Math.min(p,t)),OW=(t,a,p,E,z)=>z.fold(()=>{const Y=t-a,re=Math.round(Y/E)*E;return UR(a+re,a-1,p+1)},Y=>{const re=(t-Y)%E,xe=Math.round(re/E),Ee=Math.floor((t-Y)/E),Be=Math.floor((p-Y)/E),je=Math.min(Be,Ee+xe),et=Y+je*E;return Math.max(Y,et)}),PW=(t,a,p)=>Math.min(p,Math.max(t,a))-a,GO=t=>{const{min:a,max:p,range:E,value:z,step:Y,snap:re,snapStart:xe,rounded:Ee,hasMinEdge:Be,hasMaxEdge:je,minBound:et,maxBound:st,screenRange:mt}=t,Mt=Be?a-1:a,Xt=je?p+1:p;if(z<et)return Mt;if(z>st)return Xt;{const Dn=PW(z,et,st),hn=UR(Dn/mt*E+a,Mt,Xt);return re&&hn>=a&&hn<=p?OW(hn,a,p,Y,xe):Ee?Math.round(hn):hn}},ZO=t=>{const{min:a,max:p,range:E,value:z,hasMinEdge:Y,hasMaxEdge:re,maxBound:xe,maxOffset:Ee,centerMinEdge:Be,centerMaxEdge:je}=t;return z<a?Y?0:Be:z>p?re?xe:je:(z-a)/E*Ee},WR="top",jO="right",GR="bottom",CA="left",YO="width",ZR="height",ag=t=>t.element.dom.getBoundingClientRect(),dd=(t,a)=>t[a],SA=t=>{const a=ag(t);return dd(a,CA)},KO=t=>{const a=ag(t);return dd(a,jO)},TA=t=>{const a=ag(t);return dd(a,WR)},XO=t=>{const a=ag(t);return dd(a,GR)},kA=t=>{const a=ag(t);return dd(a,YO)},sg=t=>{const a=ag(t);return dd(a,ZR)},JO=(t,a,p)=>(t+a)/2-p,Vx=(t,a)=>{const p=ag(t),E=ag(a),z=dd(p,CA),Y=dd(p,jO),re=dd(E,CA);return JO(z,Y,re)},QO=(t,a)=>{const p=ag(t),E=ag(a),z=dd(p,WR),Y=dd(p,GR),re=dd(E,WR);return JO(z,Y,re)},Ux=(t,a)=>{go(t,Hx(),{value:a})},jR=(t,a,p)=>{const E={min:qv(a),max:fy(a),range:PR(a),value:p,step:dy(a),snap:NR(a),snapStart:zO(a),rounded:VO(a),hasMinEdge:UO(a),hasMaxEdge:FR(a),minBound:SA(t),maxBound:KO(t),screenRange:kA(t)};return GO(E)},IW=(t,a,p)=>{const E=jR(t,a,p);return Ux(t,E),E},NW=(t,a)=>{const p=qv(a);Ux(t,p)},qO=(t,a)=>{const p=fy(a);Ux(t,p)},FW=(t,a,p)=>{const z=(t>0?wA:VR)(pp(p),qv(p),fy(p),dy(p));return Ux(a,z),P.some(z)},AA=t=>(a,p)=>FW(t,a,p).map(j),YR=t=>$R(t).map(p=>p.left),KR=(t,a,p,E,z)=>{const re=kA(t),xe=E.bind(je=>P.some(Vx(je,t))).getOr(0),Ee=z.bind(je=>P.some(Vx(je,t))).getOr(re),Be={min:qv(a),max:fy(a),range:PR(a),value:p,hasMinEdge:UO(a),hasMaxEdge:FR(a),minBound:SA(t),minOffset:0,maxBound:KO(t),maxOffset:re,centerMinEdge:xe,centerMaxEdge:Ee};return ZO(Be)},XR=(t,a,p,E,z,Y)=>{const re=KR(a,Y,p,E,z);return SA(a)-SA(t)+re},$f=(t,a,p,E)=>{const z=pp(p),Y=XR(t,E.getSpectrum(t),z,E.getLeftEdge(t),E.getRightEdge(t),p),re=ci(a.element)/2;To(a.element,"left",Y-re+"px")},BW=AA(-1),HW=AA(1),eP=P.none,tP=P.none,zW={"top-left":P.none(),top:P.none(),"top-right":P.none(),right:P.some(MW),"bottom-right":P.none(),bottom:P.none(),"bottom-left":P.none(),left:P.some(DW)};var VW=Object.freeze({__proto__:null,setValueFrom:IW,setToMin:NW,setToMax:qO,findValueOfOffset:jR,getValueFromEvent:YR,findPositionOfValue:XR,setPositionFromValue:$f,onLeft:BW,onRight:HW,onUp:eP,onDown:tP,edgeActions:zW});const MA=(t,a)=>{go(t,Hx(),{value:a})},JR=(t,a,p)=>{const E={min:Kd(a),max:og(a),range:IR(a),value:p,step:dy(a),snap:NR(a),snapStart:zO(a),rounded:VO(a),hasMinEdge:BR(a),hasMaxEdge:HR(a),minBound:TA(t),maxBound:XO(t),screenRange:sg(t)};return GO(E)},UW=(t,a,p)=>{const E=JR(t,a,p);return MA(t,E),E},WW=(t,a)=>{const p=Kd(a);MA(t,p)},GW=(t,a)=>{const p=og(a);MA(t,p)},nP=(t,a,p)=>{const z=(t>0?wA:VR)(pp(p),Kd(p),og(p),dy(p));return MA(a,z),P.some(z)},rP=t=>(a,p)=>nP(t,a,p).map(j),ZW=t=>$R(t).map(p=>p.top),jW=(t,a,p,E,z)=>{const re=sg(t),xe=E.bind(je=>P.some(QO(je,t))).getOr(0),Ee=z.bind(je=>P.some(QO(je,t))).getOr(re),Be={min:Kd(a),max:og(a),range:IR(a),value:p,hasMinEdge:BR(a),hasMaxEdge:HR(a),minBound:TA(t),minOffset:0,maxBound:XO(t),maxOffset:re,centerMinEdge:xe,centerMaxEdge:Ee};return ZO(Be)},EA=(t,a,p,E,z,Y)=>{const re=jW(a,Y,p,E,z);return TA(a)-TA(t)+re},QR=(t,a,p,E)=>{const z=pp(p),Y=EA(t,E.getSpectrum(t),z,E.getTopEdge(t),E.getBottomEdge(t),p),re=Ls(a.element)/2;To(a.element,"top",Y-re+"px")},YW=P.none,qR=P.none,Wx=rP(-1),oP=rP(1),aP={"top-left":P.none(),top:P.some(kW),"top-right":P.none(),right:P.none(),"bottom-right":P.none(),bottom:P.some(_W),"bottom-left":P.none(),left:P.none()};var sP=Object.freeze({__proto__:null,setValueFrom:UW,setToMin:WW,setToMax:GW,findValueOfOffset:JR,getValueFromEvent:ZW,findPositionOfValue:EA,setPositionFromValue:QR,onLeft:YW,onRight:qR,onUp:Wx,onDown:oP,edgeActions:aP});const _A=(t,a)=>{go(t,Hx(),{value:a})},RA=(t,a)=>({x:t,y:a}),LA=(t,a,p)=>{const E=jR(t,a,p.left),z=JR(t,a,p.top),Y=RA(E,z);return _A(t,Y),Y},KW=(t,a,p,E)=>{const z=t>0?wA:VR,Y=a?pp(E).x:z(pp(E).x,qv(E),fy(E),dy(E)),re=a?z(pp(E).y,Kd(E),og(E),dy(E)):pp(E).y;return _A(p,RA(Y,re)),P.some(Y)},DA=(t,a)=>(p,E)=>KW(t,a,p,E).map(j),iP=(t,a)=>{const p=qv(a),E=Kd(a);_A(t,RA(p,E))},lP=(t,a)=>{const p=fy(a),E=og(a);_A(t,RA(p,E))},eL=t=>$R(t),cP=(t,a,p,E)=>{const z=pp(p),Y=XR(t,E.getSpectrum(t),z.x,E.getLeftEdge(t),E.getRightEdge(t),p),re=EA(t,E.getSpectrum(t),z.y,E.getTopEdge(t),E.getBottomEdge(t),p),xe=ci(a.element)/2,Ee=Ls(a.element)/2;To(a.element,"left",Y-xe+"px"),To(a.element,"top",re-Ee+"px")},su=DA(-1,!1),uP=DA(1,!1),XW=DA(-1,!0),JW=DA(1,!0),fP={"top-left":P.some(TW),top:P.some(AW),"top-right":P.some(zR),right:P.some(WO),"bottom-right":P.some(EW),bottom:P.some(RW),"bottom-left":P.some(LW),left:P.some($W)};var QW=Object.freeze({__proto__:null,setValueFrom:LA,setToMin:iP,setToMax:lP,getValueFromEvent:eL,setPositionFromValue:cP,onLeft:su,onRight:uP,onUp:XW,onDown:JW,edgeActions:fP});const qW=[En("stepSize",1),En("onChange",C),En("onChoose",C),En("onInit",C),En("onDragStart",C),En("onDragEnd",C),En("snapToGrid",!1),En("rounded",!0),Ia("snapStart"),yc("model",fa("mode",{x:[En("minX",0),En("maxX",100),zs("value",t=>q(t.mode.minX)),qn("getInitialValue"),rs("manager",VW)],y:[En("minY",0),En("maxY",100),zs("value",t=>q(t.mode.minY)),qn("getInitialValue"),rs("manager",sP)],xy:[En("minX",0),En("maxX",100),En("minY",0),En("maxY",100),zs("value",t=>q({x:t.mode.minX,y:t.mode.minY})),qn("getInitialValue"),rs("manager",QW)]})),Fi("sliderBehaviours",[po,Fr]),zs("mouseIsDown",()=>q(!1))],hd=Bl({name:"Slider",configFields:qW,partFields:bW,factory:(t,a,p,E)=>{const z=Vn=>zh(Vn,t,"thumb"),Y=Vn=>zh(Vn,t,"spectrum"),re=Vn=>gs(Vn,t,"left-edge"),xe=Vn=>gs(Vn,t,"right-edge"),Ee=Vn=>gs(Vn,t,"top-edge"),Be=Vn=>gs(Vn,t,"bottom-edge"),je=t.model,et=je.manager,st=(Vn,hr)=>{et.setPositionFromValue(Vn,hr,t,{getLeftEdge:re,getRightEdge:xe,getTopEdge:Ee,getBottomEdge:Be,getSpectrum:Y})},mt=(Vn,hr)=>{je.value.set(hr);const Yn=z(Vn);st(Vn,Yn)},Mt=(Vn,hr)=>{mt(Vn,hr);const Yn=z(Vn);return t.onChange(Vn,Yn,hr),P.some(!0)},Xt=Vn=>{et.setToMin(Vn,t)},Dn=Vn=>{et.setToMax(Vn,t)},hn=Vn=>{const hr=()=>{gs(Vn,t,"thumb").each(br=>{const Mr=je.value.get();t.onChoose(Vn,br,Mr)})},Yn=t.mouseIsDown.get();t.mouseIsDown.set(!1),Yn&&hr()},rn=(Vn,hr)=>{hr.stop(),t.mouseIsDown.set(!0),t.onDragStart(Vn,z(Vn))},kn=(Vn,hr)=>{hr.stop(),t.onDragEnd(Vn,z(Vn)),hn(Vn)};return{uid:t.uid,dom:t.dom,components:a,behaviours:Si(t.sliderBehaviours,[po.config({mode:"special",focusIn:Vn=>gs(Vn,t,"spectrum").map(po.focusIn).map(j)}),Fr.config({store:{mode:"manual",getValue:Vn=>je.value.get(),setValue:mt}}),Pc.config({channels:{[eC()]:{onReceive:hn}}})]),events:bs([Xn(Hx(),(Vn,hr)=>{Mt(Vn,hr.event.value)}),ms((Vn,hr)=>{const Yn=je.getInitialValue();je.value.set(Yn);const br=z(Vn);st(Vn,br);const Mr=Y(Vn);t.onInit(Vn,br,Mr,je.value.get())}),Xn(eo(),rn),Xn(Ko(),kn),Xn(fo(),rn),Xn(is(),kn)]),apis:{resetToMin:Xt,resetToMax:Dn,setValue:mt,refresh:st},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,a,p)=>{t.setValue(a,p)},resetToMin:(t,a)=>{t.resetToMin(a)},resetToMax:(t,a)=>{t.resetToMax(a)},refresh:(t,a)=>{t.refresh(a)}}}),Jd=Xr("rgb-hex-update"),$A=Xr("slider-update"),tL=Xr("palette-update"),OA=(t,a)=>{const p=hd.parts.spectrum({dom:{tag:"div",classes:[a("hue-slider-spectrum")],attributes:{role:"presentation"}}}),E=hd.parts.thumb({dom:{tag:"div",classes:[a("hue-slider-thumb")],attributes:{role:"presentation"}}});return hd.sketch({dom:{tag:"div",classes:[a("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:O(0)},components:[p,E],sliderBehaviours:gr([ko.config({})]),onChange:(z,Y,re)=>{go(z,$A,{value:re})}})},PA="form",eG=[Fi("formBehaviours",[Fr])],dP=t=>"<alloy.field."+t+">",tG=t=>{const a=(()=>{const Y=[];return{field:(xe,Ee)=>(Y.push(xe),iC(PA,dP(xe),Ee)),record:O(Y)}})(),p=t(a),E=a.record(),z=ne(E,Y=>Fl({name:Y,pname:dP(Y)}));return mC(PA,eG,z,rG,p)},nG=(t,a)=>t.fold(()=>Wo.error(a),Wo.value),rG=(t,a)=>({uid:t.uid,dom:t.dom,components:a,behaviours:Si(t.formBehaviours,[Fr.config({store:{mode:"manual",getValue:p=>{const E=cC(p,t);return Xe(E,(z,Y)=>z().bind(re=>{const xe=da.getCurrent(re);return nG(xe,new Error(`Cannot find a current component to extract the value from for form part '${Y}': `+Rd(re.element)))}).map(Fr.getValue))},setValue:(p,E)=>{Ge(E,(z,Y)=>{gs(p,t,Y).each(re=>{da.getCurrent(re).each(xe=>{Fr.setValue(xe,z)})})})}}})]),apis:{getField:(p,E)=>gs(p,t,E).bind(da.getCurrent)}}),Gx={getField:Ug((t,a,p)=>t.getField(a,p)),sketch:tG},hP=Xr("valid-input"),nL=Xr("invalid-input"),mP=Xr("validating-input"),Qd="colorcustom.rgb.",IA=(t,a,p,E)=>{const z=(st,mt)=>Df.config({invalidClass:a("invalid"),notify:{onValidate:Mt=>{go(Mt,mP,{type:st})},onValid:Mt=>{go(Mt,hP,{type:st,value:Fr.getValue(Mt)})},onInvalid:Mt=>{go(Mt,nL,{type:st,value:Fr.getValue(Mt)})}},validator:{validate:Mt=>{const Xt=Fr.getValue(Mt),Dn=mt(Xt)?Wo.value(!0):Wo.error(t("aria.input.invalid"));return cc.pure(Dn)},validateOnLoad:!1}}),Y=(st,mt,Mt,Xt,Dn)=>{const hn=t(Qd+"range"),rn=qa.parts.label({dom:{tag:"label",attributes:{"aria-label":Xt}},components:[ai(Mt)]}),kn=qa.parts.field({data:Dn,factory:sy,inputAttributes:{type:"text",...mt==="hex"?{"aria-live":"polite"}:{}},inputClasses:[a("textfield")],inputBehaviours:gr([z(mt,st),Ns.config({})]),onSetValue:br=>{Df.isInvalid(br)&&Df.run(br).get(C)}}),Vn=[rn,kn],hr=mt!=="hex"?[qa.parts["aria-descriptor"]({text:hn})]:[],Yn=Vn.concat(hr);return{dom:{tag:"div",attributes:{role:"presentation"}},components:Yn}},re=(st,mt)=>{const Mt=Nx(mt);return Gx.getField(st,"hex").each(Xt=>{ko.isFocused(Xt)||Fr.setValue(st,{hex:Mt.value})}),Mt},xe=(st,mt)=>{const Mt=mt.red,Xt=mt.green,Dn=mt.blue;Fr.setValue(st,{red:Mt,green:Xt,blue:Dn})},Ee=Qa({dom:{tag:"div",classes:[a("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),Be=(st,mt)=>{Ee.getOpt(st).each(Mt=>{To(Mt.element,"background-color","#"+mt.value)})};return ou({factory:()=>{const st={red:q(P.some(255)),green:q(P.some(255)),blue:q(P.some(255)),hex:q(P.some("ffffff"))},mt=(Mo,ja)=>{const xo=QC(ja);xe(Mo,xo),hn(xo)},Mt=Mo=>st[Mo].get(),Xt=(Mo,ja)=>{st[Mo].set(ja)},Dn=()=>Mt("red").bind(Mo=>Mt("green").bind(ja=>Mt("blue").map(xo=>jv(Mo,ja,xo,1)))),hn=Mo=>{const ja=Mo.red,xo=Mo.green,Ea=Mo.blue;Xt("red",P.some(ja)),Xt("green",P.some(xo)),Xt("blue",P.some(Ea))},rn=(Mo,ja)=>{const xo=ja.event;xo.type!=="hex"?Xt(xo.type,P.none()):E(Mo)},kn=(Mo,ja)=>{p(Mo);const xo=R7(ja);Xt("hex",P.some(xo.value));const Ea=QC(xo);xe(Mo,Ea),hn(Ea),go(Mo,Jd,{hex:xo}),Be(Mo,xo)},Vn=(Mo,ja,xo)=>{const Ea=parseInt(xo,10);Xt(ja,P.some(Ea)),Dn().each(Ar=>{const no=re(Mo,Ar);go(Mo,Jd,{hex:no}),Be(Mo,no)})},hr=Mo=>Mo.type==="hex",Yn=(Mo,ja)=>{const xo=ja.event;hr(xo)?kn(Mo,xo.value):Vn(Mo,xo.type,xo.value)},br=Mo=>({label:t(Qd+Mo+".label"),description:t(Qd+Mo+".description")}),Mr=br("red"),ea=br("green"),Zr=br("blue"),Do=br("hex");return hs(Gx.sketch(Mo=>({dom:{tag:"form",classes:[a("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Mo.field("red",qa.sketch(Y(Q5,"red",Mr.label,Mr.description,255))),Mo.field("green",qa.sketch(Y(Q5,"green",ea.label,ea.description,255))),Mo.field("blue",qa.sketch(Y(Q5,"blue",Zr.label,Zr.description,255))),Mo.field("hex",qa.sketch(Y($7,"hex",Do.label,Do.description,"ffffff"))),Ee.asSpec()],formBehaviours:gr([Df.config({invalidClass:a("form-invalid")}),jo("rgb-form-events",[Xn(hP,Yn),Xn(nL,rn),Xn(mP,rn)])])})),{apis:{updateHex:(Mo,ja)=>{Fr.setValue(Mo,{hex:ja.value}),mt(Mo,ja),Be(Mo,ja)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(st,mt,Mt)=>{st.updateHex(mt,Mt)}},extraApis:{}})},oG=(t,a)=>{const p=hd.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[a("sv-palette-spectrum")]}}),E=hd.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[a("sv-palette-thumb")],innerHtml:`<div class=${a("sv-palette-inner-thumb")} role="presentation"></div>`}}),z=(Be,je)=>{const{width:et,height:st}=Be,mt=Be.getContext("2d");if(mt===null)return;mt.fillStyle=je,mt.fillRect(0,0,et,st);const Mt=mt.createLinearGradient(0,0,et,0);Mt.addColorStop(0,"rgba(255,255,255,1)"),Mt.addColorStop(1,"rgba(255,255,255,0)"),mt.fillStyle=Mt,mt.fillRect(0,0,et,st);const Xt=mt.createLinearGradient(0,0,0,st);Xt.addColorStop(0,"rgba(0,0,0,0)"),Xt.addColorStop(1,"rgba(0,0,0,1)"),mt.fillStyle=Xt,mt.fillRect(0,0,et,st)},Y=(Be,je)=>{const et=Be.components()[0].element.dom,st=eS(je,100,100),mt=H7(st);z(et,eR(mt))},re=(Be,je)=>{const et=aA(QC(je));hd.setValue(Be,{x:et.saturation,y:100-et.value})};return ou({factory:Be=>{const je=O({x:0,y:0}),et=(Mt,Xt,Dn)=>{go(Mt,tL,{value:Dn})},st=(Mt,Xt,Dn,hn)=>{z(Dn.element.dom,eR(cd))},mt=gr([da.config({find:P.some}),ko.config({})]);return hd.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[a("sv-palette")]},model:{mode:"xy",getInitialValue:je},rounded:!1,components:[p,E],onChange:et,onInit:st,sliderBehaviours:mt})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(Be,je,et)=>{Y(je,et)},setThumb:(Be,je,et)=>{re(je,et)}},extraApis:{}})},aG=(t,a)=>{const p=z=>{const Y=IA(t,a,z.onValidHex,z.onInvalidHex),re=oG(t,a),xe=Yn=>(100-Yn)/100*360,Ee=Yn=>100-Yn/360*100,Be={paletteRgba:q(cd),paletteHue:q(0)},je=Qa(OA(t,a)),et=Qa(re.sketch({})),st=Qa(Y.sketch({})),mt=(Yn,br,Mr)=>{et.getOpt(Yn).each(ea=>{re.setHue(ea,Mr)})},Mt=(Yn,br)=>{st.getOpt(Yn).each(Mr=>{Y.updateHex(Mr,br)})},Xt=(Yn,br,Mr)=>{je.getOpt(Yn).each(ea=>{hd.setValue(ea,Ee(Mr))})},Dn=(Yn,br)=>{et.getOpt(Yn).each(Mr=>{re.setThumb(Mr,br)})},hn=(Yn,br)=>{const Mr=QC(Yn);Be.paletteRgba.set(Mr),Be.paletteHue.set(br)},rn=(Yn,br,Mr,ea)=>{hn(br,Mr),fe(ea,Zr=>{Zr(Yn,br,Mr)})},kn=()=>{const Yn=[Mt];return(br,Mr)=>{const ea=Mr.event.value,Zr=Be.paletteHue.get(),Do=eS(Zr,ea.x,100-ea.y),Mo=Y7(Do);rn(br,Mo,Zr,Yn)}},Vn=()=>{const Yn=[mt,Mt];return(br,Mr)=>{const ea=xe(Mr.event.value),Zr=Be.paletteRgba.get(),Do=aA(Zr),Mo=eS(ea,Do.saturation,Do.value),ja=Y7(Mo);rn(br,ja,ea,Yn)}},hr=()=>{const Yn=[mt,Xt,Dn];return(br,Mr)=>{const ea=Mr.event.hex,Zr=GV(ea);rn(br,ea,Zr.hue,Yn)}};return{uid:z.uid,dom:z.dom,components:[et.asSpec(),je.asSpec(),st.asSpec()],behaviours:gr([jo("colour-picker-events",[Xn(Jd,hr()),Xn(tL,kn()),Xn($A,Vn())]),da.config({find:Yn=>st.getOpt(Yn)}),po.config({mode:"acyclic"})])}};return ou({name:"ColourPicker",configFields:[qn("dom"),En("onValidHex",C),En("onInvalidHex",C)],factory:p})},sf={self:()=>da.config({find:P.some}),memento:t=>da.config({find:t.getOpt}),childAt:t=>da.config({find:a=>qr(a.element,t).bind(p=>a.getSystem().getByDom(p).toOptional())})},fS=io([En("preprocess",D),En("postprocess",D)]),dS=(t,a)=>{const p=ul("RepresentingConfigs.memento processors",fS,a);return Fr.config({store:{mode:"manual",getValue:E=>{const z=t.get(E),Y=Fr.getValue(z);return p.postprocess(Y)},setValue:(E,z)=>{const Y=p.preprocess(z),re=t.get(E);Fr.setValue(re,Y)}}})},t0=(t,a,p)=>Fr.config({store:{mode:"manual",...t.map(E=>({initialValue:E})).getOr({}),getValue:a,setValue:p}}),rL=(t,a,p)=>t0(t,E=>a(E.element),(E,z)=>p(E.element,z)),pP=t=>rL(t,Y2,zg),hS=t=>Fr.config({store:{mode:"memory",initialValue:t}}),lG={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},cG=t=>a=>t.translate(lG[a]),uG=(t,a,p)=>{const E=Ee=>"tox-"+Ee,z=aG(cG(a),E),Y=Ee=>{go(Ee,rg,{name:"hex-valid",value:!0})},re=Ee=>{go(Ee,rg,{name:"hex-valid",value:!1})},xe=Qa(z.sketch({dom:{tag:"div",classes:[E("color-picker-container")],attributes:{role:"presentation"}},onValidHex:Y,onInvalidHex:re}));return{dom:{tag:"div"},components:[xe.asSpec()],behaviours:gr([t0(p,Ee=>{const Be=xe.get(Ee);return da.getCurrent(Be).bind(st=>Fr.getValue(st).hex).map(st=>"#"+$t(st,"#")).getOr("")},(Ee,Be)=>{const je=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,et=P.from(je.exec(Be)).bind(Mt=>de(Mt,1)),st=xe.get(Ee);da.getCurrent(st).fold(()=>{console.log("Can not find form")},Mt=>{Fr.setValue(Mt,{hex:et.getOr("")}),Gx.getField(Mt,"hex").each(Xt=>{pa(Xt,qs())})})}),sf.self()])}};var fG=tinymce.util.Tools.resolve("tinymce.Resource");const dG=t=>pn(t,"init"),vP=t=>{const a=ia(),p=Qa({dom:{tag:t.tag}}),E=ia();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:gr([jo("custom-editor-events",[ms(z=>{p.getOpt(z).each(Y=>{(dG(t)?t.init(Y.element.dom):fG.load(t.scriptId,t.scriptUrl).then(re=>re(Y.element.dom,t.settings))).then(re=>{E.on(xe=>{re.setValue(xe)}),E.clear(),a.set(re)})})})]),t0(P.none(),()=>a.get().fold(()=>E.get().getOr(""),z=>z.getValue()),(z,Y)=>{a.get().fold(()=>E.set(Y),re=>re.setValue(Y))}),sf.self()]),components:[p.asSpec()]}};var ig=tinymce.util.Tools.resolve("tinymce.util.Tools");const hG=(t,a)=>{const p=ig.explode(a.getOption("images_file_types")),E=z=>ge(p,Y=>pt(z.name.toLowerCase(),`.${Y.toLowerCase()}`));return Ce(ze(t),E)},yP=(t,a,p)=>{const E=(st,mt)=>{mt.stop()},z=st=>(mt,Mt)=>{fe(st,Xt=>{Xt(mt,Mt)})},Y=(st,mt)=>{var Mt;if(!Co.isDisabled(st)){const Xt=mt.event.raw;xe(st,(Mt=Xt.dataTransfer)===null||Mt===void 0?void 0:Mt.files)}},re=(st,mt)=>{const Mt=mt.event.raw.target;xe(st,Mt.files)},xe=(st,mt)=>{mt&&(Fr.setValue(st,hG(mt,a)),go(st,$u,{name:t.name}))},Ee=Qa({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:gr([jo("input-file-events",[Ah(xi()),Ah(nc())])])}),Be=st=>({uid:st.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:gr([hS(p.getOr([])),sf.self(),Co.config({}),qo.config({toggleClass:"dragenter",toggleOnExecute:!1}),jo("dropzone-events",[Xn("dragenter",z([E,qo.toggle])),Xn("dragleave",z([E,qo.toggle])),Xn("dragover",E),Xn("drop",z([E,Y])),Xn(Di(),re)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[ai(a.translate("Drop an image here"))]},hl.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[ai(a.translate("Browse for an image")),Ee.asSpec()],action:mt=>{Ee.get(mt).element.dom.click()},buttonBehaviours:gr([Ns.config({}),Bi.button(a.isDisabled),Qi()])})]}]}),je=t.label.map(st=>fd(st,a)),et=qa.parts.field({factory:{sketch:Be}});return aS(je,et,["tox-form__group--stretched"],[])},mG=(t,a)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:ne(t.items,a.interpreter)}),bP=(t,a)=>{let p=null,E=null;return{cancel:()=>{l(p)||(clearTimeout(p),p=null,E=null)},throttle:(...re)=>{E=re,l(p)&&(p=setTimeout(()=>{const xe=E;p=null,E=null,t.apply(null,xe)},a))}}},mS=(t,a)=>{let p=null;return{cancel:()=>{l(p)||(clearTimeout(p),p=null)},throttle:(...Y)=>{l(p)&&(p=setTimeout(()=>{p=null,t.apply(null,Y)},a))}}},oL=(t,a)=>{let p=null;const E=()=>{l(p)||(clearTimeout(p),p=null)};return{cancel:E,throttle:(...Y)=>{E(),p=setTimeout(()=>{p=null,t.apply(null,Y)},a)}}},NA=Xr("alloy-fake-before-tabstop"),aL=Xr("alloy-fake-after-tabstop"),xP=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:gr([ko.config({ignore:!0}),Ns.config({})])}),wP=(t,a)=>({dom:{tag:"div",classes:["tox-navobj",...t.getOr([])]},components:[xP([NA]),a,xP([aL])],behaviours:gr([sf.childAt(1)])}),CP=(t,a)=>{go(t,Ca(),{raw:{which:9,shiftKey:a}})},SP=(t,a)=>{const p=a.element;Ni(p,NA)?CP(t,!0):Ni(p,aL)&&CP(t,!1)},gS=t=>rS(t,["."+NA,"."+aL].join(","),H),pS=Xr("update-dialog"),FA=Xr("update-title"),lg=Xr("update-body"),BA=Xr("update-footer"),sL=Xr("body-send-message"),vS=Xr("dialog-focus-shifted"),yS=hf().browser,Zx=yS.isSafari(),HA=yS.isFirefox(),iL=Zx||HA,TP=yS.isChromium(),gG=({scrollTop:t,scrollHeight:a,clientHeight:p})=>Math.ceil(t)+p>=a,kP=(t,a)=>t.scrollTo(0,a==="bottom"?99999999:a),pG=(t,a)=>{const p=t.body;return P.from(!/^<!DOCTYPE (html|HTML)/.test(a)&&(!TP&&!Zx||d(p)&&(p.scrollTop!==0||Math.abs(p.scrollHeight-p.clientHeight)>1))?p:t.documentElement)},AP=(t,a,p)=>{const E=t.dom;P.from(E.contentDocument).fold(p,z=>{let Y=0;const re=pG(z,a).map(Ee=>(Y=Ee.scrollTop,Ee)).forall(gG),xe=()=>{const Ee=E.contentWindow;d(Ee)&&(re?kP(Ee,"bottom"):!re&&iL&&Y!==0&&kP(Ee,Y))};Zx&&E.addEventListener("load",xe,{once:!0}),z.open(),z.write(a),z.close(),Zx||xe()})},MP=lt(iL,Zx?500:200).map(t=>bP(AP,t)),EP=(t,a)=>{const p=q(t.getOr(""));return{getValue:E=>p.get(),setValue:(E,z)=>{if(p.get()!==z){const Y=E.element,re=()=>Lr(Y,"srcdoc",z);a?MP.fold(O(AP),xe=>xe.throttle)(Y,z,re):re()}p.set(z)}}},vG=(t,a,p)=>{const E="tox-dialog__iframe",z=t.transparent?[]:[`${E}--opaque`],Y=t.border?["tox-navobj-bordered"]:[],re={...t.label.map(et=>({title:et})).getOr({}),...p.map(et=>({srcdoc:et})).getOr({}),...t.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},xe=EP(p,t.streamContent),Ee=t.label.map(et=>fd(et,a)),Be=et=>wP(P.from(Y),{uid:et.uid,dom:{tag:"iframe",attributes:re,classes:[E,...z]},behaviours:gr([Ns.config({}),ko.config({}),t0(p,xe.getValue,xe.setValue),Pc.config({channels:{[vS]:{onReceive:(st,mt)=>{mt.newFocus.each(Mt=>{fr(st.element).each(Xt=>{(Qt(st.element,Mt)?hi:Is)(Xt,"tox-navobj-bordered-focus")})})}}}})])}),je=qa.parts.field({factory:{sketch:Be}});return aS(Ee,je,["tox-form__group--stretched"],[])},yG=t=>new Promise((a,p)=>{const E=()=>{Y(),a(t)},z=[sc(t,"load",E),sc(t,"error",()=>{Y(),p("Unable to load data from image: "+t.dom.src)})],Y=()=>fe(z,re=>re.unbind());t.dom.complete&&E()}),bG=(t,a,p,E,z)=>{const Y=p*z,re=E*z,xe=Math.max(0,t/2-Y/2),Ee=Math.max(0,a/2-re/2);return{left:xe.toString()+"px",top:Ee.toString()+"px",width:Y.toString()+"px",height:re.toString()+"px"}},zA=(t,a,p)=>{const E=ci(t),z=Ls(t);return Math.min(E/a,z/p,1)},xG=(t,a)=>{const p=q(a.getOr({url:""})),E=Qa({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:a.map(Ee=>({src:Ee.url})).getOr({})}}),z=Qa({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[E.asSpec()]}),Y=(Ee,Be)=>{const je={url:Be.url};Be.zoom.each(st=>je.zoom=st),Be.cachedWidth.each(st=>je.cachedWidth=st),Be.cachedHeight.each(st=>je.cachedHeight=st),p.set(je);const et=()=>{const{cachedWidth:st,cachedHeight:mt,zoom:Mt}=je;if(!i(st)&&!i(mt)){if(i(Mt)){const Dn=zA(Ee.element,st,mt);je.zoom=Dn}const Xt=bG(ci(Ee.element),Ls(Ee.element),st,mt,je.zoom);z.getOpt(Ee).each(Dn=>{Mi(Dn.element,Xt)})}};E.getOpt(Ee).each(st=>{const mt=st.element;Be.url!==Ka(mt,"src")&&(Lr(mt,"src",Be.url),Is(Ee.element,"tox-imagepreview__loaded")),et(),yG(mt).then(Mt=>{Ee.getSystem().isConnected()&&(hi(Ee.element,"tox-imagepreview__loaded"),je.cachedWidth=Mt.dom.naturalWidth,je.cachedHeight=Mt.dom.naturalHeight,et())})})},re={};t.height.each(Ee=>re.height=Ee);const xe=a.map(Ee=>({url:Ee.url,zoom:P.from(Ee.zoom),cachedWidth:P.from(Ee.cachedWidth),cachedHeight:P.from(Ee.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:re,attributes:{role:"presentation"}},components:[z.asSpec()],behaviours:gr([sf.self(),t0(xe,()=>p.get(),Y)])}},wG=(t,a)=>{const p="tox-label",E=t.align==="center"?[`${p}--center`]:[],z=t.align==="end"?[`${p}--end`]:[],Y={dom:{tag:"label",classes:[p,...E,...z]},components:[ai(a.providers.translate(t.label))]},re=ne(t.items,a.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[Y,...re],behaviours:gr([sf.self(),Ho.config({}),pP(P.none()),po.config({mode:"acyclic"})])}},lL=Xr("toolbar.button.execute"),_P=t=>xf((a,p)=>{Lf(t,a)(E=>{go(a,lL,{buttonApi:E}),t.onAction(E)})}),hy=Xr("common-button-display-events"),RP={[Ci()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[Cu()]:["toolbar-button-events",hy],[fo()]:["focusing","alloy.base.behaviour",hy]},bS=t=>To(t.element,"width",Ms(t.element,"width")),LP=(t,a,p)=>Gd(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:p},a),VA=(t,a)=>LP(t,a,[]),n0=(t,a)=>LP(t,a,[Ho.config({})]),DP=(t,a,p)=>({dom:{tag:"span",classes:[`${a}__select-label`]},components:[ai(p.translate(t))],behaviours:gr([Ho.config({})])}),md=Xr("update-menu-text"),r0=Xr("update-menu-icon"),UA=(t,a,p)=>{const E=q(C),z=t.text.map(st=>Qa(DP(st,a,p.providers))),Y=t.icon.map(st=>Qa(n0(st,p.providers.icons))),re=(st,mt)=>{const Mt=Fr.getValue(st);return ko.focus(Mt),go(Mt,"keydown",{raw:mt.event.raw}),ud.close(Mt),P.some(!0)},xe=t.role.fold(()=>({}),st=>({role:st})),Ee=t.tooltip.fold(()=>({}),st=>{const mt=p.providers.translate(st);return{title:mt,"aria-label":mt}}),Be=Gd("chevron-down",{tag:"div",classes:[`${a}__select-chevron`]},p.providers.icons),je=Xr("common-button-display-events");return Qa(ud.sketch({...t.uid?{uid:t.uid}:{},...xe,dom:{tag:"button",classes:[a,`${a}--select`].concat(ne(t.classes,st=>`${a}--${st}`)),attributes:{...Ee}},components:Ox([Y.map(st=>st.asSpec()),z.map(st=>st.asSpec()),P.some(Be)]),matchWidth:!0,useMinWidth:!0,onOpen:(st,mt,Mt)=>{t.searchable&&DU(Mt)},dropdownBehaviours:gr([...t.dropdownBehaviours,Bi.button(()=>t.disabled||p.providers.isDisabled()),Qi(),lS.config({}),Ho.config({}),jo("dropdown-events",[Zv(t,E),eg(t,E)]),jo(je,[ms((st,mt)=>bS(st))]),jo("menubutton-update-display-text",[Xn(md,(st,mt)=>{z.bind(Mt=>Mt.getOpt(st)).each(Mt=>{Ho.set(Mt,[ai(p.providers.translate(mt.event.text))])})}),Xn(r0,(st,mt)=>{Y.bind(Mt=>Mt.getOpt(st)).each(Mt=>{Ho.set(Mt,[n0(mt.event.icon,p.providers.icons)])})})])]),eventOrder:hs(RP,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Cu()]:["toolbar-button-events","dropdown-events",je]}),sandboxBehaviours:gr([po.config({mode:"special",onLeft:re,onRight:re}),jo("dropdown-sandbox-events",[Xn(W8,(st,mt)=>{MU(st),mt.stop()}),Xn(G8,(st,mt)=>{EU(st,mt),mt.stop()})])]),lazySink:p.getSink,toggleClass:`${a}--active`,parts:{menu:{...Mx(!1,t.columns,t.presets),fakeFocus:t.searchable,onHighlightItem:AR,onCollapseMenu:(st,mt,Mt)=>{Na.getHighlighted(Mt).each(Xt=>{AR(st,Mt,Xt)})},onDehighlightItem:LU}},getAnchorOverrides:()=>({maxHeightFunction:(st,mt)=>{mT()(st,mt-10)}}),fetch:st=>cc.nu(M(t.fetch,st))})).asSpec()},CG=t=>A(t),$P=t=>t.type==="separator",SG=t=>pn(t,"getSubmenuItems"),TG={type:"separator"},OP=(t,a)=>{const p=ke(t,(E,z)=>CG(z)?z===""?E:z==="|"?E.length>0&&!$P(E[E.length-1])?E.concat([TG]):E:pn(a,z.toLowerCase())?E.concat([a[z.toLowerCase()]]):E:E.concat([z]),[]);return p.length>0&&$P(p[p.length-1])&&p.pop(),p},kG=(t,a)=>{const p=t.getSubmenuItems(),E=IP(p,a),z=hs(E.menus,{[t.value]:E.items}),Y=hs(E.expansions,{[t.value]:t.value});return{item:t,menus:z,expansions:Y}},PP=t=>{const a=Ft(t,"value").getOrThunk(()=>Xr("generated-menu-item"));return hs({value:a},t)},IP=(t,a)=>{const p=OP(A(t)?t.split(" "):t,a);return $e(p,(E,z)=>{if(SG(z)){const Y=PP(z),re=kG(Y,a);return{menus:hs(E.menus,re.menus),items:[re.item,...E.items],expansions:hs(E.expansions,re.expansions)}}else return{...E,items:[z,...E.items]}},{menus:{},expansions:{},items:[]})},AG=t=>t.search.fold(()=>({searchMode:"no-search"}),a=>({searchMode:"search-with-field",placeholder:a.placeholder})),MG=t=>t.search.fold(()=>({searchMode:"no-search"}),a=>({searchMode:"search-with-results"})),jx=(t,a,p,E)=>{const z=Xr("primary-menu"),Y=IP(t,p.shared.providers.menuItems());if(Y.items.length===0)return P.none();const re=AG(E),xe=pO(z,Y.items,a,p,E.isHorizontalMenu,re),Ee=MG(E),Be=Xe(Y.menus,(et,st)=>pO(st,et,a,p,!1,Ee)),je=hs(Be,yt(z,xe));return P.from(Wv.tieredData(z,je,Y.expansions))},cL=t=>!pn(t,"items"),NP="data-value",FP=(t,a,p,E)=>ne(p,z=>cL(z)?{type:"togglemenuitem",text:z.text,value:z.value,active:z.value===E,onAction:()=>{Fr.setValue(t,z.value),go(t,$u,{name:a}),ko.focus(t)}}:{type:"nestedmenuitem",text:z.text,getSubmenuItems:()=>FP(t,a,z.items,E)}),uL=(t,a)=>We(t,p=>cL(p)?lt(p.value===a,p):uL(p.items,a)),EG=(t,a,p)=>{const E=a.shared.providers,z=p.bind(Ee=>uL(t.items,Ee)).orThunk(()=>Me(t.items).filter(cL)),Y=t.label.map(Ee=>fd(Ee,E)),re=qa.parts.field({dom:{},factory:{sketch:Ee=>UA({uid:Ee.uid,text:z.map(Be=>Be.text),icon:P.none(),tooltip:t.label,role:P.none(),fetch:(Be,je)=>{const et=FP(Be,t.name,t.items,Fr.getValue(Be));je(jx(et,Yh.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!1,search:P.none()}))},onSetup:O(C),getApi:O({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Ns.config({}),t0(z.map(Be=>Be.value),Be=>Ka(Be.element,NP),(Be,je)=>{uL(t.items,je).each(et=>{Lr(Be.element,NP,et.value),go(Be,md,{text:et.text})})})]},"tox-listbox",a.shared)}}),xe={dom:{tag:"div",classes:["tox-listboxfield"]},components:[re]};return qa.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Fe([Y.toArray(),[xe]]),fieldBehaviours:gr([Co.config({disabled:O(!t.enabled),onDisabled:Ee=>{qa.getField(Ee).each(Co.disable)},onEnabled:Ee=>{qa.getField(Ee).each(Co.enable)}})])})},fL=(t,a)=>({dom:{tag:"div",classes:t.classes},components:ne(t.items,a.shared.interpreter)}),_G=(t,a)=>{const p=ne(t.options,z=>({dom:{tag:"option",value:z.value,innerHtml:z.text}})),E=t.data.map(z=>yt("initialValue",z)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:p,behaviours:Si(t.selectBehaviours,[ko.config({}),Fr.config({store:{mode:"manual",getValue:z=>Dd(z.element),setValue:(z,Y)=>{const re=Me(t.options);Ve(t.options,Ee=>Ee.value===Y).isSome()?rv(z.element,Y):z.element.dom.selectedIndex===-1&&Y===""&&re.each(Ee=>rv(z.element,Ee.value))},...E}})])}},RG=ou({name:"HtmlSelect",configFields:[qn("options"),Fi("selectBehaviours",[ko,Fr]),En("selectClasses",[]),En("selectAttributes",{}),Ia("data")],factory:_G}),LG=(t,a,p)=>{const E=ne(t.items,Ee=>({text:a.translate(Ee.text),value:Ee.value})),z=t.label.map(Ee=>fd(Ee,a)),Y=qa.parts.field({dom:{},...p.map(Ee=>({data:Ee})).getOr({}),selectAttributes:{size:t.size},options:E,factory:RG,selectBehaviours:gr([Co.config({disabled:()=>!t.enabled||a.isDisabled()}),Ns.config({}),jo("selectbox-change",[Xn(Di(),(Ee,Be)=>{go(Ee,$u,{name:t.name})})])])}),re=t.size>1?P.none():P.some(Gd("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},a.icons)),xe={dom:{tag:"div",classes:["tox-selectfield"]},components:Fe([[Y],re.toArray()])};return qa.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Fe([z.toArray(),[xe]]),fieldBehaviours:gr([Co.config({disabled:()=>!t.enabled||a.isDisabled(),onDisabled:Ee=>{qa.getField(Ee).each(Co.disable)},onEnabled:Ee=>{qa.getField(Ee).each(Co.enable)}}),Qi()])})},xS=O([En("field1Name","field1"),En("field2Name","field2"),qf("onLockedChange"),Lm(["lockClass"]),En("locked",!1),nf.field("coupledFieldBehaviours",[da,Fr])]),dL=(t,a,p)=>gs(t,a,p).bind(da.getCurrent),BP=(t,a)=>Fl({factory:qa,name:t,overrides:p=>({fieldBehaviours:gr([jo("coupled-input-behaviour",[Xn(qs(),E=>{dL(E,p,a).each(z=>{gs(E,p,"lock").each(Y=>{qo.isOn(Y)&&p.onLockedChange(E,z,Y)})})})])])})}),DG=O([BP("field1","field2"),BP("field2","field1"),Fl({factory:hl,schema:[qn("dom")],name:"lock",overrides:t=>({buttonBehaviours:gr([qo.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),hL=(t,a,p,E)=>({uid:t.uid,dom:t.dom,components:a,behaviours:nf.augment(t.coupledFieldBehaviours,[da.config({find:P.some}),Fr.config({store:{mode:"manual",getValue:z=>{const Y=rp(z,t,["field1","field2"]);return{[t.field1Name]:Fr.getValue(Y.field1()),[t.field2Name]:Fr.getValue(Y.field2())}},setValue:(z,Y)=>{const re=rp(z,t,["field1","field2"]);_n(Y,t.field1Name)&&Fr.setValue(re.field1(),Y[t.field1Name]),_n(Y,t.field2Name)&&Fr.setValue(re.field2(),Y[t.field2Name])}}})]),apis:{getField1:z=>gs(z,t,"field1"),getField2:z=>gs(z,t,"field2"),getLock:z=>gs(z,t,"lock")}}),Of=Bl({name:"FormCoupledInputs",configFields:xS(),partFields:DG(),factory:hL,apis:{getField1:(t,a)=>t.getField1(a),getField2:(t,a)=>t.getField2(a),getLock:(t,a)=>t.getLock(a)}}),mL=t=>{const a={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},p=z=>z in a?a[z]:1;let E=t.value.toFixed(p(t.unit));return E.indexOf(".")!==-1&&(E=E.replace(/\.?0*$/,"")),E+t.unit},WA=t=>{const p=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(p!==null){const E=parseFloat(p[1]),z=p[2];return Wo.value({value:E,unit:z})}else return Wo.error(t)},HP=(t,a)=>{const p={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},E=z=>pn(p,z);return t.unit===a?P.some(t.value):E(t.unit)&&E(a)?p[t.unit]===p[a]?P.some(t.value):P.some(t.value/p[t.unit]*p[a]):P.none()},gL=t=>P.none(),zP=(t,a)=>p=>HP(p,a).map(E=>({value:E*t,unit:a})),VP=(t,a)=>{const p=WA(t).toOptional(),E=WA(a).toOptional();return jn(p,E,(z,Y)=>HP(z,Y.unit).map(re=>Y.value/re).map(re=>zP(re,Y.unit)).getOr(gL)).getOr(gL)},$G=(t,a)=>{let p=gL;const E=Xr("ratio-event"),z=et=>Gd(et,{tag:"span",classes:["tox-icon","tox-lock-icon__"+et]},a.icons),Y=Of.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:a.translate(t.label.getOr("Constrain proportions"))}},components:[z("lock"),z("unlock")],buttonBehaviours:gr([Co.config({disabled:()=>!t.enabled||a.isDisabled()}),Qi(),Ns.config({})])}),re=et=>({dom:{tag:"div",classes:["tox-form__group"]},components:et}),xe=et=>qa.parts.field({factory:sy,inputClasses:["tox-textfield"],inputBehaviours:gr([Co.config({disabled:()=>!t.enabled||a.isDisabled()}),Qi(),Ns.config({}),jo("size-input-events",[Xn(_o(),(st,mt)=>{go(st,E,{isField1:et})}),Xn(Di(),(st,mt)=>{go(st,$u,{name:t.name})})])]),selectOnFocus:!1}),Ee=et=>({dom:{tag:"label",classes:["tox-label"]},components:[ai(a.translate(et))]}),Be=Of.parts.field1(re([qa.parts.label(Ee("Width")),xe(!0)])),je=Of.parts.field2(re([qa.parts.label(Ee("Height")),xe(!1)]));return Of.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[Be,je,re([Ee(Nw),Y])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(et,st,mt)=>{WA(Fr.getValue(et)).each(Mt=>{p(Mt).each(Xt=>{Fr.setValue(st,mL(Xt))})})},coupledFieldBehaviours:gr([Co.config({disabled:()=>!t.enabled||a.isDisabled(),onDisabled:et=>{Of.getField1(et).bind(qa.getField).each(Co.disable),Of.getField2(et).bind(qa.getField).each(Co.disable),Of.getLock(et).each(Co.disable)},onEnabled:et=>{Of.getField1(et).bind(qa.getField).each(Co.enable),Of.getField2(et).bind(qa.getField).each(Co.enable),Of.getLock(et).each(Co.enable)}}),Qi(),jo("size-input-events2",[Xn(E,(et,st)=>{const mt=st.event.isField1,Mt=mt?Of.getField1(et):Of.getField2(et),Xt=mt?Of.getField2(et):Of.getField1(et),Dn=Mt.map(Fr.getValue).getOr(""),hn=Xt.map(Fr.getValue).getOr("");p=VP(Dn,hn)})])])})},UP=(t,a,p)=>{const E=hd.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ai(a.translate(t.label))]}),z=hd.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),Y=hd.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return hd.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:O(p.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[E,z,Y],sliderBehaviours:gr([sf.self(),ko.config({})]),onChoose:(re,xe,Ee)=>{go(re,$u,{name:t.name,value:Ee})}})},WP=(t,a)=>{const p=xe=>({dom:{tag:"th",innerHtml:a.translate(xe)}}),E=xe=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:ne(xe,p)}]}),z=xe=>({dom:{tag:"td",innerHtml:a.translate(xe)}}),Y=xe=>({dom:{tag:"tr"},components:ne(xe,z)}),re=xe=>({dom:{tag:"tbody"},components:ne(xe,Y)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[E(t.header),re(t.cells)],behaviours:gr([Ns.config({}),ko.config({})])}},GP=(t,a)=>{const p=t.label.map(mt=>fd(mt,a)),E=[Co.config({disabled:()=>t.disabled||a.isDisabled()}),Qi(),po.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:mt=>(pa(mt,iS),P.some(!0))}),jo("textfield-change",[Xn(qs(),(mt,Mt)=>{go(mt,$u,{name:t.name})}),Xn(wi(),(mt,Mt)=>{go(mt,$u,{name:t.name})})]),Ns.config({})],z=t.validation.map(mt=>Df.config({getRoot:Mt=>fr(Mt.element),invalidClass:"tox-invalid",validator:{validate:Mt=>{const Xt=Fr.getValue(Mt),Dn=mt.validator(Xt);return cc.pure(Dn===!0?Wo.value(Xt):Wo.error(Dn))},validateOnLoad:mt.validateOnLoad}})).toArray(),Y=t.placeholder.fold(O({}),mt=>({placeholder:a.translate(mt)})),re=t.inputMode.fold(O({}),mt=>({inputmode:mt})),xe={...Y,...re},Ee=qa.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(mt=>({data:mt})).getOr({}),inputAttributes:xe,inputClasses:[t.classname],inputBehaviours:gr(Fe([E,z])),selectOnFocus:!1,factory:sy}),Be=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[Ee]}:Ee,et=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),st=[Co.config({disabled:()=>t.disabled||a.isDisabled(),onDisabled:mt=>{qa.getField(mt).each(Co.disable)},onEnabled:mt=>{qa.getField(mt).each(Co.enable)}}),Qi()];return aS(p,Be,et,st)},ZP=(t,a,p)=>GP({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:P.none(),maximized:t.maximized,data:p},a),jP=(t,a,p)=>GP({name:t.name,multiline:!0,label:t.label,inputMode:P.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:P.none(),maximized:t.maximized,data:p},a),Yx=(t,a)=>a.getAnimationRoot.fold(()=>t.element,p=>p(t)),vp=t=>t.dimension.property,my=(t,a)=>t.dimension.getDimension(a),GA=(t,a)=>{const p=Yx(t,a);Su(p,[a.shrinkingClass,a.growingClass])},ZA=(t,a)=>{Is(t.element,a.openClass),hi(t.element,a.closedClass),To(t.element,vp(a),"0px"),Ks(t.element)},pL=(t,a)=>{Is(t.element,a.closedClass),hi(t.element,a.openClass),Bo(t.element,vp(a))},vL=(t,a,p,E)=>{p.setCollapsed(),To(t.element,vp(a),my(a,t.element)),GA(t,a),ZA(t,a),a.onStartShrink(t),a.onShrunk(t)},OG=(t,a,p,E)=>{const z=E.getOrThunk(()=>my(a,t.element));p.setCollapsed(),To(t.element,vp(a),z),Ks(t.element);const Y=Yx(t,a);Is(Y,a.growingClass),hi(Y,a.shrinkingClass),ZA(t,a),a.onStartShrink(t)},YP=(t,a,p)=>{const E=my(a,t.element);(E==="0px"?vL:OG)(t,a,p,P.some(E))},jA=(t,a,p)=>{const E=Yx(t,a),z=Ni(E,a.shrinkingClass),Y=my(a,t.element);pL(t,a);const re=my(a,t.element);(z?()=>{To(t.element,vp(a),Y),Ks(t.element)}:()=>{ZA(t,a)})(),Is(E,a.shrinkingClass),hi(E,a.growingClass),pL(t,a),To(t.element,vp(a),re),p.setExpanded(),a.onStartGrow(t)},PG=(t,a,p)=>{if(p.isExpanded()){Bo(t.element,vp(a));const E=my(a,t.element);To(t.element,vp(a),E)}},IG=(t,a,p)=>{p.isExpanded()||jA(t,a,p)},NG=(t,a,p)=>{p.isExpanded()&&YP(t,a,p)},KP=(t,a,p)=>{p.isExpanded()&&vL(t,a,p)},FG=(t,a,p)=>p.isExpanded(),XP=(t,a,p)=>p.isCollapsed(),JP=(t,a,p)=>{const E=Yx(t,a);return Ni(E,a.growingClass)===!0},yL=(t,a,p)=>{const E=Yx(t,a);return Ni(E,a.shrinkingClass)===!0};var BG=Object.freeze({__proto__:null,refresh:PG,grow:IG,shrink:NG,immediateShrink:KP,hasGrown:FG,hasShrunk:XP,isGrowing:JP,isShrinking:yL,isTransitioning:(t,a,p)=>JP(t,a)||yL(t,a),toggleGrow:(t,a,p)=>{(p.isExpanded()?YP:jA)(t,a,p)},disableTransitions:GA,immediateGrow:(t,a,p)=>{p.isExpanded()||(pL(t,a),To(t.element,vp(a),my(a,t.element)),GA(t,a),p.setExpanded(),a.onStartGrow(t),a.onGrown(t))}}),zG=Object.freeze({__proto__:null,exhibit:(t,a,p)=>{const E=a.expanded;return qc(E?{classes:[a.openClass],styles:{}}:{classes:[a.closedClass],styles:yt(a.dimension.property,"0px")})},events:(t,a)=>bs([Ed(Ii(),(p,E)=>{E.event.raw.propertyName===t.dimension.property&&(GA(p,t),a.isExpanded()&&Bo(p.element,t.dimension.property),(a.isExpanded()?t.onGrown:t.onShrunk)(p))})])}),QP=[qn("closedClass"),qn("openClass"),qn("shrinkingClass"),qn("growingClass"),Ia("getAnimationRoot"),Sa("onShrunk"),Sa("onStartShrink"),Sa("onGrown"),Sa("onStartGrow"),En("expanded",!1),yc("dimension",fa("property",{width:[rs("property","width"),rs("getDimension",t=>ci(t)+"px")],height:[rs("property","height"),rs("getDimension",t=>Ls(t)+"px")]}))],VG=Object.freeze({__proto__:null,init:t=>{const a=q(t.expanded),p=()=>"expanded: "+a.get();return Qc({isExpanded:()=>a.get()===!0,isCollapsed:()=>a.get()===!1,setCollapsed:M(a.set,!1),setExpanded:M(a.set,!0),readState:p})}});const lf=Ki({fields:QP,name:"sliding",active:zG,apis:BG,state:VG}),bL=t=>({isEnabled:()=>!Co.isDisabled(t),setEnabled:a=>Co.set(t,!a),setActive:a=>{const p=t.element;a?(hi(p,"tox-tbtn--enabled"),Lr(p,"aria-pressed",!0)):(Is(p,"tox-tbtn--enabled"),Xa(p,"aria-pressed"))},isActive:()=>Ni(t.element,"tox-tbtn--enabled"),setText:a=>{go(t,md,{text:a})},setIcon:a=>go(t,r0,{icon:a})}),wS=(t,a,p,E,z=!0)=>UA({text:t.text,icon:t.icon,tooltip:t.tooltip,searchable:t.search.isSome(),role:E,fetch:(Y,re)=>{const xe={pattern:t.search.isSome()?$U(Y):""};t.fetch(Ee=>{re(jx(Ee,Yh.CLOSE_ON_EXECUTE,p,{isHorizontalMenu:!1,search:t.search}))},xe,bL(Y))},onSetup:t.onSetup,getApi:bL,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...z?[Ns.config({})]:[]]},a,p.shared),UG=(t,a,p)=>{const E=Y=>re=>{const xe=!re.isActive();re.setActive(xe),Y.storage.set(xe),p.shared.getSink().each(Ee=>{a().getOpt(Ee).each(Be=>{Ic(Be.element),go(Be,rg,{name:Y.name,value:Y.storage.get()})})})},z=Y=>re=>{re.setActive(Y.storage.get())};return Y=>{Y(ne(t,re=>{const xe=re.text.fold(()=>({}),Ee=>({text:Ee}));return{type:re.type,active:!1,...xe,onAction:E(re),onSetup:z(re)}}))}},qP=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:t,"aria-label":t}},components:[ai(t)]}),xL=Xr("leaf-label-event-id"),YA=({leaf:t,onLeafAction:a,visible:p,treeId:E,selectedId:z,backstage:Y})=>{const re=t.menu.map(Ee=>wS(Ee,"tox-mbtn",Y,P.none(),p)),xe=[qP(t.title)];return re.each(Ee=>xe.push(Ee)),hl.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(p?["tox-tree--leaf__label--visible"]:[])},components:xe,role:"treeitem",action:Ee=>{a(t.id),Ee.getSystem().broadcastOn([`update-active-item-${E}`],{value:t.id})},eventOrder:{[Ca()]:[xL,"keying"]},buttonBehaviours:gr([...p?[Ns.config({})]:[],qo.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Pc.config({channels:{[`update-active-item-${E}`]:{onReceive:(Ee,Be)=>{(Be.value===t.id?qo.on:qo.off)(Ee)}}}}),jo(xL,[ms((Ee,Be)=>{z.each(je=>{(je===t.id?qo.on:qo.off)(Ee)})}),Xn(Ca(),(Ee,Be)=>{const je=Be.event.raw.code==="ArrowLeft",et=Be.event.raw.code==="ArrowRight";je?(tu(Ee.element,".tox-tree--directory").each(st=>{Ee.getSystem().getByDom(st).each(mt=>{kb(st,".tox-tree--directory__label").each(Mt=>{mt.getSystem().getByDom(Mt).each(ko.focus)})})}),Be.stop()):et&&Be.stop()})])])})},eI=(t,a,p)=>Gd(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:p},a),KA=(t,a)=>eI(t,a,[]),tI=Xr("directory-label-event-id"),WG=({directory:t,visible:a,noChildren:p,backstage:E})=>{const z=t.menu.map(xe=>wS(xe,"tox-mbtn",E,P.none())),Y=[{dom:{tag:"div",classes:["tox-chevron"]},components:[KA("chevron-right",E.shared.providers.icons)]},qP(t.title)];z.each(xe=>{Y.push(xe)});const re=xe=>{tu(xe.element,".tox-tree--directory").each(Ee=>{xe.getSystem().getByDom(Ee).each(Be=>{const je=!qo.isOn(Be);qo.toggle(Be),go(xe,"expand-tree-node",{expanded:je,node:t.id})})})};return hl.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(a?["tox-tree--directory__label--visible"]:[])},components:Y,action:re,eventOrder:{[Ca()]:[tI,"keying"]},buttonBehaviours:gr([...a?[Ns.config({})]:[],jo(tI,[Xn(Ca(),(xe,Ee)=>{const Be=Ee.event.raw.code==="ArrowRight",je=Ee.event.raw.code==="ArrowLeft";Be&&p&&Ee.stop(),(Be||je)&&tu(xe.element,".tox-tree--directory").each(et=>{xe.getSystem().getByDom(et).each(st=>{!qo.isOn(st)&&Be||qo.isOn(st)&&je?(re(xe),Ee.stop()):je&&!qo.isOn(st)&&(tu(st.element,".tox-tree--directory").each(mt=>{kb(mt,".tox-tree--directory__label").each(Mt=>{st.getSystem().getByDom(Mt).each(ko.focus)})}),Ee.stop())})})})])])})},GG=({children:t,onLeafAction:a,visible:p,treeId:E,expandedIds:z,selectedId:Y,backstage:re})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(xe=>xe.type==="leaf"?YA({leaf:xe,selectedId:Y,onLeafAction:a,visible:p,treeId:E,backstage:re}):XA({directory:xe,expandedIds:z,selectedId:Y,onLeafAction:a,labelTabstopping:p,treeId:E,backstage:re})),behaviours:gr([lf.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:p}),Ho.config({})])}),ZG=Xr("directory-event-id"),XA=({directory:t,onLeafAction:a,labelTabstopping:p,treeId:E,backstage:z,expandedIds:Y,selectedId:re})=>{const{children:xe}=t,Ee=q(Y),Be=et=>xe.map(st=>st.type==="leaf"?YA({leaf:st,selectedId:re,onLeafAction:a,visible:et,treeId:E,backstage:z}):XA({directory:st,expandedIds:Ee.get(),selectedId:re,onLeafAction:a,labelTabstopping:et,treeId:E,backstage:z})),je=Y.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[WG({directory:t,visible:p,noChildren:t.children.length===0,backstage:z}),GG({children:xe,expandedIds:Y,selectedId:re,onLeafAction:a,visible:je,treeId:E,backstage:z})],behaviours:gr([jo(ZG,[ms((et,st)=>{qo.set(et,je)}),Xn("expand-tree-node",(et,st)=>{const{expanded:mt,node:Mt}=st.event;Ee.set(mt?[...Ee.get(),Mt]:Ee.get().filter(Xt=>Xt!==Mt))})]),qo.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(et,st)=>{const mt=et.components()[1],Mt=Be(st);st?lf.grow(mt):lf.shrink(mt),Ho.set(mt,Mt)}})])}},jG=Xr("tree-event-id"),YG=(t,a)=>{const p=t.onLeafAction.getOr(C),E=t.onToggleExpand.getOr(C),z=t.defaultExpandedIds,Y=q(z),re=q(t.defaultSelectedId),xe=Xr("tree-id"),Ee=(Be,je)=>t.items.map(et=>et.type==="leaf"?YA({leaf:et,selectedId:Be,onLeafAction:p,visible:!0,treeId:xe,backstage:a}):XA({directory:et,selectedId:Be,onLeafAction:p,expandedIds:je,labelTabstopping:!0,treeId:xe,backstage:a}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:Ee(re.get(),Y.get()),behaviours:gr([po.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),jo(jG,[Xn("expand-tree-node",(Be,je)=>{const{expanded:et,node:st}=je.event;Y.set(et?[...Y.get(),st]:Y.get().filter(mt=>mt!==st)),E(Y.get(),{expanded:et,node:st})})]),Pc.config({channels:{[`update-active-item-${xe}`]:{onReceive:(Be,je)=>{re.set(P.some(je.value)),Ho.set(Be,Ee(P.some(je.value),Y.get()))}}}}),Ho.config({})])}};var nI=Object.freeze({__proto__:null,events:(t,a)=>{const E=t.stream.streams.setup(t,a);return bs([Xn(t.event,E),_d(()=>a.cancel())].concat(t.cancelEvent.map(z=>[Xn(z,()=>a.cancel())]).getOr([])))}});const wL=t=>{const a=q(null);return Qc({readState:()=>({timer:a.get()!==null?"set":"unset"}),setTimer:Y=>{a.set(Y)},cancel:()=>{const Y=a.get();Y!==null&&Y.cancel()}})};var KG=Object.freeze({__proto__:null,throttle:wL,init:t=>t.stream.streams.state(t)});const rI=(t,a)=>{const p=t.stream,E=oL(t.onStream,p.delay);return a.setTimer(E),(z,Y)=>{E.throttle(z,Y),p.stopEvent&&Y.stop()}};var XG=[yc("stream",fa("mode",{throttle:[qn("delay"),En("stopEvent",!0),rs("streams",{setup:rI,state:wL})]})),En("event","input"),Ia("cancelEvent"),qf("onStream")];const CL=Ki({fields:XG,name:"streaming",active:nI,state:KG}),Eo=(t,a,p)=>{const E=Fr.getValue(p);Fr.setValue(a,E),SL(a)},Kx=(t,a)=>{const p=t.element,E=Dd(p),z=p.dom;Ka(p,"type")!=="number"&&a(z,E)},SL=t=>{Kx(t,(a,p)=>a.setSelectionRange(p.length,p.length))},oI=(t,a)=>{Kx(t,(p,E)=>p.setSelectionRange(a,E.length))},aI=(t,a,p)=>{if(t.selectsOver){const E=Fr.getValue(a),z=t.getDisplayText(E),Y=Fr.getValue(p);return t.getDisplayText(Y).indexOf(z)===0?P.some(()=>{Eo(t,a,p),oI(a,z.length)}):P.none()}else return P.none()},JA=O("alloy.typeahead.itemexecute"),sI=(t,a,p,E)=>{const z=(et,st,mt)=>{t.previewing.set(!1);const Mt=pi.getCoupled(et,"sandbox");if(va.isOpen(Mt))da.getCurrent(Mt).each(Xt=>{Na.getHighlighted(Xt).fold(()=>{mt(Xt)},()=>{V2(Mt,Xt.element,"keydown",st)})});else{const Xt=Dn=>{da.getCurrent(Dn).each(mt)};hA(t,re(et),et,Mt,E,Xt,zc.HighlightMenuAndItem).get(C)}},Y=A5(t),re=et=>st=>st.map(mt=>{const Mt=Nt(mt.menus),Xt=ie(Mt,hn=>Ce(hn.items,rn=>rn.type==="item"));return Fr.getState(et).update(ne(Xt,hn=>hn.data)),mt}),xe=et=>da.getCurrent(et),Ee="typeaheadevents",Be=[ko.config({}),Fr.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:et=>Dd(et.element),getFallbackEntry:et=>({value:et,meta:{}}),setValue:(et,st)=>{rv(et.element,t.model.getDisplayText(st))},...t.initialData.map(et=>yt("initialValue",et)).getOr({})}}),CL.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(et,st)=>{const mt=pi.getCoupled(et,"sandbox");if(ko.isFocused(et)&&Dd(et.element).length>=t.minChars){const Xt=xe(mt).bind(hn=>Na.getHighlighted(hn).map(Fr.getValue));t.previewing.set(!0);const Dn=hn=>{xe(mt).each(rn=>{Xt.fold(()=>{t.model.selectsOver&&Na.highlightFirst(rn)},kn=>{Na.highlightBy(rn,Vn=>Fr.getValue(Vn).value===kn.value),Na.getHighlighted(rn).orThunk(()=>(Na.highlightFirst(rn),P.none()))})})};hA(t,re(et),et,mt,E,Dn,zc.HighlightJustMenu).get(C)}},cancelEvent:Th()}),po.config({mode:"special",onDown:(et,st)=>(z(et,st,Na.highlightFirst),P.some(!0)),onEscape:et=>{const st=pi.getCoupled(et,"sandbox");return va.isOpen(st)?(va.close(st),P.some(!0)):P.none()},onUp:(et,st)=>(z(et,st,Na.highlightLast),P.some(!0)),onEnter:et=>{const st=pi.getCoupled(et,"sandbox"),mt=va.isOpen(st);if(mt&&!t.previewing.get())return xe(st).bind(Mt=>Na.getHighlighted(Mt)).map(Mt=>(go(et,JA(),{item:Mt}),!0));{const Mt=Fr.getValue(et);return pa(et,Th()),t.onExecute(st,et,Mt),mt&&va.close(st),P.some(!0)}}}),qo.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),pi.config({others:{sandbox:et=>TR(t,et,{onOpen:()=>qo.on(et),onClose:()=>{t.lazyTypeaheadComp.get().each(st=>Xa(st.element,"aria-activedescendant")),qo.off(et)}})}}),jo(Ee,[ms(et=>{t.lazyTypeaheadComp.set(P.some(et))}),_d(et=>{t.lazyTypeaheadComp.set(P.none())}),xf(et=>{const st=C;SR(t,re(et),et,E,st,zc.HighlightMenuAndItem).get(C)}),Xn(JA(),(et,st)=>{const mt=pi.getCoupled(et,"sandbox");Eo(t.model,et,st.event.item),pa(et,Th()),t.onItemExecute(et,mt,st.event.item,Fr.getValue(et)),va.close(mt),SL(et)})].concat(t.dismissOnBlur?[Xn(Sl(),et=>{const st=pi.getCoupled(et,"sandbox");Sf(st.element).isNone()&&va.close(st)})]:[]))],je={[Sm()]:[Fr.name(),CL.name(),Ee],...t.eventOrder};return{uid:t.uid,dom:Hk(hs(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...Y,...Si(t.typeaheadBehaviours,Be)},eventOrder:je}},Hee=O([Ia("lazySink"),qn("fetch"),En("minChars",5),En("responseTime",1e3),Sa("onOpen"),En("getHotspot",P.some),En("getAnchorOverrides",O({})),En("layouts",P.none()),En("eventOrder",{}),U("model",{},[En("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),En("selectsOver",!0),En("populateFromBrowse",!0)]),Sa("onSetValue"),ru("onExecute"),Sa("onItemExecute"),En("inputClasses",[]),En("inputAttributes",{}),En("inputStyles",{}),En("matchWidth",!0),En("useMinWidth",!1),En("dismissOnBlur",!0),Lm(["openClass"]),Ia("initialData"),Fi("typeaheadBehaviours",[ko,Fr,CL,po,qo,pi]),zs("lazyTypeaheadComp",()=>q(P.none)),zs("previewing",()=>q(!0))].concat(UC()).concat(kR())),CS=O([Af({schema:[c1()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(a,p,E)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(z=>{aI(t.model,z,E).fold(()=>{t.model.selectsOver?(Na.dehighlight(p,E),t.previewing.set(!0)):t.previewing.set(!1)},Y=>{Y(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(z=>{t.model.populateFromBrowse&&Eo(t.model,z,E),yi(E.element,"id").each(Y=>Lr(z.element,"aria-activedescendant",Y))})},onExecute:(a,p)=>t.lazyTypeaheadComp.get().map(E=>(go(E,JA(),{item:p}),!0)),onHover:(a,p)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(E=>{t.model.populateFromBrowse&&Eo(t.model,E,p)})}})})]),JG=Bl({name:"Typeahead",configFields:Hee(),partFields:CS(),factory:sI}),gd=t=>({...t,toCached:()=>gd(t.toCached()),bindFuture:Ee=>gd(t.bind(Be=>Be.fold(je=>cc.pure(Wo.error(je)),je=>Ee(je)))),bindResult:Ee=>gd(t.map(Be=>Be.bind(Ee))),mapResult:Ee=>gd(t.map(Be=>Be.map(Ee))),mapError:Ee=>gd(t.map(Be=>Be.mapError(Ee))),foldResult:(Ee,Be)=>t.map(je=>je.fold(Ee,Be)),withTimeout:(Ee,Be)=>gd(cc.nu(je=>{let et=!1;const st=setTimeout(()=>{et=!0,je(Wo.error(Be()))},Ee);t.get(mt=>{et||(clearTimeout(st),je(mt))})}))}),iI=t=>gd(cc.nu(t)),lI=t=>gd(cc.pure(Wo.value(t))),eZ={nu:iI,wrap:gd,pure:lI,value:lI,error:t=>gd(cc.pure(Wo.error(t))),fromResult:t=>gd(cc.pure(t)),fromFuture:t=>gd(t.map(Wo.value)),fromPromise:t=>iI(a=>{t.then(p=>{a(Wo.value(p))},p=>{a(Wo.error(p))})})},QA=(t,a,p=[],E,z,Y)=>{const re=a.fold(()=>({}),Be=>({action:Be})),xe={buttonBehaviours:gr([Bi.button(()=>!t.enabled||Y.isDisabled()),Qi(),Ns.config({}),jo("button press",[G2("click"),G2("mousedown")])].concat(p)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...re},Ee=hs(xe,{dom:E});return hs(Ee,{components:z})},tZ=(t,a,p,E=[])=>{const z=t.tooltip.map(Ee=>({"aria-label":p.translate(Ee),title:p.translate(Ee)})).getOr({}),Y={tag:"button",classes:["tox-tbtn"],attributes:z},re=t.icon.map(Ee=>VA(Ee,p.icons)),xe=Ox([re]);return QA(t,a,E,Y,xe,p)},TL=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},uI=(t,a,p,E=[],z=[])=>{const Y=p.translate(t.text),re=t.icon.map(st=>VA(st,p.icons)),xe=[re.getOrThunk(()=>ai(Y))],Ee=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),et={tag:"button",classes:[...TL(Ee),...re.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...z],attributes:{title:Y}};return QA(t,a,E,et,xe,p)},kL=(t,a,p,E=[],z=[])=>{const Y=uI(t,P.some(a),p,E,z);return hl.sketch(Y)},fI=(t,a)=>p=>{a==="custom"?go(p,rg,{name:t,value:{}}):a==="submit"?pa(p,iS):a==="cancel"?pa(p,Jv):console.error("Unknown button type: ",a)},nZ=(t,a)=>a==="menu",rZ=(t,a)=>a==="custom"||a==="cancel"||a==="submit",oZ=(t,a)=>a==="togglebutton",aZ=(t,a)=>{var p,E;const z=t.icon.map(rn=>n0(rn,a.icons)).map(Qa),Y=rn=>{go(rn,rg,{name:t.name,value:{setIcon:kn=>{z.map(Vn=>Vn.getOpt(rn).each(hr=>{Ho.set(hr,[n0(kn,a.icons)])}))}}})},re=t.buttonType.getOr(t.primary?"primary":"secondary"),xe={...t,name:(p=t.name)!==null&&p!==void 0?p:"",primary:re==="primary",tooltip:P.from(t.tooltip),enabled:(E=t.enabled)!==null&&E!==void 0?E:!1,borderless:!1},Ee=xe.tooltip.map(rn=>({"aria-label":a.translate(rn),title:a.translate(rn)})).getOr({}),Be=TL(re??"secondary"),je=t.icon.isSome()&&t.text.isSome(),et={tag:"button",classes:[...Be.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...je?["tox-button--icon-and-text"]:[]],attributes:Ee},st=[],mt=a.translate(t.text.getOr("")),Mt=ai(mt),Dn=[...Ox([z.map(rn=>rn.asSpec())]),...t.text.isSome()?[Mt]:[]],hn=QA(xe,P.some(Y),st,et,Dn,a);return hl.sketch(hn)},qA=(t,a,p)=>{if(nZ(t,a)){const E=()=>re,z=t,Y={...t,type:"menubutton",search:P.none(),onSetup:xe=>(xe.setEnabled(t.enabled),C),fetch:UG(z.items,E,p)},re=Qa(wS(Y,"tox-tbtn",p,P.none()));return re.asSpec()}else if(rZ(t,a)){const E=fI(t.name,a),z={...t,borderless:!1};return kL(z,E,p.shared.providers,[])}else{if(oZ(t,a))return aZ(t,p.shared.providers);throw console.error("Unknown footer button type: ",a),new Error("Unknown footer button type")}},sZ=(t,a)=>{const p=fI(t.name,"custom");return nW(P.none(),qa.parts.field({factory:hl,...uI(t,P.some(p),a,[hS(""),sf.self()])}))},iZ={type:"separator"},lZ=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:C}),AL=(t,a)=>({type:"menuitem",value:a,text:t,meta:{attach:void 0},onAction:C}),cZ=t=>ne(t,lZ),dI=(t,a)=>Ce(a,p=>p.type===t),hI=(t,a)=>cZ(dI(t,a)),uZ=t=>hI("header",t.targets),fZ=t=>hI("anchor",t.targets),dZ=t=>P.from(t.anchorTop).map(a=>AL("<top>",a)).toArray(),hZ=t=>P.from(t.anchorBottom).map(a=>AL("<bottom>",a)).toArray(),mZ=t=>ne(t,a=>AL(a,a)),mI=t=>ke(t,(a,p)=>a.length===0||p.length===0?a.concat(p):a.concat(iZ,p),[]),ML=(t,a)=>{const p=t.toLowerCase();return Ce(a,E=>{var z;const Y=E.meta!==void 0&&E.meta.text!==void 0?E.meta.text:E.text,re=(z=E.value)!==null&&z!==void 0?z:"";return it(Y.toLowerCase(),p)||it(re.toLowerCase(),p)})},gI=(t,a,p)=>{var E,z;const Y=Fr.getValue(a),re=(z=(E=Y==null?void 0:Y.meta)===null||E===void 0?void 0:E.text)!==null&&z!==void 0?z:Y.value;return p.getLinkInformation().fold(()=>[],Ee=>{const Be=ML(re,mZ(p.getHistory(t)));return t==="file"?mI([Be,ML(re,uZ(Ee)),ML(re,Fe([dZ(Ee),fZ(Ee),hZ(Ee)]))]):Be})},pI=Xr("aria-invalid"),vI=(t,a,p,E)=>{const z=a.shared.providers,Y=rn=>{const kn=Fr.getValue(rn);p.addToHistory(kn.value,t.filetype)},re={...E.map(rn=>({initialData:rn})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":pI,type:"url"},minChars:0,responseTime:0,fetch:rn=>{const kn=gI(t.filetype,rn,p),Vn=jx(kn,Yh.BUBBLE_TO_SANDBOX,a,{isHorizontalMenu:!1,search:P.none()});return cc.pure(Vn)},getHotspot:rn=>Mt.getOpt(rn),onSetValue:(rn,kn)=>{rn.hasConfigured(Df)&&Df.run(rn).get(C)},typeaheadBehaviours:gr([...p.getValidationHandler().map(rn=>Df.config({getRoot:kn=>fr(kn.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(kn,Vn)=>{je.getOpt(kn).each(hr=>{Lr(hr.element,"title",z.translate(Vn))})}},validator:{validate:kn=>{const Vn=Fr.getValue(kn);return eZ.nu(hr=>{rn({type:t.filetype,url:Vn.value},Yn=>{if(Yn.status==="invalid"){const br=Wo.error(Yn.message);hr(br)}else{const br=Wo.value(Yn.message);hr(br)}})})},validateOnLoad:!1}})).toArray(),Co.config({disabled:()=>!t.enabled||z.isDisabled()}),Ns.config({}),jo("urlinput-events",[Xn(qs(),rn=>{const kn=Dd(rn.element),Vn=kn.trim();Vn!==kn&&rv(rn.element,Vn),t.filetype==="file"&&go(rn,$u,{name:t.name})}),Xn(Di(),rn=>{go(rn,$u,{name:t.name}),Y(rn)}),Xn(wi(),rn=>{go(rn,$u,{name:t.name}),Y(rn)})])]),eventOrder:{[qs()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:rn=>rn.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:a.shared.getSink,parts:{menu:Mx(!1,1,"normal")},onExecute:(rn,kn,Vn)=>{go(kn,iS,{})},onItemExecute:(rn,kn,Vn,hr)=>{Y(rn),go(rn,$u,{name:t.name})}},xe=qa.parts.field({...re,factory:JG}),Ee=t.label.map(rn=>fd(rn,z)),je=Qa(((rn,kn,Vn=rn,hr=rn)=>Gd(Vn,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+rn],attributes:{title:z.translate(hr),"aria-live":"polite",...kn.fold(()=>({}),Yn=>({id:Yn}))}},z.icons))("invalid",P.some(pI),"warning")),et=Qa({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[je.asSpec()]}),st=p.getUrlPicker(t.filetype),mt=Xr("browser.url.event"),Mt=Qa({dom:{tag:"div",classes:["tox-control-wrap"]},components:[xe,et.asSpec()],behaviours:gr([Co.config({disabled:()=>!t.enabled||z.isDisabled()})])}),Xt=Qa(kL({name:t.name,icon:P.some("browse"),text:t.picker_text.or(t.label).getOr(""),enabled:t.enabled,primary:!1,buttonType:P.none(),borderless:!0},rn=>pa(rn,mt),z,[],["tox-browse-url"])),Dn=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Fe([[Mt.asSpec()],st.map(()=>Xt.asSpec()).toArray()])}),hn=rn=>{da.getCurrent(rn).each(kn=>{const Vn=Fr.getValue(kn),hr={fieldname:t.name,...Vn};st.each(Yn=>{Yn(hr).get(br=>{Fr.setValue(kn,br),go(rn,$u,{name:t.name})})})})};return qa.sketch({dom:Mee(),components:Ee.toArray().concat([Dn()]),fieldBehaviours:gr([Co.config({disabled:()=>!t.enabled||z.isDisabled(),onDisabled:rn=>{qa.getField(rn).each(Co.disable),Xt.getOpt(rn).each(Co.disable)},onEnabled:rn=>{qa.getField(rn).each(Co.enable),Xt.getOpt(rn).each(Co.enable)}}),Qi(),jo("url-input-events",[Xn(mt,hn)])])})},yI=(t,a)=>{const p=q_(t.icon,a.icons);return Kh.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:t.url?void 0:p},components:t.url?[hl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:p,attributes:{title:a.translate(t.iconTooltip)}},action:E=>go(E,rg,{name:"alert-banner",value:t.url}),buttonBehaviours:gr([Ek()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:a.translate(t.text)}}]})},EL=(t,a)=>{t.dom.checked=a},gZ=t=>t.dom.checked,bI=(t,a,p)=>{const E=Ee=>(Ee.element.dom.click(),P.some(!0)),z=qa.parts.field({factory:{sketch:D},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:gr([sf.self(),Co.config({disabled:()=>!t.enabled||a.isDisabled(),onDisabled:Ee=>{fr(Ee.element).each(Be=>hi(Be,"tox-checkbox--disabled"))},onEnabled:Ee=>{fr(Ee.element).each(Be=>Is(Be,"tox-checkbox--disabled"))}}),Ns.config({}),ko.config({}),rL(p,gZ,EL),po.config({mode:"special",onEnter:E,onSpace:E,stopSpaceKeyup:!0}),jo("checkbox-events",[Xn(Di(),(Ee,Be)=>{go(Ee,$u,{name:t.name})})])])}),Y=qa.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[ai(a.translate(t.label))],behaviours:gr([lS.config({})])}),re=Ee=>Gd(Ee==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+Ee]},a.icons),xe=Qa({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[re("checked"),re("unchecked")]});return qa.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[z,xe.asSpec(),Y],fieldBehaviours:gr([Co.config({disabled:()=>!t.enabled||a.isDisabled()}),Qi()])})},xI=t=>t.presets==="presentation"?Kh.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):Kh.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:gr([Ns.config({}),ko.config({})])}),tl=t=>(a,p,E,z)=>Ft(p,"name").fold(()=>t(p,z,P.none()),Y=>a.field(Y,t(p,z,Ft(E,Y)))),wI=t=>(a,p,E,z)=>{const Y=hs(p,{source:"dynamic"});return tl(t)(a,Y,E,z)},pZ={bar:tl((t,a)=>XU(t,a.shared)),collection:tl((t,a,p)=>oW(t,a.shared.providers,p)),alertbanner:tl((t,a)=>yI(t,a.shared.providers)),input:tl((t,a,p)=>ZP(t,a.shared.providers,p)),textarea:tl((t,a,p)=>jP(t,a.shared.providers,p)),label:tl((t,a)=>wG(t,a.shared)),iframe:wI((t,a,p)=>vG(t,a.shared.providers,p)),button:tl((t,a)=>sZ(t,a.shared.providers)),checkbox:tl((t,a,p)=>bI(t,a.shared.providers,p)),colorinput:tl((t,a,p)=>uW(t,a.shared,a.colorinput,p)),colorpicker:tl((t,a,p)=>uG(t,a.shared.providers,p)),dropzone:tl((t,a,p)=>yP(t,a.shared.providers,p)),grid:tl((t,a)=>mG(t,a.shared)),listbox:tl((t,a,p)=>EG(t,a,p)),selectbox:tl((t,a,p)=>LG(t,a.shared.providers,p)),sizeinput:tl((t,a)=>$G(t,a.shared.providers)),slider:tl((t,a,p)=>UP(t,a.shared.providers,p)),urlinput:tl((t,a,p)=>vI(t,a,a.urlinput,p)),customeditor:tl(vP),htmlpanel:tl(xI),imagepreview:tl((t,a,p)=>xG(t,p)),table:tl((t,a)=>WP(t,a.shared.providers)),tree:tl((t,a)=>YG(t,a)),panel:tl((t,a)=>fL(t,a))},vZ={field:(t,a)=>a,record:O([])},qd=(t,a,p,E)=>{const z=hs(E,{shared:{interpreter:Y=>Xx(t,Y,p,z)}});return Xx(t,a,p,z)},Xx=(t,a,p,E)=>Ft(pZ,a.type).fold(()=>(console.error(`Unknown factory type "${a.type}", defaulting to container: `,a),a),z=>z(t,a,p,E)),SS=(t,a,p)=>Xx(vZ,t,a,p),o0="layout-inset",TS=t=>t.x,CI=(t,a)=>t.x+t.width/2-a.width/2,kS=(t,a)=>t.x+t.width-a.width,eM=t=>t.y,AS=(t,a)=>t.y+t.height-a.height,SI=(t,a)=>t.y+t.height/2-a.height/2,MS=(t,a,p)=>Zi(kS(t,a),AS(t,a),p.insetSouthwest(),Pd(),"southwest",Ds(t,{right:0,bottom:3}),o0),ES=(t,a,p)=>Zi(TS(t),AS(t,a),p.insetSoutheast(),_b(),"southeast",Ds(t,{left:1,bottom:3}),o0),gy=(t,a,p)=>Zi(kS(t,a),eM(t),p.insetNorthwest(),uw(),"northwest",Ds(t,{right:0,top:2}),o0),_S=(t,a,p)=>Zi(TS(t),eM(t),p.insetNortheast(),f1(),"northeast",Ds(t,{left:1,top:2}),o0),eh=(t,a,p)=>Zi(CI(t,a),eM(t),p.insetNorth(),Dh(),"north",Ds(t,{top:2}),o0),Jx=(t,a,p)=>Zi(CI(t,a),AS(t,a),p.insetSouth(),a4(),"south",Ds(t,{bottom:3}),o0),TI=(t,a,p)=>Zi(kS(t,a),SI(t,a),p.insetEast(),d1(),"east",Ds(t,{right:0}),o0),kI=(t,a,p)=>Zi(TS(t),SI(t,a),p.insetWest(),In(),"west",Ds(t,{left:1}),o0),AI=t=>{switch(t){case"north":return eh;case"northeast":return _S;case"northwest":return gy;case"south":return Jx;case"southeast":return ES;case"southwest":return MS;case"east":return TI;case"west":return kI}},_L=(t,a,p,E,z)=>iT(E).map(AI).getOr(eh)(t,a,p,E,z),yZ=t=>{switch(t){case"north":return Jx;case"northeast":return ES;case"northwest":return MS;case"south":return eh;case"southeast":return _S;case"southwest":return gy;case"east":return kI;case"west":return TI}},bZ=(t,a,p,E,z)=>iT(E).map(yZ).getOr(eh)(t,a,p,E,z),RS={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},xZ=(t,a,p)=>{const z={maxHeightFunction:pv()},Y=()=>({type:"node",root:Fa(Yo(t())),node:P.from(t()),bubble:Nd(12,12,RS),layouts:{onRtl:()=>[_S],onLtr:()=>[gy]},overrides:z}),re=()=>({type:"hotspot",hotspot:a(),bubble:Nd(-12,12,RS),layouts:{onRtl:()=>[ji,Ml,Yi],onLtr:()=>[Ml,ji,Yi]},overrides:z});return()=>p()?Y():re()},MI=(t,a,p,E)=>{const Y={maxHeightFunction:pv()},re=()=>({type:"node",root:Fa(Yo(a())),node:P.from(a()),bubble:Nd(12,12,RS),layouts:{onRtl:()=>[eh],onLtr:()=>[eh]},overrides:Y}),xe=()=>t?{type:"node",root:Fa(Yo(a())),node:P.from(a()),bubble:Nd(0,-cu(a()),RS),layouts:{onRtl:()=>[oc],onLtr:()=>[oc]},overrides:Y}:{type:"hotspot",hotspot:p(),bubble:Nd(0,0,RS),layouts:{onRtl:()=>[oc],onLtr:()=>[oc]},overrides:Y};return()=>E()?re():xe()},Xh=(t,a,p)=>{const E=()=>({type:"node",root:Fa(Yo(t())),node:P.from(t()),layouts:{onRtl:()=>[eh],onLtr:()=>[eh]}}),z=()=>({type:"hotspot",hotspot:a(),layouts:{onRtl:()=>[Yi],onLtr:()=>[Yi]}});return()=>p()?E():z()},RL=(t,a)=>()=>({type:"selection",root:a(),getSelection:()=>{const p=t.selection.getRng(),E=t.model.table.getSelectedCells();if(E.length>1){const z=E[0],Y=E[E.length-1],re={firstCell:zt.fromDom(z),lastCell:zt.fromDom(Y)};return P.some(re)}return P.some(fl.range(zt.fromDom(p.startContainer),p.startOffset,zt.fromDom(p.endContainer),p.endOffset))}}),wZ=t=>a=>({type:"node",root:t(),node:a}),CZ=(t,a,p,E)=>{const z=kx(t),Y=()=>zt.fromDom(t.getBody()),re=()=>zt.fromDom(t.getContentAreaContainer()),xe=()=>z||!E();return{inlineDialog:xZ(re,a,xe),inlineBottomDialog:MI(t.inline,re,p,xe),banner:Xh(re,a,xe),cursor:RL(t,Y),node:wZ(Y)}},SZ=t=>(a,p)=>{oO(t)(a,p)},TZ=t=>()=>Q7(t),kZ=t=>a=>lA(t,a),EI=t=>a=>J7(t,a),_I=t=>({colorPicker:SZ(t),hasCustomColors:TZ(t),getColors:kZ(t),getColorCols:EI(t)}),Vee=t=>()=>u5(t),Uee=t=>({isDraggableModal:Vee(t)}),uc=t=>{const a=q(g5(t)?"bottom":"top");return{isPositionedAtTop:()=>a.get()==="top",getDockingMode:a.get,setDockingMode:a.set}},tM=t=>_n(t,"items"),RI=t=>_n(t,"format"),LS=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],AZ=t=>pn(t,"items"),MZ=t=>pn(t,"block"),EZ=t=>pn(t,"inline"),_Z=t=>pn(t,"selector"),LI=t=>ke(t,(a,p)=>{if(AZ(p)){const E=LI(p.items);return{customFormats:a.customFormats.concat(E.customFormats),formats:a.formats.concat([{title:p.title,items:E.formats}])}}else if(EZ(p)||MZ(p)||_Z(p)){const z=`custom-${A(p.name)?p.name:p.title.toLowerCase()}`;return{customFormats:a.customFormats.concat([{name:z,format:p}]),formats:a.formats.concat([{title:p.title,format:z,icon:p.icon}])}}else return{...a,formats:a.formats.concat(p)}},{customFormats:[],formats:[]}),RZ=(t,a)=>{const p=LI(a),E=z=>{fe(z,Y=>{t.formatter.has(Y.name)||t.formatter.register(Y.name,Y.format)})};return t.formatter?E(p.customFormats):t.on("init",()=>{E(p.customFormats)}),p.formats},DI=t=>b8(t).map(a=>{const p=RZ(t,a);return x8(t)?LS.concat(p):p}).getOr(LS),LZ=t=>{const a=ot(t);return a.length===1&&he(a,"title")},LL=(t,a,p)=>({...t,type:"formatter",isSelected:a(t.format),getStylePreview:p(t.format)}),DS=(t,a,p,E)=>{const z=Ee=>LL(Ee,p,E),Y=Ee=>{const Be=xe(Ee.items);return{...Ee,type:"submenu",getStyleItems:O(Be)}},re=Ee=>{const Be=A(Ee.name)?Ee.name:Xr(Ee.title),je=`custom-${Be}`,et={...Ee,type:"formatter",format:je,isSelected:p(je),getStylePreview:E(je)};return t.formatter.register(Be,et),et},xe=Ee=>ne(Ee,Be=>tM(Be)?Y(Be):RI(Be)?z(Be):LZ(Be)?{...Be,type:"separator"}:re(Be));return xe(a)},DZ=t=>{const a=xe=>()=>t.formatter.match(xe),p=xe=>()=>{const Ee=t.formatter.get(xe);return Ee!==void 0?P.some({tag:Ee.length>0&&(Ee[0].inline||Ee[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(xe))}):P.none()},E=q([]),z=q([]),Y=q(!1);return t.on("PreInit",xe=>{const Ee=DI(t),Be=DS(t,Ee,a,p);E.set(Be)}),t.on("addStyleModifications",xe=>{const Ee=DS(t,xe.items,a,p);z.set(Ee),Y.set(xe.replace)}),{getData:()=>{const xe=Y.get()?[]:E.get(),Ee=z.get();return xe.concat(Ee)}}},$I=t=>d(t)&&t.nodeType===1,$Z=ig.trim,DL=t=>a=>!!($I(a)&&(a.contentEditable===t||a.getAttribute("data-mce-contenteditable")===t)),OZ=DL("true"),PZ=DL("false"),$L=(t,a,p,E,z)=>({type:t,title:a,url:p,level:E,attach:z}),Wee=t=>{let a=t;for(;a=a.parentNode;){const p=a.contentEditable;if(p&&p!=="inherit")return OZ(a)}return!1},Gee=(t,a)=>ne(Xi(zt.fromDom(a),t),p=>p.dom),OI=t=>t.innerText||t.textContent,IZ=t=>t.id?t.id:Xr("h"),NZ=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,PI=t=>NZ(t)&&II(t),nM=t=>t&&/^(H[1-6])$/.test(t.nodeName),II=t=>Wee(t)&&!PZ(t),FZ=t=>nM(t)&&II(t),NI=t=>nM(t)?parseInt(t.nodeName.substr(1),10):0,BZ=t=>{var a;const p=IZ(t),E=()=>{t.id=p};return $L("header",(a=OI(t))!==null&&a!==void 0?a:"","#"+p,NI(t),E)},HZ=t=>{const a=t.id||t.name,p=OI(t);return $L("anchor",p||"#"+a,"#"+a,0,C)},zZ=t=>ne(Ce(t,FZ),BZ),VZ=t=>ne(Ce(t,PI),HZ),OL=t=>Gee("h1,h2,h3,h4,h5,h6,a:not([href])",t),FI=t=>$Z(t.title).length>0,UZ={find:t=>{const a=OL(t);return Ce(zZ(a).concat(VZ(a)),FI)}},rM="tinymce-url-history",BI=5,PL=t=>A(t)&&/^https?/.test(t),WZ=t=>h(t)&&t.length<=BI&&we(t,PL),$S=t=>s(t)&&Yt(t,a=>!WZ(a)).isNone(),HI=()=>{const t=Yv.getItem(rM);if(t===null)return{};let a;try{a=JSON.parse(t)}catch(p){if(p instanceof SyntaxError)return console.log("Local storage "+rM+" was not valid JSON",p),{};throw p}return $S(a)?a:(console.log("Local storage "+rM+" was not valid format",a),{})},oM=t=>{if(!$S(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Yv.setItem(rM,JSON.stringify(t))},GZ=t=>{const a=HI();return Ft(a,t).getOr([])},IL=(t,a)=>{if(!PL(t))return;const p=HI(),E=Ft(p,a).getOr([]),z=Ce(E,Y=>Y!==t);p[a]=[t].concat(z).slice(0,BI),oM(p)},Qx=t=>!!t,zI=t=>Xe(ig.makeMap(t,/[, ]/),Qx),NL=t=>P.from(k8(t)),VI=t=>{const a=P.from(l5(t)).filter(Qx).map(zI);return NL(t).fold(H,p=>a.fold(j,E=>ot(E).length>0?E:!1))},UI=(t,a)=>{const p=VI(t);return c(p)?p?NL(t):P.none():p[a]?NL(t):P.none()},WI=(t,a)=>UI(t,a).map(p=>E=>cc.nu(z=>{const Y=(xe,Ee)=>{if(!A(xe))throw new Error("Expected value to be string");if(Ee!==void 0&&!s(Ee))throw new Error("Expected meta to be a object");z({value:xe,meta:Ee})},re={filetype:a,fieldname:E.fieldname,...P.from(E.meta).getOr({})};p.call(t,Y,E.value,re)})),GI=t=>P.from(t).filter(A).getOrUndefined(),FL=t=>c5(t)?P.some({targets:UZ.find(t.getBody()),anchorTop:GI($k(t)),anchorBottom:GI(M8(t))}):P.none(),aM=t=>P.from(i5(t)),ZZ=t=>({getHistory:GZ,addToHistory:IL,getLinkInformation:()=>FL(t),getValidationHandler:()=>aM(t),getUrlPicker:a=>WI(t,a)}),jZ=(t,a,p,E)=>{const z=q(!1),Y=uc(a),re={icons:()=>a.ui.registry.getAll().icons,menuItems:()=>a.ui.registry.getAll().menuItems,translate:_f.translate,isDisabled:()=>a.mode.isReadOnly()||!a.ui.isEnabled(),getOption:a.options.get},xe=ZZ(a),Ee=DZ(a),Be=_I(a),je=Uee(a),et=()=>z.get(),st=Dn=>z.set(Dn),mt={shared:{providers:re,anchors:CZ(a,p,E,Y.isPositionedAtTop),header:Y},urlinput:xe,styles:Ee,colorinput:Be,dialog:je,isContextMenuOpen:et,setContextMenuState:st},Mt={...mt,shared:{...mt.shared,interpreter:Dn=>SS(Dn,{},Mt),getSink:t.popup}},Xt={...mt,shared:{...mt.shared,interpreter:Dn=>SS(Dn,{},Xt),getSink:t.dialog}};return{popup:Mt,dialog:Xt}},qx=(t,a,p)=>{const E=(Yn,br)=>{fe([a,...p],Mr=>{Mr.broadcastEvent(Yn,br)})},z=(Yn,br)=>{fe([a,...p],Mr=>{Mr.broadcastOn([Yn],br)})},Y=Yn=>z(rd(),{target:Yn.target}),re=Pp(),xe=sc(re,"touchstart",Y),Ee=sc(re,"touchmove",Yn=>E(Q0(),Yn)),Be=sc(re,"touchend",Yn=>E(ob(),Yn)),je=sc(re,"mousedown",Y),et=sc(re,"mouseup",Yn=>{Yn.raw.button===0&&z(eC(),{target:Yn.target})}),st=Yn=>z(rd(),{target:zt.fromDom(Yn.target)}),mt=Yn=>{Yn.button===0&&z(eC(),{target:zt.fromDom(Yn.target)})},Mt=()=>{fe(t.editorManager.get(),Yn=>{t!==Yn&&Yn.dispatch("DismissPopups",{relatedTarget:t})})},Xt=Yn=>E(Md(),_w(Yn)),Dn=Yn=>{z(tp(),{}),E(Xf(),_w(Yn))},hn=Yo(zt.fromDom(t.getElement())),rn=Pb(hn,"scroll",Yn=>{requestAnimationFrame(()=>{const br=t.getContainer();if(br!=null){const ea=Xv(t,a.element).map(Zr=>[Zr.element,...Zr.others]).getOr([]);ge(ea,Zr=>Qt(Zr,Yn.target))&&(t.dispatch("ElementScroll",{target:Yn.target.dom}),E(sb(),Yn))}})}),kn=()=>z(tp(),{}),Vn=Yn=>{Yn.state&&z(rd(),{target:zt.fromDom(t.getContainer())})},hr=Yn=>{z(rd(),{target:zt.fromDom(Yn.relatedTarget.getContainer())})};t.on("PostRender",()=>{t.on("click",st),t.on("tap",st),t.on("mouseup",mt),t.on("mousedown",Mt),t.on("ScrollWindow",Xt),t.on("ResizeWindow",Dn),t.on("ResizeEditor",kn),t.on("AfterProgressState",Vn),t.on("DismissPopups",hr)}),t.on("remove",()=>{t.off("click",st),t.off("tap",st),t.off("mouseup",mt),t.off("mousedown",Mt),t.off("ScrollWindow",Xt),t.off("ResizeWindow",Dn),t.off("ResizeEditor",kn),t.off("AfterProgressState",Vn),t.off("DismissPopups",hr),je.unbind(),xe.unbind(),Ee.unbind(),Be.unbind(),et.unbind(),rn.unbind()}),t.on("detach",()=>{fe([a,...p],_v),fe([a,...p],Yn=>Yn.destroy())})},nl=i_,cg=YT,ZI=O([En("shell",!1),qn("makeItem"),En("setupItem",C),nf.field("listBehaviours",[Ho])]),BL=Fc({name:"items",overrides:()=>({behaviours:gr([Ho.config({})])})}),YZ=O([BL]),KZ=O("CustomList"),XZ=(t,a,p,E)=>{const z=(xe,Ee)=>{re(xe).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},Be=>{const je=Ho.contents(Be),et=Ee.length,st=et-je.length,mt=st>0?Se(st,()=>t.makeItem()):[],Mt=je.slice(et);fe(Mt,Dn=>Ho.remove(Be,Dn)),fe(mt,Dn=>Ho.append(Be,Dn));const Xt=Ho.contents(Be);fe(Xt,(Dn,hn)=>{t.setupItem(xe,Dn,Ee[hn],hn)})})},Y=t.shell?{behaviours:[Ho.config({})],components:[]}:{behaviours:[],components:a},re=xe=>t.shell?P.some(xe):gs(xe,t,"items");return{uid:t.uid,dom:t.dom,components:Y.components,behaviours:Si(t.listBehaviours,Y.behaviours),apis:{setItems:z}}},sM=Bl({name:KZ(),configFields:ZI(),partFields:YZ(),factory:XZ,apis:{setItems:(t,a,p)=>{t.setItems(a,p)}}}),e2=O([qn("dom"),En("shell",!0),Fi("toolbarBehaviours",[Ho])]),JZ=O([Fc({name:"groups",overrides:()=>({behaviours:gr([Ho.config({})])})})]),QZ=(t,a,p,E)=>{const z=(xe,Ee)=>{Y(xe).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},Be=>{Ho.set(Be,Ee)})},Y=xe=>t.shell?P.some(xe):gs(xe,t,"groups"),re=t.shell?{behaviours:[Ho.config({})],components:[]}:{behaviours:[],components:a};return{uid:t.uid,dom:t.dom,components:re.components,behaviours:Si(t.toolbarBehaviours,re.behaviours),apis:{setGroups:z,refresh:C},domModification:{attributes:{role:"group"}}}},Jh=Bl({name:"Toolbar",configFields:e2(),partFields:JZ(),factory:QZ,apis:{setGroups:(t,a,p)=>{t.setGroups(a,p)}}}),qZ=C,ej=H,HL=O([]);var tj=Object.freeze({__proto__:null,setup:qZ,isDocked:ej,getBehaviours:HL});const py=t=>(sn(Rs(t,"position"),"fixed")?P.none():ar(t)).orThunk(()=>{const E=zt.fromTag("span");return Bn(t).bind(z=>{pc(z,E);const Y=ar(E);return Xl(E),Y})}),YI=t=>py(t).map(al).getOrThunk(()=>Ma(0,0)),nj=(t,a)=>{const p=t.element;hi(p,a.transitionClass),Is(p,a.fadeOutClass),hi(p,a.fadeInClass),a.onShow(t)},zL=(t,a)=>{const p=t.element;hi(p,a.transitionClass),Is(p,a.fadeInClass),hi(p,a.fadeOutClass),a.onHide(t)},KI=(t,a)=>t.y<a.bottom&&t.bottom>a.y,XI=(t,a)=>t.y>=a.y,JI=(t,a)=>t.bottom<=a.bottom,VL=(t,a,p)=>({location:"top",leftX:a,topY:p.bounds.y-t.y}),UL=(t,a,p)=>({location:"bottom",leftX:a,bottomY:t.bottom-p.bounds.bottom}),WL=t=>t.box.x-t.win.x,rj=(t,a,p)=>{const E=a.win,z=a.box,Y=WL(a);return We(t,re=>{switch(re){case"bottom":return JI(z,p.bounds)?P.none():P.some(UL(E,Y,p));case"top":return XI(z,p.bounds)?P.none():P.some(VL(E,Y,p));default:return P.none()}}).getOr({location:"no-dock"})},oj=(t,a,p)=>we(t,E=>{switch(E){case"bottom":return JI(a,p.bounds);case"top":return XI(a,p.bounds)}}),aj=(t,a)=>{const p=a.optScrollEnv.fold(O(t.bounds.y),E=>E.scrollElmTop+(t.bounds.y-E.currentScrollTop));return Ma(t.bounds.x,p)},sj=(t,a)=>{const p=a.optScrollEnv.fold(O(t.y),E=>t.y+E.currentScrollTop-E.scrollElmTop);return Ma(t.x,p)},QI=(t,a,p)=>p.getInitialPos().map(E=>{const z=aj(E,a);return{box:Hs(z.left,z.top,ci(t),Ls(t)),location:E.location}}),qI=(t,a,p,E,z)=>{const Y=sj(a,p),re=Hs(Y.left,Y.top,a.width,a.height);E.setInitialPos({style:Es(t),position:Ms(t,"position")||"static",bounds:re,location:z.location})},e9=(t,a,p,E,z)=>{E.getInitialPos().fold(()=>qI(t,a,p,E,z),()=>C)},GL=(t,a,p)=>p.getInitialPos().bind(E=>{var z;switch(p.clearInitialPos(),E.position){case"static":return P.some({morph:"static"});case"absolute":const Y=py(t).getOr(ss()),re=Js(Y),xe=(z=Y.dom.scrollTop)!==null&&z!==void 0?z:0;return P.some({morph:"absolute",positionCss:Au("absolute",Ft(E.style,"left").map(Ee=>a.x-re.x),Ft(E.style,"top").map(Ee=>a.y-re.y+xe),Ft(E.style,"right").map(Ee=>re.right-a.right),Ft(E.style,"bottom").map(Ee=>re.bottom-a.bottom))});default:return P.none()}}),iM=(t,a,p)=>QI(t,a,p).filter(({box:E})=>oj(p.getModes(),E,a)).bind(({box:E})=>GL(t,E,p)),lM=t=>{switch(t.location){case"top":return P.some({morph:"fixed",positionCss:Au("fixed",P.some(t.leftX),P.some(t.topY),P.none(),P.none())});case"bottom":return P.some({morph:"fixed",positionCss:Au("fixed",P.some(t.leftX),P.none(),P.none(),P.some(t.bottomY))});default:return P.none()}},ij=(t,a,p)=>{const E=Js(t),z=bl(),Y=rj(p.getModes(),{win:z,box:E},a);return Y.location==="top"||Y.location==="bottom"?(qI(t,E,a,p,Y),lM(Y)):P.none()},lj=(t,a,p)=>iM(t,a,p).orThunk(()=>a.optScrollEnv.bind(E=>QI(t,a,p)).bind(({box:E,location:z})=>{const Y=bl(),re=WL({win:Y,box:E}),xe=z==="top"?VL(Y,re,a):UL(Y,re,a);return lM(xe)})),cj=(t,a,p)=>{const E=t.element;return sn(Rs(E,"position"),"fixed")?lj(E,a,p):ij(E,a,p)},uj=(t,a,p)=>{const E=t.element;return QI(E,a,p).bind(({box:z})=>GL(E,z,p))},fj=(t,a,p,E)=>{const z=Js(t),Y=bl(),re=WL({win:Y,box:z}),xe=E(Y,re,a);return xe.location==="bottom"||xe.location==="top"?(e9(t,z,a,p,xe),lM(xe)):P.none()},t9=(t,a,p)=>{p.setDocked(!1),fe(["left","right","top","bottom","position"],E=>Bo(t.element,E)),a.onUndocked(t)},ZL=(t,a,p,E)=>{const z=E.position==="fixed";p.setDocked(z),aT(t.element,E),(z?a.onDocked:a.onUndocked)(t)},jL=(t,a,p,E,z=!1)=>{a.contextual.each(Y=>{Y.lazyContext(t).each(re=>{const xe=KI(re,E.bounds);xe!==p.isVisible()&&(p.setVisible(xe),z&&!xe?(Us(t.element,[Y.fadeOutClass]),Y.onHide(t)):(xe?nj:zL)(t,Y))})})},YL=(t,a,p,E,z)=>{jL(t,a,p,E,!0),ZL(t,a,p,z.positionCss)},dj=(t,a,p,E,z)=>{switch(z.morph){case"static":return t9(t,a,p);case"absolute":return ZL(t,a,p,z.positionCss);case"fixed":return YL(t,a,p,E,z)}},n9=(t,a,p)=>{const E=a.lazyViewport(t);jL(t,a,p,E),cj(t,E,p).each(z=>{dj(t,a,p,E,z)})},hj=(t,a,p)=>{const E=t.element;p.setDocked(!1);const z=a.lazyViewport(t);uj(t,z,p).each(Y=>{switch(Y.morph){case"static":{t9(t,a,p);break}case"absolute":{ZL(t,a,p,Y.positionCss);break}}}),p.setVisible(!0),a.contextual.each(Y=>{Su(E,[Y.fadeInClass,Y.fadeOutClass,Y.transitionClass]),Y.onShow(t)}),cM(t,a,p)},cM=(t,a,p)=>{t.getSystem().isConnected()&&n9(t,a,p)},r9=(t,a,p)=>{p.isDocked()&&hj(t,a,p)},a0=t=>(a,p,E)=>{const z=p.lazyViewport(a);fj(a.element,z,E,t).each(re=>{YL(a,p,E,z,re)})},o9=a0(VL),OS=a0(UL);var a9=Object.freeze({__proto__:null,refresh:cM,reset:r9,isDocked:(t,a,p)=>p.isDocked(),getModes:(t,a,p)=>p.getModes(),setModes:(t,a,p,E)=>p.setModes(E),forceDockToTop:o9,forceDockToBottom:OS}),pj=Object.freeze({__proto__:null,events:(t,a)=>bs([Ed(Ii(),(p,E)=>{t.contextual.each(z=>{Ni(p.element,z.transitionClass)&&(Su(p.element,[z.transitionClass,z.fadeInClass]),(a.isVisible()?z.onShown:z.onHidden)(p)),E.stop()})}),Xn(Md(),(p,E)=>{cM(p,t,a)}),Xn(sb(),(p,E)=>{cM(p,t,a)}),Xn(Xf(),(p,E)=>{r9(p,t,a)})])}),vj=[Ql("contextual",[Da("fadeInClass"),Da("fadeOutClass"),Da("transitionClass"),bu("lazyContext"),Sa("onShow"),Sa("onShown"),Sa("onHide"),Sa("onHidden")]),bi("lazyViewport",()=>({bounds:bl(),optScrollEnv:P.none()})),ec("modes",["top","bottom"],Ui),Sa("onDocked"),Sa("onUndocked")],yj=Object.freeze({__proto__:null,init:t=>{const a=q(!1),p=q(!0),E=ia(),z=q(t.modes),Y=()=>`docked:  ${a.get()}, visible: ${p.get()}, modes: ${z.get().join(",")}`;return Qc({isDocked:a.get,setDocked:a.set,getInitialPos:E.get,setInitialPos:E.set,clearInitialPos:E.clear,isVisible:p.get,setVisible:p.set,getModes:z.get,setModes:z.set,readState:Y})}});const Ti=Ki({fields:vj,name:"docking",active:pj,apis:a9,state:yj}),s0=O(Xr("toolbar-height-change")),Pf={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},uM="tox-tinymce--toolbar-sticky-on",s9="tox-tinymce--toolbar-sticky-off",bj=(t,a)=>{const p=Sn(a),z=Qn(a).dom.innerHeight,Y=ll(p),re=zt.fromDom(t.elm),xe=Xc(re),Ee=Ls(re),Be=xe.y,je=Be+Ee,et=al(a),st=Ls(a),mt=et.top,Mt=mt+st,Xt=Math.abs(mt-Y.top)<2,Dn=Math.abs(Mt-(Y.top+z))<2;if(Xt&&Be<Mt)mu(Y.left,Be-st,p);else if(Dn&&je>mt){const hn=Be-z+Ee+st;mu(Y.left,hn,p)}},t2=(t,a)=>he(Ti.getModes(t),a),XL=t=>{const a=E=>cu(E)+(parseInt(Ms(E,"margin-top"),10)||0)+(parseInt(Ms(E,"margin-bottom"),10)||0),p=t.element;fr(p).each(E=>{const z="padding-"+Ti.getModes(t)[0];if(Ti.isDocked(t)){const Y=ci(E);To(p,"width",Y+"px"),To(E,z,a(p)+"px")}else Bo(p,"width"),Bo(E,z)})},n2=(t,a)=>{a?(Is(t,Pf.fadeOutClass),Us(t,[Pf.transitionClass,Pf.fadeInClass])):(Is(t,Pf.fadeInClass),Us(t,[Pf.fadeOutClass,Pf.transitionClass]))},JL=(t,a)=>{const p=zt.fromDom(t.getContainer());a?(hi(p,uM),Is(p,s9)):(hi(p,s9),Is(p,uM))},xj=(t,a)=>{const p=Sn(a);Id(p).filter(E=>!Qt(a,E)).filter(E=>Qt(E,zt.fromDom(p.dom.body))||nn(t,E)).each(()=>Ic(a))},wj=(t,a)=>Sf(t).orThunk(()=>a().toOptional().bind(p=>Sf(p.element))),Cj=(t,a,p)=>{t.inline||(a.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{p().each(Ti.reset)}),t.on("ResizeWindow ResizeEditor",()=>{p().each(XL)}),t.on("SkinLoaded",()=>{p().each(E=>{Ti.isDocked(E)?Ti.reset(E):Ti.refresh(E)})}),t.on("FullscreenStateChanged",()=>{p().each(Ti.reset)})),t.on("AfterScrollIntoView",E=>{p().each(z=>{Ti.refresh(z);const Y=z.element;mx(Y)&&bj(E,Y)})}),t.on("PostRender",()=>{JL(t,!1)})},Sj=t=>t().map(Ti.isDocked).getOr(!1),Tj=()=>[Pc.config({channels:{[s0()]:{onReceive:XL}}})],i9=(t,a)=>{const p=ia(),E=a.getSink,z=xe=>{E().each(Ee=>xe(Ee.element))},Y=xe=>{t.inline||XL(xe),JL(t,Ti.isDocked(xe)),xe.getSystem().broadcastOn([tp()],{}),E().each(Ee=>Ee.getSystem().broadcastOn([tp()],{}))},re=t.inline?[]:Tj();return[ko.config({}),Ti.config({contextual:{lazyContext:xe=>{const Ee=cu(xe.element),Be=t.inline?t.getContentAreaContainer():t.getContainer();return P.from(Be).map(je=>{const et=Js(zt.fromDom(je));return Xv(t,xe.element).fold(()=>{const mt=et.height-Ee,Mt=et.y+(t2(xe,"top")?0:Ee);return Hs(et.x,Mt,et.width,mt)},mt=>{const Mt=H0(et,Fx(mt)),Xt=t2(xe,"top")?Mt.y:Mt.y+Ee;return Hs(Mt.x,Xt,Mt.width,Mt.height-Ee)})})},onShow:()=>{z(xe=>n2(xe,!0))},onShown:xe=>{z(Ee=>Su(Ee,[Pf.transitionClass,Pf.fadeInClass])),p.get().each(Ee=>{xj(xe.element,Ee),p.clear()})},onHide:xe=>{wj(xe.element,E).fold(p.clear,p.set),z(Ee=>n2(Ee,!1))},onHidden:()=>{z(xe=>Su(xe,[Pf.transitionClass]))},...Pf},lazyViewport:xe=>Xv(t,xe.element).fold(()=>{const Be=bl(),je=Lk(t),et=Be.y+(t2(xe,"top")?je:0),st=Be.height-(t2(xe,"bottom")?je:0);return{bounds:Hs(Be.x,et,Be.width,st),optScrollEnv:P.none()}},Be=>({bounds:Fx(Be),optScrollEnv:P.some({currentScrollTop:Be.element.dom.scrollTop,scrollElmTop:al(Be.element).top})})),modes:[a.header.getDockingMode()],onDocked:Y,onUndocked:Y}),...re]};var l9=Object.freeze({__proto__:null,setup:Cj,isDocked:Sj,getBehaviours:i9});const c9=t=>{const a=t.editor,p=t.sticky?i9:HL;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:gr(p(a,t.sharedBackstage))}},QL=io([Oi,yc("items",Gr([Wf([$5,Ol("items",Ui)]),Ui]))].concat(Dx)),kj=t=>ns("GroupToolbarButton",QL,t),fM=[Gi("text"),Gi("tooltip"),Gi("icon"),ql("search",!1,Gr([Ju,io([Gi("placeholder")])],t=>c(t)?t?P.some({placeholder:P.none()}):P.none():P.some(t))),bu("fetch"),bi("onSetup",()=>C)],PS=io([Oi,...fM]),qL=t=>ns("menubutton",PS,t),Aj=io([Oi,GC,Rf,Qm,I5,Q8,Gv,bc("presets","normal",["normal","color","listpreview"]),t7(1),Rx,sV]),Mj=t=>ns("SplitButton",Aj,t);var eD=ou({factory:(t,a)=>{const p=(z,Y)=>{const re=ne(Y,xe=>{const Ee={type:"menubutton",text:xe.text,fetch:je=>{je(xe.getItems())}},Be=qL(Ee).mapError(je=>wl(je)).getOrDie();return wS(Be,"tox-mbtn",a.backstage,P.some("menuitem"))});Ho.set(z,re)},E={focus:po.focusIn,setMenus:p};return{uid:t.uid,dom:t.dom,components:[],behaviours:gr([Ho.config({}),jo("menubar-events",[ms(z=>{t.onSetup(z)}),Xn($r(),(z,Y)=>{mi(z.element,".tox-mbtn--active").each(re=>{Qf(Y.event.target,".tox-mbtn").each(xe=>{Qt(re,xe)||z.getSystem().getByDom(re).each(Ee=>{z.getSystem().getByDom(xe).each(Be=>{ud.expand(Be),ud.close(Ee),ko.focus(Be)})})})})}),Xn(ab(),(z,Y)=>{Y.event.prevFocus.bind(re=>z.getSystem().getByDom(re).toOptional()).each(re=>{Y.event.newFocus.bind(xe=>z.getSystem().getByDom(xe).toOptional()).each(xe=>{ud.isOpen(re)&&(ud.expand(xe),ud.close(re))})})})]),po.config({mode:"flow",selector:".tox-mbtn",onEscape:z=>(t.onEscape(z),P.some(!0))}),Ns.config({})]),apis:E,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[qn("dom"),qn("uid"),qn("onEscape"),qn("backstage"),En("onSetup",C)],apis:{focus:(t,a)=>{t.focus(a)},setMenus:(t,a,p)=>{t.setMenus(a,p)}}});const tD="⚡️Upgrade",nD="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",Ej=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:nD,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:tD}}]}),dM="container",_j=[Fi("slotBehaviours",[])],u9=t=>"<alloy.field."+t+">",Rj=t=>{const a=(()=>{const Y=[];return{slot:(xe,Ee)=>(Y.push(xe),iC(dM,u9(xe),Ee)),record:O(Y)}})(),p=t(a),E=a.record(),z=ne(E,Y=>Fl({name:Y,pname:u9(Y)}));return mC(dM,_j,z,Lj,p)},Lj=(t,a)=>{const p=Xt=>uC(t),E=(Xt,Dn)=>gs(Xt,t,Dn),z=(Xt,Dn)=>(hn,rn)=>gs(hn,t,rn).map(kn=>Xt(kn,rn)).getOr(Dn),Y=Xt=>(Dn,hn)=>{fe(hn,rn=>Xt(Dn,rn))},re=(Xt,Dn)=>Ka(Xt.element,"aria-hidden")!=="true",xe=(Xt,Dn)=>{if(!re(Xt)){const hn=Xt.element;Bo(hn,"display"),Xa(hn,"aria-hidden"),go(Xt,q0(),{name:Dn,visible:!0})}},Ee=(Xt,Dn)=>{if(re(Xt)){const hn=Xt.element;To(hn,"display","none"),Lr(hn,"aria-hidden","true"),go(Xt,q0(),{name:Dn,visible:!1})}},Be=z(re,!1),je=z(Ee),et=Y(je),st=Xt=>et(Xt,p()),mt=z(xe),Mt={getSlotNames:p,getSlot:E,isShowing:Be,hideSlot:je,hideAllSlots:st,showSlot:mt};return{uid:t.uid,dom:t.dom,components:a,behaviours:Bh(t.slotBehaviours),apis:Mt}},Uc={...Xe({getSlotNames:(t,a)=>t.getSlotNames(a),getSlot:(t,a,p)=>t.getSlot(a,p),isShowing:(t,a,p)=>t.isShowing(a,p),hideSlot:(t,a,p)=>t.hideSlot(a,p),hideAllSlots:(t,a)=>t.hideAllSlots(a),showSlot:(t,a,p)=>t.showSlot(a,p)},t=>Ug(t)),sketch:Rj},Jee=io([Rf,GC,bi("onShow",C),bi("onHide",C),Gv]),f9=t=>ns("sidebar",Jee,t),Dj=t=>{const{sidebars:a}=t.ui.registry.getAll();fe(ot(a),p=>{const E=a[p],z=()=>sn(P.from(t.queryCommandValue("ToggleSidebar")),p);t.ui.registry.addToggleButton(p,{icon:E.icon,tooltip:E.tooltip,onAction:Y=>{t.execCommand("ToggleSidebar",!1,p),Y.setActive(z())},onSetup:Y=>{Y.setActive(z());const re=()=>Y.setActive(z());return t.on("ToggleSidebar",re),()=>{t.off("ToggleSidebar",re)}}})})},d9=t=>({element:()=>t.element.dom}),$j=(t,a)=>{const p=ne(ot(a),E=>{const z=a[E],Y=Ja(f9(z));return{name:E,getApi:d9,onSetup:Y.onSetup,onShow:Y.onShow,onHide:Y.onHide}});return ne(p,E=>{const z=q(C);return t.slot(E.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:YC.unnamedEvents([Zv(E,z),eg(E,z),Xn(q0(),(Y,re)=>{const xe=re.event;Ve(p,Be=>Be.name===xe.name).each(Be=>{(xe.visible?Be.onShow:Be.onHide)(Be.getApi(Y))})})])})})},Oj=t=>Uc.sketch(a=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:$j(a,t),slotBehaviours:YC.unnamedEvents([ms(p=>Uc.hideAllSlots(p))])})),Pj=(t,a,p)=>{da.getCurrent(t).each(z=>{Ho.set(z,[Oj(a)]);const Y=p==null?void 0:p.toLowerCase();A(Y)&&pn(a,Y)&&da.getCurrent(z).each(re=>{Uc.showSlot(re,Y),lf.immediateGrow(z),Bo(z.element,"width"),hM(t.element,"region")})})},hM=(t,a)=>{Lr(t,"role",a)},Ij=(t,a)=>{da.getCurrent(t).each(E=>{da.getCurrent(E).each(Y=>{lf.hasGrown(E)?Uc.isShowing(Y,a)?(lf.shrink(E),hM(t.element,"presentation")):(Uc.hideAllSlots(Y),Uc.showSlot(Y,a),hM(t.element,"region")):(Uc.hideAllSlots(Y),Uc.showSlot(Y,a),lf.grow(E),hM(t.element,"region"))})})},h9=t=>da.getCurrent(t).bind(p=>lf.isGrowing(p)||lf.hasGrown(p)?da.getCurrent(p).bind(Y=>Ve(Uc.getSlotNames(Y),re=>Uc.isShowing(Y,re))):P.none()),rD=Xr("FixSizeEvent"),oD=Xr("AutoSizeEvent"),Nj=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:gr([Ns.config({}),ko.config({}),lf.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:a=>{da.getCurrent(a).each(Uc.hideAllSlots),pa(a,oD)},onGrown:a=>{pa(a,oD)},onStartGrow:a=>{go(a,rD,{width:Rs(a.element,"width").getOr("")})},onStartShrink:a=>{go(a,rD,{width:ci(a.element)+"px"})}}),Ho.config({}),da.config({find:a=>{const p=Ho.contents(a);return Me(p)}})])}],behaviours:gr([sf.childAt(0),jo("sidebar-sliding-events",[Xn(rD,(a,p)=>{To(a.element,"width",p.event.width)}),Xn(oD,(a,p)=>{Bo(a.element,"width")})])])});var m9=Object.freeze({__proto__:null,block:(t,a,p,E)=>{Lr(t.element,"aria-busy",!0);const z=a.getRoot(t).getOr(t),Y=gr([po.config({mode:"special",onTab:()=>P.some(!0),onShiftTab:()=>P.some(!0)}),ko.config({})]),re=E(z,Y),xe=z.getSystem().build(re);Ho.append(z,Tu(xe)),xe.hasConfigured(po)&&a.focus&&po.focusIn(xe),p.isBlocked()||a.onBlock(t),p.blockWith(()=>Ho.remove(z,xe))},unblock:(t,a,p)=>{Xa(t.element,"aria-busy"),p.isBlocked()&&a.onUnblock(t),p.clear()},isBlocked:(t,a,p)=>p.isBlocked()}),Bj=[bi("getRoot",P.none),Li("focus",!0),Sa("onBlock"),Sa("onUnblock")],If=Object.freeze({__proto__:null,init:()=>{const t=y4(),a=p=>{t.set({destroy:p})};return Qc({readState:t.isSet,blockWith:a,clear:t.clear,isBlocked:t.isSet})}});const Qh=Ki({fields:Bj,name:"blocking",apis:m9,state:If}),g9=t=>(a,p)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:cp('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),aD=t=>da.getCurrent(t).each(a=>Ic(a.element,!0)),Hj=(t,a)=>{const p="tabindex",E=`data-mce-${p}`;P.from(t.iframeElement).map(zt.fromDom).each(z=>{a?(yi(z,p).each(Y=>Lr(z,E,Y)),Lr(z,p,-1)):(Xa(z,p),yi(z,E).each(Y=>{Lr(z,p,Y),Xa(z,E)}))})},IS=(t,a,p,E)=>{const z=a.element;if(Hj(t,p),p)Qh.block(a,g9(E)),Bo(z,"display"),Xa(z,"aria-hidden"),t.hasFocus()&&aD(a);else{const Y=da.getCurrent(a).exists(re=>p1(re.element));Qh.unblock(a),To(z,"display","none"),Lr(z,"aria-hidden","true"),Y&&t.focus()}},zj=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:gr([Ho.config({}),Qh.config({focus:!1}),da.config({find:a=>Me(a.components())})]),components:[]}),mM=t=>t.type==="focusin",Vj=t=>mM(t)?(t.composed?Me(t.composedPath()):P.from(t.target)).map(zt.fromDom).filter(St).exists(p=>Ni(p,"mce-pastebin")):!1,gM=(t,a,p)=>{const E=q(!1),z=ia(),Y=xe=>{E.get()&&!Vj(xe)&&(xe.preventDefault(),aD(a()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",Y),t.on("BeforeExecCommand",xe=>{xe.command.toLowerCase()==="mcefocus"&&xe.value!==!0&&Y(xe)})});const re=xe=>{xe!==E.get()&&(E.set(xe),IS(t,a(),xe,p.providers),U7(t,xe))};t.on("ProgressState",xe=>{if(z.on(clearTimeout),v(xe.time)){const Ee=ty.setEditorTimeout(t,()=>re(xe.state),xe.time);z.set(Ee)}else re(xe.state),z.clear()})},Uj=(t,a)=>ke(t,(z,Y)=>a(Y,z.len).fold(O(z),xe=>({len:xe.finish,list:z.list.concat([xe])})),{len:0,list:[]}).list,sD=(t,a,p)=>({within:t,extra:a,withinWidth:p}),Nf=(t,a,p)=>{const E=Uj(t,(xe,Ee)=>{const Be=p(xe);return P.some({element:xe,start:Ee,finish:Ee+Be,width:Be})}),z=Ce(E,xe=>xe.finish<=a),Y=$e(z,(xe,Ee)=>xe+Ee.width,0),re=E.slice(z.length);return{within:z,extra:re,withinWidth:Y}},pM=t=>ne(t,a=>a.element),vM=(t,a,p)=>{const E=pM(t.concat(a));return sD(E,[],p)},p9=(t,a,p,E)=>{const z=pM(t).concat([p]);return sD(z,pM(a),E)},v9=(t,a,p)=>sD(pM(t),[],p),Wj=(t,a,p)=>{const E=Nf(a,t,p);return E.extra.length===0?P.some(E):P.none()},y9=(t,a,p,E)=>{const z=Wj(t,a,p).getOrThunk(()=>Nf(a,t-p(E),p)),Y=z.within,re=z.extra,xe=z.withinWidth;return re.length===1&&re[0].width<=p(E)?vM(Y,re,xe):re.length>=1?p9(Y,re,E,xe):v9(Y,re,xe)},b9=(t,a)=>{const p=ne(a,E=>Tu(E));Jh.setGroups(t,p)},Gj=t=>We(t,a=>Sf(a.element).bind(p=>a.getSystem().getByDom(p).toOptional())),x9=(t,a,p)=>{const E=a.builtGroups.get();if(E.length===0)return;const z=zh(t,a,"primary"),Y=pi.getCoupled(t,"overflowGroup");To(z.element,"visibility","hidden");const re=E.concat([Y]),xe=Gj(re);p([]),b9(z,re);const Ee=ci(z.element),Be=y9(Ee,a.builtGroups.get(),je=>ci(je.element),Y);Be.extra.length===0?(Ho.remove(z,Y),p([])):(b9(z,Be.within),p(Be.extra)),Bo(z.element,"visibility"),Ks(z.element),xe.each(ko.focus)},w9=O([Fi("splitToolbarBehaviours",[pi]),zs("builtGroups",()=>q([]))]),Zj=O([Lm(["overflowToggledClass"]),pf("getOverflowBounds"),qn("lazySink"),zs("overflowGroups",()=>q([])),Sa("onOpened"),Sa("onClosed")].concat(w9())),jj=O([Fl({factory:Jh,schema:e2(),name:"primary"}),Af({schema:e2(),name:"overflow"}),Af({name:"overflow-button"}),Af({name:"overflow-group"})]),iD=O((t,a)=>{P2(t,Math.floor(a))}),C9=O([Lm(["toggledClass"]),qn("lazySink"),bu("fetch"),pf("getBounds"),Ql("fireDismissalEventInstead",[En("event",Tm())]),Om(),Sa("onToggled")]),S9=O([Af({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:gr([qo.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),Af({factory:Jh,schema:e2(),name:"toolbar",overrides:t=>({toolbarBehaviours:gr([po.config({mode:"cyclic",onEscape:a=>(gs(a,t,"button").each(ko.focus),P.none())})])})})]),NS=ia(),Yj=(t,a)=>{NS.set(!0),lD(t,a),NS.clear()},lD=(t,a)=>{const p=pi.getCoupled(t,"toolbarSandbox");va.isOpen(p)?va.close(p):va.open(p,a.toolbar())},yM=(t,a,p,E)=>{const z=p.getBounds.map(re=>re()),Y=p.lazySink(t).getOrDie();Nl.positionWithinBounds(Y,a,{anchor:{type:"hotspot",hotspot:t,layouts:E,overrides:{maxWidthFunction:iD()}}},z)},cD=(t,a,p,E,z)=>{Jh.setGroups(a,z),yM(t,a,p,E),qo.on(t)},T9=(t,a,p)=>{const E=Zg(),z=(re,xe)=>{const Ee=NS.get().getOr(!1);p.fetch().get(Be=>{cD(t,xe,p,a.layouts,Be),E.link(t.element),Ee||po.focusIn(xe)})},Y=()=>{qo.off(t),NS.get().getOr(!1)||ko.focus(t),E.unlink(t.element)};return{dom:{tag:"div",attributes:{id:E.id}},behaviours:gr([po.config({mode:"special",onEscape:re=>(va.close(re),P.some(!0))}),va.config({onOpen:z,onClose:Y,isPartOf:(re,xe,Ee)=>Lh(xe,Ee)||Lh(t,Ee),getAttachPoint:()=>p.lazySink(t).getOrDie()}),Pc.config({channels:{...$1({isExtraPart:H,...p.fireDismissalEventInstead.map(re=>({fireEventInstead:{event:re.event}})).getOr({})}),...Rv({doReposition:()=>{va.getState(pi.getCoupled(t,"toolbarSandbox")).each(re=>{yM(t,re,p,a.layouts)})}})}})])}},i0=Bl({name:"FloatingToolbarButton",factory:(t,a,p,E)=>({...hl.sketch({...E.button(),action:z=>{lD(z,E)},buttonBehaviours:nf.augment({dump:E.button().buttonBehaviours},[pi.config({others:{toolbarSandbox:z=>T9(z,p,t)}})])}),apis:{setGroups:(z,Y)=>{va.getState(pi.getCoupled(z,"toolbarSandbox")).each(re=>{cD(z,re,t,p.layouts,Y)})},reposition:z=>{va.getState(pi.getCoupled(z,"toolbarSandbox")).each(Y=>{yM(z,Y,t,p.layouts)})},toggle:z=>{lD(z,E)},toggleWithoutFocusing:z=>{Yj(z,E)},getToolbar:z=>va.getState(pi.getCoupled(z,"toolbarSandbox")),isOpen:z=>va.isOpen(pi.getCoupled(z,"toolbarSandbox"))}}),configFields:C9(),partFields:S9(),apis:{setGroups:(t,a,p)=>{t.setGroups(a,p)},reposition:(t,a)=>{t.reposition(a)},toggle:(t,a)=>{t.toggle(a)},toggleWithoutFocusing:(t,a)=>{t.toggleWithoutFocusing(a)},getToolbar:(t,a)=>t.getToolbar(a),isOpen:(t,a)=>t.isOpen(a)}}),Kj=O([qn("items"),Lm(["itemSelector"]),Fi("tgroupBehaviours",[po])]),k9=O([V1({name:"items",unit:"item"})]),Xj=(t,a,p,E)=>({uid:t.uid,dom:t.dom,components:a,behaviours:Si(t.tgroupBehaviours,[po.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),bM=Bl({name:"ToolbarGroup",configFields:Kj(),partFields:k9(),factory:Xj}),A9=t=>ne(t,a=>Tu(a)),M9=(t,a,p)=>{x9(t,p,E=>{p.overflowGroups.set(E),a.getOpt(t).each(z=>{i0.setGroups(z,A9(E))})})},Jj=(t,a,p,E)=>{const z=Qa(i0.sketch({fetch:()=>cc.nu(Y=>{Y(A9(t.overflowGroups.get()))}),layouts:{onLtr:()=>[Ml,ji],onRtl:()=>[ji,Ml],onBottomLtr:()=>[Il,Cc],onBottomRtl:()=>[Cc,Il]},getBounds:p.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:E["overflow-button"](),toolbar:E.overflow()},onToggled:(Y,re)=>t[re?"onOpened":"onClosed"](Y)}));return{uid:t.uid,dom:t.dom,components:a,behaviours:Si(t.splitToolbarBehaviours,[pi.config({others:{overflowGroup:()=>bM.sketch({...E["overflow-group"](),items:[z.asSpec()]})}})]),apis:{setGroups:(Y,re)=>{t.builtGroups.set(ne(re,Y.getSystem().build)),M9(Y,z,t)},refresh:Y=>M9(Y,z,t),toggle:Y=>{z.getOpt(Y).each(re=>{i0.toggle(re)})},toggleWithoutFocusing:Y=>{z.getOpt(Y).each(i0.toggleWithoutFocusing)},isOpen:Y=>z.getOpt(Y).map(i0.isOpen).getOr(!1),reposition:Y=>{z.getOpt(Y).each(re=>{i0.reposition(re)})},getOverflow:Y=>z.getOpt(Y).bind(i0.getToolbar)},domModification:{attributes:{role:"group"}}}},E9=Bl({name:"SplitFloatingToolbar",configFields:Zj(),partFields:jj(),factory:Jj,apis:{setGroups:(t,a,p)=>{t.setGroups(a,p)},refresh:(t,a)=>{t.refresh(a)},reposition:(t,a)=>{t.reposition(a)},toggle:(t,a)=>{t.toggle(a)},toggleWithoutFocusing:(t,a)=>{t.toggle(a)},isOpen:(t,a)=>t.isOpen(a),getOverflow:(t,a)=>t.getOverflow(a)}}),Qj=O([Lm(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Sa("onOpened"),Sa("onClosed")].concat(w9())),qj=O([Fl({factory:Jh,schema:e2(),name:"primary"}),Fl({factory:Jh,schema:e2(),name:"overflow",overrides:t=>({toolbarBehaviours:gr([lf.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:a=>{gs(a,t,"overflow-button").each(p=>{qo.off(p),ko.focus(p)}),t.onClosed(a)},onGrown:a=>{po.focusIn(a),t.onOpened(a)},onStartGrow:a=>{gs(a,t,"overflow-button").each(qo.on)}}),po.config({mode:"acyclic",onEscape:a=>(gs(a,t,"overflow-button").each(ko.focus),P.some(!0))})])})}),Af({name:"overflow-button",overrides:t=>({buttonBehaviours:gr([qo.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),Af({name:"overflow-group"})]),eY=(t,a)=>gs(t,a,"overflow").map(lf.hasGrown).getOr(!1),_9=(t,a)=>{gs(t,a,"overflow-button").bind(()=>gs(t,a,"overflow")).each(p=>{xM(t,a),lf.toggleGrow(p)})},xM=(t,a)=>{gs(t,a,"overflow").each(p=>{x9(t,a,E=>{const z=ne(E,Y=>Tu(Y));Jh.setGroups(p,z)}),gs(t,a,"overflow-button").each(E=>{lf.hasGrown(p)&&qo.on(E)}),lf.refresh(p)})},tY=(t,a,p,E)=>{const z="alloy.toolbar.toggle",Y=(re,xe)=>{const Ee=ne(xe,re.getSystem().build);t.builtGroups.set(Ee)};return{uid:t.uid,dom:t.dom,components:a,behaviours:Si(t.splitToolbarBehaviours,[pi.config({others:{overflowGroup:re=>bM.sketch({...E["overflow-group"](),items:[hl.sketch({...E["overflow-button"](),action:xe=>{pa(re,z)}})]})}}),jo("toolbar-toggle-events",[Xn(z,re=>{_9(re,t)})])]),apis:{setGroups:(re,xe)=>{Y(re,xe),xM(re,t)},refresh:re=>xM(re,t),toggle:re=>_9(re,t),isOpen:re=>eY(re,t)},domModification:{attributes:{role:"group"}}}},uD=Bl({name:"SplitSlidingToolbar",configFields:Qj(),partFields:qj(),factory:tY,apis:{setGroups:(t,a,p)=>{t.setGroups(a,p)},refresh:(t,a)=>{t.refresh(a)},toggle:(t,a)=>{t.toggle(a)},isOpen:(t,a)=>t.isOpen(a)}}),wM=t=>{const a=t.title.fold(()=>({}),p=>({attributes:{title:p}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...a},components:[bM.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:gr([Ns.config({}),ko.config({})])}},CM=t=>bM.sketch(wM(t)),FS=(t,a)=>{const p=ms(E=>{const z=ne(t.initGroups,CM);Jh.setGroups(E,z)});return gr([Bi.toolbarButton(t.providers.isDisabled),Qi(),po.config({mode:a,onEscape:t.onEscape,selector:".tox-toolbar__group"}),jo("toolbar-events",[p])])},R9=t=>{const a=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":wM({title:P.none(),items:[]}),"overflow-button":tZ({name:"more",icon:P.some("more-drawer"),enabled:!0,tooltip:P.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:P.none(),borderless:!1},P.none(),t.providers)},splitToolbarBehaviours:FS(t,a)}},L9=t=>{const a=R9(t),p=4,E=E9.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return E9.sketch({...a,lazySink:t.getSink,getOverflowBounds:()=>{const z=t.moreDrawerData.lazyHeader().element,Y=Xc(z),re=gn(z),xe=Xc(re),Ee=Math.max(re.dom.scrollHeight,xe.height);return Hs(Y.x+p,xe.y,Y.width-p*2,Ee)},parts:{...a.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[E],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:z=>t.onToggled(z,!0),onClosed:z=>t.onToggled(z,!1)})},nY=t=>{const a=uD.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),p=uD.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),E=R9(t);return uD.sketch({...E,components:[a,p],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:z=>{z.getSystem().broadcastOn([s0()],{type:"opened"}),t.onToggled(z,!0)},onClosed:z=>{z.getSystem().broadcastOn([s0()],{type:"closed"}),t.onToggled(z,!1)}})},SM=t=>{const a=t.cyclicKeying?"cyclic":"acyclic";return Jh.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===af.scrolling?["tox-toolbar--scrolling"]:[])},components:[Jh.parts.groups({})],toolbarBehaviours:FS(t,a)})},rY=[Qm,Rf,Gi("tooltip"),bc("buttonType","secondary",["primary","secondary"]),Li("borderless",!1),bu("onAction")],oY=[...rY,dp,Qu("type",["button"])],aY=[...rY,Li("active",!1),Qu("type",["togglebutton"])],TM={button:oY,togglebutton:aY},sY=[Qu("type",["group"]),ec("buttons",[],fa("type",TM))],kM=fa("type",{...TM,group:sY}),D9=io([ec("buttons",[],kM),bu("onShow"),bu("onHide")]),$9=t=>ns("view",D9,t),fD=(t,a)=>{var p,E;const z=t.type==="togglebutton",Y=t.icon.map(kn=>n0(kn,a.icons)).map(Qa),xe=(()=>kn=>{const Vn=br=>{Y.map(Mr=>Mr.getOpt(kn).each(ea=>{Ho.set(ea,[n0(br,a.icons)])}))},hr=br=>{const Mr=kn.element;br?(hi(Mr,"tox-button--enabled"),Lr(Mr,"aria-pressed",!0)):(Is(Mr,"tox-button--enabled"),Xa(Mr,"aria-pressed"))},Yn=()=>Ni(kn.element,"tox-button--enabled");if(z)return t.onAction({setIcon:Vn,setActive:hr,isActive:Yn});if(t.type==="button")return t.onAction({setIcon:Vn})})(),Ee={...t,name:z?t.text.getOr(t.icon.getOr("")):(p=t.text)!==null&&p!==void 0?p:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:P.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},Be=TL((E=t.buttonType)!==null&&E!==void 0?E:"secondary"),je=z?t.text.map(a.translate):P.some(a.translate(t.text)),et=je.map(ai),st=Ee.tooltip.or(je).map(kn=>({"aria-label":a.translate(kn),title:a.translate(kn)})).getOr({}),mt=Y.map(kn=>kn.asSpec()),Mt=Ox([mt,et]),Xt=t.icon.isSome()&&et.isSome(),Dn={tag:"button",classes:Be.concat(...t.icon.isSome()&&!Xt?["tox-button--icon"]:[]).concat(...Xt?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:st},hn=[],rn=QA(Ee,P.some(xe),hn,Dn,Mt,a);return hl.sketch(rn)},O9=(t,a)=>fD(t,a),P9=(t,a)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:ne(t.buttons,p=>O9(p,a))}),vy=hf().deviceType,I9=vy.isPhone(),iY=vy.isTablet(),lY=t=>{let a=!1;const p=ne(t.buttons,E=>E.type==="group"?(a=!0,P9(E,t.providers)):O9(E,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[a?"tox-view__toolbar":"tox-view__header",...I9||iY?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:gr([ko.config({}),po.config({mode:"flow",selector:"button, .tox-button",focusInside:te.OnEnterOrSpaceMode})]),components:a?p:[Kh.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Kh.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:p})]}},cY=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),dD=(t,a,p,E)=>{const z={getPane:Y=>nl.getPart(Y,t,"pane"),getOnShow:Y=>t.viewConfig.onShow,getOnHide:Y=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:a,apis:z}};var r2=Bl({name:"silver.View",configFields:[qn("viewConfig")],partFields:[Fc({factory:{sketch:lY},schema:[qn("buttons"),qn("providers")],name:"header"}),Fc({factory:{sketch:cY},schema:[],name:"pane"})],factory:dD,apis:{getPane:(t,a)=>t.getPane(a),getOnShow:(t,a)=>t.getOnShow(a),getOnHide:(t,a)=>t.getOnHide(a)}});const uY=(t,a,p)=>Gt(a,(E,z)=>{const Y=Ja($9(E));return t.slot(z,r2.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:Y,components:[...Y.buttons.length>0?[r2.parts.header({buttons:Y.buttons,providers:p})]:[],r2.parts.pane({})]}))}),N9=(t,a)=>Uc.sketch(p=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:uY(p,t,a),slotBehaviours:YC.unnamedEvents([ms(E=>Uc.hideAllSlots(E))])})),hD=t=>Ve(Uc.getSlotNames(t),a=>Uc.isShowing(t,a)),AM=t=>{const a=t.element;To(a,"display","none"),Lr(a,"aria-hidden","true")},mD=t=>{const a=t.element;Bo(a,"display"),Xa(a,"aria-hidden")},fY=t=>({getContainer:O(t)}),F9=(t,a,p)=>{Uc.getSlot(t,a).each(E=>{r2.getPane(E).each(z=>{p(E)(fY(z.element.dom))})})},B9=(t,a)=>F9(t,a,r2.getOnShow),dY=(t,a)=>F9(t,a,r2.getOnHide);var MM=ou({factory:(t,a)=>{const Y={setViews:(re,xe)=>{Ho.set(re,[N9(xe,a.backstage.shared.providers)])},whichView:re=>da.getCurrent(re).bind(hD),toggleView:(re,xe,Ee,Be)=>da.getCurrent(re).exists(je=>{const et=hD(je),st=et.exists(Mt=>Be===Mt),mt=Uc.getSlot(je,Be).isSome();return mt&&(Uc.hideAllSlots(je),st?(AM(re),xe()):(Ee(),mD(re),Uc.showSlot(je,Be),B9(je,Be)),et.each(Mt=>dY(je,Mt))),mt})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:gr([Ho.config({}),da.config({find:re=>{const xe=Ho.contents(re);return Me(xe)}})]),apis:Y}},name:"silver.ViewWrapper",configFields:[qn("backstage")],apis:{setViews:(t,a,p)=>t.setViews(a,p),toggleView:(t,a,p,E,z)=>t.toggleView(a,p,E,z),whichView:(t,a)=>t.whichView(a)}});const H9=(t,a,p)=>{let E=!1;const z={getSocket:Y=>nl.getPart(Y,t,"socket"),setSidebar:(Y,re,xe)=>{nl.getPart(Y,t,"sidebar").each(Ee=>Pj(Ee,re,xe))},toggleSidebar:(Y,re)=>{nl.getPart(Y,t,"sidebar").each(xe=>Ij(xe,re))},whichSidebar:Y=>nl.getPart(Y,t,"sidebar").bind(h9).getOrNull(),getHeader:Y=>nl.getPart(Y,t,"header"),getToolbar:Y=>nl.getPart(Y,t,"toolbar"),setToolbar:(Y,re)=>{nl.getPart(Y,t,"toolbar").each(xe=>{const Ee=ne(re,CM);xe.getApis().setGroups(xe,Ee)})},setToolbars:(Y,re)=>{nl.getPart(Y,t,"multiple-toolbar").each(xe=>{const Ee=ne(re,Be=>ne(Be,CM));sM.setItems(xe,Ee)})},refreshToolbar:Y=>{nl.getPart(Y,t,"toolbar").each(xe=>xe.getApis().refresh(xe))},toggleToolbarDrawer:Y=>{nl.getPart(Y,t,"toolbar").each(re=>{wn(re.getApis().toggle,xe=>xe(re))})},toggleToolbarDrawerWithoutFocusing:Y=>{nl.getPart(Y,t,"toolbar").each(re=>{wn(re.getApis().toggleWithoutFocusing,xe=>xe(re))})},isToolbarDrawerToggled:Y=>nl.getPart(Y,t,"toolbar").bind(re=>P.from(re.getApis().isOpen).map(xe=>xe(re))).getOr(!1),getThrobber:Y=>nl.getPart(Y,t,"throbber"),focusToolbar:Y=>{nl.getPart(Y,t,"toolbar").orThunk(()=>nl.getPart(Y,t,"multiple-toolbar")).each(xe=>{po.focusIn(xe)})},setMenubar:(Y,re)=>{nl.getPart(Y,t,"menubar").each(xe=>{eD.setMenus(xe,re)})},focusMenubar:Y=>{nl.getPart(Y,t,"menubar").each(re=>{eD.focus(re)})},setViews:(Y,re)=>{nl.getPart(Y,t,"viewWrapper").each(xe=>{MM.setViews(xe,re)})},toggleView:(Y,re)=>nl.getPart(Y,t,"viewWrapper").exists(xe=>MM.toggleView(xe,()=>z.showMainView(Y),()=>z.hideMainView(Y),re)),whichView:Y=>nl.getPart(Y,t,"viewWrapper").bind(MM.whichView).getOrNull(),hideMainView:Y=>{E=z.isToolbarDrawerToggled(Y),E&&z.toggleToolbarDrawer(Y),nl.getPart(Y,t,"editorContainer").each(re=>{const xe=re.element;To(xe,"display","none"),Lr(xe,"aria-hidden","true")})},showMainView:Y=>{E&&z.toggleToolbarDrawer(Y),nl.getPart(Y,t,"editorContainer").each(re=>{const xe=re.element;Bo(xe,"display"),Xa(xe,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:a,apis:z,behaviours:t.behaviours}},hY=cg.optional({factory:eD,name:"menubar",schema:[qn("backstage")]}),mY=t=>t.type===af.sliding?nY:t.type===af.floating?L9:SM,gD=cg.optional({factory:{sketch:t=>sM.sketch({uid:t.uid,dom:t.dom,listBehaviours:gr([po.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>SM({type:t.type,uid:Xr("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),P.some(!0))}),setupItem:(a,p,E,z)=>{Jh.setGroups(p,E)},shell:!0})},name:"multiple-toolbar",schema:[qn("dom"),qn("onEscape")]}),gY=cg.optional({factory:{sketch:t=>{const a=mY(t),p={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),P.some(!0)),onToggled:(E,z)=>t.onToolbarToggled(z),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return a(p)}},name:"toolbar",schema:[qn("dom"),qn("onEscape"),qn("getSink")]}),pY=cg.optional({factory:{sketch:c9},name:"header",schema:[qn("dom")]}),z9=cg.optional({factory:{sketch:Ej},name:"promotion",schema:[qn("dom")]}),vY=cg.optional({name:"socket",schema:[qn("dom")]}),V9=cg.optional({factory:{sketch:Nj},name:"sidebar",schema:[qn("dom")]}),yY=cg.optional({factory:{sketch:zj},name:"throbber",schema:[qn("dom")]}),U9=cg.optional({factory:MM,name:"viewWrapper",schema:[qn("backstage")]}),bY=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),xY=cg.optional({factory:{sketch:bY},name:"editorContainer",schema:[]});var Ss=Bl({name:"OuterContainer",factory:H9,configFields:[qn("dom"),qn("behaviours")],partFields:[pY,hY,gY,gD,vY,V9,z9,yY,U9,xY],apis:{getSocket:(t,a)=>t.getSocket(a),setSidebar:(t,a,p,E)=>{t.setSidebar(a,p,E)},toggleSidebar:(t,a,p)=>{t.toggleSidebar(a,p)},whichSidebar:(t,a)=>t.whichSidebar(a),getHeader:(t,a)=>t.getHeader(a),getToolbar:(t,a)=>t.getToolbar(a),setToolbar:(t,a,p)=>{t.setToolbar(a,p)},setToolbars:(t,a,p)=>{t.setToolbars(a,p)},refreshToolbar:(t,a)=>t.refreshToolbar(a),toggleToolbarDrawer:(t,a)=>{t.toggleToolbarDrawer(a)},toggleToolbarDrawerWithoutFocusing:(t,a)=>{t.toggleToolbarDrawerWithoutFocusing(a)},isToolbarDrawerToggled:(t,a)=>t.isToolbarDrawerToggled(a),getThrobber:(t,a)=>t.getThrobber(a),setMenubar:(t,a,p)=>{t.setMenubar(a,p)},focusMenubar:(t,a)=>{t.focusMenubar(a)},focusToolbar:(t,a)=>{t.focusToolbar(a)},setViews:(t,a,p)=>{t.setViews(a,p)},toggleView:(t,a,p)=>t.toggleView(a,p),whichView:(t,a)=>t.whichView(a)}});const W9="file edit view insert format tools table help",G9={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},wY=(t,a,p)=>{const E=a5(p).split(/[ ,]/);return{text:t.title,getItems:()=>ie(t.items,z=>{const Y=z.toLowerCase();return Y.trim().length===0?[]:ge(E,re=>re===Y)?[]:Y==="separator"||Y==="|"?[{type:"separator"}]:a.menuItems[Y]?[a.menuItems[Y]]:[]})}},pD=t=>t.split(" "),EM=(t,a)=>{const p={...G9,...a.menus},E=ot(a.menus).length>0,z=a.menubar===void 0||a.menubar===!0?pD(W9):pD(a.menubar===!1?"":a.menubar),Y=Ce(z,xe=>{const Ee=pn(G9,xe);return E?Ee||Ft(a.menus,xe).exists(Be=>pn(Be,"items")):Ee}),re=ne(Y,xe=>{const Ee=p[xe];return wY({title:Ee.title,items:pD(Ee.items)},a,t)});return Ce(re,xe=>{const Ee=Be=>A(Be)||Be.type!=="separator";return xe.getItems().length>0&&ge(xe.getItems(),Ee)})},vD=t=>{const a=()=>{t._skinLoaded=!0,NV(t)};return()=>{t.initialized?a():t.on("init",a)}},CY=(t,a)=>()=>tR(t,{message:a}),Z9=(t,a,p)=>(t.on("remove",()=>p.unload(a)),p.load(a)),yD=(t,a,p,E)=>(t.on("remove",()=>E.unloadRawCss(a)),E.loadRawCss(a,p)),SY=async(t,a)=>{const E="ui/"+h5(t).getOr("default")+"/skin.css",z=tinymce.Resource.get(E);if(A(z))return Promise.resolve(yD(t,E,z,t.ui.styleSheetLoader));{const Y=a+"/skin.min.css";return Z9(t,Y,t.ui.styleSheetLoader)}},TY=async(t,a)=>{if(Os(zt.fromDom(t.getElement()))){const E=a+"/skin.shadowdom.css",z=tinymce.Resource.get(E);if(A(z))return yD(t,E,z,oy.DOM.styleSheetLoader),Promise.resolve();{const Y=a+"/skin.shadowdom.min.css";return Z9(t,Y,oy.DOM.styleSheetLoader)}}},kY=async(t,a)=>{h5(a).fold(()=>{const E=Nk(a);E&&a.contentCSS.push(E+(t?"/content.inline":"/content")+".min.css")},E=>{const z="ui/"+E+(t?"/content.inline":"/content")+".css",Y=tinymce.Resource.get(z);if(A(Y))yD(a,z,Y,a.ui.styleSheetLoader);else{const re=Nk(a);re&&a.contentCSS.push(re+(t?"/content.inline":"/content")+".min.css")}});const p=Nk(a);if(!d5(a)&&A(p))return Promise.all([SY(a,p),TY(a,p)]).then()},j9=(t,a)=>kY(t,a).then(vD(a),CY(a,"Skin could not be loaded")),AY=M(j9,!1),MY=M(j9,!0),yy=(t,a,p)=>t.translate([`${a} {0}`,t.translate(p)]),_M=(t,a,p)=>{const E=(xe,Ee,Be,je)=>{const et=a.shared.providers.translate(xe.title);if(xe.type==="separator")return P.some({type:"separator",text:et});if(xe.type==="submenu"){const st=ie(xe.getStyleItems(),mt=>z(mt,Ee,je));return Ee===0&&st.length<=0?P.none():P.some({type:"nestedmenuitem",text:et,enabled:st.length>0,getSubmenuItems:()=>ie(xe.getStyleItems(),mt=>z(mt,Ee,je))})}else return P.some({type:"togglemenuitem",text:et,icon:xe.icon,active:xe.isSelected(je),enabled:!Be,onAction:p.onAction(xe),...xe.getStylePreview().fold(()=>({}),st=>({meta:{style:st}}))})},z=(xe,Ee,Be)=>{const je=xe.type==="formatter"&&p.isInvalid(xe);return Ee===0?je?[]:E(xe,Ee,!1,Be).toArray():E(xe,Ee,je,Be).toArray()},Y=xe=>{const Ee=p.getCurrentValue(),Be=p.shouldHide?0:1;return ie(xe,je=>z(je,Be,Ee))};return{validateItems:Y,getFetch:(xe,Ee)=>(Be,je)=>{const et=Ee(),st=Y(et),mt=jx(st,Yh.CLOSE_ON_EXECUTE,xe,{isHorizontalMenu:!1,search:P.none()});je(mt)}}},l0=(t,a,p)=>{const E=p.dataset,z=E.type==="basic"?()=>ne(E.data,Y=>LL(Y,p.isSelectedFor,p.getPreviewFor)):E.getData;return{items:_M(t,a,p),getStyleItems:z}},o2=(t,a,p,E,z)=>{const{items:Y,getStyleItems:re}=l0(t,a,p),xe=Be=>({getComponent:O(Be),setTooltip:je=>{const et=a.shared.providers.translate(je);jl(Be.element,{"aria-label":et,title:et})}}),Ee=Be=>{const je=et=>Be.setTooltip(yy(t,E,et.value));return t.on(z,je),qC(Yd(t,"NodeChange",et=>{const st=et.getComponent();p.updateText(st),Co.set(et.getComponent(),!t.selection.isEditable())})(Be),()=>t.off(z,je))};return UA({text:p.icon.isSome()?P.none():p.text,icon:p.icon,tooltip:P.from(p.tooltip),role:P.none(),fetch:Y.getFetch(a,re),onSetup:Ee,getApi:xe,columns:1,presets:"normal",classes:p.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",a.shared)},c0=t=>ne(t,a=>{let p=a,E=a;const z=a.split("=");return z.length>1&&(p=z[0],E=z[1]),{title:p,format:E}}),Y9=t=>({type:"basic",data:t});var a2;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(a2||(a2={}));const EY=(t,a)=>a===a2.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),bD=(t,a,p)=>{const E=t.options.get(a);return{type:"basic",data:c0(EY(E,p))}},xD="Align",K9="left",wD=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],X9=t=>{const a=()=>Ve(wD,xe=>t.formatter.match(xe.format)),p=xe=>()=>t.formatter.match(xe),E=xe=>P.none,z=xe=>{const Be=a().fold(O(K9),je=>je.title.toLowerCase());go(xe,r0,{icon:`align-${Be}`}),zV(t,{value:Be})},Y=Y9(wD),re=xe=>()=>Ve(wD,Ee=>Ee.format===xe.format).each(Ee=>t.execCommand(Ee.command));return{tooltip:yy(t,xD,K9),text:P.none(),icon:P.some("align-left"),isSelectedFor:p,getCurrentValue:P.none,getPreviewFor:E,onAction:re,updateText:z,dataset:Y,shouldHide:!1,isInvalid:xe=>!t.formatter.canApply(xe.format)}},J9=(t,a)=>o2(t,a,X9(t),xD,"AlignTextUpdate"),_Y=(t,a)=>{const p=l0(t,a,X9(t));t.ui.registry.addNestedMenuItem("align",{text:a.shared.providers.translate(xD),onSetup:Vc(t),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})},Q9=(t,a)=>{const p=a(),E=ne(p,z=>z.format);return P.from(t.formatter.closest(E)).bind(z=>Ve(p,Y=>Y.format===z)).orThunk(()=>lt(t.formatter.match("p"),{title:"Paragraph",format:"p"}))},BS="Blocks",CD="Paragraph",q9=t=>{const a=Y=>()=>t.formatter.match(Y),p=Y=>()=>{const re=t.formatter.get(Y);return re?P.some({tag:re.length>0&&(re[0].inline||re[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(Y))}):P.none()},E=Y=>{const xe=Q9(t,()=>z.data).fold(O(CD),Ee=>Ee.title);go(Y,md,{text:xe}),G7(t,{value:xe})},z=bD(t,"block_formats",a2.SemiColon);return{tooltip:yy(t,BS,CD),text:P.some(CD),icon:P.none(),isSelectedFor:a,getCurrentValue:P.none,getPreviewFor:p,onAction:j7(t),updateText:E,dataset:z,shouldHide:!1,isInvalid:Y=>!t.formatter.canApply(Y.format)}},RY=(t,a)=>o2(t,a,q9(t),BS,"BlocksTextUpdate"),LY=(t,a)=>{const p=l0(t,a,q9(t));t.ui.registry.addNestedMenuItem("blocks",{text:BS,onSetup:Vc(t),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})},SD="Fonts",TD="System Font",eN=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],kD=t=>{const a=t.split(/\s*,\s*/);return ne(a,p=>p.replace(/^['"]+|['"]+$/g,""))},AD=(t,a)=>a.length>0&&we(a,p=>t.indexOf(p.toLowerCase())>-1),DY=(t,a)=>{if(t.indexOf("-apple-system")===0||a.length>0){const p=kD(t.toLowerCase());return AD(p,eN)||AD(p,a)}else return!1},MD=t=>{const a=()=>{const Ee=Mt=>Mt?kD(Mt)[0]:"",Be=t.queryCommandValue("FontName"),je=xe.data,et=Be?Be.toLowerCase():"",st=L8(t);return{matchOpt:Ve(je,Mt=>{const Xt=Mt.format;return Xt.toLowerCase()===et||Ee(Xt).toLowerCase()===Ee(et).toLowerCase()}).orThunk(()=>lt(DY(et,st),{title:TD,format:et})),font:Be}},p=Ee=>Be=>Be.exists(je=>je.format===Ee),E=()=>{const{matchOpt:Ee}=a();return Ee},z=Ee=>()=>P.some({tag:"div",styles:Ee.indexOf("dings")===-1?{"font-family":Ee}:{}}),Y=Ee=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,Ee.format)})},re=Ee=>{const{matchOpt:Be,font:je}=a(),et=Be.fold(O(je),st=>st.title);go(Ee,md,{text:et}),Z7(t,{value:et})},xe=bD(t,"font_family_formats",a2.SemiColon);return{tooltip:yy(t,SD,TD),text:P.some(TD),icon:P.none(),isSelectedFor:p,getCurrentValue:E,getPreviewFor:z,onAction:Y,updateText:re,dataset:xe,shouldHide:!1,isInvalid:H}},$Y=(t,a)=>o2(t,a,MD(t),SD,"FontFamilyTextUpdate"),OY=(t,a)=>{const p=l0(t,a,MD(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:a.shared.providers.translate(SD),onSetup:Vc(t),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})},PY={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},tN=(()=>{const t="[0-9]+",p="[eE]"+("[+-]?"+t),E="\\.",z=xe=>`(?:${xe})?`,re=`[+-]?(?:${["Infinity",t+E+z(t)+z(p),E+t+z(p),t+z(p)].join("|")})`;return new RegExp(`^(${re})(.*)$`)})(),IY=(t,a)=>ge(a,p=>ge(PY[p],E=>t===E)),HS=(t,a)=>P.from(tN.exec(t)).bind(E=>{const z=Number(E[1]),Y=E[2];return IY(Y,a)?P.some({value:z,unit:Y}):P.none()}),NY=(t,a)=>HS(t,a).map(({value:p,unit:E})=>p+E),nN={tab:O(9),escape:O(27),enter:O(13),backspace:O(8),delete:O(46),left:O(37),up:O(38),right:O(39),down:O(40),space:O(32),home:O(36),end:O(35),pageUp:O(33),pageDown:O(34)},FY=(t,a,p)=>{let E=P.none();const z=rn=>rn.map(kn=>Fr.getValue(kn)).getOr(""),Y=Yd(t,"NodeChange SwitchMode",rn=>{const kn=rn.getComponent();E=P.some(kn),p.updateInputValue(kn),Co.set(kn,!t.selection.isEditable())}),re=rn=>({getComponent:O(rn)}),xe=q(C),Ee=Xr("custom-number-input-events"),Be=(rn,kn,Vn)=>{const hr=z(E),Yn=p.getNewValue(hr,rn),br=hr.length-`${Yn}`.length,Mr=E.map(Zr=>Zr.element.dom.selectionStart-br),ea=E.map(Zr=>Zr.element.dom.selectionEnd-br);p.onAction(Yn,Vn),E.each(Zr=>{Fr.setValue(Zr,Yn),kn&&(Mr.each(Do=>Zr.element.dom.selectionStart=Do),ea.each(Do=>Zr.element.dom.selectionEnd=Do))})},je=(rn,kn)=>Be((Vn,hr)=>Vn-hr,rn,kn),et=(rn,kn)=>Be((Vn,hr)=>Vn+hr,rn,kn),st=rn=>fr(rn.element).fold(P.none,kn=>(Ic(kn),P.some(!0))),mt=rn=>p1(rn.element)?(So(rn.element).each(kn=>Ic(kn)),P.some(!0)):P.none(),Mt=(rn,kn,Vn,hr)=>{const Yn=q(C),br=a.shared.providers.translate(Vn),Mr=Xr("altExecuting"),ea=Yd(t,"NodeChange SwitchMode",Do=>{Co.set(Do.getComponent(),!t.selection.isEditable())}),Zr=Do=>{Co.isDisabled(Do)||rn(!0)};return hl.sketch({dom:{tag:"button",attributes:{title:br,"aria-label":br},classes:hr.concat(kn)},components:[VA(kn,a.shared.providers.icons)],buttonBehaviours:gr([Co.config({}),jo(Mr,[Zv({onSetup:ea,getApi:re},Yn),eg({getApi:re},Yn),Xn(Ca(),(Do,Mo)=>{(Mo.event.raw.keyCode===nN.space()||Mo.event.raw.keyCode===nN.enter())&&(Co.isDisabled(Do)||rn(!1))}),Xn(xi(),Zr),Xn(Ko(),Zr)])]),eventOrder:{[Ca()]:[Mr,"keying"],[xi()]:[Mr,"alloy.base.behaviour"],[Ko()]:[Mr,"alloy.base.behaviour"]}})},Xt=Qa(Mt(rn=>je(!1,rn),"minus","Decrease font size",[])),Dn=Qa(Mt(rn=>et(!1,rn),"plus","Increase font size",[])),hn=Qa({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[sy.sketch({inputBehaviours:gr([Co.config({}),jo(Ee,[Zv({onSetup:Y,getApi:re},xe),eg({getApi:re},xe)]),jo("input-update-display-text",[Xn(md,(rn,kn)=>{Fr.setValue(rn,kn.event.text)}),Xn(sa(),rn=>{p.onAction(Fr.getValue(rn))}),Xn(Di(),rn=>{p.onAction(Fr.getValue(rn))})]),po.config({mode:"special",onEnter:rn=>(Be(D,!0,!0),P.some(!0)),onEscape:st,onUp:rn=>(et(!0,!1),P.some(!0)),onDown:rn=>(je(!0,!1),P.some(!0)),onLeft:(rn,kn)=>(kn.cut(),P.none()),onRight:(rn,kn)=>(kn.cut(),P.none())})])})],behaviours:gr([ko.config({}),po.config({mode:"special",onEnter:mt,onSpace:mt,onEscape:st}),jo("input-wrapper-events",[Xn($r(),rn=>{fe([Xt,Dn],kn=>{const Vn=zt.fromDom(kn.get(rn).element.dom);p1(Vn)&&hv(Vn)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[Xt.asSpec(),hn.asSpec(),Dn.asSpec()],behaviours:gr([ko.config({}),po.config({mode:"flow",focusInside:te.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:rn=>p1(rn.element)?P.none():(Ic(rn.element),P.some(!0))})])}},ED="Font sizes",rN="12pt",BY={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},HY={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},oN=(t,a)=>{const p=Math.pow(10,a);return Math.round(t*p)/p},zY=(t,a)=>/[0-9.]+px$/.test(t)?oN(parseInt(t,10)*72/96,a||0)+"pt":Ft(HY,t).getOr(t),VY=t=>Ft(BY,t).getOr(""),aN=t=>{const a=()=>{let Ee=P.none();const Be=xe.data,je=t.queryCommandValue("FontSize");if(je)for(let et=3;Ee.isNone()&&et>=0;et--){const st=zY(je,et),mt=VY(st);Ee=Ve(Be,Mt=>Mt.format===je||Mt.format===st||Mt.format===mt)}return{matchOpt:Ee,size:je}},p=Ee=>Be=>Be.exists(je=>je.format===Ee),E=()=>{const{matchOpt:Ee}=a();return Ee},z=O(P.none),Y=Ee=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,Ee.format)})},re=Ee=>{const{matchOpt:Be,size:je}=a(),et=Be.fold(O(je),st=>st.title);go(Ee,md,{text:et}),VV(t,{value:et})},xe=bD(t,"font_size_formats",a2.Space);return{tooltip:yy(t,ED,rN),text:P.some(rN),icon:P.none(),isSelectedFor:p,getPreviewFor:z,getCurrentValue:E,onAction:Y,updateText:re,dataset:xe,shouldHide:!1,isInvalid:H}},UY=(t,a)=>o2(t,a,aN(t),ED,"FontSizeTextUpdate"),WY=t=>{var a;const p={step:1};return(a={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&a!==void 0?a:p},GY=16,ZY=t=>t>=0,sN=t=>{const a=()=>t.queryCommandValue("FontSize");return{updateInputValue:E=>go(E,md,{text:a()}),onAction:(E,z)=>t.execCommand("FontSize",!1,E,{skip_focus:!z}),getNewValue:(E,z)=>{HS(E,["unsupportedLength","empty"]);const Y=a(),re=HS(E,["unsupportedLength","empty"]).or(HS(Y,["unsupportedLength","empty"])),xe=re.map(st=>st.value).getOr(GY),Ee=A8(t),Be=re.map(st=>st.unit).filter(st=>st!=="").getOr(Ee),je=z(xe,WY(Be).step),et=`${ZY(je)?je:xe}${Be}`;return et!==Y&&UV(t,{value:et}),et}}},jY=(t,a)=>FY(t,a,sN(t)),YY=(t,a)=>{const p=l0(t,a,aN(t));t.ui.registry.addNestedMenuItem("fontsize",{text:ED,onSetup:Vc(t),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})},RM="Formats",iN=(t,a)=>{const p="Paragraph",E=re=>()=>t.formatter.match(re),z=re=>()=>{const xe=t.formatter.get(re);return xe!==void 0?P.some({tag:xe.length>0&&(xe[0].inline||xe[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(re))}):P.none()},Y=re=>{const xe=et=>tM(et)?ie(et.items,xe):RI(et)?[{title:et.title,format:et.format}]:[],Ee=ie(DI(t),xe),je=Q9(t,O(Ee)).fold(O(p),et=>et.title);go(re,md,{text:je}),HV(t,{value:je})};return{tooltip:yy(t,RM,p),text:P.some(p),icon:P.none(),isSelectedFor:E,getCurrentValue:P.none,getPreviewFor:z,onAction:j7(t),updateText:Y,shouldHide:w8(t),isInvalid:re=>!t.formatter.canApply(re.format),dataset:a}},lN=(t,a)=>{const p={type:"advanced",...a.styles};return o2(t,a,iN(t,p),RM,"StylesTextUpdate")},cN=(t,a)=>{const p={type:"advanced",...a.styles},E=l0(t,a,iN(t,p));t.ui.registry.addNestedMenuItem("styles",{text:RM,onSetup:Vc(t),getSubmenuItems:()=>E.items.validateItems(E.getStyleItems())})},KY=O([qn("toggleClass"),qn("fetch"),qf("onExecute"),En("getHotspot",P.some),En("getAnchorOverrides",O({})),Om(),qf("onItemExecute"),Ia("lazySink"),qn("dom"),Sa("onOpen"),Fi("splitDropdownBehaviours",[pi,po,ko]),En("matchWidth",!1),En("useMinWidth",!1),En("eventOrder",{}),Ia("role")].concat(kR())),XY=Fl({factory:hl,schema:[qn("dom")],name:"arrow",defaults:()=>({buttonBehaviours:gr([ko.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:a=>{a.getSystem().getByUid(t.uid).each(kh)},buttonBehaviours:gr([qo.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),JY=Fl({factory:hl,schema:[qn("dom")],name:"button",defaults:()=>({buttonBehaviours:gr([ko.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:a=>{a.getSystem().getByUid(t.uid).each(p=>{t.onExecute(p,a)})}})}),s2=O([XY,JY,Fc({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[qn("text")],name:"aria-descriptor"}),Af({schema:[c1()],name:"menu",defaults:t=>({onExecute:(a,p)=>{a.getSystem().getByUid(t.uid).each(E=>{t.onItemExecute(E,a,p)})}})}),fO()]),QY=(t,a,p,E)=>{const z=je=>{da.getCurrent(je).each(et=>{Na.highlightFirst(et),po.focusIn(et)})},Y=je=>{SR(t,D,je,E,z,zc.HighlightMenuAndItem).get(C)},re=je=>(Y(je),P.some(!0)),xe=je=>{const et=zh(je,t,"button");return kh(et),P.some(!0)},Ee={...bs([ms((je,et)=>{gs(je,t,"aria-descriptor").each(mt=>{const Mt=Xr("aria");Lr(mt.element,"id",Mt),Lr(je.element,"aria-describedby",Mt)})})]),...Gh(P.some(Y))},Be={repositionMenus:je=>{qo.isOn(je)&&gO(je)}};return{uid:t.uid,dom:t.dom,components:a,apis:Be,eventOrder:{...t.eventOrder,[Ci()]:["disabling","toggling","alloy.base.behaviour"]},events:Ee,behaviours:Si(t.splitDropdownBehaviours,[pi.config({others:{sandbox:je=>{const et=zh(je,t,"arrow");return TR(t,je,{onOpen:()=>{qo.on(et),qo.on(je)},onClose:()=>{qo.off(et),qo.off(je)}})}}}),po.config({mode:"special",onSpace:xe,onEnter:xe,onDown:re}),ko.config({}),qo.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},LM=Bl({name:"SplitDropdown",configFields:KY(),partFields:s2(),factory:QY,apis:{repositionMenus:(t,a)=>t.repositionMenus(a)}}),uN=t=>({isEnabled:()=>!Co.isDisabled(t),setEnabled:a=>Co.set(t,!a),setText:a=>go(t,md,{text:a}),setIcon:a=>go(t,r0,{icon:a})}),qY=t=>({setActive:a=>{qo.set(t,a)},isActive:()=>qo.isOn(t),isEnabled:()=>!Co.isDisabled(t),setEnabled:a=>Co.set(t,!a),setText:a=>go(t,md,{text:a}),setIcon:a=>go(t,r0,{icon:a})}),fN=(t,a)=>t.map(p=>({"aria-label":a.translate(p),title:a.translate(p)})).getOr({}),dN=Xr("focus-button"),_D=(t,a,p,E,z)=>{const Y=a.map(xe=>Qa(DP(xe,"tox-tbtn",z))),re=t.map(xe=>Qa(n0(xe,z.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(a.isSome()?["tox-tbtn--select"]:[]),attributes:fN(p,z)},components:Ox([re.map(xe=>xe.asSpec()),Y.map(xe=>xe.asSpec())]),eventOrder:{[fo()]:["focusing","alloy.base.behaviour",hy],[Cu()]:[hy,"toolbar-group-button-events"]},buttonBehaviours:gr([Bi.toolbarButton(z.isDisabled),Qi(),jo(hy,[ms((xe,Ee)=>bS(xe)),Xn(md,(xe,Ee)=>{Y.bind(Be=>Be.getOpt(xe)).each(Be=>{Ho.set(Be,[ai(z.translate(Ee.event.text))])})}),Xn(r0,(xe,Ee)=>{re.bind(Be=>Be.getOpt(xe)).each(Be=>{Ho.set(Be,[n0(Ee.event.icon,z.icons)])})}),Xn(fo(),(xe,Ee)=>{Ee.event.prevent(),pa(xe,dN)})])].concat(E.getOr([])))}},eK=(t,a,p,E)=>{const z=a.shared,Y=q(C),re={toolbarButtonBehaviours:[],getApi:uN,onSetup:t.onSetup},xe=[jo("toolbar-group-button-events",[Zv(re,Y),eg(re,Y)])];return i0.sketch({lazySink:z.getSink,fetch:()=>cc.nu(Ee=>{Ee(ne(p(t.items),CM))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:_D(t.icon,t.text,t.tooltip,P.some(xe),z.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:E}}}})},DM=(t,a,p)=>{var E;const z=q(C),Y=_D(t.icon,t.text,t.tooltip,P.none(),p);return hl.sketch({dom:Y.dom,components:Y.components,eventOrder:RP,buttonBehaviours:{...gr([jo("toolbar-button-events",[_P({onAction:t.onAction,getApi:a.getApi}),Zv(a,z),eg(a,z)]),Bi.toolbarButton(()=>!t.enabled||p.isDisabled()),Qi()].concat(a.toolbarButtonBehaviours)),[hy]:(E=Y.buttonBehaviours)===null||E===void 0?void 0:E[hy]}})},tK=(t,a)=>hN(t,a,[]),hN=(t,a,p)=>DM(t,{toolbarButtonBehaviours:p.length>0?[jo("toolbarButtonWith",p)]:[],getApi:uN,onSetup:t.onSetup},a),mN=(t,a)=>RD(t,a,[]),RD=(t,a,p)=>DM(t,{toolbarButtonBehaviours:[Ho.config({}),qo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(p.length>0?[jo("toolbarToggleButtonWith",p)]:[]),getApi:qY,onSetup:t.onSetup},a),nK=(t,a,p)=>E=>cc.nu(z=>a.fetch(z)).map(z=>P.from(mA(hs(pR(Xr("menu-value"),z,Y=>{a.onItemAction(t(E),Y)},a.columns,a.presets,Yh.CLOSE_ON_EXECUTE,a.select.getOr(H),p),{movement:uA(a.columns,a.presets),menuBehaviours:YC.unnamedEvents(a.columns!=="auto"?[]:[ms((Y,re)=>{V5(Y,4,z8(a.presets)).each(({numRows:xe,numColumns:Ee})=>{po.setGridSize(Y,xe,Ee)})})])})))),rK=(t,a)=>{const p=Y=>({isEnabled:()=>!Co.isDisabled(Y),setEnabled:re=>Co.set(Y,!re),setIconFill:(re,xe)=>{mi(Y.element,`svg path[class="${re}"], rect[class="${re}"]`).each(Ee=>{Lr(Ee,"fill",xe)})},setActive:re=>{Lr(Y.element,"aria-pressed",re),mi(Y.element,"span").each(xe=>{Y.getSystem().getByDom(xe).each(Ee=>qo.set(Ee,re))})},isActive:()=>mi(Y.element,"span").exists(re=>Y.getSystem().getByDom(re).exists(qo.isOn)),setText:re=>mi(Y.element,"span").each(xe=>Y.getSystem().getByDom(xe).each(Ee=>go(Ee,md,{text:re}))),setIcon:re=>mi(Y.element,"span").each(xe=>Y.getSystem().getByDom(xe).each(Ee=>go(Ee,r0,{icon:re}))),setTooltip:re=>{const xe=a.providers.translate(re);jl(Y.element,{"aria-label":xe,title:xe})}}),E=q(C),z={getApi:p,onSetup:t.onSetup};return LM.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...fN(t.tooltip,a.providers)}},onExecute:Y=>{const re=p(Y);re.isEnabled()&&t.onAction(re)},onItemExecute:(Y,re,xe)=>{},splitDropdownBehaviours:gr([Bi.splitButton(a.providers.isDisabled),Qi(),jo("split-dropdown-events",[ms((Y,re)=>bS(Y)),Xn(dN,ko.focus),Zv(z,E),eg(z,E)]),lS.config({})]),eventOrder:{[Cu()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:a.getSink,fetch:nK(p,t,a.providers),parts:{menu:Mx(!1,t.columns,t.presets)},components:[LM.parts.button(_D(t.icon,t.text,P.none(),P.some([qo.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),a.providers)),LM.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:q_("chevron-down",a.providers.icons)},buttonBehaviours:gr([Bi.splitButton(a.providers.isDisabled),Qi(),Ek()])}),LM.parts["aria-descriptor"]({text:a.providers.translate("To open the popup, press Shift+Enter")})]})},oK=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],zS=(t,a)=>(p,E,z)=>{const Y=t(p).mapError(re=>wl(re)).getOrDie();return a(Y,E,z)},aK={button:zS(B5,(t,a)=>tK(t,a.shared.providers)),togglebutton:zS(i7,(t,a)=>mN(t,a.shared.providers)),menubutton:zS(qL,(t,a)=>wS(t,"tox-tbtn",a,P.none(),!1)),splitbutton:zS(Mj,(t,a)=>rK(t,a.shared)),grouptoolbarbutton:zS(kj,(t,a,p)=>{const E=p.ui.registry.getAll().buttons,z=re=>OM(p,{buttons:E,toolbar:re,allowToolbarGroups:!1},a,P.none()),Y={[vv]:a.shared.header.isPositionedAtTop()?tf.TopToBottom:tf.BottomToTop};switch(Cx(p)){case af.floating:return eK(t,a,z,Y);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},sK=(t,a,p)=>Ft(aK,t.type).fold(()=>(console.error("skipping button defined by",t),P.none()),E=>P.some(E(t,a,p))),LD={styles:lN,fontsize:UY,fontsizeinput:jY,fontfamily:$Y,blocks:RY,align:J9},iK=t=>{const a=ne(oK,p=>{const E=Ce(p.items,z=>pn(t,z)||pn(LD,z));return{name:p.name,items:E}});return Ce(a,p=>p.items.length>0)},lK=t=>{const a=t.split("|");return ne(a,p=>({items:p.trim().split(" ")}))},cK=t=>x(t,a=>pn(a,"name")&&pn(a,"items")),uK=t=>{const a=t.toolbar,p=t.buttons;return a===!1?[]:a===void 0||a===!0?iK(p):A(a)?lK(a):cK(a)?a:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},$M=(t,a,p,E,z,Y)=>Ft(a,p.toLowerCase()).orThunk(()=>Y.bind(re=>We(re,xe=>Ft(a,xe+p.toLowerCase())))).fold(()=>Ft(LD,p.toLowerCase()).map(re=>re(t,z)),re=>re.type==="grouptoolbarbutton"&&!E?(console.warn(`Ignoring the '${p}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),P.none()):sK(re,z,t)),OM=(t,a,p,E)=>{const z=uK(a),Y=ne(z,re=>{const xe=ie(re.items,Ee=>Ee.trim().length===0?[]:$M(t,a.buttons,Ee,a.allowToolbarGroups,p,E).toArray());return{title:P.from(t.translate(re.name)),items:xe}});return Ce(Y,re=>re.items.length>0)},VS=(t,a,p,E)=>{const z=a.mainUi.outerContainer,Y=p.toolbar,re=p.buttons;if(x(Y,A)){const xe=Y.map(Ee=>{const Be={toolbar:Ee,buttons:re,allowToolbarGroups:p.allowToolbarGroups};return OM(t,Be,E,P.none())});Ss.setToolbars(z,xe)}else Ss.setToolbar(z,OM(t,p,E,P.none()))},US=hf(),gN=US.os.isiOS()&&US.os.version.major<=12,fK=(t,a)=>{const{uiMotherships:p}=a,E=t.dom;let z=t.getWin();const Y=t.getDoc().documentElement,re=q(Ma(z.innerWidth,z.innerHeight)),xe=q(Ma(Y.offsetWidth,Y.offsetHeight)),Ee=()=>{const st=re.get();(st.left!==z.innerWidth||st.top!==z.innerHeight)&&(re.set(Ma(z.innerWidth,z.innerHeight)),nA(t))},Be=()=>{const st=t.getDoc().documentElement,mt=xe.get();(mt.left!==st.offsetWidth||mt.top!==st.offsetHeight)&&(xe.set(Ma(st.offsetWidth,st.offsetHeight)),nA(t))},je=st=>{FV(t,st)};E.bind(z,"resize",Ee),E.bind(z,"scroll",je);const et=Pb(zt.fromDom(t.getBody()),"load",Be);t.on("hide",()=>{fe(p,st=>{To(st.element,"display","none")})}),t.on("show",()=>{fe(p,st=>{Bo(st.element,"display")})}),t.on("NodeChange",Be),t.on("remove",()=>{et.unbind(),E.unbind(z,"resize",Ee),E.unbind(z,"scroll",je),z=null})},dK=(t,a,p)=>{Km(t)&&Nh(p.mainUi.mothership.element,p.popupUi.mothership),dl(a,p.dialogUi.mothership)};var hK=Object.freeze({__proto__:null,render:(t,a,p,E,z)=>{const{mainUi:Y,uiMotherships:re}=a,xe=q(0),Ee=Y.outerContainer;AY(t);const Be=zt.fromDom(z.targetNode),je=Fa(Yo(Be));Nh(Be,Y.mothership),dK(t,je,a),t.on("SkinLoaded",()=>{Ss.setSidebar(Ee,p.sidebar,Pk(t)),VS(t,a,p,E),xe.set(t.getWin().innerWidth),Ss.setMenubar(Ee,EM(t,p)),Ss.setViews(Ee,p.views),fK(t,a)});const et=Ss.getSocket(Ee).getOrDie("Could not find expected socket element");if(gN){Mi(et.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const Xt=mS(()=>{t.dispatch("ScrollContent")},20),Dn=sc(et.element,"scroll",Xt.throttle);t.on("remove",Dn.unbind)}T7(t,a),t.addCommand("ToggleSidebar",(Xt,Dn)=>{Ss.toggleSidebar(Ee,Dn),t.dispatch("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",()=>{var Xt;return(Xt=Ss.whichSidebar(Ee))!==null&&Xt!==void 0?Xt:""}),t.addCommand("ToggleView",(Xt,Dn)=>{if(Ss.toggleView(Ee,Dn)){const hn=Ee.element;Y.mothership.broadcastOn([rd()],{target:hn}),fe(re,rn=>{rn.broadcastOn([rd()],{target:hn})}),l(Ss.whichView(Ee))&&(t.focus(),t.nodeChanged(),Ss.refreshToolbar(Ee))}}),t.addQueryValueHandler("ToggleView",()=>{var Xt;return(Xt=Ss.whichView(Ee))!==null&&Xt!==void 0?Xt:""});const st=Cx(t),mt=()=>{Ss.refreshToolbar(a.mainUi.outerContainer)};(st===af.sliding||st===af.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const Xt=t.getWin().innerWidth;Xt!==xe.get()&&(mt(),xe.set(Xt))});const Mt={setEnabled:Xt=>{Qk(a,!Xt)},isEnabled:()=>!Co.isDisabled(Ee)};return{iframeContainer:et.element.dom,editorContainer:Ee.element.dom,api:Mt}}});const DD=t=>/^[0-9\.]+(|px)$/i.test(""+t)?P.some(parseInt(""+t,10)):P.none(),i2=t=>v(t)?t+"px":t,WS=(t,a,p)=>{const E=a.filter(Y=>t<Y),z=p.filter(Y=>t>Y);return E.or(z).getOr(t)},pN=t=>{const a=_k(t),p=wx(t),E=o5(t);return DD(a).map(z=>WS(z,p,E))},vN=t=>pN(t).getOr(_k(t)),$D=t=>{const a=FC(t),p=r5(t),E=Rk(t);return DD(a).map(z=>WS(z,p,E))},mK=t=>$D(t).getOr(FC(t)),{ToolbarLocation:PM,ToolbarMode:yN}=Gz,gK=40,pK=(t,a,p,E,z)=>{const{mainUi:Y,uiMotherships:re}=p,xe=oy.DOM,Ee=kx(t),Be=zC(t),je=Rk(t).or($D(t)),et=E.shared.header,st=et.isPositionedAtTop,mt=Cx(t),Mt=mt===yN.sliding||mt===yN.floating,Xt=q(!1),Dn=()=>Xt.get()&&!t.removed,hn=xo=>Mt?xo.fold(O(0),Ea=>Ea.components().length>1?Ls(Ea.components()[1].element):0):0,rn=xo=>{switch(BC(t)){case PM.auto:const Ea=Ss.getToolbar(Y.outerContainer),Ar=hn(Ea),no=Ls(xo.element)-Ar,$o=Js(a);if($o.y>no)return"top";{const wo=gn(a),Vo=Math.max(wo.dom.scrollHeight,Ls(wo));return $o.bottom<Vo-no||bl().bottom<$o.bottom-no?"bottom":"top"}case PM.bottom:return"bottom";case PM.top:default:return"top"}},kn=xo=>{z.on(Ea=>{Ti.setModes(Ea,[xo]),et.setDockingMode(xo);const Ar=st()?tf.TopToBottom:tf.BottomToTop;Lr(Ea.element,vv,Ar)})},Vn=()=>{z.on(xo=>{const Ea=je.getOrThunk(()=>{const Ar=DD(Ms(ss(),"margin-left")).getOr(0);return ci(ss())-al(a).left+Ar});To(xo.element,"max-width",Ea+"px")})},hr=xo=>{z.on(Ea=>{const Ar=Ss.getToolbar(Y.outerContainer),no=hn(Ar),$o=Js(a),{top:Po,left:wo}=Yn(t,Y.outerContainer.element).fold(()=>({top:st()?Math.max($o.y-Ls(Ea.element)+no,0):$o.bottom,left:$o.x}),Ra=>{var Rl;const Fu=Js(Ra),yd=(Rl=Ra.dom.scrollTop)!==null&&Rl!==void 0?Rl:0,ah=Qt(Ra,ss()),p0=ah?Math.max($o.y-Ls(Ea.element)+no,0):$o.y-Fu.y+yd-Ls(Ea.element)+no;return{top:st()?p0:$o.bottom,left:ah?$o.x:$o.x-Fu.x}}),Vo={position:"absolute",left:Math.round(wo)+"px",top:Math.round(Po)+"px"},ys=xo.map(Ra=>{const Rl=ll(),Fu=150,yd=window.innerWidth-(wo-Rl.left);return{width:Math.max(Math.min(Ra,yd),Fu)+"px"}}).getOr({});Mi(Y.outerContainer.element,{...Vo,...ys})})},Yn=(xo,Ea)=>Km(xo)?py(Ea):P.none(),br=()=>{fe(re,xo=>{xo.broadcastOn([tp()],{})})},Mr=()=>{if(Ee)return P.none();if(al(Y.outerContainer.element).left+Wu(Y.outerContainer.element)>=window.innerWidth-gK||Rs(Y.outerContainer.element,"width").isSome()){To(Y.outerContainer.element,"position","absolute"),To(Y.outerContainer.element,"left","0px"),Bo(Y.outerContainer.element,"width");const Ea=Wu(Y.outerContainer.element);return P.some(Ea)}else return P.none()},ea=xo=>{if(!Dn())return;Ee||Vn();const Ea=Ee?P.none():Mr();Mt&&Ss.refreshToolbar(Y.outerContainer),Ee||hr(Ea),Be&&z.on(xo),br()},Zr=()=>Ee||!Be||!Dn()?!1:z.get().exists(xo=>{const Ea=et.getDockingMode(),Ar=rn(xo);return Ar!==Ea?(kn(Ar),!0):!1});return{isVisible:Dn,isPositionedAtTop:st,show:()=>{Xt.set(!0),To(Y.outerContainer.element,"display","flex"),xe.addClass(t.getBody(),"mce-edit-focus"),fe(re,xo=>{Bo(xo.element,"display")}),Zr(),Km(t)?ea(xo=>Ti.isDocked(xo)?Ti.reset(xo):Ti.refresh(xo)):ea(Ti.refresh)},hide:()=>{Xt.set(!1),To(Y.outerContainer.element,"display","none"),xe.removeClass(t.getBody(),"mce-edit-focus"),fe(re,xo=>{To(xo.element,"display","none")})},update:ea,updateMode:()=>{Zr()&&ea(Ti.reset)},repositionPopups:br}},bN=(t,a)=>{const p=Js(t);return{pos:a?p.y:p.bottom,bounds:p}},vK=(t,a,p,E)=>{const z=q(bN(a,p.isPositionedAtTop())),Y=Be=>{const{pos:je,bounds:et}=bN(a,p.isPositionedAtTop()),{pos:st,bounds:mt}=z.get(),Mt=et.height!==mt.height||et.width!==mt.width;z.set({pos:je,bounds:et}),Mt&&nA(t,Be),p.isVisible()&&(st!==je?p.update(Ti.reset):Mt&&(p.updateMode(),p.repositionPopups()))};E||(t.on("activate",p.show),t.on("deactivate",p.hide)),t.on("SkinLoaded ResizeWindow",()=>p.update(Ti.reset)),t.on("NodeChange keydown",Be=>{requestAnimationFrame(()=>Y(Be))});let re=0;const xe=oL(()=>p.update(Ti.refresh),33);t.on("ScrollWindow",()=>{const Be=ll().left;Be!==re&&(re=Be,xe.throttle()),p.updateMode()}),Km(t)&&t.on("ElementScroll",Be=>{p.update(Ti.refresh)});const Ee=Oh();Ee.set(Pb(zt.fromDom(t.getBody()),"load",Be=>Y(Be.raw))),t.on("remove",()=>{Ee.clear()})};var yK=Object.freeze({__proto__:null,render:(t,a,p,E,z)=>{const{mainUi:Y}=a,re=ia(),xe=zt.fromDom(z.targetNode),Ee=pK(t,xe,a,E,re),Be=T8(t);MY(t);const je=()=>{if(re.isSet()){Ee.show();return}re.set(Ss.getHeader(Y.outerContainer).getOrDie());const st=p5(t);Km(t)?(Nh(xe,Y.mothership),Nh(xe,a.popupUi.mothership)):dl(st,Y.mothership),dl(st,a.dialogUi.mothership),VS(t,a,p,E),Ss.setMenubar(Y.outerContainer,EM(t,p)),Ee.show(),vK(t,xe,Ee,Be),t.nodeChanged()};t.on("show",je),t.on("hide",Ee.hide),Be||(t.on("focus",je),t.on("blur",Ee.hide)),t.on("init",()=>{(t.hasFocus()||Be)&&je()}),T7(t,a);const et={show:je,hide:Ee.hide,setEnabled:st=>{Qk(a,!st)},isEnabled:()=>!Co.isDisabled(Y.outerContainer)};return{editorContainer:Y.outerContainer.element.dom,api:et}}});const bK=()=>{const t=ia(),a=ia(),p=ia();return{dialogUi:t,popupUi:a,mainUi:p,getUiMotherships:()=>{const Y=t.get().map(xe=>xe.mothership),re=a.get().map(xe=>xe.mothership);return Y.fold(()=>re.toArray(),xe=>re.fold(()=>[xe],Ee=>Qt(xe.element,Ee.element)?[xe]:[xe,Ee]))},lazyGetInOuterOrDie:(Y,re)=>()=>p.get().bind(xe=>re(xe.outerContainer)).getOrDie(`Could not find ${Y} element in OuterContainer`)}},xK="contexttoolbar-show",OD="contexttoolbar-hide",wK=t=>({hide:()=>pa(t,wu()),getValue:()=>Fr.getValue(t)}),PD=(t,a)=>Xn(lL,(p,E)=>{const z=t.get(p),Y=wK(z);a.onAction(Y,E.event.buttonApi)}),CK=(t,a,p)=>{const{primary:E,...z}=a.original,Y=Ja(B5({...z,type:"button",onAction:C}));return hN(Y,p,[PD(t,a)])},SK=(t,a,p)=>{const{primary:E,...z}=a.original,Y=Ja(i7({...z,type:"togglebutton",onAction:C}));return RD(Y,p,[PD(t,a)])},TK=t=>t.type==="contextformtogglebutton",kK=(t,a,p)=>TK(a)?SK(t,a,p):CK(t,a,p),AK=(t,a,p)=>{const E=ne(a,re=>Qa(kK(t,re,p)));return{asSpecs:()=>ne(E,re=>re.asSpec()),findPrimary:re=>We(a,(xe,Ee)=>xe.primary?P.from(E[Ee]).bind(Be=>Be.getOpt(re)).filter(k(Co.isDisabled)):P.none())}},l2=(t,a)=>{const p=t.label.fold(()=>({}),Y=>({"aria-label":Y})),E=Qa(sy.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:p,selectOnFocus:!0,inputBehaviours:gr([po.config({mode:"special",onEnter:Y=>z.findPrimary(Y).map(re=>(kh(re),!0)),onLeft:(Y,re)=>(re.cut(),P.none()),onRight:(Y,re)=>(re.cut(),P.none())})])})),z=AK(E,t.commands,a);return[{title:P.none(),items:[E.asSpec()]},{title:P.none(),items:z.asSpecs()}]},EK={renderContextForm:(t,a,p)=>SM({type:t,uid:Xr("context-toolbar"),initGroups:l2(a,p),onEscape:P.none,cyclicKeying:!0,providers:p}),buildInitGroups:l2},xN=(t,a,p)=>a.bottom-t.y>=p&&t.bottom-a.y>=p,wN=t=>{const a=t.getBoundingClientRect();if(a.height<=0&&a.width<=0){const p=bo(zt.fromDom(t.startContainer),t.startOffset).element;return(kt(p)?Bn(p):P.some(p)).filter(St).map(z=>z.dom.getBoundingClientRect()).getOr(a)}else return a},GS=t=>{const a=t.selection.getRng(),p=wN(a);if(t.inline){const E=ll();return Hs(E.left+p.left,E.top+p.top,p.width,p.height)}else{const E=Xc(zt.fromDom(t.getBody()));return Hs(E.x+p.left,E.y+p.top,p.width,p.height)}},CN=(t,a)=>a.filter(p=>Wa(p)&&De(p)).map(Xc).getOrThunk(()=>GS(t)),SN=(t,a,p)=>{const E=Math.max(t.x+p,a.x),z=Math.min(t.right-p,a.right);return{x:E,width:z-E}},_K=(t,a,p,E,z,Y)=>{const re=zt.fromDom(t.getContainer()),xe=mi(re,".tox-editor-header").getOr(re),Ee=Js(xe),Be=Ee.y>=a.bottom,je=E&&!Be;if(t.inline&&je)return{y:Math.max(Ee.bottom+Y,p.y),bottom:p.bottom};if(t.inline&&!je)return{y:p.y,bottom:Math.min(Ee.y-Y,p.bottom)};const et=z==="line"?Js(re):a;return je?{y:Math.max(Ee.bottom+Y,p.y),bottom:Math.min(et.bottom-Y,p.bottom)}:{y:Math.max(et.y+Y,p.y),bottom:Math.min(Ee.y-Y,p.bottom)}},by=(t,a,p,E=0)=>{const z=B0(window),Y=Js(zt.fromDom(t.getContentAreaContainer())),re=Tx(t)||Fk(t)||HC(t),{x:xe,width:Ee}=SN(Y,z,E);if(t.inline&&!re)return Hs(xe,z.y,Ee,z.height);{const Be=a.header.isPositionedAtTop(),{y:je,bottom:et}=_K(t,Y,z,Be,p,E);return Hs(xe,je,Ee,et-je)}},xy=12,NM={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},ID={maxHeightFunction:pv(),maxWidthFunction:iD()},TN=(t,a)=>{const p=t.selection.getRng(),E=bo(zt.fromDom(p.startContainer),p.startOffset);return p.startContainer===p.endContainer&&p.startOffset===p.endOffset-1&&Qt(E.element,a)},RK=(t,a,p)=>{const E=Rs(t,"position");To(t,"position",a);const z=p(t);return E.each(Y=>To(t,"position",Y)),z},ND=t=>t==="node",LK=(t,a,p,E,z)=>{const Y=GS(t),re=E.lastElement().exists(xe=>Qt(p,xe));if(TN(t,p))return re?_L:eh;if(re)return RK(a,E.getMode(),()=>xN(Y,Js(a),-20)&&!E.isReposition()?bZ:_L);{const xe=E.getMode()==="fixed"?z.y+ll().top:z.y,Ee=Ls(a)+xy;return xe+Ee<=Y.y?eh:Jx}},DK=(t,a,p,E)=>{const z=Ee=>(Be,je,et,st,mt)=>{const Mt=LK(t,st,Ee,p,mt),Xt={...Be,y:mt.y,height:mt.height};return{...Mt(Xt,je,et,st,mt),alwaysFit:!0}},Y=Ee=>ND(E)?[z(Ee)]:[];return a?{onLtr:Ee=>[Yi,ji,Ml,Cc,Il,oc].concat(Y(Ee)),onRtl:Ee=>[Yi,Ml,ji,Il,Cc,oc].concat(Y(Ee))}:{onLtr:Ee=>[oc,Yi,Cc,ji,Il,Ml].concat(Y(Ee)),onRtl:Ee=>[oc,Yi,Il,Ml,Cc,ji].concat(Y(Ee))}},$K=(t,a,p,E)=>a==="line"?{bubble:Nd(xy,0,NM),layouts:{onLtr:()=>[gw],onRtl:()=>[m1]},overrides:ID}:{bubble:Nd(0,xy,NM,1/xy),layouts:DK(t,p,E,a),overrides:ID},FD=(t,a)=>{const p=Ce(a,Y=>Y.predicate(t.dom)),{pass:E,fail:z}=ye(p,Y=>Y.type==="contexttoolbar");return{contextToolbars:E,contextForms:z}},OK=t=>{if(t.length<=1)return t;{const a=Y=>ge(t,re=>re.position===Y),p=Y=>Ce(t,re=>re.position===Y),E=a("selection"),z=a("node");if(E||z)if(z&&E){const Y=p("node"),re=ne(p("selection"),xe=>({...xe,position:"node"}));return Y.concat(re)}else return p(E?"selection":"node");else return p("line")}},kN=t=>{if(t.length<=1)return t;{const a=E=>Ve(t,z=>z.position===E);return a("selection").orThunk(()=>a("node")).orThunk(()=>a("line")).map(E=>E.position).fold(()=>[],E=>Ce(t,z=>z.position===E))}},FM=(t,a,p)=>{const E=FD(t,a);if(E.contextForms.length>0)return P.some({elem:t,toolbars:[E.contextForms[0]]});{const z=FD(t,p);if(z.contextForms.length>0)return P.some({elem:t,toolbars:[z.contextForms[0]]});if(E.contextToolbars.length>0||z.contextToolbars.length>0){const Y=OK(E.contextToolbars.concat(z.contextToolbars));return P.some({elem:t,toolbars:Y})}else return P.none()}},AN=(t,a,p)=>t(a)?P.none():Kt(a,E=>{if(St(E)){const{contextToolbars:z,contextForms:Y}=FD(E,p.inNodeScope),re=Y.length>0?Y:kN(z);return re.length>0?P.some({elem:E,toolbars:re}):P.none()}else return P.none()},t),MN=(t,a)=>{const p=zt.fromDom(a.getBody()),E=re=>Qt(re,p),z=re=>!E(re)&&!nn(p,re),Y=zt.fromDom(a.selection.getNode());return z(Y)?P.none():FM(Y,t.inNodeScope,t.inEditorScope).orThunk(()=>AN(E,Y,t))},BD=(t,a)=>{const p={},E=[],z=[],Y={},re={},xe=(je,et)=>{const st=Ja(dV(et));p[je]=st,st.launch.map(mt=>{Y["form:"+je]={...et.launch,type:mt.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{a(st)}}}),st.scope==="editor"?z.push(st):E.push(st),re[je]=st},Ee=(je,et)=>{mV(et).each(st=>{et.scope==="editor"?z.push(st):E.push(st),re[je]=st})},Be=ot(t);return fe(Be,je=>{const et=t[je];et.type==="contextform"?xe(je,et):et.type==="contexttoolbar"&&Ee(je,et)}),{forms:p,inNodeScope:E,inEditorScope:z,lookupTable:re,formNavigators:Y}},EN=Xr("forward-slide"),HD=Xr("backward-slide"),zD=Xr("change-slide-event"),VD="tox-pop--resizing",BM=t=>{const a=q([]);return Ws.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:p=>{a.set([]),Ws.getContent(p).each(E=>{Bo(E.element,"visibility")}),Is(p.element,VD),Bo(p.element,"width")},inlineBehaviours:gr([jo("context-toolbar-events",[Ed(Ii(),(p,E)=>{E.event.raw.propertyName==="width"&&(Is(p.element,VD),Bo(p.element,"width"))}),Xn(zD,(p,E)=>{const z=p.element;Bo(z,"width");const Y=ci(z);Ws.setContent(p,E.event.contents),hi(z,VD);const re=ci(z);To(z,"width",Y+"px"),Ws.getContent(p).each(xe=>{E.event.focus.bind(Ee=>(Ic(Ee),Sf(z))).orThunk(()=>(po.focusIn(xe),Id(Yo(z))))}),setTimeout(()=>{To(p.element,"width",re+"px")},0)}),Xn(EN,(p,E)=>{Ws.getContent(p).each(z=>{a.set(a.get().concat([{bar:z,focus:Id(Yo(p.element))}]))}),go(p,zD,{contents:E.event.forwardContents,focus:P.none()})}),Xn(HD,(p,E)=>{Re(a.get()).each(z=>{a.set(a.get().slice(0,a.get().length-1)),go(p,zD,{contents:Tu(z.bar),focus:z.focus})})})]),po.config({mode:"special",onEscape:p=>Re(a.get()).fold(()=>t.onEscape(),E=>(pa(p,HD),P.some(!0)))})]),lazySink:()=>Wo.value(t.sink)})},HM="tox-pop--transition",PK=(t,a,p,E)=>{const z=E.backstage,Y=z.shared,re=hf().deviceType.isTouch,xe=ia(),Ee=ia(),Be=ia(),je=Pl(BM({sink:p,onEscape:()=>(t.focus(),P.some(!0))})),et=()=>{const Zr=Be.get().getOr("node"),Do=ND(Zr)?1:0;return by(t,Y,Zr,Do)},st=()=>!t.removed&&!(re()&&z.isContextMenuOpen()),mt=Zr=>sn(jn(Zr,xe.get(),Qt),!0),Mt=()=>{if(st()){const Zr=et(),Do=sn(Be.get(),"node")?CN(t,xe.get()):GS(t);return Zr.height<=0||!xN(Do,Zr,.01)}else return!0},Xt=()=>{xe.clear(),Ee.clear(),Be.clear(),Ws.hide(je)},Dn=()=>{if(Ws.isOpen(je)){const Zr=je.element;Bo(Zr,"display"),Mt()?To(Zr,"display","none"):(Ee.set(0),Ws.reposition(je))}},hn=Zr=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Zr],behaviours:gr([po.config({mode:"acyclic"}),jo("pop-dialog-wrap-events",[ms(Do=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>po.focusIn(Do))}),_d(Do=>{t.shortcuts.remove("ctrl+F9")})])])}),rn=Ps(()=>BD(a,Zr=>{const Do=hr([Zr]);go(je,EN,{forwardContents:hn(Do)})})),kn=(Zr,Do)=>OM(t,{buttons:Zr,toolbar:Do.items,allowToolbarGroups:!1},E.backstage,P.some(["form:"])),Vn=(Zr,Do)=>EK.buildInitGroups(Zr,Do),hr=Zr=>{const{buttons:Do}=t.ui.registry.getAll(),Mo=rn(),ja={...Do,...Mo.formNavigators},xo=Cx(t)===af.scrolling?af.scrolling:af.default,Ea=Fe(ne(Zr,Ar=>Ar.type==="contexttoolbar"?kn(ja,Ar):Vn(Ar,Y.providers)));return SM({type:xo,uid:Xr("context-toolbar"),initGroups:Ea,onEscape:P.none,cyclicKeying:!0,providers:Y.providers})},Yn=(Zr,Do)=>{const Mo=Zr==="node"?Y.anchors.node(Do):Y.anchors.cursor(),ja=$K(t,Zr,re(),{lastElement:xe.get,isReposition:()=>sn(Ee.get(),0),getMode:()=>Nl.getMode(p)});return hs(Mo,ja)},br=(Zr,Do)=>{if(ea.cancel(),!st())return;const Mo=hr(Zr),ja=Zr[0].position,xo=Yn(ja,Do);Be.set(ja),Ee.set(1);const Ea=je.element;Bo(Ea,"display"),mt(Do)||(Is(Ea,HM),Nl.reset(p,je)),Ws.showWithinBounds(je,hn(Mo),{anchor:xo,transition:{classes:[HM],mode:"placement"}},()=>P.some(et())),Do.fold(xe.clear,xe.set),Mt()&&To(Ea,"display","none")};let Mr=!1;const ea=oL(()=>{if(!(!t.hasFocus()||t.removed||Mr))if(Ni(je.element,HM))ea.throttle();else{const Zr=rn();MN(Zr,t).fold(Xt,Do=>{br(Do.toolbars,P.some(Do.elem))})}},17);t.on("init",()=>{t.on("remove",Xt),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Dn),t.on("click keyup focus SetContent",ea.throttle),t.on(OD,Xt),t.on(xK,Zr=>{const Do=rn();Ft(Do.lookupTable,Zr.toolbarKey).each(Mo=>{br([Mo],lt(Zr.target!==t,Zr.target)),Ws.getContent(je).each(po.focusIn)})}),t.on("focusout",Zr=>{ty.setEditorTimeout(t,()=>{Sf(p.element).isNone()&&Sf(je.element).isNone()&&Xt()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&Xt()}),t.on("AfterProgressState",Zr=>{Zr.state?Xt():t.hasFocus()&&ea.throttle()}),t.on("dragstart",()=>{Mr=!0}),t.on("dragend drop",()=>{Mr=!1}),t.on("NodeChange",Zr=>{Sf(je.element).fold(ea.throttle,C)})})},IK=t=>{fe([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],p=>{t.ui.registry.addToggleButton(p.name,{tooltip:p.text,icon:p.icon,onAction:Du(t,p.cmd),onSetup:rA(t,p.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Vc(t),onAction:Du(t,"JustifyNone")})},_N=(t,a)=>{const p=()=>{const E=a.getOptions(t),z=a.getCurrent(t).map(a.hash),Y=ia();return ne(E,re=>({type:"togglemenuitem",text:a.display(re),onSetup:xe=>{const Ee=je=>{je&&(Y.on(et=>et.setActive(!1)),Y.set(xe)),xe.setActive(je)};Ee(sn(z,a.hash(re)));const Be=a.watcher(t,re,Ee);return()=>{Y.clear(),Be()}},onAction:()=>a.setCurrent(t,re)}))};t.ui.registry.addMenuButton(a.name,{tooltip:a.text,icon:a.icon,fetch:E=>E(p()),onSetup:a.onToolbarSetup}),t.ui.registry.addNestedMenuItem(a.name,{type:"nestedmenuitem",text:a.text,getSubmenuItems:p,onSetup:a.onMenuSetup})},NK=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:D8,hash:a=>NY(a,["fixed","relative","empty"]).getOr(a),display:D,watcher:(a,p,E)=>a.formatter.formatChanged("lineheight",E,!1,{value:p}).unbind,getCurrent:a=>P.from(a.queryCommandValue("LineHeight")),setCurrent:(a,p)=>a.execCommand("LineHeight",!1,p),onToolbarSetup:Vc(t),onMenuSetup:Vc(t)}),FK=t=>P.from(C8(t)).map(p=>({name:"language",text:"Language",icon:"language",getOptions:O(p),hash:E=>i(E.customCode)?E.code:`${E.code}/${E.customCode}`,display:E=>E.title,watcher:(E,z,Y)=>{var re;return E.formatter.formatChanged("lang",Y,!1,{value:z.code,customValue:(re=z.customCode)!==null&&re!==void 0?re:null}).unbind},getCurrent:E=>{const z=zt.fromDom(E.selection.getNode());return en(z,Y=>P.some(Y).filter(St).bind(re=>yi(re,"lang").map(Ee=>{const Be=yi(re,"data-mce-lang").getOrUndefined();return{code:Ee,customCode:Be,title:""}})))},setCurrent:(E,z)=>E.execCommand("Lang",!1,z),onToolbarSetup:E=>{const z=Oh();return E.setActive(t.formatter.match("lang",{},void 0,!0)),z.set(t.formatter.formatChanged("lang",E.setActive,!0)),qC(z.clear,Vc(t)(E))},onMenuSetup:Vc(t)})),RN=t=>{_N(t,NK(t)),FK(t).each(a=>_N(t,a))},LN=(t,a)=>{_Y(t,a),OY(t,a),cN(t,a),LY(t,a),YY(t,a)},BK=t=>Yd(t,"NodeChange",a=>{a.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),HK=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:BK(t),onAction:Du(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Vc(t),onAction:Du(t,"indent")})},DN=t=>{HK(t)},$N=(t,a)=>p=>{p.setActive(a.get());const E=z=>{a.set(z.state),p.setActive(z.state)};return t.on("PastePlainTextToggle",E),qC(()=>t.off("PastePlainTextToggle",E),Vc(t)(p))},zK=t=>{const a=q(Ok(t)),p=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:p,onSetup:$N(t,a)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:p,onSetup:$N(t,a)})},UD=(t,a)=>()=>{t.execCommand("mceToggleFormat",!1,a)},VK=t=>{ig.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(a,p)=>{t.ui.registry.addToggleButton(a.name,{tooltip:a.text,icon:a.icon,onSetup:rA(t,a.name),onAction:UD(t,a.name)})});for(let a=1;a<=6;a++){const p="h"+a;t.ui.registry.addToggleButton(p,{text:p.toUpperCase(),tooltip:"Heading "+a,onSetup:rA(t,p),onAction:UD(t,p)})}},UK=t=>{ig.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],a=>{t.ui.registry.addButton(a.name,{tooltip:a.text,icon:a.icon,onAction:Du(t,a.action)})}),ig.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],a=>{t.ui.registry.addButton(a.name,{tooltip:a.text,icon:a.icon,onSetup:Vc(t),onAction:Du(t,a.action)})})},WD=t=>{ig.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],a=>{t.ui.registry.addToggleButton(a.name,{tooltip:a.text,icon:a.icon,onAction:Du(t,a.action),onSetup:rA(t,a.name)})})},WK=t=>{VK(t),UK(t),WD(t)},GK=t=>{ig.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],a=>{t.ui.registry.addMenuItem(a.name,{text:a.text,icon:a.icon,shortcut:a.shortcut,onAction:Du(t,a.action)})}),ig.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],a=>{t.ui.registry.addMenuItem(a.name,{text:a.text,icon:a.icon,shortcut:a.shortcut,onSetup:Vc(t),onAction:Du(t,a.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Vc(t),onAction:UD(t,"code")})},GD=t=>{WK(t),GK(t)},ZS=(t,a)=>Yd(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",p=>{p.setEnabled(!t.mode.isReadOnly()&&t.undoManager[a]())}),ON=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:ZS(t,"hasUndo"),onAction:Du(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:ZS(t,"hasRedo"),onAction:Du(t,"redo")})},ZK=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:ZS(t,"hasUndo"),onAction:Du(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:ZS(t,"hasRedo"),onAction:Du(t,"redo")})},jK=t=>{ON(t),ZK(t)},YK=t=>Yd(t,"VisualAid",a=>{a.setActive(t.hasVisual)}),KK=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:YK(t),onAction:Du(t,"mceToggleVisualAid")})},XK=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Du(t,"mceToggleVisualAid")})},ZD=t=>{XK(t),KK(t)},JK=(t,a)=>{IK(t),GD(t),LN(t,a),jK(t),gR(t),ZD(t),DN(t),RN(t),zK(t)},PN=t=>A(t)?t.split(/[ ,]/):t,IN=t=>a=>a.options.get(t),QK=t=>{const a=t.options.register;a("contextmenu_avoid_overlap",{processor:"string",default:""}),a("contextmenu_never_use_native",{processor:"boolean",default:!1}),a("contextmenu",{processor:p=>p===!1?{value:[],valid:!0}:A(p)||x(p,A)?{value:PN(p),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},zM=IN("contextmenu_never_use_native"),qK=IN("contextmenu_avoid_overlap"),NN=t=>FN(t).length===0,FN=t=>{const a=t.ui.registry.getAll().contextMenus,p=t.options.get("contextmenu");return t.options.isSet("contextmenu")?p:Ce(p,E=>pn(a,E))},jS=(t,a)=>({type:"makeshift",x:t,y:a}),jD=(t,a,p)=>jS(t.x+a,t.y+p),BN=t=>t.type==="longpress"||t.type.indexOf("touch")===0,eX=t=>{if(BN(t)){const a=t.touches[0];return jS(a.pageX,a.pageY)}else return jS(t.pageX,t.pageY)},tX=t=>{if(BN(t)){const a=t.touches[0];return jS(a.clientX,a.clientY)}else return jS(t.clientX,t.clientY)},nX=(t,a)=>{const p=oy.DOM.getPos(t);return jD(a,p.x,p.y)},rX=(t,a)=>a.type==="contextmenu"||a.type==="longpress"?t.inline?eX(a):nX(t.getContentAreaContainer(),tX(a)):YD(t),YD=t=>({type:"selection",root:zt.fromDom(t.selection.getNode())}),oX=t=>({type:"node",node:P.some(zt.fromDom(t.selection.getNode())),root:zt.fromDom(t.getBody())}),HN=(t,a,p)=>{switch(p){case"node":return oX(t);case"point":return rX(t,a);case"selection":return YD(t)}},aX=(t,a,p,E,z,Y)=>{const re=p(),xe=HN(t,a,Y);jx(re,Yh.CLOSE_ON_EXECUTE,E,{isHorizontalMenu:!1,search:P.none()}).map(Ee=>{a.preventDefault(),Ws.showMenuAt(z,{anchor:xe},{menu:{markers:fp("normal")},data:Ee})})},sX={onLtr:()=>[Yi,ji,Ml,Cc,Il,oc,eh,Jx,_S,ES,gy,MS],onRtl:()=>[Yi,Ml,ji,Il,Cc,oc,eh,Jx,gy,MS,_S,ES]},iX=12,lX={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},cX=(t,a)=>{const p=t.selection;if(p.isCollapsed()||a.touches.length<1)return!1;{const E=a.touches[0],z=p.getRng();return Ww(t.getWin(),fl.domRange(z)).exists(re=>re.left<=E.clientX&&re.right>=E.clientX&&re.top<=E.clientY&&re.bottom>=E.clientY)}},uX=t=>{const a=t.selection.getRng(),p=()=>{ty.setEditorTimeout(t,()=>{t.selection.setRng(a)},10),Y()};t.once("touchend",p);const E=re=>{re.preventDefault(),re.stopImmediatePropagation()};t.on("mousedown",E,!0);const z=()=>Y();t.once("longpresscancel",z);const Y=()=>{t.off("touchend",p),t.off("longpresscancel",z),t.off("mousedown",E)}},zN=(t,a,p)=>{const E=HN(t,a,p);return{bubble:Nd(0,p==="point"?iX:0,lX),layouts:sX,overrides:{maxWidthFunction:iD(),maxHeightFunction:pv()},...E}},fX=(t,a,p,E,z,Y,re)=>{const xe=zN(t,a,Y);jx(p,Yh.CLOSE_ON_EXECUTE,E,{isHorizontalMenu:!0,search:P.none()}).map(Ee=>{a.preventDefault();const Be=re?zc.HighlightMenuAndItem:zc.HighlightNone;Ws.showMenuWithinBounds(z,{anchor:xe},{menu:{markers:fp("normal"),highlightOnOpen:Be},data:Ee,type:"horizontal"},()=>P.some(by(t,E.shared,Y==="node"?"node":"selection"))),t.dispatch(OD)})},VN=(t,a,p,E,z,Y)=>{const re=hf(),xe=re.os.isiOS(),Ee=re.os.isMacOS(),Be=re.os.isAndroid(),je=re.deviceType.isTouch(),et=()=>!(Be||xe||Ee&&je),st=()=>{const mt=p();fX(t,a,mt,E,z,Y,et())};if((Ee||xe)&&Y!=="node"){const mt=()=>{uX(t),st()};cX(t,a)?mt():(t.once("selectionchange",mt),t.once("touchend",()=>t.off("selectionchange",mt)))}else st()},UN=t=>A(t)?t==="|":t.type==="separator",KD={type:"separator"},WN=t=>{const a=p=>({text:p.text,icon:p.icon,enabled:p.enabled,shortcut:p.shortcut});if(A(t))return t;switch(t.type){case"separator":return KD;case"submenu":return{type:"nestedmenuitem",...a(t),getSubmenuItems:()=>{const E=t.getSubmenuItems();return A(E)?E:ne(E,WN)}};default:const p=t;return{type:"menuitem",...a(p),onAction:_(p.onAction)}}},u0=(t,a)=>{if(a.length===0)return t;const E=Re(t).filter(z=>!UN(z)).fold(()=>[],z=>[KD]);return t.concat(E).concat(a).concat([KD])},GN=(t,a,p)=>{const E=ke(a,(z,Y)=>Ft(t,Y.toLowerCase()).map(re=>{const xe=re.update(p);if(A(xe)&&fn(Et(xe)))return u0(z,xe.split(" "));if(h(xe)&&xe.length>0){const Ee=ne(xe,WN);return u0(z,Ee)}else return z}).getOrThunk(()=>z.concat([Y])),[]);return E.length>0&&UN(E[E.length-1])&&E.pop(),E},dX=(t,a)=>a.ctrlKey&&!zM(t),hX=t=>t.type==="longpress"||pn(t,"touches"),ZN=(t,a)=>!hX(a)&&(a.button!==2||a.target===t.getBody()&&a.pointerType===""),jN=(t,a)=>ZN(t,a)?t.selection.getStart(!0):a.target,YN=(t,a)=>{const p=qK(t),E=ZN(t,a)?"selection":"point";if(fn(p)){const z=jN(t,a);return rS(zt.fromDom(z),p)?"node":E}else return E},mX=(t,a,p)=>{const z=hf().deviceType.isTouch,Y=Pl(Ws.sketch({dom:{tag:"div"},lazySink:a,onEscape:()=>t.focus(),onShow:()=>p.setContextMenuState(!0),onHide:()=>p.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:gr([jo("dismissContextMenu",[Xn(Tm(),(Ee,Be)=>{va.close(Ee),t.focus()})])])})),re=()=>Ws.hide(Y),xe=Ee=>{if(zM(t)&&Ee.preventDefault(),dX(t,Ee)||NN(t))return;const Be=YN(t,Ee),je=()=>{const st=jN(t,Ee),mt=t.ui.registry.getAll(),Mt=FN(t);return GN(mt.contextMenus,Mt,st)};(z()?VN:aX)(t,Ee,je,p,Y,Be)};t.on("init",()=>{const Ee="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(z()?"":" ResizeWindow");t.on(Ee,re),t.on("longpress contextmenu",xe)})},XD=Ae.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),VM=t=>a=>a.translate(-t.left,-t.top),UM=t=>a=>a.translate(t.left,t.top),yp=t=>(a,p)=>ke(t,(E,z)=>z(E),Ma(a,p)),WM=(t,a,p)=>t.fold(yp([UM(p),VM(a)]),yp([VM(a)]),yp([])),c2=(t,a,p)=>t.fold(yp([UM(p)]),yp([]),yp([UM(a)])),KN=(t,a,p)=>t.fold(yp([]),yp([VM(p)]),yp([UM(a),VM(p)])),gX=(t,a,p,E,z,Y)=>{const re=c2(t,z,Y),xe=c2(a,z,Y);return Math.abs(re.left-xe.left)<=p&&Math.abs(re.top-xe.top)<=E},pX=(t,a,p,E,z,Y)=>{const re=c2(t,z,Y),xe=c2(a,z,Y),Ee=Math.abs(re.left-xe.left),Be=Math.abs(re.top-xe.top);return Ma(Ee,Be)},JD=(t,a,p)=>{const E=t.fold((z,Y)=>({position:P.some("absolute"),left:P.some(z+"px"),top:P.some(Y+"px")}),(z,Y)=>({position:P.some("absolute"),left:P.some(z-p.left+"px"),top:P.some(Y-p.top+"px")}),(z,Y)=>({position:P.some("fixed"),left:P.some(z+"px"),top:P.some(Y+"px")}));return{right:P.none(),bottom:P.none(),...E}},XN=(t,a,p)=>t.fold((E,z)=>f0(E+a,z+p),(E,z)=>d0(E+a,z+p),(E,z)=>wy(E+a,z+p)),QD=(t,a,p,E)=>{const z=(Y,re)=>(xe,Ee)=>{const Be=Y(a,p,E);return re(xe.getOr(Be.left),Ee.getOr(Be.top))};return t.fold(z(KN,f0),z(c2,d0),z(WM,wy))},f0=XD.offset,d0=XD.absolute,wy=XD.fixed,GM=(t,a)=>{const p=Ka(t,a);return i(p)?NaN:parseInt(p,10)},vX=(t,a)=>{const p=t.element,E=GM(p,a.leftAttr),z=GM(p,a.topAttr);return isNaN(E)||isNaN(z)?P.none():P.some(Ma(E,z))},yX=(t,a,p)=>{const E=t.element;Lr(E,a.leftAttr,p.left+"px"),Lr(E,a.topAttr,p.top+"px")},bX=(t,a)=>{const p=t.element;Xa(p,a.leftAttr),Xa(p,a.topAttr)},xX=(t,a,p,E)=>vX(t,a).fold(()=>p,z=>wy(z.left+E.left,z.top+E.top)),wX=(t,a,p,E,z,Y)=>{const re=xX(t,a,p,E),xe=a.mustSnap?SX(t,a,re,z,Y):TX(t,a,re,z,Y),Ee=WM(re,z,Y);return yX(t,a,Ee),xe.fold(()=>({coord:wy(Ee.left,Ee.top),extra:P.none()}),Be=>({coord:Be.output,extra:Be.extra}))},CX=(t,a)=>{bX(t,a)},JN=(t,a,p,E)=>We(t,z=>{const Y=z.sensor;return gX(a,Y,z.range.left,z.range.top,p,E)?P.some({output:QD(z.output,a,p,E),extra:z.extra}):P.none()}),SX=(t,a,p,E,z)=>{const Y=a.getSnapPoints(t);return JN(Y,p,E,z).orThunk(()=>ke(Y,(Ee,Be)=>{const je=Be.sensor,et=pX(p,je,Be.range.left,Be.range.top,E,z);return Ee.deltas.fold(()=>({deltas:P.some(et),snap:P.some(Be)}),st=>{const mt=(et.left+et.top)/2,Mt=(st.left+st.top)/2;return mt<=Mt?{deltas:P.some(et),snap:P.some(Be)}:Ee})},{deltas:P.none(),snap:P.none()}).snap.map(Ee=>({output:QD(Ee.output,p,E,z),extra:Ee.extra})))},TX=(t,a,p,E,z)=>{const Y=a.getSnapPoints(t);return JN(Y,p,E,z)},kX=(t,a,p)=>({coord:QD(t.output,t.output,a,p),extra:t.extra});var AX=Object.freeze({__proto__:null,snapTo:(t,a,p,E)=>{const z=a.getTarget(t.element);if(a.repositionTarget){const Y=Sn(t.element),re=ll(Y),xe=YI(z),Ee=kX(E,re,xe),Be=JD(Ee.coord,re,xe);ur(z,Be)}}});const qD="data-initial-z-index",MX=t=>{Bn(t.element).filter(St).each(a=>{yi(a,qD).fold(()=>Bo(a,"z-index"),p=>To(a,"z-index",p)),Xa(a,qD)})},EX=t=>{Bn(t.element).filter(St).each(a=>{Rs(a,"z-index").each(p=>{Lr(a,qD,p)}),To(a,"z-index",Ms(t.element,"z-index"))})},QN=(t,a)=>{t.getSystem().addToGui(a),EX(a)},_X=t=>{MX(t),t.getSystem().removeFromGui(t)},YS=(t,a,p)=>t.getSystem().build(Kh.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[a]},events:p}));var RX=Ql("snaps",[qn("getSnapPoints"),Sa("onSensor"),qn("leftAttr"),qn("topAttr"),En("lazyViewport",bl),En("mustSnap",!1)]);const e6=[En("useFixed",H),qn("blockerClass"),En("getTarget",D),En("onDrag",C),En("repositionTarget",!0),En("onDrop",C),bi("getBounds",bl),RX],LX=t=>Wn(Rs(t,"left"),Rs(t,"top"),Rs(t,"position"),(a,p,E)=>(E==="fixed"?wy:f0)(parseInt(a,10),parseInt(p,10))).getOrThunk(()=>{const a=al(t);return d0(a.left,a.top)}),DX=(t,a,p,E,z)=>{const Y=z.bounds,re=c2(a,p,E),xe=ku(re.left,Y.x,Y.x+Y.width-z.width),Ee=ku(re.top,Y.y,Y.y+Y.height-z.height),Be=d0(xe,Ee);return a.fold(()=>{const je=KN(Be,p,E);return f0(je.left,je.top)},O(Be),()=>{const je=WM(Be,p,E);return wy(je.left,je.top)})},$X=(t,a,p,E,z,Y,re)=>{const xe=a.fold(()=>{const Ee=XN(p,Y.left,Y.top),Be=WM(Ee,E,z);return wy(Be.left,Be.top)},Ee=>{const Be=wX(t,Ee,p,Y,E,z);return Be.extra.each(je=>{Ee.onSensor(t,je)}),Be.coord});return DX(t,xe,E,z,re)},OX=(t,a,p,E)=>{const z=a.getTarget(t.element);if(a.repositionTarget){const Y=Sn(t.element),re=ll(Y),xe=YI(z),Ee=LX(z),Be=$X(t,a.snaps,Ee,re,xe,E,p),je=JD(Be,re,xe);ur(z,je)}a.onDrag(t,z,E)},t6=(t,a)=>({bounds:t.getBounds(),height:cu(a.element),width:Wu(a.element)}),n6=(t,a,p,E,z)=>{const Y=p.update(E,z),re=p.getStartData().getOrThunk(()=>t6(a,t));Y.each(xe=>{OX(t,a,re,xe)})},qN=(t,a,p,E)=>{a.each(_X),p.snaps.each(Y=>{CX(t,Y)});const z=p.getTarget(t.element);E.reset(),p.onDrop(t,z)},r6=t=>(a,p)=>{const E=z=>{p.setStartData(t6(a,z))};return bs([Xn(Md(),z=>{p.getStartData().each(()=>E(z))}),...t(a,p,E)])},PX=t=>bs([Xn(fo(),t.forceDrop),Xn(is(),t.drop),Xn(Ha(),(a,p)=>{t.move(p.event)}),Xn(Vs(),t.delayDrop)]);var tF=Object.freeze({__proto__:null,getData:t=>P.from(Ma(t.x,t.y)),getDelta:(t,a)=>Ma(a.left-t.left,a.top-t.top)});const nF=(t,a,p)=>[Xn(fo(),(E,z)=>{if(z.event.raw.button!==0)return;z.stop();const re=()=>qN(E,P.some(Be),t,a),xe=bO(re,200),Ee={drop:re,delayDrop:xe.schedule,forceDrop:re,move:et=>{xe.cancel(),n6(E,t,a,tF,et)}},Be=YS(E,t.blockerClass,PX(Ee));(()=>{p(E),QN(E,Be)})()})],IX=[...e6,rs("dragger",{handlers:r6(nF)})],NX=t=>bs([Xn(eo(),t.forceDrop),Xn(Ko(),t.drop),Xn(yo(),t.drop),Xn(lo(),(a,p)=>{t.move(p.event)})]),FX=t=>{const a=t[0];return P.some(Ma(a.clientX,a.clientY))};var rF=Object.freeze({__proto__:null,getData:t=>{const p=t.raw.touches;return p.length===1?FX(p):P.none()},getDelta:(t,a)=>Ma(a.left-t.left,a.top-t.top)});const oF=(t,a,p)=>{const E=ia(),z=Y=>{qN(Y,E.get(),t,a),E.clear()};return[Xn(eo(),(Y,re)=>{re.stop();const xe=()=>z(Y),Ee={drop:xe,delayDrop:C,forceDrop:xe,move:et=>{n6(Y,t,a,rF,et)}},Be=YS(Y,t.blockerClass,NX(Ee));E.set(Be),(()=>{p(Y),QN(Y,Be)})()}),Xn(lo(),(Y,re)=>{re.stop(),n6(Y,t,a,rF,re.event)}),Xn(Ko(),(Y,re)=>{re.stop(),z(Y)}),Xn(yo(),z)]},BX=[...e6,rs("dragger",{handlers:r6(oF)})],HX=(t,a,p)=>[...nF(t,a,p),...oF(t,a,p)],zX=[...e6,rs("dragger",{handlers:r6(HX)})];var VX=Object.freeze({__proto__:null,mouse:IX,touch:BX,mouseOrTouch:zX}),UX=Object.freeze({__proto__:null,init:()=>{let t=P.none(),a=P.none();const p=()=>{t=P.none(),a=P.none()},E=(Ee,Be)=>{const je=t.map(et=>Ee.getDelta(et,Be));return t=P.some(Be),je},z=(Ee,Be)=>Ee.getData(Be).bind(je=>E(Ee,je)),Y=Ee=>{a=P.some(Ee)},re=()=>a,xe=O({});return Qc({readState:xe,reset:p,update:z,getStartData:re,setStartData:Y})}});const h0=Ob({branchKey:"mode",branches:VX,name:"dragging",active:{events:(t,a)=>t.dragger.handlers(t,a)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:P.from(t.extra)})},state:UX,apis:AX}),o6=40,ZM=o6/2,aF=(t,a,p,E,z,Y)=>t.fold(()=>h0.snap({sensor:d0(p-ZM,E-ZM),range:Ma(z,Y),output:d0(P.some(p),P.some(E)),extra:{td:a}}),re=>{const xe=p-ZM,Ee=E-ZM,Be=o6,je=o6,et=re.element.dom.getBoundingClientRect();return h0.snap({sensor:d0(xe,Ee),range:Ma(Be,je),output:d0(P.some(p-et.width/2),P.some(E-et.height/2)),extra:{td:a}})}),sF=(t,a,p)=>{const E=(z,Y)=>z.exists(re=>Qt(re,Y));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(z,Y)=>{const re=Y.td;E(a.get(),re)||(a.set(re),p(re))},mustSnap:!0}},iF=t=>Qa(hl.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:gr([h0.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),lS.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),WX=(t,a)=>{const p=q([]),E=q([]),z=q(!1),Y=ia(),re=ia(),xe=br=>{const Mr=Xc(br);return aF(mt.getOpt(a),br,Mr.x,Mr.y,Mr.width,Mr.height)},Ee=()=>ne(p.get(),br=>xe(br)),Be=br=>{const Mr=Xc(br);return aF(Mt.getOpt(a),br,Mr.right,Mr.bottom,Mr.width,Mr.height)},je=()=>ne(E.get(),br=>Be(br)),et=sF(Ee,Y,br=>{re.get().each(Mr=>{t.dispatch("TableSelectorChange",{start:br,finish:Mr})})}),st=sF(je,re,br=>{Y.get().each(Mr=>{t.dispatch("TableSelectorChange",{start:Mr,finish:br})})}),mt=iF(et),Mt=iF(st),Xt=Pl(mt.asSpec()),Dn=Pl(Mt.asSpec()),hn=(br,Mr,ea,Zr)=>{const Do=Mr.dom.getBoundingClientRect();Bo(br.element,"display");const Mo=Qn(zt.fromDom(t.getBody())).dom.innerHeight,ja=ea(Do),xo=Zr(Do,Mo);(ja||xo)&&To(br.element,"display","none")},rn=(br,Mr,ea,Zr)=>{const Do=ea(Mr);h0.snapTo(br,Do),hn(br,Mr,xo=>xo[Zr]<0,(xo,Ea)=>xo[Zr]>Ea)},kn=br=>rn(Xt,br,xe,"top"),Vn=()=>Y.get().each(kn),hr=br=>rn(Dn,br,Be,"bottom"),Yn=()=>re.get().each(hr);hf().deviceType.isTouch()&&(t.on("TableSelectionChange",br=>{z.get()||(zm(a,Xt),zm(a,Dn),z.set(!0)),Y.set(br.start),re.set(br.finish),br.otherCells.each(Mr=>{p.set(Mr.upOrLeftCells),E.set(Mr.downOrRightCells),kn(br.start),hr(br.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{Vn(),Yn()}),t.on("TableSelectionClear",()=>{z.get()&&(Bd(Xt),Bd(Dn),z.set(!1)),Y.clear(),re.clear()}))};var GX=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const ZX=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",lF=(t,a,p)=>{var E;const z=(E=a.delimiter)!==null&&E!==void 0?E:"›",Y=(Be,je,et)=>hl.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":et,"aria-level":et+1}},components:[ai(Be)],action:st=>{t.focus(),t.selection.select(je),t.nodeChanged()},buttonBehaviours:gr([Bi.button(p.isDisabled),Qi()])}),re=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[ai(` ${z} `)]}),xe=Be=>ke(Be,(je,et,st)=>{const mt=Y(et.name,et.element,st);return st===0?je.concat([mt]):je.concat([re(),mt])},[]),Ee=Be=>{const je=[];let et=Be.length;for(;et-- >0;){const st=Be[et];if(st.nodeType===1&&!ZX(st)){const mt=W7(t,st);if(mt.isDefaultPrevented()||je.push({name:mt.name,element:st}),mt.isPropagationStopped())break}}return je};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:gr([po.config({mode:"flow",selector:"div[role=button]"}),Co.config({disabled:p.isDisabled}),Qi(),Ns.config({}),Ho.config({}),jo("elementPathEvents",[ms((Be,je)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>po.focusIn(Be)),t.on("NodeChange",et=>{const st=Ee(et.parents),mt=st.length>0?xe(st):[];Ho.set(Be,mt)})})])]),components:[]}};var bp;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(bp||(bp={}));const Cy=(t,a,p,E,z)=>{const Y={height:WS(E+a.top,wx(t),o5(t))};return p===bp.Both&&(Y.width=WS(z+a.left,r5(t),Rk(t))),Y},cF=(t,a,p)=>{const E=zt.fromDom(t.getContainer()),z=Cy(t,a,p,Ls(E),ci(E));Ge(z,(Y,re)=>{v(Y)&&To(E,re,i2(Y))}),V7(t)},a6=t=>{const a=_8(t);return a===!1?bp.None:a==="both"?bp.Both:bp.Vertical},Sy=(t,a,p,E)=>{const Y=Ma(p*20,E*20);return cF(t,Y,a),P.some(!0)},jX=(t,a)=>{const p=a6(t);if(p===bp.None)return P.none();const E=p===bp.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return P.some(Gd("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:a.translate("Resize"),"aria-label":a.translate(E)},behaviours:[h0.config({mode:"mouse",repositionTarget:!1,onDrag:(z,Y,re)=>cF(t,re,p),blockerClass:"tox-blocker"}),po.config({mode:"special",onLeft:()=>Sy(t,p,-1,0),onRight:()=>Sy(t,p,1,0),onUp:()=>Sy(t,p,0,-1),onDown:()=>Sy(t,p,0,1)}),Ns.config({}),ko.config({})]},a.icons))},YX=(t,a)=>{const p=(E,z,Y)=>Ho.set(E,[ai(a.translate(["{0} "+Y,z[Y]]))]);return hl.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:gr([Bi.button(a.isDisabled),Qi(),Ns.config({}),Ho.config({}),Fr.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),jo("wordcount-events",[xf(E=>{const z=Fr.getValue(E),Y=z.mode==="words"?"characters":"words";Fr.setValue(E,{mode:Y,count:z.count}),p(E,z.count,Y)}),ms(E=>{t.on("wordCountUpdate",z=>{const{mode:Y}=Fr.getValue(E);Fr.setValue(E,{mode:Y,count:z.wordCount}),p(E,z.wordCount,Y)})})])]),eventOrder:{[Ci()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},KX=(t,a)=>{const p=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":_f.translate(["Powered by {0}","Tiny"])},innerHtml:GX.trim()},behaviours:gr([ko.config({})])}]}),E=()=>{const xe=qk("Alt+0"),Ee="Press {0} for help";return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[ai(_f.translate([Ee,xe]))]}},z=()=>{const xe=[];return t.hasPlugin("wordcount")&&xe.push(YX(t,a)),f5(t)&&xe.push(p()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:xe}},Y=()=>{const xe=[],Ee=Ik(t),Be=Sx(t),je=f5(t)||t.hasPlugin("wordcount"),et=()=>{const st="tox-statusbar__text-container--flex-start",mt="tox-statusbar__text-container--flex-end",Mt="tox-statusbar__text-container--space-around";if(Ee){const Xt="tox-statusbar__text-container-3-cols";return!je&&!Be?[Xt,Mt]:je&&!Be?[Xt,mt]:[Xt,st]}return[je&&!Be?mt:st]};return Be&&xe.push(lF(t,{},a)),Ee&&xe.push(E()),je&&xe.push(z()),xe.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...et()]},components:xe}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const xe=Y(),Ee=jX(t,a);return xe.concat(Ee.toArray())})()}},uF=(t,a)=>a.get().getOrDie(`UI for ${t} has not been rendered`),XX=(t,a)=>{const p=t.inline,E=p?yK:hK,z=zC(t)?l9:tj,Y=bK(),re=ia(),xe=ia(),Ee=ia(),st=hf().deviceType.isTouch()?["tox-platform-touch"]:[],mt=g5(t),Mt=Cx(t),Xt=Qa({dom:{tag:"div",classes:["tox-anchorbar"]}}),Dn=Qa({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),hn=()=>Y.mainUi.get().map(wo=>wo.outerContainer).bind(Ss.getHeader),rn=()=>Wo.fromOption(Y.dialogUi.get().map(wo=>wo.sink),"UI has not been rendered"),kn=()=>Wo.fromOption(Y.popupUi.get().map(wo=>wo.sink),"(popup) UI has not been rendered"),Vn=Y.lazyGetInOuterOrDie("anchor bar",Xt.getOpt),hr=Y.lazyGetInOuterOrDie("bottom anchor bar",Dn.getOpt),Yn=Y.lazyGetInOuterOrDie("toolbar",Ss.getToolbar),br=Y.lazyGetInOuterOrDie("throbber",Ss.getThrobber),Mr=jZ({popup:kn,dialog:rn},t,Vn,hr),ea=()=>{const wo={attributes:{[vv]:mt?tf.BottomToTop:tf.TopToBottom}},Vo=Ss.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Mr.popup,onEscape:()=>{t.focus()}}),ys=Ss.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Mr.popup.shared.getSink,providers:Mr.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:t3=>{BV(t,t3)},type:Mt,lazyToolbar:Yn,lazyHeader:()=>hn().getOrDie("Could not find header element"),...wo}),Ra=Ss.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Mr.popup.shared.providers,onEscape:()=>{t.focus()},type:Mt}),Rl=HC(t),Fu=Fk(t),yd=Tx(t),ah=R8(t),p0=Zr(),Ly=Rl||Fu||yd,nm=()=>Rl?[Ra]:Fu?[ys]:[],wp=ah?[p0,Vo]:[Vo];return Ss.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Ly?[]:["tox-editor-header--empty"]),...wo},components:Fe([yd?wp:[],nm(),kx(t)?[]:[Xt.asSpec()]]),sticky:zC(t),editor:t,sharedBackstage:Mr.popup.shared})},Zr=()=>Ss.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Do=()=>{const wo=Ss.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Vo=Ss.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[wo,Vo]}},Mo=()=>{const wo=p5(t),Vo=Qt(ss(),wo)&&Ms(wo,"display")==="grid",ys={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(st),attributes:{..._f.isRtl()?{dir:"rtl"}:{}}},behaviours:gr([Nl.config({useFixed:()=>z.isDocked(hn)})])},Ra={dom:{styles:{width:document.body.clientWidth+"px"}},events:bs([Xn(Xf(),yd=>{To(yd.element,"width",document.body.clientWidth+"px")})])},Rl=Pl(hs(ys,Vo?Ra:{})),Fu=gA(Rl);return xe.set(Fu),{sink:Rl,mothership:Fu}},ja=()=>{const wo={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(st),attributes:{..._f.isRtl()?{dir:"rtl"}:{}}},behaviours:gr([Nl.config({useFixed:()=>z.isDocked(hn),getBounds:()=>a.getPopupSinkBounds()})])},Vo=Pl(wo),ys=gA(Vo);return Ee.set(ys),{sink:Vo,mothership:ys}},xo=()=>{const wo=ea(),Vo=Do(),ys=Ss.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Mr.popup}),Ra=Ss.parts.viewWrapper({backstage:Mr.popup}),Rl=E8(t)&&!p?P.some(KX(t,Mr.popup.shared.providers)):P.none(),Fu=Fe([mt?[]:[wo],p?[]:[Vo],mt?[wo]:[]]),yd=Ss.parts.editorContainer({components:Fe([Fu,p?[]:[Dn.asSpec(),...Rl.toArray()]])}),ah=v5(t),p0={role:"application",..._f.isRtl()?{dir:"rtl"}:{},...ah?{"aria-hidden":"true"}:{}},Ly=Pl(Ss.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(p?["tox-tinymce-inline"]:[]).concat(mt?["tox-tinymce--toolbar-bottom"]:[]).concat(st),styles:{visibility:"hidden",...ah?{opacity:"0",border:"0"}:{}},attributes:p0},components:[yd,...p?[]:[Ra],ys],behaviours:gr([Qi(),Co.config({disableClass:"tox-tinymce--disabled"}),po.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),nm=gA(Ly);return re.set(nm),{mothership:nm,outerContainer:Ly}},Ea=wo=>{const Vo=i2(vN(t)),ys=i2(mK(t));return t.inline||(qi("div","width",ys)&&To(wo.element,"width",ys),qi("div","height",Vo)?To(wo.element,"height",Vo):To(wo.element,"height","400px")),Vo},Ar=wo=>{t.addShortcut("alt+F9","focus menubar",()=>{Ss.focusMenubar(wo)}),t.addShortcut("alt+F10","focus toolbar",()=>{Ss.focusToolbar(wo)}),t.addCommand("ToggleToolbarDrawer",(Vo,ys)=>{ys!=null&&ys.skipFocus?Ss.toggleToolbarDrawerWithoutFocusing(wo):Ss.toggleToolbarDrawer(wo)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>Ss.isToolbarDrawerToggled(wo))},no=wo=>{const{mainUi:Vo,popupUi:ys,uiMotherships:Ra}=wo;Xe(S8(t),(y2,sE)=>{t.ui.registry.addGroupToolbarButton(sE,y2)});const{buttons:Rl,menuItems:Fu,contextToolbars:yd,sidebars:ah,views:p0}=t.ui.registry.getAll(),Ly=m5(t),nm={menuItems:Fu,menus:O8(t),menubar:s5(t),toolbar:Ly.getOrThunk(()=>Dk(t)),allowToolbarGroups:Mt===af.floating,buttons:Rl,sidebar:ah,views:p0};Ar(Vo.outerContainer),qx(t,Vo.mothership,Ra),z.setup(t,Mr.popup.shared,hn),JK(t,Mr.popup),mX(t,Mr.popup.shared.getSink,Mr.popup),Dj(t),gM(t,br,Mr.popup.shared),PK(t,yd,ys.sink,{backstage:Mr.popup}),WX(t,ys.sink);const wp=t.getElement(),t3=Ea(Vo.outerContainer),h6={targetNode:wp,height:t3};return E.render(t,wo,nm,Mr.popup,h6)},$o=wo=>(Ee.set(wo.mothership),wo),Po=()=>{const wo=xo(),Vo=Mo(),ys=Km(t)?ja():$o(Vo);Y.dialogUi.set(Vo),Y.popupUi.set(ys),Y.mainUi.set(wo);const Ra={popupUi:ys,dialogUi:Vo,mainUi:wo,uiMotherships:Y.getUiMotherships()};return no(Ra)};return{popups:{backstage:Mr.popup,getMothership:()=>uF("popups",Ee)},dialogs:{backstage:Mr.dialog,getMothership:()=>uF("dialogs",xe)},renderUI:Po}},Ty=(t,a)=>{const p=yi(t,"id").fold(()=>{const E=Xr("dialog-label");return Lr(a,"id",E),E},D);Lr(t,"aria-labelledby",p)},fF=O([qn("lazySink"),Ia("dragBlockClass"),bi("getBounds",bl),En("useTabstopAt",j),En("firstTabstop",0),En("eventOrder",{}),Fi("modalBehaviours",[po]),ru("onExecute"),iw("onEscape")]),s6={sketch:D},JX=O([Fc({name:"draghandle",overrides:(t,a)=>({behaviours:gr([h0.config({mode:"mouse",getTarget:p=>tu(p,'[role="dialog"]').getOr(p),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(a,null,2)).message),getBounds:t.getDragBounds})])})}),Fl({schema:[qn("dom")],name:"title"}),Fl({factory:s6,schema:[qn("dom")],name:"close"}),Fl({factory:s6,schema:[qn("dom")],name:"body"}),Fc({factory:s6,schema:[qn("dom")],name:"footer"}),Af({factory:{sketch:(t,a)=>({...t,dom:a.dom,components:a.components})},schema:[En("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),En("components",[])],name:"blocker"})]),QX=(t,a,p,E)=>{const z=ia(),Y=mt=>{z.set(mt);const Mt=t.lazySink(mt).getOrDie(),Xt=E.blocker(),Dn=Mt.getSystem().build({...Xt,components:Xt.components.concat([Tu(mt)]),behaviours:gr([ko.config({}),jo("dialog-blocker-events",[Ed(_o(),()=>{Qh.isBlocked(mt)?C():po.focusIn(mt)})])])});zm(Mt,Dn),po.focusIn(mt)},re=mt=>{z.clear(),Bn(mt.element).each(Mt=>{mt.getSystem().getByDom(Mt).each(Xt=>{Bd(Xt)})})},xe=mt=>zh(mt,t,"body"),Ee=mt=>gs(mt,t,"footer"),Be=(mt,Mt)=>{Qh.block(mt,Mt)},je=mt=>{Qh.unblock(mt)},et=Xr("modal-events"),st={...t.eventOrder,[Cu()]:[et].concat(t.eventOrder["alloy.system.attached"]||[])};return{uid:t.uid,dom:t.dom,components:a,apis:{show:Y,hide:re,getBody:xe,getFooter:Ee,setIdle:je,setBusy:Be},eventOrder:st,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Si(t.modalBehaviours,[Ho.config({}),po.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),Qh.config({getRoot:z.get}),jo(et,[ms(mt=>{Ty(mt.element,zh(mt,t,"title").element)})])])}},rl=Bl({name:"ModalDialog",configFields:fF(),partFields:JX(),factory:QX,apis:{show:(t,a)=>{t.show(a)},hide:(t,a)=>{t.hide(a)},getBody:(t,a)=>t.getBody(a),getFooter:(t,a)=>t.getFooter(a),setBusy:(t,a,p)=>{t.setBusy(a,p)},setIdle:(t,a)=>{t.setIdle(a)}}}),qX=io([Oi,$5].concat(ly)),eJ=Ju,i6=[Kk("button"),Rf,bc("align","end",["start","end"]),qm,id,Zf("buttonType",["primary","secondary"])],dF=[...i6,dp],KS=[Qu("type",["submit","cancel","custom"]),...dF],XS=[Qu("type",["menu"]),Qm,GC,Rf,Ol("items",qX),...i6],l6=[...i6,Qu("type",["togglebutton"]),Da("tooltip"),Rf,Qm,Li("active",!1)],jM=fa("type",{submit:KS,cancel:KS,custom:KS,menu:XS,togglebutton:l6}),ky=[Oi,dp,Qu("level",["info","warn","error","success"]),O5,En("url","")],YM=io(ky),tJ=t=>[Oi,t],hF=[Oi,dp,id,Kk("button"),Rf,e7,Zf("buttonType",["primary","secondary","toolbar"]),qm],mF=io(hF),Ay=[Oi,$5],qh=Ay.concat([jk]),nJ=Ay.concat([Zk,id]),rJ=io(nJ),gF=Ju,pF=qh.concat([t7("auto")]),c6=io(pF),oJ=Wf([_x,dp,O5]),aJ=qh.concat([bf("storageKey","default")]),sJ=io(aJ),vF=Ui,iJ=io(qh),lJ=Ui,u6=Ay.concat([bf("tag","textarea"),Da("scriptId"),Da("scriptUrl"),L3("settings",void 0)]),f6=Ay.concat([bf("tag","textarea"),bu("init")]),cJ=cl(t=>ns("customeditor.old",es(f6),t).orThunk(()=>ns("customeditor.new",es(u6),t))),yF=Ui,uJ=io(qh),bF=rb(),fJ=t=>[Oi,Cm("columns"),t],dJ=[Oi,Da("html"),bc("presets","presentation",["presentation","document"])],My=io(dJ),xF=qh.concat([Li("border",!1),Li("sandboxed",!0),Li("streamContent",!1),Li("transparent",!0)]),hJ=io(xF),KM=Ui,u2=io(Ay.concat([Gi("height")])),XM=io([Da("url"),Qs("zoom"),Qs("cachedWidth"),Qs("cachedHeight")]),wF=qh.concat([Gi("inputMode"),Gi("placeholder"),Li("maximized",!1),id]),JM=io(wF),Pu=Ui,QM=t=>[Oi,Zk,t,bc("align","start",["start","center","end"])],CF=[dp,_x],SF=[dp,Ol("items",Bg("items",()=>TF))],TF=Gr([io(CF),io(SF)]),mJ=qh.concat([Ol("items",TF),id]),m0=io(mJ),dte=Ui,gJ=qh.concat([Wp("items",[dp,_x]),yf("size",1),id]),kF=io(gJ),f2=Ui,qM=qh.concat([Li("constrain",!0),id]),AF=io(qM),MF=io([Da("width"),Da("height")]),pJ=Ay.concat([Zk,yf("min",0),yf("max",0)]),vJ=io(pJ),yJ=Fg,d2=[Oi,Ol("header",Ui),Ol("cells",vu(Ui))],hte=io(d2),bJ=qh.concat([Gi("placeholder"),Li("maximized",!1),id]),xJ=io(bJ),mte=Ui,EF=[Qu("type",["directory","leaf"]),J8,Da("id"),$c("menu",PS)],h2=io(EF),wJ=EF.concat([Ol("children",Bg("children",()=>ir("type",{directory:_F,leaf:h2})))]),_F=io(wJ),RF=ir("type",{directory:_F,leaf:h2}),CJ=[Oi,Ol("items",RF),pf("onLeafAction"),pf("onToggleExpand"),ec("defaultExpandedIds",[],Ui),Gi("defaultSelectedId")],pte=io(CJ),e=qh.concat([bc("filetype","file",["image","media","file"]),id,Gi("picker_text")]),n=io(e),r=io([_x,ZC]),f=t=>Wi("items","items",Ua(),vu(cl(a=>ns(`Checking item of ${t}`,w,a).fold(p=>Wo.error(wl(p)),p=>Wo.value(p))))),w=Vi(()=>ir("type",{alertbanner:YM,bar:io(tJ(f("bar"))),button:mF,checkbox:rJ,colorinput:sJ,colorpicker:iJ,dropzone:uJ,grid:io(fJ(f("grid"))),iframe:hJ,input:JM,listbox:m0,selectbox:kF,sizeinput:AF,slider:vJ,textarea:xJ,urlinput:n,customeditor:cJ,htmlpanel:My,imagepreview:u2,collection:c6,label:io(QM(f("label"))),table:hte,tree:pte,panel:Z})),B=[Oi,En("classes",[]),Ol("items",w)],Z=io(B),oe=[Kk("tab"),J8,Ol("items",w)],be=[Oi,Wp("tabs",oe)],Pe=io(be),Ke=dF,Je=jM,at=io([Da("title"),yc("body",ir("type",{panel:Z,tabpanel:Pe})),bf("size","normal"),ec("buttons",[],Je),En("initialData",{}),bi("onAction",C),bi("onChange",C),bi("onSubmit",C),bi("onClose",C),bi("onCancel",C),bi("onTabChange",C)]),Rt=t=>ns("dialog",at,t),Ht=io([Qu("type",["cancel","custom"]),...Ke]),At=io([Da("title"),Da("url"),Qs("height"),Qs("width"),jf("buttons",Ht),bi("onAction",C),bi("onCancel",C),bi("onClose",C),bi("onMessage",C)]),It=t=>ns("dialog",At,t),ln=t=>s(t)?[t].concat(ie(Nt(t),ln)):h(t)?ie(t,ln):[],xn=t=>A(t.type)&&A(t.name),yn={checkbox:gF,colorinput:vF,colorpicker:lJ,dropzone:bF,input:Pu,iframe:KM,imagepreview:XM,selectbox:f2,sizeinput:MF,slider:yJ,listbox:dte,size:MF,textarea:mte,urlinput:r,customeditor:yF,collection:oJ,togglemenuitem:eJ},$n=t=>P.from(yn[t.type]),nr=t=>Ce(ln(t),xn),mr=t=>{const a=nr(t),p=ie(a,E=>$n(E).fold(()=>[],z=>[yc(E.name,z)]));return io(p)},Nr=t=>{var a;const p=Ja(Rt(t)),E=mr(t),z=(a=t.initialData)!==null&&a!==void 0?a:{};return{internalDialog:p,dataValidator:E,initialData:z}},zn={open:(t,a)=>{const p=Nr(a);return t(p.internalDialog,p.initialData,p.dataValidator)},openUrl:(t,a)=>{const p=Ja(It(a));return t(p)},redial:t=>Nr(t)};var er=Object.freeze({__proto__:null,events:(t,a)=>{const p=(E,z)=>{t.updateState.each(Y=>{const re=Y(E,z);a.set(re)}),t.renderComponents.each(Y=>{const re=Y(z,a.get());(t.reuseDom?O$:Hc)(E,re)})};return bs([Xn(Tl(),(E,z)=>{const Y=z;if(!Y.universal){const re=t.channel;he(Y.channels,re)&&p(E,Y.data)}}),ms((E,z)=>{t.initialData.each(Y=>{p(E,Y)})})])}}),ho=Object.freeze({__proto__:null,getState:(t,a,p)=>p}),na=[qn("channel"),Ia("renderComponents"),Ia("updateState"),Ia("initialData"),Li("reuseDom",!0)],os=Object.freeze({__proto__:null,init:()=>{const t=q(P.none()),a=()=>t.set(P.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:a}}});const ka=Ki({fields:na,name:"reflecting",active:er,apis:ho,state:os}),ei=t=>{const a=[],p={};return Ge(t,(E,z)=>{E.fold(()=>{a.push(z)},Y=>{p[z]=Y})}),a.length>0?Wo.error(a):Wo.value(p)},zl=(t,a,p)=>{const E=Qa(Gx.sketch(z=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:ne(t.items,Y=>qd(z,Y,a,p))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[E.asSpec()]}],behaviours:gr([po.config({mode:"acyclic",useTabstopAt:k(gS)}),sf.memento(E),dS(E,{postprocess:z=>ei(z).fold(Y=>(console.error(Y),{}),D)}),jo("dialog-body-panel",[Xn(_o(),(z,Y)=>{z.getSystem().broadcastOn([vS],{newFocus:P.some(Y.event.target)})})])])}},as=(t,a)=>({uid:t.uid,dom:t.dom,components:t.components,events:Gh(t.action),behaviours:Si(t.tabButtonBehaviours,[ko.config({}),po.config({mode:"execution",useSpace:!0,useEnter:!0}),Fr.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),Sr=ou({name:"TabButton",configFields:[En("uid",void 0),qn("value"),Wi("dom","dom",aa(()=>({attributes:{role:"tab",id:Xr("aria"),"aria-selected":"false"}})),oi()),Ia("action"),En("domModification",{}),Fi("tabButtonBehaviours",[ko,po,Fr]),qn("view")],factory:as}),so=O([qn("tabs"),qn("dom"),En("clickToDismiss",!1),Fi("tabbarBehaviours",[Na,po]),Lm(["tabClass","selectedClass"])]),$a=V1({factory:Sr,name:"tabs",unit:"tab",overrides:t=>{const a=(E,z)=>{Na.dehighlight(E,z),go(E,ib(),{tabbar:E,button:z})},p=(E,z)=>{Na.highlight(E,z),go(E,$3(),{tabbar:E,button:z})};return{action:E=>{const z=E.getSystem().getByUid(t.uid).getOrDie(),Y=Na.isHighlighted(z,E);(()=>Y&&t.clickToDismiss?a:Y?C:p)()(z,E)},domModification:{classes:[t.markers.tabClass]}}}}),ha=O([$a]),to=(t,a,p,E)=>({uid:t.uid,dom:t.dom,components:a,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Si(t.tabbarBehaviours,[Na.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(z,Y)=>{Lr(Y.element,"aria-selected","true")},onDehighlight:(z,Y)=>{Lr(Y.element,"aria-selected","false")}}),po.config({mode:"flow",getInitial:z=>Na.getHighlighted(z).map(Y=>Y.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),Lo=Bl({name:"Tabbar",configFields:so(),partFields:ha(),factory:to}),vr=(t,a)=>({uid:t.uid,dom:t.dom,behaviours:Si(t.tabviewBehaviours,[Ho.config({})]),domModification:{attributes:{role:"tabpanel"}}}),Oo=ou({name:"Tabview",configFields:[Fi("tabviewBehaviours",[Ho])],factory:vr}),Aa=O([En("selectFirst",!0),Sa("onChangeTab"),Sa("onDismissTab"),En("tabs",[]),Fi("tabSectionBehaviours",[])]),ps=Fl({factory:Lo,schema:[qn("dom"),Dc("markers",[qn("tabClass"),qn("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),us=Fl({factory:Oo,name:"tabview"}),ml=O([ps,us]),th=(t,a,p,E)=>{const z=re=>{const xe=Fr.getValue(re);gs(re,t,"tabview").each(Ee=>{Ve(t.tabs,je=>je.value===xe).each(je=>{const et=je.view();yi(re.element,"id").each(st=>{Lr(Ee.element,"aria-labelledby",st)}),Ho.set(Ee,et),t.onChangeTab(Ee,re,et)})})},Y=(re,xe)=>{gs(re,t,"tabbar").each(Ee=>{xe(Ee).each(kh)})};return{uid:t.uid,dom:t.dom,components:a,behaviours:Bh(t.tabSectionBehaviours),events:bs(Fe([t.selectFirst?[ms((re,xe)=>{Y(re,Na.getFirst)})]:[],[Xn($3(),(re,xe)=>{const Ee=xe.event.button;z(Ee)}),Xn(ib(),(re,xe)=>{const Ee=xe.event.button;t.onDismissTab(re,Ee)})]])),apis:{getViewItems:re=>gs(re,t,"tabview").map(xe=>Ho.contents(xe)).getOr([]),showTab:(re,xe)=>{Y(re,Be=>{const je=Na.getCandidates(Be);return Ve(je,st=>Fr.getValue(st)===xe).filter(st=>!Na.isHighlighted(Be,st))})}}}},cf=Bl({name:"TabSection",configFields:Aa(),partFields:ml(),factory:th,apis:{getViewItems:(t,a)=>t.getViewItems(a),showTab:(t,a,p)=>{t.showTab(a,p)}}}),iu=(t,a,p)=>ne(t,(E,z)=>{Ho.set(p,t[z].view());const Y=a.dom.getBoundingClientRect();return Ho.set(p,[]),Y.height}),pd=t=>Me(Te(t,(a,p)=>a>p?-1:a<p?1:0)),zo=(t,a,p)=>{const E=gn(t).dom,z=tu(t,".tox-dialog-wrap").getOr(t),Y=Ms(z,"position")==="fixed";let re;Y?re=Math.max(E.clientHeight,window.innerHeight):re=Math.max(E.offsetHeight,E.scrollHeight);const xe=Ls(a),Be=a.dom.offsetLeft>=p.dom.offsetLeft+ci(p)?Math.max(Ls(p),xe):xe,je=parseInt(Ms(t,"margin-top"),10)||0,et=parseInt(Ms(t,"margin-bottom"),10)||0,mt=Ls(t)+je+et-Be;return re-mt},Oa=(t,a)=>{Me(t).each(p=>cf.showTab(a,p.value))},vs=(t,a)=>{To(t,"height",a+"px"),To(t,"flex-basis",a+"px")},Gs=(t,a,p)=>{tu(t,'[role="dialog"]').each(E=>{mi(E,'[role="tablist"]').each(z=>{p.get().map(Y=>(To(a,"height","0"),To(a,"flex-basis","0"),Math.min(Y,zo(E,a,z)))).each(Y=>{vs(a,Y)})})})},$s=t=>mi(t,'[role="tabpanel"]'),Iu=t=>{const a=ia();return{extraEvents:[ms(z=>{const Y=z.element;$s(Y).each(re=>{To(re,"visibility","hidden"),z.getSystem().getByDom(re).toOptional().each(xe=>{const Ee=iu(t,re,xe);pd(Ee).fold(a.clear,a.set)}),Gs(Y,re,a),Bo(re,"visibility"),Oa(t,z),requestAnimationFrame(()=>{Gs(Y,re,a)})})}),Xn(Xf(),z=>{const Y=z.element;$s(Y).each(re=>{Gs(Y,re,a)})}),Xn(RO,(z,Y)=>{const re=z.element;$s(re).each(xe=>{const Ee=Id(Yo(xe));To(xe,"visibility","hidden");const Be=Rs(xe,"height").map(st=>parseInt(st,10));Bo(xe,"height"),Bo(xe,"flex-basis");const je=xe.dom.getBoundingClientRect().height;Be.forall(st=>je>st)?(a.set(je),Gs(re,xe,a)):Be.each(st=>{vs(xe,st)}),Bo(xe,"visibility"),Ee.each(Ic)})})],selectFirst:!1}},nh="send-data-to-section",xp="send-data-to-view",eE=(t,a,p)=>{const E=q({}),z=Be=>{const je=Fr.getValue(Be),et=ei(je).getOr({}),st=E.get(),mt=hs(st,et);E.set(mt)},Y=Be=>{const je=E.get();Fr.setValue(Be,je)},re=q(null),xe=ne(t.tabs,Be=>({value:Be.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[ai(p.shared.providers.translate(Be.title))],view:()=>[Gx.sketch(je=>({dom:{tag:"div",classes:["tox-form"]},components:ne(Be.items,et=>qd(je,et,a,p)),formBehaviours:gr([po.config({mode:"acyclic",useTabstopAt:k(gS)}),jo("TabView.form.events",[ms(Y),_d(z)]),Pc.config({channels:bt([{key:nh,value:{onReceive:z}},{key:xp,value:{onReceive:Y}}])})])}))]})),Ee=Iu(xe);return cf.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(Be,je,et)=>{const st=Fr.getValue(je);go(Be,_O,{name:st,oldName:re.get()}),re.set(st)},tabs:xe,components:[cf.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Lo.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:gr([Ns.config({})])}),cf.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:Ee.selectFirst,tabSectionBehaviours:gr([jo("tabpanel",Ee.extraEvents),po.config({mode:"acyclic"}),da.config({find:Be=>Me(cf.getViewItems(Be))}),t0(P.none(),Be=>(Be.getSystem().broadcastOn([nh],{}),E.get()),(Be,je)=>{E.set(je),Be.getSystem().broadcastOn([xp],{})})])})},JS=(t,a,p,E,z)=>{const Y=Ee=>{const Be=Ee.body;switch(Be.type){case"tabpanel":return[eE(Be,Ee.initialData,E)];default:return[zl(Be,Ee.initialData,E)]}},re=(Ee,Be)=>P.some({isTabPanel:()=>Be.body.type==="tabpanel"}),xe={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...p.map(Ee=>({id:Ee})).getOr({}),...z?xe:{}}},components:[],behaviours:gr([sf.childAt(0),ka.config({channel:`${lg}-${a}`,updateState:re,renderComponents:Y,initialData:t})])}},tE=(t,a,p,E,z)=>JS(t,a,P.some(p),E,z),m2=(t,a,p)=>{const E=JS(t,a,P.none(),p,!1);return rl.parts.body(E)},nE=t=>{const a={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[wP(P.none(),{dom:{tag:"iframe",attributes:{src:t.url}},behaviours:gr([Ns.config({}),ko.config({})])})]}],behaviours:gr([po.config({mode:"acyclic",useTabstopAt:k(gS)})])};return rl.parts.body(a)},g2=xx.deviceType.isTouch(),g0=(t,a)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,a]}),rh=(t,a)=>rl.parts.close(hl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":a.translate("Close")}},action:t,buttonBehaviours:gr([Ns.config({})])})),em=()=>rl.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),p2=(t,a)=>rl.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:cp(`<p>${X_(a.translate(t))}</p>`)}]}]}),Ey=t=>rl.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),QS=(t,a)=>[Kh.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),Kh.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:a})],tm=t=>{const a="tox-dialog",p=a+"-wrap",E=p+"__backdrop",z=a+"__disable-scroll";return rl.sketch({lazySink:t.lazySink,onEscape:Y=>(t.onEscape(Y),P.some(!0)),useTabstopAt:Y=>!gS(Y),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[a].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:cp(`<div class="${p}"></div>`),components:[{dom:{tag:"div",classes:g2?[E,E+"--opaque"]:[E]}}]}},dragBlockClass:p,modalBehaviours:gr([ko.config({}),jo("dialog-events",t.dialogEvents.concat([Ed(_o(),(Y,re)=>{Qh.isBlocked(Y)?C():po.focusIn(Y)}),Xn(ab(),(Y,re)=>{Y.getSystem().broadcastOn([vS],{newFocus:re.event.newFocus})})])),jo("scroll-lock",[ms(()=>{hi(ss(),z)}),_d(()=>{Is(ss(),z)})]),...t.extraBehaviours]),eventOrder:{[Ci()]:["dialog-events"],[Cu()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Sm()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},rE=t=>hl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},buttonBehaviours:gr([Ns.config({})]),components:[Gd("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:a=>{pa(a,Jv)}}),qS=(t,a,p,E)=>{const z=Y=>[ai(E.translate(Y.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...p.map(Y=>({id:Y})).getOr({})}},components:[],behaviours:gr([ka.config({channel:`${FA}-${a}`,initialData:t,renderComponents:z})])}},fc=()=>({dom:cp('<div class="tox-dialog__draghandle"></div>')}),_y=(t,a,p,E)=>Kh.sketch({dom:cp('<div class="tox-dialog__header"></div>'),components:[qS(t,a,P.some(p),E),fc(),rE(E)],containerBehaviours:gr([h0.config({mode:"mouse",blockerClass:"blocker",getTarget:z=>Qf(z,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),LF=(t,a,p)=>{const E=rl.parts.title(qS(t,a,P.none(),p)),z=rl.parts.draghandle(fc()),Y=rl.parts.close(rE(p)),re=[E].concat(t.draggable?[z]:[]).concat([Y]);return Kh.sketch({dom:cp('<div class="tox-dialog__header"></div>'),components:re})},oE=(t,a,p)=>LF({title:p.shared.providers.translate(t),draggable:p.dialog.isDraggableModal()},a,p.shared.providers),e3=(t,a,p,E)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":p.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${E.getOr(0)}px`,position:"absolute"}},behaviours:a,components:[{dom:cp('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),ug=(t,a,p)=>({onClose:()=>p.closeWindow(),onBlock:E=>{const z=mi(t().element,".tox-dialog__header").map(Y=>Ls(Y));rl.setBusy(t(),(Y,re)=>e3(E.message,re,a,z))},onUnblock:()=>{rl.setIdle(t())}}),v2="tox-dialog--fullscreen",On="tox-dialog--width-lg",Pn="tox-dialog--width-md",yr=t=>{switch(t){case"large":return P.some(On);case"medium":return P.some(Pn);default:return P.none()}},dr=(t,a)=>{const p=zt.fromDom(a.element.dom);Ni(p,v2)||(Su(p,[On,Pn]),yr(t).each(E=>hi(p,E)))},uo=(t,a)=>{const p=zt.fromDom(t.element.dom),E=nv(p),z=Ve(E,Y=>Y===On||Y===Pn).or(yr(a));rw(p,[v2,...z.toArray()])},ua=(t,a,p)=>Pl(tm({...t,firstTabstop:1,lazySink:p.shared.getSink,extraBehaviours:[hS({}),...t.extraBehaviours],onEscape:E=>{pa(E,Jv)},dialogEvents:a,eventOrder:{[Tl()]:[ka.name(),Pc.name()],[Cu()]:["scroll-lock",ka.name(),"messages","dialog-events","alloy.base.behaviour"],[Sm()]:["alloy.base.behaviour","dialog-events","messages",ka.name(),"scroll-lock"]}})),Fs=(t,a={})=>{const p=E=>{const z=ne(E.items,Y=>{const re=Ft(a,Y.name).getOr(q(!1));return{...Y,storage:re}});return{...E,items:z}};return ne(t,E=>E.type==="menu"?p(E):E)},Nu=t=>ke(t,(a,p)=>p.type==="menu"?ke(p.items,(z,Y)=>(z[Y.name]=Y.storage,z),a):a,{}),Vl=(t,a)=>[Z2(_o(),SP),t(Bx,(p,E,z,Y)=>{Id(Yo(Y.element)).fold(C,hv),a.onClose(),E.onClose()}),t(Jv,(p,E,z,Y)=>{E.onCancel(p),pa(Y,Bx)}),Xn(RR,(p,E)=>a.onUnblock()),Xn(_R,(p,E)=>a.onBlock(E.event))],Ry=(t,a)=>{const p=(z,Y)=>Xn(z,(re,xe)=>{E(re,(Ee,Be)=>{Y(t(),Ee,xe.event,re)})}),E=(z,Y)=>{ka.getState(z).get().each(re=>{Y(re,z)})};return[...Vl(p,a),p(rg,(z,Y,re)=>{Y.onAction(z,{name:re.name})})]},vd=(t,a,p)=>{const E=(Y,re)=>Xn(Y,(xe,Ee)=>{z(xe,(Be,je)=>{re(t(),Be,Ee.event,xe)})}),z=(Y,re)=>{ka.getState(Y).get().each(xe=>{re(xe.internalDialog,Y)})};return[...Vl(E,a),E(iS,(Y,re)=>re.onSubmit(Y)),E($u,(Y,re,xe)=>{re.onChange(Y,{name:xe.name})}),E(rg,(Y,re,xe,Ee)=>{const Be=()=>Ee.getSystem().isConnected()?po.focusIn(Ee):void 0,je=mt=>Hf(mt,"disabled")||yi(mt,"aria-disabled").exists(Mt=>Mt==="true"),et=Yo(Ee.element),st=Id(et);re.onAction(Y,{name:xe.name,value:xe.value}),Id(et).fold(Be,mt=>{je(mt)||st.exists(Mt=>nn(mt,Mt)&&je(Mt))?Be():p().toOptional().filter(Mt=>!nn(Mt.element,mt)).each(Be)})}),E(_O,(Y,re,xe)=>{re.onTabChange(Y,{newTabName:xe.name,oldTabName:xe.oldName})}),_d(Y=>{const re=t();Fr.setValue(Y,re.getData())})]},DF=(t,a)=>qA(t,t.type,a),$F=(t,a,p)=>Ve(a,E=>E.name===p).bind(E=>E.memento.getOpt(t)),OF=(t,a)=>{const p=a.map(xe=>xe.footerButtons).getOr([]),E=ye(p,xe=>xe.align==="start"),z=(xe,Ee)=>Kh.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${xe}`]},components:ne(Ee,Be=>Be.memento.asSpec())}),Y=z("start",E.pass),re=z("end",E.fail);return[Y,re]},d6=(t,a,p)=>{const E=(z,Y)=>{const re=ne(Y.buttons,Ee=>{const Be=Qa(DF(Ee,p));return{name:Ee.name,align:Ee.align,memento:Be}}),xe=Ee=>$F(z,re,Ee);return P.some({lookupByName:xe,footerButtons:re})};return{dom:cp('<div class="tox-dialog__footer"></div>'),components:[],behaviours:gr([ka.config({channel:`${BA}-${a}`,initialData:t,updateState:E,renderComponents:OF})])}},SJ=(t,a,p)=>d6(t,a,p),la=(t,a,p)=>rl.parts.footer(d6(t,a,p)),Fn=(t,a)=>{if(t.getRoot().getSystem().isConnected()){const E=da.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return Gx.getField(E,a).orThunk(()=>t.getFooter().bind(re=>ka.getState(re).get()).bind(re=>re.lookupByName(a)))}else return P.none()},ao=(t,a)=>{const p=t.getRoot();return ka.getState(p).get().map(E=>Ja(ns("data",E.dataValidator,a))).getOr(a)},Ao=(t,a,p)=>{const E=Mt=>{const Xt=t.getRoot();Xt.getSystem().isConnected()&&Mt(Xt)},mt={getData:()=>{const Mt=t.getRoot(),Xt=Mt.getSystem().isConnected()?t.getFormWrapper():Mt,Dn=Fr.getValue(Xt),hn=Xe(p,rn=>rn.get());return{...Dn,...hn}},setData:Mt=>{E(Xt=>{const Dn=mt.getData(),hn=hs(Dn,Mt),rn=ao(t,hn),kn=t.getFormWrapper();Fr.setValue(kn,rn),Ge(p,(Vn,hr)=>{pn(hn,hr)&&Vn.set(hn[hr])})})},setEnabled:(Mt,Xt)=>{Fn(t,Mt).each(Xt?Co.enable:Co.disable)},focus:Mt=>{Fn(t,Mt).each(ko.focus)},block:Mt=>{if(!A(Mt))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");E(Xt=>{go(Xt,_R,{message:Mt})})},unblock:()=>{E(Mt=>{pa(Mt,RR)})},showTab:Mt=>{E(Xt=>{const Dn=t.getBody();ka.getState(Dn).get().exists(rn=>rn.isTabPanel())&&da.getCurrent(Dn).each(rn=>{cf.showTab(rn,Mt)})})},redial:Mt=>{E(Xt=>{const Dn=t.getId(),hn=a(Mt),rn=Fs(hn.internalDialog.buttons,p);Xt.getSystem().broadcastOn([`${pS}-${Dn}`],hn),Xt.getSystem().broadcastOn([`${FA}-${Dn}`],hn.internalDialog),Xt.getSystem().broadcastOn([`${lg}-${Dn}`],hn.internalDialog),Xt.getSystem().broadcastOn([`${BA}-${Dn}`],{...hn.internalDialog,buttons:rn}),mt.setData(hn.initialData)})},close:()=>{E(Mt=>{pa(Mt,Bx)})},toggleFullscreen:t.toggleFullscreen};return mt},ki=(t,a,p)=>{const E=Xr("dialog"),z=t.internalDialog,Y=oE(z.title,E,p),re=q(z.size),xe=yr(re.get()).toArray(),Ee=(rn,kn)=>(re.set(kn.internalDialog.size),dr(kn.internalDialog.size,rn),P.some(kn)),Be=m2({body:z.body,initialData:z.initialData},E,p),je=Fs(z.buttons),et=Nu(je),st=lt(je.length!==0,la({buttons:je},E,p)),mt=vd(()=>hn,ug(()=>Xt,p.shared.providers,a),p.shared.getSink),Mt={id:E,header:Y,body:Be,footer:st,extraClasses:xe,extraBehaviours:[ka.config({channel:`${pS}-${E}`,updateState:Ee,initialData:t})],extraStyles:{}},Xt=ua(Mt,mt,p),Dn=(()=>{const rn=()=>{const Vn=rl.getBody(Xt);return da.getCurrent(Vn).getOr(Vn)},kn=()=>{uo(Xt,re.get())};return{getId:O(E),getRoot:O(Xt),getBody:()=>rl.getBody(Xt),getFooter:()=>rl.getFooter(Xt),getFormWrapper:rn,toggleFullscreen:kn}})(),hn=Ao(Dn,a.redial,et);return{dialog:Xt,instanceApi:hn}},kc=(t,a,p,E=!1,z)=>{const Y=Xr("dialog"),re=Xr("dialog-label"),xe=Xr("dialog-content"),Ee=t.internalDialog,Be=q(Ee.size),je=yr(Be.get()).toArray(),et=(Yn,br)=>(Be.set(br.internalDialog.size),dr(br.internalDialog.size,Yn),z(),P.some(br)),st=Qa(_y({title:Ee.title,draggable:!0},Y,re,p.shared.providers)),mt=Qa(tE({body:Ee.body,initialData:Ee.initialData},Y,xe,p,E)),Mt=Fs(Ee.buttons),Xt=Nu(Mt),Dn=lt(Mt.length!==0,Qa(SJ({buttons:Mt},Y,p))),hn=vd(()=>hr,{onBlock:Yn=>{Qh.block(kn,(br,Mr)=>{const ea=st.getOpt(kn).map(Zr=>Ls(Zr.element));return e3(Yn.message,Mr,p.shared.providers,ea)})},onUnblock:()=>{Qh.unblock(kn)},onClose:()=>a.closeWindow()},p.shared.getSink),kn=Pl({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...je],attributes:{role:"dialog","aria-labelledby":re}},eventOrder:{[Tl()]:[ka.name(),Pc.name()],[Ci()]:["execute-on-form"],[Cu()]:["reflecting","execute-on-form"]},behaviours:gr([po.config({mode:"cyclic",onEscape:Yn=>(pa(Yn,Bx),P.some(!0)),useTabstopAt:Yn=>!gS(Yn)&&(vo(Yn)!=="button"||Ka(Yn,"disabled")!=="disabled"),firstTabstop:1}),ka.config({channel:`${pS}-${Y}`,updateState:et,initialData:t}),ko.config({}),jo("execute-on-form",hn.concat([Ed(_o(),(Yn,br)=>{po.focusIn(Yn)}),Xn(ab(),(Yn,br)=>{Yn.getSystem().broadcastOn([vS],{newFocus:br.event.newFocus})})])),Qh.config({getRoot:()=>P.some(kn)}),Ho.config({}),hS({})]),components:[st.asSpec(),mt.asSpec(),...Dn.map(Yn=>Yn.asSpec()).toArray()]}),Vn=()=>{uo(kn,Be.get())},hr=Ao({getId:O(Y),getRoot:O(kn),getFooter:()=>Dn.map(Yn=>Yn.get(kn)),getBody:()=>mt.get(kn),getFormWrapper:()=>{const Yn=mt.get(kn);return da.getCurrent(Yn).getOr(Yn)},toggleFullscreen:Vn},a.redial,Xt);return{dialog:kn,instanceApi:hr}};var Ff=tinymce.util.Tools.resolve("tinymce.util.URI");const gl=t=>{const a=re=>{t.getSystem().isConnected()&&re(t)};return{block:re=>{if(!A(re))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");a(xe=>{go(xe,_R,{message:re})})},unblock:()=>{a(re=>{pa(re,RR)})},close:()=>{a(re=>{pa(re,Bx)})},sendMessage:re=>{a(xe=>{xe.getSystem().broadcastOn([sL],re)})}}},oh=["insertContent","setContent","execCommand","close","block","unblock"],aE=t=>s(t)&&oh.indexOf(t.mceAction)!==-1,TJ=t=>!aE(t)&&s(t)&&pn(t,"mceAction"),PF=(t,a,p)=>{switch(p.mceAction){case"insertContent":t.insertContent(p.content);break;case"setContent":t.setContent(p.content);break;case"execCommand":const E=c(p.ui)?p.ui:!1;t.execCommand(p.cmd,E,p.value);break;case"close":a.close();break;case"block":a.block(p.message);break;case"unblock":a.unblock();break}},vte=(t,a,p,E)=>{const z=Xr("dialog"),Y=oE(t.title,z,E),re=nE(t),xe=t.buttons.bind(kn=>kn.length===0?P.none():P.some(la({buttons:kn},z,E))),Ee=Ry(()=>rn,ug(()=>hn,E.shared.providers,a)),Be={...t.height.fold(()=>({}),kn=>({height:kn+"px","max-height":kn+"px"})),...t.width.fold(()=>({}),kn=>({width:kn+"px","max-width":kn+"px"}))},je=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],et=new Ff(t.url,{base_uri:new Ff(window.location.href)}),st=`${et.protocol}://${et.host}${et.port?":"+et.port:""}`,mt=Oh(),Mt=(kn,Vn)=>P.some(Vn),Xt=[ka.config({channel:`${pS}-${z}`,updateState:Mt,initialData:t}),jo("messages",[ms(()=>{const kn=sc(zt.fromDom(window),"message",Vn=>{if(et.isSameOrigin(new Ff(Vn.raw.origin))){const hr=Vn.raw.data;aE(hr)?PF(p,rn,hr):TJ(hr)&&t.onMessage(rn,hr)}});mt.set(kn)}),_d(mt.clear)]),Pc.config({channels:{[sL]:{onReceive:(kn,Vn)=>{mi(kn.element,"iframe").each(hr=>{const Yn=hr.dom.contentWindow;d(Yn)&&Yn.postMessage(Vn,st)})}}}})],hn=ua({id:z,header:Y,body:re,footer:xe,extraClasses:je,extraBehaviours:Xt,extraStyles:Be},Ee,E),rn=gl(hn);return{dialog:hn,instanceApi:rn}},$ie=t=>{const a=t.shared;return{open:(E,z)=>{const Y=()=>{rl.hide(Be),z()},re=Qa(qA({name:"close-alert",text:"OK",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"cancel",t)),xe=em(),Ee=rh(Y,a.providers),Be=Pl(tm({lazySink:()=>a.getSink(),header:g0(xe,Ee),body:p2(E,a.providers),footer:P.some(Ey(QS([],[re.asSpec()]))),onEscape:Y,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Xn(Jv,Y)],eventOrder:{}}));rl.show(Be);const je=re.get(Be);ko.focus(je)}}},Oie=t=>{const a=t.shared;return{open:(E,z)=>{const Y=st=>{rl.hide(je),z(st)},re=Qa(qA({name:"yes",text:"Yes",primary:!0,buttonType:P.some("primary"),align:"end",enabled:!0,icon:P.none()},"submit",t)),xe=qA({name:"no",text:"No",primary:!1,buttonType:P.some("secondary"),align:"end",enabled:!0,icon:P.none()},"cancel",t),Ee=em(),Be=rh(()=>Y(!1),a.providers),je=Pl(tm({lazySink:()=>a.getSink(),header:g0(Ee,Be),body:p2(E,a.providers),footer:P.some(Ey(QS([],[xe,re.asSpec()]))),onEscape:()=>Y(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Xn(Jv,()=>Y(!1)),Xn(iS,()=>Y(!0))],eventOrder:{}}));rl.show(je);const et=re.get(je);ko.focus(et)}}},yte=(t,a)=>Ja(ns("data",a,t)),bte=t=>rS(t,".tox-alert-dialog")||rS(t,".tox-confirm-dialog"),Pie=(t,a,p)=>a&&p?[]:[Ti.config({contextual:{lazyContext:()=>P.some(Js(zt.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:E=>Xv(t,E.element).map(Y=>({bounds:Fx(Y),optScrollEnv:P.some({currentScrollTop:Y.element.dom.scrollTop,scrollElmTop:al(Y.element).top})})).getOrThunk(()=>({bounds:bl(),optScrollEnv:P.none()}))})],Iie=t=>{const a=t.editor,p=zC(a),E=$ie(t.backstages.dialog),z=Oie(t.backstages.dialog),Y=(Mt,Xt,Dn)=>{if(!i(Xt)){if(Xt.inline==="toolbar")return Be(Mt,t.backstages.popup.shared.anchors.inlineDialog(),Dn,Xt);if(Xt.inline==="bottom")return je(Mt,t.backstages.popup.shared.anchors.inlineBottomDialog(),Dn,Xt);if(Xt.inline==="cursor")return Be(Mt,t.backstages.popup.shared.anchors.cursor(),Dn,Xt)}return Ee(Mt,Dn)},re=(Mt,Xt)=>xe(Mt,Xt),xe=(Mt,Xt)=>{const Dn=hn=>{const rn=vte(hn,{closeWindow:()=>{rl.hide(rn.dialog),Xt(rn.instanceApi)}},a,t.backstages.dialog);return rl.show(rn.dialog),rn.instanceApi};return zn.openUrl(Dn,Mt)},Ee=(Mt,Xt)=>{const Dn=(hn,rn,kn)=>{const Vn=rn,Yn=ki({dataValidator:kn,initialData:Vn,internalDialog:hn},{redial:zn.redial,closeWindow:()=>{rl.hide(Yn.dialog),Xt(Yn.instanceApi)}},t.backstages.dialog);return rl.show(Yn.dialog),Yn.instanceApi.setData(Vn),Yn.instanceApi};return zn.open(Dn,Mt)},Be=(Mt,Xt,Dn,hn)=>{const rn=(kn,Vn,hr)=>{const Yn=yte(Vn,hr),br=ia(),Mr=t.backstages.popup.shared.header.isPositionedAtTop(),ea={dataValidator:hr,initialData:Yn,internalDialog:kn},Zr=()=>br.on(xo=>{Ws.reposition(xo),(!p||!Mr)&&Ti.refresh(xo)}),Do=kc(ea,{redial:zn.redial,closeWindow:()=>{br.on(Ws.hide),a.off("ResizeEditor",Zr),br.clear(),Dn(Do.instanceApi)}},t.backstages.popup,hn.ariaAttrs,Zr),Mo=Pl(Ws.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:hn.persistent?{event:"doNotDismissYet"}:{},...Mr?{}:{fireRepositionEventInstead:{}},inlineBehaviours:gr([jo("window-manager-inline-events",[Xn(Tm(),(xo,Ea)=>{pa(Do.dialog,Jv)})]),...Pie(a,p,Mr)]),isExtraPart:(xo,Ea)=>bte(Ea)}));br.set(Mo);const ja=()=>{const xo=a.inline?ss():zt.fromDom(a.getContainer()),Ea=Js(xo);return P.some(Ea)};return Ws.showWithinBounds(Mo,Tu(Do.dialog),{anchor:Xt},ja),(!p||!Mr)&&(Ti.refresh(Mo),a.on("ResizeEditor",Zr)),Do.instanceApi.setData(Yn),po.focusIn(Do.dialog),Do.instanceApi};return zn.open(rn,Mt)},je=(Mt,Xt,Dn,hn)=>{const rn=(kn,Vn,hr)=>{const Yn=yte(Vn,hr),br=ia(),Mr=t.backstages.popup.shared.header.isPositionedAtTop(),ea={dataValidator:hr,initialData:Yn,internalDialog:kn},Zr=()=>br.on(xo=>{Ws.reposition(xo),Ti.refresh(xo)}),Do=kc(ea,{redial:zn.redial,closeWindow:()=>{br.on(Ws.hide),a.off("ResizeEditor ScrollWindow ElementScroll",Zr),br.clear(),Dn(Do.instanceApi)}},t.backstages.popup,hn.ariaAttrs,Zr),Mo=Pl(Ws.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:hn.persistent?{event:"doNotDismissYet"}:{},...Mr?{}:{fireRepositionEventInstead:{}},inlineBehaviours:gr([jo("window-manager-inline-events",[Xn(Tm(),(xo,Ea)=>{pa(Do.dialog,Jv)})]),Ti.config({contextual:{lazyContext:()=>P.some(Js(zt.fromDom(a.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:xo=>Xv(a,xo.element).map(Ar=>({bounds:Fx(Ar),optScrollEnv:P.some({currentScrollTop:Ar.element.dom.scrollTop,scrollElmTop:al(Ar.element).top})})).getOrThunk(()=>({bounds:bl(),optScrollEnv:P.none()}))})]),isExtraPart:(xo,Ea)=>bte(Ea)}));br.set(Mo);const ja=()=>t.backstages.popup.shared.getSink().toOptional().bind(xo=>{const Ea=Xv(a,xo.element),Ar=15,no=Ea.map(wo=>Fx(wo)).getOr(bl()),$o=Js(zt.fromDom(a.getContentAreaContainer())),Po=H0($o,no);return P.some(Hs(Po.x,Po.y,Po.width,Po.height-Ar))});return Ws.showWithinBounds(Mo,Tu(Do.dialog),{anchor:Xt},ja),Ti.refresh(Mo),a.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",Zr),Do.instanceApi.setData(Yn),po.focusIn(Do.dialog),Do.instanceApi};return zn.open(rn,Mt)};return{open:Y,openUrl:re,alert:(Mt,Xt)=>{E.open(Mt,Xt)},close:Mt=>{Mt.close()},confirm:(Mt,Xt)=>{z.open(Mt,Xt)}}},Nie=t=>{v8(t),YV(t),QK(t)};var Fie=()=>{vm.add("silver",t=>{Nie(t);let a=()=>bl();const{dialogs:p,popups:E,renderUI:z}=XX(t,{getPopupSinkBounds:()=>a()}),Y=()=>{const Ee=z();return Xv(t,E.getMothership().element).each(je=>{a=()=>Fx(je)}),Ee};FU.register(t,E.backstage.shared);const re=Iie({editor:t,backstages:{popup:E.backstage,dialog:p.backstage}}),xe=()=>n5(t,{backstage:E.backstage},E.getMothership());return{renderUI:Y,getWindowManagerImpl:O(re),getNotificationManagerImpl:xe}})};Fie()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const o=C=>{let _=C;return{get:()=>_,set:O=>{_=O}}};var b=tinymce.util.Tools.resolve("tinymce.PluginManager");const y=C=>()=>C;var T=tinymce.util.Tools.resolve("tinymce.Env");const G=C=>C.dispatch("ResizeEditor"),V=C=>_=>_.options.get(C),L=C=>{const _=C.options.register;_("autoresize_overflow_padding",{processor:"number",default:1}),_("autoresize_bottom_margin",{processor:"number",default:50})},A=V("min_height"),s=V("max_height"),m=V("autoresize_overflow_padding"),h=V("autoresize_bottom_margin"),l=C=>C.plugins.fullscreen&&C.plugins.fullscreen.isFullscreen(),c=(C,_)=>{const $=C.getBody();$&&($.style.overflowY=_?"":"hidden",_||($.scrollTop=0))},i=(C,_,$,S)=>{var O;const D=parseInt((O=C.getStyle(_,$,S))!==null&&O!==void 0?O:"",10);return isNaN(D)?0:D},u=C=>{if((C==null?void 0:C.type.toLowerCase())==="setcontent"){const _=C;return _.selection===!0||_.paste===!0}else return!1},d=(C,_,$,S)=>{var O;const D=C.dom,N=C.getDoc();if(!N)return;if(l(C)){c(C,!0);return}const M=N.documentElement,k=S?S():m(C),R=(O=A(C))!==null&&O!==void 0?O:C.getElement().offsetHeight;let F=R;const H=i(D,M,"margin-top",!0),j=i(D,M,"margin-bottom",!0);let P=M.offsetHeight+H+j+k;P<0&&(P=0);const ee=C.getContainer().offsetHeight,J=C.getContentAreaContainer().offsetHeight,K=ee-J;P+K>R&&(F=P+K);const ae=s(C);if(ae&&F>ae?(F=ae,c(C,!0)):c(C,!1),F!==_.get()){const Q=F-_.get();if(D.setStyle(C.getContainer(),"height",F+"px"),_.set(F),G(C),T.browser.isSafari()&&(T.os.isMacOS()||T.os.isiOS())){const he=C.getWin();he.scrollTo(he.pageXOffset,he.pageYOffset)}C.hasFocus()&&u($)&&C.selection.scrollIntoView(),(T.browser.isSafari()||T.browser.isChromium())&&Q<0&&d(C,_,$,S)}},g=(C,_)=>{let $=()=>h(C),S,O;C.on("init",D=>{S=0;const N=m(C),M=C.dom;M.setStyles(C.getDoc().documentElement,{height:"auto"}),T.browser.isEdge()||T.browser.isIE()?M.setStyles(C.getBody(),{paddingLeft:N,paddingRight:N,"min-height":0}):M.setStyles(C.getBody(),{paddingLeft:N,paddingRight:N}),d(C,_,D,$),S+=1}),C.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",D=>{if(S===1)O=C.getContainer().offsetHeight,d(C,_,D,$),S+=1;else if(S===2){const N=O<C.getContainer().offsetHeight;if(N){const M=C.dom,k=C.getDoc();M.setStyles(k.documentElement,{"min-height":0}),M.setStyles(C.getBody(),{"min-height":"inherit"})}$=N?y(0):$,S+=1}else d(C,_,D,$)})},v=(C,_)=>{C.addCommand("mceAutoResize",()=>{d(C,_)})};var x=()=>{b.add("autoresize",C=>{if(L(C),C.options.isSet("resize")||C.options.set("resize",!1),!C.inline){const _=o(0);v(C,_),g(C,_)}})};x()})();var bve=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],xve=function(o){return bve.map(function(b){return b.toLowerCase()}).indexOf(o.toLowerCase())!==-1},wve=function(o,b,y){Object.keys(b).filter(xve).forEach(function(T){var G=b[T];typeof G=="function"&&(T==="onInit"?G(o,y):y.on(T.substring(2),function(V){return G(V,y)}))})},Cve=function(o,b,y,T){var G=o.modelEvents?o.modelEvents:null,V=Array.isArray(G)?G.join(" "):G;ta(T,function(L,A){y&&typeof L=="string"&&L!==A&&L!==y.getContent({format:o.outputFormat})&&y.setContent(L)}),y.on(V||"change input undo redo",function(){b.emit("update:modelValue",y.getContent({format:o.outputFormat}))})},Sve=function(o,b,y,T,G,V){T.setContent(V()),y.attrs["onUpdate:modelValue"]&&Cve(b,y,T,G),wve(o,y.attrs,T)},Ire=0,Aie=function(o){var b=Date.now(),y=Math.floor(Math.random()*1e9);return Ire++,o+"_"+y+Ire+String(b)},Tve=function(o){return o!==null&&o.tagName.toLowerCase()==="textarea"},Nre=function(o){return typeof o>"u"||o===""?[]:Array.isArray(o)?o:o.split(" ")},kve=function(o,b){return Nre(o).concat(Nre(b))},Ave=function(o){return o==null},Fre=function(){return{listeners:[],scriptId:Aie("tiny-script"),scriptLoaded:!1}},Mve=function(){var o=Fre(),b=function(G,V,L,A){var s=V.createElement("script");s.referrerPolicy="origin",s.type="application/javascript",s.id=G,s.src=L;var m=function(){s.removeEventListener("load",m),A()};s.addEventListener("load",m),V.head&&V.head.appendChild(s)},y=function(G,V,L){o.scriptLoaded?L():(o.listeners.push(L),G.getElementById(o.scriptId)||b(o.scriptId,G,V,function(){o.listeners.forEach(function(A){return A()}),o.scriptLoaded=!0}))},T=function(){o=Fre()};return{load:y,reinitialize:T}},Eve=Mve(),_ve=function(){return typeof window<"u"?window:global},l3=function(){var o=_ve();return o&&o.tinymce?o.tinymce:null},Rve={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(o){return o==="html"||o==="text"}}},y0=globalThis&&globalThis.__assign||function(){return y0=Object.assign||function(o){for(var b,y=1,T=arguments.length;y<T;y++){b=arguments[y];for(var G in b)Object.prototype.hasOwnProperty.call(b,G)&&(o[G]=b[G])}return o},y0.apply(this,arguments)},Lve=function(o,b,y,T){return o(T||"div",{id:b,ref:y})},Dve=function(o,b,y){return o("textarea",{id:b,visibility:"hidden",ref:y})},eQ={selector:void 0,target:void 0},$ve=YB({props:Rve,setup:function(o,b){var y=o.init?y0(y0({},o.init),eQ):y0({},eQ),T=GB(o),G=T.disabled,V=T.modelValue,L=T.tagName,A=No(null),s=null,m=o.id||Aie("tiny-vue"),h=o.init&&o.init.inline||o.inline,l=!!b.attrs["onUpdate:modelValue"],c=!0,i=o.initialValue?o.initialValue:"",u="",d=function(x){return l?function(){return V!=null&&V.value?V.value:""}:function(){return x?i:u}},g=function(){var x=d(c),C=y0(y0({},y),{readonly:o.disabled,target:A.value,plugins:kve(y.plugins,o.plugins),toolbar:o.toolbar||y.toolbar,inline:h,setup:function(_){s=_,_.on("init",function($){return Sve($,o,b,_,V,x)}),typeof y.setup=="function"&&y.setup(_)}});Tve(A.value)&&(A.value.style.visibility=""),l3().init(C),c=!1};ta(G,function(x){var C;s!==null&&(typeof((C=s.mode)===null||C===void 0?void 0:C.set)=="function"?s.mode.set(x?"readonly":"design"):s.setMode(x?"readonly":"design"))}),ta(L,function(x){var C;l||(u=s.getContent()),(C=l3())===null||C===void 0||C.remove(s),Ll(function(){return g()})}),Cg(function(){if(l3()!==null)g();else if(A.value&&A.value.ownerDocument){var x=o.cloudChannel?o.cloudChannel:"6",C=o.apiKey?o.apiKey:"no-api-key",_=Ave(o.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(C,"/tinymce/").concat(x,"/tinymce.min.js"):o.tinymceScriptSrc;Eve.load(A.value.ownerDocument,_,g)}}),dm(function(){l3()!==null&&l3().remove(s)}),h||(cq(function(){c||g()}),uq(function(){var x;l||(u=s.getContent()),(x=l3())===null||x===void 0||x.remove(s)}));var v=function(x){var C;u=s.getContent(),(C=l3())===null||C===void 0||C.remove(s),y=y0(y0(y0({},y),x),eQ),Ll(function(){return g()})};return b.expose({rerender:v,getEditor:function(){return s}}),function(){return h?Lve(um,m,A,o.tagName):Dve(um,m,A)}}});const Ove={components:{"tiny-editor":$ve},props:{cellData:{type:Object,required:!0}},data(){return this.$devMode?{init:{plugins:"autoresize",toolbar:"undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist | forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile image media template link anchor codesample | ltr rtl",branding:!1,menubar:!1,statusbar:!1,skin:!1,content_css:!1,content_style:"body { background-color: #1B2F3C; color: #FFFFFF; } main { border-radius: 0; }",autoresize_bottom_margin:10,min_height:100},items:[{title:"Code"},{title:"SQL"},{title:"Markdown"},{title:"Text"}]}:{init:{plugins:"autoresize",toolbar:!1,branding:!1,menubar:!1,statusbar:!1,skin:!1,content_css:!1,content_style:"body { background-color: #1B2F3C; color: #FFFFFF; } main { border-radius: 0; }"},items:[{title:"Code"},{title:"SQL"},{title:"Markdown"},{title:"Text"}]}},methods:{saveCell(){this.$emit("saveCell",this.cellData.id)},deleteCell(){this.$emit("deleteCell",this.cellData.id)},createCell(o){this.$emit("createCell",this.cellData.id,o)}}};const Pve=ff("span",{class:"py-0 px-2"},".doc",-1);function Ive(o,b,y,T,G,V){const L=A0("tiny-editor");return mo(),Ts(Uo,null,[ct(M3,{flat:"",color:"bluegrey"},{default:jr(()=>[o.$devMode?(mo(),za(sm,{key:0,"no-gutters":"",class:"py-1 toolbar-bg"},{default:jr(()=>[ct(kp,{cols:11},{default:jr(()=>[Pve]),_:1}),ct(kp,{cols:1,class:"d-flex justify-end align-center py-0"},{default:jr(()=>[ct(js,{small:"",class:"mx-1",color:"primary",onClick:V.saveCell},{default:jr(()=>[ii(" mdi-content-save ")]),_:1},8,["onClick"]),ct(js,{small:"",class:"mx-1",color:"error",onClick:V.deleteCell},{default:jr(()=>[ii(" mdi-delete ")]),_:1},8,["onClick"])]),_:1})]),_:1})):cm("",!0),o.$devMode?(mo(),za(L,{key:1,modelValue:y.cellData.code,"onUpdate:modelValue":b[0]||(b[0]=A=>y.cellData.code=A),init:o.init},null,8,["modelValue","init"])):(mo(),za(L,{key:2,modelValue:y.cellData.code,"onUpdate:modelValue":b[1]||(b[1]=A=>y.cellData.code=A),init:o.init,disabled:!0},null,8,["modelValue","init"]))]),_:1}),ct(O2,{transition:"scale-transition"},{activator:jr(({props:A})=>[ct(dc,Jo(A,{block:""}),{default:jr(()=>[ct(sm,null,{default:jr(()=>[ct(js,{color:"primary"},{default:jr(()=>[ii("mdi-plus")]),_:1})]),_:1})]),_:2},1040)]),default:jr(()=>[ct($2,null,{default:jr(()=>[(mo(!0),Ts(Uo,null,uf(o.items,(A,s)=>(mo(),za(fm,{key:s},{default:jr(()=>[ct(dc,{block:"",onClick:m=>V.createCell(A.title)},{default:jr(()=>[ii(Sp(A.title),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})],64)}const Nve=Vy(Ove,[["render",Ive]]);var Fve={exports:{}};(function(o,b){ace.define("ace/mode/sql_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(y,T,G){var V=y("../lib/oop"),L=y("./text_highlight_rules").TextHighlightRules,A=function(){var s="select|insert|update|delete|from|where|and|or|group|by|order|limit|offset|having|as|case|when|then|else|end|type|left|right|join|on|outer|desc|asc|union|create|table|primary|key|if|foreign|not|references|default|null|inner|cross|natural|database|drop|grant|distinct|is|in",m="true|false",h="avg|count|first|last|max|min|sum|ucase|lcase|mid|len|round|rank|now|format|coalesce|ifnull|isnull|nvl",l="int|numeric|decimal|date|varchar|char|bigint|float|double|bit|binary|text|set|timestamp|money|real|number|integer",c=this.createKeywordMapper({"support.function":h,keyword:s,"constant.language":m,"storage.type":l},"identifier",!0);this.$rules={start:[{token:"comment",regex:"--.*$"},{token:"comment",start:"/\\*",end:"\\*/"},{token:"string",regex:'".*?"'},{token:"string",regex:"'.*?'"},{token:"string",regex:"`.*?`"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:c,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\/|\\/\\/|%|<@>|@>|<@|&|\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"paren.lparen",regex:"[\\(]"},{token:"paren.rparen",regex:"[\\)]"},{token:"text",regex:"\\s+"}]},this.normalizeRules()};V.inherits(A,L),T.SqlHighlightRules=A}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(y,T,G){var V=y("../../lib/oop"),L=y("../../range").Range,A=y("./fold_mode").FoldMode,s=T.FoldMode=function(m){m&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+m.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+m.end)))};V.inherits(s,A),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(m,h,l){var c=m.getLine(l);if(this.singleLineBlockCommentRe.test(c)&&!this.startRegionRe.test(c)&&!this.tripleStarBlockCommentRe.test(c))return"";var i=this._getFoldWidgetBase(m,h,l);return!i&&this.startRegionRe.test(c)?"start":i},this.getFoldWidgetRange=function(m,h,l,c){var i=m.getLine(l);if(this.startRegionRe.test(i))return this.getCommentRegionBlock(m,i,l);var g=i.match(this.foldingStartMarker);if(g){var u=g.index;if(g[1])return this.openingBracketBlock(m,g[1],l,u);var d=m.getCommentFoldRange(l,u+g[0].length,1);return d&&!d.isMultiLine()&&(c?d=this.getSectionRange(m,l):h!="all"&&(d=null)),d}if(h!=="markbegin"){var g=i.match(this.foldingStopMarker);if(g){var u=g.index+g[0].length;return g[1]?this.closingBracketBlock(m,g[1],l,u):m.getCommentFoldRange(l,u,-1)}}},this.getSectionRange=function(m,h){var l=m.getLine(h),c=l.search(/\S/),i=h,u=l.length;h=h+1;for(var d=h,g=m.getLength();++h<g;){l=m.getLine(h);var v=l.search(/\S/);if(v!==-1){if(c>v)break;var x=this.getFoldWidgetRange(m,"all",h);if(x){if(x.start.row<=i)break;if(x.isMultiLine())h=x.end.row;else if(c==v)break}d=h}}return new L(i,u,d,m.getLine(d).length)},this.getCommentRegionBlock=function(m,h,l){for(var c=h.search(/\s*$/),i=m.getLength(),u=l,d=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,g=1;++l<i;){h=m.getLine(l);var v=d.exec(h);if(v&&(v[1]?g--:g++,!g))break}var x=l;if(x>u)return new L(u,c,x,h.length)}}).call(s.prototype)}),ace.define("ace/mode/folding/sql",["require","exports","module","ace/lib/oop","ace/mode/folding/cstyle"],function(y,T,G){var V=y("../../lib/oop"),L=y("./cstyle").FoldMode,A=T.FoldMode=function(){};V.inherits(A,L),(function(){}).call(A.prototype)}),ace.define("ace/mode/sql",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/sql_highlight_rules","ace/mode/folding/sql"],function(y,T,G){var V=y("../lib/oop"),L=y("./text").Mode,A=y("./sql_highlight_rules").SqlHighlightRules,s=y("./folding/sql").FoldMode,m=function(){this.HighlightRules=A,this.foldingRules=new s,this.$behaviour=this.$defaultBehaviour};V.inherits(m,L),(function(){this.lineCommentStart="--",this.blockComment={start:"/*",end:"*/"},this.$id="ace/mode/sql",this.snippetFileId="ace/snippets/sql"}).call(m.prototype),T.Mode=m}),function(){ace.require(["ace/mode/sql"],function(y){o&&(o.exports=y)})}()})(Fve);var Bve={exports:{}};(function(o,b){ace.define("ace/snippets/sql.snippets",["require","exports","module"],function(y,T,G){G.exports="snippet tbl\n	create table ${1:table} (\n		${2:columns}\n	);\nsnippet col\n	${1:name}	${2:type}	${3:default ''}	${4:not null}\nsnippet ccol\n	${1:name}	varchar2(${2:size})	${3:default ''}	${4:not null}\nsnippet ncol\n	${1:name}	number	${3:default 0}	${4:not null}\nsnippet dcol\n	${1:name}	date	${3:default sysdate}	${4:not null}\nsnippet ind\n	create index ${3:$1_$2} on ${1:table}(${2:column});\nsnippet uind\n	create unique index ${1:name} on ${2:table}(${3:column});\nsnippet tblcom\n	comment on table ${1:table} is '${2:comment}';\nsnippet colcom\n	comment on column ${1:table}.${2:column} is '${3:comment}';\nsnippet addcol\n	alter table ${1:table} add (${2:column} ${3:type});\nsnippet seq\n	create sequence ${1:name} start with ${2:1} increment by ${3:1} minvalue ${4:1};\nsnippet s*\n	select * from ${1:table}\n"}),ace.define("ace/snippets/sql",["require","exports","module","ace/snippets/sql.snippets"],function(y,T,G){T.snippetText=y("./sql.snippets"),T.scope="sql"}),function(){ace.require(["ace/snippets/sql"],function(y){o&&(o.exports=y)})}()})(Bve);const Hve={components:{"ace-editor":eH,"v-data-table":aee},computed:{editorOptions(){return{showPrintMargin:!1,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0,autoScrollEditorIntoView:!0,highlightActiveLine:this.$devMode&&this.isFocused,highlightGutterLine:this.$devMode&&this.isFocused,minLines:1,maxLines:1/0}}},data(){return{isFocused:!1,items:[{title:"Code"},{title:"SQL"},{title:"Markdown"},{title:"Text"}]}},props:{cellData:{type:Object,required:!0}},mounted(){if(this.$devMode){const o=this.$refs.editor;o._editor.renderer.$cursorLayer.element.style.display="none"}window.addEventListener("keydown",this.handleKeyDown)},beforeUnmount(){window.removeEventListener("keydown",this.handleKeyDown)},methods:{handleKeyDown(o){this.isFocused&&o.ctrlKey&&o.key==="Enter"&&this.runCode()},handleFocus(o){if(o){const b=this.$refs.editor;b._editor.renderer.$cursorLayer.element.style.display=""}else{const b=this.$refs.editor;b._editor.renderer.$cursorLayer.element.style.display="none"}this.isFocused=o},runCode(){this.$emit("runCode",this.cellData.id)},deleteCell(){this.$emit("deleteCell",this.cellData.id)},createCell(o){this.$emit("createCell",this.cellData.id,o)}}},zve=ff("span",{class:"py-0 px-2"},".sql",-1),Vve={key:4},Uve=ff("p",{class:"text-caption text-disabled text-right"}," CTRL+Enter to run",-1),Wve=[Uve],Gve={class:"text-p"};function Zve(o,b,y,T,G,V){const L=A0("ace-editor");return mo(),Ts(Uo,null,[ct(M3,{flat:"",color:"bluegrey"},{default:jr(()=>[o.$devMode?(mo(),za(sm,{key:0,"no-gutters":"",class:"py-1 toolbar-bg"},{default:jr(()=>[ct(kp,{cols:11},{default:jr(()=>[zve]),_:1}),ct(kp,{cols:1,class:"d-flex justify-end align-center py-0"},{default:jr(()=>[ct(js,{small:"",class:"mx-1",color:"primary",onClick:V.runCode},{default:jr(()=>[ii(" mdi-play ")]),_:1},8,["onClick"]),ct(js,{small:"",class:"mx-1",color:"error",onClick:V.deleteCell},{default:jr(()=>[ii(" mdi-delete ")]),_:1},8,["onClick"])]),_:1})]),_:1})):cm("",!0),o.$devMode?(mo(),za(Ep,{key:1,modelValue:y.cellData.variable_name,"onUpdate:modelValue":b[0]||(b[0]=A=>y.cellData.variable_name=A),label:"Enter SQL variable name",density:"compact"},null,8,["modelValue"])):cm("",!0),o.$devMode?(mo(),za(L,{key:2,value:y.cellData.code,"onUpdate:value":b[1]||(b[1]=A=>y.cellData.code=A),ref:"editor",class:"editor",theme:"dracula",lang:"sql",onFocus:b[2]||(b[2]=A=>V.handleFocus(!0)),onBlur:b[3]||(b[3]=A=>V.handleFocus(!1)),options:V.editorOptions},null,8,["value","options"])):(mo(),za(Wse,{key:3},{default:jr(()=>[ct(Zse,null,{default:jr(()=>[ct(tee,{color:"bluegrey2"},{default:jr(()=>[ii(" View Source Code ")]),_:1}),ct(eee,null,{default:jr(()=>[ct(L,{value:y.cellData.code,"onUpdate:value":b[4]||(b[4]=A=>y.cellData.code=A),class:"editor",theme:"dracula",lang:"sql",readonly:!0,options:V.editorOptions},null,8,["value","options"])]),_:1})]),_:1})]),_:1})),o.$devMode?(mo(),Ts("div",Vve,Wve)):cm("",!0),(mo(!0),Ts(Uo,null,uf(y.cellData.components,A=>(mo(),za(V6,{key:A.id},{default:jr(()=>[(mo(),za(mg(A.component),Jo(A,{modelValue:A.value,"onUpdate:modelValue":s=>A.value=s},{[C0(A.triggerEvent)]:V.runCode}),null,16,["modelValue","onUpdate:modelValue"]))]),_:2},1024))),128)),ff("div",Gve,Sp(y.cellData.output),1)]),_:1}),ct(O2,{transition:"scale-transition"},{activator:jr(({props:A})=>[ct(dc,Jo(A,{block:""}),{default:jr(()=>[ct(sm,null,{default:jr(()=>[ct(js,{color:"primary"},{default:jr(()=>[ii("mdi-plus")]),_:1})]),_:1})]),_:2},1040)]),default:jr(()=>[ct($2,null,{default:jr(()=>[(mo(!0),Ts(Uo,null,uf(G.items,(A,s)=>(mo(),za(fm,{key:s},{default:jr(()=>[ct(dc,{block:"",onClick:m=>V.createCell(A.title)},{default:jr(()=>[ii(Sp(A.title),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})],64)}const jve=Vy(Hve,[["render",Zve]]);var Yve={exports:{}};(function(o,b){(function(){ace.require(["ace/mode/text"],function(y){o&&(o.exports=y)})})()})(Yve);var Kve={exports:{}};(function(o,b){(function(){ace.require(["ace/snippets/text"],function(y){o&&(o.exports=y)})})()})(Kve);const Xve={components:{"ace-editor":eH},data:()=>({updatingDependencies:!1}),props:{dependencies:{type:Object,required:!0}},computed:{editorOptions(){return{showPrintMargin:!1,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0,autoScrollEditorIntoView:!0,minLines:1,maxLines:1/0}}},methods:{async updateDependencies(){const o={dependencies:this.dependencies.value};await Oy.post("api/dependency_update",o),this.updatingDependencies=!1}}},Jve=ff("span",{class:"text-h5"},"Add Dependencies",-1);function Qve(o,b,y,T,G,V){const L=A0("ace-editor");return mo(),za(Fge,{modelValue:o.updatingDependencies,"onUpdate:modelValue":b[2]||(b[2]=A=>o.updatingDependencies=A),persistent:"",width:"1024"},{activator:jr(({props:A})=>[ct(dc,Jo({color:"primary"},A,{icon:"mdi-graph"}),null,16)]),default:jr(()=>[ct(M3,null,{default:jr(()=>[ct(Nse,null,{default:jr(()=>[Jve]),_:1}),ct(L,{value:y.dependencies.value,"onUpdate:value":b[0]||(b[0]=A=>y.dependencies.value=A),ref:"editor",class:"editor",theme:"dracula",lang:"text",options:V.editorOptions},null,8,["value","options"]),ct(Ise,null,{default:jr(()=>[ct(rie),ct(dc,{color:"blue-darken-1",variant:"text",onClick:b[1]||(b[1]=A=>o.updatingDependencies=!1)},{default:jr(()=>[ii(" Close ")]),_:1}),ct(dc,{color:"blue-darken-1",variant:"text",onClick:V.updateDependencies},{default:jr(()=>[ii(" Update ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const qve=Vy(Xve,[["render",Qve]]),e0e={components:{CodeComponent:Qpe,MarkdownComponent:vve,EditorComponent:Nve,SQLComponent:jve,PackageComponent:qve},data(){return{notebook:{},dependencies:{},timer:0,timerInterval:null,isCodeRunning:!1,requestQueue:[],componentChangeQueue:[],menu_items:[{title:"Code"},{title:"SQL"},{title:"Markdown"},{title:"Text"}]}},beforeMount(){window.addEventListener("beforeunload",this.clearState),window.addEventListener("unload",this.clearState)},beforeUnmount(){window.removeEventListener("beforeunload",this.clearState),window.removeEventListener("unload",this.clearState)},async created(){const o=await Oy.get("api/notebook");this.notebook=o.data.notebook,this.dependencies=o.data.dependencies},methods:{startTimer(){this.timer=0,this.timerInterval=setInterval(()=>{this.timer++},1)},stopTimer(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null)},async runCode(o){if(this.requestQueue.push(o),!this.isCodeRunning)for(;this.requestQueue.length>0;){if(!this.requestQueue.shift())continue;const y=[],T={};for(let A in this.notebook.cells){const s={id:A,code:this.notebook.cells[A].code,variable_name:this.notebook.cells[A].variable_name||"",cellType:this.notebook.cells[A].cellType};for(const m of this.notebook.cells[A].components)T[m.id]=m.value;y.push(s)}const G={originId:o,cells:y,components:T};this.isCodeRunning=!0,this.startTimer();const V=await Oy.post("api/runcode",G);this.stopTimer(),this.isCodeRunning=!1;const L=V.data;for(const A of L.cells)this.notebook.cells[A.id].components=A.components,this.notebook.cells[A.id].output=A.output,this.notebook.cells[A.id].layout=A.layout}},async componentValueChange(o,b,y){const T={};for(let L in this.notebook.cells)for(const A of this.notebook.cells[L].components)T[A.id]=A.value;const G={originId:o,componentId:b,components:T,userId:this.notebook.userId},V=this.componentChangeQueue.findIndex(L=>L.componentId===b);if(V!==-1?this.componentChangeQueue[V]=G:this.componentChangeQueue.push(G),!this.isCodeRunning)for(;this.componentChangeQueue.length>0;){const L=this.componentChangeQueue.shift();if(!L)continue;const A={originId:L.originId,components:L.components,userId:L.userId};this.isCodeRunning=!0,this.startTimer();const s=await Oy.post("api/component_run",A);this.stopTimer(),this.isCodeRunning=!1;const m=s.data;if(m.refresh){const h=await Oy.get("api/notebook");this.notebook=h.data.notebook,this.dependencies=h.data.dependencies}else for(const h of m.cells)this.notebook.cells[h.id].components=h.components,this.notebook.cells[h.id].output=h.output,this.notebook.cells[h.id].layout=h.layout}},navigateToApp(){window.open("https://zero-true.com/")},clearState:function(){const b={userId:this.notebook.userId};Oy.post("api/clear_state",b)},async createCodeCell(o,b){const y={cellType:b.toLowerCase(),position_key:o},G=(await Oy.post("api/create_cell",y)).data;let V={};o||(V[G.id]=G);for(let L in this.notebook.cells)V[L]=this.notebook.cells[L],o===L&&(V[G.id]=G);this.notebook.cells=V},async deleteCell(o){const b={cellId:o};await Oy.post("api/delete_cell",b),delete this.notebook.cells[o]},async saveCell(o){const b={id:o,text:this.notebook.cells[o].code};await Oy.post("api/save_text",b)},getComponent(o){switch(o){case"code":return"CodeComponent";case"text":return"EditorComponent";case"markdown":return"MarkdownComponent";case"sql":return"SQLComponent";default:throw new Error(`Unknown component type: ${o}`)}}}};const t0e={key:0,class:"d-flex align-center"};function n0e(o,b,y,T,G,V){const L=A0("PackageComponent");return mo(),za(bhe,{style:{"background-color":"#040607"}},{default:jr(()=>[ct(Ohe,{app:"",color:"bluegrey"},{default:jr(()=>[ct(dc,{size:"x-large",variant:"text",onClick:V.navigateToApp},{default:jr(()=>[ct(js,{start:"",size:"x-large",icon:"custom:ZTIcon"}),ii(" Zero-True ")]),_:1},8,["onClick"]),ct(rie),G.isCodeRunning?(mo(),Ts("div",t0e,[ct(tse,{indeterminate:"",color:"white",size:"24"}),ct(wE,{class:"ml-2",color:"white","text-color":"black"},{default:jr(()=>[ii(Sp(G.timer)+"ms ",1)]),_:1}),o.$devMode?(mo(),za(wE,{key:0,class:"ml-2",color:"white","text-color":"black"},{default:jr(()=>[ii(" Queue Length: "+Sp(G.requestQueue.length),1)]),_:1})):(mo(),za(wE,{key:1,class:"ml-2",color:"white","text-color":"black"},{default:jr(()=>[ii(" Queue Length: "+Sp(G.componentChangeQueue.length),1)]),_:1}))])):cm("",!0),o.$devMode?(mo(),za(L,{key:1,dependencies:G.dependencies},null,8,["dependencies"])):cm("",!0)]),_:1}),ct(epe,null,{default:jr(()=>[ct(V6,null,{default:jr(()=>[ct(O2,{transition:"scale-transition"},{activator:jr(({props:A})=>[ct(dc,Jo(A,{block:""}),{default:jr(()=>[ct(sm,null,{default:jr(()=>[ct(js,{color:"primary"},{default:jr(()=>[ii("mdi-plus")]),_:1})]),_:1})]),_:2},1040)]),default:jr(()=>[ct($2,null,{default:jr(()=>[(mo(!0),Ts(Uo,null,uf(G.menu_items,(A,s)=>(mo(),za(fm,{key:s},{default:jr(()=>[ct(dc,{block:"",onClick:m=>V.createCodeCell("",A.title)},{default:jr(()=>[ii(Sp(A.title),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),(mo(!0),Ts(Uo,null,uf(G.notebook.cells,A=>(mo(),za(V6,null,{default:jr(()=>[(mo(),za(mg(V.getComponent(A.cellType)),{cellData:A,onRunCode:V.runCode,onSaveCell:V.saveCell,onComponentChange:V.componentValueChange,onDeleteCell:V.deleteCell,onCreateCell:V.createCodeCell},null,40,["cellData","onRunCode","onSaveCell","onComponentChange","onDeleteCell","onCreateCell"]))]),_:2},1024))),256))]),_:1})]),_:1})}const r0e=Vy(e0e,[["render",n0e]]);const o0e="modulepreload",a0e=function(o,b){return new URL(o,b).href},Bre={},s0e=function(b,y,T){if(!y||y.length===0)return b();const G=document.getElementsByTagName("link");return Promise.all(y.map(V=>{if(V=a0e(V,T),V in Bre)return;Bre[V]=!0;const L=V.endsWith(".css"),A=L?'[rel="stylesheet"]':"";if(!!T)for(let h=G.length-1;h>=0;h--){const l=G[h];if(l.href===V&&(!L||l.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${V}"]${A}`))return;const m=document.createElement("link");if(m.rel=L?"stylesheet":o0e,L||(m.as="script",m.crossOrigin=""),m.href=V,document.head.appendChild(m),L)return new Promise((h,l)=>{m.addEventListener("load",h),m.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${V}`)))})})).then(()=>b()).catch(V=>{const L=new Event("vite:preloadError",{cancelable:!0});if(L.payload=V,window.dispatchEvent(L),!L.defaultPrevented)throw V})};async function i0e(){(await s0e(()=>import("./webfontloader-afe4bc24.js").then(b=>b.w),[],import.meta.url)).load({google:{families:["Pathway+Extreme:100,300,400,500,700,900&display=swap"]}})}const l0e={},c0e={id:"Capa_2","data-name":"Capa 2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 92.58 61.58"},u0e=ff("g",{id:"Capa_1-2","data-name":"Capa 1"},[ff("g",null,[ff("path",{class:"cls-1",d:"m77.14,15.44L61.7,0h-30.82l30.82,30.82v30.76l15.44-15.32,15.44-15.44-15.44-15.38Z"}),ff("path",{class:"cls-1",d:"m15.44,46.14l15.44,15.44h30.82l-30.82-30.82V0l-15.44,15.32L0,30.76l15.44,15.38Z"})])],-1),f0e=[u0e];function d0e(o,b){return mo(),Ts("svg",c0e,f0e)}const h0e=Vy(l0e,[["render",d0e]]),PQ={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function m0e(o,b){const y=[];let T=[];const G=Mie(o),V=Eie(o),L=(G.getDay()-PQ[b.slice(-2).toUpperCase()]+7)%7,A=(V.getDay()-PQ[b.slice(-2).toUpperCase()]+7)%7;for(let s=0;s<L;s++){const m=new Date(G);m.setDate(m.getDate()-(L-s)),T.push(m)}for(let s=1;s<=V.getDate();s++){const m=new Date(o.getFullYear(),o.getMonth(),s);T.push(m),T.length===7&&(y.push(T),T=[])}for(let s=1;s<7-A;s++){const m=new Date(V);m.setDate(m.getDate()+s),T.push(m)}return y.push(T),y}function Mie(o){return new Date(o.getFullYear(),o.getMonth(),1)}function Eie(o){return new Date(o.getFullYear(),o.getMonth()+1,0)}function g0e(o){const b=o.split("-").map(Number);return new Date(b[0],b[1]-1,b[2])}const p0e=/([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))/;function v0e(o){if(o==null)return new Date;if(o instanceof Date)return o;if(typeof o=="string"){let b;if(p0e.test(o))return g0e(o);if(b=Date.parse(o),!isNaN(b))return new Date(b)}return null}const Hre=new Date(2e3,0,2);function y0e(o){const b=PQ[o.slice(-2).toUpperCase()];return AE(7).map(y=>{const T=new Date(Hre);return T.setDate(Hre.getDate()+b+y),new Intl.DateTimeFormat(o,{weekday:"narrow"}).format(T)})}function b0e(o,b,y){const T=new Date(o);let G={};switch(b){case"fullDateWithWeekday":G={weekday:"long",day:"numeric",month:"long",year:"numeric"};break;case"normalDateWithWeekday":G={weekday:"short",day:"numeric",month:"short"};break;case"keyboardDate":G={};break;case"monthAndDate":G={month:"long",day:"numeric"};break;case"monthAndYear":G={month:"long",year:"numeric"};break;case"dayOfMonth":G={day:"numeric"};break;case"shortDate":G={year:"numeric"};break;default:G={timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(y,G).format(T)}function x0e(o,b){const y=new Date(o);return y.setDate(y.getDate()+b),y}function w0e(o,b){const y=new Date(o);return y.setMonth(y.getMonth()+b),y}function C0e(o){return o.getFullYear()}function S0e(o){return o.getMonth()}function T0e(o){return new Date(o.getFullYear(),0,1)}function k0e(o){return new Date(o.getFullYear(),11,31)}function A0e(o,b){return IQ(o,b[0])&&E0e(o,b[1])}function M0e(o){if(!o||o==null)return!1;const b=new Date(o);return b instanceof Date&&!isNaN(b.getTime())}function IQ(o,b){return o.getTime()>b.getTime()}function E0e(o,b){return o.getTime()<b.getTime()}function zre(o,b){return o.getTime()===b.getTime()}function _0e(o,b){return o.getDate()===b.getDate()&&o.getMonth()===b.getMonth()&&o.getFullYear()===b.getFullYear()}function R0e(o,b){return o.getMonth()===b.getMonth()&&o.getFullYear()===b.getFullYear()}function L0e(o,b,y){const T=new Date(o),G=new Date(b);return y==="month"?T.getMonth()-G.getMonth()+(T.getFullYear()-G.getFullYear())*12:Math.floor((T.getTime()-G.getTime())/(1e3*60*60*24))}function D0e(o,b){const y=new Date(o);return y.setFullYear(b),y}function $0e(o){return new Date(o.getFullYear(),o.getMonth(),o.getDate())}function O0e(o){return new Date(o.getFullYear(),o.getMonth(),o.getDate(),23,59,59,999)}class P0e{constructor(b){this.locale=b.locale}date(b){return v0e(b)}toJsDate(b){return b}addDays(b,y){return x0e(b,y)}addMonths(b,y){return w0e(b,y)}getWeekArray(b){return m0e(b,this.locale)}startOfMonth(b){return Mie(b)}endOfMonth(b){return Eie(b)}format(b,y){return b0e(b,y,this.locale)}isEqual(b,y){return zre(b,y)}isValid(b){return M0e(b)}isWithinRange(b,y){return A0e(b,y)}isAfter(b,y){return IQ(b,y)}isBefore(b,y){return!IQ(b,y)&&!zre(b,y)}isSameDay(b,y){return _0e(b,y)}isSameMonth(b,y){return R0e(b,y)}setYear(b,y){return D0e(b,y)}getDiff(b,y,T){return L0e(b,y,T)}getWeekdays(){return y0e(this.locale)}getYear(b){return C0e(b)}getMonth(b){return S0e(b)}startOfDay(b){return $0e(b)}endOfDay(b){return O0e(b)}startOfYear(b){return T0e(b)}endOfYear(b){return k0e(b)}}const Vre=Symbol.for("vuetify:date-adapter");function I0e(o){return gg({adapter:P0e,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},o)}function _ie(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:b,...y}=o,T=gg(b,y),{aliases:G={},components:V={},directives:L={}}=T,A=Kde(T.defaults),s=rge(T.display,T.ssr),m=vhe(T.theme),h=Vhe(T.icons),l=mhe(T.locale),c=I0e(T.date);return{install:u=>{for(const d in L)u.directive(d,L[d]);for(const d in V)u.component(d,V[d]);for(const d in G)u.component(d,IE({...G[d],name:d,aliasName:G[d].name}));if(m.install(u),u.provide(_E,A),u.provide(LQ,s),u.provide(EB,m),u.provide(TQ,h),u.provide(MB,l),u.provide(Vre,c),yl&&T.ssr)if(u.$nuxt)u.$nuxt.hook("app:suspense:resolve",()=>{s.update()});else{const{mount:d}=u;u.mount=function(){const g=d(...arguments);return Ll(()=>s.update()),u.mount=d,g}}Rp.reset(),u.mixin({computed:{$vuetify(){return ih({defaults:hE.call(this,_E),display:hE.call(this,LQ),theme:hE.call(this,EB),icons:hE.call(this,TQ),locale:hE.call(this,MB),date:hE.call(this,Vre)})}}})},defaults:A,display:s,theme:m,icons:h,locale:l,date:c}}const N0e="3.3.20";_ie.version=N0e;function hE(o){var T,G;const b=this.$,y=((T=b.parent)==null?void 0:T.provides)??((G=b.vnode.appContext)==null?void 0:G.provides);if(y&&o in y)return y[o]}const F0e={ZTIcon:h0e},B0e={component:o=>um(o.tag,[um(F0e[o.icon],{class:"v-icon__svg"})])},H0e=_ie({theme:{defaultTheme:"light",themes:{light:{dark:!0,colors:{primary:"#AE9FE8",secondary:"#424242",bluegrey:"#0E1B23",bluegrey2:"#1B2F3C",accent:"#FFDCA7",error:"#FF6F6F",info:"#4CBCFC",success:"#16B48E",warning:"#F49E6E"}}}},icons:{defaultSet:"mdi",sets:{mdi:Jae,custom:B0e}}});function z0e(o){i0e(),o.use(H0e)}const lee=Gfe(r0e);z0e(lee);lee.config.globalProperties.$devMode=!1;lee.mount("#app");export{dae as g};
